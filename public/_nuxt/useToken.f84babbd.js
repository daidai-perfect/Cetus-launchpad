import{e as g,i as b,c as p}from"./index.c41a185a.js";import{f as k}from"./fetchFun.ff4aae28.js";import{D as O,m as T}from"./entry.1afe32c4.js";import{u as d}from"./useSDK.3292c0ee.js";const f=O("SuiTokenStore",{state:()=>({allTokensObj:{},allTokensList:[]}),getters:{getToken:s=>n=>{var l,t;return console.log("ðŸš€ ~ file: token.ts:13 ~ coinType:",n),console.log("ðŸš€ ~ file: token.ts:13 ~ state.allTokensObj?.[coinType]:",(l=s.allTokensObj)==null?void 0:l[n]),(t=s.allTokensObj)==null?void 0:t[n]}},actions:{setAllTokensObj(s){this.allTokensObj={...this.allTokensObj,...s}},setAllTokensList(s,n){if(this.allTokensList=s,!n){const l=Object.fromEntries(s.map(t=>{var a;return[(a=g(t.coin_type))==null?void 0:a.full_address,{...t,address:t.coin_type,isSelfBuilt:!t.is_trusted,logoURI:t.logo_url}]}));this.setAllTokensObj(l)}}},persist:!0});function _(){const s=d(),{setAllTokensList:n,allTokensList:l}=f(),t=f(),a=T(()=>t),i=T(()=>a.value.allTokensObj),j=async()=>{try{const e=await k(`${p.Sui.api}/v2/sui/coins_info`);if(!(e!=null&&e.list))throw Error("fetchTokenList list is null");return e==null?void 0:e.list}catch{if(l)return l;const o=await k("/data/coins_info.json");return(o==null?void 0:o.list)||[]}},r=async()=>{const e=await j();e&&n(e)},c=async e=>{const o=await s.clmmSdk.CetusConfig.getTokenListByCoinTypes([e]);if(o)return Object.values(o)[0]};return{getTokenList:r,getToken:async e=>{var u;const o=(u=g(e))==null?void 0:u.full_address;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: useToken.ts:60 ~ getToken ~ allTokensObj.value:",i.value),i.value&&b(i.value)&&r(),i.value[o]?i.value[o]:await c(o)},getTokenBySdk:c}}export{f as a,_ as u};
