import{C as U,X as i}from"./index.5fd539ec.js";import{v as h,s as l,D as u}from"./pool.3b6c39ad.js";import{c as a,a as I}from"./sha256.0934ce98.js";import{a0 as W,m as A,O as K}from"./entry.0541b11c.js";function z(s){const g={launchpad:a[s||"Sui"].launchpad,ido:a[s||"Sui"].ido,xcetus:a[s||"Sui"].xcetus,xcetus_dividends:a[s||"Sui"].xcetus_dividends,cetus_faucet:a[s||"Sui"].cetus_faucet,xtoken:a[s||"Sui"].xtoken,xtoken_dividends:a[s||"Sui"].xtoken_dividends,token_faucet:a[s||"Sui"].token_faucet,booster:a[s||"Sui"].booster,maker_bonus:a[s||"Sui"].maker_bonus},m={fullRpcUrl:localStorage.getItem(`${s}-currentRpclocalnew`)||a[s||"Sui"].fullRpcUrl,simulationAccount:a[s||"Sui"].simulationAccount,cetus_config:a[s||"Sui"].cetus_config,clmm_pool:a[s||"Sui"].clmm_pool,integrate:a[s||"Sui"].integrate,deepbook:a[s||"Sui"].deepbook,deepbook_endpoint_v2:a[s||"Sui"].deepbook_endpoint_v2,aggregatorUrl:a[s||"Sui"].aggregatorUrl},w=new h(m),n=W(new U(g,w)),C=I(),d=A(()=>C);K(()=>{d.value.address&&(n.ClmmSDK.senderAddress=d.value.address)});const v=async e=>{const t=await n.XCetusModule.getOwnerLockCetuss(e);return console.log(t,"===>lockWhales"),t},y=async(e,t)=>{const o=i.getAvailableXCetus(e,t);return console.log(o,"==>availableXwhale"),o},p=async e=>{const t=await n.XCetusModule.getOwnerCetusCoins(e);return console.log(t,"===>coins"),t},S=async e=>await n.XCetusModule.getOwnerVeNFT(e),f=async(e,t)=>{const o={amount:e};t&&(o.venft_id=t);const r=await n.XCetusModule.convertPayload(o);return c(r)},M=async()=>{const e=await n.XCetusModule.mintVeNFTPayload();return c(e)},_=async(e,t)=>{const o=await n.XCetusModule.redeemNum(e,t);return console.log(o,"result===>"),{amountOut:o.amountOut,percent:l(new u(o.percent).mul(new u(100)).toString(),2)}},k=async(e,t)=>{const o=await n.XCetusModule.reverseRedeemNum(e,t);return{amountOut:o.amountOut,percent:l(new u(o.percent).mul(new u(100)).toString(),2)}},x=async(e,t,o)=>{const r=await n.XCetusModule.redeemLockPayload({venft_id:t,amount:e,lock_day:o});return console.log(r,"tx===>"),c(r)},X=e=>i.getLockingCetuss(e),D=async(e,t)=>{const o=await n.XCetusModule.getLockCetus(e);if(o&&i.isLocked(o)){const r=n.XCetusModule.cancelRedeemPayload({venft_id:t,lock_id:e});return c(r)}},b=async(e,t)=>{const o=await n.XCetusModule.getLockCetus(e);if(o&&!i.isLocked(o)){const r=await n.XCetusModule.redeemPayload({venft_id:t,lock_id:e});return c(r)}},P=e=>{const t=Date.parse(new Date().toString())/1e3,o=new u(t).sub(e.start_time).div(new u(e.interval_day).mul(60)).toFixed(0,u.ROUND_UP),r=new u(e.start_time).add(new u(o).mul(60*e.interval_day));return console.log(r,"===>nextStartTime"),r.toString()},T=async()=>{const e=await n.XCetusModule.getDividendManager();console.log("dividendManager:",e);const t=P(e);return console.log(t,"===>nextStartTime"),{nextStartTime:t,...e}},O=async(e,t)=>{const o=await n.XCetusModule.getVeNFTDividendInfo(t.venft_dividends.id,e);return{rewards:o&&o.rewards||[]}},R=async e=>{const t=await n.XCetusModule.getDividendManager();if(console.log("dividendManager: ",t),t.bonus_types.length>0){const o=await n.XCetusModule.redeemDividendPayload(e,t.bonus_types);return c(o)}},F=async e=>{const t=await n.XCetusModule.getDividendManager();if(console.log("dividendManager: ",t),t.bonus_types.length>0){const o=await n.XCetusModule.redeemDividendV2Payload(e,t.bonus_types);return c(o)}},L=async e=>{const t=await n.XCetusModule.getOwnerVeNFT(e);if(console.log("nfts: ",t),t){const o=await n.XCetusModule.getXcetusManager();console.log("xcetusManager: ",o);const r=new u(t.xcetus_balance).div(o.treasury).mul(100).toString();return console.log("rate: ",r),Number(r)>0&&Number(r)<.01?"<0.01":l(r,2)}else return 0},c=e=>({transactionBlock:e,options:{showEffects:!0,showEvents:!0,showInput:!0,showRawInput:!0,showObjectChanges:!0,showBalanceChanges:!0}});return{getOwnerLockCetuss:v,getOwnerCetusCoins:p,getOwnerVeNFT:S,depositCetus:f,getMintVeNFTPayload:M,redeemNum:_,getRedeemLockPayload:x,getAvailableXCetus:y,getLockingCetuss:X,getCancelRedeemPayload:D,getVeNFTDividendInfo:O,reverseRedeemNum:k,getRedeemPayload:b,getRedeemDividendPayload:R,getMyShare:L,getDividendManager:T,getPeriod:e=>{const t=Date.now()/1e3,{start_time:o,interval_day:r}=e,V=Math.ceil((t-o)/(r*60));return console.log(t,"===>currentTime"),console.log(o,"===>start_time"),console.log(t-o,"===>currentTime-start_time"),console.log((t-o)/(r*60),"(currentTime - start_time) / (interval_day * 60)"),V},getRedeemDividendV2Payload:F}}export{z as u};
