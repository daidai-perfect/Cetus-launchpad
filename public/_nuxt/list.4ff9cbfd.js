import{_ as oe}from"./pool-position-tab.ce27ae35.js";import{u as te,P as le}from"./pool-filter-block.2078674c.js";import{R as N,a as se,A as ae,T as ie,b as ne,P as re}from"./to-add.d145a7ab.js";import{u as K}from"./useToken.0805a377.js";import{u as Q}from"./pool.526d7aad.js";import{u as ue}from"./stats.d838840b.js";import{c as ce,f as de}from"./index.53802624.js";import{H as pe,T as ve,N as me}from"./h5-table-card.9488c77e.js";import{a as fe,r as C,m as c,D as U,y as X,M as _e,o as b,f as B,h as s,i as a,c as G,w as J,v as D,x as he,p as ge,k as Pe,e as Y,N as be,C as ye}from"./entry.3904e7e8.js";import{u as Se}from"./useStatsData.557170cd.js";import"./select-tab.f8b49ba9.js";import"./pool.0398eb5e.js";import"./decimal.0bdeb344.js";import"./filter-pool-by-coin.52d023d5.js";import"./coin-select.794e7f6f.js";import"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./token-warning_2x.0e074549.js";import"./img-no-Positions_2x.8975fa6e.js";import"./img-no-Positions_2x.9894e4f3.js";import"./coin-img.20fdf787.js";import"./token-warning-new.e342c271.js";import"./token.3e83f2f3.js";import"./is-all-pool.102677e4.js";/* empty css              */import"./icon-selected_3x.873560ed.js";import"./fetchFun.616185f1.js";import"./nuxt-link.d04e7e6d.js";import"./icon_farms_2x.912b11b2.js";import"./farms.8ac64a96.js";import"./icon_autopools_2x.557b3017.js";import"./icon_autopools_2x.5bec7db0.js";import"./icon_fee_2x.aeadb93b.js";import"./icon_rewards_2x.dd01a6a5.js";import"./index.1db57e92.js";import"./formatter.6e1609f0.js";const I=y=>(ge("data-v-73e485a2"),y=y(),Pe(),y),Ae={class:"h5-table"},Le={class:"pc-table"},ke={key:1,class:"virtual-table"},Te=I(()=>s("th",null,"Pool",-1)),we=I(()=>s("th",null,"Mining Rewards",-1)),xe=I(()=>s("th",null,"Actions",-1)),Ne={class:"action"},Ce=fe({__name:"pool-list-table",setup(y){const u=C([]),S=c(()=>u.value.map(n=>Object.assign({},{random:Math.random()},n)));U(()=>S.value,i=>{console.log("pool-list-table è™šæ‹Ÿdom list: ",i)});const{getTokenList:M,getToken:w}=K(),A=Q(),p=c(()=>A),F=c(()=>(console.log("ðŸš€ ~ poolList ~ suiPool.value.poolList:",p.value.poolList),p.value.poolList)),L=c(()=>p.value.isAllPool),f=c(()=>p.value.incentiveTypeList),k=c(()=>p.value.selectLabel),r=c(()=>p.value.filterPoolCoinList),Z=ue(),E=c(()=>Z),V=c(()=>E.value.poolsStatsObj),ee=c(()=>E.value.isStatsApiError),W=async(i,n)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",i,n);let _=[];for(let e=0;e<n.length;e++){const o=n[e],h=i[o.address],g=await w(n[e].displayTokenAAddress),P=await w(n[e].displayTokenBAddress),R=[];g!=null&&g.labels&&R.push(...g.labels),P!=null&&P.labels&&R.push(...P.labels);let j=!1,z=!1;h&&h.stableFarming&&h.stableFarming.length>0&&(j=!0),h&&h.autoPool&&h.autoPool.clmm_pool&&(z=!0);const O={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...h,tokenA:g,tokenB:P,labels:[...new Set(R)],isFarming:j,isVaults:z};(!L.value&&g.is_trusted&&P.is_trusted||L.value)&&_.push(O)}let d=[];f.value.length>0?_.forEach(e=>{(f.value.includes("Mining")&&e.haveMining||f.value.includes("Farming")&&e.isFarming||f.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&d.push(e)}):d=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",d);let l=[];k.value!=="All"?d.forEach(e=>{e.labels.includes(k.value)&&l.push(e)}):l=d;let x=[];r.value&&r.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",r.value.length),l.forEach(e=>{r.value.length==2&&(r.value[0]==e.displayTokenAAddress||r.value[0]==e.displayTokenBAddress)&&(r.value[1]==e.displayTokenAAddress||r.value[1]==e.displayTokenBAddress)&&x.push(e),r.value.length==1&&(r.value[0]==e.displayTokenAAddress||r.value[0]==e.displayTokenBAddress)&&x.push(e)})):x=l;let v=x,m=[];t.value.label=="Volume (24H)"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.volume24-e.volume24):v.sort((e,o)=>e.volume24-o.volume24)),t.value.label=="Liquidity"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.tvl-e.tvl):v.sort((e,o)=>e.tvl-o.tvl)),t.value.label=="Fees (24H)"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.fees24-e.fees24):v.sort((e,o)=>e.fees24-o.fees24)),t.value.label=="APR (24H)"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.totalApr-e.totalApr):v.sort((e,o)=>e.totalApr-o.totalApr)),A.setPoolListNum(m&&m.length),u.value=m,A.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",m)},t=C({label:"Volume (24H)",sort:"desc"}),T=i=>{t.value=i,W(V.value,F.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",t.value)},H=c(()=>p.value.isPoolLoading);U(()=>[V.value,F.value,ee.value,L.value,f.value,k.value,r.value],([i,n,_])=>{console.log("ðŸš€ ~ watch ~ poolsStatsObj:",n,i),(i&&!ce(i)||_)&&n&&n.length>0&&W(i,n)},{immediate:!0});const $=C(null);X(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),window.scroller=$.value});const q=[{title:"Pools",hasSort:!1,tdWidth:"370px",isNotShowTitle:!0,component:"pool-name-block"},{title:"Liquidity",hasSort:!0,tdWidth:"150px",value:"tvlDisplay"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px",value:"volume24Display"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px",value:"fees24Display"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px",component:"reward-coin"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px",component:"apr-tips"},{title:"Actions",hasSort:!1,tdWidth:"180px",isNotShowTitle:!0,component:"swap-add"}];return(i,n)=>{const _=re,d=_e("RecycleScroller");return b(),B("div",null,[s("div",Ae,[a(pe,{"h5-title":"Pools","key-field":"poolAddress","sort-info":t.value,"item-size":325,"data-source-length":10,loading:H.value,columns:q,"data-source":u.value,"card-action":"swap-add",onChangeSort:T},null,8,["sort-info","loading","data-source"])]),s("div",Le,[H.value?(b(),G(ve,{key:0,columns:q,"data-source-length":10})):(b(),B("table",ke,[a(d,{ref_key:"scroller",ref:$,class:"scroller",items:S.value,"item-size":86,"key-field":"address","page-mode":"",full:"",page:"",prerender:20,buffer:500},{before:J(()=>[s("thead",null,[Te,a(N,{label:"Liquidity","sort-info":t.value,onSort:T},null,8,["sort-info"]),a(N,{label:"Volume (24H)","sort-info":t.value,onSort:T},null,8,["sort-info"]),a(N,{label:"Fees (24H)","sort-info":t.value,onSort:T},null,8,["sort-info"]),we,a(N,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":t.value,onSort:T},null,8,["sort-info"]),xe])]),default:J(({item:l})=>[(b(),B("tr",{key:l.address},[s("td",null,[a(_,{"pool-info":l},null,8,["pool-info"])]),s("td",null,D(l.tvlDisplay||"$0"),1),s("td",null,D(l.volume24Display||"$0"),1),s("td",null,D(l.fees24Display||"$0"),1),s("td",null,[a(se,{"reward-list":l.miningRewardList||[]},null,8,["reward-list"])]),s("td",null,[a(ae,{"pool-info":l},null,8,["pool-info"])]),s("td",null,[s("div",Ne,[a(ie,{"from-coin-address":l.tokenAAddress,"to-coin-address":l.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),a(ne,{"pool-address":l.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])]))]),!H.value&&u.value&&u.value.length==0?(b(),G(me,{key:0,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):he("",!0)])}}});const Be=Y(Ce,[["__scopeId","data-v-73e485a2"]]);const Fe={class:"pools-list-container"},He={__name:"list",setup(y){const u=Q(),S=C(!1),{getPoolList:M}=te(),{getStatusData:w}=Se(),{getTokenList:A}=K();return X(async()=>{await de(1e3),S.value=!0}),be(()=>{S.value&&(M(),A(),w())}),ye(()=>{u.setIncentiveTypeList(""),u.setPoolListNum(""),u.setIsAllPool(!0),u.setLabel("All"),u.setFilterPoolCoinList([])}),(p,F)=>{const L=oe,f=le,k=Be;return b(),B("div",Fe,[a(L,{"current-tab":"Pools"}),a(f),a(k)])}}},go=Y(He,[["__scopeId","data-v-6230e8f3"]]);export{go as default};
