import{_ as oe}from"./pool-position-tab.f62a786b.js";import{u as te,P as le}from"./pool-filter-block.cf427625.js";import{R as T,a as se,A as ae,T as ie,b as ne,P as re}from"./to-add.931f49de.js";import{u as ue}from"./useToken.6dad11ae.js";import{u as Q}from"./pool.d76a72f3.js";import{u as ce}from"./stats.808edb92.js";import{c as de}from"./index.9a18b0fa.js";import{u as pe}from"./useStatsData.2f848329.js";import{H as ve,T as me,N as fe}from"./h5-table-card.28024282.js";import{a as _e,r as D,m as u,D as he,y as X,M as ge,o as P,f as w,h as s,i as a,c as J,w as K,v as I,x as be,p as Pe,k as Se,e as Y,C as ye}from"./entry.5ab2e052.js";import"./select-tab.f6fb2ce3.js";import"./pool.bfdb664c.js";import"./decimal.0bdeb344.js";import"./filter-pool-by-coin.07389121.js";import"./coin-select.de5083d6.js";import"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./token-warning_2x.9b815d32.js";import"./img-no-Positions_2x.fa8a81ea.js";import"./img-no-Positions_2x.f6278433.js";import"./coin-img.f3028f4e.js";import"./token-warning-new.259e2e0b.js";import"./token.13dac837.js";import"./is-all-pool.f88e9ed7.js";/* empty css              */import"./icon-selected_3x.09e9a6f0.js";import"./fetchFun.4cb836ab.js";import"./nuxt-link.9c1005dc.js";import"./icon_farms_2x.84bf376f.js";import"./farms.42fe1902.js";import"./icon_autopools_2x.15f8c566.js";import"./icon_autopools_2x.b4f00087.js";import"./icon_fee_2x.57a012ac.js";import"./icon_rewards_2x.f4e64de9.js";import"./formatter.22643201.js";import"./index.ea9f07ed.js";const M=S=>(Pe("data-v-445f5628"),S=S(),Se(),S),Ae={class:"h5-table"},Le={class:"pc-table"},ke={key:1,class:"virtual-table"},Te=M(()=>s("th",null,"Pool",-1)),we=M(()=>s("th",null,"Mining Rewards",-1)),xe=M(()=>s("th",null,"Actions",-1)),Ce={class:"action"},Ne=_e({__name:"pool-list-table",setup(S){const{getPoolList:_}=te(),{getStatusData:E}=pe(),h=D([]),x=u(()=>h.value.map(i=>Object.assign({},{random:Math.random()},i))),{getTokenList:C,getToken:L}=ue(),N=Q(),v=u(()=>N),V=u(()=>(console.log("ðŸš€ ~ poolList ~ suiPool.value.poolList:",v.value.poolList),v.value.poolList)),B=u(()=>v.value.isAllPool),y=u(()=>v.value.incentiveTypeList),F=u(()=>v.value.selectLabel),n=u(()=>v.value.filterPoolCoinList),Z=ce(),W=u(()=>Z),$=u(()=>W.value.poolsStatsObj),ee=u(()=>W.value.isStatsApiError),q=async(r,i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,i);let m=[];for(let e=0;e<i.length;e++){const o=i[e],f=r[o.address],g=await L(i[e].displayTokenAAddress),b=await L(i[e].displayTokenBAddress),R=[];g!=null&&g.labels&&R.push(...g.labels),b!=null&&b.labels&&R.push(...b.labels);let O=!1,U=!1;f&&f.stableFarming&&f.stableFarming.length>0&&(O=!0),f&&f.autoPool&&f.autoPool.clmm_pool&&(U=!0);const G={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...f,tokenA:g,tokenB:b,labels:[...new Set(R)],isFarming:O,isVaults:U};(!B.value&&g.is_trusted&&b.is_trusted||B.value)&&m.push(G)}let c=[];y.value.length>0?m.forEach(e=>{(y.value.includes("Mining")&&e.haveMining||y.value.includes("Farming")&&e.isFarming||y.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&c.push(e)}):c=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",c);let l=[];F.value!=="All"?c.forEach(e=>{e.labels.includes(F.value)&&l.push(e)}):l=c;let k=[];n.value&&n.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",n.value.length),l.forEach(e=>{n.value.length==2&&(n.value[0]==e.displayTokenAAddress||n.value[0]==e.displayTokenBAddress)&&(n.value[1]==e.displayTokenAAddress||n.value[1]==e.displayTokenBAddress)&&k.push(e),n.value.length==1&&(n.value[0]==e.displayTokenAAddress||n.value[0]==e.displayTokenBAddress)&&k.push(e)})):k=l;let d=k,p=[];t.value.label=="Volume (24H)"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.volume24-e.volume24):d.sort((e,o)=>e.volume24-o.volume24)),t.value.label=="Liquidity"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.tvl-e.tvl):d.sort((e,o)=>e.tvl-o.tvl)),t.value.label=="Fees (24H)"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.fees24-e.fees24):d.sort((e,o)=>e.fees24-o.fees24)),t.value.label=="APR (24H)"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.totalApr-e.totalApr):d.sort((e,o)=>e.totalApr-o.totalApr)),N.setPoolListNum(p&&p.length),h.value=p,N.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",p)},t=D({label:"Volume (24H)",sort:"desc"}),A=r=>{t.value=r,q($.value,V.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",t.value)},H=u(()=>v.value.isPoolLoading);he(()=>[$.value,V.value,ee.value,B.value,y.value,F.value,n.value],([r,i,m])=>{console.log("ðŸš€ ~ watch ~ poolsStatsObj:",i,r),(r&&!de(r)||m)&&i&&i.length>0&&q(r,i)},{immediate:!0});const j=D(null);X(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),_(),C(),E(),window.scroller=j.value});const z=[{title:"Pools",hasSort:!1,tdWidth:"370px",isNotShowTitle:!0,component:"pool-name-block"},{title:"Liquidity",hasSort:!0,tdWidth:"150px",value:"tvlDisplay"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px",value:"volume24Display"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px",value:"fees24Display"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px",component:"reward-coin"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px",component:"apr-tips"},{title:"Actions",hasSort:!1,tdWidth:"180px",isNotShowTitle:!0,component:"swap-add"}];return(r,i)=>{const m=re,c=ge("RecycleScroller");return P(),w("div",null,[s("div",Ae,[a(ve,{"h5-title":"Pools","key-field":"poolAddress","sort-info":t.value,"item-size":300,"data-source-length":10,loading:H.value,columns:z,"data-source":h.value,"card-action":"swap-add",onChangeSort:A},null,8,["sort-info","loading","data-source"])]),s("div",Le,[H.value?(P(),J(me,{key:0,columns:z,"data-source-length":10})):(P(),w("table",ke,[a(c,{ref_key:"scroller",ref:j,class:"scroller",items:x.value,"item-size":80,"page-mode":"","key-field":"address"},{before:K(()=>[s("thead",null,[Te,a(T,{label:"Liquidity","sort-info":t.value,onSort:A},null,8,["sort-info"]),a(T,{label:"Volume (24H)","sort-info":t.value,onSort:A},null,8,["sort-info"]),a(T,{label:"Fees (24H)","sort-info":t.value,onSort:A},null,8,["sort-info"]),we,a(T,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":t.value,onSort:A},null,8,["sort-info"]),xe])]),default:K(({item:l})=>[(P(),w("tr",{key:l.address},[s("td",null,[a(m,{"pool-info":l},null,8,["pool-info"])]),s("td",null,I(l.tvlDisplay||"$0"),1),s("td",null,I(l.volume24Display||"$0"),1),s("td",null,I(l.fees24Display||"$0"),1),s("td",null,[a(se,{"reward-list":l.miningRewardList||[]},null,8,["reward-list"])]),s("td",null,[a(ae,{"pool-info":l},null,8,["pool-info"])]),s("td",null,[s("div",Ce,[a(ie,{"from-coin-address":l.tokenAAddress,"to-coin-address":l.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),a(ne,{"pool-address":l.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])]))]),!H.value&&h.value&&h.value.length==0?(P(),J(fe,{key:0,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):be("",!0)])}}});const Be=Y(Ne,[["__scopeId","data-v-445f5628"]]);const Fe={class:"pools-list-container"},He={__name:"list",setup(S){const _=Q();return X(()=>{}),ye(()=>{_.setIncentiveTypeList(""),_.setIsAllPool(!0),_.setLabel("All"),_.setFilterPoolCoinList([])}),(E,h)=>{const x=oe,C=le,L=Be;return P(),w("div",Fe,[a(x,{"current-tab":"Pools"}),a(C),a(L)])}}},go=Y(He,[["__scopeId","data-v-34bb979d"]]);export{go as default};
