import{P as oe}from"./pool-position-tab.eb7b369b.js";import{u as te,P as le}from"./pool-filter-block.ab3aeb9c.js";import{R as w,a as se,A as ae,T as ie,b as ne,P as re}from"./to-add.99f24067.js";import{u as ue}from"./useToken.0a1dd6d5.js";import{u as Q}from"./pool.e26523d4.js";import{u as ce}from"./stats.a4078005.js";import{c as de}from"./index.881efd6c.js";import{u as pe}from"./useStatsData.c349c888.js";import{H as ve,T as me,N as fe}from"./h5-table-card.f158d743.js";import{a as he,r as D,m as u,D as _e,y as X,M as ge,o as P,f as x,h as s,i as a,c as J,w as K,v as I,x as be,p as Pe,k as Se,e as Y,C as ye}from"./entry.245dc163.js";import"./select-tab.08290c77.js";import"./filter-pool-by-coin.b89ad9f8.js";import"./coin-select.e12a3649.js";import"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./pool.521bfdc1.js";import"./decimal.0bdeb344.js";import"./token-warning_2x.64882dc4.js";import"./img-no-Positions_2x.3f3b7bc2.js";import"./img-no-Positions_2x.ca76036f.js";import"./coin-img.5fd50c44.js";import"./token-warning-new.7c2c8665.js";import"./token.30b94681.js";import"./is-all-pool.b5a0c6c1.js";/* empty css              */import"./icon-selected_3x.09e9a6f0.js";import"./fetchFun.b7d6300f.js";import"./nuxt-link.22eaa5d1.js";import"./icon_farms_2x.130e552a.js";import"./farms.c5890b07.js";import"./icon_autopools_2x.6939edbf.js";import"./icon_autopools_2x.18450fb5.js";import"./icon_fee_2x.c3bb0949.js";import"./icon_rewards_2x.29b33979.js";import"./formatter.f70db6df.js";import"./index.7620bd84.js";const M=S=>(Pe("data-v-347e877e"),S=S(),Se(),S),Ae={class:"h5-table"},Le={class:"pc-table"},ke={key:1,class:"virtual-table"},Te=M(()=>s("th",null,"Pool",-1)),we=M(()=>s("th",null,"Mining Rewards",-1)),xe=M(()=>s("th",null,"Actions",-1)),Ce={class:"action"},Ne=he({__name:"pool-list-table",setup(S){const{getPoolList:C}=te(),{getStatusData:h}=pe(),_=D([]),E=u(()=>_.value.map(i=>Object.assign({},{random:Math.random()},i))),{getTokenList:N,getToken:k}=ue(),y=Q(),v=u(()=>y),V=u(()=>(console.log("ðŸš€ ~ poolList ~ suiPool.value.poolList:",v.value.poolList),v.value.poolList)),F=u(()=>v.value.isAllPool),A=u(()=>v.value.incentiveTypeList),B=u(()=>v.value.selectLabel),n=u(()=>v.value.filterPoolCoinList),Z=ce(),W=u(()=>Z),$=u(()=>W.value.poolsStatsObj),ee=u(()=>W.value.isStatsApiError),q=async(r,i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,i);let m=[];for(let e=0;e<i.length;e++){const o=i[e],f=r[o.address],g=await k(i[e].displayTokenAAddress),b=await k(i[e].displayTokenBAddress),R=[];g!=null&&g.labels&&R.push(...g.labels),b!=null&&b.labels&&R.push(...b.labels);let z=!1,U=!1;f&&f.stableFarming&&f.stableFarming.length>0&&(z=!0),f&&f.autoPool&&f.autoPool.clmm_pool&&(U=!0);const G={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...f,tokenA:g,tokenB:b,labels:[...new Set(R)],isFarming:z,isVaults:U};(!F.value&&g.is_trusted&&b.is_trusted||F.value)&&m.push(G)}let c=[];A.value.length>0?m.forEach(e=>{(A.value.includes("Mining")&&e.haveMining||A.value.includes("Farming")&&e.isFarming||A.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&c.push(e)}):c=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",c);let l=[];B.value!=="All"?c.forEach(e=>{e.labels.includes(B.value)&&l.push(e)}):l=c;let T=[];n.value&&n.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",n.value.length),l.forEach(e=>{n.value.length==2&&(n.value[0]==e.displayTokenAAddress||n.value[0]==e.displayTokenBAddress)&&(n.value[1]==e.displayTokenAAddress||n.value[1]==e.displayTokenBAddress)&&T.push(e),n.value.length==1&&(n.value[0]==e.displayTokenAAddress||n.value[0]==e.displayTokenBAddress)&&T.push(e)})):T=l;let d=T,p=[];t.value.label=="Volume (24H)"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.volume24-e.volume24):d.sort((e,o)=>e.volume24-o.volume24)),t.value.label=="Liquidity"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.tvl-e.tvl):d.sort((e,o)=>e.tvl-o.tvl)),t.value.label=="Fees (24H)"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.fees24-e.fees24):d.sort((e,o)=>e.fees24-o.fees24)),t.value.label=="APR (24H)"&&(p=t.value.sort=="desc"?d.sort((e,o)=>o.totalApr-e.totalApr):d.sort((e,o)=>e.totalApr-o.totalApr)),y.setPoolListNum(p&&p.length),_.value=p,y.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",p)},t=D({label:"Volume (24H)",sort:"desc"}),L=r=>{t.value=r,q($.value,V.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",t.value)},H=u(()=>v.value.isPoolLoading);_e(()=>[$.value,V.value,ee.value,F.value,A.value,B.value,n.value],([r,i,m])=>{console.log("ðŸš€ ~ watch ~ poolsStatsObj:",i,r),(r&&!de(r)||m)&&i&&i.length>0&&q(r,i)},{immediate:!0});const O=D(null);X(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),C(),N(),h(),window.scroller=O.value});const j=[{title:"Pools",hasSort:!1,tdWidth:"370px",isNotShowTitle:!0,component:"pool-name-block"},{title:"Liquidity",hasSort:!0,tdWidth:"150px",value:"tvlDisplay"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px",value:"volume24Display"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px",value:"fees24Display"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px",component:"reward-coin"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px",component:"apr-tips"},{title:"Actions",hasSort:!1,tdWidth:"180px",isNotShowTitle:!0,component:"swap-add"}];return(r,i)=>{const m=re,c=ge("RecycleScroller");return P(),x("div",null,[s("div",Ae,[a(ve,{"h5-title":"Pools","key-field":"poolAddress","sort-info":t.value,"item-size":300,"data-source-length":10,loading:H.value,columns:j,"data-source":_.value,onChangeSort:L},null,8,["sort-info","loading","data-source"])]),s("div",Le,[H.value?(P(),J(me,{key:0,columns:j,"data-source-length":10})):(P(),x("table",ke,[a(c,{ref_key:"scroller",ref:O,class:"scroller",items:E.value,"item-size":80,"page-mode":"","key-field":"address"},{before:K(()=>[s("thead",null,[Te,a(w,{label:"Liquidity","sort-info":t.value,onSort:L},null,8,["sort-info"]),a(w,{label:"Volume (24H)","sort-info":t.value,onSort:L},null,8,["sort-info"]),a(w,{label:"Fees (24H)","sort-info":t.value,onSort:L},null,8,["sort-info"]),we,a(w,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":t.value,onSort:L},null,8,["sort-info"]),xe])]),default:K(({item:l})=>[(P(),x("tr",{key:l.address},[s("td",null,[a(m,{"pool-info":l},null,8,["pool-info"])]),s("td",null,I(l.tvlDisplay||"$0"),1),s("td",null,I(l.volume24Display||"$0"),1),s("td",null,I(l.fees24Display||"$0"),1),s("td",null,[a(se,{"reward-list":l.miningRewardList||[]},null,8,["reward-list"])]),s("td",null,[a(ae,{"pool-info":l},null,8,["pool-info"])]),s("td",null,[s("div",Ce,[a(ie,{"from-coin-address":l.tokenAAddress,"to-coin-address":l.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),a(ne,{"pool-address":l.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])]))]),!H.value&&_.value&&_.value.length==0?(P(),J(fe,{key:0,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):be("",!0)])}}});const Fe=Y(Ne,[["__scopeId","data-v-347e877e"]]);const Be={class:"pools-list-container"},He={__name:"list",setup(S){const C=[{label:"Mining"},{label:"Farming"},{label:"No incentives"}],h=Q();return X(()=>{}),ye(()=>{h.setIncentiveTypeList(""),h.setIsAllPool(!0),h.setLabel("All"),h.setFilterPoolCoinList([])}),(_,E)=>{const N=oe,k=le,y=Fe;return P(),x("div",Be,[a(N),a(k,{"dropdown-checkbox-options":C}),a(y)])}}},go=Y(He,[["__scopeId","data-v-cc5b27fd"]]);export{go as default};
