import{u as J,h as Z,d as P,c as F,a as D}from"./sha256.91c60824.js";import{a as G,r as n,l as H,q as U,H as K,X,K as Q,R as Y,a9 as ee,e as te,o as v,f as y,h as l,u as g,c as ae,v as $,x as O,A as z,i as oe,M as se,S as ne,p as le,k as ie}from"./entry.a6654d09.js";/* empty css              */import"./index.43c7dce9.js";import"./index.5c0d0060.js";import{l as re}from"./lodash.11b86f70.js";const de=G({props:{mode:{type:String,required:!1,default:"vol"},address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const c=J(),k=n(!1),o=H(()=>c),T=t=>{switch(t){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},C=H(()=>Z[o.value.chainName]),S=n(0),I=n(0),N=n(0),W=n(0),V=n(""),E=n("--"),M=re.debounce(()=>{B(_.value)},300);U(()=>e.mode,(t,h)=>{t!==h&&(k.value=!0,B(_.value))}),U(()=>e.address,(t,h)=>{t!==h&&(k.value=!0,B(_.value))});const j=n(null);K(()=>{window.addEventListener("resize",M),setTimeout(()=>{document.body.clientWidth<750?m(40,100,4,e.mode,"day"):m(40,100,8,e.mode,"day")},100),j.value=window.setInterval(()=>{B(_.value)},12e4)}),X(()=>{window.clearInterval(j.value)}),Q(()=>{window.removeEventListener("resize",M)}),Y(()=>{if(!F(o.value.statsData||{})&&o.value.chainName){const t=o.value.chainName=="Sui"?o.value.statsData.vol_in_usd_24h:o.value.statsData.vol_in_usd_24h_sum_v1;o.value.chainName=="Sui"?o.value.statsData.tvl_in_usd:o.value.statsData.tvl_in_usd_sum_v1,S.value=t,V.value=t,I.value=o.value.statsData.vol_in_usd,N.value=o.value.statsData.pure_tvl_in_usd,W.value=o.value.statsData.tx_num}});const _=n("D"),i=n({}),R=t=>{_.value=t,B(t)},B=t=>{t=="D"?document.body.clientWidth<750?m(40,100,4,e.mode,"day"):m(40,100,8,e.mode,"day"):t=="W"?document.body.clientWidth<750?m(20,100,6,e.mode,"wek"):m(30,100,12,e.mode,"wek"):t=="M"&&(document.body.clientWidth<750?m(20,100,12,e.mode,"mon"):m(20,100,18,e.mode,"mon"))},m=async(t,h,L,w,p)=>{const{data:f}=e.address!==""?o.value.theme=="default"?await fetch(`${C.value.api}/v2/histogram?date_type=${p}&typ=${w}&limit=${t}&swap_account=${e.address}`).then(s=>s.json()):await fetch(`${C.value.api}/v2/sui/histogram?date_type=${p}&typ=${w}&limit=${t}&address=${e.address}`).then(s=>s.json()):o.value.theme=="default"?await fetch(`${C.value.api}/v2/histogram?date_type=${p}&typ=${w}&limit=${t}`).then(s=>s.json()):await fetch(`${C.value.api}/v2/sui/histogram?date_type=${p}&typ=${w}&limit=${t}`).then(s=>s.json());let a=f.list;const r={categoryData:[],valueData:[],wheelBase:[]};a&&a.forEach(s=>{r.categoryData.push(s.date.slice(0,10)),r.valueData.push(s.num)}),k.value=!1,i.value=r,x(t,h,L)},A=n({day:"",month:"",year:"",current:""}),q=t=>t==1?"Jan":t==2?"Feb":t==3?"Mar":t==4?"Apr":t==5?"May":t==6?"Jun":t==7?"Jul":t==8?"Aug":t==9?"Sep":t==10?"Oct":t==11?"Nov":"Dec",x=(t,h,L)=>{const w=document.getElementById("echartsBox"),p=ee(w);let f=e.address==""||e.mode!=="tvl"?{tooltip:{trigger:"axis",position:function(a,r,s,d,u){return[a[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(a){let r=a[0].axisValue.slice(5,7),s=q(r);const d=a[0].axisValue.slice(8,10),u=s,b=a[0].axisValue.slice(0,4);return A.value={day:d,month:u,year:b,current:""},V.value=a[0].value,E.value=a[0].value,o.value.theme=="default","&nbsp;&nbsp;&nbsp;"+d+"&nbsp;"+u+"&nbsp;"+b+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:o.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,max:i.value.categoryData.length>Number(t)?Number(t):i.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:i.value.categoryData},yAxis:{show:!1,max:function(a){return a.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:h,zoomLock:!0}],series:[{data:i.value.valueData,type:"bar",itemStyle:{normal:{barBorderRadius:1,color:a=>o.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:L}],grid:{left:5,top:0,bottom:0,right:20}}:{tooltip:{trigger:"axis",position:function(a,r,s,d,u){return[a[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(a){let r=a[0].axisValue.slice(5,7),s=q(r);const d=a[0].axisValue.slice(8,10),u=s,b=a[0].axisValue.slice(0,4);return A.value={day:d,month:u,year:b,current:""},V.value=a[0].value,E.value=a[0].value,o.value.theme=="default","&nbsp;&nbsp;&nbsp;"+d+"&nbsp;"+u+"&nbsp;"+b+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:o.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,boundaryGap:!1,max:i.value.categoryData.length>Number(t)?Number(t):i.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:i.value.categoryData},yAxis:{type:"value",show:!1,max:function(a){return a.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:h,zoomLock:!0}],series:[{data:i.value.valueData,type:"line",areaStyle:{normal:{color:"#0B70B9"}},lineStyle:{normal:{color:"#76C8FF"}},itemStyle:{normal:{barBorderRadius:1,color:a=>o.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:L}],grid:{left:5,top:20,bottom:5,right:20}};document.body.clientWidth<750&&(f.grid={left:4,top:10,bottom:20,right:4}),o.value.theme=="default"&&(f.tooltip.backgroundColor="#293F38"),f&&p.setOption(f),f&&p.resize(),p.on("globalout",a=>{A.value={day:"",month:"",year:"",current:""},V.value=o.value.statsData.vol_in_usd_24h_sum_v1,E.value="--"})};return{currentVal:E,loading:k,getModeLabel:T,decimalUi:P,checkNullObj:F,store:o,addCommom:D,vol_in_usd_24h:S,vol_in_usd:I,tvl_in_usd:N,tx_num:W,changeEchart:R,echartVal:_,volTime:A,TradingVolume:V}}});const ue=e=>(le("data-v-ee56240d"),e=e(),ie(),e),ce={class:"upgrade-chart-container"},me={class:"echarts-content-box"},he={class:"echarts-content"},pe={class:"echarts-content-top"},ve={class:"left"},fe={key:1},be={key:2},ye={key:3},ge={key:4},_e={key:5},we={class:"echarts-tab"},$e={key:0,class:"echarts-content-bottom echarts-content-bottom-loading"},De=ue(()=>l("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function ke(e,c,k,o,T,C){const S=se,I=ne;return v(),y("div",ce,[l("div",me,[l("div",he,[l("div",pe,[l("div",ve,[("checkNullObj"in e?e.checkNullObj:g(F))(e.store.statsData||{})?(v(),ae(S,{key:0,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):e.address==""?(v(),y("p",fe,"$"+$(Number(e.TradingVolume)==0?0:("addCommom"in e?e.addCommom:g(D))(("decimalUi"in e?e.decimalUi:g(P))(e.TradingVolume,2))),1)):e.currentVal!=="--"?(v(),y("p",be,"$"+$(Number(e.currentVal)!==0&&Number(e.currentVal)<.01?"<0.01":("addCommom"in e?e.addCommom:g(D))(e.currentVal,2)),1)):e.mode=="vol"?(v(),y("p",ye,"$"+$(Number(e.poolInfo.vol)!==0&&Number(e.poolInfo.vol)<.01?"<0.01":("addCommom"in e?e.addCommom:g(D))(e.poolInfo.vol,2)),1)):e.mode=="tvl"?(v(),y("p",ge,"$"+$(Number(e.poolInfo.liqidity)!==0&&Number(e.poolInfo.liqidity)<.01?"<0.01":("addCommom"in e?e.addCommom:g(D))(e.poolInfo.liqidity,2)),1)):e.mode=="fee"?(v(),y("p",_e,$(Number(e.poolInfo.fee_24_h)!==0&&Number(e.poolInfo.fee_24_h)<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:g(D))(e.poolInfo.fee_24_h,2)}`),1)):O("",!0),l("span",null,$(e.address!==""?e.getModeLabel(e.mode):e.$t("common.tradingVal24h")),1)]),l("div",we,[l("div",{class:z(["title-day",e.echartVal=="D"?"title-active":""]),onClick:c[0]||(c[0]=N=>e.changeEchart("D"))}," D ",2),l("div",{class:z(["title-week",e.echartVal=="W"?"title-active":""]),onClick:c[1]||(c[1]=N=>e.changeEchart("W"))}," W ",2),l("div",{class:z(["title-mouth",e.echartVal=="M"?"title-active":""]),onClick:c[2]||(c[2]=N=>e.changeEchart("M"))}," M ",2)])]),e.loading?(v(),y("div",$e,[oe(I)])):O("",!0),De])])])}const Ee=te(de,[["render",ke],["__scopeId","data-v-ee56240d"]]),Ae=""+globalThis.__publicAssetsURL("image/img-no-Positions@2x.png");export{Ae as _,Ee as a};
