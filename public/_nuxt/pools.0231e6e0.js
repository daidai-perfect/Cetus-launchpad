import{u as Z,P as $}from"./pool-filter-block.6c671d7c.js";import{u as ee}from"./useToken.31e8d532.js";import{u as le}from"./useStatsData.a76cccba.js";import{R as L,P as oe,A as se}from"./apr-tips.f03c5c69.js";import{R as te,T as ae,a as ne}from"./to-add.03535952.js";import{u as ie}from"./filter-pool-by-coin.344cb510.js";import{u as re}from"./stats.d9e5968f.js";import{c as ue}from"./pool.2587b8e2.js";import{a as ce,r as b,y as de,D as M,m as u,M as ve,o as E,f as j,i as r,h as t,v as S,w as q,p as pe,k as fe,e as me}from"./entry.a4db0d61.js";import"./icon-selected_3x.09e9a6f0.js";import"./index.6288ac24.js";import"./decimal.765d8738.js";import"./useSDK.96ba4be6.js";import"./decimal.a2826370.js";import"./formatter.eb225502.js";import"./coin-img.a6207125.js";import"./icon_autopools_2x.e198b988.js";import"./token-warning_2x.9203e937.js";import"./import-icon.de3e6c66.js";/* empty css              */import"./nuxt-link.5f3bcca1.js";import"./icon_farms_2x.ee5d6380.js";import"./farms.e6aa98f0.js";import"./icon_autopools_2x.662dc271.js";import"./icon_fee_2x.2835f470.js";import"./icon_rewards_2x.5f9847a6.js";/* empty css              */import"./coin-select.f0a208bf.js";/* empty css              */import"./img-no-Positions_2x.03349b71.js";import"./img-no-Positions_2x.dac445b1.js";const w=_=>(pe("data-v-3b85f69e"),_=_(),fe(),_),he=w(()=>t("div",null,"this is new pools",-1)),be={style:{color:"red"}},ge={class:"virtual-table"},_e=w(()=>t("th",null,"Pools",-1)),Pe=w(()=>t("th",null,"Mining Rewards",-1)),Ae=w(()=>t("th",null,"Action",-1)),ke={class:"acion"},ye=ce({__name:"pools",setup(_){const{getPoolList:z}=Z(),{getTokenList:W,getToken:B}=ee(),{getStatusData:G}=le(),D=b(null);de(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),z(),W(),G(),window.scroller=D.value}),b([{label:"Option 1",value:"All"},{label:"Option 2",value:"Wormhole"},{label:"Option 3",value:"Celer"}]);const J=b("All"),K=b(!1),Q=[{label:"Mining"},{label:"Farming"},{label:"No incentives"}];M(()=>[K.value],([o])=>{console.log("watch testCheckboxValue: ",o)}),M(()=>[J.value],([o])=>{console.log("watch selectedValue: ",o)});const U=ie(),d=u(()=>U),T=u(()=>d.value.isAllPool),H=u(()=>d.value.poolList),C=u(()=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:208 ~ list ~ pageList.value:",x.value);const o=x.value.map(i=>Object.assign({},{random:Math.random()},i));return console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:209 ~ list ~ result:",o),o}),X=re(),Y=u(()=>X),I=u(()=>Y.value.poolsStatsObj),x=b([]),a=b({label:"Volume (24H)",sort:"desc"}),g=u(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:185 ~ incentiveTypeList ~ suiPool.value.incentiveTypeList:",d.value.incentiveTypeList),d.value.incentiveTypeList)),R=u(()=>d.value.selectLabel),n=u(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ filterPoolCoinList ~ suiPool.value.filterPoolCoinList:",d.value.filterPoolCoinList),d.value.filterPoolCoinList)),N=async(o,i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",o,i);let f=[];for(let e=0;e<i.length;e++){const l=i[e],O=o[l.address],v=await B(i[e].displayTokenAAddress),p=await B(i[e].displayTokenBAddress),y=[];v!=null&&v.labels&&y.push(...v.labels),p!=null&&p.labels&&y.push(...p.labels);let V=!1,F=!1;const h=o[l.address];h&&h.stableFarming&&h.stableFarming.length>0&&(V=!0),h&&h.autoPool&&h.autoPool.clmm_pool&&(F=!0),!T.value&&v.is_trusted&&p.is_trusted?f.push({...l,tvl:0,fees24:0,totalApr:0,volume24:0,...O,tokenA:v,tokenB:p,labels:[...new Set(y)],isFarming:V,isVaults:F}):T.value&&f.push({...l,tvl:0,fees24:0,totalApr:0,volume24:0,...O,tokenA:v,tokenB:p,labels:[...new Set(y)],isFarming:V,isVaults:F})}let s=[];g.value.length>0?f.forEach(e=>{(g.value.includes("Mining")&&e.haveMining||g.value.includes("Farming")&&e.isFarming||g.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&s.push(e)}):s=f,console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",s);let A=[];R.value!=="All"?s.forEach(e=>{e.labels.includes(R.value)&&A.push(e)}):A=s;let k=[];n.value&&n.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",n.value.length),A.forEach(e=>{n.value.length==2&&(n.value[0]==e.displayTokenAAddress||n.value[0]==e.displayTokenBAddress)&&(n.value[1]==e.displayTokenAAddress||n.value[1]==e.displayTokenBAddress)&&k.push(e),n.value.length==1&&(n.value[0]==e.displayTokenAAddress||n.value[0]==e.displayTokenBAddress)&&k.push(e)})):k=A;let c=k,m=[];a.value.label=="Volume (24H)"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.volume24-e.volume24):c.sort((e,l)=>e.volume24-l.volume24)),a.value.label=="Liquidity"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.tvl-e.tvl):c.sort((e,l)=>e.tvl-l.tvl)),a.value.label=="Fees (24H)"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.fees24-e.fees24):c.sort((e,l)=>e.fees24-l.fees24)),a.value.label=="APR (24H)"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.totalApr-e.totalApr):c.sort((e,l)=>e.totalApr-l.totalApr)),x.value=m,console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",m)},P=o=>{a.value=o,N(I.value,H.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",a.value)};return M(()=>[I.value,H.value,T.value,g.value,R.value,n.value],([o,i])=>{o&&!ue(o)&&i&&i.length>0&&N(o,i)},{immediate:!0}),(o,i)=>{const f=ve("RecycleScroller");return E(),j("div",null,[he,r($,{"dropdown-checkbox-options":Q,"dropdown-checkbox-value":o.dropdownCheckboxValue},null,8,["dropdown-checkbox-value"]),t("span",be,S(C.value&&C.value.length),1),t("table",ge,[r(f,{ref_key:"scroller",ref:D,class:"scroller",items:C.value,"item-size":80,"page-mode":"","key-field":"address"},{before:q(()=>[t("thead",null,[_e,r(L,{label:"Liquidity","sort-info":a.value,onSort:P},null,8,["sort-info"]),r(L,{label:"Volume (24H)","sort-info":a.value,onSort:P},null,8,["sort-info"]),r(L,{label:"Fees (24H)","sort-info":a.value,onSort:P},null,8,["sort-info"]),Pe,r(L,{label:"APR (24H)","sort-info":a.value,onSort:P},null,8,["sort-info"]),Ae])]),default:q(({item:s})=>[(E(),j("tr",{key:s.address},[t("td",null,[r(oe,{"pool-info":s},null,8,["pool-info"])]),t("td",null,S(s.tvlDisplay||"--"),1),t("td",null,S(s.volume24Display||"--"),1),t("td",null,S(s.fees24Display||"--"),1),t("td",null,[r(te,{"reward-list":s.miningRewardList||[]},null,8,["reward-list"])]),t("td",null,[r(se,{"pool-info":s},null,8,["pool-info"])]),t("td",null,[t("div",ke,[r(ae,{"from-coin-address":s.tokenAAddress,"to-coin-address":s.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),r(ne,{"pool-address":s.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])])])}}});const ll=me(ye,[["__scopeId","data-v-3b85f69e"]]);export{ll as default};
