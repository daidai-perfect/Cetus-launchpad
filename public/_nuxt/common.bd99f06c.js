import"./decimal.a2826370.js";import{D as Ae}from"./decimal.765d8738.js";import{a9 as Oc,aa as as,ab as Ic}from"./entry.c4f565bb.js";import{r as qc,b as v,h as Fs,G as Mc,i as Hs,j as Cc,k as Nc,c as Lo}from"./index.4eaea48a.js";const Mt=e=>Ae.isDecimal(e)?e:new Ae(e===void 0?0:e),Dc=(e,t,n=!0)=>{if(`${e}`=="0")return!parseFloat(t)||!n?0:"0.".padEnd(t+2,"0");if(!e)return"--";const r=parseFloat(e),i=e.toString(),s=r<0;let o=i;if(i.toLowerCase().includes("e")){const c=i.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/),u=c[1],d=c[2],p=c[3],_=c[4];let y="",x=d?d.substr(_):"";if(x&&(x=`.${x}`),p!=="-"){for(let O=0;O<_;O+=1){const E=d[O]||"0";y+=E}o=u+y+x}else{let O="0";for(let E=0;E<_;E+=1)y=(u[u.length-E-1]||"0")+y;u.length>_&&(O=u.substr(0,u.length-_)),o=`${O}.${y}${d}`}}if(t&&n){let c=`${o.split(".")[0]}.`;const u=o.split(".")[1]||"";for(let d=0;d<t;d+=1)c+=u[d]||"0";o=c}if(o.length>14){const c=o.split(".");c[0].length>14?o=`${c[0].slice(0,14)}+`:(o=o.slice(0,13),o.indexOf(".")===12&&(o=o.slice(0,12)))}return`${s?"-":""}${o}`};function Cp(e,t){if(t=t>-1?t:0,`${e}`=="0")return parseFloat(t)?"0.".padEnd(t+2,"0"):"0";if(!e)return"--";let n=!1;parseFloat(e)<0&&(n=!0);const r=`${Math.abs(parseFloat(e))}`;if(r==="NaN")return"--";let i=r;if(r.toLowerCase().includes("e")){if(r.toLowerCase().includes("+"))return Dc(r,t);const o=r.toLowerCase().split("e");let c=o[0];const u=Math.abs(parseFloat(o[1]));let d="",p=c.length,_;for(o[0].split(".")[1]&&(c=o[0].split(".")[0]+o[0].split(".")[1],p=o[0].split(".")[0].length),_=0;_<u-p;_+=1)d+="0";i=`0.${d}${c}`}if(`${t}`!="0"&&!t||`${parseFloat(e)}`=="NaN")return(n?"-":"")+i;const s=i.split(".");if(t===0)i=parseInt(i,10);else if(t>0&&s[1])if(s[1].length>t)if(s[1].includes("999999999")){const o=parseFloat(i).toFixed(t+1);i=o.slice(0,o.length-1)}else i=`${s[0]}.${s[1].slice(0,t)}`;else i=parseFloat(i).toFixed(t);else i=parseFloat(i).toFixed(t);if(i.length>=14&&i.includes(".")){const o=i.split(".");o[0].length>14?i=`${o[0].slice(0,14)}+`:(i=i.slice(0,13),i.indexOf(".")===12&&(i=i.slice(0,12)))}return(n?"-":"")+i}function $c(e,t){const n=String(e);if(!n.includes("."))return n;const r=n.split("."),i=r[0],s=r[1].slice(0,t);return Zt(s)?`${i}.${Zt(s)}`:`${i}`}function Zt(e){return e.replace(/(\s|0|\.)+$/g,"")}function Fo(e,t){if(typeof e=="number"&&isNaN(e)||!Number(e))return 0;if(!String(e).includes("."))return e;const n=String(e).split(".");if(n[1]&&n[1].length<=t&&Number(n[1]))return e;const r=Math.pow(10,-t);if(Number(e)<r)return n[1]&&Zt(n[1])?n[0]+"."+Zt(n[1]):n[0];const i=$c(e,t),s=String(i).split(".");return i==="--"?"--":s[1]&&Zt(String(s[1]))?s[0]+"."+Zt(String(s[1])):s[0]}const Mr=(e,t=0)=>isNaN(e)||!e?e:(e=String(e),Number(e)==0?0:!isNaN(t)&&t?(t===0&&(e=e.split(".")[0]),e.replace(/(\d+)(\.\d+)?/,(n,r,i)=>r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")+(i?i.slice(0,t+1):""))):e.replace(/^\d+/,n=>n.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")));function zc(e,t){const r=String(e).split(".");let i=!0;if(!r[1]||r[1]&&r[1].length<=t||r[0]!=="0")return!1;if(r&&r[1]&&r[0]==="0"&&r[1][r[1].length-1]==="1")for(let s=0;s<r[1].length-1;s++)r[1]!=="0"&&(i=!1);else i=!1;return i}function Lc(e){const t=String(e);if(!t.includes("."))return e;const n=t.split("."),r=n[0],i=Zt(n[1]);return i&&`${r}.${i}`}const Cr=(e,t,n=2)=>{if(e=="âˆž"||typeof e=="string"&&e.indexOf("+")>-1)return e;if(isNaN(e)||Number(e)==0)return"0";const r=Fo(e,t),i=Math.pow(10,-t);return Number(r)&&Math.abs(Number(r))<=i||zc(r,t)?Cr(e,t+n):Lc(r)};function Np(e){if(e){const t=e.toString(),n=t.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(n,"$1,")}}function Dp(e){return!e||Object.keys(e).length===0}function ct(e){return e.toString().length===1?"0"+e:e}function Ws(e){const t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return t+"-"+ct(n)+"-"+ct(r)}function Fc(e){const t=e.getMonth()+1,n=e.getDate();return ct(t)+"/"+ct(n)}function js(e){const t=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return ct(t)+":"+ct(n)+":"+ct(r)}function Hc(e){const t=e.getHours(),n=e.getMinutes();return ct(t)+":"+ct(n)}const $p=(e,t)=>{if(e){const n=new Date(Number(e));if(!t)return Ws(n)+" "+js(n);switch(t){case"HMS":return js(n);case"YMD":return Ws(n);case"MD":return Fc(n);case"HM":return Hc(n)}}},zp=(e,t)=>isNaN(e)||!e?e:Number(e)<1e-6&&Number(e)!==0?"<0.000001":Mr(Fo(String(e),t),t);function Lp(e){const t=e.replace("%","");return Number(t)}function Fp(e,t=1){return!e||isNaN(Number(e))?e:Math.abs(String(e))<1e3?Cr(e,t):Cr(Number(e)/1e3,t)+"k"}const Hp=async e=>new Promise(t=>{setTimeout(()=>{t(1)},e)}),Wp=e=>e>=1e9?(e/1e9).toFixed(1)+"b":e>=1e6?(e/1e6).toFixed(1)+"m":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString();function jp(e){const t=Number(Cr(e,2));return t>=1e9?(t/1e9).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"b":t>=1e6?(t/1e6).toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g,",")+"m":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}const Gp=(e,t)=>e>=1e9?(e/1e9).toFixed(t)+"b":e>=1e6?(e/1e6).toFixed(t)+"m":e>=1e3?(e/1e3).toFixed(t)+"k":e.toString(),Vp=e=>{const t=Math.floor(e/1e3),n=Math.floor(new Date().getTime()/1e3),r=60,i=60*r,s=24*i,o=30*s,c=365*s,u=n-t;if(u<r)return"recently";if(u<i){const d=Math.floor(u/r);return d==1?`${d} minute ago`:`${d} minutes ago`}else if(u<s){const d=Math.floor(u/i);return d==1?`${d} hour ago`:`${d} hours ago`}else if(u<o){const d=Math.floor(u/s);return d==1?`${d} day ago`:`${d} days ago`}else if(u<c){const d=Math.floor(u/o);return d==1?`${d} mouth ago`:`${d} mouths ago`}else{const d=Math.floor(u/c);return d==1?`${d} year ago`:`${d} years ago`}},Kp=(e,t)=>{if(e){const n=new Date(e);if(!t)return Gs(n)+" "+Vs(n);switch(t){case"HMS":return Vs(n);case"YMD":return Gs(n);case"MD":return Wc(n);case"HM":return jc(n)}}};function Gs(e){const t=e.getUTCFullYear(),n=e.getUTCMonth()+1,r=e.getUTCDate();return t+"-"+ct(n)+"-"+ct(r)}function Wc(e){const t=e.getUTCMonth()+1,n=e.getUTCDate();return ct(t)+"/"+ct(n)}function Vs(e){const t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds();return ct(t)+":"+ct(n)+":"+ct(r)}function jc(e){const t=e.getUTCHours(),n=e.getUTCMinutes();return ct(t)+":"+ct(n)}const Gt=(e,t)=>{try{return Mt(e).toDP(t,Ae.ROUND_DOWN).toString()}catch{return e}},Xp=(e,t)=>Mt(e).toDP(t,Ae.ROUND_HALF_DOWN).toString(),Yp=(e,t,n,r,i=!0)=>{if(e===void 0||e==="--")return"--";const s=Gt(e,t);return!n&&Number(e)>0&&Number(s)<.01?`<${i?"$":""}0.01`:r?`${i?"$":""}${s}`:`${i?"$":""}${Mr(s)}`};function Jp(e){if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.ts:573 ~ getUrlParam ~ window.location.pathname:",window.location.pathname),window.location.pathname=="/limit"||window.location.pathname.indexOf("/limit/")<0)return null;const t=window.location.pathname.replace("/limit/","").split("-");return console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.ts:573 ~ getUrlParam ~ window.location:",window.location),console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.ts:573 ~ getUrlParam ~ r:",t),t&&t.length>0?decodeURI(e=="from"?t[0]?t[0]:"":t[1]?t[1]:""):null}function Zp(e){return e=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":e}function Qp(e){return e=="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":e}function Gc(e){let t=0;for(;t<e.length;){if(Mt(e[t]).gt(0))return t+1;t++}return 0}const eg=(e,t,n=!0)=>{if(e==="âˆž")return"âˆž";if(e!=="0"&&!e||Mt(e).equals(0))return"0";if(t!==void 0){const u=Gt(e,t);if(!Mt(u).equals(0))return n?u:Mr(u)}const r=Mt(e).toString(),i=r.split("."),s=i[0],o=i[1];let c;if(Mt(s).gt(0))!o||Mt(s.length).gte(9)?c=Gt(r,0):Mt(s.length).gte(4)?c=Gt(r,2):c=Gt(r,4);else{Gt(r,6);const u=Gc(o);if(u<6)c=Gt(r,u+6);else{if(u>20)return"0";c=Gt(r,9+(u-6))}}return n||Mt(s).lt(1)?c:Mr(c)},tg=e=>e?e.substring(0,6)+"..."+e.substring(e.length-4):"";var Yn={},Vc={get exports(){return Yn},set exports(e){Yn=e}};(function(e){(function(t){var n=function(l){var h,f=new Float64Array(16);if(l)for(h=0;h<l.length;h++)f[h]=l[h];return f},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),c=n([1]),u=n([56129,1]),d=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function O(l,h,f,a){l[h]=f>>24&255,l[h+1]=f>>16&255,l[h+2]=f>>8&255,l[h+3]=f&255,l[h+4]=a>>24&255,l[h+5]=a>>16&255,l[h+6]=a>>8&255,l[h+7]=a&255}function E(l,h,f,a,g){var b,T=0;for(b=0;b<g;b++)T|=l[h+b]^f[a+b];return(1&T-1>>>8)-1}function $(l,h,f,a){return E(l,h,f,a,16)}function K(l,h,f,a){return E(l,h,f,a,32)}function G(l,h,f,a){for(var g=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,b=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,T=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,C=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,W=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,ce=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,Q=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,Le=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,ne=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,ge=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,_e=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,Be=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,ke=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,me=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,ve=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,we=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,re=g,le=b,te=T,ie=C,ae=W,Z=ce,k=Q,B=Le,L=ne,M=ge,N=_e,F=Be,fe=ke,Pe=me,qe=ve,Oe=we,w,Ne=0;Ne<20;Ne+=2)w=re+fe|0,ae^=w<<7|w>>>32-7,w=ae+re|0,L^=w<<9|w>>>32-9,w=L+ae|0,fe^=w<<13|w>>>32-13,w=fe+L|0,re^=w<<18|w>>>32-18,w=Z+le|0,M^=w<<7|w>>>32-7,w=M+Z|0,Pe^=w<<9|w>>>32-9,w=Pe+M|0,le^=w<<13|w>>>32-13,w=le+Pe|0,Z^=w<<18|w>>>32-18,w=N+k|0,qe^=w<<7|w>>>32-7,w=qe+N|0,te^=w<<9|w>>>32-9,w=te+qe|0,k^=w<<13|w>>>32-13,w=k+te|0,N^=w<<18|w>>>32-18,w=Oe+F|0,ie^=w<<7|w>>>32-7,w=ie+Oe|0,B^=w<<9|w>>>32-9,w=B+ie|0,F^=w<<13|w>>>32-13,w=F+B|0,Oe^=w<<18|w>>>32-18,w=re+ie|0,le^=w<<7|w>>>32-7,w=le+re|0,te^=w<<9|w>>>32-9,w=te+le|0,ie^=w<<13|w>>>32-13,w=ie+te|0,re^=w<<18|w>>>32-18,w=Z+ae|0,k^=w<<7|w>>>32-7,w=k+Z|0,B^=w<<9|w>>>32-9,w=B+k|0,ae^=w<<13|w>>>32-13,w=ae+B|0,Z^=w<<18|w>>>32-18,w=N+M|0,F^=w<<7|w>>>32-7,w=F+N|0,L^=w<<9|w>>>32-9,w=L+F|0,M^=w<<13|w>>>32-13,w=M+L|0,N^=w<<18|w>>>32-18,w=Oe+qe|0,fe^=w<<7|w>>>32-7,w=fe+Oe|0,Pe^=w<<9|w>>>32-9,w=Pe+fe|0,qe^=w<<13|w>>>32-13,w=qe+Pe|0,Oe^=w<<18|w>>>32-18;re=re+g|0,le=le+b|0,te=te+T|0,ie=ie+C|0,ae=ae+W|0,Z=Z+ce|0,k=k+Q|0,B=B+Le|0,L=L+ne|0,M=M+ge|0,N=N+_e|0,F=F+Be|0,fe=fe+ke|0,Pe=Pe+me|0,qe=qe+ve|0,Oe=Oe+we|0,l[0]=re>>>0&255,l[1]=re>>>8&255,l[2]=re>>>16&255,l[3]=re>>>24&255,l[4]=le>>>0&255,l[5]=le>>>8&255,l[6]=le>>>16&255,l[7]=le>>>24&255,l[8]=te>>>0&255,l[9]=te>>>8&255,l[10]=te>>>16&255,l[11]=te>>>24&255,l[12]=ie>>>0&255,l[13]=ie>>>8&255,l[14]=ie>>>16&255,l[15]=ie>>>24&255,l[16]=ae>>>0&255,l[17]=ae>>>8&255,l[18]=ae>>>16&255,l[19]=ae>>>24&255,l[20]=Z>>>0&255,l[21]=Z>>>8&255,l[22]=Z>>>16&255,l[23]=Z>>>24&255,l[24]=k>>>0&255,l[25]=k>>>8&255,l[26]=k>>>16&255,l[27]=k>>>24&255,l[28]=B>>>0&255,l[29]=B>>>8&255,l[30]=B>>>16&255,l[31]=B>>>24&255,l[32]=L>>>0&255,l[33]=L>>>8&255,l[34]=L>>>16&255,l[35]=L>>>24&255,l[36]=M>>>0&255,l[37]=M>>>8&255,l[38]=M>>>16&255,l[39]=M>>>24&255,l[40]=N>>>0&255,l[41]=N>>>8&255,l[42]=N>>>16&255,l[43]=N>>>24&255,l[44]=F>>>0&255,l[45]=F>>>8&255,l[46]=F>>>16&255,l[47]=F>>>24&255,l[48]=fe>>>0&255,l[49]=fe>>>8&255,l[50]=fe>>>16&255,l[51]=fe>>>24&255,l[52]=Pe>>>0&255,l[53]=Pe>>>8&255,l[54]=Pe>>>16&255,l[55]=Pe>>>24&255,l[56]=qe>>>0&255,l[57]=qe>>>8&255,l[58]=qe>>>16&255,l[59]=qe>>>24&255,l[60]=Oe>>>0&255,l[61]=Oe>>>8&255,l[62]=Oe>>>16&255,l[63]=Oe>>>24&255}function z(l,h,f,a){for(var g=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,b=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,T=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,C=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,W=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,ce=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,Q=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,Le=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,ne=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,ge=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,_e=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,Be=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,ke=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,me=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,ve=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,we=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,re=g,le=b,te=T,ie=C,ae=W,Z=ce,k=Q,B=Le,L=ne,M=ge,N=_e,F=Be,fe=ke,Pe=me,qe=ve,Oe=we,w,Ne=0;Ne<20;Ne+=2)w=re+fe|0,ae^=w<<7|w>>>32-7,w=ae+re|0,L^=w<<9|w>>>32-9,w=L+ae|0,fe^=w<<13|w>>>32-13,w=fe+L|0,re^=w<<18|w>>>32-18,w=Z+le|0,M^=w<<7|w>>>32-7,w=M+Z|0,Pe^=w<<9|w>>>32-9,w=Pe+M|0,le^=w<<13|w>>>32-13,w=le+Pe|0,Z^=w<<18|w>>>32-18,w=N+k|0,qe^=w<<7|w>>>32-7,w=qe+N|0,te^=w<<9|w>>>32-9,w=te+qe|0,k^=w<<13|w>>>32-13,w=k+te|0,N^=w<<18|w>>>32-18,w=Oe+F|0,ie^=w<<7|w>>>32-7,w=ie+Oe|0,B^=w<<9|w>>>32-9,w=B+ie|0,F^=w<<13|w>>>32-13,w=F+B|0,Oe^=w<<18|w>>>32-18,w=re+ie|0,le^=w<<7|w>>>32-7,w=le+re|0,te^=w<<9|w>>>32-9,w=te+le|0,ie^=w<<13|w>>>32-13,w=ie+te|0,re^=w<<18|w>>>32-18,w=Z+ae|0,k^=w<<7|w>>>32-7,w=k+Z|0,B^=w<<9|w>>>32-9,w=B+k|0,ae^=w<<13|w>>>32-13,w=ae+B|0,Z^=w<<18|w>>>32-18,w=N+M|0,F^=w<<7|w>>>32-7,w=F+N|0,L^=w<<9|w>>>32-9,w=L+F|0,M^=w<<13|w>>>32-13,w=M+L|0,N^=w<<18|w>>>32-18,w=Oe+qe|0,fe^=w<<7|w>>>32-7,w=fe+Oe|0,Pe^=w<<9|w>>>32-9,w=Pe+fe|0,qe^=w<<13|w>>>32-13,w=qe+Pe|0,Oe^=w<<18|w>>>32-18;l[0]=re>>>0&255,l[1]=re>>>8&255,l[2]=re>>>16&255,l[3]=re>>>24&255,l[4]=Z>>>0&255,l[5]=Z>>>8&255,l[6]=Z>>>16&255,l[7]=Z>>>24&255,l[8]=N>>>0&255,l[9]=N>>>8&255,l[10]=N>>>16&255,l[11]=N>>>24&255,l[12]=Oe>>>0&255,l[13]=Oe>>>8&255,l[14]=Oe>>>16&255,l[15]=Oe>>>24&255,l[16]=k>>>0&255,l[17]=k>>>8&255,l[18]=k>>>16&255,l[19]=k>>>24&255,l[20]=B>>>0&255,l[21]=B>>>8&255,l[22]=B>>>16&255,l[23]=B>>>24&255,l[24]=L>>>0&255,l[25]=L>>>8&255,l[26]=L>>>16&255,l[27]=L>>>24&255,l[28]=M>>>0&255,l[29]=M>>>8&255,l[30]=M>>>16&255,l[31]=M>>>24&255}function I(l,h,f,a){G(l,h,f,a)}function U(l,h,f,a){z(l,h,f,a)}var D=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function q(l,h,f,a,g,b,T){var C=new Uint8Array(16),W=new Uint8Array(64),ce,Q;for(Q=0;Q<16;Q++)C[Q]=0;for(Q=0;Q<8;Q++)C[Q]=b[Q];for(;g>=64;){for(I(W,C,T,D),Q=0;Q<64;Q++)l[h+Q]=f[a+Q]^W[Q];for(ce=1,Q=8;Q<16;Q++)ce=ce+(C[Q]&255)|0,C[Q]=ce&255,ce>>>=8;g-=64,h+=64,a+=64}if(g>0)for(I(W,C,T,D),Q=0;Q<g;Q++)l[h+Q]=f[a+Q]^W[Q];return 0}function H(l,h,f,a,g){var b=new Uint8Array(16),T=new Uint8Array(64),C,W;for(W=0;W<16;W++)b[W]=0;for(W=0;W<8;W++)b[W]=a[W];for(;f>=64;){for(I(T,b,g,D),W=0;W<64;W++)l[h+W]=T[W];for(C=1,W=8;W<16;W++)C=C+(b[W]&255)|0,b[W]=C&255,C>>>=8;f-=64,h+=64}if(f>0)for(I(T,b,g,D),W=0;W<f;W++)l[h+W]=T[W];return 0}function X(l,h,f,a,g){var b=new Uint8Array(32);U(b,a,g,D);for(var T=new Uint8Array(8),C=0;C<8;C++)T[C]=a[C+16];return H(l,h,f,T,b)}function xe(l,h,f,a,g,b,T){var C=new Uint8Array(32);U(C,b,T,D);for(var W=new Uint8Array(8),ce=0;ce<8;ce++)W[ce]=b[ce+16];return q(l,h,f,a,g,W,C)}var Ce=function(l){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var h,f,a,g,b,T,C,W;h=l[0]&255|(l[1]&255)<<8,this.r[0]=h&8191,f=l[2]&255|(l[3]&255)<<8,this.r[1]=(h>>>13|f<<3)&8191,a=l[4]&255|(l[5]&255)<<8,this.r[2]=(f>>>10|a<<6)&7939,g=l[6]&255|(l[7]&255)<<8,this.r[3]=(a>>>7|g<<9)&8191,b=l[8]&255|(l[9]&255)<<8,this.r[4]=(g>>>4|b<<12)&255,this.r[5]=b>>>1&8190,T=l[10]&255|(l[11]&255)<<8,this.r[6]=(b>>>14|T<<2)&8191,C=l[12]&255|(l[13]&255)<<8,this.r[7]=(T>>>11|C<<5)&8065,W=l[14]&255|(l[15]&255)<<8,this.r[8]=(C>>>8|W<<8)&8191,this.r[9]=W>>>5&127,this.pad[0]=l[16]&255|(l[17]&255)<<8,this.pad[1]=l[18]&255|(l[19]&255)<<8,this.pad[2]=l[20]&255|(l[21]&255)<<8,this.pad[3]=l[22]&255|(l[23]&255)<<8,this.pad[4]=l[24]&255|(l[25]&255)<<8,this.pad[5]=l[26]&255|(l[27]&255)<<8,this.pad[6]=l[28]&255|(l[29]&255)<<8,this.pad[7]=l[30]&255|(l[31]&255)<<8};Ce.prototype.blocks=function(l,h,f){for(var a=this.fin?0:2048,g,b,T,C,W,ce,Q,Le,ne,ge,_e,Be,ke,me,ve,we,re,le,te,ie=this.h[0],ae=this.h[1],Z=this.h[2],k=this.h[3],B=this.h[4],L=this.h[5],M=this.h[6],N=this.h[7],F=this.h[8],fe=this.h[9],Pe=this.r[0],qe=this.r[1],Oe=this.r[2],w=this.r[3],Ne=this.r[4],Fe=this.r[5],He=this.r[6],Me=this.r[7],$e=this.r[8],ze=this.r[9];f>=16;)g=l[h+0]&255|(l[h+1]&255)<<8,ie+=g&8191,b=l[h+2]&255|(l[h+3]&255)<<8,ae+=(g>>>13|b<<3)&8191,T=l[h+4]&255|(l[h+5]&255)<<8,Z+=(b>>>10|T<<6)&8191,C=l[h+6]&255|(l[h+7]&255)<<8,k+=(T>>>7|C<<9)&8191,W=l[h+8]&255|(l[h+9]&255)<<8,B+=(C>>>4|W<<12)&8191,L+=W>>>1&8191,ce=l[h+10]&255|(l[h+11]&255)<<8,M+=(W>>>14|ce<<2)&8191,Q=l[h+12]&255|(l[h+13]&255)<<8,N+=(ce>>>11|Q<<5)&8191,Le=l[h+14]&255|(l[h+15]&255)<<8,F+=(Q>>>8|Le<<8)&8191,fe+=Le>>>5|a,ne=0,ge=ne,ge+=ie*Pe,ge+=ae*(5*ze),ge+=Z*(5*$e),ge+=k*(5*Me),ge+=B*(5*He),ne=ge>>>13,ge&=8191,ge+=L*(5*Fe),ge+=M*(5*Ne),ge+=N*(5*w),ge+=F*(5*Oe),ge+=fe*(5*qe),ne+=ge>>>13,ge&=8191,_e=ne,_e+=ie*qe,_e+=ae*Pe,_e+=Z*(5*ze),_e+=k*(5*$e),_e+=B*(5*Me),ne=_e>>>13,_e&=8191,_e+=L*(5*He),_e+=M*(5*Fe),_e+=N*(5*Ne),_e+=F*(5*w),_e+=fe*(5*Oe),ne+=_e>>>13,_e&=8191,Be=ne,Be+=ie*Oe,Be+=ae*qe,Be+=Z*Pe,Be+=k*(5*ze),Be+=B*(5*$e),ne=Be>>>13,Be&=8191,Be+=L*(5*Me),Be+=M*(5*He),Be+=N*(5*Fe),Be+=F*(5*Ne),Be+=fe*(5*w),ne+=Be>>>13,Be&=8191,ke=ne,ke+=ie*w,ke+=ae*Oe,ke+=Z*qe,ke+=k*Pe,ke+=B*(5*ze),ne=ke>>>13,ke&=8191,ke+=L*(5*$e),ke+=M*(5*Me),ke+=N*(5*He),ke+=F*(5*Fe),ke+=fe*(5*Ne),ne+=ke>>>13,ke&=8191,me=ne,me+=ie*Ne,me+=ae*w,me+=Z*Oe,me+=k*qe,me+=B*Pe,ne=me>>>13,me&=8191,me+=L*(5*ze),me+=M*(5*$e),me+=N*(5*Me),me+=F*(5*He),me+=fe*(5*Fe),ne+=me>>>13,me&=8191,ve=ne,ve+=ie*Fe,ve+=ae*Ne,ve+=Z*w,ve+=k*Oe,ve+=B*qe,ne=ve>>>13,ve&=8191,ve+=L*Pe,ve+=M*(5*ze),ve+=N*(5*$e),ve+=F*(5*Me),ve+=fe*(5*He),ne+=ve>>>13,ve&=8191,we=ne,we+=ie*He,we+=ae*Fe,we+=Z*Ne,we+=k*w,we+=B*Oe,ne=we>>>13,we&=8191,we+=L*qe,we+=M*Pe,we+=N*(5*ze),we+=F*(5*$e),we+=fe*(5*Me),ne+=we>>>13,we&=8191,re=ne,re+=ie*Me,re+=ae*He,re+=Z*Fe,re+=k*Ne,re+=B*w,ne=re>>>13,re&=8191,re+=L*Oe,re+=M*qe,re+=N*Pe,re+=F*(5*ze),re+=fe*(5*$e),ne+=re>>>13,re&=8191,le=ne,le+=ie*$e,le+=ae*Me,le+=Z*He,le+=k*Fe,le+=B*Ne,ne=le>>>13,le&=8191,le+=L*w,le+=M*Oe,le+=N*qe,le+=F*Pe,le+=fe*(5*ze),ne+=le>>>13,le&=8191,te=ne,te+=ie*ze,te+=ae*$e,te+=Z*Me,te+=k*He,te+=B*Fe,ne=te>>>13,te&=8191,te+=L*Ne,te+=M*w,te+=N*Oe,te+=F*qe,te+=fe*Pe,ne+=te>>>13,te&=8191,ne=(ne<<2)+ne|0,ne=ne+ge|0,ge=ne&8191,ne=ne>>>13,_e+=ne,ie=ge,ae=_e,Z=Be,k=ke,B=me,L=ve,M=we,N=re,F=le,fe=te,h+=16,f-=16;this.h[0]=ie,this.h[1]=ae,this.h[2]=Z,this.h[3]=k,this.h[4]=B,this.h[5]=L,this.h[6]=M,this.h[7]=N,this.h[8]=F,this.h[9]=fe},Ce.prototype.finish=function(l,h){var f=new Uint16Array(10),a,g,b,T;if(this.leftover){for(T=this.leftover,this.buffer[T++]=1;T<16;T++)this.buffer[T]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(a=this.h[1]>>>13,this.h[1]&=8191,T=2;T<10;T++)this.h[T]+=a,a=this.h[T]>>>13,this.h[T]&=8191;for(this.h[0]+=a*5,a=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=a,a=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=a,f[0]=this.h[0]+5,a=f[0]>>>13,f[0]&=8191,T=1;T<10;T++)f[T]=this.h[T]+a,a=f[T]>>>13,f[T]&=8191;for(f[9]-=8192,g=(a^1)-1,T=0;T<10;T++)f[T]&=g;for(g=~g,T=0;T<10;T++)this.h[T]=this.h[T]&g|f[T];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,b=this.h[0]+this.pad[0],this.h[0]=b&65535,T=1;T<8;T++)b=(this.h[T]+this.pad[T]|0)+(b>>>16)|0,this.h[T]=b&65535;l[h+0]=this.h[0]>>>0&255,l[h+1]=this.h[0]>>>8&255,l[h+2]=this.h[1]>>>0&255,l[h+3]=this.h[1]>>>8&255,l[h+4]=this.h[2]>>>0&255,l[h+5]=this.h[2]>>>8&255,l[h+6]=this.h[3]>>>0&255,l[h+7]=this.h[3]>>>8&255,l[h+8]=this.h[4]>>>0&255,l[h+9]=this.h[4]>>>8&255,l[h+10]=this.h[5]>>>0&255,l[h+11]=this.h[5]>>>8&255,l[h+12]=this.h[6]>>>0&255,l[h+13]=this.h[6]>>>8&255,l[h+14]=this.h[7]>>>0&255,l[h+15]=this.h[7]>>>8&255},Ce.prototype.update=function(l,h,f){var a,g;if(this.leftover){for(g=16-this.leftover,g>f&&(g=f),a=0;a<g;a++)this.buffer[this.leftover+a]=l[h+a];if(f-=g,h+=g,this.leftover+=g,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(f>=16&&(g=f-f%16,this.blocks(l,h,g),h+=g,f-=g),f){for(a=0;a<f;a++)this.buffer[this.leftover+a]=l[h+a];this.leftover+=f}};function S(l,h,f,a,g,b){var T=new Ce(b);return T.update(f,a,g),T.finish(l,h),0}function A(l,h,f,a,g,b){var T=new Uint8Array(16);return S(T,0,f,a,g,b),$(l,h,T,0)}function P(l,h,f,a,g){var b;if(f<32)return-1;for(xe(l,0,h,0,f,a,g),S(l,16,l,32,f-32,l),b=0;b<16;b++)l[b]=0;return 0}function V(l,h,f,a,g){var b,T=new Uint8Array(32);if(f<32||(X(T,0,32,a,g),A(h,16,h,32,f-32,T)!==0))return-1;for(xe(l,0,h,0,f,a,g),b=0;b<32;b++)l[b]=0;return 0}function ee(l,h){var f;for(f=0;f<16;f++)l[f]=h[f]|0}function se(l){var h,f,a=1;for(h=0;h<16;h++)f=l[h]+a+65535,a=Math.floor(f/65536),l[h]=f-a*65536;l[0]+=a-1+37*(a-1)}function ue(l,h,f){for(var a,g=~(f-1),b=0;b<16;b++)a=g&(l[b]^h[b]),l[b]^=a,h[b]^=a}function Ie(l,h){var f,a,g,b=n(),T=n();for(f=0;f<16;f++)T[f]=h[f];for(se(T),se(T),se(T),a=0;a<2;a++){for(b[0]=T[0]-65517,f=1;f<15;f++)b[f]=T[f]-65535-(b[f-1]>>16&1),b[f-1]&=65535;b[15]=T[15]-32767-(b[14]>>16&1),g=b[15]>>16&1,b[14]&=65535,ue(T,b,1-g)}for(f=0;f<16;f++)l[2*f]=T[f]&255,l[2*f+1]=T[f]>>8}function de(l,h){var f=new Uint8Array(32),a=new Uint8Array(32);return Ie(f,l),Ie(a,h),K(f,0,a,0)}function Ue(l){var h=new Uint8Array(32);return Ie(h,l),h[0]&1}function oe(l,h){var f;for(f=0;f<16;f++)l[f]=h[2*f]+(h[2*f+1]<<8);l[15]&=32767}function he(l,h,f){for(var a=0;a<16;a++)l[a]=h[a]+f[a]}function J(l,h,f){for(var a=0;a<16;a++)l[a]=h[a]-f[a]}function Y(l,h,f){var a,g,b=0,T=0,C=0,W=0,ce=0,Q=0,Le=0,ne=0,ge=0,_e=0,Be=0,ke=0,me=0,ve=0,we=0,re=0,le=0,te=0,ie=0,ae=0,Z=0,k=0,B=0,L=0,M=0,N=0,F=0,fe=0,Pe=0,qe=0,Oe=0,w=f[0],Ne=f[1],Fe=f[2],He=f[3],Me=f[4],$e=f[5],ze=f[6],rt=f[7],Ve=f[8],Qe=f[9],et=f[10],tt=f[11],st=f[12],ft=f[13],ht=f[14],pt=f[15];a=h[0],b+=a*w,T+=a*Ne,C+=a*Fe,W+=a*He,ce+=a*Me,Q+=a*$e,Le+=a*ze,ne+=a*rt,ge+=a*Ve,_e+=a*Qe,Be+=a*et,ke+=a*tt,me+=a*st,ve+=a*ft,we+=a*ht,re+=a*pt,a=h[1],T+=a*w,C+=a*Ne,W+=a*Fe,ce+=a*He,Q+=a*Me,Le+=a*$e,ne+=a*ze,ge+=a*rt,_e+=a*Ve,Be+=a*Qe,ke+=a*et,me+=a*tt,ve+=a*st,we+=a*ft,re+=a*ht,le+=a*pt,a=h[2],C+=a*w,W+=a*Ne,ce+=a*Fe,Q+=a*He,Le+=a*Me,ne+=a*$e,ge+=a*ze,_e+=a*rt,Be+=a*Ve,ke+=a*Qe,me+=a*et,ve+=a*tt,we+=a*st,re+=a*ft,le+=a*ht,te+=a*pt,a=h[3],W+=a*w,ce+=a*Ne,Q+=a*Fe,Le+=a*He,ne+=a*Me,ge+=a*$e,_e+=a*ze,Be+=a*rt,ke+=a*Ve,me+=a*Qe,ve+=a*et,we+=a*tt,re+=a*st,le+=a*ft,te+=a*ht,ie+=a*pt,a=h[4],ce+=a*w,Q+=a*Ne,Le+=a*Fe,ne+=a*He,ge+=a*Me,_e+=a*$e,Be+=a*ze,ke+=a*rt,me+=a*Ve,ve+=a*Qe,we+=a*et,re+=a*tt,le+=a*st,te+=a*ft,ie+=a*ht,ae+=a*pt,a=h[5],Q+=a*w,Le+=a*Ne,ne+=a*Fe,ge+=a*He,_e+=a*Me,Be+=a*$e,ke+=a*ze,me+=a*rt,ve+=a*Ve,we+=a*Qe,re+=a*et,le+=a*tt,te+=a*st,ie+=a*ft,ae+=a*ht,Z+=a*pt,a=h[6],Le+=a*w,ne+=a*Ne,ge+=a*Fe,_e+=a*He,Be+=a*Me,ke+=a*$e,me+=a*ze,ve+=a*rt,we+=a*Ve,re+=a*Qe,le+=a*et,te+=a*tt,ie+=a*st,ae+=a*ft,Z+=a*ht,k+=a*pt,a=h[7],ne+=a*w,ge+=a*Ne,_e+=a*Fe,Be+=a*He,ke+=a*Me,me+=a*$e,ve+=a*ze,we+=a*rt,re+=a*Ve,le+=a*Qe,te+=a*et,ie+=a*tt,ae+=a*st,Z+=a*ft,k+=a*ht,B+=a*pt,a=h[8],ge+=a*w,_e+=a*Ne,Be+=a*Fe,ke+=a*He,me+=a*Me,ve+=a*$e,we+=a*ze,re+=a*rt,le+=a*Ve,te+=a*Qe,ie+=a*et,ae+=a*tt,Z+=a*st,k+=a*ft,B+=a*ht,L+=a*pt,a=h[9],_e+=a*w,Be+=a*Ne,ke+=a*Fe,me+=a*He,ve+=a*Me,we+=a*$e,re+=a*ze,le+=a*rt,te+=a*Ve,ie+=a*Qe,ae+=a*et,Z+=a*tt,k+=a*st,B+=a*ft,L+=a*ht,M+=a*pt,a=h[10],Be+=a*w,ke+=a*Ne,me+=a*Fe,ve+=a*He,we+=a*Me,re+=a*$e,le+=a*ze,te+=a*rt,ie+=a*Ve,ae+=a*Qe,Z+=a*et,k+=a*tt,B+=a*st,L+=a*ft,M+=a*ht,N+=a*pt,a=h[11],ke+=a*w,me+=a*Ne,ve+=a*Fe,we+=a*He,re+=a*Me,le+=a*$e,te+=a*ze,ie+=a*rt,ae+=a*Ve,Z+=a*Qe,k+=a*et,B+=a*tt,L+=a*st,M+=a*ft,N+=a*ht,F+=a*pt,a=h[12],me+=a*w,ve+=a*Ne,we+=a*Fe,re+=a*He,le+=a*Me,te+=a*$e,ie+=a*ze,ae+=a*rt,Z+=a*Ve,k+=a*Qe,B+=a*et,L+=a*tt,M+=a*st,N+=a*ft,F+=a*ht,fe+=a*pt,a=h[13],ve+=a*w,we+=a*Ne,re+=a*Fe,le+=a*He,te+=a*Me,ie+=a*$e,ae+=a*ze,Z+=a*rt,k+=a*Ve,B+=a*Qe,L+=a*et,M+=a*tt,N+=a*st,F+=a*ft,fe+=a*ht,Pe+=a*pt,a=h[14],we+=a*w,re+=a*Ne,le+=a*Fe,te+=a*He,ie+=a*Me,ae+=a*$e,Z+=a*ze,k+=a*rt,B+=a*Ve,L+=a*Qe,M+=a*et,N+=a*tt,F+=a*st,fe+=a*ft,Pe+=a*ht,qe+=a*pt,a=h[15],re+=a*w,le+=a*Ne,te+=a*Fe,ie+=a*He,ae+=a*Me,Z+=a*$e,k+=a*ze,B+=a*rt,L+=a*Ve,M+=a*Qe,N+=a*et,F+=a*tt,fe+=a*st,Pe+=a*ft,qe+=a*ht,Oe+=a*pt,b+=38*le,T+=38*te,C+=38*ie,W+=38*ae,ce+=38*Z,Q+=38*k,Le+=38*B,ne+=38*L,ge+=38*M,_e+=38*N,Be+=38*F,ke+=38*fe,me+=38*Pe,ve+=38*qe,we+=38*Oe,g=1,a=b+g+65535,g=Math.floor(a/65536),b=a-g*65536,a=T+g+65535,g=Math.floor(a/65536),T=a-g*65536,a=C+g+65535,g=Math.floor(a/65536),C=a-g*65536,a=W+g+65535,g=Math.floor(a/65536),W=a-g*65536,a=ce+g+65535,g=Math.floor(a/65536),ce=a-g*65536,a=Q+g+65535,g=Math.floor(a/65536),Q=a-g*65536,a=Le+g+65535,g=Math.floor(a/65536),Le=a-g*65536,a=ne+g+65535,g=Math.floor(a/65536),ne=a-g*65536,a=ge+g+65535,g=Math.floor(a/65536),ge=a-g*65536,a=_e+g+65535,g=Math.floor(a/65536),_e=a-g*65536,a=Be+g+65535,g=Math.floor(a/65536),Be=a-g*65536,a=ke+g+65535,g=Math.floor(a/65536),ke=a-g*65536,a=me+g+65535,g=Math.floor(a/65536),me=a-g*65536,a=ve+g+65535,g=Math.floor(a/65536),ve=a-g*65536,a=we+g+65535,g=Math.floor(a/65536),we=a-g*65536,a=re+g+65535,g=Math.floor(a/65536),re=a-g*65536,b+=g-1+37*(g-1),g=1,a=b+g+65535,g=Math.floor(a/65536),b=a-g*65536,a=T+g+65535,g=Math.floor(a/65536),T=a-g*65536,a=C+g+65535,g=Math.floor(a/65536),C=a-g*65536,a=W+g+65535,g=Math.floor(a/65536),W=a-g*65536,a=ce+g+65535,g=Math.floor(a/65536),ce=a-g*65536,a=Q+g+65535,g=Math.floor(a/65536),Q=a-g*65536,a=Le+g+65535,g=Math.floor(a/65536),Le=a-g*65536,a=ne+g+65535,g=Math.floor(a/65536),ne=a-g*65536,a=ge+g+65535,g=Math.floor(a/65536),ge=a-g*65536,a=_e+g+65535,g=Math.floor(a/65536),_e=a-g*65536,a=Be+g+65535,g=Math.floor(a/65536),Be=a-g*65536,a=ke+g+65535,g=Math.floor(a/65536),ke=a-g*65536,a=me+g+65535,g=Math.floor(a/65536),me=a-g*65536,a=ve+g+65535,g=Math.floor(a/65536),ve=a-g*65536,a=we+g+65535,g=Math.floor(a/65536),we=a-g*65536,a=re+g+65535,g=Math.floor(a/65536),re=a-g*65536,b+=g-1+37*(g-1),l[0]=b,l[1]=T,l[2]=C,l[3]=W,l[4]=ce,l[5]=Q,l[6]=Le,l[7]=ne,l[8]=ge,l[9]=_e,l[10]=Be,l[11]=ke,l[12]=me,l[13]=ve,l[14]=we,l[15]=re}function Re(l,h){Y(l,h,h)}function Xe(l,h){var f=n(),a;for(a=0;a<16;a++)f[a]=h[a];for(a=253;a>=0;a--)Re(f,f),a!==2&&a!==4&&Y(f,f,h);for(a=0;a<16;a++)l[a]=f[a]}function gt(l,h){var f=n(),a;for(a=0;a<16;a++)f[a]=h[a];for(a=250;a>=0;a--)Re(f,f),a!==1&&Y(f,f,h);for(a=0;a<16;a++)l[a]=f[a]}function pe(l,h,f){var a=new Uint8Array(32),g=new Float64Array(80),b,T,C=n(),W=n(),ce=n(),Q=n(),Le=n(),ne=n();for(T=0;T<31;T++)a[T]=h[T];for(a[31]=h[31]&127|64,a[0]&=248,oe(g,f),T=0;T<16;T++)W[T]=g[T],Q[T]=C[T]=ce[T]=0;for(C[0]=Q[0]=1,T=254;T>=0;--T)b=a[T>>>3]>>>(T&7)&1,ue(C,W,b),ue(ce,Q,b),he(Le,C,ce),J(C,C,ce),he(ce,W,Q),J(W,W,Q),Re(Q,Le),Re(ne,C),Y(C,ce,C),Y(ce,W,Le),he(Le,C,ce),J(C,C,ce),Re(W,C),J(ce,Q,ne),Y(C,ce,u),he(C,C,Q),Y(ce,ce,C),Y(C,Q,ne),Y(Q,W,g),Re(W,Le),ue(C,W,b),ue(ce,Q,b);for(T=0;T<16;T++)g[T+16]=C[T],g[T+32]=ce[T],g[T+48]=W[T],g[T+64]=Q[T];var ge=g.subarray(32),_e=g.subarray(16);return Xe(ge,ge),Y(_e,_e,ge),Ie(l,_e),0}function We(l,h){return pe(l,h,s)}function Je(l,h){return r(h,32),We(l,h)}function Ot(l,h,f){var a=new Uint8Array(32);return pe(a,f,h),U(l,i,a,D)}var mt=P,bi=V;function Si(l,h,f,a,g,b){var T=new Uint8Array(32);return Ot(T,g,b),mt(l,h,f,a,T)}function Ti(l,h,f,a,g,b){var T=new Uint8Array(32);return Ot(T,g,b),bi(l,h,f,a,T)}var Ms=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Cs(l,h,f,a){for(var g=new Int32Array(16),b=new Int32Array(16),T,C,W,ce,Q,Le,ne,ge,_e,Be,ke,me,ve,we,re,le,te,ie,ae,Z,k,B,L,M,N,F,fe=l[0],Pe=l[1],qe=l[2],Oe=l[3],w=l[4],Ne=l[5],Fe=l[6],He=l[7],Me=h[0],$e=h[1],ze=h[2],rt=h[3],Ve=h[4],Qe=h[5],et=h[6],tt=h[7],st=0;a>=128;){for(ae=0;ae<16;ae++)Z=8*ae+st,g[ae]=f[Z+0]<<24|f[Z+1]<<16|f[Z+2]<<8|f[Z+3],b[ae]=f[Z+4]<<24|f[Z+5]<<16|f[Z+6]<<8|f[Z+7];for(ae=0;ae<80;ae++)if(T=fe,C=Pe,W=qe,ce=Oe,Q=w,Le=Ne,ne=Fe,ge=He,_e=Me,Be=$e,ke=ze,me=rt,ve=Ve,we=Qe,re=et,le=tt,k=He,B=tt,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=(w>>>14|Ve<<32-14)^(w>>>18|Ve<<32-18)^(Ve>>>41-32|w<<32-(41-32)),B=(Ve>>>14|w<<32-14)^(Ve>>>18|w<<32-18)^(w>>>41-32|Ve<<32-(41-32)),L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,k=w&Ne^~w&Fe,B=Ve&Qe^~Ve&et,L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,k=Ms[ae*2],B=Ms[ae*2+1],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,k=g[ae%16],B=b[ae%16],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,te=N&65535|F<<16,ie=L&65535|M<<16,k=te,B=ie,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=(fe>>>28|Me<<32-28)^(Me>>>34-32|fe<<32-(34-32))^(Me>>>39-32|fe<<32-(39-32)),B=(Me>>>28|fe<<32-28)^(fe>>>34-32|Me<<32-(34-32))^(fe>>>39-32|Me<<32-(39-32)),L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,k=fe&Pe^fe&qe^Pe&qe,B=Me&$e^Me&ze^$e&ze,L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,ge=N&65535|F<<16,le=L&65535|M<<16,k=ce,B=me,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=te,B=ie,L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,ce=N&65535|F<<16,me=L&65535|M<<16,Pe=T,qe=C,Oe=W,w=ce,Ne=Q,Fe=Le,He=ne,fe=ge,$e=_e,ze=Be,rt=ke,Ve=me,Qe=ve,et=we,tt=re,Me=le,ae%16===15)for(Z=0;Z<16;Z++)k=g[Z],B=b[Z],L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=g[(Z+9)%16],B=b[(Z+9)%16],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,te=g[(Z+1)%16],ie=b[(Z+1)%16],k=(te>>>1|ie<<32-1)^(te>>>8|ie<<32-8)^te>>>7,B=(ie>>>1|te<<32-1)^(ie>>>8|te<<32-8)^(ie>>>7|te<<32-7),L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,te=g[(Z+14)%16],ie=b[(Z+14)%16],k=(te>>>19|ie<<32-19)^(ie>>>61-32|te<<32-(61-32))^te>>>6,B=(ie>>>19|te<<32-19)^(te>>>61-32|ie<<32-(61-32))^(ie>>>6|te<<32-6),L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,g[Z]=N&65535|F<<16,b[Z]=L&65535|M<<16;k=fe,B=Me,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[0],B=h[0],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[0]=fe=N&65535|F<<16,h[0]=Me=L&65535|M<<16,k=Pe,B=$e,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[1],B=h[1],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[1]=Pe=N&65535|F<<16,h[1]=$e=L&65535|M<<16,k=qe,B=ze,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[2],B=h[2],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[2]=qe=N&65535|F<<16,h[2]=ze=L&65535|M<<16,k=Oe,B=rt,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[3],B=h[3],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[3]=Oe=N&65535|F<<16,h[3]=rt=L&65535|M<<16,k=w,B=Ve,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[4],B=h[4],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[4]=w=N&65535|F<<16,h[4]=Ve=L&65535|M<<16,k=Ne,B=Qe,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[5],B=h[5],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[5]=Ne=N&65535|F<<16,h[5]=Qe=L&65535|M<<16,k=Fe,B=et,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[6],B=h[6],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[6]=Fe=N&65535|F<<16,h[6]=et=L&65535|M<<16,k=He,B=tt,L=B&65535,M=B>>>16,N=k&65535,F=k>>>16,k=l[7],B=h[7],L+=B&65535,M+=B>>>16,N+=k&65535,F+=k>>>16,M+=L>>>16,N+=M>>>16,F+=N>>>16,l[7]=He=N&65535|F<<16,h[7]=tt=L&65535|M<<16,st+=128,a-=128}return a}function Xt(l,h,f){var a=new Int32Array(8),g=new Int32Array(8),b=new Uint8Array(256),T,C=f;for(a[0]=1779033703,a[1]=3144134277,a[2]=1013904242,a[3]=2773480762,a[4]=1359893119,a[5]=2600822924,a[6]=528734635,a[7]=1541459225,g[0]=4089235720,g[1]=2227873595,g[2]=4271175723,g[3]=1595750129,g[4]=2917565137,g[5]=725511199,g[6]=4215389547,g[7]=327033209,Cs(a,g,h,f),f%=128,T=0;T<f;T++)b[T]=h[C-f+T];for(b[f]=128,f=256-128*(f<112?1:0),b[f-9]=0,O(b,f-8,C/536870912|0,C<<3),Cs(a,g,b,f),T=0;T<8;T++)O(l,8*T,a[T],g[T]);return 0}function fr(l,h){var f=n(),a=n(),g=n(),b=n(),T=n(),C=n(),W=n(),ce=n(),Q=n();J(f,l[1],l[0]),J(Q,h[1],h[0]),Y(f,f,Q),he(a,l[0],l[1]),he(Q,h[0],h[1]),Y(a,a,Q),Y(g,l[3],h[3]),Y(g,g,p),Y(b,l[2],h[2]),he(b,b,b),J(T,a,f),J(C,b,g),he(W,b,g),he(ce,a,f),Y(l[0],T,C),Y(l[1],ce,W),Y(l[2],W,C),Y(l[3],T,ce)}function Ns(l,h,f){var a;for(a=0;a<4;a++)ue(l[a],h[a],f)}function Ai(l,h){var f=n(),a=n(),g=n();Xe(g,h[2]),Y(f,h[0],g),Y(a,h[1],g),Ie(l,a),l[31]^=Ue(f)<<7}function Ei(l,h,f){var a,g;for(ee(l[0],o),ee(l[1],c),ee(l[2],c),ee(l[3],o),g=255;g>=0;--g)a=f[g/8|0]>>(g&7)&1,Ns(l,h,a),fr(h,l),fr(l,l),Ns(l,h,a)}function hr(l,h){var f=[n(),n(),n(),n()];ee(f[0],_),ee(f[1],y),ee(f[2],c),Y(f[3],_,y),Ei(l,f,h)}function Ui(l,h,f){var a=new Uint8Array(64),g=[n(),n(),n(),n()],b;for(f||r(h,32),Xt(a,h,32),a[0]&=248,a[31]&=127,a[31]|=64,hr(g,a),Ai(l,g),b=0;b<32;b++)h[b+32]=l[b];return 0}var pr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ri(l,h){var f,a,g,b;for(a=63;a>=32;--a){for(f=0,g=a-32,b=a-12;g<b;++g)h[g]+=f-16*h[a]*pr[g-(a-32)],f=Math.floor((h[g]+128)/256),h[g]-=f*256;h[g]+=f,h[a]=0}for(f=0,g=0;g<32;g++)h[g]+=f-(h[31]>>4)*pr[g],f=h[g]>>8,h[g]&=255;for(g=0;g<32;g++)h[g]-=f*pr[g];for(a=0;a<32;a++)h[a+1]+=h[a]>>8,l[a]=h[a]&255}function ki(l){var h=new Float64Array(64),f;for(f=0;f<64;f++)h[f]=l[f];for(f=0;f<64;f++)l[f]=0;Ri(l,h)}function Ds(l,h,f,a){var g=new Uint8Array(64),b=new Uint8Array(64),T=new Uint8Array(64),C,W,ce=new Float64Array(64),Q=[n(),n(),n(),n()];Xt(g,a,32),g[0]&=248,g[31]&=127,g[31]|=64;var Le=f+64;for(C=0;C<f;C++)l[64+C]=h[C];for(C=0;C<32;C++)l[32+C]=g[32+C];for(Xt(T,l.subarray(32),f+32),ki(T),hr(Q,T),Ai(l,Q),C=32;C<64;C++)l[C]=a[C];for(Xt(b,l,f+64),ki(b),C=0;C<64;C++)ce[C]=0;for(C=0;C<32;C++)ce[C]=T[C];for(C=0;C<32;C++)for(W=0;W<32;W++)ce[C+W]+=b[C]*g[W];return Ri(l.subarray(32),ce),Le}function Rc(l,h){var f=n(),a=n(),g=n(),b=n(),T=n(),C=n(),W=n();return ee(l[2],c),oe(l[1],h),Re(g,l[1]),Y(b,g,d),J(g,g,l[2]),he(b,l[2],b),Re(T,b),Re(C,T),Y(W,C,T),Y(f,W,g),Y(f,f,b),gt(f,f),Y(f,f,g),Y(f,f,b),Y(f,f,b),Y(l[0],f,b),Re(a,l[0]),Y(a,a,b),de(a,g)&&Y(l[0],l[0],x),Re(a,l[0]),Y(a,a,b),de(a,g)?-1:(Ue(l[0])===h[31]>>7&&J(l[0],o,l[0]),Y(l[3],l[0],l[1]),0)}function Bi(l,h,f,a){var g,b=new Uint8Array(32),T=new Uint8Array(64),C=[n(),n(),n(),n()],W=[n(),n(),n(),n()];if(f<64||Rc(W,a))return-1;for(g=0;g<f;g++)l[g]=h[g];for(g=0;g<32;g++)l[g+32]=a[g];if(Xt(T,l,f),ki(T),Ei(C,W,T),hr(W,h.subarray(32)),fr(C,W),Ai(b,C),f-=64,K(h,0,b,0)){for(g=0;g<f;g++)l[g]=0;return-1}for(g=0;g<f;g++)l[g]=h[g+64];return f}var Pi=32,gr=24,Ln=32,fn=16,Fn=32,yr=32,Hn=32,Wn=32,Oi=32,$s=gr,kc=Ln,Bc=fn,Dt=64,Yt=32,hn=64,Ii=32,qi=64;t.lowlevel={crypto_core_hsalsa20:U,crypto_stream_xor:xe,crypto_stream:X,crypto_stream_salsa20_xor:q,crypto_stream_salsa20:H,crypto_onetimeauth:S,crypto_onetimeauth_verify:A,crypto_verify_16:$,crypto_verify_32:K,crypto_secretbox:P,crypto_secretbox_open:V,crypto_scalarmult:pe,crypto_scalarmult_base:We,crypto_box_beforenm:Ot,crypto_box_afternm:mt,crypto_box:Si,crypto_box_open:Ti,crypto_box_keypair:Je,crypto_hash:Xt,crypto_sign:Ds,crypto_sign_keypair:Ui,crypto_sign_open:Bi,crypto_secretbox_KEYBYTES:Pi,crypto_secretbox_NONCEBYTES:gr,crypto_secretbox_ZEROBYTES:Ln,crypto_secretbox_BOXZEROBYTES:fn,crypto_scalarmult_BYTES:Fn,crypto_scalarmult_SCALARBYTES:yr,crypto_box_PUBLICKEYBYTES:Hn,crypto_box_SECRETKEYBYTES:Wn,crypto_box_BEFORENMBYTES:Oi,crypto_box_NONCEBYTES:$s,crypto_box_ZEROBYTES:kc,crypto_box_BOXZEROBYTES:Bc,crypto_sign_BYTES:Dt,crypto_sign_PUBLICKEYBYTES:Yt,crypto_sign_SECRETKEYBYTES:hn,crypto_sign_SEEDBYTES:Ii,crypto_hash_BYTES:qi,gf:n,D:d,L:pr,pack25519:Ie,unpack25519:oe,M:Y,A:he,S:Re,Z:J,pow2523:gt,add:fr,set25519:ee,modL:Ri,scalarmult:Ei,scalarbase:hr};function zs(l,h){if(l.length!==Pi)throw new Error("bad key size");if(h.length!==gr)throw new Error("bad nonce size")}function Pc(l,h){if(l.length!==Hn)throw new Error("bad public key size");if(h.length!==Wn)throw new Error("bad secret key size")}function xt(){for(var l=0;l<arguments.length;l++)if(!(arguments[l]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ls(l){for(var h=0;h<l.length;h++)l[h]=0}t.randomBytes=function(l){var h=new Uint8Array(l);return r(h,l),h},t.secretbox=function(l,h,f){xt(l,h,f),zs(f,h);for(var a=new Uint8Array(Ln+l.length),g=new Uint8Array(a.length),b=0;b<l.length;b++)a[b+Ln]=l[b];return P(g,a,a.length,h,f),g.subarray(fn)},t.secretbox.open=function(l,h,f){xt(l,h,f),zs(f,h);for(var a=new Uint8Array(fn+l.length),g=new Uint8Array(a.length),b=0;b<l.length;b++)a[b+fn]=l[b];return a.length<32||V(g,a,a.length,h,f)!==0?null:g.subarray(Ln)},t.secretbox.keyLength=Pi,t.secretbox.nonceLength=gr,t.secretbox.overheadLength=fn,t.scalarMult=function(l,h){if(xt(l,h),l.length!==yr)throw new Error("bad n size");if(h.length!==Fn)throw new Error("bad p size");var f=new Uint8Array(Fn);return pe(f,l,h),f},t.scalarMult.base=function(l){if(xt(l),l.length!==yr)throw new Error("bad n size");var h=new Uint8Array(Fn);return We(h,l),h},t.scalarMult.scalarLength=yr,t.scalarMult.groupElementLength=Fn,t.box=function(l,h,f,a){var g=t.box.before(f,a);return t.secretbox(l,h,g)},t.box.before=function(l,h){xt(l,h),Pc(l,h);var f=new Uint8Array(Oi);return Ot(f,l,h),f},t.box.after=t.secretbox,t.box.open=function(l,h,f,a){var g=t.box.before(f,a);return t.secretbox.open(l,h,g)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var l=new Uint8Array(Hn),h=new Uint8Array(Wn);return Je(l,h),{publicKey:l,secretKey:h}},t.box.keyPair.fromSecretKey=function(l){if(xt(l),l.length!==Wn)throw new Error("bad secret key size");var h=new Uint8Array(Hn);return We(h,l),{publicKey:h,secretKey:new Uint8Array(l)}},t.box.publicKeyLength=Hn,t.box.secretKeyLength=Wn,t.box.sharedKeyLength=Oi,t.box.nonceLength=$s,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(l,h){if(xt(l,h),h.length!==hn)throw new Error("bad secret key size");var f=new Uint8Array(Dt+l.length);return Ds(f,l,l.length,h),f},t.sign.open=function(l,h){if(xt(l,h),h.length!==Yt)throw new Error("bad public key size");var f=new Uint8Array(l.length),a=Bi(f,l,l.length,h);if(a<0)return null;for(var g=new Uint8Array(a),b=0;b<g.length;b++)g[b]=f[b];return g},t.sign.detached=function(l,h){for(var f=t.sign(l,h),a=new Uint8Array(Dt),g=0;g<a.length;g++)a[g]=f[g];return a},t.sign.detached.verify=function(l,h,f){if(xt(l,h,f),h.length!==Dt)throw new Error("bad signature size");if(f.length!==Yt)throw new Error("bad public key size");var a=new Uint8Array(Dt+l.length),g=new Uint8Array(Dt+l.length),b;for(b=0;b<Dt;b++)a[b]=h[b];for(b=0;b<l.length;b++)a[b+Dt]=l[b];return Bi(g,a,a.length,f)>=0},t.sign.keyPair=function(){var l=new Uint8Array(Yt),h=new Uint8Array(hn);return Ui(l,h),{publicKey:l,secretKey:h}},t.sign.keyPair.fromSecretKey=function(l){if(xt(l),l.length!==hn)throw new Error("bad secret key size");for(var h=new Uint8Array(Yt),f=0;f<h.length;f++)h[f]=l[32+f];return{publicKey:h,secretKey:new Uint8Array(l)}},t.sign.keyPair.fromSeed=function(l){if(xt(l),l.length!==Ii)throw new Error("bad seed size");for(var h=new Uint8Array(Yt),f=new Uint8Array(hn),a=0;a<32;a++)f[a]=l[a];return Ui(h,f,!0),{publicKey:h,secretKey:f}},t.sign.publicKeyLength=Yt,t.sign.secretKeyLength=hn,t.sign.seedLength=Ii,t.sign.signatureLength=Dt,t.hash=function(l){xt(l);var h=new Uint8Array(qi);return Xt(h,l,l.length),h},t.hash.hashLength=qi,t.verify=function(l,h){return xt(l,h),l.length===0||h.length===0||l.length!==h.length?!1:E(l,0,h,0,l.length)===0},t.setPRNG=function(l){r=l},function(){var l=typeof self<"u"?self.crypto||self.msCrypto:null;if(l&&l.getRandomValues){var h=65536;t.setPRNG(function(f,a){var g,b=new Uint8Array(a);for(g=0;g<a;g+=h)l.getRandomValues(b.subarray(g,g+Math.min(a-g,h)));for(g=0;g<a;g++)f[g]=b[g];Ls(b)})}else typeof Oc<"u"&&(l=qc,l&&l.randomBytes&&t.setPRNG(function(f,a){var g,b=l.randomBytes(a);for(g=0;g<a;g++)f[g]=b[g];Ls(b)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(Vc);var Ho={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(S){if(!Number.isSafeInteger(S))throw new Error(`Wrong integer: ${S}`)}e.assertNumber=t;function n(S){return S instanceof Uint8Array||S!=null&&typeof S=="object"&&S.constructor.name==="Uint8Array"}function r(...S){const A=se=>se,P=(se,ue)=>Ie=>se(ue(Ie)),V=S.map(se=>se.encode).reduceRight(P,A),ee=S.map(se=>se.decode).reduce(P,A);return{encode:V,decode:ee}}function i(S){return{encode:A=>{if(!Array.isArray(A)||A.length&&typeof A[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return A.map(P=>{if(P<0||P>=S.length)throw new Error(`Digit index outside alphabet: ${P} (alphabet: ${S.length})`);return S[P]})},decode:A=>{if(!Array.isArray(A)||A.length&&typeof A[0]!="string")throw new Error("alphabet.decode input should be array of strings");return A.map(P=>{if(typeof P!="string")throw new Error(`alphabet.decode: not string element=${P}`);const V=S.indexOf(P);if(V===-1)throw new Error(`Unknown letter: "${P}". Allowed: ${S}`);return V})}}}function s(S=""){if(typeof S!="string")throw new Error("join separator should be string");return{encode:A=>{if(!Array.isArray(A)||A.length&&typeof A[0]!="string")throw new Error("join.encode input should be array of strings");for(let P of A)if(typeof P!="string")throw new Error(`join.encode: non-string input=${P}`);return A.join(S)},decode:A=>{if(typeof A!="string")throw new Error("join.decode input should be string");return A.split(S)}}}function o(S,A="="){if(typeof A!="string")throw new Error("padding chr should be string");return{encode(P){if(!Array.isArray(P)||P.length&&typeof P[0]!="string")throw new Error("padding.encode input should be array of strings");for(let V of P)if(typeof V!="string")throw new Error(`padding.encode: non-string input=${V}`);for(;P.length*S%8;)P.push(A);return P},decode(P){if(!Array.isArray(P)||P.length&&typeof P[0]!="string")throw new Error("padding.encode input should be array of strings");for(let ee of P)if(typeof ee!="string")throw new Error(`padding.decode: non-string input=${ee}`);let V=P.length;if(V*S%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;V>0&&P[V-1]===A;V--)if(!((V-1)*S%8))throw new Error("Invalid padding: string has too much padding");return P.slice(0,V)}}}function c(S){if(typeof S!="function")throw new Error("normalize fn should be function");return{encode:A=>A,decode:A=>S(A)}}function u(S,A,P){if(A<2)throw new Error(`convertRadix: wrong from=${A}, base cannot be less than 2`);if(P<2)throw new Error(`convertRadix: wrong to=${P}, base cannot be less than 2`);if(!Array.isArray(S))throw new Error("convertRadix: data should be array");if(!S.length)return[];let V=0;const ee=[],se=Array.from(S);for(se.forEach(ue=>{if(ue<0||ue>=A)throw new Error(`Wrong integer: ${ue}`)});;){let ue=0,Ie=!0;for(let de=V;de<se.length;de++){const Ue=se[de],oe=A*ue+Ue;if(!Number.isSafeInteger(oe)||A*ue/A!==ue||oe-Ue!==A*ue)throw new Error("convertRadix: carry overflow");ue=oe%P;const he=Math.floor(oe/P);if(se[de]=he,!Number.isSafeInteger(he)||he*P+ue!==oe)throw new Error("convertRadix: carry overflow");if(Ie)he?Ie=!1:V=de;else continue}if(ee.push(ue),Ie)break}for(let ue=0;ue<S.length-1&&S[ue]===0;ue++)ee.push(0);return ee.reverse()}const d=(S,A)=>A?d(A,S%A):S,p=(S,A)=>S+(A-d(S,A));function _(S,A,P,V){if(!Array.isArray(S))throw new Error("convertRadix2: data should be array");if(A<=0||A>32)throw new Error(`convertRadix2: wrong from=${A}`);if(P<=0||P>32)throw new Error(`convertRadix2: wrong to=${P}`);if(p(A,P)>32)throw new Error(`convertRadix2: carry overflow from=${A} to=${P} carryBits=${p(A,P)}`);let ee=0,se=0;const ue=2**P-1,Ie=[];for(const de of S){if(de>=2**A)throw new Error(`convertRadix2: invalid data word=${de} from=${A}`);if(ee=ee<<A|de,se+A>32)throw new Error(`convertRadix2: carry overflow pos=${se} from=${A}`);for(se+=A;se>=P;se-=P)Ie.push((ee>>se-P&ue)>>>0);ee&=2**se-1}if(ee=ee<<P-se&ue,!V&&se>=A)throw new Error("Excess padding");if(!V&&ee)throw new Error(`Non-zero padding: ${ee}`);return V&&se>0&&Ie.push(ee>>>0),Ie}function y(S){return{encode:A=>{if(!n(A))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(A),2**8,S)},decode:A=>{if(!Array.isArray(A)||A.length&&typeof A[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(u(A,S,2**8))}}}function x(S,A=!1){if(S<=0||S>32)throw new Error("radix2: bits should be in (0..32]");if(p(8,S)>32||p(S,8)>32)throw new Error("radix2: carry overflow");return{encode:P=>{if(!n(P))throw new Error("radix2.encode input should be Uint8Array");return _(Array.from(P),8,S,!A)},decode:P=>{if(!Array.isArray(P)||P.length&&typeof P[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(_(P,S,8,A))}}}function O(S){if(typeof S!="function")throw new Error("unsafeWrapper fn should be function");return function(...A){try{return S.apply(null,A)}catch{}}}function E(S,A){if(typeof A!="function")throw new Error("checksum fn should be function");return{encode(P){if(!n(P))throw new Error("checksum.encode: input should be Uint8Array");const V=A(P).slice(0,S),ee=new Uint8Array(P.length+S);return ee.set(P),ee.set(V,P.length),ee},decode(P){if(!n(P))throw new Error("checksum.decode: input should be Uint8Array");const V=P.slice(0,-S),ee=A(V).slice(0,S),se=P.slice(-S);for(let ue=0;ue<S;ue++)if(ee[ue]!==se[ue])throw new Error("Invalid checksum");return V}}}e.utils={alphabet:i,chain:r,checksum:E,convertRadix:u,convertRadix2:_,radix:y,radix2:x,join:s,padding:o},e.base16=r(x(4),i("0123456789ABCDEF"),s("")),e.base32=r(x(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),s("")),e.base32nopad=r(x(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s("")),e.base32hex=r(x(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),s("")),e.base32hexnopad=r(x(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s("")),e.base32crockford=r(x(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),c(S=>S.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),s("")),e.base64nopad=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s("")),e.base64url=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),s("")),e.base64urlnopad=r(x(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(""));const $=S=>r(y(58),i(S),s(""));e.base58=$("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=$("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=$("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const K=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(S){let A="";for(let P=0;P<S.length;P+=8){const V=S.subarray(P,P+8);A+=e.base58.encode(V).padStart(K[V.length],"1")}return A},decode(S){let A=[];for(let P=0;P<S.length;P+=11){const V=S.slice(P,P+11),ee=K.indexOf(V.length),se=e.base58.decode(V);for(let ue=0;ue<se.length-ee;ue++)if(se[ue]!==0)throw new Error("base58xmr: wrong padding");A=A.concat(Array.from(se.slice(se.length-ee)))}return Uint8Array.from(A)}};const G=S=>r(E(4,A=>S(S(A))),e.base58);e.createBase58check=G,e.base58check=e.createBase58check;const z=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),I=[996825010,642813549,513874426,1027748829,705979059];function U(S){const A=S>>25;let P=(S&33554431)<<5;for(let V=0;V<I.length;V++)(A>>V&1)===1&&(P^=I[V]);return P}function D(S,A,P=1){const V=S.length;let ee=1;for(let se=0;se<V;se++){const ue=S.charCodeAt(se);if(ue<33||ue>126)throw new Error(`Invalid prefix (${S})`);ee=U(ee)^ue>>5}ee=U(ee);for(let se=0;se<V;se++)ee=U(ee)^S.charCodeAt(se)&31;for(let se of A)ee=U(ee)^se;for(let se=0;se<6;se++)ee=U(ee);return ee^=P,z.encode(_([ee%2**30],30,5,!1))}function q(S){const A=S==="bech32"?1:734539939,P=x(5),V=P.decode,ee=P.encode,se=O(V);function ue(oe,he,J=90){if(typeof oe!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof oe}`);if(!Array.isArray(he)||he.length&&typeof he[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof he}`);if(oe.length===0)throw new TypeError(`Invalid prefix length ${oe.length}`);const Y=oe.length+7+he.length;if(J!==!1&&Y>J)throw new TypeError(`Length ${Y} exceeds limit ${J}`);const Re=oe.toLowerCase(),Xe=D(Re,he,A);return`${Re}1${z.encode(he)}${Xe}`}function Ie(oe,he=90){if(typeof oe!="string")throw new Error(`bech32.decode input should be string, not ${typeof oe}`);if(oe.length<8||he!==!1&&oe.length>he)throw new TypeError(`Wrong string length: ${oe.length} (${oe}). Expected (8..${he})`);const J=oe.toLowerCase();if(oe!==J&&oe!==oe.toUpperCase())throw new Error("String must be lowercase or uppercase");const Y=J.lastIndexOf("1");if(Y===0||Y===-1)throw new Error('Letter "1" must be present between prefix and data only');const Re=J.slice(0,Y),Xe=J.slice(Y+1);if(Xe.length<6)throw new Error("Data must be at least 6 characters long");const gt=z.decode(Xe).slice(0,-6),pe=D(Re,gt,A);if(!Xe.endsWith(pe))throw new Error(`Invalid checksum in ${oe}: expected "${pe}"`);return{prefix:Re,words:gt}}const de=O(Ie);function Ue(oe){const{prefix:he,words:J}=Ie(oe,!1);return{prefix:he,words:J,bytes:V(J)}}return{encode:ue,decode:Ie,decodeToBytes:Ue,decodeUnsafe:de,fromWords:V,fromWordsUnsafe:se,toWords:ee}}e.bech32=q("bech32"),e.bech32m=q("bech32m"),e.utf8={encode:S=>new TextDecoder().decode(S),decode:S=>new TextEncoder().encode(S)},e.hex=r(x(4),i("0123456789abcdef"),s(""),c(S=>{if(typeof S!="string"||S.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof S} with length ${S.length}`);return S.toLowerCase()}));const H={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},X="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",xe=(S,A)=>{if(typeof S!="string"||!H.hasOwnProperty(S))throw new TypeError(X);if(!n(A))throw new TypeError("bytesToString() expects Uint8Array");return H[S].encode(A)};e.bytesToString=xe,e.str=e.bytesToString;const Ce=(S,A)=>{if(!H.hasOwnProperty(S))throw new TypeError(X);if(typeof A!="string")throw new TypeError("stringToBytes() expects string");return H[S].decode(A)};e.stringToBytes=Ce,e.bytes=e.stringToBytes})(Ho);var bt={},at={};Object.defineProperty(at,"__esModule",{value:!0});at.output=at.exists=at.hash=at.bytes=at.bool=at.number=void 0;function Nr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}at.number=Nr;function Wo(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}at.bool=Wo;function cs(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}at.bytes=cs;function jo(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Nr(e.outputLen),Nr(e.blockLen)}at.hash=jo;function Go(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}at.exists=Go;function Vo(e,t){cs(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}at.output=Vo;const Kc={number:Nr,bool:Wo,bytes:cs,hash:jo,exists:Go,output:Vo};at.default=Kc;var bn={},Ko={},nr={};const Vn={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Xc=Object.freeze(Object.defineProperty({__proto__:null,crypto:Vn},Symbol.toStringTag,{value:"Module"})),Yc=as(Xc);(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=Yc,n=I=>new Uint8Array(I.buffer,I.byteOffset,I.byteLength);e.u8=n;const r=I=>new Uint32Array(I.buffer,I.byteOffset,Math.floor(I.byteLength/4));e.u32=r;const i=I=>new DataView(I.buffer,I.byteOffset,I.byteLength);e.createView=i;const s=(I,U)=>I<<32-U|I>>>U;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(I,U)=>U.toString(16).padStart(2,"0"));function c(I){if(!(I instanceof Uint8Array))throw new Error("Uint8Array expected");let U="";for(let D=0;D<I.length;D++)U+=o[I[D]];return U}e.bytesToHex=c;function u(I){if(typeof I!="string")throw new TypeError("hexToBytes: expected string, got "+typeof I);if(I.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const U=new Uint8Array(I.length/2);for(let D=0;D<U.length;D++){const q=D*2,H=I.slice(q,q+2),X=Number.parseInt(H,16);if(Number.isNaN(X)||X<0)throw new Error("Invalid byte sequence");U[D]=X}return U}e.hexToBytes=u;const d=async()=>{};e.nextTick=d;async function p(I,U,D){let q=Date.now();for(let H=0;H<I;H++){D(H);const X=Date.now()-q;X>=0&&X<U||(await(0,e.nextTick)(),q+=X)}}e.asyncLoop=p;function _(I){if(typeof I!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof I}`);return new TextEncoder().encode(I)}e.utf8ToBytes=_;function y(I){if(typeof I=="string"&&(I=_(I)),!(I instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof I})`);return I}e.toBytes=y;function x(...I){if(!I.every(q=>q instanceof Uint8Array))throw new Error("Uint8Array list expected");if(I.length===1)return I[0];const U=I.reduce((q,H)=>q+H.length,0),D=new Uint8Array(U);for(let q=0,H=0;q<I.length;q++){const X=I[q];D.set(X,H),H+=X.length}return D}e.concatBytes=x;class O{clone(){return this._cloneInto()}}e.Hash=O;const E=I=>Object.prototype.toString.call(I)==="[object Object]"&&I.constructor===Object;function $(I,U){if(U!==void 0&&(typeof U!="object"||!E(U)))throw new TypeError("Options should be object or undefined");return Object.assign(I,U)}e.checkOpts=$;function K(I){const U=q=>I().update(y(q)).digest(),D=I();return U.outputLen=D.outputLen,U.blockLen=D.blockLen,U.create=()=>I(),U}e.wrapConstructor=K;function G(I){const U=(q,H)=>I(H).update(y(q)).digest(),D=I({});return U.outputLen=D.outputLen,U.blockLen=D.blockLen,U.create=q=>I(q),U}e.wrapConstructorWithOpts=G;function z(I=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(I));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(I).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=z})(nr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const t=at,n=nr;class r extends n.Hash{constructor(o,c){super(),this.finished=!1,this.destroyed=!1,t.default.hash(o);const u=(0,n.toBytes)(c);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,p=new Uint8Array(d);p.set(u.length>d?o.create().update(u).digest():u);for(let _=0;_<p.length;_++)p[_]^=54;this.iHash.update(p),this.oHash=o.create();for(let _=0;_<p.length;_++)p[_]^=106;this.oHash.update(p),p.fill(0)}update(o){return t.default.exists(this),this.iHash.update(o),this}digestInto(o){t.default.exists(this),t.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:c,iHash:u,finished:d,destroyed:p,blockLen:_,outputLen:y}=this;return o=o,o.finished=d,o.destroyed=p,o.blockLen=_,o.outputLen=y,o.oHash=c._cloneInto(o.oHash),o.iHash=u._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,c)=>new r(s,o).update(c).digest();e.hmac=i,e.hmac.create=(s,o)=>new r(s,o)})(Ko);Object.defineProperty(bn,"__esModule",{value:!0});bn.pbkdf2Async=bn.pbkdf2=void 0;const _r=at,Jc=Ko,wn=nr;function Xo(e,t,n,r){_r.default.hash(e);const i=(0,wn.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:c}=i;if(_r.default.number(s),_r.default.number(o),_r.default.number(c),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const u=(0,wn.toBytes)(t),d=(0,wn.toBytes)(n),p=new Uint8Array(o),_=Jc.hmac.create(e,u),y=_._cloneInto().update(d);return{c:s,dkLen:o,asyncTick:c,DK:p,PRF:_,PRFSalt:y}}function Yo(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function Zc(e,t,n,r){const{c:i,dkLen:s,DK:o,PRF:c,PRFSalt:u}=Xo(e,t,n,r);let d;const p=new Uint8Array(4),_=(0,wn.createView)(p),y=new Uint8Array(c.outputLen);for(let x=1,O=0;O<s;x++,O+=c.outputLen){const E=o.subarray(O,O+c.outputLen);_.setInt32(0,x,!1),(d=u._cloneInto(d)).update(p).digestInto(y),E.set(y.subarray(0,E.length));for(let $=1;$<i;$++){c._cloneInto(d).update(y).digestInto(y);for(let K=0;K<E.length;K++)E[K]^=y[K]}}return Yo(c,u,o,d,y)}bn.pbkdf2=Zc;async function Qc(e,t,n,r){const{c:i,dkLen:s,asyncTick:o,DK:c,PRF:u,PRFSalt:d}=Xo(e,t,n,r);let p;const _=new Uint8Array(4),y=(0,wn.createView)(_),x=new Uint8Array(u.outputLen);for(let O=1,E=0;E<s;O++,E+=u.outputLen){const $=c.subarray(E,E+u.outputLen);y.setInt32(0,O,!1),(p=d._cloneInto(p)).update(_).digestInto(x),$.set(x.subarray(0,$.length)),await(0,wn.asyncLoop)(i-1,o,K=>{u._cloneInto(p).update(x).digestInto(x);for(let G=0;G<$.length;G++)$[G]^=x[G]})}return Yo(u,d,c,p,x)}bn.pbkdf2Async=Qc;var Wr={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.SHA2=void 0;const Mi=at,jn=nr;function eu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;e.setUint32(t+u,o,r),e.setUint32(t+d,c,r)}let tu=class extends jn.Hash{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,jn.createView)(this.buffer)}update(t){Mi.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=(0,jn.toBytes)(t);const s=t.length;for(let o=0;o<s;){const c=Math.min(i-this.pos,s-o);if(c===i){const u=(0,jn.createView)(t);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Mi.default.exists(this),Mi.default.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let u=o;u<i;u++)n[u]=0;eu(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=(0,jn.createView)(t);this.get().forEach((u,d)=>c.setUint32(4*d,u,s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};jr.SHA2=tu;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.sha256=void 0;const nu=jr,kt=nr,ru=(e,t,n)=>e&t^~e&n,iu=(e,t,n)=>e&t^e&n^t&n,su=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Lt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ft=new Uint32Array(64);class ou extends nu.SHA2{constructor(){super(64,32,8,!1),this.A=Lt[0]|0,this.B=Lt[1]|0,this.C=Lt[2]|0,this.D=Lt[3]|0,this.E=Lt[4]|0,this.F=Lt[5]|0,this.G=Lt[6]|0,this.H=Lt[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:c,H:u}=this;return[t,n,r,i,s,o,c,u]}set(t,n,r,i,s,o,c,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=c|0,this.H=u|0}process(t,n){for(let _=0;_<16;_++,n+=4)Ft[_]=t.getUint32(n,!1);for(let _=16;_<64;_++){const y=Ft[_-15],x=Ft[_-2],O=(0,kt.rotr)(y,7)^(0,kt.rotr)(y,18)^y>>>3,E=(0,kt.rotr)(x,17)^(0,kt.rotr)(x,19)^x>>>10;Ft[_]=E+Ft[_-7]+O+Ft[_-16]|0}let{A:r,B:i,C:s,D:o,E:c,F:u,G:d,H:p}=this;for(let _=0;_<64;_++){const y=(0,kt.rotr)(c,6)^(0,kt.rotr)(c,11)^(0,kt.rotr)(c,25),x=p+y+ru(c,u,d)+su[_]+Ft[_]|0,E=((0,kt.rotr)(r,2)^(0,kt.rotr)(r,13)^(0,kt.rotr)(r,22))+iu(r,i,s)|0;p=d,d=u,u=c,c=o+x|0,o=s,s=i,i=r,r=x+E|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,i,s,o,c,u,d,p)}roundClean(){Ft.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}Wr.sha256=(0,kt.wrapConstructor)(()=>new ou);function Qi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function au(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Jo(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function cu(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qi(e.outputLen),Qi(e.blockLen)}function uu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function lu(e,t){Jo(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const St={number:Qi,bool:au,bytes:Jo,hash:cu,exists:uu,output:lu};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const du=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Zo=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Er=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),fu=(e,t)=>e<<32-t|e>>>t,Qo=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Qo)throw new Error("Non little-endian hardware is not supported");const hu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function us(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=hu[e[n]];return t}function ls(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,i=e.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[n]=s}return t}const ea=async()=>{};async function pu(e,t,n){let r=Date.now();for(let i=0;i<e;i++){n(i);const s=Date.now()-r;s>=0&&s<t||(await ea(),r+=s)}}function ta(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function qn(e){if(typeof e=="string"&&(e=ta(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function gu(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Gr{clone(){return this._cloneInto()}}const yu=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function _u(e,t){if(t!==void 0&&(typeof t!="object"||!yu(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}function rr(e){const t=r=>e().update(qn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function na(e){const t=(r,i)=>e(i).update(qn(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function mu(e=32){if(Vn.web)return Vn.web.getRandomValues(new Uint8Array(e));if(Vn.node)return new Uint8Array(Vn.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}const wu=Object.freeze(Object.defineProperty({__proto__:null,Hash:Gr,asyncLoop:pu,bytesToHex:us,checkOpts:_u,concatBytes:gu,createView:Er,hexToBytes:ls,isLE:Qo,nextTick:ea,randomBytes:mu,rotr:fu,toBytes:qn,u32:Zo,u8:du,utf8ToBytes:ta,wrapConstructor:rr,wrapConstructorWithOpts:na},Symbol.toStringTag,{value:"Module"}));function xu(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;e.setUint32(t+u,o,r),e.setUint32(t+d,c,r)}class vu extends Gr{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Er(this.buffer)}update(t){St.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=qn(t);const s=t.length;for(let o=0;o<s;){const c=Math.min(i-this.pos,s-o);if(c===i){const u=Er(t);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){St.exists(this),St.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let u=o;u<i;u++)n[u]=0;xu(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Er(t);this.get().forEach((u,d)=>c.setUint32(4*d,u,s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:c}=this;return t.length=i,t.pos=c,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const mr=BigInt(2**32-1),es=BigInt(32);function ra(e,t=!1){return t?{h:Number(e&mr),l:Number(e>>es&mr)}:{h:Number(e>>es&mr)|0,l:Number(e&mr)|0}}function bu(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=ra(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const Su=(e,t)=>BigInt(e>>>0)<<es|BigInt(t>>>0),Tu=(e,t,n)=>e>>>n,Au=(e,t,n)=>e<<32-n|t>>>n,Eu=(e,t,n)=>e>>>n|t<<32-n,Uu=(e,t,n)=>e<<32-n|t>>>n,Ru=(e,t,n)=>e<<64-n|t>>>n-32,ku=(e,t,n)=>e>>>n-32|t<<64-n,Bu=(e,t)=>t,Pu=(e,t)=>e,Ou=(e,t,n)=>e<<n|t>>>32-n,Iu=(e,t,n)=>t<<n|e>>>32-n,qu=(e,t,n)=>t<<n-32|e>>>64-n,Mu=(e,t,n)=>e<<n-32|t>>>64-n;function Cu(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const Nu=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Du=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,$u=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),zu=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Lu=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Fu=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,be={fromBig:ra,split:bu,toBig:Su,shrSH:Tu,shrSL:Au,rotrSH:Eu,rotrSL:Uu,rotrBH:Ru,rotrBL:ku,rotr32H:Bu,rotr32L:Pu,rotlSH:Ou,rotlSL:Iu,rotlBH:qu,rotlBL:Mu,add:Cu,add3L:Nu,add3H:Du,add4L:$u,add4H:zu,add5H:Fu,add5L:Lu},[Hu,Wu]=be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ht=new Uint32Array(80),Wt=new Uint32Array(80);class Vr extends vu{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:c,Dl:u,Eh:d,El:p,Fh:_,Fl:y,Gh:x,Gl:O,Hh:E,Hl:$}=this;return[t,n,r,i,s,o,c,u,d,p,_,y,x,O,E,$]}set(t,n,r,i,s,o,c,u,d,p,_,y,x,O,E,$){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=p|0,this.Fh=_|0,this.Fl=y|0,this.Gh=x|0,this.Gl=O|0,this.Hh=E|0,this.Hl=$|0}process(t,n){for(let z=0;z<16;z++,n+=4)Ht[z]=t.getUint32(n),Wt[z]=t.getUint32(n+=4);for(let z=16;z<80;z++){const I=Ht[z-15]|0,U=Wt[z-15]|0,D=be.rotrSH(I,U,1)^be.rotrSH(I,U,8)^be.shrSH(I,U,7),q=be.rotrSL(I,U,1)^be.rotrSL(I,U,8)^be.shrSL(I,U,7),H=Ht[z-2]|0,X=Wt[z-2]|0,xe=be.rotrSH(H,X,19)^be.rotrBH(H,X,61)^be.shrSH(H,X,6),Ce=be.rotrSL(H,X,19)^be.rotrBL(H,X,61)^be.shrSL(H,X,6),S=be.add4L(q,Ce,Wt[z-7],Wt[z-16]),A=be.add4H(S,D,xe,Ht[z-7],Ht[z-16]);Ht[z]=A|0,Wt[z]=S|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:c,Cl:u,Dh:d,Dl:p,Eh:_,El:y,Fh:x,Fl:O,Gh:E,Gl:$,Hh:K,Hl:G}=this;for(let z=0;z<80;z++){const I=be.rotrSH(_,y,14)^be.rotrSH(_,y,18)^be.rotrBH(_,y,41),U=be.rotrSL(_,y,14)^be.rotrSL(_,y,18)^be.rotrBL(_,y,41),D=_&x^~_&E,q=y&O^~y&$,H=be.add5L(G,U,q,Wu[z],Wt[z]),X=be.add5H(H,K,I,D,Hu[z],Ht[z]),xe=H|0,Ce=be.rotrSH(r,i,28)^be.rotrBH(r,i,34)^be.rotrBH(r,i,39),S=be.rotrSL(r,i,28)^be.rotrBL(r,i,34)^be.rotrBL(r,i,39),A=r&s^r&c^s&c,P=i&o^i&u^o&u;K=E|0,G=$|0,E=x|0,$=O|0,x=_|0,O=y|0,{h:_,l:y}=be.add(d|0,p|0,X|0,xe|0),d=c|0,p=u|0,c=s|0,u=o|0,s=r|0,o=i|0;const V=be.add3L(xe,S,P);r=be.add3H(V,X,Ce,A),i=V|0}({h:r,l:i}=be.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=be.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:c,l:u}=be.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:p}=be.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:_,l:y}=be.add(this.Eh|0,this.El|0,_|0,y|0),{h:x,l:O}=be.add(this.Fh|0,this.Fl|0,x|0,O|0),{h:E,l:$}=be.add(this.Gh|0,this.Gl|0,E|0,$|0),{h:K,l:G}=be.add(this.Hh|0,this.Hl|0,K|0,G|0),this.set(r,i,s,o,c,u,d,p,_,y,x,O,E,$,K,G)}roundClean(){Ht.fill(0),Wt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ju extends Vr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Gu extends Vr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const ds=rr(()=>new Vr),Vu=rr(()=>new ju),Ku=rr(()=>new Gu),Xu=Object.freeze(Object.defineProperty({__proto__:null,SHA512:Vr,sha384:Ku,sha512:ds,sha512_256:Vu},Symbol.toStringTag,{value:"Module"})),Yu=as(Xu),Ju=as(wu);Object.defineProperty(bt,"__esModule",{value:!0});var ia=bt.mnemonicToSeedSync=bt.mnemonicToSeed=bt.validateMnemonic=bt.entropyToMnemonic=bt.mnemonicToEntropy=bt.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const sa=at,oa=bn,Zu=Wr,aa=Yu,Qu=Ju,wr=Ho,el=e=>e[0]==="ã‚ã„ã“ãã—ã‚“";function ca(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function fs(e){const t=ca(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function ua(e){sa.default.bytes(e,16,20,24,28,32)}function tl(e,t=128){if(sa.default.number(t),t%32!==0||t>256)throw new TypeError("Invalid entropy");return fa((0,Qu.randomBytes)(t/8),e)}bt.generateMnemonic=tl;const nl=e=>{const t=8-e.length/4;return new Uint8Array([(0,Zu.sha256)(e)[0]>>t<<t])};function la(e){if(!Array.isArray(e)||e.length!==2**11||typeof e[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return e.forEach(t=>{if(typeof t!="string")throw new Error(`Wordlist: non-string element: ${t}`)}),wr.utils.chain(wr.utils.checksum(1,nl),wr.utils.radix2(11,!0),wr.utils.alphabet(e))}function da(e,t){const{words:n}=fs(e),r=la(t).decode(n);return ua(r),r}bt.mnemonicToEntropy=da;function fa(e,t){return ua(e),la(t).encode(e).join(el(t)?"ã€€":" ")}bt.entropyToMnemonic=fa;function rl(e,t){try{da(e,t)}catch{return!1}return!0}bt.validateMnemonic=rl;const ha=e=>ca(`mnemonic${e}`);function il(e,t=""){return(0,oa.pbkdf2Async)(aa.sha512,fs(e).nfkd,ha(t),{c:2048,dkLen:64})}bt.mnemonicToSeed=il;function sl(e,t=""){return(0,oa.pbkdf2)(aa.sha512,fs(e).nfkd,ha(t),{c:2048,dkLen:64})}ia=bt.mnemonicToSeedSync=sl;const[pa,ga,ya]=[[],[],[]],ol=BigInt(0),Gn=BigInt(1),al=BigInt(2),cl=BigInt(7),ul=BigInt(256),ll=BigInt(113);for(let e=0,t=Gn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],pa.push(2*(5*r+n)),ga.push((e+1)*(e+2)/2%64);let i=ol;for(let s=0;s<7;s++)t=(t<<Gn^(t>>cl)*ll)%ul,t&al&&(i^=Gn<<(Gn<<BigInt(s))-Gn);ya.push(i)}const[dl,fl]=be.split(ya,!0),Ks=(e,t,n)=>n>32?be.rotlBH(e,t,n):be.rotlSH(e,t,n),Xs=(e,t,n)=>n>32?be.rotlBL(e,t,n):be.rotlSL(e,t,n);function hl(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,u=(o+2)%10,d=n[u],p=n[u+1],_=Ks(d,p,1)^n[c],y=Xs(d,p,1)^n[c+1];for(let x=0;x<50;x+=10)e[o+x]^=_,e[o+x+1]^=y}let i=e[2],s=e[3];for(let o=0;o<24;o++){const c=ga[o],u=Ks(i,s,c),d=Xs(i,s,c),p=pa[o];i=e[p],s=e[p+1],e[p]=u,e[p+1]=d}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)n[c]=e[o+c];for(let c=0;c<10;c++)e[o+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=dl[r],e[1]^=fl[r]}n.fill(0)}class Kr extends Gr{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,St.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Zo(this.state)}keccak(){hl(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){St.exists(this);const{blockLen:n,state:r}=this;t=qn(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let c=0;c<o;c++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){St.exists(this,!1),St.bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return St.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(St.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Kr(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Kt=(e,t,n)=>rr(()=>new Kr(t,e,n));Kt(6,144,224/8);const Sn=Kt(6,136,256/8);Kt(6,104,384/8);Kt(6,72,512/8);Kt(1,144,224/8);Kt(1,136,256/8);Kt(1,104,384/8);Kt(1,72,512/8);const _a=(e,t,n)=>na((r={})=>new Kr(t,e,r.dkLen===void 0?n:r.dkLen,!0));_a(31,168,128/8);_a(31,136,256/8);class ma extends Gr{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,St.hash(t);const r=qn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return St.exists(this),this.iHash.update(t),this}digestInto(t){St.exists(this),St.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:c}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hs=(e,t,n)=>new ma(e,t).update(n).digest();hs.create=(e,t)=>new ma(e,t);var ts={},pl={get exports(){return ts},set exports(e){ts=e}},Dr={},gl={get exports(){return Dr},set exports(e){Dr=e}},wa=function(t,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return t.apply(n,i)}},yl=wa,ps=Object.prototype.toString,gs=function(e){return function(t){var n=ps.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function sn(e){return e=e.toLowerCase(),function(n){return gs(n)===e}}function ys(e){return Array.isArray(e)}function $r(e){return typeof e>"u"}function _l(e){return e!==null&&!$r(e)&&e.constructor!==null&&!$r(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var xa=sn("ArrayBuffer");function ml(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xa(e.buffer),t}function wl(e){return typeof e=="string"}function xl(e){return typeof e=="number"}function va(e){return e!==null&&typeof e=="object"}function Ur(e){if(gs(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var vl=sn("Date"),bl=sn("File"),Sl=sn("Blob"),Tl=sn("FileList");function _s(e){return ps.call(e)==="[object Function]"}function Al(e){return va(e)&&_s(e.pipe)}function El(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||ps.call(e)===t||_s(e.toString)&&e.toString()===t)}var Ul=sn("URLSearchParams");function Rl(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function kl(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ms(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),ys(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function ns(){var e={};function t(i,s){Ur(e[s])&&Ur(i)?e[s]=ns(e[s],i):Ur(i)?e[s]=ns({},i):ys(i)?e[s]=i.slice():e[s]=i}for(var n=0,r=arguments.length;n<r;n++)ms(arguments[n],t);return e}function Bl(e,t,n){return ms(t,function(i,s){n&&typeof i=="function"?e[s]=yl(i,n):e[s]=i}),e}function Pl(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function Ol(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function Il(e,t,n){var r,i,s,o={};t=t||{};do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)s=r[i],o[s]||(t[s]=e[s],o[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function ql(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return r!==-1&&r===n}function Ml(e){if(!e)return null;var t=e.length;if($r(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var Cl=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),dt={isArray:ys,isArrayBuffer:xa,isBuffer:_l,isFormData:El,isArrayBufferView:ml,isString:wl,isNumber:xl,isObject:va,isPlainObject:Ur,isUndefined:$r,isDate:vl,isFile:bl,isBlob:Sl,isFunction:_s,isStream:Al,isURLSearchParams:Ul,isStandardBrowserEnv:kl,forEach:ms,merge:ns,extend:Bl,trim:Rl,stripBOM:Pl,inherits:Ol,toFlatObject:Il,kindOf:gs,kindOfTest:sn,endsWith:ql,toArray:Ml,isTypedArray:Cl,isFileList:Tl},pn=dt;function Ys(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ba=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(pn.isURLSearchParams(n))i=n.toString();else{var s=[];pn.forEach(n,function(u,d){u===null||typeof u>"u"||(pn.isArray(u)?d=d+"[]":u=[u],pn.forEach(u,function(_){pn.isDate(_)?_=_.toISOString():pn.isObject(_)&&(_=JSON.stringify(_)),s.push(Ys(d)+"="+Ys(_))}))}),i=s.join("&")}if(i){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},Nl=dt;function Xr(){this.handlers=[]}Xr.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Xr.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Xr.prototype.forEach=function(t){Nl.forEach(this.handlers,function(r){r!==null&&t(r)})};var Dl=Xr,$l=dt,zl=function(t,n){$l.forEach(t,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[s])})},Sa=dt;function Tn(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Sa.inherits(Tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ta=Tn.prototype,Aa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){Aa[e]={value:e}});Object.defineProperties(Tn,Aa);Object.defineProperty(Ta,"isAxiosError",{value:!0});Tn.from=function(e,t,n,r,i,s){var o=Object.create(Ta);return Sa.toFlatObject(e,o,function(u){return u!==Error.prototype}),Tn.call(o,e.message,t,n,r,i),o.name=e.name,s&&Object.assign(o,s),o};var Mn=Tn,Ea={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rt=dt;function Ll(e,t){t=t||new FormData;var n=[];function r(s){return s===null?"":Rt.isDate(s)?s.toISOString():Rt.isArrayBuffer(s)||Rt.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(Rt.isPlainObject(s)||Rt.isArray(s)){if(n.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);n.push(s),Rt.forEach(s,function(u,d){if(!Rt.isUndefined(u)){var p=o?o+"."+d:d,_;if(u&&!o&&typeof u=="object"){if(Rt.endsWith(d,"{}"))u=JSON.stringify(u);else if(Rt.endsWith(d,"[]")&&(_=Rt.toArray(u))){_.forEach(function(y){!Rt.isUndefined(y)&&t.append(p,r(y))});return}}i(u,p)}}),n.pop()}else t.append(o,r(s))}return i(e),t}var Ua=Ll,Ci,Js;function Fl(){if(Js)return Ci;Js=1;var e=Mn;return Ci=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Ci}var Ni,Zs;function Hl(){if(Zs)return Ni;Zs=1;var e=dt;return Ni=e.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,c,u){var d=[];d.push(r+"="+encodeURIComponent(i)),e.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),e.isString(o)&&d.push("path="+o),e.isString(c)&&d.push("domain="+c),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ni}var Wl=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},jl=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},Gl=Wl,Vl=jl,Ra=function(t,n){return t&&!Gl(n)?Vl(t,n):n},Di,Qs;function Kl(){if(Qs)return Di;Qs=1;var e=dt,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Di=function(r){var i={},s,o,c;return r&&e.forEach(r.split(`
`),function(d){if(c=d.indexOf(":"),s=e.trim(d.substr(0,c)).toLowerCase(),o=e.trim(d.substr(c+1)),s){if(i[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Di}var $i,eo;function Xl(){if(eo)return $i;eo=1;var e=dt;return $i=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var c=o;return n&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(c){var u=e.isString(c)?s(c):c;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),$i}var zi,to;function Yr(){if(to)return zi;to=1;var e=Mn,t=dt;function n(r){e.call(this,r??"canceled",e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(n,e,{__CANCEL__:!0}),zi=n,zi}var Li,no;function Yl(){return no||(no=1,Li=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}),Li}var Fi,ro;function io(){if(ro)return Fi;ro=1;var e=dt,t=Fl(),n=Hl(),r=ba,i=Ra,s=Kl(),o=Xl(),c=Ea,u=Mn,d=Yr(),p=Yl();return Fi=function(y){return new Promise(function(O,E){var $=y.data,K=y.headers,G=y.responseType,z;function I(){y.cancelToken&&y.cancelToken.unsubscribe(z),y.signal&&y.signal.removeEventListener("abort",z)}e.isFormData($)&&e.isStandardBrowserEnv()&&delete K["Content-Type"];var U=new XMLHttpRequest;if(y.auth){var D=y.auth.username||"",q=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";K.Authorization="Basic "+btoa(D+":"+q)}var H=i(y.baseURL,y.url);U.open(y.method.toUpperCase(),r(H,y.params,y.paramsSerializer),!0),U.timeout=y.timeout;function X(){if(U){var S="getAllResponseHeaders"in U?s(U.getAllResponseHeaders()):null,A=!G||G==="text"||G==="json"?U.responseText:U.response,P={data:A,status:U.status,statusText:U.statusText,headers:S,config:y,request:U};t(function(ee){O(ee),I()},function(ee){E(ee),I()},P),U=null}}if("onloadend"in U?U.onloadend=X:U.onreadystatechange=function(){!U||U.readyState!==4||U.status===0&&!(U.responseURL&&U.responseURL.indexOf("file:")===0)||setTimeout(X)},U.onabort=function(){U&&(E(new u("Request aborted",u.ECONNABORTED,y,U)),U=null)},U.onerror=function(){E(new u("Network Error",u.ERR_NETWORK,y,U,U)),U=null},U.ontimeout=function(){var A=y.timeout?"timeout of "+y.timeout+"ms exceeded":"timeout exceeded",P=y.transitional||c;y.timeoutErrorMessage&&(A=y.timeoutErrorMessage),E(new u(A,P.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,y,U)),U=null},e.isStandardBrowserEnv()){var xe=(y.withCredentials||o(H))&&y.xsrfCookieName?n.read(y.xsrfCookieName):void 0;xe&&(K[y.xsrfHeaderName]=xe)}"setRequestHeader"in U&&e.forEach(K,function(A,P){typeof $>"u"&&P.toLowerCase()==="content-type"?delete K[P]:U.setRequestHeader(P,A)}),e.isUndefined(y.withCredentials)||(U.withCredentials=!!y.withCredentials),G&&G!=="json"&&(U.responseType=y.responseType),typeof y.onDownloadProgress=="function"&&U.addEventListener("progress",y.onDownloadProgress),typeof y.onUploadProgress=="function"&&U.upload&&U.upload.addEventListener("progress",y.onUploadProgress),(y.cancelToken||y.signal)&&(z=function(S){U&&(E(!S||S&&S.type?new d:S),U.abort(),U=null)},y.cancelToken&&y.cancelToken.subscribe(z),y.signal&&(y.signal.aborted?z():y.signal.addEventListener("abort",z))),$||($=null);var Ce=p(H);if(Ce&&["http","https","file"].indexOf(Ce)===-1){E(new u("Unsupported protocol "+Ce+":",u.ERR_BAD_REQUEST,y));return}U.send($)})},Fi}var Hi,so;function Jl(){return so||(so=1,Hi=null),Hi}var ot=dt,oo=zl,ao=Mn,Zl=Ea,Ql=Ua,e0={"Content-Type":"application/x-www-form-urlencoded"};function co(e,t){!ot.isUndefined(e)&&ot.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function t0(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=io()),e}function n0(e,t,n){if(ot.isString(e))try{return(t||JSON.parse)(e),ot.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var Jr={transitional:Zl,adapter:t0(),transformRequest:[function(t,n){if(oo(n,"Accept"),oo(n,"Content-Type"),ot.isFormData(t)||ot.isArrayBuffer(t)||ot.isBuffer(t)||ot.isStream(t)||ot.isFile(t)||ot.isBlob(t))return t;if(ot.isArrayBufferView(t))return t.buffer;if(ot.isURLSearchParams(t))return co(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=ot.isObject(t),i=n&&n["Content-Type"],s;if((s=ot.isFileList(t))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return Ql(s?{"files[]":t}:t,o&&new o)}else if(r||i==="application/json")return co(n,"application/json"),n0(t);return t}],transformResponse:[function(t){var n=this.transitional||Jr.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&ot.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?ao.from(o,ao.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jl()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ot.forEach(["delete","get","head"],function(t){Jr.headers[t]={}});ot.forEach(["post","put","patch"],function(t){Jr.headers[t]=ot.merge(e0)});var ws=Jr,r0=dt,i0=ws,s0=function(t,n,r){var i=this||i0;return r0.forEach(r,function(o){t=o.call(i,t,n)}),t},Wi,uo;function ka(){return uo||(uo=1,Wi=function(t){return!!(t&&t.__CANCEL__)}),Wi}var lo=dt,ji=s0,o0=ka(),a0=ws,c0=Yr();function Gi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new c0}var u0=function(t){Gi(t),t.headers=t.headers||{},t.data=ji.call(t,t.data,t.headers,t.transformRequest),t.headers=lo.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),lo.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||a0.adapter;return n(t).then(function(i){return Gi(t),i.data=ji.call(t,i.data,i.headers,t.transformResponse),i},function(i){return o0(i)||(Gi(t),i&&i.response&&(i.response.data=ji.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},vt=dt,Ba=function(t,n){n=n||{};var r={};function i(p,_){return vt.isPlainObject(p)&&vt.isPlainObject(_)?vt.merge(p,_):vt.isPlainObject(_)?vt.merge({},_):vt.isArray(_)?_.slice():_}function s(p){if(vt.isUndefined(n[p])){if(!vt.isUndefined(t[p]))return i(void 0,t[p])}else return i(t[p],n[p])}function o(p){if(!vt.isUndefined(n[p]))return i(void 0,n[p])}function c(p){if(vt.isUndefined(n[p])){if(!vt.isUndefined(t[p]))return i(void 0,t[p])}else return i(void 0,n[p])}function u(p){if(p in n)return i(t[p],n[p]);if(p in t)return i(void 0,t[p])}var d={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u};return vt.forEach(Object.keys(t).concat(Object.keys(n)),function(_){var y=d[_]||s,x=y(_);vt.isUndefined(x)&&y!==u||(r[_]=x)}),r},Vi,fo;function Pa(){return fo||(fo=1,Vi={version:"0.27.2"}),Vi}var l0=Pa().version,Vt=Mn,xs={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){xs[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var ho={};xs.transitional=function(t,n,r){function i(s,o){return"[Axios v"+l0+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,c){if(t===!1)throw new Vt(i(o," has been removed"+(n?" in "+n:"")),Vt.ERR_DEPRECATED);return n&&!ho[o]&&(ho[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,c):!0}};function d0(e,t,n){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var s=r[i],o=t[s];if(o){var c=e[s],u=c===void 0||o(c,s,e);if(u!==!0)throw new Vt("option "+s+" must be "+u,Vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vt("Unknown option "+s,Vt.ERR_BAD_OPTION)}}var f0={assertOptions:d0,validators:xs},Oa=dt,h0=ba,po=Dl,go=u0,Zr=Ba,p0=Ra,Ia=f0,gn=Ia.validators;function An(e){this.defaults=e,this.interceptors={request:new po,response:new po}}An.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zr(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&Ia.assertOptions(r,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(s=s&&x.synchronous,i.unshift(x.fulfilled,x.rejected))});var o=[];this.interceptors.response.forEach(function(x){o.push(x.fulfilled,x.rejected)});var c;if(!s){var u=[go,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(o),c=Promise.resolve(n);u.length;)c=c.then(u.shift(),u.shift());return c}for(var d=n;i.length;){var p=i.shift(),_=i.shift();try{d=p(d)}catch(y){_(y);break}}try{c=go(d)}catch(y){return Promise.reject(y)}for(;o.length;)c=c.then(o.shift(),o.shift());return c};An.prototype.getUri=function(t){t=Zr(this.defaults,t);var n=p0(t.baseURL,t.url);return h0(n,t.params,t.paramsSerializer)};Oa.forEach(["delete","get","head","options"],function(t){An.prototype[t]=function(n,r){return this.request(Zr(r||{},{method:t,url:n,data:(r||{}).data}))}});Oa.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,c){return this.request(Zr(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}An.prototype[t]=n(),An.prototype[t+"Form"]=n(!0)});var g0=An,Ki,yo;function y0(){if(yo)return Ki;yo=1;var e=Yr();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,c=i._listeners.length;for(o=0;o<c;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,c=new Promise(function(u){i.subscribe(u),o=u}).then(s);return c.cancel=function(){i.unsubscribe(o)},c},n(function(o){i.reason||(i.reason=new e(o),r(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},t.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var r,i=new t(function(o){r=o});return{token:i,cancel:r}},Ki=t,Ki}var Xi,_o;function _0(){return _o||(_o=1,Xi=function(t){return function(r){return t.apply(null,r)}}),Xi}var Yi,mo;function m0(){if(mo)return Yi;mo=1;var e=dt;return Yi=function(n){return e.isObject(n)&&n.isAxiosError===!0},Yi}var wo=dt,w0=wa,Rr=g0,x0=Ba,v0=ws;function qa(e){var t=new Rr(e),n=w0(Rr.prototype.request,t);return wo.extend(n,Rr.prototype,t),wo.extend(n,t),n.create=function(i){return qa(x0(e,i))},n}var wt=qa(v0);wt.Axios=Rr;wt.CanceledError=Yr();wt.CancelToken=y0();wt.isCancel=ka();wt.VERSION=Pa().version;wt.toFormData=Ua;wt.AxiosError=Mn;wt.Cancel=wt.CanceledError;wt.all=function(t){return Promise.all(t)};wt.spread=_0();wt.isAxiosError=m0();gl.exports=wt;Dr.default=wt;(function(e){e.exports=Dr})(pl);const En=Ic(ts);var Ma=typeof self=="object"?self.FormData:window.FormData,Ca=Object.defineProperty,b0=Object.getOwnPropertyDescriptor,Qr=(e,t)=>{for(var n in t)Ca(e,n,{get:t[n],enumerable:!0})},Ge=(e,t,n,r)=>{for(var i=r>1?void 0:r?b0(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Ca(t,n,i),i},S0=/^m(\/[0-9]+')+$/,Na=e=>e.replace("'",""),T0="ed25519 seed",A0=2147483648,E0=e=>{const n=hs.create(ds,T0).update(ls(e)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},U0=({key:e,chainCode:t},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...e,...i]),c=hs.create(ds,t).update(o).digest(),u=c.slice(0,32),d=c.slice(32);return{key:u,chainCode:d}},R0=e=>S0.test(e)?!e.split("/").slice(1).map(Na).some(Number.isNaN):!1,k0=(e,t,n=A0)=>{if(!R0(e))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=E0(t);return e.split("/").slice(1).map(Na).map(o=>parseInt(o,10)).reduce((o,c)=>U0(o,c+n),{key:r,chainCode:i})},Te=class{static fromBuffer(e){return Te.fromUint8Array(e)}static fromUint8Array(e){return new Te(us(e))}static ensure(e){return typeof e=="string"?new Te(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(ls(this.noPrefix()))}};async function B0(e){return new Promise(t=>{setTimeout(t,e)})}var xo="/v1";function P0(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith(xo)||(t=`${t}${xo}`),t}var Da=2e5,$a=20,O0=20,I0="0x1::aptos_coin::AptosCoin";function ei(e){let t,n,r;return typeof e=="object"?(t=e.hashFunction,n=e.ttlMs,r=e.tags):t=e,(i,s,o)=>{if(o.value!=null)o.value=vo(o.value,t,n,r);else if(o.get!=null)o.get=vo(o.get,t,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function q0(e,t){return ei({ttlMs:e,hashFunction:t})}var kr=new Map;function M0(e){const t=new Set;for(const n of e){const r=kr.get(n);if(r)for(const i of r)t.has(i)||(i.clear(),t.add(i))}return t.size}function vo(e,t,n=0,r){const i=Symbol("__memoized_map__");return function(...s){let o;const c=this;c.hasOwnProperty(i)||Object.defineProperty(c,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const u=c[i];if(Array.isArray(r))for(const d of r)kr.has(d)?kr.get(d).push(u):kr.set(d,[u]);if(t||s.length>0||n>0){let d;t===!0?d=s.map(y=>y.toString()).join("!"):t?d=t.apply(c,s):d=s[0];const p=`${d}__timestamp`;let _=!1;if(n>0)if(!u.has(p))_=!0;else{const y=u.get(p);_=Date.now()-y>n}u.has(d)&&!_?o=u.get(d):(o=e.apply(c,s),u.set(d,o),n>0&&u.set(p,Date.now()))}else{const d=c;u.has(d)?o=u.get(d):(o=e.apply(c,s),u.set(d,o))}return o}}async function bo(e,t,n,r){var i;const s=[];let o;for(;;){const c=await e(Te.ensure(t).hex(),(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString(),o,n);if(o=c.__headers["x-aptos-cursor"],delete c.__headers,s.push(...c),o==null)break}return s}var C0={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},N0={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},m={};Qr(m,{AccountAddress:()=>Ze,AccountAuthenticator:()=>Qn,AccountAuthenticatorEd25519:()=>Ss,AccountAuthenticatorMultiEd25519:()=>Ts,ArgumentABI:()=>dr,AuthenticationKey:()=>rn,ChainId:()=>oi,ChangeSet:()=>X0,Ed25519PublicKey:()=>Et,Ed25519Signature:()=>Ct,EntryFunction:()=>en,EntryFunctionABI:()=>Pn,Identifier:()=>_t,Module:()=>La,ModuleId:()=>nn,MultiAgentRawTransaction:()=>ii,MultiEd25519PublicKey:()=>ir,MultiEd25519Signature:()=>ti,MultiSig:()=>Us,MultiSigTransactionPayload:()=>Es,RawTransaction:()=>zn,RawTransactionWithData:()=>Fa,RotationProofChallenge:()=>J0,Script:()=>or,ScriptABI:()=>hi,SignedTransaction:()=>ar,StructTag:()=>Un,Transaction:()=>Ha,TransactionArgument:()=>Pt,TransactionArgumentAddress:()=>kn,TransactionArgumentBool:()=>fi,TransactionArgumentU128:()=>li,TransactionArgumentU16:()=>ci,TransactionArgumentU256:()=>di,TransactionArgumentU32:()=>ui,TransactionArgumentU64:()=>Rn,TransactionArgumentU8:()=>ai,TransactionArgumentU8Vector:()=>Bn,TransactionAuthenticator:()=>sr,TransactionAuthenticatorEd25519:()=>ni,TransactionAuthenticatorMultiAgent:()=>bs,TransactionAuthenticatorMultiEd25519:()=>ri,TransactionPayload:()=>cr,TransactionPayloadEntryFunction:()=>si,TransactionPayloadMultisig:()=>Rs,TransactionPayloadScript:()=>ur,TransactionScriptABI:()=>pi,TypeArgumentABI:()=>lr,TypeTag:()=>lt,TypeTagAddress:()=>ln,TypeTagBool:()=>an,TypeTagSigner:()=>As,TypeTagStruct:()=>dn,TypeTagU128:()=>un,TypeTagU16:()=>Cn,TypeTagU256:()=>Dn,TypeTagU32:()=>Nn,TypeTagU64:()=>cn,TypeTagU8:()=>$t,TypeTagVector:()=>$n,UserTransaction:()=>ks,WriteSet:()=>Y0});var R={};Qr(R,{Deserializer:()=>vs,Serializer:()=>nt,bcsSerializeBool:()=>G0,bcsSerializeBytes:()=>yn,bcsSerializeFixedBytes:()=>K0,bcsSerializeStr:()=>V0,bcsSerializeU128:()=>j0,bcsSerializeU16:()=>H0,bcsSerializeU32:()=>W0,bcsSerializeU8:()=>rs,bcsSerializeUint64:()=>F0,bcsToBytes:()=>zt,deserializeVector:()=>Ut,serializeVector:()=>Tt,serializeVectorWithFunc:()=>L0});var D0=2**8-1,$0=2**16-1,Zn=2**32-1,Jn=BigInt(2**64)-BigInt(1),za=BigInt(2**128)-BigInt(1),z0=BigInt(2**256)-BigInt(1),nt=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,n){this.ensureBufferWillHandleSize(t);const r=new DataView(this.buffer,this.offset);e.apply(r,[0,n,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(Zn),n=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(n))}serializeU128(e){const t=BigInt(e.toString())&Jn,n=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(n)}serializeU256(e){const t=BigInt(e.toString())&za,n=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(n)}serializeU32AsUleb128(e){let t=e;const n=[];for(;t>>>7;)n.push(t&127|128),t>>>=7;n.push(t),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};Ge([on(0,D0)],nt.prototype,"serializeU8",1);Ge([on(0,$0)],nt.prototype,"serializeU16",1);Ge([on(0,Zn)],nt.prototype,"serializeU32",1);Ge([on(BigInt(0),Jn)],nt.prototype,"serializeU64",1);Ge([on(BigInt(0),za)],nt.prototype,"serializeU128",1);Ge([on(BigInt(0),z0)],nt.prototype,"serializeU256",1);Ge([on(0,Zn)],nt.prototype,"serializeU32AsUleb128",1);function on(e,t,n){return(r,i,s)=>{const o=s.value;return s.value=function(u){const d=BigInt(u.toString());if(d>BigInt(t.toString())||d<BigInt(e.toString()))throw new Error(n||"Value is out of range");o.apply(this,[u])},s}}var vs=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<Zn;){const n=this.deserializeU8();if(e|=BigInt(n&127)<<BigInt(t),!(n&128))break;t+=7}if(e>Zn)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function Tt(e,t){t.serializeU32AsUleb128(e.length),e.forEach(n=>{n.serialize(t)})}function L0(e,t){const n=new nt;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(i=>{r.call(n,i)}),n.getBytes()}function Ut(e,t){const n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(t.deserialize(e));return r}function zt(e){const t=new nt;return e.serialize(t),t.getBytes()}function F0(e){const t=new nt;return t.serializeU64(e),t.getBytes()}function rs(e){const t=new nt;return t.serializeU8(e),t.getBytes()}function H0(e){const t=new nt;return t.serializeU16(e),t.getBytes()}function W0(e){const t=new nt;return t.serializeU32(e),t.getBytes()}function j0(e){const t=new nt;return t.serializeU128(e),t.getBytes()}function G0(e){const t=new nt;return t.serializeBool(e),t.getBytes()}function V0(e){const t=new nt;return t.serializeStr(e),t.getBytes()}function yn(e){const t=new nt;return t.serializeBytes(e),t.getBytes()}function K0(e){const t=new nt;return t.serializeFixedBytes(e),t.getBytes()}var At=class{constructor(e){if(e.length!==At.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let t=Te.ensure(e);t.noPrefix().length%2!==0&&(t=new Te(`0${t.noPrefix()}`));const n=t.toUint8Array();if(n.length>At.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===At.LENGTH)return new At(n);const r=new Uint8Array(At.LENGTH);return r.set(n,At.LENGTH-n.length),new At(r)}static isValid(e){if(e==="")return!1;let t=Te.ensure(e);return t.noPrefix().length%2!==0&&(t=new Te(`0${t.noPrefix()}`)),t.toUint8Array().length<=At.LENGTH}toHexString(){return Te.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new At(e.deserializeFixedBytes(At.LENGTH))}},Ze=At;Ze.LENGTH=32;Ze.CORE_CODE_ADDRESS=At.fromHex("0x1");var Br=class{constructor(e){if(e.length!==Br.LENGTH)throw new Error(`Ed25519PublicKey length should be ${Br.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new Br(t)}},Et=Br;Et.LENGTH=32;var Pr=class{constructor(e){if(this.value=e,e.length!==Pr.LENGTH)throw new Error(`Ed25519Signature length should be ${Pr.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new Pr(t)}},Ct=Pr;Ct.LENGTH=64;var is=32,ir=class{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>is)throw new Error(`"threshold" cannot be larger than ${is}`)}toBytes(){const e=new Uint8Array(this.public_keys.length*Et.LENGTH+1);return this.public_keys.forEach((t,n)=>{e.set(t.value,n*Et.LENGTH)}),e[this.public_keys.length*Et.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),n=t[t.length-1],r=[];for(let i=0;i<t.length-1;i+=Et.LENGTH){const s=i;r.push(new Et(t.subarray(s,s+Et.LENGTH)))}return new ir(r,n)}},Kn=class{constructor(e,t){if(this.signatures=e,this.bitmap=t,t.length!==Kn.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Kn.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*Ct.LENGTH+Kn.BITMAP_LEN);return this.signatures.forEach((t,n)=>{e.set(t.value,n*Ct.LENGTH)}),e.set(this.bitmap,this.signatures.length*Ct.LENGTH),e}static createBitmap(e){const n=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach(i=>{if(i>=is)throw new Error(`Invalid bit value ${i}.`);if(r.has(i))throw new Error("Duplicated bits detected.");r.add(i);const s=Math.floor(i/8);let o=n[s];o|=128>>i%8,n[s]=o}),n}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),n=t.subarray(t.length-4),r=[];for(let i=0;i<t.length-n.length;i+=Ct.LENGTH){const s=i;r.push(new Ct(t.subarray(s,s+Ct.LENGTH)))}return new Kn(r,n)}},ti=Kn;ti.BITMAP_LEN=4;var sr=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ni.load(e);case 1:return ri.load(e);case 2:return bs.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},ni=class extends sr{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=Et.deserialize(e),n=Ct.deserialize(e);return new ni(t,n)}},ri=class extends sr{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=ir.deserialize(e),n=ti.deserialize(e);return new ri(t,n)}},bs=class extends sr{constructor(e,t,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=n}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),Tt(this.secondary_signer_addresses,e),Tt(this.secondary_signers,e)}static load(e){const t=Qn.deserialize(e),n=Ut(e,Ze),r=Ut(e,Qn);return new bs(t,n,r)}},Qn=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Ss.load(e);case 1:return Ts.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},Ss=class extends Qn{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=Et.deserialize(e),n=Ct.deserialize(e);return new Ss(t,n)}},Ts=class extends Qn{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=ir.deserialize(e),n=ti.deserialize(e);return new Ts(t,n)}},_t=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const t=e.deserializeStr();return new _t(t)}},lt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return an.load(e);case 1:return $t.load(e);case 2:return cn.load(e);case 3:return un.load(e);case 4:return ln.load(e);case 5:return As.load(e);case 6:return $n.load(e);case 7:return dn.load(e);case 8:return Cn.load(e);case 9:return Nn.load(e);case 10:return Dn.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},an=class extends lt{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new an}},$t=class extends lt{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new $t}},Cn=class extends lt{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Cn}},Nn=class extends lt{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Nn}},cn=class extends lt{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new cn}},un=class extends lt{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new un}},Dn=class extends lt{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new Dn}},ln=class extends lt{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new ln}},As=class extends lt{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new As}},$n=class extends lt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const t=lt.deserialize(e);return new $n(t)}},dn=class extends lt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const t=Un.deserialize(e);return new dn(t)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===Ze.fromHex("0x1").toHexString()}},Un=class{constructor(e,t,n,r){this.address=e,this.module_name=t,this.name=n,this.type_args=r}static fromString(e){if(e.includes("<"))throw new Error("Not implemented");const t=e.split("::");if(t.length!==3)throw new Error("Invalid struct tag string literal.");return new Un(Ze.fromHex(t[0]),new _t(t[1]),new _t(t[2]),[])}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),Tt(this.type_args,e)}static deserialize(e){const t=Ze.deserialize(e),n=_t.deserialize(e),r=_t.deserialize(e),i=Ut(e,lt);return new Un(t,n,r,i)}},zn=class{constructor(e,t,n,r,i,s,o){this.sender=e,this.sequence_number=t,this.payload=n,this.max_gas_amount=r,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const t=Ze.deserialize(e),n=e.deserializeU64(),r=cr.deserialize(e),i=e.deserializeU64(),s=e.deserializeU64(),o=e.deserializeU64(),c=oi.deserialize(e);return new zn(t,n,r,i,s,o,c)}},or=class{constructor(e,t,n){this.code=e,this.ty_args=t,this.args=n}serialize(e){e.serializeBytes(this.code),Tt(this.ty_args,e),Tt(this.args,e)}static deserialize(e){const t=e.deserializeBytes(),n=Ut(e,lt),r=Ut(e,Pt);return new or(t,n,r)}},en=class{constructor(e,t,n,r){this.module_name=e,this.function_name=t,this.ty_args=n,this.args=r}static natural(e,t,n,r){return new en(nn.fromStr(e),new _t(t),n,r)}static natual(e,t,n,r){return en.natural(e,t,n,r)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),Tt(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{e.serializeBytes(t)})}static deserialize(e){const t=nn.deserialize(e),n=_t.deserialize(e),r=Ut(e,lt),i=e.deserializeUleb128AsU32(),s=[];for(let c=0;c<i;c+=1)s.push(e.deserializeBytes());const o=s;return new en(t,n,r,o)}},Es=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return new Es(en.deserialize(e))}},Us=class{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const t=Ze.deserialize(e),n=e.deserializeBool();let r;return n&&(r=Es.deserialize(e)),new Us(t,r)}},La=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const t=e.deserializeBytes();return new La(t)}},nn=class{constructor(e,t){this.address=e,this.name=t}static fromStr(e){const t=e.split("::");if(t.length!==2)throw new Error("Invalid module id.");return new nn(Ze.fromHex(new Te(t[0])),new _t(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const t=Ze.deserialize(e),n=_t.deserialize(e);return new nn(t,n)}},X0=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},Y0=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},ar=class{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const t=zn.deserialize(e),n=sr.deserialize(e);return new ar(t,n)}},Fa=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ii.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},ii=class extends Fa{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),Tt(this.secondary_signer_addresses,e)}static load(e){const t=zn.deserialize(e),n=Ut(e,Ze);return new ii(t,n)}},cr=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ur.load(e);case 2:return si.load(e);case 3:return Rs.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},ur=class extends cr{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const t=or.deserialize(e);return new ur(t)}},si=class extends cr{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const t=en.deserialize(e);return new si(t)}},Rs=class extends cr{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=Us.deserialize(e);return new Rs(t)}},oi=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const t=e.deserializeU8();return new oi(t)}},Pt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ai.load(e);case 1:return Rn.load(e);case 2:return li.load(e);case 3:return kn.load(e);case 4:return Bn.load(e);case 5:return fi.load(e);case 6:return ci.load(e);case 7:return ui.load(e);case 8:return di.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},ai=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const t=e.deserializeU8();return new ai(t)}},ci=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const t=e.deserializeU16();return new ci(t)}},ui=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const t=e.deserializeU32();return new ui(t)}},Rn=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const t=e.deserializeU64();return new Rn(t)}},li=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const t=e.deserializeU128();return new li(t)}},di=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const t=e.deserializeU256();return new di(t)}},kn=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=Ze.deserialize(e);return new kn(t)}},Bn=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const t=e.deserializeBytes();return new Bn(t)}},fi=class extends Pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const t=e.deserializeBool();return new fi(t)}},Ha=class{getHashSalt(){const e=Sn.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ks.load(e);default:throw new Error(`Unknown variant index for Transaction: ${t}`)}}},ks=class extends Ha{constructor(e){super(),this.value=e}hash(){const e=Sn.create();return e.update(this.getHashSalt()),e.update(zt(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new ks(ar.deserialize(e))}},lr=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const t=e.deserializeStr();return new lr(t)}},dr=class{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const t=e.deserializeStr(),n=lt.deserialize(e);return new dr(t,n)}},hi=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return pi.load(e);case 1:return Pn.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},pi=class extends hi{constructor(e,t,n,r,i){super(),this.name=e,this.doc=t,this.code=n,this.ty_args=r,this.args=i}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Tt(this.ty_args,e),Tt(this.args,e)}static load(e){const t=e.deserializeStr(),n=e.deserializeStr(),r=e.deserializeBytes(),i=Ut(e,lr),s=Ut(e,dr);return new pi(t,n,r,i,s)}},Pn=class extends hi{constructor(e,t,n,r,i){super(),this.name=e,this.module_name=t,this.doc=n,this.ty_args=r,this.args=i}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Tt(this.ty_args,e),Tt(this.args,e)}static load(e){const t=e.deserializeStr(),n=nn.deserialize(e),r=e.deserializeStr(),i=Ut(e,lr),s=Ut(e,dr);return new Pn(t,n,r,i,s)}},_n=class{constructor(e){if(e.length!==_n.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const t=e.toBytes(),n=new Uint8Array(t.length+1);n.set(t),n.set([_n.MULTI_ED25519_SCHEME],t.length);const r=Sn.create();return r.update(n),new _n(r.digest())}static fromEd25519PublicKey(e){const t=e.value,n=new Uint8Array(t.length+1);n.set(t),n.set([_n.ED25519_SCHEME],t.length);const r=Sn.create();return r.update(n),new _n(r.digest())}derivedAddress(){return Te.fromUint8Array(this.bytes)}},rn=_n;rn.LENGTH=32;rn.MULTI_ED25519_SCHEME=1;rn.ED25519_SCHEME=0;rn.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var J0=class{constructor(e,t,n,r,i,s,o){this.accountAddress=e,this.moduleName=t,this.structName=n,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},Or=class{static fromAptosAccountObject(e){return new Or(Te.ensure(e.privateKeyHex).toUint8Array(),e.address)}static fromDerivePath(e,t){if(!Or.isValidPath(e))throw new Error("Invalid derivation path");const n=t.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:r}=k0(e,us(ia(n)));return new Or(r)}constructor(e,t){e?this.signingKey=Yn.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=Yn.sign.keyPair(),this.accountAddress=Te.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new Et(this.signingKey.publicKey);return rn.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const n=zt(Ze.fromHex(e)),r=new Uint8Array([...n,...t,rn.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=Sn.create();return i.update(r),Te.fromUint8Array(i.digest())}pubKey(){return Te.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=Yn.sign(e,this.signingKey.secretKey);return Te.fromUint8Array(t.slice(0,64))}signHexString(e){const t=Te.ensure(e).toUint8Array();return this.signBuffer(t)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:Te.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},er=Or;er.isValidPath=e=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e);Ge([ei()],er.prototype,"authKey",1);function On(e){return e instanceof er?e.address():Te.ensure(e)}var Z0=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,Q0=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,ed=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${Z0}
${Q0}`,td=`
    query getTokenActivities($idHash: String!) {
  token_activities(where: {token_data_id_hash: {_eq: $idHash}}) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,Wa=class{constructor(e){this.endpoint=e}async queryIndexer(e){const{data:t}=await En.post(this.endpoint,e);if(t.errors)throw new Error(`Indexer data error ${t.errors}`);return t.data}async getAccountNFTs(e,t){const n={query:ed,variables:{address:e,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(n)}async getTokenActivities(e){const t={query:td,variables:{idHash:e}};return this.queryIndexer(t)}},nd={};Qr(nd,{$AccountData:()=>md,$AccountSignature:()=>wd,$AccountSignature_Ed25519Signature:()=>xd,$AccountSignature_MultiEd25519Signature:()=>vd,$Address:()=>bd,$AptosError:()=>Sd,$AptosErrorCode:()=>Td,$Block:()=>Ad,$BlockMetadataTransaction:()=>Ed,$DecodedTableData:()=>Ud,$DeleteModule:()=>kd,$DeleteResource:()=>Bd,$DeleteTableItem:()=>Pd,$DeletedTableData:()=>Rd,$DirectWriteSet:()=>Od,$Ed25519Signature:()=>Id,$EncodeSubmissionRequest:()=>qd,$EntryFunctionId:()=>Md,$EntryFunctionPayload:()=>Cd,$Event:()=>Nd,$EventGuid:()=>Dd,$GasEstimation:()=>$d,$GenesisPayload:()=>zd,$GenesisPayload_WriteSetPayload:()=>Ld,$GenesisTransaction:()=>Fd,$HashValue:()=>Hd,$HealthCheckSuccess:()=>Wd,$HexEncodedBytes:()=>jd,$IdentifierWrapper:()=>Gd,$IndexResponse:()=>Vd,$ModuleBundlePayload:()=>Kd,$MoveAbility:()=>Xd,$MoveFunction:()=>Yd,$MoveFunctionGenericTypeParam:()=>Jd,$MoveFunctionVisibility:()=>Zd,$MoveModule:()=>Qd,$MoveModuleBytecode:()=>ef,$MoveModuleId:()=>tf,$MoveResource:()=>nf,$MoveScriptBytecode:()=>rf,$MoveStruct:()=>sf,$MoveStructField:()=>of,$MoveStructGenericTypeParam:()=>af,$MoveStructTag:()=>cf,$MoveStructValue:()=>uf,$MoveType:()=>lf,$MoveValue:()=>df,$MultiAgentSignature:()=>ff,$MultiEd25519Signature:()=>hf,$MultisigPayload:()=>pf,$MultisigTransactionPayload:()=>gf,$PendingTransaction:()=>yf,$RawTableItemRequest:()=>_f,$RoleType:()=>mf,$ScriptPayload:()=>wf,$ScriptWriteSet:()=>xf,$StateCheckpointTransaction:()=>vf,$StateKeyWrapper:()=>bf,$SubmitTransactionRequest:()=>Sf,$TableItemRequest:()=>Tf,$Transaction:()=>Af,$TransactionPayload:()=>Pf,$TransactionPayload_EntryFunctionPayload:()=>Of,$TransactionPayload_ModuleBundlePayload:()=>If,$TransactionPayload_MultisigPayload:()=>qf,$TransactionPayload_ScriptPayload:()=>Mf,$TransactionSignature:()=>Df,$TransactionSignature_Ed25519Signature:()=>$f,$TransactionSignature_MultiAgentSignature:()=>zf,$TransactionSignature_MultiEd25519Signature:()=>Lf,$Transaction_BlockMetadataTransaction:()=>Ef,$Transaction_GenesisTransaction:()=>Uf,$Transaction_PendingTransaction:()=>Rf,$Transaction_StateCheckpointTransaction:()=>kf,$Transaction_UserTransaction:()=>Bf,$TransactionsBatchSingleSubmissionFailure:()=>Cf,$TransactionsBatchSubmissionResult:()=>Nf,$U128:()=>Ff,$U256:()=>Hf,$U64:()=>Wf,$UserTransaction:()=>jf,$VersionedEvent:()=>Gf,$ViewRequest:()=>Vf,$WriteModule:()=>Kf,$WriteResource:()=>Xf,$WriteSet:()=>Yf,$WriteSetChange:()=>Qf,$WriteSetChange_DeleteModule:()=>eh,$WriteSetChange_DeleteResource:()=>th,$WriteSetChange_DeleteTableItem:()=>nh,$WriteSetChange_WriteModule:()=>rh,$WriteSetChange_WriteResource:()=>ih,$WriteSetChange_WriteTableItem:()=>sh,$WriteSetPayload:()=>oh,$WriteSet_DirectWriteSet:()=>Jf,$WriteSet_ScriptWriteSet:()=>Zf,$WriteTableItem:()=>ah,AccountsService:()=>Ja,ApiError:()=>tr,AptosErrorCode:()=>sc,AptosGeneratedClient:()=>ic,BaseHttpRequest:()=>ja,BlocksService:()=>Za,CancelError:()=>Ga,CancelablePromise:()=>Va,EventsService:()=>Qa,GeneralService:()=>ec,MoveFunctionVisibility:()=>oc,OpenAPI:()=>_d,RoleType:()=>ac,TablesService:()=>tc,TransactionsService:()=>nc,ViewService:()=>rc});var ja=class{constructor(e){this.config=e}},tr=class extends Error{constructor(e,t,n){super(n),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}},Ga=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}},Va=class{constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((t,n)=>{this._resolve=t,this._reject=n;const r=o=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(c=this._resolve)==null||c.call(this,o))},i=o=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(c=this._reject)==null||c.call(this,o))},s=o=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(o)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),e(r,i,s)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const t of this._cancelHandlers)t()}catch(t){console.warn("Cancellation threw an error",t);return}this._cancelHandlers.length=0,(e=this._reject)==null||e.call(this,new Ga("Request aborted"))}}get isCancelled(){return this._isCancelled}},Ka=class{constructor(e=new Map){this.jar=e}setCookie(e,t){var n;const r=e.origin.toLowerCase();this.jar.has(r)||this.jar.set(r,[]);const i=Ka.parse(t);this.jar.set(r,[...((n=this.jar.get(r))==null?void 0:n.filter(s=>s.name!==i.name))||[],i])}getCookies(e){var t;const n=e.origin.toLowerCase();return this.jar.get(n)?((t=this.jar.get(n))==null?void 0:t.filter(r=>!r.expires||r.expires>new Date))||[]:[]}static parse(e){if(typeof e!="string")throw new Error("argument str must be a string");const t=e.split(";").map(r=>r.trim());let n;if(t.length>0){const[r,i]=t[0].split("=");if(!r||!i)throw new Error("Invalid cookie");n={name:r,value:i}}else throw new Error("Invalid cookie");return t.slice(1).forEach(r=>{const[i,s]=r.split("=");if(!i.trim())throw new Error("Invalid cookie");const o=i.toLowerCase(),c=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(o==="expires"&&(n.expires=new Date(c)),o==="path"&&(n.path=c),o==="samesite"){if(c!=="Lax"&&c!=="None"&&c!=="Strict")throw new Error("Invalid cookie SameSite value");n.sameSite=c}o==="secure"&&(n.secure=!0)}),n}},Xa=new Ka;En.interceptors.response.use(e=>(Array.isArray(e.headers["set-cookie"])&&e.headers["set-cookie"].forEach(t=>{Xa.setCookie(new URL(e.config.url),t)}),e));En.interceptors.request.use(function(e){const t=Xa.getCookies(new URL(e.url));return(t==null?void 0:t.length)>0&&e.headers&&(e.headers.cookie=t.map(n=>`${n.name}=${n.value}`).join("; ")),e});var Bs=e=>e!=null,gi=e=>typeof e=="string",Ji=e=>gi(e)&&e!=="",Ya=e=>typeof e=="object"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.arrayBuffer=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),rd=e=>e instanceof Ma,id=e=>e>=200&&e<300,sd=e=>btoa(e),od=e=>{const t=[],n=(i,s)=>{t.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},r=(i,s)=>{Bs(s)&&(Array.isArray(s)?s.forEach(o=>{r(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,c])=>{r(`${i}[${o}]`,c)}):n(i,s))};return Object.entries(e).forEach(([i,s])=>{r(i,s)}),t.length>0?`?${t.join("&")}`:""},ad=(e,t)=>{const n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(s,o)=>{var c;return(c=t.path)!=null&&c.hasOwnProperty(o)?n(String(t.path[o])):s}),i=`${e.BASE}${r}`;return t.query?`${i}${od(t.query)}`:i},cd=e=>{if(e.formData){const t=new Ma,n=(r,i)=>{gi(i)||Ya(i)?t.append(r,i):t.append(r,JSON.stringify(i))};return Object.entries(e.formData).filter(([r,i])=>Bs(i)).forEach(([r,i])=>{Array.isArray(i)?i.forEach(s=>n(r,s)):n(r,i)}),t}},xr=async(e,t)=>typeof t=="function"?t(e):t,ud=async(e,t,n)=>{const r=await xr(t,e.TOKEN),i=await xr(t,e.USERNAME),s=await xr(t,e.PASSWORD),o=await xr(t,e.HEADERS),c=typeof(n==null?void 0:n.getHeaders)=="function"&&(n==null?void 0:n.getHeaders())||{},u=Object.entries({Accept:"application/json",...o,...t.headers,...c}).filter(([d,p])=>Bs(p)).reduce((d,[p,_])=>({...d,[p]:String(_)}),{});if(Ji(r)&&(u.Authorization=`Bearer ${r}`),Ji(i)&&Ji(s)){const d=sd(`${i}:${s}`);u.Authorization=`Basic ${d}`}return t.body&&(t.mediaType?u["Content-Type"]=t.mediaType:Ya(t.body)?u["Content-Type"]=t.body.type||"application/octet-stream":gi(t.body)?u["Content-Type"]="text/plain":rd(t.body)||(u["Content-Type"]="application/json")),u},ld=e=>{if(e.body)return e.body},dd=async(e,t,n,r,i,s,o)=>{const c=En.CancelToken.source(),u={url:n,headers:s,data:r??i,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:c.token};Object.keys(e.HEADERS||{}).filter(p=>p.toLowerCase()==="accept").map(p=>e.HEADERS[p]).includes("application/x-bcs")&&(u.responseType="arraybuffer"),o(()=>c.cancel("The user aborted a request."));try{return await En.request(u)}catch(p){const _=p;if(_.response)return _.response;throw p}},fd=(e,t)=>{if(t){const n=e.headers[t];if(gi(n))return n}},hd=e=>{if(e.status!==204)return e.data},pd=(e,t)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(r)throw new tr(e,t,r);if(!t.ok)throw new tr(e,t,"Generic Error")},gd=(e,t)=>new Va(async(n,r,i)=>{try{const s=ad(e,t),o=cd(t),c=ld(t),u=await ud(e,t,o);if(!i.isCancelled){const d=await dd(e,t,s,c,o,u,i),p=hd(d),_=fd(d,t.responseHeader),y={url:s,ok:id(d.status),status:d.status,statusText:d.statusText,body:_??p};pd(t,y);const x=y.body;try{x.__headers=d.headers}catch{}n(x)}}catch(s){r(s)}}),yd=class extends ja{constructor(e){super(e)}request(e){return gd(this.config,e)}},Ja=class{constructor(e){this.httpRequest=e}getAccount(e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:e},query:{ledger_version:t}})}getAccountResources(e,t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:e},query:{ledger_version:t,start:n,limit:r}})}getAccountModules(e,t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:e},query:{ledger_version:t,start:n,limit:r}})}getAccountResource(e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:e,resource_type:t},query:{ledger_version:n}})}getAccountModule(e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:e,module_name:t},query:{ledger_version:n}})}},Za=class{constructor(e){this.httpRequest=e}getBlockByHeight(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:e},query:{with_transactions:t}})}getBlockByVersion(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:e},query:{with_transactions:t}})}},Qa=class{constructor(e){this.httpRequest=e}getEventsByCreationNumber(e,t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:e,creation_number:t},query:{start:n,limit:r}})}getEventsByEventHandle(e,t,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:e,event_handle:t,field_name:n},query:{start:r,limit:i}})}},ec=class{constructor(e){this.httpRequest=e}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(e){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:e}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},tc=class{constructor(e){this.httpRequest=e}getTableItem(e,t,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:e},query:{ledger_version:n},body:t,mediaType:"application/json"})}getRawTableItem(e,t,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:e},query:{ledger_version:n},body:t,mediaType:"application/json"})}},nc=class{constructor(e){this.httpRequest=e}getTransactions(e,t){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:e,limit:t}})}submitTransaction(e){return this.httpRequest.request({method:"POST",url:"/transactions",body:e,mediaType:"application/json"})}getTransactionByHash(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:e}})}getTransactionByVersion(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:e}})}getAccountTransactions(e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:e},query:{start:t,limit:n}})}submitBatchTransactions(e){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:e,mediaType:"application/json"})}simulateTransaction(e,t,n,r){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:t,estimate_gas_unit_price:n,estimate_prioritized_gas_unit_price:r},body:e,mediaType:"application/json"})}encodeSubmission(e){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:e,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},rc=class{constructor(e){this.httpRequest=e}view(e,t){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:t},body:e,mediaType:"application/json"})}},ic=class{constructor(e,t=yd){var n,r,i,s;this.request=new t({BASE:(n=e==null?void 0:e.BASE)!=null?n:"/v1",VERSION:(r=e==null?void 0:e.VERSION)!=null?r:"1.2.0",WITH_CREDENTIALS:(i=e==null?void 0:e.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=e==null?void 0:e.CREDENTIALS)!=null?s:"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.accounts=new Ja(this.request),this.blocks=new Za(this.request),this.events=new Qa(this.request),this.general=new ec(this.request),this.tables=new tc(this.request),this.transactions=new nc(this.request),this.view=new rc(this.request)}},_d={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},sc=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(sc||{}),oc=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(oc||{}),ac=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(ac||{}),md={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},wd={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},xd={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},vd={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},bd={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},Sd={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},Td={type:"Enum"},Ad={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},Ed={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Ud={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},Rd={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},kd={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},Bd={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},Pd={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},Od={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Id={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},qd={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},Md={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},Cd={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Nd={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Dd={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},$d={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},zd={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},Ld={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},Fd={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Hd={type:"string"},Wd={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},jd={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},Gd={type:"string"},Vd={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},Kd={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},Xd={type:"string"},Yd={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},Jd={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},Zd={type:"Enum"},Qd={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},ef={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},tf={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},nf={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},rf={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},sf={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},of={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},af={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},cf={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},uf={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},lf={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},df={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},ff={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},hf={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},pf={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},gf={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},yf={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},_f={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},mf={type:"Enum"},wf={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},xf={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},vf={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},bf={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Sf={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},Tf={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},Af={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},Ef={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},Uf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},Rf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},kf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},Bf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},Pf={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Of={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},If={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},qf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Mf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},Cf={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},Nf={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},Df={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},$f={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},zf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},Lf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Ff={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},Hf={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},Wf={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},jf={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Gf={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Vf={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Kf={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},Xf={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},Yf={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},Jf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},Zf={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},Qf={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},eh={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},th={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},nh={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},rh={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},ih={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},sh={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},oh={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},ah={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},ch=new Un(Ze.fromHex("0x1"),new _t("string"),new _t("String"),[]);function yi(e,t,n){if(!(t!=null&&t.includes(typeof e)))throw new Error(n||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function Jt(e){throw new Error(e)}function So(e){return!!e.match(/\s/)}function To(e){return!!e.match(/[_A-Za-z0-9]/g)}function uh(e,t){const n=e[t];if(n===":"){if(e.slice(t,t+2)==="::")return[["COLON","::"],2];Jt("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(So(n)){let r="";for(let i=t;i<e.length;i+=1){const s=e[i];if(So(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(To(n)){let r="";for(let i=t;i<e.length;i+=1){const s=e[i];if(To(s))r=`${r}${s}`;else break}return[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function lh(e){let t=0;const n=[];for(;t<e.length;){const[r,i]=uh(e,t);r[0]!=="SPACE"&&n.push(r),t+=i}return n}var _i=class{constructor(e){this.tokens=lh(e)}consume(e){const t=this.tokens.shift();(!t||t[1]!==e)&&Jt("Invalid type tag.")}parseCommaList(e,t){const n=[];for(this.tokens.length<=0&&Jt("Invalid type tag.");this.tokens[0][1]!==e&&(n.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t)));)this.tokens.length<=0&&Jt("Invalid type tag.");return n}parseTypeTag(){this.tokens.length===0&&Jt("Invalid type tag.");const[e,t]=this.tokens.shift();if(t==="u8")return new $t;if(t==="u16")return new Cn;if(t==="u32")return new Nn;if(t==="u64")return new cn;if(t==="u128")return new un;if(t==="u256")return new Dn;if(t==="bool")return new an;if(t==="address")return new ln;if(t==="vector"){this.consume("<");const n=this.parseTypeTag();return this.consume(">"),new $n(n)}if(e==="IDENT"&&(t.startsWith("0x")||t.startsWith("0X"))){const n=t;this.consume("::");const[r,i]=this.tokens.shift();r!=="IDENT"&&Jt("Invalid type tag."),this.consume("::");const[s,o]=this.tokens.shift();s!=="IDENT"&&Jt("Invalid type tag.");let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));const u=new Un(Ze.fromHex(n),new _t(i),new _t(o),c);return new dn(u)}throw new Error("Invalid type tag.")}};function cc(e){if(yi(e,["boolean","string"]),typeof e=="boolean")return e;if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean string.")}function xn(e){if(yi(e,["number","string"]),typeof e=="number")return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function vn(e){return yi(e,["number","bigint","string"]),BigInt(e)}function Ps(e,t,n){if(t instanceof an){n.serializeBool(cc(e));return}if(t instanceof $t){n.serializeU8(xn(e));return}if(t instanceof Cn){n.serializeU16(xn(e));return}if(t instanceof Nn){n.serializeU32(xn(e));return}if(t instanceof cn){n.serializeU64(vn(e));return}if(t instanceof un){n.serializeU128(vn(e));return}if(t instanceof Dn){n.serializeU256(vn(e));return}if(t instanceof ln){let r;if(typeof e=="string"||e instanceof Te)r=Ze.fromHex(e);else if(e instanceof Ze)r=e;else throw new Error("Invalid account address.");r.serialize(n);return}if(t instanceof $n){if(t.value instanceof $t){if(e instanceof Uint8Array){n.serializeBytes(e);return}if(typeof e=="string"){n.serializeStr(e);return}}if(!Array.isArray(e))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(e.length),e.forEach(r=>Ps(r,t.value,n));return}if(t instanceof dn){const{address:r,module_name:i,name:s}=t.value;if(`${Te.fromUint8Array(r.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");yi(e,["string"]),n.serializeStr(e);return}throw new Error("Unsupported arg type.")}function dh(e,t){if(t instanceof an)return new fi(cc(e));if(t instanceof $t)return new ai(xn(e));if(t instanceof Cn)return new ci(xn(e));if(t instanceof Nn)return new ui(xn(e));if(t instanceof cn)return new Rn(vn(e));if(t instanceof un)return new li(vn(e));if(t instanceof Dn)return new di(vn(e));if(t instanceof ln){let n;if(typeof e=="string"||e instanceof Te)n=Ze.fromHex(e);else if(e instanceof Ze)n=e;else throw new Error("Invalid account address.");return new kn(n)}if(t instanceof $n&&t.value instanceof $t){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new Bn(e)}throw new Error("Unknown type for TransactionArgument.")}var fh="APTOS::RawTransaction",hh="APTOS::RawTransactionWithData",In=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,n)}static getSigningMessage(e){const t=Sn.create();if(e instanceof zn)t.update(fh);else if(e instanceof ii)t.update(hh);else throw new Error("Unknown transaction type.");const n=t.digest(),r=zt(e),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),i}},Ir=class extends In{constructor(e,t,n){super(e,n),this.publicKey=t}rawToSigned(e){const t=In.getSigningMessage(e),n=this.signingFunction(t),r=new ni(new Et(this.publicKey),n);return new ar(e,r)}sign(e){return zt(this.rawToSigned(e))}},ph=class extends In{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=In.getSigningMessage(e),n=this.signingFunction(t),r=new ri(this.publicKey,n);return new ar(e,r)}sign(e){return zt(this.rawToSigned(e))}},zr=class{constructor(e,t){this.abiMap=new Map,e.forEach(n=>{const r=new vs(n),i=hi.deserialize(r);let s;if(i instanceof Pn){const o=i,{address:c,name:u}=o.module_name;s=`${Te.fromUint8Array(c.address).toShortString()}::${u.value}::${o.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(Da),expSecFromNow:$a,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((n,r)=>{const i=new nt;return Ps(n,e[r].type_tag,i),i.getBytes()})}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((n,r)=>dh(n,e[r].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,t,n){const r=t.map(o=>new _i(o).parseTypeTag());let i;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const s=this.abiMap.get(e);if(s instanceof Pn){const o=s,c=zr.toBCSArgs(o.args,n);i=new si(new en(o.module_name,new _t(o.name),r,c))}else if(s instanceof pi){const o=s,c=zr.toTransactionArguments(o.args,n);i=new ur(new or(o.code,r,c))}else throw new Error("Unknown ABI format.");return i}build(e,t,n){const{sender:r,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:c,chainId:u}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const d=r instanceof Ze?r:Ze.fromHex(r),p=BigInt(Math.floor(Date.now()/1e3)+Number(c)),_=this.buildTransactionPayload(e,t,n);if(_)return new zn(d,BigInt(i),_,BigInt(o),BigInt(s),p,new oi(Number(u)));throw new Error("Invalid ABI.")}},uc=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const n=(await this.aptosClient.getAccountModules(e)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),r=new Map;return n.forEach(i=>{r.set(i.fullName,i)}),r}async build(e,t,n){if(e=(z=>z.replace(/^0[xX]0*/g,"0x"))(e),e.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,o]=e.split("::"),c=await this.fetchABI(s);if(!c.has(e))throw new Error(`${e} doesn't exist.`);const u=c.get(e),p=u.params.filter(z=>z!=="signer"&&z!=="&signer").map((z,I)=>new dr(`var${I}`,new _i(z).parseTypeTag())),_=new Pn(u.name,nn.fromStr(`${s}::${o}`),"",u.generic_type_params.map((z,I)=>new lr(`${I}`)),p),{sender:y,...x}=this.builderConfig,O=y instanceof Ze?Te.fromUint8Array(y.address):y,[{sequence_number:E},$,{gas_estimate:K}]=await Promise.all([x!=null&&x.sequenceNumber?Promise.resolve({sequence_number:x==null?void 0:x.sequenceNumber}):this.aptosClient.getAccount(O),x!=null&&x.chainId?Promise.resolve(x==null?void 0:x.chainId):this.aptosClient.getChainId(),x!=null&&x.gasUnitPrice?Promise.resolve({gas_estimate:x==null?void 0:x.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new zr([zt(_)],{sender:y,sequenceNumber:E,chainId:$,gasUnitPrice:BigInt(K),...x}).build(e,t,n)}};Ge([q0(10*60*1e3)],uc.prototype,"fetchABI",1);var Xn=class{constructor(e,t,n=!1){if(!e)throw new Error("Node URL cannot be empty.");const r=t==null?{}:{...t};n?this.nodeUrl=e:this.nodeUrl=P0(e),r.BASE=this.nodeUrl,(t==null?void 0:t.WITH_CREDENTIALS)===!1?r.WITH_CREDENTIALS=!1:r.WITH_CREDENTIALS=!0,this.client=new ic(r)}async getAccount(e){return this.client.accounts.getAccount(Te.ensure(e).hex())}async getAccountTransactions(e,t){var n;return this.client.transactions.getAccountTransactions(Te.ensure(e).hex(),(n=t==null?void 0:t.start)==null?void 0:n.toString(),t==null?void 0:t.limit)}async getAccountModules(e,t){const n=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await bo(n,e,1e3,t)}async getAccountModule(e,t,n){var r;return this.client.accounts.getAccountModule(Te.ensure(e).hex(),t,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async getAccountResources(e,t){const n=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await bo(n,e,9999,t)}async getAccountResource(e,t,n){var r;return this.client.accounts.getAccountResource(Te.ensure(e).hex(),t,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}static generateBCSTransaction(e,t){return new Ir(r=>{const i=e.signBuffer(r);return new m.Ed25519Signature(i.toUint8Array())},e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new Ir(r=>{const i=new Uint8Array(64);return new m.Ed25519Signature(i)},e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,n){const r={sender:e};if(n!=null&&n.sequence_number&&(r.sequenceNumber=n.sequence_number),n!=null&&n.gas_unit_price&&(r.gasUnitPrice=n.gas_unit_price),n!=null&&n.max_gas_amount&&(r.maxGasAmount=n.max_gas_amount),n!=null&&n.expiration_timestamp_secs){const s=Number.parseInt(n.expiration_timestamp_secs,10);r.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new uc(this,r).build(t.function,t.type_arguments,t.arguments)}async signTransaction(e,t){return Promise.resolve(Xn.generateBCSTransaction(e,t))}async getEventsByCreationNumber(e,t,n){var r;return this.client.events.getEventsByCreationNumber(Te.ensure(e).hex(),t.toString(),(r=n==null?void 0:n.start)==null?void 0:r.toString(),n==null?void 0:n.limit)}async getEventsByEventHandle(e,t,n,r){var i;return this.client.events.getEventsByEventHandle(Te.ensure(e).hex(),t,n,(i=r==null?void 0:r.start)==null?void 0:i.toString(),r==null?void 0:r.limit)}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,t,n){let r;return e instanceof er?r=Xn.generateBCSSimulation(e,t):e instanceof ir?r=new ph(()=>{const{threshold:s}=e,o=[],c=[];for(let d=0;d<s;d+=1)o.push(d),c.push(new m.Ed25519Signature(new Uint8Array(64)));const u=m.MultiEd25519Signature.createBitmap(o);return new m.MultiEd25519Signature(c,u)},e).sign(t):r=new Ir(()=>{const s=new Uint8Array(64);return new m.Ed25519Signature(s)},e.toBytes()).sign(t),this.submitBCSSimulation(r,n)}async submitSignedBCSTransaction(e){return this.client.request.request({url:"/transactions",method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(e,t){var n,r,i;const s={estimate_gas_unit_price:(n=t==null?void 0:t.estimateGasUnitPrice)!=null?n:!1,estimate_max_gas_amount:(r=t==null?void 0:t.estimateMaxGasAmount)!=null?r:!1,estimate_prioritized_gas_unit_price:(i=t==null?void 0:t.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(e){var t;return this.client.transactions.getTransactions((t=e==null?void 0:e.start)==null?void 0:t.toString(),e==null?void 0:e.limit)}async getTransactionByHash(e){return this.client.transactions.getTransactionByHash(e)}async getTransactionByVersion(e){return this.client.transactions.getTransactionByVersion(e.toString())}async transactionPending(e){try{return(await this.client.transactions.getTransactionByHash(e)).type==="pending_transaction"}catch(t){if((t==null?void 0:t.status)===404)return!0;throw t}}async waitForTransactionWithResult(e,t){var n,r;const i=(n=t==null?void 0:t.timeoutSecs)!=null?n:O0,s=(r=t==null?void 0:t.checkSuccess)!=null?r:!1;let o=!0,c=0,u;for(;o&&!(c>=i);){try{if(u=await this.client.transactions.getTransactionByHash(e),o=u.type==="pending_transaction",!o)break}catch(d){const p=d instanceof tr,_=p&&d.status!==404&&d.status>=400&&d.status<500;if(!p||_)throw d}await B0(1e3),c+=1}if(u===void 0)throw new Error(`Waiting for transaction ${e} failed`);if(o)throw new yh(`Waiting for transaction ${e} timed out after ${i} seconds`,u);if(!s)return u;if(!(u!=null&&u.success))throw new _h(`Transaction ${e} committed to the blockchain but execution failed`,u);return u}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,n){var r;return await this.client.tables.getTableItem(e,t,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async generateRawTransaction(e,t,n){const[{sequence_number:r},i,{gas_estimate:s}]=await Promise.all([this.getAccount(e),this.getChainId(),n!=null&&n.gasUnitPrice?Promise.resolve({gas_estimate:n.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:c,expireTimestamp:u}={maxGasAmount:BigInt(Da),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+$a),...n};return new m.RawTransaction(m.AccountAddress.fromHex(e),BigInt(r),t,o,c,u,new m.ChainId(i))}async generateSignSubmitTransaction(e,t,n){const r=await this.generateRawTransaction(e.address(),t,n),i=Xn.generateBCSTransaction(e,r);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(e,t,n,r){const i=new nt;Tt(n,i);const s=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural("0x1::code","publish_package_txn",[],[yn(t),i.getBytes()]));return this.generateSignSubmitTransaction(e,s,r)}async generateSignSubmitWaitForTransaction(e,t,n){const r=await this.generateSignSubmitTransaction(e,t,n);return this.waitForTransactionWithResult(r,n)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(e){const t=`0x1::coin::CoinStore<${I0}>`,[{gas_estimate:n},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),i=r.find(o=>o.type===t);return BigInt(i.data.coin.value)/BigInt(n)}async rotateAuthKeyEd25519(e,t,n){const{sequence_number:r,authentication_key:i}=await this.getAccount(e.address()),s=new er(t),o=new m.RotationProofChallenge(m.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(r),m.AccountAddress.fromHex(e.address()),new m.AccountAddress(new Te(i).toUint8Array()),s.pubKey().toUint8Array()),c=Te.fromUint8Array(zt(o)),u=e.signHexString(c),d=s.signHexString(c),p=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[rs(0),yn(e.pubKey().toUint8Array()),rs(0),yn(s.pubKey().toUint8Array()),yn(u.toUint8Array()),yn(d.toUint8Array())])),_=await this.generateRawTransaction(e.address(),p,n),y=Xn.generateBCSTransaction(e,_);return this.submitSignedBCSTransaction(y)}async lookupOriginalAddress(e){const t=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:n}}=t.data,r=await this.getTableItem(n,{key_type:"address",value_type:"address",key:Te.ensure(e).hex()});return new Te(r)}async getBlockByHeight(e,t){return this.client.blocks.getBlockByHeight(e,t)}async getBlockByVersion(e,t){return this.client.blocks.getBlockByVersion(e,t)}async view(e,t){return this.client.view.view(e,t)}clearCache(e){M0(e)}},je=Xn;Ge([it],je.prototype,"getAccount",1);Ge([it],je.prototype,"getAccountTransactions",1);Ge([it],je.prototype,"getAccountModules",1);Ge([it],je.prototype,"getAccountModule",1);Ge([it],je.prototype,"getAccountResources",1);Ge([it],je.prototype,"getAccountResource",1);Ge([it],je.prototype,"getEventsByCreationNumber",1);Ge([it],je.prototype,"getEventsByEventHandle",1);Ge([it],je.prototype,"submitSignedBCSTransaction",1);Ge([it],je.prototype,"submitBCSSimulation",1);Ge([it],je.prototype,"getTransactions",1);Ge([it],je.prototype,"getTransactionByHash",1);Ge([it],je.prototype,"getTransactionByVersion",1);Ge([it],je.prototype,"getLedgerInfo",1);Ge([ei()],je.prototype,"getChainId",1);Ge([it],je.prototype,"getTableItem",1);Ge([it,ei({ttlMs:5*60*1e3,tags:["gas_estimates"]})],je.prototype,"estimateGasPrice",1);Ge([it],je.prototype,"estimateMaxGasAmount",1);Ge([it],je.prototype,"getBlockByHeight",1);Ge([it],je.prototype,"getBlockByVersion",1);Ge([it],je.prototype,"view",1);var gh=class extends Error{constructor(e,t,n,r){super(t),this.status=e,this.message=t,this.errorCode=n,this.vmErrorCode=r}},yh=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},_h=class extends Error{constructor(e,t){super(e),this.transaction=t}};function it(e,t,n){const r=n.value;return n.value=async function(...s){var o,c;try{return await r.apply(this,[...s])}catch(u){throw u instanceof tr?new gh(u.status,JSON.stringify({message:u.message,...u.body}),(o=u.body)==null?void 0:o.error_code,(c=u.body)==null?void 0:c.vm_error_code):u}},n}var lc=class{constructor(e,t,n=!1){let r=null,i=null;if(typeof e=="object"&&mh(e)?(r=e.fullnodeUrl,i=e.indexerUrl):(r=N0[e],i=C0[e]),!r||!i)throw new Error("network is not provided");this.aptosClient=new je(r,t,n),this.indexerClient=new Wa(i)}};function dc(e,t,n){Object.getOwnPropertyNames(t.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t.prototype,r);i&&(i.value=function(...s){return this[n][r](...s)},Object.defineProperty(e.prototype,r,i))})}dc(lc,je,"aptosClient");dc(lc,Wa,"indexerClient");function mh(e){return e.fullnodeUrl!==void 0&&typeof e.fullnodeUrl=="string"&&e.indexerUrl!==void 0&&typeof e.indexerUrl=="string"}var wh="a11ceb0b0500000006010004020408030c0a05161d073339086c400000010100020700010307000104030100010504020007060c0508000800030503010801000405080008000304060c0801050306737472696e6705746f6b656e06537472696e6707546f6b656e4964136372656174655f746f6b656e5f69645f726177087472616e73666572000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000010c0b010b020b030b0411000c070b000b070b050b06110102",xh=["01186372656174655F636F6C6C656374696F6E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E3020637265617465206120656D70747920746F6B656E20636F6C6C656374696F6E207769746820706172616D65746572730005046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700076D6178696D756D020E6D75746174655F73657474696E670600","01136372656174655F746F6B656E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E1D2063726561746520746F6B656E20776974682072617720696E70757473000D0A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000762616C616E636502076D6178696D756D020375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E670015726F79616C74795F70617965655F61646472657373041A726F79616C74795F706F696E74735F64656E6F6D696E61746F720218726F79616C74795F706F696E74735F6E756D657261746F72020E6D75746174655F73657474696E6706000D70726F70657274795F6B6579730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000F70726F70657274795F76616C7565730606010E70726F70657274795F74797065730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700","01166469726563745f7472616e736665725f736372697074000000000000000000000000000000000000000000000000000000000000000305746f6b656e0000051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010C6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000006087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E0206616D6F756E7402","010C636C61696D5F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E73666572730000050673656E646572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","011363616E63656C5F6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000005087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","01176d75746174655f746f6b656e5f70726f70657274696573000000000000000000000000000000000000000000000000000000000000000305746f6b656eba02206d75746174652074686520746f6b656e2070726f706572747920616e64207361766520746865206e65772070726f706572747920696e20546f6b656e53746f72650a2069662074686520746f6b656e2070726f70657274795f76657273696f6e20697320302c2077652077696c6c206372656174652061206e65772070726f70657274795f76657273696f6e2070657220746f6b656e20746f2067656e65726174652061206e657720746f6b656e5f69642070657220746f6b656e0a2069662074686520746f6b656e2070726f70657274795f76657273696f6e206973206e6f7420302c2077652077696c6c206a75737420757064617465207468652070726f70657274794d617020616e642075736520746865206578697374696e6720746f6b656e5f6964202870726f70657274795f76657273696f6e2900090b746f6b656e5f6f776e6572040763726561746f72040f636f6c6c656374696f6e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000a746f6b656e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e670016746f6b656e5f70726f70657274795f76657273696f6e0206616d6f756e7402046b6579730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000676616c7565730606010574797065730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700","01166f70745f696e5f6469726563745f7472616e73666572000000000000000000000000000000000000000000000000000000000000000305746f6b656e000001066f70745f696e00","01046275726e000000000000000000000000000000000000000000000000000000000000000305746f6b656e20204275726e206120746f6b656e2062792074686520746f6b656e206f776e657200051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010f6275726e5f62795f63726561746f72000000000000000000000000000000000000000000000000000000000000000305746f6b656e6a204275726e206120746f6b656e2062792063726561746f72207768656e2074686520746f6b656e2773204255524e41424c455f42595f43524541544f5220697320747275650a2054686520746f6b656e206973206f776e65642061742061646472657373206f776e65720005056f776e6572040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402"],fc=class{constructor(e,t){this.type=e,this.value=t}},Os=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function hc(e){let t;return e==="string"||e==="String"?t=new dn(ch):t=new _i(e).parseTypeTag(),t}function vh(e,t){if(e.length!==t.length)throw new Error("Length of property values and types not match");const n=new Array;return t.forEach((r,i)=>{try{const s=hc(r),o=new nt;Ps(e[i],s,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(e[i]))}}),n}function pc(e){const t=e.map.data,n=new Os;return t.forEach(r=>{const{key:i}=r,s=r.value.value,o=r.value.type,c=hc(o),u=bh(c,s),d=new fc(o,u);n.setProperty(i,d)}),n}function bh(e,t){const n=new vs(new Te(t).toUint8Array());let r="";return e instanceof $t?r=n.deserializeU8().toString():e instanceof cn?r=n.deserializeU64().toString():e instanceof un?r=n.deserializeU128().toString():e instanceof an?r=n.deserializeBool()?"true":"false":e instanceof ln?r=Te.fromUint8Array(n.deserializeFixedBytes(32)).hex():e instanceof dn&&e.isStringTypeTag()?r=n.deserializeStr():r=t,r}var Sh={};Qr(Sh,{PropertyMap:()=>Os,PropertyValue:()=>fc,Token:()=>yc,TokenData:()=>gc});var gc=class{constructor(e,t,n,r,i,s,o,c){this.collection=e,this.description=t,this.name=n,this.maximum=r,this.supply=i,this.uri=s,this.default_properties=pc(o),this.mutability_config=c}},yc=class{constructor(e,t,n){this.id=e,this.amount=t,this.token_properties=pc(n)}},Th=class{constructor(e){this.aptosClient=e,this.transactionBuilder=new zr(xh.map(t=>new Te(t).toUint8Array()))}async createCollection(e,t,n,r,i=Jn,s){const o=this.transactionBuilder.buildTransactionPayload("0x3::token::create_collection_script",[],[t,n,r,i,[!1,!1,!1]]);return this.aptosClient.generateSignSubmitTransaction(e,o,s)}async createToken(e,t,n,r,i,s,o=Jn,c=e.address(),u=0,d=0,p=[],_=[],y=[],x){const O=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[t,n,r,i,o,s,c,u,d,[!1,!1,!1,!1,!1],p,vh(_,y),y]);return this.aptosClient.generateSignSubmitTransaction(e,O,x)}async createTokenWithMutabilityConfig(e,t,n,r,i,s,o=Jn,c=e.address(),u=0,d=0,p=[],_=[],y=[],x=[!1,!1,!1,!1,!1],O){const E=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[t,n,r,i,o,s,c,u,d,x,p,_,y]);return this.aptosClient.generateSignSubmitTransaction(e,E,O)}async offerToken(e,t,n,r,i,s,o=0,c){const u=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::offer_script",[],[t,n,r,i,o,s]);return this.aptosClient.generateSignSubmitTransaction(e,u,c)}async claimToken(e,t,n,r,i,s=0,o){const c=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::claim_script",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,c,o)}async cancelTokenOffer(e,t,n,r,i,s=0,o){const c=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::cancel_offer_script",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,c,o)}async directTransferToken(e,t,n,r,i,s,o=0,c){const u=this.transactionBuilder.buildTransactionPayload("0x3::token::direct_transfer_script",[],[n,r,i,o,s]),d=await this.aptosClient.generateRawTransaction(e.address(),u,c),p=new m.MultiAgentRawTransaction(d,[m.AccountAddress.fromHex(t.address())]),_=new m.Ed25519Signature(e.signBuffer(In.getSigningMessage(p)).toUint8Array()),y=new m.AccountAuthenticatorEd25519(new m.Ed25519PublicKey(e.signingKey.publicKey),_),x=new m.Ed25519Signature(t.signBuffer(In.getSigningMessage(p)).toUint8Array()),O=new m.AccountAuthenticatorEd25519(new m.Ed25519PublicKey(t.signingKey.publicKey),x),E=new m.TransactionAuthenticatorMultiAgent(y,[m.AccountAddress.fromHex(t.address())],[O]),$=zt(new m.SignedTransaction(d,E));return(await this.aptosClient.submitSignedBCSTransaction($)).hash}async optInTokenTransfer(e,t,n){const r=this.transactionBuilder.buildTransactionPayload("0x3::token::opt_in_direct_transfer",[],[t]);return this.aptosClient.generateSignSubmitTransaction(e,r,n)}async transferWithOptIn(e,t,n,r,i,s,o,c){const u=new ur(new or(new Te(wh).toUint8Array(),[],[new kn(m.AccountAddress.fromHex(t)),new Bn(new TextEncoder().encode(n)),new Bn(new TextEncoder().encode(r)),new Rn(BigInt(i)),new kn(m.AccountAddress.fromHex(s)),new Rn(BigInt(o))]));return this.aptosClient.generateSignSubmitTransaction(e,u,c)}async burnByCreator(e,t,n,r,i,s,o){const c=this.transactionBuilder.buildTransactionPayload("0x3::token::burn_by_creator",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,c,o)}async burnByOwner(e,t,n,r,i,s,o){const c=this.transactionBuilder.buildTransactionPayload("0x3::token::burn",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,c,o)}async mutateTokenProperties(e,t,n,r,i,s,o,c,u,d,p){const _=this.transactionBuilder.buildTransactionPayload("0x3::token::mutate_token_properties",[],[t,n,r,i,s,o,c,u,d]);return this.aptosClient.generateSignSubmitTransaction(e,_,p)}async getCollectionData(e,t){const r=(await this.aptosClient.getAccountResources(e)).find(c=>c.type==="0x3::token::Collections"),{handle:i}=r.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:t};return await this.aptosClient.getTableItem(i,s)}async getTokenData(e,t,n){const r=e instanceof Te?e.hex():e,i=await this.aptosClient.getAccountResource(r,"0x3::token::Collections"),{handle:s}=i.data.token_data,c={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:r,collection:t,name:n}},u=await this.aptosClient.getTableItem(s,c);return new gc(u.collection,u.description,u.name,u.maximum,u.supply,u.uri,u.default_properties,u.mutability_config)}async getToken(e,t,n,r="0"){const i={creator:e instanceof Te?e.hex():e,collection:t,name:n};return this.getTokenForAccount(e,{token_data_id:i,property_version:r})}async getTokenForAccount(e,t){const n=await this.aptosClient.getAccountResource(e instanceof Te?e.hex():e,"0x3::token::TokenStore"),{handle:r}=n.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:t};try{const s=await this.aptosClient.getTableItem(r,i);return new yc(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:t,amount:"0",token_properties:new Os}:s}}},Ah="Invariant failed";function Eh(e,t){if(!e)throw new Error(Ah)}Ae.config({precision:64,rounding:Ae.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var yt=Ae,ut=class extends Error{constructor(e,t){super(e),this.message=e,this.errorCode=t}static isClmmpoolsErrorCode(e,t){return e instanceof ut&&e.errorCode===t}},j=new v(0),tn=new v(1),mi=new v(2);mi.pow(new v(128));var Lr=mi.pow(new v(64)).sub(tn),Uh=mi.pow(new v(128)).sub(tn),ye=class{static toX64_BN(e){return e.mul(new v(2).pow(new v(64)))}static toX64_Decimal(e){return e.mul(yt.pow(2,64))}static toX64(e){return new v(e.mul(yt.pow(2,64)).floor().toFixed())}static fromX64(e){return new yt(e.toString()).mul(yt.pow(2,-64))}static fromX64_Decimal(e){return e.mul(yt.pow(2,-64))}static fromX64_BN(e){return e.div(new v(2).pow(new v(64)))}static shiftRightRoundUp(e){let t=e.shrn(64);return e.mod(Lr).gt(j)&&(t=t.add(tn)),t}static divRoundUp(e,t){return e.mod(t).eq(j)?e.div(t):e.div(t).add(new v(1))}static subUnderflowU128(e,t){return e.lt(t)?e.sub(t).add(Uh):e.sub(t)}static checkUnsignedSub(e,t){const n=e.sub(t);if(n.isNeg())throw new ut("Unsigned integer sub overflow","UnsignedIntegerOverflow");return n}static checkMul(e,t,n){const r=e.mul(t);if(this.isOverflow(r,n))throw new ut("Multiplication overflow","MultiplicationOverflow");return r}static checkMulDivFloor(e,t,n,r){if(n.eq(j))throw new ut("Devide by zero","DivideByZero");const i=e.mul(t).div(n);if(this.isOverflow(i,r))throw new ut("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivCeil(e,t,n,r){if(n.eq(j))throw new ut("Devide by zero","DivideByZero");const i=e.mul(t).add(n.sub(tn)).div(n);if(this.isOverflow(i,r))throw new ut("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivRound(e,t,n,r){if(n.eq(j))throw new ut("Devide by zero","DivideByZero");const i=e.mul(t.add(n.shrn(1))).div(n);if(this.isOverflow(i,r))throw new ut("Multiplication div overflow","MulDivOverflow");return i}static checkMulShiftRight(e,t,n,r){const i=e.mul(t).div(new v(2).pow(new v(n)));if(this.isOverflow(i,r))throw new ut("Multiplication shift right overflow","MulShiftRightOverflow");return i}static checkMulShiftRight64RoundUpIf(e,t,n,r){const i=e.mul(t),o=r&&i.and(Lr).gt(j)?i.shrn(64).add(tn):i.shrn(64);if(this.isOverflow(o,n))throw new ut("Multiplication shift right overflow","MulShiftRightOverflow");return o}static checkMulShiftLeft(e,t,n,r){const i=e.mul(t).shln(n);if(this.isOverflow(i,r))throw new ut("Multiplication shift left overflow","MulShiftLeftOverflow");return i}static checkDivRoundUpIf(e,t,n){if(t.eq(j))throw new ut("Devide by zero","DivideByZero");return n?this.divRoundUp(e,t):e.div(t)}static isOverflow(e,t){return e.gte(mi.pow(new v(t)))}};function _c(e){return{coinA:e.coinTypeA.toString(),coinB:e.coinTypeB.toString(),currentSqrtPrice:new v(e.current_sqrt_price),currentTickIndex:e.current_tick_index,feeGrowthGlobalA:new v(e.fee_growth_global_a),feeGrowthGlobalB:new v(e.fee_growth_global_b),feeProtocolCoinA:new v(e.fee_protocol_coin_a),feeProtocolCoinB:new v(e.fee_protocol_coin_b),feeRate:e.fee_rate,liquidity:new v(e.liquidity),tickIndexes:[],tickSpacing:Number(e.tickSpacing),ticks:[],collection_name:e.collectionName}}function Rh(e){const t=new v(e);return t.lt(j)?{bits:t.neg().xor(new v(2).pow(new v(64)).sub(new v(1))).add(new v(1)).toString()}:{bits:t.toString()}}var mc="0x1::coin::CoinInfo",wc="0x1::coin::CoinStore",Ao="0x3::token::TokenStore",kh="0x3::token::WithdrawEvent",Bh="PoolLiquidityCoin",Qt="clmm_router",xc="factory",vc="Pools",Ph="pool",Oh="Pool",Ih="crowdsale",qh="CrowdsalePool",Mh="fairlaunch",Ch="FairlaunchPool",It="cetus_script",bc="cscoin",Sc="liquidity",ss="scripts";function Nh(e){return e.startsWith("0x")?`${e.slice(2)}`:e}function Nt(e){let t="";const n=Nh(e),r=n.length/2;for(let i=0;i<r;i++)t+=String.fromCharCode(parseInt(n.substr(i*2,2),16));return Dh(t)}function Dh(e){let t,n,r,i,s,o;for(t="",r=e.length,n=0;n<r;)switch(i=e.charCodeAt(n++),i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:s=e.charCodeAt(n++),t+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=e.charCodeAt(n++),o=e.charCodeAt(n++),t+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}return t}var $h=/^0x1::coin::CoinStore<(.+)>$/;function Se(e,...t){const n=Array.isArray(t[t.length-1])?t.pop():[];let i=[e,...t].filter(Boolean).join("::");return n&&n.length&&(i+=`<${n.join(", ")}>`),i}function Eo(e){return Se(Te.fromUint8Array(e.value.address.address).hex(),e.value.module_name.value,e.value.name.value,[])}function zh(e){const t=e.value.type_args[0],n=e.value.type_args[1],r=Eo(t),i=Eo(n),s=Se(Te.fromUint8Array(e.value.address.address).hex(),e.value.module_name.value,e.value.name.value,[r,i]);return{coinA:r,coinB:i,lpAddress:s}}function Is(e){var t;let n=e.replace(/\s/g,"");const r=n.match(/(<.+>)$/),i=(t=r==null?void 0:r[0])==null?void 0:t.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(i)return n=n.slice(0,n.indexOf("<")),{...Is(n),type_arguments:[...i]};const s=n.split("::");return{full_address:n,address:s[0],module:s[1],name:s[2],type_arguments:[]}}function Uo(e){const t=e.match($h);return t?t[1]:""}function Lh(e){return`${wc}<${e}>`}function Fh(e){return`${mc}<${e}>`}var wi=class{constructor(e,t=0){this.overdueTime=t,this.value=e}getCacheData(){return this.value===null?null:this.overdueTime===0?this.value:Date.parse(new Date().toString())>this.overdueTime?(this.value=null,null):this.value}},Ro=443636,ko=-443636,xi="79226673515401279992447579055",vi="4295048016",mn=new v(1e6),Fr=class{static getDefaultSqrtPriceLimit(e){return new v(e?vi:xi)}static getDefaultOtherAmountThreshold(e){return e?j:Lr}},Hr=class{constructor(e,t){this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=e,this.denominator=t}static fromDecimal(e){return Hr.fromFraction(e.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(e,t){const n=typeof e=="number"?new v(e.toString()):e,r=typeof t=="number"?new v(t.toString()):t;return new Hr(n,r)}},Hh=14,Wh="59543866431248",jh="184467440737095516",Gh="15793534762490258745";function Vh(e,t,n){const r=e.toTwos(n).shln(t);return r.imaskn(n+1),r.fromTwos(n)}function De(e,t,n){const r=e.toTwos(n).shrn(t);return r.imaskn(n-t+1),r.fromTwos(n-t)}function Kh(e){let t;return e&1?t=new v("79232123823359799118286999567"):t=new v("79228162514264337593543950336"),e&2&&(t=De(t.mul(new v("79236085330515764027303304731")),96,256)),e&4&&(t=De(t.mul(new v("79244008939048815603706035061")),96,256)),e&8&&(t=De(t.mul(new v("79259858533276714757314932305")),96,256)),e&16&&(t=De(t.mul(new v("79291567232598584799939703904")),96,256)),e&32&&(t=De(t.mul(new v("79355022692464371645785046466")),96,256)),e&64&&(t=De(t.mul(new v("79482085999252804386437311141")),96,256)),e&128&&(t=De(t.mul(new v("79736823300114093921829183326")),96,256)),e&256&&(t=De(t.mul(new v("80248749790819932309965073892")),96,256)),e&512&&(t=De(t.mul(new v("81282483887344747381513967011")),96,256)),e&1024&&(t=De(t.mul(new v("83390072131320151908154831281")),96,256)),e&2048&&(t=De(t.mul(new v("87770609709833776024991924138")),96,256)),e&4096&&(t=De(t.mul(new v("97234110755111693312479820773")),96,256)),e&8192&&(t=De(t.mul(new v("119332217159966728226237229890")),96,256)),e&16384&&(t=De(t.mul(new v("179736315981702064433883588727")),96,256)),e&32768&&(t=De(t.mul(new v("407748233172238350107850275304")),96,256)),e&65536&&(t=De(t.mul(new v("2098478828474011932436660412517")),96,256)),e&131072&&(t=De(t.mul(new v("55581415166113811149459800483533")),96,256)),e&262144&&(t=De(t.mul(new v("38992368544603139932233054999993551")),96,256)),De(t,32,256)}function Xh(e){const t=Math.abs(e);let n;return t&1?n=new v("18445821805675392311"):n=new v("18446744073709551616"),t&2&&(n=De(n.mul(new v("18444899583751176498")),64,256)),t&4&&(n=De(n.mul(new v("18443055278223354162")),64,256)),t&8&&(n=De(n.mul(new v("18439367220385604838")),64,256)),t&16&&(n=De(n.mul(new v("18431993317065449817")),64,256)),t&32&&(n=De(n.mul(new v("18417254355718160513")),64,256)),t&64&&(n=De(n.mul(new v("18387811781193591352")),64,256)),t&128&&(n=De(n.mul(new v("18329067761203520168")),64,256)),t&256&&(n=De(n.mul(new v("18212142134806087854")),64,256)),t&512&&(n=De(n.mul(new v("17980523815641551639")),64,256)),t&1024&&(n=De(n.mul(new v("17526086738831147013")),64,256)),t&2048&&(n=De(n.mul(new v("16651378430235024244")),64,256)),t&4096&&(n=De(n.mul(new v("15030750278693429944")),64,256)),t&8192&&(n=De(n.mul(new v("12247334978882834399")),64,256)),t&16384&&(n=De(n.mul(new v("8131365268884726200")),64,256)),t&32768&&(n=De(n.mul(new v("3584323654723342297")),64,256)),t&65536&&(n=De(n.mul(new v("696457651847595233")),64,256)),t&131072&&(n=De(n.mul(new v("26294789957452057")),64,256)),t&262144&&(n=De(n.mul(new v("37481735321082")),64,256)),n}var Ke=class{static priceToSqrtPriceX64(e,t,n){return ye.toX64(e.mul(yt.pow(10,n-t)).sqrt())}static sqrtPriceX64ToPrice(e,t,n){return ye.fromX64(e).pow(2).mul(yt.pow(10,t-n))}static tickIndexToSqrtPriceX64(e){return e>0?new v(Kh(e)):new v(Xh(e))}static sqrtPriceX64ToTickIndex(e){if(e.gt(new v(xi))||e.lt(new v(vi)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const t=e.bitLength()-1,n=new v(t-64),r=Vh(n,32,128);let i=new v("8000000000000000","hex"),s=0,o=new v(0),c=t>=64?e.shrn(t-63):e.shln(63-t);for(;i.gt(new v(0))&&s<Hh;){c=c.mul(c);const O=c.shrn(127);c=c.shrn(63+O.toNumber()),o=o.add(i.mul(O)),i=i.shrn(1),s+=1}const u=o.shrn(32),p=r.add(u).mul(new v(Wh)),_=De(p.sub(new v(jh)),64,128).toNumber(),y=De(p.add(new v(Gh)),64,128).toNumber();return _===y?_:Ke.tickIndexToSqrtPriceX64(y).lte(e)?y:_}static tickIndexToPrice(e,t,n){return Ke.sqrtPriceX64ToPrice(Ke.tickIndexToSqrtPriceX64(e),t,n)}static priceToTickIndex(e,t,n){return Ke.sqrtPriceX64ToTickIndex(Ke.priceToSqrtPriceX64(e,t,n))}static priceToInitializableTickIndex(e,t,n,r){return Ke.getInitializableTickIndex(Ke.priceToTickIndex(e,t,n),r)}static getInitializableTickIndex(e,t){return e-e%t}static getNextInitializableTickIndex(e,t){return Ke.getInitializableTickIndex(e,t)+t}static getPrevInitializableTickIndex(e,t){return Ke.getInitializableTickIndex(e,t)-t}};function Yh(e){const t=[];for(const n of e){const r={index:Number(BigInt.asIntN(64,BigInt(n.index.bits)).toString()),sqrtPrice:new v(n.sqrt_price),liquidityNet:new v(BigInt.asIntN(64,BigInt(n.liquidity_net.bits)).toString()),liquidityGross:new v(n.liquidity_gross),feeGrowthOutsideA:new v(n.fee_growth_outside_a),feeGrowthOutsideB:new v(n.fee_growth_outside_b),rewardersGrowthOutside:[new v(n.rewarders_growth_outside[0]),new v(n.rewarders_growth_outside[1]),new v(n.rewarders_growth_outside[2])]};t.push(r)}return t}function Bo(e){return e.isAxiosError,e}function Ee(e){return yt.isDecimal(e)?e:new yt(e===void 0?0:e)}function qs(e){return Ee(10).pow(Ee(e).abs())}function Jh(e){return e!=null&&e!==""&&!isNaN(Number(e.toString()))}new v(365);new v(24);new v(3600);new v(.5);function Zh(e,t,n,r,i,s){const o=new Ae(e.toString()).div(new Ae(10**n)),c=new Ae(t.toString()).div(new Ae(10**r));return o.mul(i).add(c.mul(s))}function rg(e,t,n,r,i,s,o,c,u,d,p,_,y,x,O,E,$,K,G,z,I,U,D,q){const H=new Ae(_),X=new Ae(y),xe=new Ae(E),Ce=new Ae($),S=new Ae(K),A=new Ae(G),P=new Ae(z),V=new Ae(I),ee=new Ae(U),se=new Ae(D),ue=new Ae(q),Ie=Ke.tickIndexToSqrtPriceX64(t),de=Ke.tickIndexToSqrtPriceX64(n),Ue=ye.toX64_Decimal(ye.fromX64(Ie)).round(),oe=ye.toX64_Decimal(ye.fromX64(de)).round(),he=ye.toX64_Decimal(ye.fromX64(r)).round();let J;const Y=H.mul(new Ae(10**s)).mul(oe.mul(Ue)).div(oe.sub(Ue)).round(),Re=X.mul(new Ae(10**o)).div(oe.sub(Ue)).round();e<t?J=Y:e>n?J=Re:J=Ae.min(Y,Re);const Xe=J.mul(he.sub(Ue)),pe=J.mul(oe.sub(he)).div(he.mul(oe)).div(new Ae(10**s)).mul(P).add(Xe.div(new Ae(10**o).mul(V))),We=Zh(x,O,s,o,P,V),Je=pe.div(We),Ot=J.eq(new Ae(0))?new Ae(0):new Ae(p/1e4).mul(xe).mul(new Ae(J.toString()).div(new Ae(i.toString()).add(new Ae(J.toString())))).div(pe),mt=Je.eq(new Ae(0))?new Ae(0):Je.mul(new Ae(36500/7)).div(pe),bi=Ce.div(new Ae(10**c)).mul(ee).mul(mt),Si=S.div(new Ae(10**u)).mul(se).mul(mt),Ti=A.div(new Ae(10**d)).mul(ue).mul(mt);return{feeAPR:Ot,posRewarder0APR:bi,posRewarder1APR:Si,posRewarder2APR:Ti}}function ig(e,t,n,r){const i=Math.max(e,n),o=Math.min(t,r)-i,c=t-e,u=r-n,d=new Ae(c.toString()),p=new Ae(u.toString()),_=new Ae(o.toString());let y=new Ae("0");return o<0?y=new Ae("0"):c===o?y=p.div(_):u===o?y=_.div(d):y=_.mul(_).div(p).div(d),y}function sg(e){const{clmmpool:t,position:n,tickLower:r,tickUpper:i}=e,{current_tick_index:s,fee_growth_global_a:o,fee_growth_global_b:c}=t;console.log({currentTickIndex:s,feeGrowthGlobalAX64:o,feeGrowthGlobalBX64:c});const{tick_lower_index:u,tick_upper_index:d,liquidity:p,fee_owed_a:_,fee_owed_b:y,fee_growth_inside_a:x,fee_growth_inside_b:O}=n,{feeGrowthOutsideA:E,feeGrowthOutsideB:$}=r,{feeGrowthOutsideA:K,feeGrowthOutsideB:G}=i;let z=null,I=null;s<Number(u)?(z=ye.subUnderflowU128(new v(o),new v(E)),I=ye.subUnderflowU128(new v(c),new v($))):(z=E,I=$);let U=null,D=null;s<Number(d)?(U=K,D=G):(U=ye.subUnderflowU128(new v(o),new v(K)),D=ye.subUnderflowU128(new v(c),new v(G)));const q=ye.subUnderflowU128(ye.subUnderflowU128(new v(o),new v(z)),new v(U)),H=ye.subUnderflowU128(ye.subUnderflowU128(new v(c),new v(I)),new v(D)),X=ye.subUnderflowU128(new v(q),new v(x)).mul(new v(p)).shrn(64),xe=ye.subUnderflowU128(new v(H),new v(O)).mul(new v(p)).shrn(64),Ce=new v(Ee(_).add(Ee(X.toString())).toString()),S=new v(Ee(y).add(Ee(xe.toString())).toString());return{feeOwedA:Ce,feeOwedB:S}}var jt=1e9,Qh=5*60*1e3,vr=24*60*60*1e3;function Po(e){return Date.parse(new Date().toString())+e}var ep=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getPoolImmutablesResource(e=!1){const t=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,n=`${t}_getMmutablesPools`,r=this.getCacheData(n);let i;if(!e&&r!=null)i=r;else{const s=Se(t,xc,vc),o=await this._sdk.Resources.fetchAccountResource(t,s);i=JSON.parse(JSON.stringify(o==null?void 0:o.data)),this.updateCache(n,i,vr)}return i}async getLaunchpadPools(e=[],t=0,n=100,r=null,i=!1){const s=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,o=[],u=(await this.getPoolImmutablesResource(i)).data.data,d=e.length>0;for(let p=0;p<u.length;p+=1){const _=u[p],{pool_address:y,creater_address:x,pool_type:O}=_.value;if(r==="fixed_price"&&O!==0||r==="fair_launch"&&O===0||d&&!e.includes(y))continue;if(!d){const q=Number(p);if(q<t||q>=t+n)continue}const E=_.key,$=Se(E.coin_raise.account_address,Nt(E.coin_raise.module_name),Nt(E.coin_raise.struct_name)),K=Se(E.coin_sale.account_address,Nt(E.coin_sale.module_name),Nt(E.coin_sale.struct_name)),G=Bt.buildLaunchpadPoolType(O===0,s,K,$),z={coin_type_sale:K,coin_type_raise:$,pool_type:G,pool_address:y,creator:x,pool_mode:O===0?"fixed_price":"fair_launch"},I=await this.getLaunchpadPoolState(z.pool_address,z.pool_type,z.pool_mode),U={...z,...I};await this.calculateLaunchpadPoolField(U),o.push(U);const D=`${y}_pool`;this.updateCache(D,U,vr)}return o}async getLaunchpadPool(e,t=!0){const n=`${e}_pool`,r=this.getCacheData(n);let i;if(r!==null&&!t&&(i=r),i==null)return(await this.getLaunchpadPools([e]))[0];const s=await this.getLaunchpadPoolState(e,i.pool_type,i.pool_mode),o={...i,...s};return await this.calculateLaunchpadPoolField(o),this.updateCache(n,o,vr),o}async getSpecifyCoinDecimals(e){const t={};(await this._sdk.Token.getSpecifyTokenListByCache(e)).forEach(s=>{t[s.address]=s.decimals});const r=e.filter(s=>t[s]===void 0);return(await this._sdk.Resources.getSpecifyCoinInfos(r)).forEach(s=>{t[s.coinAddress]=Number(s.decimals)}),t}async calculateLaunchpadPoolField(e){const t=await this.getSpecifyCoinDecimals([e.coin_type_sale,e.coin_type_raise]),n=Number(t[e.coin_type_sale]),r=Number(t[e.coin_type_raise]);if(e.initialize_price=Bt.priceFixToReal(e.initialize_price,n,r),Bt.isFixedPricePool(e))e.raise_total=Bt.raiseTotalAmount(e,n,r);else{e.raise_total=Bt.raiseTotalAmount(e,n,r);const s=Ee(e.raise_coin_amount).div(Ee(10).pow(Ee(r))),o=Ee(e.sale_total).div(Ee(10).pow(Ee(n)));o.toNumber()>0?e.price=s.div(o).toNumber():e.price=0}return Bt.updatePoolStaus(e),!0}async getLaunchpadPoolState(e,t,n,r=!0){const i=`${e}_${t}_getLaunchpadPoolState`;if(!r){const u=this.getCacheData(i);if(u!==null)return u}const s=await this._sdk.Resources.fetchAccountResource(e,t),o=JSON.parse(JSON.stringify(s==null?void 0:s.data)),c=Bt.buildLaunchpadFixedPoolState(n,o);return this.updateCache(i,c,vr),c}async getOwnerLaunchpadCoins(e){const t=await this._sdk.Resources.getCoinStores(e),n=[];return t.forEach(r=>{const i=Is(r.coinAddress);i.module===bc&&n.push({coin_type_sale:i.type_arguments[0],coin_type_raise:i.type_arguments[1],coin_address:r.coinAddress,balance:Number(r.coin.value)})}),n}async getSimplePosition(e){const t=await this._sdk.Resources.fetchAccountResource(e,Se(this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,"clmmProxy","LockedPosition")),n=JSON.parse(JSON.stringify(t==null?void 0:t.data));return{position_name:n.token_id.token_data_id.name,collection:n.token_id.token_data_id.collection,creator:n.token_id.token_data_id.creator,unlock_time:n.unlock_time,is_redeem:n.is_redeem}}async hasPoolWhitelist(e){const{launchpad:t}=this._sdk.sdkOptions.networkOptions,n={handle:"",exist:!1};try{const r=await this._sdk.Resources.fetchAccountResource(e,Se(t.cetusLaunchpad,"whitelist","Whitelist")),i=JSON.parse(JSON.stringify(r==null?void 0:r.data));return n.exist=Number(i.users.length)>0,n.handle=i.users.inner.handle,n}catch(r){console.log(r)}return n}async inPoolWhitelist(e,t){if(!t.exist)return!1;try{return await this._sdk.client.getTableItem(t.handle,{key_type:"address",value_type:"u8",key:e}),!0}catch(n){console.log(n)}return!1}buildLaunchpadCoinType(e,t){return Se(this._sdk.sdkOptions.networkOptions.launchpad.crowdCoin,"cscoin","CS",[e,t])}creatPoolTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r="is_admin"in e,i=`${n.cetusLaunchpad}::${It}`,s=r?e.is_admin?"create_crowdsale_pool_authority":"create_crowdsale_pool":"create_fairlaunch_pool",o=Bt.priceRealToFix(e.initialize_price,e.sale_decimals,e.raise_decimals);console.log("fixPrice:",o);const c=Ke.priceToSqrtPriceX64(Ee(e.initialize_price),e.sale_decimals,e.raise_decimals).toString();return r?Bt.buildCreatCrowdsalePoolPayload(e,c,o,i,s,t):Bt.buildCreatFairlaunchPoolPayload(e,c,o,i,s,t)}updatePoolTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i="update_pool";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_addr)),R.bcsSerializeUint64(e.start_time),R.bcsSerializeUint64(e.liquidity_rate*100),R.bcsSerializeUint64(e.activity_duration),R.bcsSerializeUint64(e.calmdown_duraction),R.bcsSerializeUint64(e.settle_duration),R.bcsSerializeUint64(e.locked_duration)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.start_time,e.liquidity_rate*100,e.activity_duration,e.calmdown_duraction,e.settle_duration,e.locked_duration];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}purchaseTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i="purchase";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_addr)),R.bcsSerializeUint64(e.raise_amount_in)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.raise_amount_in];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}revokeTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i="revoke";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_addr)),R.bcsSerializeUint64(e.cs_coin_amount)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.cs_coin_amount];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}settleTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i=e.pool_mode==="fixed_price",s=i?"crowd_sale_settle":"fair_launch_settle";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))];return i?new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,s,u,[])):new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,s,u,[R.bcsSerializeU128(BigInt(e.initialize_sqrt_price))]))}const o=Se(r,s),c=[e.coin_type_sale,e.coin_type_raise];return{type:"entry_function_payload",function:o,type_arguments:c,arguments:i?[]:[e.initialize_sqrt_price]}}claimTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i="claim";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_addr)),R.bcsSerializeUint64(e.cs_coin_amount)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.cs_coin_amount];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}claimFeeTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i="claim_fee";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_addr))];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}withdrawTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i=e.is_withdraw_sale?"withdraw_sale":"withdraw_raise";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_addr))];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}redeemPositionTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i="redeem_position";if(t){const c=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,c,[]))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:[]}}userToWhitelistTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${It}`,i=e.isAdd?"add_user_to_whitelist":"remove_user_from_whitelist";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.user_addr))];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coin_type_sale,e.coin_type_raise],c=[e.user_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}updateCache(e,t,n=Qh){let r=this._cache[e];r?(r.overdueTime=Po(n),r.value=t):r=new wi(t,Po(n)),this._cache[e]=r}getCacheData(e){const t=this._cache[e];return t!==void 0&&t.getCacheData()?t.value:null}};function tp(e,t,n,r){const i=e.shln(64),s=n.sub(t);return r?ye.divRoundUp(i,s):i.div(s)}var Bt=class{static minSettlePurchaseAmount(e){return Ee(e.sale_total).mul(e.initialize_price).mul(e.least_raise_rate).toNumber()}static get_sale_liquidity_amount(e,t,n,r,i,s){const o=Oo.getMinIndex(e),c=Oo.getMaxIndex(e),u=this.priceRealToFix(r,i,s),d=new v(t*u*n),p=new v(Ke.priceToSqrtPriceX64(Ee(u),0,0).toString()),_=tp(d,Ke.tickIndexToSqrtPriceX64(o),p,!1);return hp(p,Ke.tickIndexToSqrtPriceX64(c),_,!0).toString()}static raiseTotalAmount(e,t,n){const r=Ee(t-n).abs().toNumber();return t>n?Number(Ee(e.sale_total).mul(e.initialize_price).div(Ee(10).pow(Ee(r))).toString()):Number(Ee(e.sale_total).mul(e.initialize_price).mul(Ee(10).pow(Ee(r))).toString())}static priceRealToFix(e,t,n){const r=Ee(t-n).toNumber();return Number(Ee(e).div(Ee(10).pow(Ee(r))).toString())}static priceFixToReal(e,t,n){const r=Ee(t-n).toNumber();return Number(Ee(e).mul(Ee(10).pow(Ee(r))).toString())}static buildLaunchpadPoolType(e,t,n,r){return e?Se(Se(t,Ih,qh),[n,r]):Se(Se(t,Mh,Ch),[n,r])}static isFixedPricePool(e){return e.pool_mode==="fixed_price"}static getFairLaunchSettleSqrtPrice(e,t,n){if(e.pool_status!=="Settle")throw new Error("The pool is not in settle ");const r=Ke.priceToSqrtPriceX64(Ee(e.price),t,n).toString();return console.log("sqrtPrice: ",r.toString()),r.toString()}static async updatePoolStaus(e){const t=Bt.isFixedPricePool(e),n=Number(Ee(Date.now()/1e3).toFixed(0));if(e.end_activity_time=Number(e.start_activity_time)+Number(e.activity_duration),t)if(e.end_settle_time=Number(e.end_activity_time)+Number(e.settle_duration),e.is_settle)e.pool_status="Ended";else if(n<Number(e.start_activity_time))e.pool_status="Upcoming";else if(n>=e.start_activity_time&&n<e.end_activity_time)e.pool_status="Live";else if(n>=e.end_activity_time&&n<e.end_settle_time){const r=e.raise_coin_amount,i=Ee(e.raise_total).mul(Ee(e.least_raise_rate)).toNumber();r<i?e.pool_status="Failed":e.pool_status="Settle"}else e.pool_status="Failed";else if(e.end_calm_down_time=Number(e.end_activity_time)+Number(e.calmdown_duration),e.end_settle_time=Number(e.end_calm_down_time)+Number(e.settle_duration),e.is_settle)e.pool_status="Ended";else if(n<Number(e.start_activity_time))e.pool_status="Upcoming";else if(n>=e.start_activity_time&&n<e.end_activity_time)e.pool_status="Live";else if(n>=e.end_activity_time&&n<e.end_calm_down_time)e.pool_status="Calmdown";else if(n>=e.end_calm_down_time&&n<e.end_settle_time){const r=e.raise_coin_amount,i=Ee(e.raise_total).mul(Ee(e.least_raise_rate)).toNumber();r<i?e.pool_status="Failed":e.pool_status="Settle"}else e.pool_status="Failed";return!0}static buildLaunchpadFixedPoolState(e,t){return e==="fixed_price"?{sale_coin_amount:t.sale_coin.value,raise_coin_amount:t.raise_coin.value,activity_duration:t.activity_duration,clmm_pool_address:t.clmm_pool_address,cs_burn_cap:t.cs_burn_cap.dummy_field,cs_mint_cap:t.cs_mint_cap.dummy_field,fee_amount:t.fee_amount,fee_rate:t.fee_rate,initialize_price:Number(t.initialize_price)/jt,initialize_sqrt_price:BigInt(t.initialize_sqrt_price),is_settle:t.is_settle,least_raise_rate:Number(t.least_raise_rate)/100,liquidity_rate:Number(t.liquidity_rate)/100,locked_duration:t.locked_duration,sale_total:t.sale_total,raise_total:0,settle_duration:t.settle_duration,start_activity_time:t.start_time,unused_raise:t.unused_raise,unused_sale:t.unused_sale,has_whiteList:t.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_settle_time:0}:{price:0,sale_coin_amount:0,raise_coin_amount:t.raise_coin.value,sale_total:t.sale_coin.value,raise_total:0,calmdown_duration:t.calmdown_duration,initialize_price:Number(t.price)/jt,activity_duration:t.activity_duration,clmm_pool_address:t.clmm_pool_address,cs_burn_cap:t.cs_burn_cap.dummy_field,cs_mint_cap:t.cs_mint_cap.dummy_field,fee_amount:t.fee_amount,fee_rate:t.fee_rate,is_settle:t.is_settle,least_raise_rate:Number(t.least_raise_amount)/100,liquidity_rate:Number(t.liquidity_rate)/100,locked_duration:t.locked_duration,settle_duration:t.settle_duration,start_activity_time:t.start_time,has_whiteList:t.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_calm_down_time:0,end_settle_time:0}}static buildCreatCrowdsalePoolPayload(e,t,n,r,i,s=!1){if(s){const d=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],p=e.is_admin?[R.bcsSerializeU128(n*jt),R.bcsSerializeU128(BigInt(t)),R.bcsSerializeUint64(e.tick_spacing),R.bcsSerializeUint64(e.sale_total),R.bcsSerializeUint64(e.start_time),R.bcsSerializeUint64(e.least_raise_rate*100),R.bcsSerializeUint64(e.activity_duration),R.bcsSerializeUint64(e.settle_duration),R.bcsSerializeUint64(e.locked_duration),R.bcsSerializeU8(0)]:[R.bcsSerializeU128(n*jt),R.bcsSerializeU128(BigInt(t)),R.bcsSerializeUint64(e.tick_spacing),R.bcsSerializeUint64(e.sale_total),R.bcsSerializeUint64(e.start_time),R.bcsSerializeUint64(e.least_raise_rate*100),R.bcsSerializeUint64(e.liquidity_rate*100),R.bcsSerializeUint64(e.activity_duration),R.bcsSerializeUint64(e.settle_duration),R.bcsSerializeUint64(e.locked_duration),R.bcsSerializeU8(0)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,d,p))}const o=Se(r,i),c=[e.coin_type_sale,e.coin_type_raise],u=e.is_admin?[n*jt,t,e.tick_spacing,e.sale_total,e.start_time,e.least_raise_rate*100,e.activity_duration,e.settle_duration,e.locked_duration,0]:[n*jt,t,e.tick_spacing,e.sale_total,e.start_time,e.least_raise_rate*100,e.liquidity_rate*100,e.activity_duration,e.settle_duration,e.locked_duration,0];return{type:"entry_function_payload",function:o,type_arguments:c,arguments:u}}static buildCreatFairlaunchPoolPayload(e,t,n,r,i,s=!1){if(s){const d=[new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_sale)),new m.TypeTagStruct(m.StructTag.fromString(e.coin_type_raise))],p=[R.bcsSerializeU128(n*jt),R.bcsSerializeU128(BigInt(t)),R.bcsSerializeUint64(e.tick_spacing),R.bcsSerializeUint64(e.sale_total),R.bcsSerializeUint64(e.start_time),R.bcsSerializeUint64(e.least_raise_rate*100),R.bcsSerializeUint64(e.liquidity_rate*100),R.bcsSerializeUint64(e.activity_duration),R.bcsSerializeUint64(e.calmdown_duraction),R.bcsSerializeUint64(e.settle_duration),R.bcsSerializeUint64(e.locked_duration)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,d,p))}const o=Se(r,i),c=[e.coin_type_sale,e.coin_type_raise],u=[n*jt,t,e.tick_spacing,e.sale_total,e.start_time,e.liquidity_rate*100,R.bcsSerializeUint64(e.least_raise_rate*100),e.activity_duration,e.calmdown_duraction,e.settle_duration,e.locked_duration];return{type:"entry_function_payload",function:o,type_arguments:c,arguments:u}}};function np(e){let t;switch(e){case 5:t=5;break;case 10:t=10;break;case 20:t=20;break;case 25:t=25;break;case 50:t=50;break;case 100:t=100;break;default:t=1}const n=100/t+1,r=new Array(n);for(let i=0;i<n;i+=1)r[i]=i*t;return r}function qr(e,t){const n=np(t),r=new Array(n.length);for(let i=0;i<n.length;i+=1)r[i]=e.muln(n[i]).divn(100);return r}function rp(e,t,n,r){for(let i=t;i<e;i+=1)n.amountInArray[i]=n.amountInArray[i].add(r.amountIn),n.amountOutArray[i]=n.amountOutArray[i].add(r.amountOut),n.feeAmountArray[i]=n.feeAmountArray[i].add(r.feeAmount);return n}function ip(e,t,n,r,i){let s=new v(r.liquidity),{currentSqrtPrice:o}=r,c={amountInArray:[],amountOutArray:[],feeAmountArray:[],nextSqrtPriceArray:[],isExceed:[]};n.forEach(()=>{c.amountInArray.push(j),c.amountOutArray.push(j),c.feeAmountArray.push(j),c.nextSqrtPriceArray.push(j)});let u,d;const p=Fr.getDefaultSqrtPriceLimit(e),_=n.length;let y=n[1],x=1,O;e?O=i.sort((E,$)=>$.index-E.index):O=i.sort((E,$)=>E.index-$.index);for(const E of O){if(e){if(r.currentTickIndex<E.index)continue}else if(r.currentTickIndex>E.index)continue;if(E===null)continue;e&&p.gt(E.sqrtPrice)||!e&&p.lt(E.sqrtPrice)?u=p:u=E.sqrtPrice;let $={amountIn:j,amountOut:j,nextSqrtPrice:j,feeAmount:j};const K=o,G=s;let z=y,I=x;for(let U=x;U<_;U+=1){const D=Ec(o,u,s,y,new v(r.feeRate),t);if($=D,D.amountIn.eq(j)||(y=t?y.sub(D.amountIn.add(D.feeAmount)):y.sub(D.amountOut)),y.eq(j))c.amountInArray[U]=c.amountInArray[U].add(D.amountIn),c.amountOutArray[U]=c.amountOutArray[U].add(D.amountOut),c.feeAmountArray[U]=c.feeAmountArray[U].add(D.feeAmount),D.nextSqrtPrice.eq(E.sqrtPrice)?(d=e?E.liquidityNet.mul(new v(-1)):E.liquidityNet,s=d.gt(j)?s.add(d):s.sub(d.abs()),o=E.sqrtPrice):o=D.nextSqrtPrice,c.amountInArray[U]=c.amountInArray[U].add(c.feeAmountArray[U]),c.nextSqrtPriceArray[U]=o,s=G,o=K,U!==_-1&&(y=z.add(n[U+1].sub(n[I]))),x+=1;else{c=rp(_,U,c,D),z=y,I=x;break}}if(x===_)break;$.nextSqrtPrice.eq(E.sqrtPrice)?(d=e?E.liquidityNet.mul(new v(-1)):E.liquidityNet,s=d.gt(j)?s.add(d):s.sub(d.abs()),o=E.sqrtPrice):o=$.nextSqrtPrice}return t?n.forEach((E,$)=>{c.isExceed.push(c.amountInArray[$].lt(E))}):n.forEach((E,$)=>{c.isExceed.push(c.amountOutArray[$].lt(E))}),c}var sp=class{constructor(e,t,n,r,i,s){this.minSplitUnit=t,this.a2b=r,this.byAmountIn=i,this.clmmpool=n,this.ticks=s,this.amountArray=[],this.createSplitSwapParams=this.createSplitSwapParams.bind(this),this.createSplitSwapParams(e,t),this.splitSwapResult={amountInArray:[],amountOutArray:[],feeAmountArray:[],nextSqrtPriceArray:[],isExceed:[]},this.computeSwap=this.computeSwap.bind(this)}createSplitSwapParams(e,t){const n=qr(e,t);this.amountArray=n}computeSwap(){const e=_c(this.clmmpool);return this.splitSwapResult=ip(this.a2b,this.byAmountIn,this.amountArray,e,this.ticks),this.splitSwapResult}},Oo=class{static getMinIndex(e){return ko+Math.abs(ko)%e}static getMaxIndex(e){return Ro-Ro%e}};function op(e,t,n,r,i,s){const o=e.rewarder_infos,c=[];for(let u=0;u<o.length;u+=1){let d=s[u];t!==null&&(e.current_tick_index<r?d=s[u].sub(new v(t.rewardersGrowthOutside[u])):d=t.rewardersGrowthOutside[u]);let p=new v(0);n!==null&&(e.current_tick_index>=i?p=s[u].sub(new v(n.rewardersGrowthOutside[u])):p=n.rewardersGrowthOutside[u]);const _=ye.subUnderflowU128(ye.subUnderflowU128(new v(s[u]),new v(d)),new v(p));c.push(_)}return c}function ap(e){if(e){const t={};return e.maxGasAmount&&(t.maxGasAmount=BigInt(e.maxGasAmount)),e.gasUnitPrice&&(t.gasUnitPrice=BigInt(e.gasUnitPrice)),e.expireTimestamp&&(t.expireTimestamp=BigInt(e.expireTimestamp)),t}}function cp(e,t){return new Ir(r=>{const i=new Uint8Array(64);return new m.Ed25519Signature(i)},e.toUint8Array()).sign(t)}function up(e){if(e){const t={};return e.maxGasAmount&&(t.max_gas_amount=e.maxGasAmount.toString()),e.gasUnitPrice&&(t.gas_unit_price=e.gasUnitPrice.toString()),e.expireTimestamp&&(t.expiration_timestamp_secs=e.expireTimestamp.toString()),t}}async function lp(e,t,n,r,i=!0){if(n instanceof m.TransactionPayload){const p=await e.generateRawTransaction(t.address,n,ap(r)),_=cp(t.pubkey,p),y=await e.submitBCSSimulation(_);return i&&console.log(y[0]),y[0]}const s=n,o=await e.generateTransaction(t.address,s,up(r)),c={type:"ed25519_signature",public_key:t.pubkey.hex(),signature:Te.fromUint8Array(new Uint8Array(64)).hex()},u={sender:t.address.hex(),sequence_number:o.sequence_number.toString(),max_gas_amount:o.max_gas_amount.toString(),gas_unit_price:o.gas_unit_price.toString(),expiration_timestamp_secs:o.expiration_timestamp_secs.toString(),payload:s,signature:c},d=await e.client.transactions.simulateTransaction(u);return i&&console.log(d[0]),d[0]}async function br(e,t,n,r){return lp(e,t,n,r,!1)}function Io(e,t){const n=new R.Serializer;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(i=>{n.serializeU32AsUleb128(i.length),i.forEach(s=>{r.call(n,s)})}),n.getBytes()}function dp(e){const t=new R.Serializer;return t.serializeU32AsUleb128(e.length),e.forEach(n=>{t.serializeU32AsUleb128(n.length),n.forEach(r=>{r.serialize(t)})}),t.getBytes()}function fp(e){const t=new R.Serializer;return t.serializeU32AsUleb128(e.length),e.forEach(n=>{n.serialize(t)}),t.getBytes()}function hp(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e),s=n.mul(i).shln(64),o=e.mul(t),c=s.div(o),u=s.mod(o);return r&&!u.eq(j)?c.add(new v(1)):c}function Tc(e,t,n,r){if(n.eq(j))return e;const i=ye.checkMulShiftLeft(e,t,64,256),s=t.shln(64),o=ye.checkMul(e,n,256);if(!r&&s.lte(o))throw new ut("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const c=r?ye.checkDivRoundUpIf(i,s.add(o),!0):ye.checkDivRoundUpIf(i,s.sub(o),!0);if(c.lt(new v(vi)))throw new ut("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(c.gt(new v(xi)))throw new ut("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return c}function Ac(e,t,n,r){const i=ye.checkDivRoundUpIf(n.shln(64),t,!r),s=r?e.add(i):e.sub(i);if(s.lt(new v(vi))||s.gt(new v(xi)))throw new ut("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return s}function pp(e,t,n,r){return r?Tc(e,t,n,!0):Ac(e,t,n,!0)}function gp(e,t,n,r){return r?Ac(e,t,n,!1):Tc(e,t,n,!1)}function qo(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e);if(n.lte(j)||i.eq(j))return j;let s;if(r){const o=new v(n).mul(new v(i)).shln(64),c=t.mul(e),u=o.div(c);s=o.mod(c).eq(j)?u:u.add(tn)}else{const o=new v(n).mul(new v(i));s=o.and(Lr).gt(j)?o.shrn(64).add(tn):o.shrn(64)}return s}function Mo(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e);if(n.lte(j)||i.eq(j))return j;let s;if(r)s=n.mul(i).shrn(64);else{const o=n.mul(i).shln(64),c=t.mul(e);s=o.div(c)}return s}function Ec(e,t,n,r,i,s){if(n===j)return{amountIn:j,amountOut:j,nextSqrtPrice:t,feeAmount:j};const o=e.gte(t);let c,u,d,p;if(s){const _=ye.checkMulDivFloor(r,ye.checkUnsignedSub(mn,i),mn,64),y=qo(e,t,n,o);y.gt(_)?(c=_,p=ye.checkUnsignedSub(r,_),d=pp(e,n,_,o)):(c=y,p=ye.checkMulDivCeil(c,i,mn.sub(i),64),d=t),u=Mo(e,d,n,o)}else{const _=Mo(e,t,n,o);_.gt(r)?(u=r,d=gp(e,n,r,o)):(u=_,d=t),c=qo(e,d,n,o),p=ye.checkMulDivCeil(c,i,mn.sub(i),64)}return{amountIn:c,amountOut:u,nextSqrtPrice:d,feeAmount:p}}function yp(e,t,n,r,i){let s=n,o=r.liquidity,{currentSqrtPrice:c}=r;const u={amountIn:j,amountOut:j,feeAmount:j,refAmount:j,nextSqrtPrice:j,crossTickNum:0};let d,p;const _=Fr.getDefaultSqrtPriceLimit(e);for(const y of i){if(e){if(r.currentTickIndex<y.index)continue}else if(r.currentTickIndex>y.index)continue;if(y===null)continue;e&&_.gt(y.sqrtPrice)||!e&&_.lt(y.sqrtPrice)?d=_:d=y.sqrtPrice;const x=Ec(c,d,o,s,new v(r.feeRate),t);if(x.amountIn.eq(j)||(s=t?s.sub(x.amountIn.add(x.feeAmount)):s.sub(x.amountOut)),u.amountIn=u.amountIn.add(x.amountIn),u.amountOut=u.amountOut.add(x.amountOut),u.feeAmount=u.feeAmount.add(x.feeAmount),x.nextSqrtPrice.eq(y.sqrtPrice)?(p=e?y.liquidityNet.mul(new v(-1)):y.liquidityNet,o=p.gt(j)?o.add(p):o.sub(p.abs()),c=y.sqrtPrice):c=x.nextSqrtPrice,u.crossTickNum+=1,s.eq(j))break}return u.amountIn=u.amountIn.add(u.feeAmount),u.nextSqrtPrice=c,u}function Sr(e,t,n){const r=v.min(e,t),i=v.max(e,t),s=ye.fromX64_BN(n.mul(i).mul(r)),o=i.sub(r);return s.div(o)}function Tr(e,t,n){const r=v.min(e,t),s=v.max(e,t).sub(r);return n.shln(64).div(s)}var Zi=class{constructor(){}static getFeeRate(e){return Hr.fromFraction(e,1e6)}static updateFeeRate(e,t,n,r,i){const s=ye.checkMulDivCeil(t,new v(r),mn,64),o=n===0?j:ye.checkMulDivFloor(t,new v(n),mn,64),c=t.mul(s).mul(o);if(i?e.feeProtocolCoinA=e.feeProtocolCoinA.add(s):e.feeProtocolCoinB=e.feeProtocolCoinB.add(s),c.eq(j)||e.liquidity.eq(j))return{refFee:o,clmm:e};const u=c.shln(64).div(e.liquidity);return i?e.feeGrowthGlobalA=e.feeGrowthGlobalA.add(u):e.feeGrowthGlobalB=e.feeGrowthGlobalB.add(u),{refFee:o,clmm:e}}static getProtocolFeeRate(e){return Hr.fromFraction(e,1e4)}static getCoinAmountFromLiquidity(e,t,n,r,i){const s=new yt(e.toString()),o=new yt(t.toString()),c=new yt(n.toString()),u=new yt(r.toString());let d,p;return t.lt(n)?(d=ye.toX64_Decimal(s).mul(u.sub(c)).div(c.mul(u)),p=new yt(0)):t.lt(r)?(d=ye.toX64_Decimal(s).mul(u.sub(o)).div(o.mul(u)),p=ye.fromX64_Decimal(s.mul(o.sub(c)))):(d=new yt(0),p=ye.fromX64_Decimal(s.mul(u.sub(c)))),i?{coinA:new v(d.ceil().toString()),coinB:new v(p.ceil().toString())}:{coinA:new v(d.floor().toString()),coinB:new v(p.floor().toString())}}static estimateLiquidityFromcoinAmounts(e,t,n,r){if(t>n)throw new Error("lower tick cannot be greater than lower tick");const i=Ke.sqrtPriceX64ToTickIndex(e),s=Ke.tickIndexToSqrtPriceX64(t),o=Ke.tickIndexToSqrtPriceX64(n);if(i<t)return Sr(s,o,r.coinA);if(i>=n)return Tr(o,s,r.coinB);const c=Sr(e,o,r.coinA),u=Tr(e,s,r.coinB);return v.min(c,u)}static estLiquidityAndcoinAmountFromOneAmounts(e,t,n,r,i,s,o){const c=Ke.sqrtPriceX64ToTickIndex(o),u=Ke.tickIndexToSqrtPriceX64(e),d=Ke.tickIndexToSqrtPriceX64(t);let p;if(c<e){if(!r)throw new Error("lower tick cannot calculate liquidity by coinB");p=Sr(u,d,n)}else if(c>t){if(r)throw new Error("upper tick cannot calculate liquidity by coinA");p=Tr(d,u,n)}else r?p=Sr(o,d,n):p=Tr(o,u,n);const _=Zi.getCoinAmountFromLiquidity(p,o,u,d,i),y=_.coinA.mul(new v(1+s)),x=_.coinB.mul(new v(1+s));return{tokenMaxA:y,tokenMaxB:x,liquidityAmount:p}}static estCoinAmountsFromTotalAmount(e,t,n,r,i,s){const{ratioA:o,ratioB:c}=Zi.calculateDepositRatioFixTokenA(e,t,n);console.log({ratioA:o,ratioB:c});const u=Ee(r).mul(o).div(i),d=Ee(r).mul(c).div(s);return{amountA:u,amountB:d}}static calculateDepositRatioFixTokenA(e,t,n){const r=new v(1),{tokenMaxB:i}=Zi.estLiquidityAndcoinAmountFromOneAmounts(e,t,r,!0,!0,0,n),s=Ke.sqrtPriceX64ToPrice(n,0,0),o=Ee(r.toString()).mul(s),c=o.add(i.toString()),u=o.div(c),d=Ee(i.toString()).div(c);return{ratioA:u,ratioB:d}}},_p=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async fetchAccountResource(e,t,n=0){let r=this._cache[e+t];if(r!=null&&r.getCacheData())return r.value;const i=await this.sdk.Resources.fetchAccountResource(e,t);return r=new wi(i,n),this._cache[e+t]=r,i}calculateRates(e){const{currentPool:t}=e,n=_c(t);let r;e.a2b?r=e.swapTicks.sort((_,y)=>y.index-_.index):r=e.swapTicks.sort((_,y)=>_.index-y.index);const i=yp(e.a2b,e.byAmountIn,e.amount,n,r);let s=!1;e.byAmountIn?s=i.amountIn.lt(e.amount):s=i.amountOut.lt(e.amount);const o=Fr.getDefaultSqrtPriceLimit(e.a2b);e.a2b&&i.nextSqrtPrice.lt(o)&&(s=!0),!e.a2b&&i.nextSqrtPrice.gt(o)&&(s=!0);let c=0;i.crossTickNum>6&&i.crossTickNum<40&&(c=22e3*(i.crossTickNum-6)),i.crossTickNum>40&&(s=!0);const u=Ke.sqrtPriceX64ToPrice(n.currentSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),d=Ke.sqrtPriceX64ToPrice(i.nextSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),p=Math.abs(u-d)/u*100;return{estimatedAmountIn:i.amountIn,estimatedAmountOut:i.amountOut,estimatedEndSqrtPrice:i.nextSqrtPrice,estimatedFeeAmount:i.feeAmount,isExceed:s,extraComputeLimit:c,amount:e.amount,aToB:e.a2b,byAmountIn:e.byAmountIn,priceImpactPct:p}}transformSwapData(e){const{modules:t}=this._sdk.sdkOptions.networkOptions,n=e.filter(s=>s.type!=="write_resource"?!1:s.data.type===`${t.ClmmIntegrate}::calculator::CalculatedSwapResult`);return n.length===0?[]:n[0].data.data.data||[]}async preswap(e){const{modules:t,simulationAccount:n}=this.sdk.sdkOptions.networkOptions,r=new je(this.sdk.sdkOptions.rpcUrl),i=`${t.ClmmIntegrate}::scripts`,s="calculate_swap_result",o=[new m.TypeTagStruct(m.StructTag.fromString(e.pool.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.pool.coinTypeB))],c=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool.poolAddress)),R.bcsSerializeBool(e.a2b),R.bcsSerializeBool(e.by_amount_in),R.bcsSerializeUint64(BigInt(e.amount))],u=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s,o,c)),d=On(n.address),p=await r.generateRawTransaction(d,u),_=On(n.pubkey),y=new m.Ed25519PublicKey(_.toUint8Array()),x=await r.simulateTransaction(y,p),O=this.transformSwapData(x[0].changes),E=Ke.sqrtPriceX64ToPrice(new v(e.pool.current_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),$=Ke.sqrtPriceX64ToPrice(new v(O.after_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),K=Math.abs(E-$)/E*100;return{estimatedAmountIn:O.amount_in&&O.fee_amount?new v(O.amount_in).add(new v(O.fee_amount)).toString():"",estimatedAmountOut:O.amount_out,estimatedEndSqrtPrice:O.after_sqrt_price,estimatedFeeAmount:O.fee_amount,isExceed:O.is_exceed,amount:e.amount,aToB:e.a2b,byAmountIn:e.by_amount_in,priceImpactPct:K}}createSwapTransactionPayload(e,t=!1){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=`${n.LiquidswapDeployer}::${Qt}`,i="swap",s=Fr.getDefaultSqrtPriceLimit(e.a_to_b);if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_addr)),R.bcsSerializeBool(e.a_to_b),R.bcsSerializeBool(e.by_amount_in),R.bcsSerializeUint64(BigInt(e.amount)),R.bcsSerializeUint64(BigInt(e.amount_limit)),R.bcsSerializeU128(BigInt(s.toString())),R.bcsSerializeStr(e.partner)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const o=[e.pool_addr,e.a_to_b,e.by_amount_in,e.amount,e.amount_limit,s.toString(),e.partner],c=[e.coinTypeA,e.coinTypeB];return{type:"entry_function_payload",function:Se(r,i),type_arguments:c,arguments:o}}},mp=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}createAddLiquidityTransactionPayload(e,t=!1){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=!("delta_liquidity"in e),i=`${n.LiquidswapDeployer}::${Qt}`,s=r?"add_liquidity_fix_token":"add_liquidity";if(t){const p=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB))],_=r?[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeUint64(Number(e.amount_a)),R.bcsSerializeUint64(Number(e.amount_b)),R.bcsSerializeBool(e.fix_amount_a),R.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),R.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper))),R.bcsSerializeBool(e.is_open),R.bcsSerializeUint64(e.index)]:[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeU128(e.delta_liquidity.toNumber()),R.bcsSerializeUint64(Number(e.max_amount_a)),R.bcsSerializeUint64(Number(e.max_amount_b)),R.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),R.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper))),R.bcsSerializeBool(e.is_open),R.bcsSerializeUint64(e.index)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s,p,_))}const o=BigInt.asUintN(64,BigInt(e.tick_lower)).toString(),c=BigInt.asUintN(64,BigInt(e.tick_upper)).toString(),u=r?[e.pool,e.amount_a,e.amount_b,e.fix_amount_a,o,c,e.is_open,e.index]:[e.pool,e.delta_liquidity.toString(),String(e.max_amount_a),String(e.max_amount_b),o,c,e.is_open,e.index],d=[e.coinTypeA,e.coinTypeB];return{type:"entry_function_payload",function:Se(i,s),type_arguments:d,arguments:u}}removeLiquidityTransactionPayload(e,t=!1){Eh(e.delta_liquidity.gtn(0));const{modules:n}=this.sdk.sdkOptions.networkOptions,r=`${n.LiquidswapDeployer}::${Qt}`,i=`${n.ClmmIntegrate}::${Sc}`,s=["remove_liquidity","remove_all_liquidity","remove_all_liquidity_for_two","remove_all_liquidity_for_three"];let o,c,u=[];if(e.rewards_num===0){if(t){const d=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB))],p=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeU128(e.delta_liquidity.toNumber()),R.bcsSerializeUint64(e.min_amount_a),R.bcsSerializeUint64(e.min_amount_b),R.bcsSerializeUint64(e.pos_index),R.bcsSerializeBool(e.is_close)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,s[0],d,p))}o=Se(r,s[0]),c=[e.coinTypeA,e.coinTypeB],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else if(e.rewards_num===1){if(t){const d=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeC))],p=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeU128(e.delta_liquidity.toNumber()),R.bcsSerializeUint64(e.min_amount_a),R.bcsSerializeUint64(e.min_amount_b),R.bcsSerializeUint64(e.pos_index),R.bcsSerializeBool(e.is_close)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s[1],d,p))}o=Se(i,s[1]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else if(e.rewards_num===2){if(t){const d=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeC)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeD))],p=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeU128(e.delta_liquidity.toNumber()),R.bcsSerializeUint64(e.min_amount_a),R.bcsSerializeUint64(e.min_amount_b),R.bcsSerializeUint64(e.pos_index),R.bcsSerializeBool(e.is_close)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s[2],d,p))}o=Se(i,s[2]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else{if(t){const d=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeC)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeD)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeE))],p=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeU128(e.delta_liquidity.toNumber()),R.bcsSerializeUint64(e.min_amount_a),R.bcsSerializeUint64(e.min_amount_b),R.bcsSerializeUint64(e.pos_index),R.bcsSerializeBool(e.is_close)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s[3],d,p))}o=Se(i,s[3]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD,e.coinTypeE],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}return{type:"entry_function_payload",function:o,type_arguments:c,arguments:u}}closePositionTransactionPayload(e,t=!1){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=`${n.LiquidswapDeployer}::${Qt}`,i="close_position";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_address)),R.bcsSerializeUint64(e.pos_index)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coinTypeA,e.coinTypeB],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}collectFeeTransactionPayload(e,t=!1){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=`${n.LiquidswapDeployer}::${Qt}`,i="collect_fee";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeUint64(e.pos_index)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coinTypeA,e.coinTypeB],c=[e.pool,e.pos_index];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}};function wp(e){let t="";const r=new _i(e).parseTypeTag().value.type_args;if(r.length>0){const i=r[0];i.value.name.value===Bh||i.value.name.value===bc?t=zh(i).lpAddress:t=Se(Te.fromUint8Array(i.value.address.address).toShortString(),i.value.module_name.value,i.value.name.value,[])}return t}var xp=5*60*1e3,qt=24*60*60*1e3;function Co(e){return Date.parse(new Date().toString())+e}var vp=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getPoolImmutablesResource(e=!1){const t=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,n=`${t}_getMmutablesPools`,r=this.getCacheData(n);let i;if(!e&&r!=null)i=r;else{const o=Se(t,xc,vc),c=await this.fetchAccountResource(t,o);i=JSON.parse(JSON.stringify(c==null?void 0:c.data.data)),this.updateCache(n,i,qt)}return i.data}buildPoolImmutables(e,t,n){const r=n.key,i=Se(r.coin_type_a.account_address,Nt(r.coin_type_a.module_name),Nt(r.coin_type_a.struct_name)),s=Se(r.coin_type_b.account_address,Nt(r.coin_type_b.module_name),Nt(r.coin_type_b.struct_name)),o=Se(Se(t,Ph,Oh),[i,s]);return{coinTypeA:i,coinTypeB:s,poolType:o,poolAddress:e,tickSpacing:r.tick_spacing}}async getPoolImmutables(e=[],t=0,n=100,r=!0){const i=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,s=[],o=await this.getPoolImmutablesResource(r),c=e.length>0;for(let u=0;u<o.length;u+=1){const d=o[u],p=d.value;if(!(c&&!e.includes(p))){if(!c){const _=Number(u);if(_<t||_>=t+n)continue}s.push(this.buildPoolImmutables(p,i,d))}}return s}async getPools(e=[],t=0,n=100){const r=[],i=(await this.sdk.getGlobalConfig()).is_pause,s=await this.getPoolImmutables(e,t,n,!1);for(let o=0;o<s.length;o+=1){const c=s[o],u=await this.getPoolState(c.poolAddress,c.poolType,i),d={...c,...u};r.push(d);const p=`${c.poolAddress}_pool`;this.updateCache(p,d,qt)}return r}async getPool(e,t=!0){const n=`${e}_pool`,r=this.getCacheData(n);let i;if(r!==null&&!t&&(i=r),i==null)return(await this.getPools([e]))[0];const s=(await this.sdk.getGlobalConfig(!0)).is_pause,o=await this.getPoolState(e,i.poolType,s),c={...i,...o};return this.updateCache(n,c,qt),c}async getPoolState(e,t,n,r=!0){const i=`${e}_${t}getPool`;if(!r){const p=this.getCacheData(i);if(p!==null)return p}const s=await this.fetchAccountResource(e,t),o=JSON.parse(JSON.stringify(s==null?void 0:s.data)),c=o.rewarder_infos,u=[];c.forEach(p=>{const _=Se(p.coin_type.account_address,Nt(p.coin_type.module_name),Nt(p.coin_type.struct_name)),y=ye.fromX64(new v(p.emissions_per_second)),x=Math.floor(y.toNumber()*60*60*24);u.push({...p,coinAddress:_,emissionsEveryDay:x})});const d={coinAmountA:o.coin_a.value,coinAmountB:o.coin_b.value,current_sqrt_price:o.current_sqrt_price,current_tick_index:Number(BigInt.asIntN(64,BigInt(o.current_tick_index.bits)).toString()),fee_growth_global_a:o.fee_growth_global_a,fee_growth_global_b:o.fee_growth_global_b,fee_protocol_coin_a:o.fee_protocol_coin_a,fee_protocol_coin_b:o.fee_protocol_coin_b,fee_rate:o.fee_rate,liquidity:o.liquidity,index:o.index,positionIndex:o.position_index,tick_indexes_handle:o.tick_indexes.handle,ticks_handle:o.ticks.handle,positions_handle:o.positions.handle,collectionName:o.collection_name,uri:o.uri,is_pause:n||o.is_pause,rewarder_infos:u,rewarder_last_updated_time:o.rewarder_last_updated_time};return this.updateCache(i,d,qt),d}async getTickDataByIndex(e,t){const n=await this._sdk.client.getTableItem(e,{key_type:`${this.sdk.sdkOptions.networkOptions.modules.IntegerMate}::i64::I64`,value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Tick`,key:Rh(t)}),r=JSON.parse(JSON.stringify(n));return{index:r.index,sqrtPrice:r.sqrt_price,liquidityGross:r.liquidity_gross,liquidityNet:r.liquidity_net,feeGrowthOutsideA:r.fee_growth_outside_a,feeGrowthOutsideB:r.fee_growth_outside_b,rewardersGrowthOutside:r.rewarders_growth_outside}}async getPoolLowerAndUpperTicks(e,t){const n=[],r=[],i=t.ticks_handle,s=await this.sdk.Resources.getPositionList(e,[t]);for(const o of s){const c=await this.sdk.Resources.getTickDataByIndex(i,o.tick_lower_index),u=await this.sdk.Resources.getTickDataByIndex(i,o.tick_upper_index);n.push(c),r.push(u)}return[n,r]}async getPositionInfoByIndex(e,t){const n=await this._sdk.client.getTableItem(e,{key_type:"u64",value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Position`,key:t.toString()}),r=JSON.parse(JSON.stringify(n));return{name:"",pool:r.pool,liquidity:r.liquidity,tick_lower_index:BigInt.asIntN(64,BigInt(r.tick_lower_index.bits)).toString(),tick_upper_index:BigInt.asIntN(64,BigInt(r.tick_upper_index.bits)).toString(),fee_growth_inside_a:r.fee_growth_inside_a,fee_growth_inside_b:r.fee_growth_inside_b,fee_owed_a:r.fee_owed_a,fee_owed_b:r.fee_owed_b,reward_amount_owed_0:r.rewarder_infos[0].amount_owed,reward_amount_owed_1:r.rewarder_infos[1].amount_owed,reward_amount_owed_2:r.rewarder_infos[2].amount_owed,reward_growth_inside_0:r.rewarder_infos[0].growth_inside,reward_growth_inside_1:r.rewarder_infos[1].growth_inside,reward_growth_inside_2:r.rewarder_infos[2].growth_inside,index:t}}createPositionName(e,t){return`Cetus LP | Pool${e}-${t}`}async getPositionInfo(e,t,n=!0){if(Jh(t)){const r=await this.getPositionInfoByIndex(e.positions_handle,Number(t));return r.name=this.createPositionName(e.index,r.index),r}return this.getPositionInfoByTokenName(e.poolAddress,e.positions_handle,e.collectionName,t,n)}async getPositionIndex(e,t,n,r=!1){const i=`${e}_${t}_${n}_getPositionIndex`;if(!r){const c=this.getCacheData(i);if(c!==null)return c}const s=await this._sdk.tokenClient.getTokenData(e,t,n),o=JSON.parse(JSON.stringify(s)).default_properties.data.index.value;return this.updateCache(i,o,qt),o}async getPositionInfoByTokenName(e,t,n,r,i=!0){const s=`${e}_${n}_${r}_getPositionInfo`;if(!i){const u=this.getCacheData(s);if(u!==null)return u}const o=await this.getPositionIndex(e,n,r,!1),c=await this.getPositionInfoByIndex(t,o);return c.name=r,this.updateCache(s,c,qt),c}async getGlobalConfig(e,t=!0){const n=`${e}_getGlobalConfig`;if(!t){const o=this.getCacheData(n);if(o!==null)return o}const r=await this.fetchAccountResource(e,Se(e,"config","GlobalConfig")),i=JSON.parse(JSON.stringify(r)).data,s={protocol_fee_rate:i.protocol_fee_rate,is_pause:i.is_pause};return this.updateCache(n,s,qt),s}async getSpecifyCoinInfos(e){const t=[];for(const n of e){const r=`${n}_getCoinInfos`,i=this.getCacheData(r);if(i!==null)t.push(i);else{const s=Is(n).address,o=await this._sdk.Resources.fetchAccountResource(s,Fh(n));if(o!=null){const c={coinAddress:n,...o.data};t.push(c),this.updateCache(r,c,qt)}}}return t}async getCoinInfos(e,t=!0){const n=`${e}_getCoinInfos`;if(!t){const s=this.getCacheData(n);if(s!==null)return s}const r=await this.fetchAccountResources(e),i=[];return r==null||r.forEach(s=>{if(s.type.startsWith(mc)){const o=wp(s.type);o.length>0&&i.push({coinAddress:o,...s.data})}}),this.updateCache(n,i,qt),i}async getCoinStores(e,t=!0){const n=`${e}_getCoinStores`;if(!t){const s=this.getCacheData(n);if(s!==null)return s}const r=await this.fetchAccountResources(e),i=[];return r==null||r.forEach(s=>{if(s.type.startsWith(wc)){const o=Uo(s.type);o.length>0&&i.push({coinAddress:o,...s.data})}}),this.updateCache(n,i,qt),i}async getCoinStore(e,t){const n=await this.fetchAccountResource(e,Lh(t));if(n){const r=Uo(n.type);if(r.length>0)return{coinAddress:r,...n.data}}return null}async getPositionList(e,t){const n=[];if(t.length===0)return[];const r=await this.getFilterTokenEvent(e);for(let i=0;i<r.length;i++){const s=r[i];try{for(const o of t)if(s.creator===o.poolAddress){const c=await this.getPositionInfoByTokenName(s.creator,o.positions_handle,s.collection,s.name);c.pool.length>0&&n.push({...s,...c})}}catch(o){console.log(o)}}return n}async getCollectionList(e){return await this.getFilterTokenEvent(e)}async getFilterTokenEvent(e){const t=[],n=[];let r=[];try{r=await this._sdk.client.getEventsByEventHandle(e,Ao,"deposit_events")}catch(s){console.log(s)}r.forEach(s=>{t.push({key:`${s.data.id.token_data_id.creator}_${s.data.id.token_data_id.name}`,creator:s.data.id.token_data_id.creator,name:s.data.id.token_data_id.name,collection:s.data.id.token_data_id.collection,count:0})});let i=[];try{i=await this._sdk.client.getEventsByEventHandle(e,Ao,"withdraw_events")}catch(s){console.log(s)}return i.forEach(s=>{if(s.type===kh){for(const o of t)if(o.count===0&&o.key===`${s.data.id.token_data_id.creator}_${s.data.id.token_data_id.name}`){o.count-=1;break}}}),t.forEach(s=>{s.count===0&&n.push({...s})}),n}async fetchAccountResource(e,t){var n;try{return await this._sdk.client.getAccountResource(e,t)}catch(r){if(Bo(r)&&((n=r.response)==null?void 0:n.status)===404)return null;throw r}}async fetchAccountResources(e){var t;try{return await this._sdk.client.getAccountResources(e)}catch(n){if(Bo(n)&&((t=n.response)==null?void 0:t.status)===404)return null;throw n}}updateCache(e,t,n=xp){let r=this._cache[e];r?(r.overdueTime=Co(n),r.value=t):r=new wi(t,Co(n)),this._cache[e]=r}getCacheData(e){const t=this._cache[e];return t!==void 0&&t.getCacheData()?t.value:null}},bp=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}creatPoolTransactionPayload(e,t=!1){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=e.delta_liquidity.gt(j),i=r?`${n.LiquidswapDeployer}::${Sc}`:`${n.LiquidswapDeployer}::${Qt}`,s=r?"create_and_add_liquidity":"create_pool";if(t){const d=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB))],p=r?[R.bcsSerializeUint64(e.tick_spacing),R.bcsSerializeU128(BigInt(e.initialize_sqrt_price.toString())),R.bcsSerializeStr(e.uri),R.bcsSerializeU128(BigInt(e.delta_liquidity.toString())),R.bcsSerializeUint64(BigInt(e.max_amount_a.toString())),R.bcsSerializeUint64(BigInt(e.max_amount_b.toString())),R.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),R.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper)))]:[R.bcsSerializeUint64(e.tick_spacing),R.bcsSerializeU128(BigInt(e.initialize_sqrt_price.toString())),R.bcsSerializeStr(e.uri)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s,d,p))}const o=Se(i,s),c=[e.coinTypeA,e.coinTypeB],u=r?[e.tick_spacing.toString(),e.initialize_sqrt_price.toString(),e.uri.toString(),e.delta_liquidity.toString(),e.max_amount_a.toString(),e.max_amount_b.toString(),BigInt.asUintN(64,BigInt(e.tick_lower)).toString(),BigInt.asUintN(64,BigInt(e.tick_upper)).toString()]:[e.tick_spacing.toString(),e.initialize_sqrt_price.toString(),e.uri.toString()];return{type:"entry_function_payload",function:o,type_arguments:c,arguments:u}}},Sp=class{constructor(e){this._sdk=e,this.growthGlobal=[j,j,j]}get sdk(){return this._sdk}async listRewarderInfosFromClmmpool(e){const t=await this.sdk.Resources.getPool(e),n=[];for(const r of t.rewarder_infos)n.push(r);return n}async emissionsEveryDay(e){const t=await this.listRewarderInfosFromClmmpool(e);if(!t)return null;const n=[];for(const r of t){const i=ye.fromX64(new v(r.emissions_per_second));n.push({emissions:Math.floor(i.toNumber()*60*60*24),coin_address:r.coinAddress})}return n}async collectRewarderAmount(e,t){const n=await this.sdk.Resources.getPositionInfo(e,t);return n?{reward_amount_owed_0:n.reward_amount_owed_0,reward_amount_owed_1:n.reward_amount_owed_1,reward_amount_owed_2:n.reward_amount_owed_2}:null}async updatePoolRewarder(e,t){const n=await this.sdk.Resources.getPool(e),r=n.rewarder_last_updated_time;if(n.rewarder_last_updated_time=t,n.liquidity===0||t.eq(r))return n;const i=t.div(new v(1e3)).sub(new v(r)).add(new v(15)),s=n.rewarder_infos;for(let o=0;o<s.length;o+=1){const c=s[o],u=ye.checkMulDivFloor(i,new v(c.emissions_per_second),new v(n.liquidity),128);this.growthGlobal[o]=new v(c.growth_global).add(new v(u))}return n}async posRewardersAmount(e,t,n,r){const i=Date.parse(new Date().toString()),s=await this.updatePoolRewarder(e,new v(i)),o=await this.sdk.Resources.getPositionInfo(s,t),c=parseInt(o.tick_lower_index,10),u=parseInt(o.tick_upper_index,10),d=op(s,n,r,c,u,this.growthGlobal),p=[],_=[];if(d.length>0){const y=ye.subUnderflowU128(d[0],new v(o.reward_growth_inside_0)),x=ye.checkMulShiftRight(new v(o.liquidity),y,64,256);p.push(d[0]),_.push({amount_owed:new v(o.reward_amount_owed_0).add(x),coin_address:s.rewarder_infos[0].coinAddress})}if(d.length>1){const y=ye.subUnderflowU128(d[1],new v(o.reward_growth_inside_1)),x=ye.checkMulShiftRight(new v(o.liquidity),y,64,256);p.push(d[1]),_.push({amount_owed:new v(o.reward_amount_owed_1).add(x),coin_address:s.rewarder_infos[1].coinAddress})}if(d.length>2){const y=ye.subUnderflowU128(d[2],new v(o.reward_growth_inside_2)),x=ye.checkMulShiftRight(new v(o.liquidity),y,64,256);p.push(d[2]),_.push({amount_owed:new v(o.reward_amount_owed_2).add(x),coin_address:s.rewarder_infos[2].coinAddress})}return _}async poolRewardersAmount(e,t,n,r){const i=Date.parse(new Date().toString()),s=await this.updatePoolRewarder(t,new v(i)),o=await this.sdk.Resources.getPositionList(e,[s]),c=[j,j,j];for(let u=0;u<o.length;u+=1){const d=await this.posRewardersAmount(t,o[u],n[u],r[u]);for(let p=0;p<3;p+=1)c[p]=c[p].add(d[p].amount_owed)}return c}collectPosRewarderTransactionPayload(e,t=!1){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=`${n.LiquidswapDeployer}::${Qt}`,i="collect_rewarder";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeC))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_address)),R.bcsSerializeU8(e.index),R.bcsSerializeUint64(e.pos_index)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coinTypeA,e.coinTypeB,e.coinTypeC],c=[e.pool_address,e.index,e.pos_index];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}collectPoolRewarderTransactionPayload(e,t=!1){if(e.rewarder_nums===1){const i={pool_address:e.pool_address,index:0,pos_index:e.pos_index,coinTypeA:e.coinTypeA,coinTypeB:e.coinTypeB,coinTypeC:e.coinTypeC};return this.collectPosRewarderTransactionPayload(i,t)}const{modules:n}=this.sdk.sdkOptions.networkOptions,r=`${n.ClmmIntegrate}::${ss}`;if(e.rewarder_nums===2){const i="collect_rewarder_for_two";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeC)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeD))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_address)),R.bcsSerializeUint64(e.pos_index)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}if(e.rewarder_nums===3){const i="collect_rewarder_for_three";if(t){const u=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeC)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeD)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeE))],d=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool_address)),R.bcsSerializeUint64(e.pos_index)];return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(r,i,u,d))}const s=Se(r,i),o=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD,e.coinTypeE],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:c}}}},Tp=5*60*1e3,Ar=24*60*60*1e3;function No(e){return Date.parse(new Date().toString())+e}var Ap=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getOwnerTokenList(e,t,n=!1){const r="getAllRegisteredTokenList";if(!n){const p=this.getCacheData(r);if(p!==null)return p}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::coin_list`,o="fetch_full_list",c=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(s,o,[],[R.bcsToBytes(m.AccountAddress.fromHex(t))])),u=await br(new je(this.sdk.sdkOptions.rpcUrl),e,c),d=this.transformTokenData(u.changes);return this.updateCache(r,d,Ar),d}async getTokenListByCoinType(e,t=0,n=20){const{fraphQLUrl:r}=this._sdk.sdkOptions;if(!r)throw Error("The fraphQLUrl is not configured in the SDK");const i={query:`query MyQuery {
  coin_infos(
  limit: ${n}, offset: ${t},  order_by: {name: desc}, where: {  coin_type: {_regex: "${e}"}}
  ) {
    coin_type
    symbol
    name
    decimals
    creator_address
    coin_type_hash
  }
}
`,variables:null,operationName:"MyQuery"},s=await En.post(r,i),o=[];return s.data.data.coin_infos.forEach(c=>{o.push({address:c.coin_type,symbol:c.symbol,official_symbol:c.symbol,decimals:c.decimals,name:c.name,coingecko_id:"",project_url:"",logo_url:""})}),o}async getSpecifyTokenListByCache(e){const t="getAllRegisteredTokenList",n=this.getCacheData(t),r=[];if(n!==null){const i=n;for(const s of e)for(const o of i)if(s===o.address){r.push(o);continue}}return r}async getAllRegisteredTokenList(e,t=!1){const n="getAllRegisteredTokenList";if(!t){const p=this.getCacheData(n);if(p!==null)return p}const{modules:r}=this._sdk.sdkOptions.networkOptions,i=`${r.TokenDeployer}::coin_list`,s="fetch_all_registered_coin_info",o=new je(this.sdk.sdkOptions.rpcUrl),c=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s,[],[])),u=await br(o,e,c),d=this.transformTokenData(u.changes);return this.updateCache(n,d,Ar),d}transformTokenData(e){const t=[],{modules:n}=this._sdk.sdkOptions.networkOptions,r=e.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.TokenDeployer}::coin_list::CoinList<${n.TokenDeployer}::coin_list::CoinInfo>`);if(r.length===0)return t;const s=r[0].data.data;return"full_list"in s&&s.full_list.value_list.forEach(o=>{const c={...o},u=o.extensions.data;for(const d of u){if(d.key==="labels")try{d.value=JSON.parse(decodeURIComponent(Fs.decode(d.value)))}catch{}c[d.key]=d.value}t.push(c)}),t}async getAllRegisteredPoolList(e,t=!1){const n="getAllRegisteredPoolList";if(!t){const p=this.getCacheData(n);if(p!==null)return p}const{modules:r}=this._sdk.sdkOptions.networkOptions,i=`${r.TokenDeployer}::lp_list`,s="fetch_all_registered_coin_info",o=new je(this.sdk.sdkOptions.rpcUrl),c=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s,[],[])),u=await br(o,e,c),d=this.transformPoolData(u.changes);return this.updateCache(n,d,Ar),d}async getOwnerPoolList(e,t,n=!1){const r="getAllRegisteredPoolList";if(!n){const p=this.getCacheData(r);if(p!==null)return p}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::lp_list`,o="fetch_full_list",c=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(s,o,[],[R.bcsToBytes(m.AccountAddress.fromHex(t))])),u=await br(new je(this.sdk.sdkOptions.rpcUrl),e,c),d=this.transformPoolData(u.changes);return this.updateCache(r,d,Ar),d}transformPoolData(e){const t=[],{modules:n}=this._sdk.sdkOptions.networkOptions,r=e.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.TokenDeployer}::lp_list::PoolList<${n.TokenDeployer}::lp_list::PoolInfo>`);if(r.length===0)return t;const s=r[0].data.data;return"full_list"in s&&s.full_list.value_list.forEach(o=>{const c={...o},u=o.extensions.data;for(const d of u){if(d.key==="labels")try{d.value=JSON.parse(decodeURIComponent(Fs.decode(d.value)))}catch{}c[d.key]=d.value}t.push(c)}),t}async getOwnerWarpPoolList(e,t,n=!1){const r=await this.getOwnerTokenList(t,e,n),i=await this.getOwnerPoolList(t,e,n),s=[];for(const o of i){for(const c of r)c.address===o.coin_a_address&&(o.coinA=c),c.address===o.coin_b_address&&(o.coinB=c);s.push(o)}return s}async getWarpPoolList(e,t=!1){const n=await this.getAllRegisteredTokenList(e,t),r=await this.getAllRegisteredPoolList(e,t),i=[];for(const s of r){for(const o of n)o.address===s.coin_a_address&&(s.coinA=o),o.address===s.coin_b_address&&(s.coinB=o);i.push(s)}return i}updateCache(e,t,n=Tp){let r=this._cache[e];r?(r.overdueTime=No(n),r.value=t):r=new wi(t,No(n)),this._cache[e]=r}getCacheData(e){const t=this._cache[e];return t!==void 0&&t.getCacheData()?t.value:null}},Ep=3e4,Ye={maxAmountOut:j,isExceed:!1,path:[]};function Do(e,t){return{pair:`${e}-${t}`,reversePair:`${t}-${e}`}}function Up(e,t,n,r){const i=e.length;if(!e.length)throw new Error("routerTable is empty");if(i!==t.length)throw new Error("routerTable length not equal to feeRateArray length");let s=r?j:new v(2).pow(new v(64)),o=[];const c=100/(e[0].length-1);switch(i){case 1:{s=e[0][e[0].length-1],n[0][n[0].length-1]||o.push({feeRate:t[0],percent:100});break}case 2:{for(let u=0;u<e[0].length;u+=1){const d=e[0].length-u-1,p=e[0][u].add(e[1][d]);if(p.gt(s)&&r||p.lt(s)&&!r)if(!n[0][u]&&!n[1][d])o=[],s=p,u>0&&o.push({feeRate:t[0],percent:u*c}),d>0&&o.push({feeRate:t[1],percent:d*c});else continue}break}case 3:{for(let u=0;u<e[0].length;u+=1)for(let d=0;d<e[0].length-u;d+=1){const p=e[0].length-u-d-1,_=e[0][u].add(e[1][d]).add(e[2][p]);if(_.gt(s)&&r||_.lt(s)&&!r){if(n[0][u]||n[1][d]||n[2][p])continue;o=[],s=_,u>0&&o.push({feeRate:t[0],percent:c*u}),d>0&&o.push({feeRate:t[1],percent:d*c}),p>0&&o.push({feeRate:t[2],percent:p*c})}}break}case 4:{for(let u=0;u<e[0].length;u+=1)for(let d=0;d<e[0].length-u;d+=1)for(let p=0;p<e[0].length-u-d;p+=1){const _=e[0].length-u-d-p-1,y=e[0][u].add(e[1][d]).add(e[2][p]).add(e[3][_]);if(y.gt(s)&&r||y.lt(s)&&!r){if(n[0][u]||n[1][d]||n[2][p]||n[3][_])continue;o=[],s=y,u>0&&o.push({feeRate:t[0],percent:c*u}),d>0&&o.push({feeRate:t[1],percent:d*c}),p>0&&o.push({feeRate:t[2],percent:p*c}),_>0&&o.push({feeRate:t[3],percent:_*c})}}break}}return o.length===0||s.eq(j)?{maxAmountOut:j,path:[],isExceed:!0}:{maxAmountOut:s,path:o,isExceed:!1}}var Rp=class{constructor(e){this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new Mc,this._coinSymbolMap=new Map,this._coinAddressMap=new Map,this.poolAddressMap=new Map,this.poolMap=new Map,this.ticksMap=new Map,this._sdk=e,this.leastRefreshTime=Date.now(),this.createTxParams={partitionQuantities:[],swapDirects:[],poolAddresses:[],percents:[],totalAmounts:[],partner:"",amountLimit:"0",amountOut:"0",coinTypes:[]},this.splitUnit=50,this.poolDirectionMap=new Map,this.isInited=!1,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.splitSwap=this.splitSwap.bind(this),this.splitSwapForRouter=this.splitSwapForRouter.bind(this),this.splitSwapForRouters=this.splitSwapForRouters.bind(this),this.refreshPoolofSwapRouter=this.refreshPoolofSwapRouter.bind(this),this.getBestSplitResultInOnePair=this.getBestSplitResultInOnePair.bind(this),this.findBestSplitPriceWithOneSkip=this.findBestSplitPriceWithOneSkip.bind(this),this.findBestSplitPriceWithTwoSkip=this.findBestSplitPriceWithTwoSkip.bind(this),this.findBestSplitPriceWithThreeSkip=this.findBestSplitPriceWithThreeSkip.bind(this),this.findBestSplitPrice=this.findBestSplitPrice.bind(this),this.price=this.price.bind(this),this.routerSwap=this.routerSwap.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(e,t){const{pair:n,reversePair:r}=Do(e,t);let i=this.poolAddressMap.get(n);if(i!=null)return{addressMap:i,direction:!0};if(i=this.poolAddressMap.get(r),i!=null)return{addressMap:i,direction:!1}}async setCoinList(){this.coinProviders.coins.forEach(e=>{this._coinSymbolMap.set(e.symbol,e),this._coinAddressMap.set(e.address,e)})}loadGraph(){return this.pathProviders.forEach(e=>{const{paths:t}=e;t.forEach(n=>{var r,i;const s=(r=this.graph.getVertexByKey(n.base))!=null?r:new Hs(n.base),o=(i=this.graph.getVertexByKey(n.quote))!=null?i:new Hs(n.quote);this.graph.addEdge(new Cc(s,o));const c=this._coinSymbolMap.get(n.base),u=this._coinSymbolMap.get(n.quote);if(c!=null&&u!=null){const d=Do(n.base,n.quote).pair;this.poolAddressMap.set(d,n.addressMap)}})}),this}addPathProvider(e){return this.pathProviders.push(e),this}addCoinProvider(e){return this.coinProviders=e,this}tokenInfo(e){return this._coinAddressMap.has(e)?this._coinAddressMap.get(e):this._coinSymbolMap.get(e)}getCreateTxParams(){return this.createTxParams}isPoolDirectionSet(e){return this.poolDirectionMap.get(e)!=null}getPoolDirection(e){if(this.isPoolDirectionSet(e))return this.poolDirectionMap.get(e)}setPoolDirection(e,t){this.poolDirectionMap.set(e,t)}getBestSplitResultInOnePair(e,t,n,r,i,s){if(r.eq(j))return{maxAmountOut:j,path:[],isExceed:!1};console.log(r.toString());const o=[],c=[],u=[],d=this.getPoolAddressMapAndDirection(t,n),p=d==null?void 0:d.addressMap;if(p)for(const[_,y]of p.entries()){const x=this.poolMap.get(y),O=this.poolDirectionMap.get(y),E=i===O,$=this.ticksMap.get(y),G=new sp(r,e,x,E,s,$).computeSwap();s?o.push(G.amountOutArray):o.push(G.amountInArray),u.push(G.isExceed),c.push(_)}return Up(o.slice(0,4),c.slice(0,4),u.slice(0,4),s)}findBestSplitPriceWithOneSkip(e,t,n,r,i){const s={maxAmountOut:new v(0),path:[],poolAddresses:[],totalAmounts:[],percents:[],isExceed:!1},o=[],c=[],u=[],d=[];if(!i){let y=Ye,x=Ye;if(r){if(y=this.getBestSplitResultInOnePair(50,e[0][0],e[0][1],t,n[0][0],r),y.isExceed||(x=this.getBestSplitResultInOnePair(5,e[0][2],e[0][3],y.maxAmountOut,n[0][1],r),x.isExceed))return s.isExceed=!0,s;s.maxAmountOut=x.maxAmountOut}else{if(x=this.getBestSplitResultInOnePair(5,e[0][2],e[0][3],t,n[0][1],r),x.isExceed||(y=this.getBestSplitResultInOnePair(5,e[0][0],e[0][1],x.maxAmountOut,n[0][0],r),y.isExceed))return s.isExceed=!0,s;s.maxAmountOut=y.maxAmountOut}o.push(y.path),o.push([]),o.push(x.path);const O=[],E=[],$=[];y.path.forEach(D=>{var q;r?O.push(t.muln(D.percent).divn(100)):O.push(x.maxAmountOut.muln(D.percent).divn(100)),$.push(D.percent);const H=(q=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:q.addressMap.get(D.feeRate);E.push(H)});const K=[],G=[],z=[];x.path.forEach(D=>{var q;r?K.push(y.maxAmountOut.muln(D.percent).divn(100)):K.push(t.muln(D.percent).divn(100)),z.push(D.percent);const H=(q=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null?void 0:q.addressMap.get(D.feeRate);G.push(H)});let I=j;O.forEach(D=>{I=I.add(D)});const U=j;return K.forEach(D=>{U.add(D)}),c.push(I.toString()),c.push(j.toString()),u.push($),u.push([]),u.push(z),d.push(E),d.push([]),d.push(G),s.totalAmounts=c,s.path=o,s.percents=u,s.poolAddresses=d,r?s.maxAmountOut=x.maxAmountOut:s.maxAmountOut=y.maxAmountOut,s.path.length||(s.isExceed=!0),s}let p=j;r||(p=new v(2).pow(new v(64)));const _=qr(t,this.splitUnit);for(let y=0;y<_.length;y+=1){const x=this.getBestSplitResultInOnePair(50,e[0][0],e[0][1],_[y],n[0][0],r);if(x.isExceed)continue;let O=Ye,E=Ye;if(r){if(O=this.getBestSplitResultInOnePair(50,e[1][0],e[1][1],_[_.length-y-1],n[1][0],r),O.isExceed||(E=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],O.maxAmountOut,n[1][1],r),E.isExceed))continue}else if(E=this.getBestSplitResultInOnePair(50,e[1][2],e[1][3],_[_.length-y-1],n[1][1],r),E.isExceed||(O=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],E.maxAmountOut,n[1][0],r),O.isExceed))continue;const $=[],K=[],G=[];x.path.forEach(S=>{var A;$.push(t.muln(y*this.splitUnit).divn(100).muln(S.percent).divn(100)),G.push(S.percent);const P=(A=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:A.addressMap.get(S.feeRate);K.push(P)});const z=[],I=[],U=[];O.path.forEach(S=>{var A;r?z.push(t.muln((_.length-y-1)*this.splitUnit).divn(100).muln(S.percent).divn(100)):z.push(E.maxAmountOut.muln(S.percent).divn(100)),U.push(S.percent);const P=(A=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:A.addressMap.get(S.feeRate);I.push(P)});const D=[],q=[],H=[];E.path.forEach(S=>{var A;r?D.push(O.maxAmountOut.muln(S.percent).divn(100)):D.push(t.muln((_.length-y-1)*this.splitUnit).divn(100).muln(S.percent).divn(100)),H.push(S.percent);const P=(A=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:A.addressMap.get(S.feeRate);q.push(P)});const X=[],xe=[],Ce=[];if(E.maxAmountOut.add(x.maxAmountOut).gt(p)||O.maxAmountOut.add(x.maxAmountOut).lt(p)){r?p=E.maxAmountOut.add(x.maxAmountOut):p=O.maxAmountOut.add(x.maxAmountOut);let S=j;$.forEach(P=>{S=S.add(P)});const A=j;z.forEach(P=>{A.add(P)}),X.push(O.path),X.push(x.path),X.push(E.path),xe.push(A.toString()),xe.push(S.toString()),u.push(U),u.push(G),u.push(H),Ce.push(I),Ce.push(K),Ce.push(q),s.maxAmountOut=p,s.path=X,s.totalAmounts=xe,s.percents=u,s.poolAddresses=Ce,s.path.length||(s.isExceed=!0)}}return s}findBestSplitPriceWithTwoSkip(e,t,n,r,i){const s={maxAmountOut:j,path:[],totalAmounts:[],percents:[],poolAddresses:[],isExceed:!1},o=qr(t,this.splitUnit);let c=j;if(r||(c=new v(2).pow(new v(64))),!i){for(let u=0;u<o.length;u+=1){let d=Ye,p=Ye,_=Ye,y=Ye;if(r){if(d=this.getBestSplitResultInOnePair(5,e[0][0],e[0][1],o[u],n[1][0],r),d.isExceed||(p=this.getBestSplitResultInOnePair(5,e[0][2],e[0][3],d.maxAmountOut,n[1][1],r),p.isExceed)||(_=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],o[o.length-u-1],n[1][0],r),_.isExceed)||(y=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],_.maxAmountOut,n[1][1],r),y.isExceed))continue}else if(p=this.getBestSplitResultInOnePair(5,e[0][2],e[0][3],o[u],n[1][1],r),p.isExceed||(d=this.getBestSplitResultInOnePair(5,e[0][0],e[0][1],p.maxAmountOut,n[1][0],r),d.isExceed)||(y=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],o[o.length-u-1],n[1][1],r),y.isExceed)||(_=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],y.maxAmountOut,n[1][0],r),_.isExceed))continue;const x=[],O=[],E=[];d.path.forEach(A=>{var P;r?x.push(t.muln(u*this.splitUnit).divn(100).muln(A.percent).divn(100)):x.push(p.maxAmountOut.muln(A.percent).divn(100)),E.push(A.percent);const V=(P=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:P.addressMap.get(A.feeRate);O.push(V)});const $=[],K=[],G=[];p.path.forEach(A=>{var P;r?$.push(d.maxAmountOut.muln(A.percent).divn(100)):$.push(t.muln(u*this.splitUnit).divn(100).muln(A.percent).divn(100)),G.push(A.percent);const V=(P=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null?void 0:P.addressMap.get(A.feeRate);K.push(V)});const z=[],I=[],U=[];_.path.forEach(A=>{var P;r?z.push(t.muln((o.length-u-1)*this.splitUnit).divn(100).muln(A.percent).divn(100)):z.push(y.maxAmountOut.muln(A.percent).divn(100)),U.push(A.percent);const V=(P=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:P.addressMap.get(A.feeRate);I.push(V)});const D=[],q=[],H=[];y.path.forEach(A=>{var P;r?D.push(_.maxAmountOut.muln(A.percent).divn(100)):D.push(t.muln((o.length-u-1)*this.splitUnit).divn(100).muln(A.percent).divn(100)),H.push(A.percent);const V=(P=this.getPoolAddressMapAndDirection(e[1][1],e[1][2]))==null?void 0:P.addressMap.get(A.feeRate);q.push(V)});const X=[],xe=[],Ce=[],S=[];if(p.maxAmountOut.add(y.maxAmountOut).gt(c)&&r||!r&&d.maxAmountOut.add(_.maxAmountOut).lt(c)){r?c=p.maxAmountOut.add(y.maxAmountOut):c=d.maxAmountOut.add(_.maxAmountOut);let A=j;x.forEach(V=>{A=A.add(V)});let P=j;z.forEach(V=>{P=P.add(V)}),X.push(d.path),X.push(p.path),X.push([]),X.push(_.path),X.push(y.path),xe.push(A.toString()),xe.push(P.toString()),xe.push(j.toString()),S.push(E),S.push(U),S.push([]),S.push(G),S.push(H),Ce.push(O),Ce.push(I),Ce.push([]),Ce.push(K),Ce.push(q),s.maxAmountOut=c,s.percents=S,s.totalAmounts=xe,s.path=X,s.poolAddresses=Ce}}return s.path.length||(s.isExceed=!0),s}for(let u=0;u<o.length;u+=1)for(let d=0;d<o.length-u-1;d+=1){const p=o.length-u-d-1,_=this.getBestSplitResultInOnePair(5,e[0][0],e[0][1],o[p],n[0][0],r);if(_.isExceed)continue;let y=Ye,x=Ye,O=Ye,E=Ye;if(r){if(y=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],o[d],n[1][0],r),y.isExceed||(x=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],y.maxAmountOut,n[1][1],r),x.isExceed)||(O=this.getBestSplitResultInOnePair(5,e[2][0],e[2][1],o[u],n[2][0],r),O.isExceed)||(E=this.getBestSplitResultInOnePair(5,e[2][2],e[2][3],O.maxAmountOut,n[2][1],r),E.isExceed))continue}else if(x=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],o[d],n[1][1],r),x.isExceed||(y=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],x.maxAmountOut,n[1][0],r),y.isExceed)||(E=this.getBestSplitResultInOnePair(5,e[2][2],e[2][3],o[u],n[2][1],r),E.isExceed)||(O=this.getBestSplitResultInOnePair(5,e[2][0],e[2][1],E.maxAmountOut,n[2][0],r),O.isExceed))continue;const $=[],K=[],G=[];y.path.forEach(de=>{var Ue;r?$.push(t.muln(d*this.splitUnit).divn(100).muln(de.percent).divn(100)):$.push(x.maxAmountOut.muln(de.percent).divn(100)),G.push(de.percent);const oe=(Ue=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:Ue.addressMap.get(de.feeRate);K.push(oe)});const z=[],I=[],U=[];x.path.forEach(de=>{var Ue;r?z.push(y.maxAmountOut.muln(de.percent).divn(100)):z.push(t.muln(d*this.splitUnit).divn(100).muln(de.percent).divn(100)),U.push(de.percent);const oe=(Ue=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:Ue.addressMap.get(de.feeRate);I.push(oe)});const D=[],q=[],H=[];O.path.forEach(de=>{var Ue;r?D.push(t.muln(u*this.splitUnit).divn(100).muln(de.percent).divn(100)):D.push(E.maxAmountOut.muln(de.percent).divn(100)),H.push(de.percent);const oe=(Ue=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:Ue.addressMap.get(de.feeRate);q.push(oe)});const X=[],xe=[],Ce=[];E.path.forEach(de=>{var Ue;r?X.push(O.maxAmountOut.muln(de.percent).divn(100)):X.push(t.muln(u*this.splitUnit).divn(100).muln(de.percent).divn(100)),Ce.push(de.percent);const oe=(Ue=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:Ue.addressMap.get(de.feeRate);xe.push(oe)});const S=[],A=[],P=[];_.path.forEach(de=>{var Ue;S.push(t.muln(p*this.splitUnit).divn(100).muln(de.percent).divn(100)),P.push(de.percent);const oe=(Ue=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:Ue.addressMap.get(de.feeRate);A.push(oe)});let V=j;r?V=_.maxAmountOut.add(x.maxAmountOut).add(E.maxAmountOut):V=_.maxAmountOut.add(y.maxAmountOut).add(O.maxAmountOut);const ee=[],se=[],ue=[],Ie=[];if(V.gt(c)&&r||V.lt(c)&&!r){let de=j;$.forEach(he=>{de=de.add(he)});let Ue=j;D.forEach(he=>{Ue=Ue.add(he)});let oe=j;S.forEach(he=>{oe=oe.add(he)}),c=V,ee.push(y.path),ee.push(O.path),ee.push(_.path),ee.push(x.path),ee.push(E.path),se.push(de.toString()),se.push(Ue.toString()),se.push(oe.toString()),ue.push(G),ue.push(H),ue.push(P),ue.push(U),ue.push(Ce),Ie.push(K),Ie.push(q),Ie.push(A),Ie.push(I),Ie.push(xe),s.maxAmountOut=V,s.path=ee,s.totalAmounts=se,s.poolAddresses=Ie,s.percents=ue}}return s.path.length||(s.isExceed=!0),s}findBestSplitPriceWithThreeSkip(e,t,n,r,i){const s={maxAmountOut:new v(0),path:[],totalAmounts:[],percents:[],poolAddresses:[],isExceed:!1};let o=j;r||(o=new v(2).pow(new v(64)));const c=qr(t,this.splitUnit);for(let u=0;u<c.length;u+=1)for(let d=0;d<c.length-u-1;d+=1)if(i)for(let p=0;p<c.length-u-d-1;p+=1){const _=c.length-u-d-p-1,y=this.getBestSplitResultInOnePair(5,e[0][0],e[0][1],c[p],n[0][0],r);let x=Ye,O=Ye,E=Ye,$=Ye,K=Ye,G=Ye;if(r){if(x=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],c[d],n[1][0],r),x.isExceed||(O=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],x.maxAmountOut,n[1][1],r),O.isExceed)||(E=this.getBestSplitResultInOnePair(5,e[2][0],e[2][1],c[u],n[2][0],r),E.isExceed)||($=this.getBestSplitResultInOnePair(5,e[2][2],e[2][3],E.maxAmountOut,n[2][1],r),$.isExceed)||(K=this.getBestSplitResultInOnePair(5,e[3][0],e[3][1],c[_],n[3][0],r),K.isExceed)||(G=this.getBestSplitResultInOnePair(5,e[3][2],e[3][3],K.maxAmountOut,n[3][1],r),G.isExceed))continue}else if(O=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],c[d],n[1][1],r),O.isExceed||(x=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],O.maxAmountOut,n[1][0],r),x.isExceed)||($=this.getBestSplitResultInOnePair(5,e[2][2],e[2][3],c[u],n[2][1],r),$.isExceed)||(E=this.getBestSplitResultInOnePair(5,e[2][0],e[2][1],$.maxAmountOut,n[2][0],r),E.isExceed)||(G=this.getBestSplitResultInOnePair(5,e[3][2],e[3][3],c[_],n[3][1],r),G.isExceed)||(K=this.getBestSplitResultInOnePair(5,e[3][0],e[3][1],G.maxAmountOut,n[3][0],r),K.isExceed))continue;const z=[],I=[],U=[];x.path.forEach(pe=>{var We;r?z.push(t.muln(d*this.splitUnit).divn(100).muln(pe.percent).divn(100)):z.push(O.maxAmountOut.muln(pe.percent).divn(100)),U.push(pe.percent);const Je=(We=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:We.addressMap.get(pe.feeRate);I.push(Je)});const D=[],q=[],H=[];O.path.forEach(pe=>{var We;r?D.push(x.maxAmountOut.muln(pe.percent).divn(100)):D.push(t.muln(d*this.splitUnit).divn(100).muln(pe.percent).divn(100)),H.push(pe.percent);const Je=(We=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:We.addressMap.get(pe.feeRate);q.push(Je)});const X=[],xe=[],Ce=[];E.path.forEach(pe=>{var We;r?X.push(t.muln(u*this.splitUnit).divn(100).muln(pe.percent).divn(100)):X.push($.maxAmountOut.muln(pe.percent).divn(100)),Ce.push(pe.percent);const Je=(We=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:We.addressMap.get(pe.feeRate);xe.push(Je)});const S=[],A=[],P=[];$.path.forEach(pe=>{var We;r?S.push(E.maxAmountOut.muln(pe.percent).divn(100)):S.push(t.muln(u*this.splitUnit).divn(100).muln(pe.percent).divn(100)),P.push(pe.percent);const Je=(We=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:We.addressMap.get(pe.feeRate);A.push(Je)});const V=[],ee=[],se=[];K.path.forEach(pe=>{var We;r?V.push(t.muln(_*this.splitUnit).divn(100).muln(pe.percent).divn(100)):V.push(G.maxAmountOut.muln(pe.percent).divn(100)),se.push(pe.percent);const Je=(We=this.getPoolAddressMapAndDirection(e[3][0],e[3][1]))==null?void 0:We.addressMap.get(pe.feeRate);ee.push(Je)});const ue=[],Ie=[],de=[];G.path.forEach(pe=>{var We;r?ue.push(K.maxAmountOut.muln(pe.percent).divn(100)):ue.push(t.muln(_*this.splitUnit).divn(100).muln(pe.percent).divn(100)),de.push(pe.percent);const Je=(We=this.getPoolAddressMapAndDirection(e[3][2],e[3][3]))==null?void 0:We.addressMap.get(pe.feeRate);Ie.push(Je)});const Ue=[],oe=[],he=[];y.path.forEach(pe=>{var We;Ue.push(t.muln(p*this.splitUnit).divn(100).muln(pe.percent).divn(100)),he.push(pe.percent);const Je=(We=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:We.addressMap.get(pe.feeRate);oe.push(Je)});let J=j;r?J=y.maxAmountOut.add(O.maxAmountOut).add($.maxAmountOut).add(G.maxAmountOut):J=y.maxAmountOut.add(x.maxAmountOut).add(E.maxAmountOut).add(K.maxAmountOut);const Y=[],Re=[],Xe=[],gt=[];if(J.gt(o)&&r||!r&&J.lt(o)){let pe=j;z.forEach(mt=>{pe=pe.add(mt)});let We=j;X.forEach(mt=>{We=We.add(mt)});let Je=j;V.forEach(mt=>{Je=Je.add(mt)});let Ot=j;Ue.forEach(mt=>{Ot=Ot.add(mt)}),o=J,Y.push(x.path),Y.push(E.path),Y.push(K.path),Y.push(y.path),Y.push(O.path),Y.push($.path),Y.push(G.path),Re.push(pe.toString()),Re.push(We.toString()),Re.push(Je.toString()),Re.push(Ot.toString()),Xe.push(U),Xe.push(Ce),Xe.push(se),Xe.push(he),Xe.push(H),Xe.push(P),Xe.push(de),gt.push(I),gt.push(xe),gt.push(ee),gt.push(oe),gt.push(q),gt.push(A),gt.push(Ie),s.maxAmountOut=J,s.path=Y,s.totalAmounts=Re,s.percents=Xe,s.poolAddresses=gt}}else{const p=c.length-u-d-1;let _=Ye,y=Ye,x=Ye,O=Ye,E=Ye,$=Ye;if(r){if(_=this.getBestSplitResultInOnePair(5,e[0][0],e[0][1],c[d],n[0][0],r),_.isExceed||(y=this.getBestSplitResultInOnePair(5,e[0][2],e[0][3],_.maxAmountOut,n[0][1],r),y.isExceed)||(x=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],c[u],n[1][0],r),x.isExceed)||(O=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],x.maxAmountOut,n[1][1],r),O.isExceed)||(E=this.getBestSplitResultInOnePair(5,e[2][0],e[2][1],c[p],n[2][0],r),E.isExceed)||($=this.getBestSplitResultInOnePair(5,e[2][2],e[2][3],x.maxAmountOut,n[2][1],r),$.isExceed))continue}else if(y=this.getBestSplitResultInOnePair(5,e[0][2],e[0][3],c[d],n[0][1],r),y.isExceed||(_=this.getBestSplitResultInOnePair(5,e[0][0],e[0][1],y.maxAmountOut,n[0][0],r),_.isExceed)||(O=this.getBestSplitResultInOnePair(5,e[1][2],e[1][3],c[u],n[1][1],r),O.isExceed)||(x=this.getBestSplitResultInOnePair(5,e[1][0],e[1][1],O.maxAmountOut,n[1][0],r),x.isExceed)||($=this.getBestSplitResultInOnePair(5,e[2][2],e[2][3],c[p],n[2][1],r),$.isExceed)||(E=this.getBestSplitResultInOnePair(5,e[2][0],e[2][1],O.maxAmountOut,n[2][0],r),E.isExceed))continue;const K=[],G=[],z=[];_.path.forEach(J=>{var Y;r?K.push(t.muln(d*this.splitUnit).divn(100).muln(J.percent).divn(100)):K.push(y.maxAmountOut.muln(J.percent).divn(100)),z.push(J.percent);const Re=(Y=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:Y.addressMap.get(J.feeRate);G.push(Re)});const I=[],U=[],D=[];y.path.forEach(J=>{var Y;r?I.push(_.maxAmountOut.muln(J.percent).divn(100)):I.push(t.muln(d*this.splitUnit).divn(100).muln(J.percent).divn(100)),D.push(J.percent);const Re=(Y=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null?void 0:Y.addressMap.get(J.feeRate);U.push(Re)});const q=[],H=[],X=[];x.path.forEach(J=>{var Y;r?q.push(t.muln(u*this.splitUnit).divn(100).muln(J.percent).divn(100)):q.push(O.maxAmountOut.muln(J.percent).divn(100)),X.push(J.percent);const Re=(Y=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:Y.addressMap.get(J.feeRate);H.push(Re)});const xe=[],Ce=[],S=[];O.path.forEach(J=>{var Y;r?xe.push(x.maxAmountOut.muln(J.percent).divn(100)):xe.push(t.muln(u*this.splitUnit).divn(100).muln(J.percent).divn(100)),S.push(J.percent);const Re=(Y=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:Y.addressMap.get(J.feeRate);Ce.push(Re)});const A=[],P=[],V=[];E.path.forEach(J=>{var Y;r?A.push(t.muln(p*this.splitUnit).divn(100).muln(J.percent).divn(100)):A.push($.maxAmountOut.muln(J.percent).divn(100)),V.push(J.percent);const Re=(Y=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:Y.addressMap.get(J.feeRate);P.push(Re)});const ee=[],se=[],ue=[];$.path.forEach(J=>{var Y;r?ee.push(E.maxAmountOut.muln(J.percent).divn(100)):ee.push(t.muln(p*this.splitUnit).divn(100).muln(J.percent).divn(100)),ue.push(J.percent);const Re=(Y=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:Y.addressMap.get(J.feeRate);se.push(Re)});const Ie=[],de=[],Ue=[],oe=[];let he=j;if(r?he=y.maxAmountOut.add(O.maxAmountOut).add($.maxAmountOut):he=_.maxAmountOut.add(x.maxAmountOut).add(E.maxAmountOut),he.gt(o)&&r||he.lt(o)&&!r){let J=j;K.forEach(Xe=>{J=J.add(Xe)});let Y=j;q.forEach(Xe=>{Y=Y.add(Xe)});let Re=j;A.forEach(Xe=>{Re=Re.add(Xe)}),o=he,Ie.push(_.path),Ie.push(x.path),Ie.push(E.path),Ie.push([]),Ie.push(y.path),Ie.push(O.path),Ie.push($.path),de.push(J.toString()),de.push(Y.toString()),de.push(Re.toString()),de.push(j.toString()),Ue.push(z),Ue.push(X),Ue.push(V),Ue.push([]),Ue.push(D),Ue.push(S),Ue.push(ue),oe.push(G),oe.push(H),oe.push(P),oe.push([]),oe.push(U),oe.push(Ce),oe.push(se),s.maxAmountOut=he,s.path=Ie,s.percents=Ue,s.totalAmounts=de,s.poolAddresses=oe}}return s.path.length||(s.isExceed=!0),s}findBestSplitPrice(e,t,n,r,i,s){var o,c,u,d;let p=e.length,_=!1;e[0].length===2&&(_=!0,p-=1);let y={maxAmountOut:j,path:[],poolAddresses:[],totalAmounts:[],percents:[],isExceed:!1},x={maxAmountOut:j,path:[],isExceed:!1};const O=[],E=[];let $=j;const K=[];switch(console.log(p,"skipNumber"),p){case 0:x=this.getBestSplitResultInOnePair(50,e[0][0],e[0][1],t,n[0][0],r),y.maxAmountOut=x.maxAmountOut,y.path.push(x.path),x.path.forEach(q=>{var H;const X=(H=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:H.addressMap.get(q.feeRate);O.push(X);const xe=t.muln(q.percent).divn(100);E.push(xe),K.push(q.percent)}),E.forEach(q=>{$=$.add(q)}),y.percents.push(K),y.totalAmounts.push($.toString()),y.poolAddresses.push(O);break;case 1:y=this.findBestSplitPriceWithOneSkip(e,t,n,r,_);break;case 2:y=this.findBestSplitPriceWithTwoSkip(e,t,n,r,_);break;case 3:y=this.findBestSplitPriceWithThreeSkip(e,t,n,r,_);break}if(y.isExceed)return y;const G=[];for(let q=0;q<y.path.length;q+=1){const{length:H}=y.path[q];G.push(H)}const z=[];if(p!==0)if(_){for(let H=1;H<1+p;H+=1){const X=[];if(G[H-1]>0)for(let xe=0;xe<G[H-1];xe+=1)X.push(n[H][0]);z.push(X)}const q=[];for(let H=0;H<G[p];H+=1)if(G[p]>0)for(let X=0;X<G[p];X+=1)q.push(n[0][0]);z.push(q);for(let H=1;H<1+p;H+=1){const X=[];if(G[H+p]>0)for(let xe=0;xe<G[H+p];xe+=1)X.push(n[H][1]);z.push(X)}}else{for(let q=0;q<p;q+=1){const H=[];if(G[q]>0)for(let X=0;X<G[q];X+=1)H.push(n[q][0]);z.push(H)}z.push([]);for(let q=0;q<p;q+=1){const H=[];if(G[q+p+1]>0)for(let X=0;X<G[q+p+1];X+=1)H.push(n[q][1]);z.push(H)}}else z.push([n[0][0]]);for(let q=0;q<y.poolAddresses.length;q+=1)for(let H=0;H<y.poolAddresses[q].length;H+=1){const X=this.getPoolDirection(y.poolAddresses[q][H]);X&&(z[q][H]=z[q][H]&&X)}const I=[],U=(o=this._coinSymbolMap.get(e[0][0]))==null?void 0:o.address;I.push(U);for(let q=0;q<e.length;q+=1)if(e[q].length!==2){const H=(c=this._coinSymbolMap.get(e[q][1]))==null?void 0:c.address;I.push(H)}if(e[0].length===2){const q=(u=this._coinSymbolMap.get(e[0][1]))==null?void 0:u.address;I.push(q)}else{const q=(d=this._coinSymbolMap.get(e[0][e[0].length-1]))==null?void 0:d.address;I.push(q)}const D=r?y.maxAmountOut.muln((1-i)*1e5).divn(1e5).toString():y.maxAmountOut.muln((1+i)*1e5).divn(1e5).toString();return this.createTxParams={partitionQuantities:G,swapDirects:z,poolAddresses:y.poolAddresses,totalAmounts:y.totalAmounts,percents:y.percents,amountLimit:D,amountOut:t.toString(),partner:s,coinTypes:I},y}async price(e,t,n,r,i,s){var o,c;const u=this.tokenInfo(e),d=this.tokenInfo(t);if(u===void 0||d===void 0)return;const p=this.graph.getVertexByKey(u.symbol),_=this.graph.getVertexByKey(d.symbol),y=this.graph.findAllPath(p,_),x=Array.from(y),O=[],E=[],$=[];for(let K=0;K<x.length;K+=1){const G=x[K];if(G.length>3)continue;const z=[],I=[];for(let U=0;U<G.length-1;U+=1){const D=G[U].value.toString(),q=G[U+1].value.toString(),H=(o=this.getPoolAddressMapAndDirection(D,q))==null?void 0:o.addressMap,X=(c=this.getPoolAddressMapAndDirection(D,q))==null?void 0:c.direction;H!==void 0&&X!==void 0&&(I.push(X),z.push(D),z.push(q),H.forEach(xe=>{O.push(xe)}))}if($.push(I),E.push(z),z.length===2&&E.length>1){const U=E[0].slice();E[0]=z,E[E.length-1]=U;const D=$[0].slice();$[0]=I,$[E.length-1]=D}}return await this.refreshPoolofSwapRouter(O),this.findBestSplitPrice(E,n,$,r,i,s)}async routerSwap(e,t,n,r,i,s){const o=await this.price(e,t,n,r,i,s),c=this.getCreateTxParams();if(o.isExceed)return{maxAmountOut:o.maxAmountOut,path:o.path,poolAddresses:o.poolAddresses,percents:o.percents,totalAmounts:o.totalAmounts,isExceed:o.isExceed,totalPercents:[],showRouters:[],gasFee:0};const u=this.splitSwapForRouters(c,r,!0),{simulationAccount:d}=this.sdk.sdkOptions.networkOptions,p=new je(this.sdk.sdkOptions.rpcUrl),_=On(d.address),y=await p.generateRawTransaction(_,u),x=On(d.pubkey),O=new m.Ed25519PublicKey(x.toUint8Array()),E=await p.simulateTransaction(O,y),$=E[0].gas_used,K=E[0].gas_unit_price,G=parseInt($,10)*parseInt(K,10),z=[];let I=j;o.totalAmounts.forEach(D=>{I=I.add(new v(D))}),o.totalAmounts.forEach(D=>{let q;I.isZero()?q=0:q=Number(D)/Number(I.toString())*100,z.push(q)});const U=[];for(let D=0;D<o.totalAmounts.length;D+=1){const q={amount:o.totalAmounts[D],poolAddress:[]};D===Math.floor(o.poolAddresses.length/2)?o.poolAddresses[D].length>0&&(q.poolAddress.push(o.poolAddresses[D]),U.unshift(q)):o.poolAddresses[D].length>0&&(q.poolAddress.push(o.poolAddresses[D],o.poolAddresses[D+Math.floor(o.poolAddresses.length/2)+1]),U.push(q))}return{maxAmountOut:o.maxAmountOut,path:o.path,poolAddresses:o.poolAddresses,percents:o.percents,totalAmounts:o.totalAmounts,isExceed:o.isExceed,totalPercents:z,showRouters:U,gasFee:G}}splitSwap(e,t,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.ClmmIntegrate}::${ss}`,s=t?"exact_input_split_swap":"exact_output_split_swap",o=[];e.poolAddresses.forEach(_=>{const y=[];_.forEach(x=>{y.push(m.AccountAddress.fromHex(x))}),o.push(y)});const c=[R.bcsSerializeUint64(e.partitionQuantities[0]),R.serializeVectorWithFunc(e.swapDirects[0],"serializeBool"),fp(o[0]),R.serializeVectorWithFunc(e.percents[0],"serializeU64"),R.bcsSerializeUint64(parseInt(e.totalAmounts[0],10)),R.bcsSerializeUint64(parseInt(e.amountLimit,10)),R.bcsSerializeStr(e.partner)];if(n){const _=[];for(const y of e.coinTypes){const x=new m.TypeTagStruct(m.StructTag.fromString(y));_.push(x)}return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s,_,c))}const u=Se(i,s),d=e.coinTypes,p=[e.partitionQuantities[0],e.swapDirects[0],e.poolAddresses[0],e.percents[0],e.totalAmounts[0],e.amountLimit,e.partner];return{type:"entry_function_payload",function:u,type_arguments:d,arguments:p}}splitSwapForRouter(e,t,n,r=!1){const{modules:i}=this.sdk.sdkOptions.networkOptions,s=`${i.ClmmIntegrate}::${ss}`,o=[];e.poolAddresses.forEach(_=>{const y=[];_.forEach(x=>{y.push(m.AccountAddress.fromHex(x))}),o.push(y)});const c=[R.serializeVectorWithFunc(e.partitionQuantities,"serializeU64"),Io(e.swapDirects,"serializeBool"),dp(o),Io(e.percents,"serializeU64"),R.serializeVectorWithFunc(e.totalAmounts,"serializeU64"),R.bcsSerializeUint64(parseInt(e.amountLimit,10)),R.bcsSerializeStr(e.partner)];if(r){const _=[];for(const y of e.coinTypes){const x=new m.TypeTagStruct(m.StructTag.fromString(y));_.push(x)}return new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(s,n,_,c))}const u=[e.partitionQuantities,e.swapDirects,e.poolAddresses,e.percents,e.totalAmounts,e.amountLimit,e.partner],d=Se(s,n),p=e.coinTypes;return{type:"entry_function_payload",function:d,type_arguments:p,arguments:u}}splitSwapForRouters(e,t,n=!1){const{length:r}=e.partitionQuantities;let i;switch(r){case 3:t?i="exact_input_split_swap_for_router_three":i="exact_output_split_swap_for_router_three";break;case 5:t?i="exact_input_split_swap_for_router_four":i="exact_output_split_swap_for_router_four";break;case 7:t?i="exact_input_split_swap_for_router_five":i="exact_output_split_swap_for_router_five";break;default:return this.splitSwap(e,t,n)}return this.splitSwapForRouter(e,t,i,n)}findUnFetchPools(e){const t=[];for(const n of e)this.poolMap.get(n)==null&&t.push(n);return t}async refreshPoolofSwapRouter(e){var t,n,r;const i=Date.now();if(this.isInited){const o=this.findUnFetchPools(e);if(i-this.leastRefreshTime<Ep&&o.length===0)return}else this.isInited=!0;const s=await this._sdk.Resources.getPools(e);for(let o=0;o<e.length;o+=1)if(this.poolMap.set(s[o].poolAddress,s[o]),this.getPoolDirection(s[o].poolAddress)==null){const c=(t=this._coinAddressMap.get(s[o].coinTypeA))==null?void 0:t.symbol,u=(n=this._coinAddressMap.get(s[o].coinTypeB))==null?void 0:n.symbol,d=(r=this.getPoolAddressMapAndDirection(c,u))==null?void 0:r.direction;this.poolDirectionMap.set(s[o].poolAddress,d);const p=await this._sdk.Fetcher.fetchTicks({pool:s[o].poolAddress,coinTypeA:s[o].coinTypeA,coinTypeB:s[o].coinTypeB}),_=Yh(p);this.ticksMap.set(s[o].poolAddress,_)}this.leastRefreshTime=i}},kp=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}transformTickData(e){const t=[],{modules:n}=this._sdk.sdkOptions.networkOptions,r=e.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.FetcherDeployer}::fetcher::FetchTicksResult`);if(r.length===0)return{ticks:t,index:0,offset:0};const s=r[0].data.data;return{ticks:s.ticks||[],index:Number(s.index),offset:Number(s.offset)}}async getTicks(e){const{modules:t,simulationAccount:n}=this.sdk.sdkOptions.networkOptions,r=new je(this.sdk.sdkOptions.rpcUrl),i=`${t.FetcherDeployer}::scripts`,s="fetch_ticks",o=[new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeA)),new m.TypeTagStruct(m.StructTag.fromString(e.coinTypeB))],c=[R.bcsToBytes(m.AccountAddress.fromHex(e.pool)),R.bcsSerializeUint64(e.index),R.bcsSerializeUint64(e.offset),R.bcsSerializeUint64(e.limit)],u=new m.TransactionPayloadEntryFunction(m.EntryFunction.natural(i,s,o,c)),d=On(n.address),p=await r.generateRawTransaction(d,u),_=On(n.pubkey),y=new m.Ed25519PublicKey(_.toUint8Array()),x=await r.simulateTransaction(y,p);return this.transformTickData(x[0].changes)}async fetchTicks(e){let t=[],n=0,r=0;const i=512;for(;;){const s=await this.getTicks({pool:e.pool,coinTypeA:e.coinTypeA,coinTypeB:e.coinTypeB,index:n,offset:r,limit:i});if(t=[...t,...s.ticks],s.ticks.length<i)break;s.offset<999?(r=s.offset+1,n=s.index):(n=s.index+1,r=0)}return t}},og=class{constructor(e){this.globalConfig={protocol_fee_rate:"",is_pause:!1},this._sdkOptions=e,this._client=new je(e.rpcUrl),this._tokenClient=new Th(this._client),this._swap=new _p(this),this._position=new mp(this),this._resources=new vp(this),this._pool=new bp(this),this._rewarder=new Sp(this),this._router=new Rp(this),this._token=new Ap(this),this._fetcher=new kp(this),this._launchpad=new ep(this),this.globalConfig.protocol_fee_rate=""}async getGlobalConfig(e=!1){return(this.globalConfig.protocol_fee_rate.length===0||e)&&(this.globalConfig=await this._resources.getGlobalConfig(this._sdkOptions.networkOptions.modules.LiquidswapDeployer)),this.globalConfig}get client(){return this._client}get tokenClient(){return this._tokenClient}get Swap(){return this._swap}get Position(){return this._position}get Pool(){return this._pool}get Resources(){return this._resources}get Rewarder(){return this._rewarder}get Token(){return this._token}get Router(){return this._router}get Fetcher(){return this._fetcher}get Launchpad(){return this._launchpad}get sdkOptions(){return this._sdkOptions}};const Bp={pro:{Aptos:[{name:"Default",link:"https://explorer.aptoslabs.com"}],Sui:[{name:"SuiVision",link:"https://suivision.xyz"},{name:"Suiscan",link:"https://suiscan.xyz"}]},pre:{Aptos:[{name:"Default",link:"https://explorer.aptoslabs.com"}],Sui:[{name:"SuiVision",link:"https://suivision.xyz"},{name:"Suiscan",link:"https://suiscan.xyz"}]},preRoute:{Aptos:[{name:"Default",link:"https://explorer.aptoslabs.com"}],Sui:[{name:"SuiVision",link:"https://suivision.xyz"},{name:"Suiscan",link:"https://suiscan.xyz"}]},test:{Aptos:[{name:"Default",link:"https://explorer.aptoslabs.com"}],Sui:[{name:"SuiVision",link:"https://testnet.suivision.xyz"},{name:"Suiscan",link:"https://suiscan.xyz"}]}},os={...Bp[Nc]};function ag(e,t){const n=qs(t);return Ee(e).div(n).toString()}function cg(e,t){const n=qs(t);return Ee(e).mul(n)}function ug(e){const t=e.split("x");let n=e;return t[1][0]==="0"&&(n=t[0]+"x"+t[1].slice(1)),n}const lg=(e,t)=>JSON.stringify(e)===JSON.stringify(t),$o=e=>{switch(e){case"account":return"account";case"token":return"";case"nftAddress":return"token";case"tx":return"txn";case"poolAddress":return"account"}},Pp=e=>{switch(e){case"account":return"address";case"token":return"object";case"tx":return"txblock";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"object"}},Uc=e=>{switch(e){case"account":return"address";case"token":return"object";case"tx":return"tx";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},zo=e=>{switch(e){case"account":return"account";case"token":return"object";case"tx":return"txblock";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}};function dg(){const t=(localStorage.getItem("theme")||"sui")=="sui"?"Sui":"Aptos";return localStorage.getItem(`${t}-currentExplorerName`)||os[t][0].name}function fg(e,t,n){const r=localStorage.getItem("theme")||"sui",i=r=="sui"?"Sui":"Aptos";console.log(e,"url###111");const s=e.indexOf("suivision")>-1?"SuiVision":e.indexOf("suiscan")>-1?"Suiscan":"";console.log(e,s,"url##");const o=Lo[i].network;let c;return i=="Aptos"?t=="nftAddress"?c=`${e}/${$o(t)}/${n}/0?network=${o}`:c=`${e}/${$o(t)}/${n}?network=${o}`:s=="SuiVision"?c=`${e}/${zo(t)}/${n}`:s=="Suiscan"?c=`${e}/${o}/${Uc(t)}/${n}`:c=`${e}/${Pp(t)}/${n}?network=${o}`,console.log("href, chain, chainName, url, urlName, network==>",t,zo(t),c,r,i,e,s,o),c}function hg(e,t){const n="Sui",r=os[n][2].link,i=os[n][2].name,s=Lo[n].network;let o;return i=="Suiscan"&&(o=`${r}/${s}/${Uc(e)}/${t}`),o}function pg(e,t){const n=qs(Ee(t));return Number(Ee(e).mul(n))}function gg(e){const t=e.toString(),n=t.indexOf(".");if(n!==-1){for(let r=n+1;r<t.length;r++)if(t[r]!=="0")return r-n-1}return-1}function yg(e,t){let n=e,r=t;if(e.includes("sui::SUI")&&e.includes("sui::SUI")){if(e.slice(-10)===t.slice(-10))return!0}else return e[2]=="0"&&(n=e.slice(0,2)+e.slice(3)),t[2]=="0"&&(r=t.slice(0,2)+t.slice(3)),(n==null?void 0:n.toLowerCase())==(r==null?void 0:r.toLowerCase());return!1}function _g(e){const t=[];let n=e.indexOf(",");for(;n!==-1;)t.push(n),n=e.indexOf(",",n+1);return t}export{Zp as A,Yp as B,Yn as C,Oo as D,Zi as E,Yh as F,ug as G,sg as H,rg as I,ig as J,pg as K,os as L,lg as M,Xp as N,tg as O,Gt as P,yg as Q,Jp as R,og as S,Ke as T,eg as U,Qp as V,Np as W,gg as X,Ho as Y,Bp as Z,Mr as a,$c as b,Dp as c,Cr as d,Cp as e,jp as f,Fo as g,Mt as h,zp as i,Tr as j,Sr as k,Ee as l,cg as m,Fp as n,fg as o,ag as p,$p as q,Kp as r,Hp as s,Lp as t,dg as u,Gp as v,Vp as w,hg as x,_g as y,Wp as z};
