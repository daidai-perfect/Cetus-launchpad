import{_ as U}from"./refresh-icon.64571c8f.js";import{_ as L,a as j}from"./coin-select.5bc6435f.js";import{b as N,ai as G,o as t,e as l,f as n,t as i,h as u,p as _,j as I,aj as K,G as z,c as C,s as S,v,q as A,B as E,ak as V,k as q,l as M,w as D,m as W,r as Y,i as Q,Y as R,al as H,F as P,H as F,am as X,a2 as Z}from"./entry.b2a8e1c0.js";import{_ as J}from"./swap-setting.b2ce57aa.js";import"./img-no-Positions_2x.3a4bda32.js";const x=o=>(_("data-v-b853e5d8"),o=o(),I(),o),oo={key:0,class:"network-tips"},no=x(()=>n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1));function io(o,e,m,a,h,w){return o.isShowTips&&o.chainName!=="Sui"&&o.aptosConnected?(t(),l("div",oo,[no,n("span",null,i(o.$t("newAdd.walletNotConnect",{network:`${o.config[o.chainName].networkTip}`})),1)])):u("",!0)}const eo=N(G,[["render",io],["__scopeId","data-v-b853e5d8"]]),T=o=>(_("data-v-354118e9"),o=o(),I(),o),so=T(()=>n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),to={class:"swap-confirm-container"},ao={class:"card-content"},lo={class:"top"},ro={class:"coin"},mo=["src"],co=T(()=>n("div",{class:"svg-box"},[n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),uo={class:"coin"},fo=["src"],po={class:"bottom"},Co={class:"induction"},ho={class:"item"},vo={class:"induction-text"},go={class:"induction-value induction-value-change"},$o={key:0},bo={key:1},Ao=T(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),wo=[Ao],yo={class:"item"},ko={class:"induction-text"},So={class:"induction-value"},No={class:"item"},_o={class:"induction-text"},Io={class:"induction-value"},Bo={class:"item"},Mo={class:"induction-text"},Do={class:"induction-value"},Fo={class:"item"},To={class:"induction-text"},Oo={class:"induction-value"};function Vo(o,e,m,a,h,w){const g=E,$=z("Modal");return t(),C($,{width:"440px",visible:!0,footer:null,title:o.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:e[2]||(e[2]=f=>o.$emit("on-close"))},{closeIcon:S(()=>[so]),default:S(()=>[n("div",to,[n("div",ao,[n("div",lo,[n("div",ro,[n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,mo),n("p",null,i(o.fromCoinAmount),1),v(" \xA0\xA0 "),n("p",null,i(o.fromCoin.symbol),1)]),co,n("div",uo,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,fo),n("p",null,i(o.toCoinAmount),1),v(" \xA0\xA0 "),n("p",null,i(o.toCoin.symbol),1)])]),n("div",po,[n("div",Co,[n("div",ho,[n("div",vo,i(o.$t("common.rate")),1),n("div",go,[o.rateChange?(t(),l("span",bo," 1 "+i(o.toCoin.symbol)+" \u2248 "+i(o.fixD(Number(o.fromCoinAmount)/Number(o.toCoinAmount),o.toCoin.decimals))+" "+i(o.toCoin.symbol),1)):(t(),l("span",$o," 1 "+i(o.fromCoin.symbol)+" \u2248 "+i(o.fixD(Number(o.toCoinAmount)/Number(o.fromCoinAmount),o.toCoin.decimals))+" "+i(o.toCoin.symbol),1)),(t(),l("svg",{class:"icon-change","aria-hidden":"true",onClick:e[0]||(e[0]=f=>o.rateChange=!o.rateChange)},wo))])]),n("div",yo,[n("div",ko,i(o.$t("modal.slippageTolerance")),1),n("div",So,i(o.slippage)+"%",1)]),n("div",No,[n("div",_o,i(o.fixedFromCoin?o.$t("common.minimumReceived"):o.$t("common.maximumSold")),1),n("div",Io,i(o.fixedFromCoin?o.fixD(o.toCoinAmount-Number(o.toCoinAmount)*Number(o.slippage)/100,o.toCoin.decimals):o.fixD(Number(o.fromCoinAmount)*Number(o.slippage)/100+Number(o.fromCoinAmount),o.fromCoin.decimals))+" "+i(o.fixedFromCoin?o.toCoin.symbol:o.fromCoin.symbol),1)]),n("div",Bo,[n("div",Mo,i(o.$t("common.priceImpact")),1),n("div",Do,i(o.impact)+" %",1)]),n("div",Fo,[n("div",To,i(o.$t("common.fee")),1),n("div",Oo,i(o.fixD(o.fromCoinAmount*o.fee/100,4))+" "+i(o.fromCoin.symbol)+" ("+i(o.fee)+"%) ",1)])])])])]),A(g,{class:"big-btn swap-confirm-btn",onClick:e[1]||(e[1]=f=>o.clickNextBtn())},{default:S(()=>[v(i(o.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const Ro=N(K,[["render",Vo],["__scopeId","data-v-354118e9"]]),Eo={props:{coin:{type:Object},refresh:{type:Boolean}},setup(o,e){const{$echarts:m}=V();console.log(V(),"==useNuxtApp()");const a=(r,d,b)=>{console.log("draw");let y=document.getElementById(`main${b}`),p=m.init(y),s;s={xAxis:{type:"category",boundaryGap:!1,show:!1,data:d},yAxis:{type:"value",show:!1,min:function(c){return c.min-c.min*.1},max:function(c){return c.max+c.max*.1}},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:"#68FFD8"}},formatter:function(c){return`<div class="chart-tip">
              <div>${c[0].name}</div>
              <div>$${R(c[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#0C4535"},{offset:1,color:"#151817"}]},series:[{data:r,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:"#68FFD8",width:2,type:"solid"}}]},s&&p.clear(),s&&p.setOption(s,!0)},h=async()=>{var p,s;const r=await $fetch(`${f.value.api}/v2/token/kline/${(p=o.coin)==null?void 0:p.name}`),d=[],b=[];r.data.list.reverse().forEach(c=>{d.push(c.settle),b.push(H(c.date,"HM"))});const y=d.sort();console.log(y,"===>sortResult"),a(d,b,(s=o.coin)==null?void 0:s.name)},w=q(),g=M(()=>w),$=M(()=>g.value.chainName),f=M(()=>P[$.value]);D(()=>o.coin,r=>{r&&h()}),W(()=>{h()});const k=Y({});return D(()=>[g.value.newtopTokenObj,o.coin],([r,d])=>{console.log(r,"===>newValue11111"),console.log(d,"===coin.name.toUpperCase()"),r&&d&&r[d.address]&&(k.value=r[d.address])},{immediate:!0,deep:!0}),D(()=>o.refresh,r=>{r&&h()}),{importIcon:Q,stats:k,fixD:R,config:f}}},O=o=>(_("data-v-c787b97d"),o=o(),I(),o),Uo={class:"token-info"},Lo={class:"token-info-header"},jo={class:"left"},Go=["src"],Ko={class:"name"},zo={class:"desc"},qo=["href"],Wo=O(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon-jump"})],-1)),Yo=[Wo],Qo={class:"right"},Ho={class:"price"},Po={class:"token-info-footer"},Xo={class:"left"},Zo=O(()=>n("p",null,"TVL",-1)),Jo=O(()=>n("p",null,"24H VOL",-1)),xo={class:"right"},on=["id"];function nn(o,e,m,a,h,w){return t(),l("div",Uo,[n("div",Lo,[n("div",jo,[n("img",{src:m.coin.logoURI||a.importIcon(`/image/coins/${m.coin.symbol.toLowerCase()}.png`)},null,8,Go),n("div",null,[n("div",Ko,i(m.coin.symbol),1),n("div",zo,[n("span",null,i(m.coin.name),1),n("a",{href:`https://explorer.aptoslabs.com/account/${m.coin&&m.coin.address}?network=${a.config.network}`,target:"_blank"},Yo,8,qo)])])]),n("div",Qo,[n("div",Ho,"$"+i(a.fixD(a.stats.price,2)),1),n("div",{class:F(a.stats&&a.stats.price_rate_24h&&a.stats.price_rate_24h.indexOf("-")>-1?"increase down":"increase up")},i(a.stats.price_rate_24h!=="0%"&&a.stats.price_rate_24h&&a.stats.price_rate_24h.indexOf("-")>-1?a.stats.price_rate_24h:`+${a.stats.price_rate_24h}`),3)])]),n("div",Po,[n("div",Xo,[n("div",null,[n("p",null,"$"+i(a.fixD(a.stats.tvl_in_usd,2)),1),Zo]),n("div",null,[n("p",null,"$"+i(a.fixD(a.stats.vol_in_usd_24h,2)),1),Jo])]),n("div",xo,[n("div",{id:`main${m.coin.name}`,class:"main"},null,8,on)])])])}const en=N(Eo,[["render",nn],["__scopeId","data-v-c787b97d"]]),sn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAGCBAMAAAAmlj/IAAAAFVBMVEVHcEwzMzMzMzMyMjI0NDQvLy8zMzOcydXuAAAABnRSTlMAy9hRbBs90ObtAAAAWklEQVRIx2NgYBFLdGBgYBVLS0sMYGBMMg1WE2BwU2VgCEphEDNgYGBOZEgLAMqnMaQxAEEaTBCqBKoBqh1qGAMDWwLDKDVKjVKj1Cg1So1So9QoNdwo6rccATYwqRNK4tkrAAAAAElFTkSuQmCC",B=o=>(_("data-v-e1b8650d"),o=o(),I(),o),tn={class:"swap-container"},an={class:"title"},ln={class:"left"},rn={class:"right title-right"},mn=B(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),dn={class:"swap-card"},cn={class:"card-container"},un={class:"card-item"},fn={class:"card-item"},pn=B(()=>n("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),Cn=[pn],hn={key:0,class:"induction"},vn={key:0,class:"exchange-rate-btn"},gn={key:0},$n=["src"],bn={key:0},An=["src"],wn={key:1},yn={key:0},kn=["src"],Sn=["src"],Nn=B(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),_n=[Nn],In={class:"item"},Bn={class:"induction-text"},Mn={class:"induction-value"},Dn={class:"item"},Fn={class:"induction-text"},Tn={class:"induction-value"},On={class:"item"},Vn={class:"induction-text"},Rn={class:"induction-value"},En={key:0,class:"icon","aria-hidden":"true"},Un=B(()=>n("use",{"xlink:href":"#icon-icon-swap"},null,-1)),Ln=[Un],jn={key:3,class:"token-info-container"};function Gn(o,e,m,a,h,w){const g=U,$=L,f=Z,k=E,r=eo,d=j,b=J,y=Ro,p=en;return t(),l("div",tn,[n("div",an,[n("div",ln,i(o.$t("menu.swap")),1),n("div",rn,[n("div",{class:"slippage-icon",onClick:e[0]||(e[0]=s=>o.isShowSwapSetting=!0)},[mn,n("span",null,i(o.slippage)+"%",1)]),A(g,{loading:o.refresh,"auto-refresh-time":o.autoRefreshTime,countdown:o.countdown,onClickRefresh:o.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),n("div",dn,[n("div",cn,[n("div",un,[A($,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":e[1]||(e[1]=s=>o.fromCoinAmount=s),"input-value":o.fromCoinAmount,"coin-symbol":o.fromCoin?o.fromCoin.symbol:null,"coin-name":o.fromCoin?o.fromCoin.name:null,balance:o.fromCoinBlance,"coin-icon":o.fromCoin?o.fromCoin.logoURI:"","swap-direction":"From",onOnMax:e[2]||(e[2]=s=>o.maxBtnSelect("fromCoin")),onOnInput:e[3]||(e[3]=s=>{o.fromCoinAmount=s,o.fixedFromCoin=!0}),onOnSelect:e[4]||(e[4]=s=>o.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon"])]),n("div",fn,[A($,{modelValue:o.toCoinAmount,"onUpdate:modelValue":e[5]||(e[5]=s=>o.toCoinAmount=s),"input-value":o.toCoinAmount,havemax:!1,"coin-symbol":o.toCoin?o.toCoin.symbol:null,"coin-name":o.toCoin?o.toCoin.name:null,balance:o.toCoinBlance,"swap-direction":"To","coin-icon":o.toCoin?o.toCoin.logoURI:"",onOnInput:e[6]||(e[6]=s=>{o.toCoinAmount=s,o.fixedFromCoin=!1}),onOnSelect:e[7]||(e[7]=s=>o.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon"])]),n("img",{class:F(o.change?"gang animationex":"gang"),src:sn,alt:""},null,2),n("div",{class:"exchange",onClick:e[8]||(e[8]=s=>o.clickExchange())},[(t(),l("svg",{class:F(o.change?"icon animationex":"icon"),"aria-hidden":"true"},Cn,2))])]),o.poolInfo&&o.fromCoinAmount&&o.toCoinAmount&&o.fromCoinAmount!=="0"&&o.toCoinAmount!=="0"&&o.swapBtnText!==o.$t("button.poolNotFound")?(t(),l("div",hn,[o.fromCoinAmount&&o.toCoinAmount?(t(),l("div",vn,[o.rateChange?Number(o.fromCoinAmount)&&Number(o.toCoinAmount)&&o.rateChange?(t(),l("span",wn,[Number(o.fromCoinAmount)&&Number(o.toCoinAmount)?(t(),l("span",yn,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,kn),v(" 1 "+i(o.toCoin.symbol)+" \u2248 ",1),n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,Sn),v(" "+i(o.fixD(Number(o.fromCoinAmount)/Number(o.toCoinAmount),o.fromCoin.decimals))+" "+i(o.fromCoin.symbol),1)])):(t(),C(f,{key:1,indicator:o.indicator},null,8,["indicator"]))])):u("",!0):(t(),l("span",gn,[n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,$n),v(" 1 "+i(o.fromCoin.symbol)+" \u2248 ",1),Number(o.fromCoinAmount)&&Number(o.toCoinAmount)?(t(),l("span",bn,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,An),v(" "+i(o.fixD(Number(o.toCoinAmount)/Number(o.fromCoinAmount),o.toCoin.decimals))+" "+i(o.toCoin.symbol),1)])):(t(),C(f,{key:1,indicator:o.indicator},null,8,["indicator"]))])),(t(),l("svg",{class:"icon-change","aria-hidden":"true",onClick:e[9]||(e[9]=s=>o.rateChange=!o.rateChange)},_n))])):u("",!0),n("div",In,[n("div",Bn,i(o.$t("common.priceImpact")),1),n("div",Mn,i(o.impact)+"%",1)]),n("div",Dn,[n("div",Fn,i(o.fixedFromCoin?o.$t("common.minimumReceived"):o.$t("common.maximumSold")),1),n("div",Tn,i(o.fixedFromCoin?o.fixD(Number(o.toCoinAmount)-Number(o.toCoinAmount)*Number(o.slippage)/100,o.toCoin.decimals):o.fixD(Number(o.fromCoinAmount)*Number(o.slippage)/100+Number(o.fromCoinAmount),o.fromCoin.decimals))+" "+i(o.fixedFromCoin?o.toCoin.symbol:o.fromCoin.symbol),1)]),n("div",On,[n("div",Vn,i(o.$t("common.fee")),1),n("div",Rn,i(o.fixD(o.fromCoinAmount*o.poolInfo.fee/100,4))+" "+i(o.fromCoin.symbol)+" ("+i(o.poolInfo.fee)+"%)",1)])])):u("",!0)]),A(k,{disabled:o.wallet.connected?o.swaping||!o.fromCoin||!o.toCoin||!Number(o.fromCoinAmount)||!Number(o.toCoinAmount)||Number(o.fromCoinAmount)>Number(o.fromCoinBlance)||o.swapBtnText==o.$t("button.poolNotFound")||o.swapBtnText!==o.$t("button.swap")||o.poolInfo.is_pause:!1,class:"big-btn",loading:o.swaping,onClick:e[10]||(e[10]=s=>o.wallet.connected?o.isSwapConfirmMpdal=!0:o.wallet.setIsShowWalletModal(!0))},{default:S(()=>[o.wallet.connected?(t(),l("svg",En,Ln)):u("",!0),n("span",null,i(o.wallet.connected?o.swapBtnText:o.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),A(r),o.showCoinSelect?(t(),C(d,{key:0,"existing-coins":o.existingCoins,"last-select-coin":o.lastSelectCoin,onOnSelect:o.onCoinSelect,onOnClose:e[11]||(e[11]=s=>o.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):u("",!0),o.isShowSwapSetting?(t(),C(b,{key:1,onOnClose:e[12]||(e[12]=s=>o.isShowSwapSetting=!1)})):u("",!0),o.isSwapConfirmMpdal?(t(),C(y,{key:2,"fixed-from-coin":o.fixedFromCoin,"from-coin":o.fromCoin,"to-coin":o.toCoin,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,impact:o.impact,fee:o.poolInfo.fee,onOnClose:e[13]||(e[13]=s=>o.isSwapConfirmMpdal=!1),onToSwap:o.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","onToSwap"])):u("",!0),o.chainName=="Aptos"?(t(),l("div",jn,[o.fromCoin?(t(),C(p,{key:0,coin:o.fromCoin,refresh:o.refresh},null,8,["coin","refresh"])):u("",!0),o.toCoin?(t(),C(p,{key:1,coin:o.toCoin,refresh:o.refresh},null,8,["coin","refresh"])):u("",!0)])):u("",!0)])}const Qn=N(X,[["render",Gn],["__scopeId","data-v-e1b8650d"]]);export{Qn as default};
