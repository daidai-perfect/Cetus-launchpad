import{e as $,m as y,o as l,f as i,h as e,v as S,i as v,S as A,p as B,k as J,a as Q,r as d,D as F,y as W,C as X,u as Y,F as Z,s as M,z as tt,a0 as et,M as st}from"./entry.a7bc8957.js";import"./index.8c3bc3bd.js";import{u as E}from"./stats.8504a519.js";import"./index.f680b70a.js";import{a as ot}from"./pool.ef5dfa1f.js";import{c as at}from"./index.52313906.js";import{l as lt}from"./lodash.da8f9ee5.js";import{c as N}from"./index.3daa4341.js";import{f as it}from"./formatter.3bcb5359.js";import"./install.f70afb4c.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";const b=t=>(B("data-v-d4e5050f"),t=t(),J(),t),nt={class:"pool-list-stats-info"},ct={class:"stats-info-left"},rt=b(()=>e("div",{class:"concentrate-pools"},"Concentrated Pools",-1)),ut={class:"tvl-vol"},_t={class:"tvl"},dt=b(()=>e("div",{class:"title"},"Total Value Locked",-1)),vt={key:0,class:"text"},pt={key:1,class:"text"},mt={class:"vol"},ft=b(()=>e("div",{class:"title"},"Cumulative Volume",-1)),gt={key:0,class:"text"},yt={key:1,class:"text"},ht={__name:"pool-list-stats-info",setup(t){const a=E(),p=y(()=>a),_=y(()=>(console.log("ðŸš€ ~ overallStatistics ~ overallStatistics:",p.value.overallStatistics),p.value.overallStatistics));return(m,f)=>{const n=A;return l(),i("div",nt,[e("div",ct,[rt,e("div",ut,[e("div",_t,[e("div",null,[dt,_.value.totalValueLockedDisplay?(l(),i("div",vt,"$"+S(_.value.totalValueLockedDisplay),1)):(l(),i("div",pt,[v(n,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])]),e("div",mt,[e("div",null,[ft,_.value.cumulativeVolumeDisplay?(l(),i("div",gt,"$"+S(_.value.cumulativeVolumeDisplay),1)):(l(),i("div",yt,[v(n,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])])])])])}}},St=$(ht,[["__scopeId","data-v-d4e5050f"]]),R=t=>(B("data-v-e248b6b4"),t=t(),J(),t),xt={class:"pool-list-chart-container"},kt={class:"chart-top"},$t={class:"trading-vol"},bt=R(()=>e("div",{class:"title"},"Trading Volume (24H)",-1)),Dt={key:0,class:"text"},wt={key:1,class:"text"},Vt={class:"time-list"},It=["onClick"],Ct=R(()=>e("div",{class:"chart-content"},[e("div",{id:"stats-chart",class:"stats-chart"})],-1));var T=(t=>(t.D="day",t.W="wek",t.M="mon",t))(T||{}),O=(t=>(t[t.D=40]="D",t[t.W=30]="W",t[t.M=20]="M",t))(O||{}),U=(t=>(t[t.Jan=1]="Jan",t[t.Feb=2]="Feb",t[t.Mar=3]="Mar",t[t.Apr=4]="Apr",t[t.May=5]="May",t[t.Jun=6]="Jun",t[t.Jul=7]="Jul",t[t.Aug=8]="Aug",t[t.Sep=9]="Sep",t[t.Oct=10]="Oct",t[t.Nov=11]="Nov",t[t.Dec=12]="Dec",t))(U||{}),H=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(H||{}),j=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(j||{});const Lt=Q({__name:"pool-list-chart",setup(t){const a=d("D"),p=["D","W","M"],_=ot();y(()=>_);const m=d(),f=d(),n=d(""),q=E(),G=y(()=>q),h=y(()=>G.value.overallStatistics);F(()=>[h.value],([s])=>{N(s)||(n.value=s.volInUsd24hSumV1)},{immediate:!0});const D=async()=>{try{const s=O[a.value],{data:c}=await fetch(`${at.Sui.api}/v2/sui/histogram?date_type=${T[a.value]}&typ=vol&limit=${s}`).then(o=>o.json()),g=c.list.map(o=>o.num),r=c.list.map(o=>o.date);m.value=g,f.value=r,K(g,r,s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",c)}catch(s){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",s)}},x=d(),K=(s,c,g)=>{const r=document.getElementById("stats-chart"),o=et(r);x.value=o;let V={tooltip:{trigger:"axis",position:function(u,I,C,L,z){return[u[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",formatter:function(u){let I=u[0].axisValue.slice(5,7),C=U[Number(I)];const L=u[0].axisValue.slice(8,10),z=C,P=u[0].axisValue.slice(0,4);return n.value=it(u[0].value,2),"&nbsp;&nbsp;&nbsp;"+L+"&nbsp;"+z+"&nbsp;"+P+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#76C8FF"}}},xAxis:{show:!1,type:"category",data:c},yAxis:{show:!1,max:function(u){return u.max}},series:[{data:s,type:"bar",itemStyle:{normal:{barBorderRadius:4,color:"#72C1F7"}},barWidth:k.value?H[a.value]:j[a.value]}],grid:{left:0,right:0,top:0,bottom:0}};V&&o.setOption(V),o&&o.resize(),o.on("globalout",u=>{n.value=h.value&&h.value.volInUsd24hSumV1})};F(()=>a.value,(s,c)=>{(!c||s!==c)&&D()},{immediate:!0});const k=d(!0),w=lt.debounce(()=>{document.body.clientWidth>750?k.value=!0:k.value=!1,!m.value&&!f.value?D():x.value&&x.value.resize()},300);return W(()=>{window.addEventListener("resize",w)}),X(()=>{window.removeEventListener("resize",w)}),(s,c)=>{const g=A;return l(),i("div",xt,[e("div",kt,[e("div",$t,[bt,Y(N)(h.value)?(l(),i("div",wt,[v(g,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])):(l(),i("div",Dt," $"+S(n.value===""?"--":Number(n.value)==0?0:n.value),1))]),e("div",Vt,[(l(),i(Z,null,M(p,r=>e("div",{key:r,class:tt(["time-item",r==a.value?"time-item-active":""]),onClick:o=>a.value=r},S(r),11,It)),64))])]),Ct])}}});const zt=$(Lt,[["__scopeId","data-v-e248b6b4"]]);const Ft={class:"pool-container pageHaveRadiusSkeleton"},Nt={class:"pool-container-top-bg"},At={class:"pool-container-top"},Bt={__name:"pool",setup(t){return(a,p)=>{const _=St,m=zt,f=st("router-view");return l(),i("div",Ft,[e("div",Nt,[e("div",At,[v(_),v(m)]),v(f)])])}}},Qt=$(Bt,[["__scopeId","data-v-dbed9dac"]]);export{Qt as default};
