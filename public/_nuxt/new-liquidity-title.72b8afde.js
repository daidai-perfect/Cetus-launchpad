import{b as G,c as de,u as ee,h as ae}from"./pool.73243d89.js";import{a as J,m as y,e as Q,o as m,f as S,r as k,W as K,G as T,h as a,v as C,i as q,w as E,z as F,Y as me,x as B,Z as pe,y as fe,B as ve,j as H,l as Pe,U as $e,V as Ce,q as Ie,c as z,t as Te,u as Y,S as Ne,X as we,p as ge,k as be,J as se,Q as Me,E as Oe,b as Re}from"./entry.f1d335d0.js";import{_ as Ae}from"./img-lock_2x.a28135f4.js";import"./index.206efd4d.js";/* empty css              */import{b as je,u as Be,g as A,l as _e,i as te,n as Le,A as le,T as re,y as ue,R as De,m as Ve,d as ce}from"./index.b02d129f.js";import{D as j}from"./decimal.0bdeb344.js";import{i as Z}from"./import-icon.de3e6c66.js";import{_ as ke}from"./token-warning.9bd2828a.js";/* empty css              */import{u as qe}from"./useDebounceFunction.86687629.js";/* empty css              */import{_ as Ue}from"./swap-setting.bbf29e0d.js";const Ee=J({setup(){const e=G();return{storeIndex:y(()=>e)}}}),Fe=""+new URL("lock.aebbc2c5.png",import.meta.url).href;const We={class:"create-pool-lock"},ze={key:0,src:Ae,alt:""},He={key:1,src:Fe,alt:""};function Ge(e,t,r,p,_,c){return m(),S("div",We,[e.storeIndex.theme=="default"?(m(),S("img",ze)):(m(),S("img",He))])}const an=Q(Ee,[["render",Ge],["__scopeId","data-v-fb497971"]]),Je=J({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const r=k(""),p=k("");let _=k(""),c=k("");const s=K(),b=G(),u=y(()=>b),N=y(()=>u.value.chainName?de(u.value.chainName):{}),f=()=>{var o,l,h,O;if(!(Number.isNaN(r.value)||Number(r.value)!==0&&!r.value||!e.poolInfo.tickSpacing))try{const{TickUtil:v,TickMath:w,getNearestTickByTick:L}=N.value,D=w.priceToTickIndex(new j(r.value.toString()),(o=d.value.token_a)==null?void 0:o.decimals,(l=d.value.token_b)==null?void 0:l.decimals),U=L(D,Number(d.value.tickSpacing),!0);let i;if(i=w.tickIndexToPrice(U+Number(d.value.tickSpacing),(h=d.value.token_a)==null?void 0:h.decimals,(O=d.value.token_b)==null?void 0:O.decimals),e.pType=="Min"&&Number(i.toString())>Number(c.value.toString()))return;const g=i.toString();t.emit("onInput",g)}catch{t.emit("onInput","")}},P=()=>{var o,l,h,O;try{if(Number.isNaN(r.value)||!r.value||!e.poolInfo.tickSpacing)return;const{TickUtil:v,TickMath:w,getNearestTickByTick:L}=N.value,D=w.priceToTickIndex(new j(r.value.toString()),(o=d.value.token_a)==null?void 0:o.decimals,(l=d.value.token_b)==null?void 0:l.decimals),U=L(D,Number(d.value.tickSpacing),!0);let i;i=w.tickIndexToPrice(U-Number(d.value.tickSpacing),(h=d.value.token_a)==null?void 0:h.decimals,(O=d.value.token_b)==null?void 0:O.decimals);const g=i.toString();if(e.pType=="Max"&&Number(i)<Number(_.value))return;t.emit("onInput",g)}catch{t.emit("onInput","")}},$=o=>{let l=o.toString().replace(/[^\d.]/g,"");const h=/^\d+(\.\d+)?$/;l.split(".").length>2&&!h.exec(l)&&(l=l.substr(0,l.length-1)),p.value=String(l)},I=o=>{if(o&&o!=="0"&&o!=="∞"){r.value=o;const h=o.toString().split(".")[1];p.value=o!=="0"&&o!=="∞"&&h&&h.length>6?je(o.toString(),6):o.toString()}else(o=="0"||o=="∞"||s.query.action)&&(p.value=o)},M=o=>{var L,D,U,i;const{TickUtil:l,TickMath:h,getNearestTickByTick:O}=N.value,v=o.target.value;let w;if(v==="0"){w=-443636,t.emit("onInput","0");return}else if(v!=="0"&&v){const g=h.priceToTickIndex(new j(v),(L=d.value.token_a)==null?void 0:L.decimals,(D=d.value.token_b)==null?void 0:D.decimals);w=O(Number(g),Number(d.value.tickSpacing),!0);const R=h.tickIndexToPrice(new j(w),(U=d.value.token_a)==null?void 0:U.decimals,(i=d.value.token_b)==null?void 0:i.decimals);I(R.toString()),t.emit("onInput",R.toString())}else t.emit("onInput")};T(()=>e.defaultMinPrice,(o,l)=>{o!==l&&(_.value=e.defaultMinPrice)},{immediate:!0}),T(()=>e.defaultMaxPrice,(o,l)=>{o!==l&&(c.value=e.defaultMaxPrice)},{immediate:!0}),T(()=>[e.inputValue,s.query.action],([o])=>{I(o)},{immediate:!0});const d=k({});T(()=>e.poolInfo,(o,l)=>{o&&(d.value=o)},{immediate:!0});const n=k("");return T(()=>e.currentPriceTab,o=>{n.value=o},{immediate:!0}),{addPrice:f,minusPrice:P,oValue:p,changeValue:$,isDisabled:n,route:s,onBlur:M}}});const Qe={class:"set-price-item"},Xe={class:"title"},Ye={class:"input-box"},Ze={key:0,class:"minus-btn"},Ke={key:1,class:"plus-btn"};function xe(e,t,r,p,_,c){const s=pe,b=me;return m(),S("div",Qe,[a("div",Xe,C(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),q(b,{loading:e.loading,active:"",paragraph:!1},{default:E(()=>[a("div",Ye,[e.currentPriceTab!=="full range"?(m(),S("a",Ze,[a("div",{class:F(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:t[0]||(t[0]=(...u)=>e.minusPrice&&e.minusPrice(...u))},"-",2)])):B("",!0),q(s,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=u=>e.oValue=u),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=u=>e.changeValue(u.target.value)),onBlur:t[3]||(t[3]=u=>e.onBlur(u))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(m(),S("a",Ke,[a("div",{class:F(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...u)=>e.addPrice&&e.addPrice(...u))},"+",2)])):B("",!0)])]),_:1},8,["loading"]),a("p",{class:F(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},C(e.toCoin&&e.toCoin.symbol)+" per "+C(e.fromCoin&&e.fromCoin.symbol),3)])}const he=Q(Je,[["render",xe],["__scopeId","data-v-c24339c0"]]),et=J({components:{NewLiquiditySetPrice:he},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let r=k(""),p=k(""),_=k(),c=k(!1),s=k(!1);const b=k({}),u=G(),N=y(()=>u);fe(()=>{r.value=e.min,p.value=e.max}),T(()=>e.currentPriceTab,(n,o)=>{n!==o&&(_.value=e.currentPriceTab)},{immediate:!0}),T(()=>e.min,(n,o)=>{n!==o&&(r.value=n)}),T(()=>e.max,(n,o)=>{n!==o&&(p.value=n)}),T(()=>e.poolInfo,(n,o)=>{n&&(b.value=n)},{immediate:!0});const f=k("");T(()=>e.intPrice,n=>{f.value=n},{immediate:!0,deep:!0});const P=n=>{r.value=n,t.emit("onChangeMinPrice",n)},$=n=>{p.value=n,t.emit("onChangeMaxPrice",n)};T(c,(n,o)=>{n!==o&&t.emit("onChangeFullRange",n)});const I=()=>{r.value=e.defaultMinPrice,p.value=e.defaultMaxPrice,s.value=!1,c.value=!1},M=()=>{s.value=!1,r.value="0",p.value="∞"};return T(c,(n,o)=>{n!==o&&t.emit("onChangeFullRange",n)}),{store:N,changeMinPrice:P,changeMaxPrice:$,importIcon:Z,resetPrice:I,changeShowUnderStand:()=>{c.value=!c.value,c.value?s.value=!0:I(),s.value||(r.value=e.defaultMinPrice,p.value=e.defaultMaxPrice)},showUnderStand:s,minPrice:r,maxPrice:p,understand:M,isRadio:c,initPirce:f}}});const tt={class:"set-price"},nt={class:"card-container"},ot={key:0,class:"card"},it={key:1,class:"understand"},at={class:"left"},st={class:"right"};function lt(e,t,r,p,_,c){const s=he,b=ve;return m(),S("div",tt,[a("div",nt,[e.showUnderStand?(m(),S("div",it,[a("div",at,[a("p",null,C(e.$t("common.lowerEfficiency")),1),a("p",null,C(e.$t("common.lowerEfficiencyTips")),1)]),a("div",st,[q(b,{onClick:e.understand},{default:E(()=>[H(C(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(m(),S("div",ot,[q(s,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),q(s,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const sn=Q(et,[["render",lt],["__scopeId","data-v-cd90a1d8"]]),rt=J({components:{TokenWarning:ke},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""}},setup(e,t){const{t:r,locale:p}=Pe(),_=G(),c=y(()=>_),s=y(()=>new j(Number(e.balance)).div(2)),b=$e(Ce,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function u(){this.$emit("onSelect")}const N=qe(i=>{t.emit("onInput",i),t.emit("onInputLoading",!1)},500),f=k(""),P=i=>{const g=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(v==null?void 0:v.value)&&(v==null?void 0:v.value)}})?).*$`),R=i.target.value.replace(/,/g,"").replace(g,"$1");t.emit("onInputLoading",!0),N(R)},$=i=>{var ie;const g=i.target.selectionStart,R=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(v==null?void 0:v.value)&&(v==null?void 0:v.value)}})?).*$`);console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",i.target.value);let V=i.target.value.replace(/,/g,"").replace(R,"$1");console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ value:",V);let X=V.includes(".")&&String(A(V))==="0"?V:String(A(V));const ye=ae(i.target.value),x=ae(X),oe=x.length-ye.length;let W=g+oe;if((ie=i==null?void 0:i.inputType)!=null&&ie.includes("delete")&&oe>0&&g===x[x.length-1]){const Se=i.target.value.slice(0,g-1)+i.target.value.slice(g);X=String(A(Se.replace(/,/g,""))),W=W-2}console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",X),f.value=X,setTimeout(()=>{i.target.setSelectionRange(W<0?0:W,W<0?0:W)},0)};T(()=>e.inputValue,i=>{console.log("🚀 ~ file: assets-card.vue:287 ~ setup ~ newValue:",i);const g=i.includes(".")&&String(A(i))==="0"?i:String(A(i));console.log("🚀 ~ file: assets-card.vue:287 ~ setup ~ fValue:",g),console.log("🚀 ~ file: assets-card.vue:287 ~ setup ~ addCommom(newValue):",A(i)),g!==f.value&&(f.value=g)},{immediate:!0});const I=Be(),M=y(()=>I),d=ee(),n=y(()=>d),o=y(()=>n.value.tokensWarningObj);let l=k({});T(()=>n.value.RATES,i=>{i&&(l.value=i)},{immediate:!0,deep:!0});const h=y(()=>{var i,g,R;return Le(Number(e.inputValue)*Number((l==null?void 0:l.value)&&((i=l==null?void 0:l.value)==null?void 0:i[e.address])&&((R=(g=l==null?void 0:l.value)==null?void 0:g[e.address])==null?void 0:R.price)),2)}),O=y(()=>{var i,g;return n.value.tokensObj&&e.address&&n.value.tokensObj[e.address]&&((i=n.value.tokensObj[e.address])==null?void 0:i.labels)&&((g=n.value.tokensObj[e.address])==null?void 0:g.labels[0])}),v=y(()=>{var i;return n.value.tokensObj&&e.address&&n.value.tokensObj[e.address]&&((i=n.value.tokensObj[e.address])==null?void 0:i.decimals)}),w=y(()=>{var i,g,R,V;return e.coinIcon||((g=(i=n==null?void 0:n.value)==null?void 0:i.tokensObj[e.address])==null?void 0:g.logo_url)||((V=(R=n==null?void 0:n.value)==null?void 0:R.tokensObj[e.address])==null?void 0:V.logoURI)||(c.value.theme==="default"?Z("/image/coins/unknown.png"):Z("/image/coins/sui-unknown.png"))}),L=y(()=>n.value.tokensObj),D=y(()=>c.value.theme);return{route:K(),theme:D,currentIcon:w,tokensObj:L,pool:n,halfBalance:s,coinLabels:O,t:r,addCommom:A,store:c,wallet:M,indicator:b,inputChange:P,importIcon:Z,selectCoin:u,amountPirce:h,coinDecimals:v,formatNumber:_e,tokensWarningObj:o,checkNullObj:te,handleInput:$,formattedValue:f}}});const ut=e=>(ge("data-v-2cb78902"),e=e(),be(),e),ct={class:"card"},dt={class:"top"},mt={key:1,class:"input-div"},pt={key:0},ft={class:"loading-token"},vt={key:1},gt={key:0},bt=ut(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),_t=[bt],kt={class:"bottom"},ht={key:0,class:"amount-price"},yt={key:1},St={class:"top"},Pt={class:"right"},$t={class:"balance"};function Ct(e,t,r,p,_,c){const s=pe,b=Ne,u=we,N=ke,f=me,P=ve,$=Ie("image");return m(),S("div",ct,[a("div",dt,[e.inputDisabled?(m(),S("div",mt,[e.inputValue?(m(),S("span",pt,C(e.inputValue),1)):(m(),z(b,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(m(),z(s,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:t[0]||(t[0]=I=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),a("div",{class:F(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"?"left-opcity":""].join("")]),onClick:t[1]||(t[1]=I=>e.pool.isTokenLoading?"":e.selectCoin())},[a("div",ft,[e.pool.isTokenLoading?(m(),z(u,{key:0,active:"",size:"small",paragraph:!1})):e.address?Te((m(),S("img",vt,null,512)),[[$,e.currentIcon]]):B("",!0),q(N,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),q(f,{loading:e.pool.isTokenLoading,class:"loading-token-skeleton",active:"",paragraph:!1},{default:E(()=>[a("div",null,[a("p",null,C(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(m(),S("p",gt,C(e.coinLabels),1)):B("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(m(),S("svg",{key:0,class:F(["icon",e.pool.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},_t,2)):B("",!0)],2)]),a("div",kt,[e.inputValue&&e.amountPirce!="--"?(m(),S("div",ht," $"+C(("formatNumber"in e?e.formatNumber:Y(_e))(e.amountPirce)),1)):(m(),S("div",yt)),a("div",St,[a("div",Pt,[H(C(e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),a("span",$t,C(e.wallet.connected?("addCommom"in e?e.addCommom:Y(A))(e.balance,e.coinDecimals):"0"),1),e.havemax&&e.wallet.connected?(m(),z(P,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:Y(A))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:t[2]||(t[2]=I=>e.$emit("onHalf"))},{default:E(()=>[H(C("Half"))]),_:1},8,["disabled"])):B("",!0),e.havemax&&e.wallet.connected?(m(),z(P,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:Y(A))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:t[3]||(t[3]=I=>e.$emit("onMax"))},{default:E(()=>[H(C(e.$t("button.max")),1)]),_:1},8,["disabled"])):B("",!0)])])])])}const ln=Q(rt,[["render",Ct],["__scopeId","data-v-2cb78902"]]),It=J({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const t=ee(),r=y(()=>t),p=G(),_=y(()=>p),c=K(),s=y(()=>{let f=null;if(c.name=="liquidity-create")f=e.createPoolInfo;else for(const P in r.value.poolsObj){const $=r.value.poolsObj[P];$.address==c.query.poolAddress&&(f=$)}return f});y(()=>_.value.chainName?de(_.value.chainName):{}),y(()=>_.value.slippage);const b=k(),u=k(),N=()=>{let f,P,$,I,M,d,n;s.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?M=!0:M=!1;const o=s.value.token_a.decimals,l=s.value.token_b.decimals;let h=r.value.poolPriceConfigObj&&r.value.poolPriceConfigObj[s.value.address]&&r.value.poolPriceConfigObj[s.value.address].recommend_ranges||{};if(e.minPrice==="0"&&e.maxPrice==="∞")f=le.getMinIndex(s.value.tickSpacing),P=le.getMaxIndex(s.value.tickSpacing);else if(e.currentPriceTab=="custom"){M?($=e.minPrice,I=e.maxPrice):($=e.maxPrice!=="∞"?new j(1).div(e.maxPrice).toString():1/0,I=new j(1).div(e.minPrice).toString());try{d=re.priceToTickIndex(new j($),o,l)}catch{d=-443636}try{n=re.priceToTickIndex(new j(I),o,l)}catch{n=443636}$==0&&(d=-443636),f=ue(d,Number(s.value.tickSpacing)),P=ue(n,Number(s.value.tickSpacing))}else f=h&&h[e.currentPriceTab]&&h[e.currentPriceTab].lower,P=h&&h[e.currentPriceTab]&&h[e.currentPriceTab].upper;const O=De.calculateDepositRatio(f,P,new Ve(s.value.current_sqrt_price));console.log("🚀🚀🚀 ~ file: useDepositRatio.ts:6 ~ getDepositRatio ~ ratios:",O);const v=O.ratioA.mul(100).toDP(0,j.ROUND_HALF_UP);b.value=s.value.needReverse?ce(100).sub(v).toString():v.toString(),u.value=s.value.needReverse?v.toString():ce(100).sub(v).toString()};return T(()=>[s.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([f,P,$,I,M])=>{P&&$&&f&&!te(f)&&(P!=="0"||$!=="0")?N():(b.value="",u.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:b,toCoinRatio:u}}});const Tt={class:"deposit-ratio"},Nt={class:"deposit-ratio-text"},wt=a("span",null,"Deposit Ratio",-1),Mt=a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-tips1"})],-1),Ot={class:"deposit-ratio-content"},Rt={class:"coin-ratio"},At={class:"coin-a-ratio"},jt={class:"coin-b-ratio"},Bt={class:"ratio-progress"};function Lt(e,t,r,p,_,c){var b,u;const s=Me;return m(),S("div",Tt,[a("div",Nt,[wt,q(s,{placement:"bottom","arrow-point-at-center":""},{title:E(()=>[a("span",null,C(e.$t("newAdd.depositRatioTips")),1)]),default:E(()=>[Mt]),_:1})]),a("div",Ot,[a("div",Rt,[a("div",At,[a("span",null,C((b=e.fromCoin)==null?void 0:b.symbol),1),H(" "+C(e.fromCoinRatio)+"% ",1)]),a("div",jt,[a("span",null,C((u=e.toCoin)==null?void 0:u.symbol),1),H(" "+C(e.toCoinRatio)+"% ",1)])]),a("div",Bt,[a("div",{class:"from-percent",style:se({width:e.fromCoinRatio+"%"})},null,4),a("div",{class:"to-percent",style:se({width:e.toCoinRatio+"%"})},null,4)])])])}const rn=Q(It,[["render",Lt]]),Dt=J({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const r=k(!1),p=k(null),_=k(0);let c=k(!1);const s=k(20),b=ee(),u=G(),N=k(!1);fe(()=>{}),Oe(()=>{clearInterval(p.value)});const f=()=>{c.value=!1,p.value=setInterval(()=>{var n;N.value||_.value<s.value&&(_.value+=1,_.value===s.value&&(c.value=!0,(n=e==null?void 0:e.poolInfo)!=null&&n.poolAddress&&b.updateCurrentPools(e.poolInfo.poolAddress,u.chainName),_.value=0,setTimeout(()=>{c.value=!1},1e3)))},1e3)},P=y(()=>u.slippage),$=()=>{t.emit("clearAll")},I=()=>{c.value||(c.value=!0,_.value=0,t.emit("clickRefresh"),setTimeout(()=>{c.value=!1,f()},1e3))};T(()=>e.poolInfo,n=>{n&&!p.value&&f()},{immediate:!0});const M=Re(),d=K();return{refresh:c,clickRefresh:I,isShowSwapSetting:r,countdown:_,autoRefreshTime:s,slippage:P,clearAll:$,checkNullObj:te,router:M,route:d}}});const ne=e=>(ge("data-v-906fb979"),e=e(),be(),e),Vt={class:"title"},qt=ne(()=>a("div",{class:"left"},[a("span",null,"Deposit Amounts")],-1)),Ut=ne(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Et={key:0,class:"deposit-progress"},Ft=ne(()=>a("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Wt=[Ft];function zt(e,t,r,p,_,c){const s=Ue;return m(),S("div",Vt,[qt,a("div",{class:F(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[a("div",{class:"slippage-icon",onClick:t[0]||(t[0]=b=>e.isShowSwapSetting=!0)},[Ut,a("span",null,C(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(m(),S("div",Et,[(m(),S("svg",{"aria-hidden":"true",class:F(e.refresh?"refresh-icon refresh":"refresh-icon"),onClick:t[1]||(t[1]=(...b)=>e.clickRefresh&&e.clickRefresh(...b))},Wt,2))])):B("",!0)],2),e.isShowSwapSetting?(m(),z(s,{key:0,onOnClose:t[2]||(t[2]=b=>e.isShowSwapSetting=!1)})):B("",!0)])}const un=Q(Dt,[["render",zt],["__scopeId","data-v-906fb979"]]);export{un as _,rn as a,an as b,ln as c,sn as d};
