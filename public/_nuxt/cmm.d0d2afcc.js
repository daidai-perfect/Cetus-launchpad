import{a as S,C as h,x as A,w as T,J as x,l as L,O as w,g1 as g,g2 as N,b as D,o as U,e as q,f as v,q as s,s as n,B,v as i}from"./entry.b2a8e1c0.js";const F=S({setup(){const o=h(),a=A(),f=()=>{const e={coinTypeA:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coina::USDT",coinTypeB:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coinb::APT",poolType:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8::pool::Pool<0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coina::USDT,0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coinb::APT>",poolAddress:"0xa24877930240eaa62e6349fb8a68a6d9e818d4e3239f5c68889603dc1e034d39",collectionName:"Cetus CLMM Position/USDT-APT-10",tickSpacing:"10",positionIndex:"9",uri:"https://uswb6tcbq7bcuah4n5o3b4dyb77pizckgoowufytg5bwpjm2sv6a.arweave.net/pKwfTEGHwioA_G9dsPB4D_70ZEoznWoXEzdDZ6WalXw",coinAmountA:"89198",coinAmountB:"111065",current_sqrt_price:"18456853422185132018",current_tick_index:"10",fee_growth_global_a:"0",fee_growth_global_b:"0",fee_protocol_coin_a:"0",fee_protocol_coin_b:"11",fee_rate:"1000",liquidity:"20063259",tick_indexes_handle:"0x8bf0807ce135400d8efca2ea54577ff2439b9a25538b8c1a14b7c7db79c072e1",ticks_handle:"0x6f9dd06c94763751e333448930329b1d645a66fba8857260aca575a846987067"},t={name:"CLMM/USDT-APT-10-2",pool:"0xa24877930240eaa62e6349fb8a68a6d9e818d4e3239f5c68889603dc1e034d39",liquidity:"171",tick_lower_index:"0",tick_upper_index:"1200",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0"},d=e,l=t,u=new w(d.current_sqrt_price),_=Number(l.tick_lower_index),P=Number(l.tick_upper_index),m=new w(100),k=!0,C=.1,y=a.estLiquidityAndcoinAmountFromOneAmounts({tokenA:g[0],tokenB:g[1],lowerTick:_,upperTick:P,coinAmount:m,iscoinA:k,roundUp:!0,slippage:C,curSqrtPrice:u});console.log("1122###testPreAddLiquidity###test####",y)},b=async()=>{o.getMyPositons("0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",o.pools);const e=await a.getPositionInfo("0xc788f781c7c1d84c23dfd9b17699725b3f7f3da048845ae5b489dd6d73b35c66","Cetus Position | USDT-USDC_tick(5)","Cetus LP | Pool4-24");console.log("1129###position info###test###",e)};T(()=>o.myPositions,e=>{console.log("1129###myPosition###newValue####",e)});const p=x(),r=L(()=>p);return{testPreAddLiquidity:f,testGetMyPosition:b,testSwap:async()=>{const e={...N[0],poolAddress:"0xc788f781c7c1d84c23dfd9b17699725b3f7f3da048845ae5b489dd6d73b35c66",poolType:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::pool::Pool<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"},t=await a.preSwap({pool:e,a2b:!0,byAmountIn:!0,amount:"1"});console.log("1128###swap###preSwapRes####",t),console.log("1128###swap##params###",{pool:e,a2b:!0,byAmountIn:!0,amount:"0.0001",slippage:.01});const d=await a.getSwapTransactionPayload({pool:e,a2b:!0,byAmountIn:!0,amount:"0.0001",slippage:.01});let l;try{l=await r.value.currentWallet.signAndSubmitTransaction(d)}catch(u){console.log("1128###add##error###",u)}if(l&&l.hash){const u={title:"success",desc:"",hash:l.hash,sender:r.value.address,chainName:"Aptos"};await a.watchTransaction(u)&&alert("swap\u6210\u529F")}console.log("1128###swapPayload###",d)},testAddLiquidity:async()=>{const e=await a.getAddLiquidityTransactionPayload({pool:{poolAddress:"0xc788f781c7c1d84c23dfd9b17699725b3f7f3da048845ae5b489dd6d73b35c66",token_a:{address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT",decimals:6},token_b:{address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC",decimals:6}},amount:"0.0001",fix_amount_a:!0,tick_lower:32185,tick_upper:32195,index:0,slippage:.05,roundUp:!0});let t;try{t=await r.value.currentWallet.signAndSubmitTransaction(e)}catch(d){console.log("1128###add##error###",d)}if(t&&t.hash){const d={title:"success",desc:"",hash:t.hash,sender:r.value.address,chainName:"Aptos"};await a.watchTransaction(d)&&alert("\u6DFB\u52A0\u6210\u529F")}console.log(t,"tx===>")},testGetPoolList:async()=>{const e=await a.getPools();console.log("1130####poolList###",e);const t=await a.getPool("0xcbbbd6dada56fd265d80bc51c70ad3d925613204179bedda3f3557724f251623");console.log("1130###poolInfo####",t)},testGetCollectFeesQuote:async()=>{const e={poolAddress:"0xcbbbd6dada56fd265d80bc51c70ad3d925613204179bedda3f3557724f251623",token_b:{address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT",decimals:6},token_a:{address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC",decimals:6}},t=await a.getPositionInfo("cbbbd6dada56fd265d80bc51c70ad3d925613204179bedda3f3557724f251623","Cetus Position | USDC-USDT_tick(10)","Cetus LP | Pool1-13"),d=await a.getCollectFeesQuote({pool:e,position:t});console.log("testGetCollectFeesQuote###result###",d)},getNft:async()=>{console.log("wallet.value.currentWallet####",r.value.currentWallet),console.log("wallet.value.currentWallet.account####",r.value.currentWallet.account);try{const e=await window.martian.getAccountResources();console.log("getNft###test###",e)}catch(e){console.log("err###",e)}},getNftHash:()=>{const e={creator:"0xb023816f70d5f37e5910f9037e20d076400b4c706800d2c145566fa41d9b4b1a",collection:"Cetus Position | USDT-USDC_tick(2)",name:"Cetus LP | Pool1-5"},t=a.getNftHash(e);console.log("1214###getNftHash####",t)},testPosRewarder:async()=>{console.log("1222###poolStore####",o.addressLpTokens);const e=o.addressLpTokens["0x4e9878bfcbde1be91e605dc85ae4b8340a6359846fd9f73580d1ad3abea98fb0"];console.log("1222###pool####",e);const t=await a.getPosRewardersAmount({pool:e,positionName:"Cetus LP | Pool2-17"});console.log("1222###testPosRewarder####test###",t)}}}});function G(o,a,f,b,p,r){const c=B;return U(),q("div",null,[v("div",null,[s(c,{onClick:o.testPreAddLiquidity},{default:n(()=>[i("test pre add liquidity")]),_:1},8,["onClick"]),s(c,{onClick:o.testGetMyPosition},{default:n(()=>[i("get my position")]),_:1},8,["onClick"]),s(c,{onClick:o.testSwap},{default:n(()=>[i("test swap")]),_:1},8,["onClick"]),s(c,{onClick:o.testAddLiquidity},{default:n(()=>[i("test add")]),_:1},8,["onClick"]),s(c,{onClick:o.testGetPoolList},{default:n(()=>[i("get pool list")]),_:1},8,["onClick"]),s(c,{onClick:o.testGetCollectFeesQuote},{default:n(()=>[i("get collect fee quote")]),_:1},8,["onClick"]),s(c,{onClick:o.getNft},{default:n(()=>[i("get NFT")]),_:1},8,["onClick"]),s(c,{onClick:o.getNftHash},{default:n(()=>[i("get NFT hash")]),_:1},8,["onClick"]),s(c,{onClick:o.testPosRewarder},{default:n(()=>[i("test pos rewarder")]),_:1},8,["onClick"])])])}const Q=D(F,[["render",G]]);export{Q as default};
