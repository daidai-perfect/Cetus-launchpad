import{s as Me,q as G,d as W,c as Z,a as Y,o as x,p as he,h as E,b as Ve,v as ie,w as le,x as ze}from"./common.2e5eaeac.js";import{a as ce,r as w,m as $,q as ye,A as ee,s as Oe,v as Fe,a5 as Ye,e as ue,o as r,f as d,h as o,F as K,E as Q,u as y,c as Pe,x as m,i as L,G as j,O as ke,y as P,p as de,k as me,S as Je,l as X,N as _e,L as We,V as He,j as ge,I as ne,M as ae}from"./entry.c44b21e1.js";/* empty css              */import{u as pe,a as we,b as Ge}from"./index.c5a5bd81.js";import{c as $e,u as Ke}from"./index.556eb1a4.js";import{i as be}from"./import-icon.de3e6c66.js";import"./index.4c764fc8.js";import"./index.76ed5c77.js";import{l as Qe}from"./lodash.d890437b.js";import{f as Xe}from"./formatter.df53c259.js";import{A as Ze}from"./address-copy-link.599b3d81.js";import{C as xe}from"./coin-img-warning.535e3e69.js";import{I as eo}from"./icon-refresh.492528a0.js";import{g as oo}from"./common-fun.912cdca0.js";import{C as to}from"./coin-img.71f49c95.js";import{_ as so}from"./img-no-Positions_2x.9588086b.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./install.2919e72e.js";import"./token.1f9d0593.js";import"./precision.c92e897d.js";var re=(e=>(e.D="day",e.W="wek",e.M="mon",e))(re||{}),Ie=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(Ie||{}),H=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(H||{}),Ce=(e=>(e[e.D=6]="D",e[e.W=8]="W",e[e.M=12]="M",e))(Ce||{}),De=(e=>(e[e.D=4]="D",e[e.W=8]="W",e[e.M=12]="M",e))(De||{});const no=ce({props:{address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const A=["D","W","M"],f=w("vol"),F=[{label:"Volume",value:"vol"},{label:"TVL",value:"tvl"},{label:"Fees",value:"fee"}],c=w(""),h=w("D"),T=w("--"),I=pe(),u=w(),C=w(),s=w(!0),N=$(()=>I),S=i=>{switch(i){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},a=$(()=>$e[N.value.chainName]),l=w(!1);ye(async()=>{window.addEventListener("resize",B),R(),await Me(1e3),l.value=!0}),ee(()=>[e.poolInfo,f.value],([i,t])=>{if(!Z(i)){console.log("ðŸš€ ~ watch ~ poolInfo:",i);let n;t=="vol"?n=i.vol:t=="tvl"?n=i.liqidity:n=i.fee_24_h,T.value=n=="--"||!n||Number(n)==0?"$0":Number(n)!==0&&Number(n)<.01?"<$0.01":"$"+Y(n,2)}},{immediate:!0});const v=async()=>{const i=f.value=="tvl"?"pure_tvl":f.value;s.value=!0;try{const t=Ie[h.value],{data:n}=e.address!==""?await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${i}&limit=${t}&address=${e.poolInfo.address}`).then(b=>b.json()):await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${i}&limit=${t}`).then(b=>b.json());console.log("ðŸš€ ~ getHistogram ~ data:",n);const _=n.list.map(b=>b.num),g=n.list.map(b=>b.date);u.value=_,C.value=g,D(_,g,t),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(t){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",t)}},p=w(),D=(i,t,n)=>{const _=document.getElementById("echartsBox"),g=Fe(_);p.value=g;let b={animation:!1,tooltip:{trigger:"axis",position:function(q,k,z,J,oe){return[q[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",formatter:function(q){V(q)},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#456D89"}}},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:t.reverse(),inverse:!0,axisLabel:{interval:parseInt(Number(i.length)/15),formatter:(q,k)=>{const z=G(Date.parse(q)-288e5,"YMD")||"";let J,oe=z.slice(5,7),se=H[Number(oe)];return h.value=="M"?J=se:J=z.slice(8,10),`${J}`}}},yAxis:{show:!1,max:function(q){return Math.ceil(q.max)}},series:[{data:i.reverse(),inverse:!0,type:f.value=="tvl"?"line":"bar",symbol:"none",itemStyle:{normal:{barBorderRadius:[6,6,0,0],color:"#72C1F7"}},areaStyle:{color:new Ye(0,0,0,1,[{offset:0,color:"rgba(0, 128, 255, 0.3)"},{offset:1,color:"rgba(0, 128, 255, 0)"}])},barWidth:M.value?Ce[h.value]:De[h.value]}],grid:{left:5,top:5,bottom:20,right:5}};s.value=!1,b&&g.setOption(b),g&&g.resize(),g.on("globalout",q=>{let k;f.value=="vol"?k=Number(e.poolInfo.vol):f.value=="tvl"?k=Number(e.poolInfo.liqidity):k=Number(e.poolInfo.fee_24_h),T.value=k=="--"||!k||Number(k)==0?"$0":Number(k)!==0&&Number(k)<.01?"<$0.01":"$"+Y(k,2),R()})};ee(()=>[h.value,f.value],([i,t])=>{(i||t)&&v()},{immediate:!0});const M=w(!0),B=Qe.debounce(()=>{document.body.clientWidth>750?M.value=!0:M.value=!1,!u.value&&!C.value?v():p.value&&p.value.resize()},300);Oe(()=>{window.removeEventListener("resize",B)});const R=()=>{const i=G(Date.parse(new Date().toUTCString()),"YMD")||"";let t=i.slice(5,7),n=H[Number(t)];const _=i.slice(8,10),g=n,b=i.slice(0,4);c.value=g+"&nbsp;"+_+",&nbsp;"+b+"&nbsp;(UTC)"},V=i=>{T.value=Xe(i[0].value,2);const t=Date.parse(i[0].axisValue),n=new Date(t);n.setDate(n.getDate()+7);const _=new Date(t);_.setDate(_.getDate()+31);const g=n.toUTCString(),b=_.toUTCString(),q=G(Date.parse(b),"YMD")||"",k=G(Date.parse(new Date().toUTCString()),"YMD")||"",z=Date.parse(g)>Date.parse(new Date().toUTCString())?G(Date.parse(new Date().toUTCString()),"YMD")||"":G(Date.parse(g),"YMD")||"";let J=k.slice(5,7),oe=H[Number(J)];const se=k.slice(8,10),Se=oe,Ae=k.slice(0,4);let ve=i[0].axisValue.slice(5,7),Te=H[Number(ve)];const fe=i[0].axisValue.slice(8,10),te=Te,Ne=i[0].axisValue.slice(0,4);let Le=z.slice(5,7),Ue=H[Number(Le)];const Re=z.slice(8,10),qe=Ue,Be=z.slice(0,4),Ee=H[Number(ve)+1],je=q.slice(0,4);h.value=="D"?c.value=te+"&nbsp;"+fe+",&nbsp;"+Ne+"&nbsp;(UTC)":h.value=="W"?c.value=fe+"&nbsp;"+te+"-"+Re+"&nbsp;"+qe+"&nbsp;,&nbsp;"+Be+"&nbsp;(UTC)":c.value=Date.parse(b)>=Date.parse(new Date().toUTCString())?te+"&nbsp;01-"+Se+"&nbsp;"+se+",&nbsp;"+Ae+"&nbsp;(UTC)":te+"&nbsp;01-"+Ee+"&nbsp;01,&nbsp;"+je+"&nbsp;(UTC)"};return{mode:f,showTime:c,showValue:T,modeList:F,timeList:A,isChartLoading:s,getModeLabel:S,decimalUi:W,checkNullObj:Z,store:N,currentTimeTab:h}}});const ao=e=>(de("data-v-b4470798"),e=e(),me(),e),io={class:"sui-chart-container"},lo={class:"chart-tab"},ro={class:"mode-list"},co=["onClick"],uo={class:"time-list"},mo=["onClick"],po={class:"echarts-content"},vo={class:"echarts-content-top"},fo={key:1},ho=["innerHTML"],_o={key:0,class:"echarts-content-bottom echarts-content-bottom-isChartLoading"},go=ao(()=>o("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function bo(e,A,f,F,c,h){const T=Je,I=ke;return r(),d("div",io,[o("div",lo,[o("div",ro,[(r(!0),d(K,null,Q(e.modeList,u=>(r(),d("div",{key:u,class:P(["title",e.mode==u.value?"title-active":""]),onClick:C=>e.mode=u.value},m(u.label),11,co))),128))]),o("div",uo,[(r(!0),d(K,null,Q(e.timeList,u=>(r(),d("div",{key:u,class:P(["time-item",u==e.currentTimeTab?"time-item-active":""]),onClick:C=>e.currentTimeTab=u},m(u),11,mo))),128))])]),o("div",po,[o("div",vo,[("checkNullObj"in e?e.checkNullObj:y(Z))(e.poolInfo||{})?(r(),Pe(T,{key:0,class:"upgrade-text-skeleton","is-chart-loading":!0,active:"",paragraph:!1})):(r(),d("p",fo,m(e.showValue),1)),o("span",{innerHTML:e.showTime},null,8,ho)]),e.isChartLoading?(r(),d("div",_o,[L(I)])):j("",!0),go])])}const yo=ue(no,[["render",bo],["__scopeId","data-v-b4470798"]]),ko=ce({components:{CoinImgWarning:xe,AddressCopyLink:Ze,IconRefresh:eo},props:{address:{type:String,required:!1,default:""},refresh:{type:Boolean,required:!0,default:!1},poolInfo:{type:Object,required:!1,default:()=>({})},poolMoreInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const A=pe(),f=$(()=>A),F=$(()=>f.value.currentExplorer),c=we(),h=$(()=>c),T=$(()=>{var l,v,p,D;let a;return f.value.chainName=="Sui"?a=e.poolInfo&&e.poolInfo.object&&((l=e.poolInfo)==null?void 0:l.object.coin_a):a=e.poolMoreInfo&&((v=e.poolMoreInfo)==null?void 0:v.coinAmountA),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinA)&&((D=e.poolInfo)==null?void 0:D.coinA.decimals))}),I=$(()=>{var l,v,p,D;let a;return a=e.poolInfo&&((l=e.poolInfo)==null?void 0:l.object)&&((v=e.poolInfo)==null?void 0:v.object.coin_b),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinB)&&((D=e.poolInfo)==null?void 0:D.coinB.decimals))}),u=$(()=>{var a,l;if(h.value.RATES){const v=E(T.value),p=E(((l=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinA)&&e.poolInfo.coinA.address])==null?void 0:l.price)||0);return v.mul(p).toString()}else return"--"}),C=$(()=>{var a,l,v;if(h.value.RATES){const p=E(I.value),D=E(((v=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinB)&&((l=e.poolInfo)==null?void 0:l.coinB.address)])==null?void 0:v.price)||0);return p.mul(D).toString()}else return"--"}),s=w(),N=w(),S=(a,l)=>{var V,i;console.log(a,l,"###usdA usdB");const v=[];let p=E(0);const D=E(a).plus(E(l));[{amount:a,name:"usdA"},{amount:l,name:"usdB"}].forEach(t=>{const n=t.amount,_=E(n).gt(0)?E(n).div(D).mul(100).toString():0,g=Ve(_,2);p=p.plus(g);const b=g.split(".");v.push({value:g,decimal:b[1],name:t.name})});let B=E(100).minus(p).toNumber();const R=v.sort((t,n)=>Number(n.decimal)-Number(t.decimal));if(B&&p.gt(0))for(let t=0;t<R.length&&B;t++)R[t].value=E(R[t].value).plus(.01).toString(),B=E(B).minus(.01).toNumber();s.value=(V=R.find(t=>t.name=="usdA"))==null?void 0:V.value,N.value=(i=R.find(t=>t.name=="usdB"))==null?void 0:i.value};return ee(()=>[u.value,C.value],([a,l])=>{a&&l&&S(a,l)},{immediate:!0}),{amountAUSD:u,amountBUSD:C,amountA:T,amountB:I,tokena_ratio:s,tokenb_ratio:N,store:f,currentExplorer:F,getExplorerUrl:x}}});const O=e=>(de("data-v-2c98a68d"),e=e(),me(),e),wo={class:"composition-info-box"},$o={class:"info-box"},Io={class:"info-tit"},Co=O(()=>o("span",null,"Pool Info",-1)),Do={class:"info-detail"},So={class:"item"},Ao=O(()=>o("p",null,"Pool Address",-1)),To={class:"item"},No=O(()=>o("p",null,"Pool ID",-1)),Lo={class:"item"},Uo=O(()=>o("p",null,"Tick Spacing",-1)),Ro={class:"item"},qo=O(()=>o("p",null,"Fee Tier",-1)),Bo={key:0},Eo={key:1},jo={class:"composition-box"},Mo=O(()=>o("div",{class:"info-tit"},[o("span",null,"Pool Composition")],-1)),Vo={class:"coin-a-ratio"},zo={class:"name-ratio"},Oo={class:"coin-b-ratio"},Fo={class:"name-ratio"},Yo={class:"item"},Po={class:"row"},Jo={class:"left"},Wo={class:"right"},Ho={class:"row"},Go=O(()=>o("div",{class:"left"},"Amount",-1)),Ko={class:"right"},Qo={class:"row"},Xo=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),Zo={class:"right"},xo={class:"item"},et={class:"row"},ot={class:"left"},tt={class:"right"},st={class:"row"},nt=O(()=>o("div",{class:"left"},"Amount",-1)),at={class:"right"},it={class:"row"},lt=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),rt={class:"right"};function ct(e,A,f,F,c,h){var C,s,N,S,a,l,v,p,D,M,B,R,V,i,t,n,_,g,b,q,k,z;const T=X("IconRefresh"),I=X("AddressCopyLink"),u=X("CoinImgWarning");return r(),d("div",wo,[o("div",$o,[o("div",Io,[Co,L(T,{refresh:e.refresh,onClickRefresh:A[0]||(A[0]=J=>e.$emit("clickRefresh"))},null,8,["refresh"])]),o("div",Do,[o("div",So,[Ao,L(I,{address:(C=e.poolInfo)==null?void 0:C.address,"current-explorer-type":"poolAddress"},null,8,["address"])]),o("div",To,[No,o("span",null,"#"+m(e.poolInfo&&e.poolInfo.object&&((s=e.poolInfo)==null?void 0:s.object.index)),1)]),o("div",Lo,[Uo,o("span",null,m(e.poolInfo&&((N=e.poolInfo)==null?void 0:N.tick_spacing)),1)]),o("div",Ro,[qo,("checkNullObj"in e?e.checkNullObj:y(Z))(e.poolInfo||{})?(r(),d("span",Bo,"--%")):(r(),d("span",Eo,m(e.poolInfo&&((S=e.poolInfo)==null?void 0:S.fee)*100)+"%",1))])])]),o("div",jo,[Mo,o("div",{class:P(["liquidity-ratio",(a=e.poolInfo)!=null&&a.needReverse?"liquidity-ratio-reserve":""])},[o("div",Vo,[L(u,{"token-info":(l=e.poolInfo)==null?void 0:l.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("div",zo,[o("span",null,m((p=(v=e.poolInfo)==null?void 0:v.coinA)==null?void 0:p.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:y(W))(e.tokena_ratio,2))+"%",1)])]),o("div",{class:P(["ratio-progress",Number(e.tokena_ratio)==0&&Number(e.tokenb_ratio)==0?"null-progress":""])},[o("div",{class:"from-percent",style:_e({width:e.tokena_ratio+"%"})},null,4),o("div",{class:"to-percent",style:_e({width:e.tokenb_ratio+"%"})},null,4)],2),o("div",Oo,[L(u,{"token-info":(D=e.poolInfo)==null?void 0:D.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("div",Fo,[o("span",null,m((B=(M=e.poolInfo)==null?void 0:M.coinB)==null?void 0:B.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:y(W))(e.tokenb_ratio,2))+"%",1)])])],2),o("div",{class:P(["bottom",(R=e.poolInfo)!=null&&R.needReverse?"bottom-reserve":""])},[o("div",Yo,[o("div",Po,[o("div",Jo,[L(u,{"token-info":(V=e.poolInfo)==null?void 0:V.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinA&&e.poolInfo.coinA.symbol),1)]),o("div",Wo,[L(I,{address:(t=(i=e.poolInfo)==null?void 0:i.coinA)==null?void 0:t.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",Ho,[Go,o("div",Ko,m(("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountA,(_=(n=e.poolInfo)==null?void 0:n.coinA)==null?void 0:_.decimals))),1)]),o("div",Qo,[Xo,o("div",Zo,m(Number(e.amountAUSD)>0&&Number(e.amountAUSD)<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountAUSD,2))),1)])]),o("div",xo,[o("div",et,[o("div",ot,[L(u,{"token-info":(g=e.poolInfo)==null?void 0:g.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinB&&e.poolInfo.coinB.symbol),1)]),o("div",tt,[L(I,{address:(q=(b=e.poolInfo)==null?void 0:b.coinB)==null?void 0:q.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",st,[nt,o("div",at,m(("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountA,(z=(k=e.poolInfo)==null?void 0:k.coinB)==null?void 0:z.decimals))),1)]),o("div",it,[lt,o("div",rt,m(Number(e.amountBUSD)>0&&Number(e.amountBUSD)<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountBUSD,2))),1)])])],2)])])}const ut=ue(ko,[["render",ct],["__scopeId","data-v-2c98a68d"]]),dt=ce({components:{AnalyticsChart:yo,CompositionInfo:ut,CoinImg:to},setup(){const e=w(!0),A=w(!1),f=w([]),F=pe(),c=$(()=>F),h=Ke();$(()=>h);const T=we(),I=$(()=>T),u=We();$(()=>$e[c.value.chainName]);const C=$(()=>c.value.chainName),s=w(0),N=()=>{A.value=!0,s.value=s.value+1,c.value.getTransactionList(C.value,u.query.poolAddress,s.value)},S=w(!1),a=()=>{S.value=!0,e.value=!0,f.value=[],I.value.setPoolConfigList(c.value.chainName,c.value.filterCoinsObj),c.value.getTransactionList(C.value,u.query.poolAddress,0),F.getStatsData(c.value.chainName,c.value.filterCoinsObj),setTimeout(()=>{S.value=!1},1e3)},l=$(()=>{const t=u.query.poolAddress;return I.value.poolConfigObj[t]}),v=w({}),p=$(()=>oo(l.value,I,c));ee(()=>u,t=>{e.value=!0,f.value=[],c.value.getTransactionList(C.value,u.query.poolAddress,0)},{immediate:!0,deep:!0});const D=Ge(c.value.chainName),M=$(()=>c.value.isShowLoadMore);ee(()=>[c.value.liquiditytransactionList,l.value,M.value],async([t,n,_])=>{n&&(c.value.chainName&&c.value.chainName.includes("Aptos")&&(v.value=await D.getPool(n==null?void 0:n.address)),t?(f.value=t,e.value=!1,A.value=!1):_==!1&&(f.value=[],e.value=!1,A.value=!1))},{immediate:!0,deep:!0}),ye(()=>{e.value=!0}),He(()=>{c.value.setClearLiquiditytransactionList()});const B=t=>{var _;let n;return(t==null?void 0:t.address)=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?n="0x2::sui::SUI":n=t==null?void 0:t.address,(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((_=I.value.tokensObj[n])==null?void 0:_.logo_url)||(t==null?void 0:t.url)||(c.value.theme==="default"?be("/image/coins/unknown.png"):be("/image/coins/sui-unknown.png"))},R=t=>{switch(t){case"add_liquidity_event":return"Add liquidity";case"swap_event":return"Swap";case"remove_liquidity_event":return"Remove liquidity";case"collect_reward_event":return"Claim Rewards";case"collect_fee_event":return"Claim Fees"}},V=$(()=>c.value.currentExplorer);return{clickRow:t=>{const n=x(V.value,"tx",t.tx);window.open(n,"_blank")},isShowLoadMore:M,formatNumberDecimal:ie,getTimeDifferenceString:le,isTracitionLoading:A,poolStatsInfo:p,chainName:C,loadMore:N,poolMoreInfo:v,addCommom:Y,route:u,poolInfo:l,getType:R,getCoinIcon:B,transactionList:f,refresh:S,clickRefresh:a,checkNullObj:Z,store:c,isLoading:e,getSuicanExplorerUrl:ze,getExplorerUrl:x,currentExplorer:V}}});const U=e=>(de("data-v-e4a51902"),e=e(),me(),e),mt={class:"analytics-container"},pt={class:"poolInfo"},vt={class:"transactions"},ft=U(()=>o("div",{class:"page-tit"},"Transactions",-1)),ht={class:"table-info table-transactions"},_t=U(()=>o("thead",{class:"table-header"},[o("tr",{class:"table-tr"},[o("th",null,"Event"),o("th",null,"Amounts"),o("th",null,"Transactions"),o("th",null,"Time")])],-1)),gt={key:0,class:"table-body"},bt=["onClick"],yt={key:0,class:"icon swap-icon","aria-hidden":"true"},kt=U(()=>o("use",{"xlink:href":"#icon-icon_swap3"},null,-1)),wt=[kt],$t={key:1,class:"icon add-icon","aria-hidden":"true"},It=U(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),Ct=[It],Dt={key:2,class:"icon remove-icon","aria-hidden":"true"},St=U(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),At=[St],Tt={key:0,class:"jiantou"},Nt=["href"],Lt={key:1,class:"noData"},Ut=U(()=>o("img",{src:so},null,-1)),Rt={class:"h5-table-info h5-transactions-table-info"},qt={class:"row"},Bt=U(()=>o("div",{class:"left"},"Event",-1)),Et={class:"right"},jt={key:0,class:"icon swap-icon","aria-hidden":"true"},Mt=U(()=>o("use",{"xlink:href":"#icon-icon_swap3"},null,-1)),Vt=[Mt],zt={key:1,class:"icon add-icon","aria-hidden":"true"},Ot=U(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),Ft=[Ot],Yt={key:2,class:"icon remove-icon","aria-hidden":"true"},Pt=U(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),Jt=[Pt],Wt={class:"row"},Ht=U(()=>o("div",{class:"left"},"Amounts",-1)),Gt={class:"right"},Kt={class:"row"},Qt=U(()=>o("div",{class:"left"},"Transactions",-1)),Xt={class:"right"},Zt=["href"],xt={class:"row"},es=U(()=>o("div",{class:"left"},"Time (UTC)",-1)),os={class:"right"},ts={key:0,class:"loading-transaction"},ss=U(()=>o("span",null,"Loading more...",-1)),ns={key:1,class:"load-more"};function as(e,A,f,F,c,h){const T=X("AnalyticsChart"),I=X("CompositionInfo"),u=X("CoinImg"),C=ke;return r(),d("div",mt,[o("div",pt,[L(T,{"pool-info":e.poolStatsInfo,address:e.route.query.poolAddress},null,8,["pool-info","address"]),L(I,{"pool-more-info":e.poolMoreInfo,"pool-info":e.poolInfo,refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["pool-more-info","pool-info","refresh","onClickRefresh"])]),o("div",vt,[ft,o("div",ht,[o("table",{class:P(["table",e.transactionList&&e.transactionList.length>0?"":"no-date-table"])},[_t,e.transactionList&&e.transactionList.length>0?(r(),d("tbody",gt,[(r(!0),d(K,null,Q(e.transactionList,(s,N)=>{var S;return r(),d("tr",{key:N,class:"table-tr",onClick:a=>e.clickRow(s)},[o("td",null,[s.type=="swap_event"?(r(),d("svg",yt,wt)):j("",!0),s.type=="add_liquidity_event"?(r(),d("svg",$t,Ct)):j("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(r(),d("svg",Dt,At)):j("",!0),ge(" "+m(e.getType(s.type)),1)]),o("td",null,[o("div",{class:P(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((S=e.poolInfo)!=null&&S.needReverse)?"reserve-item-box":""])},[(r(!0),d(K,null,Q(s.items,(a,l)=>ne((r(),d("div",{key:l,class:"item"},[L(u,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:y(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:y(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1),s.type=="swap_event"?(r(),d("p",Tt,"â†’")):j("",!0)])),[[ae,Number(a.amount)!==0]])),128))],2)]),o("td",null,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:y(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,Nt)]),o("td",null,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:y(le))(Date.parse(s.block_time))),1)],8,bt)}),128))])):j("",!0),e.transactionList&&e.transactionList.length<=0&&!e.isLoading?(r(),d("div",Lt,[Ut,o("p",null,m(e.$t("newAdd.noTransactions")),1)])):j("",!0)],2)]),o("div",Rt,[(r(!0),d(K,null,Q(e.transactionList,(s,N)=>{var S;return ne((r(),d("div",{key:N,class:"card"},[o("div",qt,[Bt,o("div",Et,[s.type=="swap_event"?(r(),d("svg",jt,Vt)):j("",!0),s.type=="add_liquidity_event"?(r(),d("svg",zt,Ft)):j("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(r(),d("svg",Yt,Jt)):j("",!0),ge(" "+m(e.getType(s.type)),1)])]),o("div",Wt,[Ht,o("div",Gt,[o("div",{class:P(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((S=e.poolInfo)!=null&&S.needReverse)?"reserve-item-box":""])},[(r(!0),d(K,null,Q(s.items,(a,l)=>ne((r(),d("div",{key:l,class:"item"},[o("div",null,[o("div",null,[L(u,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:y(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:y(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1)])])])),[[ae,Number(a.amount)!==0]])),128))],2)])]),o("div",Kt,[Qt,o("div",Xt,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:y(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,Zt)])]),o("div",xt,[es,o("div",os,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:y(le))(Date.parse(s.block_time))),1)])])),[[ae,e.transactionList&&e.transactionList.length>0]])}),128))]),e.isTracitionLoading?(r(),d("div",ts,[L(C),ss])):j("",!0),!e.isTracitionLoading&&e.transactionList&&e.transactionList.length>=10&&!e.isLoading&&e.isShowLoadMore?(r(),d("div",ns,[o("span",{onClick:A[0]||(A[0]=s=>e.loadMore())},"Load More")])):j("",!0)])])}const As=ue(dt,[["render",as],["__scopeId","data-v-e4a51902"]]);export{As as default};
