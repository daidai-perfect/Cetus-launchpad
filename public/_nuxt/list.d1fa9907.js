import{P as te}from"./pool-position-tab.5f35bacc.js";import{u as le,P as se}from"./pool-filter-block.992eb461.js";import{R as w,A as ae,P as ie}from"./apr-tips.20d13160.js";import{u as ne}from"./useToken.64c2f487.js";import{u as Q}from"./filter-pool-by-coin.ebe6fe0b.js";import{u as re}from"./stats.28babfcc.js";import{c as ue,G}from"./pool.7cb19b71.js";import{u as ce}from"./useStatsData.8eca2cc8.js";import{R as de,T as pe,a as ve}from"./to-add.b23f3dd5.js";import{N as me,T as fe}from"./no-data.02548140.js";import{a as _e,r as H,m as u,D as he,y as X,M as ge,o as g,f as F,i as s,w as U,h as n,v as D,x as J,c as K,F as Pe,p as be,k as ye,e as Y,C as Se}from"./entry.6fece5f9.js";import"./index.723f7524.js";import"./decimal.765d8738.js";import"./select-tab.e9e40dea.js";import"./icon-selected_3x.09e9a6f0.js";import"./useSDK.4d215c7d.js";import"./decimal.a2826370.js";/* empty css              */import"./coin-img.808f3f05.js";import"./token-warning_2x.edd59b82.js";import"./token.a208ca56.js";import"./token-warning-new.2fbfd9a4.js";import"./import-icon.de3e6c66.js";import"./nuxt-link.23c4e35d.js";import"./icon_farms_2x.1a9236c6.js";import"./farms.75ba582d.js";import"./icon_autopools_2x.22ed2241.js";import"./icon_autopools_2x.5d7406a0.js";import"./icon_fee_2x.9019525b.js";import"./icon_rewards_2x.06fc0728.js";import"./coin-select.9beb234f.js";/* empty css              */import"./img-no-Positions_2x.34983b3e.js";import"./img-no-Positions_2x.497a69b5.js";import"./formatter.3be22401.js";/* empty css              */import"./index.6fb2c779.js";const V=P=>(be("data-v-a06e5f4a"),P=P(),ye(),P),Le={key:0,class:"virtual-table"},Ae=V(()=>n("th",null,"Pool",-1)),ke=V(()=>n("th",null,"Mining Rewards",-1)),Te=V(()=>n("th",null,"Actions",-1)),xe={class:"action"},we=_e({__name:"pool-list-table",setup(P){const{getPoolList:I}=le(),{getStatusData:b}=ce(),d=H([]),y=u(()=>d.value.map(i=>Object.assign({},{random:Math.random()},i))),{getTokenList:R,getToken:k}=ne(),S=Q(),f=u(()=>S),W=u(()=>f.value.poolList),B=u(()=>f.value.isAllPool),L=u(()=>f.value.incentiveTypeList),C=u(()=>f.value.selectLabel),a=u(()=>f.value.filterPoolCoinList),Z=re(),ee=u(()=>Z),E=u(()=>ee.value.poolsStatsObj),$=async(r,i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,i);let A=[];for(let e=0;e<i.length;e++){const o=i[e],m=r[o.address],_=await k(i[e].displayTokenAAddress),h=await k(i[e].displayTokenBAddress),M=[];_!=null&&_.labels&&M.push(..._.labels),h!=null&&h.labels&&M.push(...h.labels);let O=!1,j=!1;m&&m.stableFarming&&m.stableFarming.length>0&&(O=!0),m&&m.autoPool&&m.autoPool.clmm_pool&&(j=!0);const z={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...m,tokenA:_,tokenB:h,labels:[...new Set(M)],isFarming:O,isVaults:j};(!B.value&&_.is_trusted&&h.is_trusted||B.value)&&A.push(z)}let c=[];L.value.length>0?A.forEach(e=>{(L.value.includes("Mining")&&e.haveMining||L.value.includes("Farming")&&e.isFarming||L.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&c.push(e)}):c=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",c);let t=[];C.value!=="All"?c.forEach(e=>{e.labels.includes(C.value)&&t.push(e)}):t=c;let x=[];a.value&&a.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",a.value.length),t.forEach(e=>{a.value.length==2&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&(a.value[1]==e.displayTokenAAddress||a.value[1]==e.displayTokenBAddress)&&x.push(e),a.value.length==1&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&x.push(e)})):x=t;let p=x,v=[];l.value.label=="Volume (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.volume24-e.volume24):p.sort((e,o)=>e.volume24-o.volume24)),l.value.label=="Liquidity"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.tvl-e.tvl):p.sort((e,o)=>e.tvl-o.tvl)),l.value.label=="Fees (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.fees24-e.fees24):p.sort((e,o)=>e.fees24-o.fees24)),l.value.label=="APR (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.totalApr-e.totalApr):p.sort((e,o)=>e.totalApr-o.totalApr)),S.setPoolListNum(v&&v.length),d.value=v,S.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",v)},l=H({label:"Volume (24H)",sort:"desc"}),T=r=>{l.value=r,$(E.value,W.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",l.value)},N=u(()=>f.value.isPoolLoading);he(()=>[E.value,W.value,B.value,L.value,C.value,a.value],([r,i])=>{r&&!ue(r)&&i&&i.length>0&&$(r,i)},{immediate:!0});const q=H(null);X(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),I(),R(),b(),window.scroller=q.value});const oe=[{title:"Pools",hasSort:!1,tdWidth:"370px"},{title:"Liquidity",hasSort:!0,tdWidth:"150px"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px"},{title:"Actions",hasSort:!1,tdWidth:"180px"}];return(r,i)=>{const A=ie,c=ge("RecycleScroller");return g(),F(Pe,null,[N.value?J("",!0):(g(),F("table",Le,[s(c,{ref_key:"scroller",ref:q,class:"scroller",items:y.value,"item-size":80,"page-mode":"","key-field":"address"},{before:U(()=>[n("thead",null,[Ae,s(w,{label:"Liquidity","sort-info":l.value,onSort:T},null,8,["sort-info"]),s(w,{label:"Volume (24H)","sort-info":l.value,onSort:T},null,8,["sort-info"]),s(w,{label:"Fees (24H)","sort-info":l.value,onSort:T},null,8,["sort-info"]),ke,s(w,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":l.value,onSort:T},null,8,["sort-info"]),Te])]),default:U(({item:t})=>[(g(),F("tr",{key:t.address},[n("td",null,[s(A,{"pool-info":t},null,8,["pool-info"])]),n("td",null,D(t.tvlDisplay||"$0"),1),n("td",null,D(t.volume24Display||"$0"),1),n("td",null,D(t.fees24Display||"$0"),1),n("td",null,[s(de,{"reward-list":t.miningRewardList||[]},null,8,["reward-list"])]),n("td",null,[s(ae,{"pool-info":t},null,8,["pool-info"])]),n("td",null,[n("div",xe,[s(pe,{"from-coin-address":t.tokenAAddress,"to-coin-address":t.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),s(ve,{"pool-address":t.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])])),!N.value&&d.value&&d.value.length==0?(g(),K(me,{key:1,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):N.value?(g(),K(fe,{key:2,columns:oe,"data-source-length":10})):J("",!0)],64)}}});const Fe=Y(we,[["__scopeId","data-v-a06e5f4a"]]);const Ie={class:"pools-list-container"},Re={__name:"list",setup(P){const I=[{label:"Mining"},{label:"Farming"},{label:"No incentives"}],b=Q();return X(()=>{const d=G("pools-Sui-selectall");d&&b.setIsAllPool(d);const y=G("selectIncentiveTypeList");y&&b.setIncentiveTypeList(y)}),Se(()=>{b.setFilterPoolCoinList([])}),(d,y)=>{const R=te,k=se,S=Fe;return g(),F("div",Ie,[s(R),s(k,{"dropdown-checkbox-options":I}),s(S)])}}},_o=Y(Re,[["__scopeId","data-v-e35d0274"]]);export{_o as default};
