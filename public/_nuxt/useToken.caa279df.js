import{u as m}from"./token.26574884.js";import{p,c as h}from"./index.931efb95.js";import{f as L}from"./fetchFun.ff4aae28.js";import{u as d}from"./useSDK.2049b8d7.js";import{a2 as F,m as S}from"./entry.6a22eb5c.js";function w(){const{$localforage:s}=F();return{setLocalForage:(e,n)=>{s.setItem(e,n).then(()=>{console.log(`${e} saved to localforage.`)}).catch(l=>{console.error(`Failed to save ${e}:`,l)})},getLocalForage:e=>s.getItem(e).then(n=>n).catch(n=>{console.error(`Failed to load ${e}:`,n)})}}const K="POOL_LIST",r="TOKEN_LIST";function j(){const{setLocalForage:s,getLocalForage:c}=w(),i=d(),e=m(),{setAllTokensList:n,allTokensList:l}=e,u=S(()=>e.allTokensObj),T=async()=>{const o=await L("/data/coins_info.json");return(o==null?void 0:o.list)||[]},g=async()=>{try{const o=await L(`${h.Sui.api}/v2/sui/coins_info`);if(!(o!=null&&o.list))throw Error("fetchTokenList list is null");return o==null?void 0:o.list}catch{try{const t=await c(r);if((t==null?void 0:t.length)>0)return t;throw new Error(`LocalForage have not ${r} data`)}catch(t){return console.log("ðŸš€ ~ file: useToken.ts:43 ~ fetchTokenList ~ err:",t),await T()}}},k=async()=>{const o=await g();o&&(n(o),s(r,o))},f=async o=>{const t=await i.clmmSdk.CetusConfig.getTokenListByCoinTypes([o]);if(t)return Object.values(t)[0]};return{getTokenList:k,getToken:async o=>{var a;const t=(a=p(o))==null?void 0:a.full_address;return u.value[t]?u.value[t]:await f(t)},getTokenBySdk:f}}export{K as P,w as a,j as u};
