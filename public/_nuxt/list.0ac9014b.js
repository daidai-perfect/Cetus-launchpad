import{_ as oe}from"./pool-position-tab.df3e3000.js";import{u as te,P as le}from"./pool-filter-block.3973d56e.js";import{R as N,a as se,A as ae,T as ie,b as ne,P as re}from"./to-add.c411b22f.js";import{u as K}from"./useToken.ae151b56.js";import{u as Q}from"./pool.5537e0fe.js";import{u as ue}from"./stats.04aef138.js";import{c as ce,f as de}from"./index.dc091492.js";import{H as pe,T as ve,N as me}from"./h5-table-card.9c4084ae.js";import{a as fe,r as C,m as c,D as U,y as X,M as _e,o as y,f as B,h as s,i as a,c as G,w as J,v as D,z as he,x as ge,p as Pe,k as be,e as Y,N as ye,C as Se}from"./entry.f28f527b.js";import{u as Ae}from"./useStatsData.4fb1ada7.js";import"./select-tab.ae8d88ac.js";import"./pool.1a3b7dc7.js";import"./decimal.0bdeb344.js";import"./filter-pool-by-coin.a14de61e.js";import"./coin-select.4afe46cc.js";import"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./token-warning_2x.c9e625b0.js";import"./img-no-Positions_2x.6ec32811.js";import"./img-no-Positions_2x.99caba22.js";import"./coin-img.ab7f4f1b.js";import"./token-warning-new.1a76f944.js";import"./token.7080c3a7.js";import"./is-all-pool.7750ae73.js";/* empty css              */import"./icon-selected_3x.09e9a6f0.js";import"./fetchFun.dcf6e1b6.js";import"./nuxt-link.6b51e165.js";import"./icon_farms_2x.374f4145.js";import"./farms.da5859e5.js";import"./icon_autopools_2x.8b4d99bb.js";import"./icon_autopools_2x.adf77866.js";import"./icon_fee_2x.e4d052ae.js";import"./icon_rewards_2x.b7e9c99a.js";import"./index.a8ac5b37.js";import"./formatter.269a2313.js";const I=S=>(Pe("data-v-c6ef222d"),S=S(),be(),S),Le={class:"h5-table"},ke={class:"pc-table"},Te={key:1,class:"virtual-table"},we=I(()=>s("th",null,"Pool",-1)),xe=I(()=>s("th",null,"Mining Rewards",-1)),Ne=I(()=>s("th",null,"Actions",-1)),Ce={class:"action"},Be=fe({__name:"pool-list-table",setup(S){const u=C([]),g=c(()=>u.value.map(n=>Object.assign({},{random:Math.random()},n)));U(()=>g.value,i=>{console.log("pool-list-table è™šæ‹Ÿdom list: ",i)});const{getTokenList:M,getToken:w}=K(),A=Q(),p=c(()=>A),F=c(()=>(console.log("ðŸš€ ~ poolList ~ suiPool.value.poolList:",p.value.poolList),p.value.poolList)),L=c(()=>p.value.isAllPool),f=c(()=>p.value.incentiveTypeList),k=c(()=>p.value.selectLabel),r=c(()=>p.value.filterPoolCoinList),Z=ue(),E=c(()=>Z),V=c(()=>E.value.poolsStatsObj),ee=c(()=>E.value.isStatsApiError),W=async(i,n)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",i,n);let _=[];for(let e=0;e<n.length;e++){const o=n[e],h=i[o.address],P=await w(n[e].displayTokenAAddress),b=await w(n[e].displayTokenBAddress),R=[];P!=null&&P.labels&&R.push(...P.labels),b!=null&&b.labels&&R.push(...b.labels);let q=!1,j=!1;h&&h.stableFarming&&h.stableFarming.length>0&&(q=!0),h&&h.autoPool&&h.autoPool.clmm_pool&&(j=!0);const O={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...h,tokenA:P,tokenB:b,labels:[...new Set(R)],isFarming:q,isVaults:j};(!L.value&&P.is_trusted&&b.is_trusted||L.value)&&_.push(O)}let d=[];f.value.length>0?_.forEach(e=>{(f.value.includes("Mining")&&e.haveMining||f.value.includes("Farming")&&e.isFarming||f.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&d.push(e)}):d=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",d);let l=[];k.value!=="All"?d.forEach(e=>{e.labels.includes(k.value)&&l.push(e)}):l=d;let x=[];r.value&&r.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",r.value.length),l.forEach(e=>{r.value.length==2&&(r.value[0]==e.displayTokenAAddress||r.value[0]==e.displayTokenBAddress)&&(r.value[1]==e.displayTokenAAddress||r.value[1]==e.displayTokenBAddress)&&x.push(e),r.value.length==1&&(r.value[0]==e.displayTokenAAddress||r.value[0]==e.displayTokenBAddress)&&x.push(e)})):x=l;let v=x,m=[];t.value.label=="Volume (24H)"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.volume24-e.volume24):v.sort((e,o)=>e.volume24-o.volume24)),t.value.label=="Liquidity"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.tvl-e.tvl):v.sort((e,o)=>e.tvl-o.tvl)),t.value.label=="Fees (24H)"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.fees24-e.fees24):v.sort((e,o)=>e.fees24-o.fees24)),t.value.label=="APR (24H)"&&(m=t.value.sort=="desc"?v.sort((e,o)=>o.totalApr-e.totalApr):v.sort((e,o)=>e.totalApr-o.totalApr)),A.setPoolListNum(m&&m.length),u.value=m,A.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",m)},t=C({label:"Volume (24H)",sort:"desc"}),T=i=>{t.value=i,W(V.value,F.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",t.value)},H=c(()=>p.value.isPoolLoading);U(()=>[V.value,F.value,ee.value,L.value,f.value,k.value,r.value],([i,n,_])=>{console.log("ðŸš€ ~ watch ~ poolsStatsObj:",n,i),(i&&!ce(i)||_)&&n&&n.length>0&&W(i,n)},{immediate:!0});const $=C(null);X(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),window.scroller=$.value});const z=[{title:"Pools",hasSort:!1,tdWidth:"370px",isNotShowTitle:!0,component:"pool-name-block"},{title:"Liquidity",hasSort:!0,tdWidth:"150px",value:"tvlDisplay"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px",value:"volume24Display"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px",value:"fees24Display"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px",component:"reward-coin"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px",component:"apr-tips"},{title:"Actions",hasSort:!1,tdWidth:"180px",isNotShowTitle:!0,component:"swap-add"}];return(i,n)=>{const _=re,d=_e("RecycleScroller");return y(),B("div",null,[s("div",Le,[a(pe,{"h5-title":"Pools","key-field":"poolAddress","sort-info":t.value,"item-size":300,"data-source-length":10,loading:H.value,columns:z,"data-source":u.value,"card-action":"swap-add",onChangeSort:T},null,8,["sort-info","loading","data-source"])]),s("div",ke,[H.value?(y(),G(ve,{key:0,columns:z,"data-source-length":10})):(y(),B("table",Te,[a(d,{ref_key:"scroller",ref:$,class:he(g.value.length==0?"scroller-no-data scroller":"scroller"),items:g.value,"item-size":86,"key-field":"address",prerender:20,buffer:200},{before:J(()=>[s("thead",null,[we,a(N,{label:"Liquidity","sort-info":t.value,onSort:T},null,8,["sort-info"]),a(N,{label:"Volume (24H)","sort-info":t.value,onSort:T},null,8,["sort-info"]),a(N,{label:"Fees (24H)","sort-info":t.value,onSort:T},null,8,["sort-info"]),xe,a(N,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":t.value,onSort:T},null,8,["sort-info"]),Ne])]),default:J(({item:l})=>[(y(),B("tr",{key:l.address},[s("td",null,[a(_,{"pool-info":l},null,8,["pool-info"])]),s("td",null,D(l.tvlDisplay||"$0"),1),s("td",null,D(l.volume24Display||"$0"),1),s("td",null,D(l.fees24Display||"$0"),1),s("td",null,[a(se,{"reward-list":l.miningRewardList||[]},null,8,["reward-list"])]),s("td",null,[a(ae,{"pool-info":l},null,8,["pool-info"])]),s("td",null,[s("div",Ce,[a(ie,{"from-coin-address":l.tokenAAddress,"to-coin-address":l.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),a(ne,{"pool-address":l.address},null,8,["pool-address"])])])]))]),_:1},8,["class","items"])]))]),!H.value&&u.value&&u.value.length==0?(y(),G(me,{key:0,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):ge("",!0)])}}});const Fe=Y(Be,[["__scopeId","data-v-c6ef222d"]]);const He={class:"pools-list-container"},Re={__name:"list",setup(S){const u=Q(),g=C(!1),{getPoolList:M}=te(),{getStatusData:w}=Ae(),{getTokenList:A}=K();return X(async()=>{await de(1e3),g.value=!0}),ye(()=>{g.value&&(M(),A(),w())}),Se(()=>{u.setIncentiveTypeList(""),u.setPoolListNum(""),u.setIsAllPool(!0),u.setLabel("All"),u.setFilterPoolCoinList([])}),(p,F)=>{const L=oe,f=le,k=Fe;return y(),B("div",He,[a(L,{"current-tab":"Pools"}),a(f),a(k)])}}},Po=Y(Re,[["__scopeId","data-v-6230e8f3"]]);export{Po as default};
