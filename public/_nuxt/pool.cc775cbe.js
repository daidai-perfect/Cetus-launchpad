import{e as L,m as h,o as i,f as n,h as t,x as k,i as p,S as J,p as T,k as q,a as Q,r as d,A as E,q as O,s as W,u as X,F as Z,E as M,y as ee,v as te,t as se,l as oe}from"./entry.36f3621b.js";import"./index.c185245d.js";import{u as R}from"./stats.52b84fbe.js";import"./index.3033a655.js";import{u as ae}from"./index.fb680c8c.js";import{c as le}from"./index.55c13568.js";import{l as ie}from"./lodash.1a7ffdfe.js";import{c as B,q as ne,s as ce}from"./common.8e6280e4.js";import{f as re}from"./formatter.2e474f4e.js";import{u as ue}from"./useStatsData.12709f3f.js";import"./install.18e8a7c4.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./fetchFun.ff4aae28.js";const N=e=>(T("data-v-ebfc80b6"),e=e(),q(),e),_e={class:"pool-list-stats-info"},ve=N(()=>t("div",{class:"concentrate-pools"},"Liquidity Pools",-1)),de={class:"tvl-vol"},pe={class:"tvl"},me=N(()=>t("div",{class:"title"},"Total Value Locked",-1)),fe={key:0,class:"text"},ge={key:1,class:"text"},he={class:"vol"},ye=N(()=>t("div",{class:"title"},"Cumulative Volume",-1)),Se={key:0,class:"text"},xe={key:1,class:"text"},ke={__name:"pool-list-stats-info",setup(e){const o=R(),_=h(()=>o),v=h(()=>(console.log("ðŸš€ ~ overallStatistics ~ overallStatistics:",_.value.overallStatistics),_.value.overallStatistics));return(y,m)=>{const l=J;return i(),n("div",_e,[ve,t("div",de,[t("div",pe,[t("div",null,[me,v.value.totalValueLockedDisplay?(i(),n("div",fe,"$"+k(v.value.totalValueLockedDisplay),1)):(i(),n("div",ge,[p(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])]),t("div",he,[t("div",null,[ye,v.value.cumulativeVolumeDisplay?(i(),n("div",Se,"$"+k(v.value.cumulativeVolumeDisplay),1)):(i(),n("div",xe,[p(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])])])])}}},$e=L(ke,[["__scopeId","data-v-ebfc80b6"]]),U=e=>(T("data-v-1720a30e"),e=e(),q(),e),be={class:"pool-list-chart-container"},we={class:"chart-top"},De={class:"trading-vol"},Ve=U(()=>t("div",{class:"title"},"Trading Volume (24H)",-1)),Ie={key:0,class:"text"},Le={key:1,class:"text"},Ne={class:"time-list"},Ce=["onClick"],Fe=U(()=>t("div",{class:"chart-content"},[t("div",{id:"stats-chart",class:"stats-chart"})],-1));var j=(e=>(e.D="day",e.W="wek",e.M="mon",e))(j||{}),H=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(H||{}),I=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(I||{}),Y=(e=>(e[e.D=8]="D",e[e.W=8]="W",e[e.M=12]="M",e))(Y||{}),G=(e=>(e[e.D=8]="D",e[e.W=8]="W",e[e.M=12]="M",e))(G||{});const Ae=Q({__name:"pool-list-chart",setup(e){const o=d("D"),_=["D","W","M"],v=ae();h(()=>v);const y=d(),m=d(),l=d(""),$=R(),K=h(()=>$),S=h(()=>K.value.overallStatistics);E(()=>[S.value],([s])=>{B(s)||(l.value=s.volInUsd24hSumV1)},{immediate:!0});const C=async()=>{try{const s=H[o.value],{data:c}=await fetch(`${le.Sui.api}/v2/sui/histogram?date_type=${j[o.value]}&typ=vol&limit=${s}`).then(a=>a.json()),f=c.list.map(a=>a.num),r=c.list.map(a=>a.date);y.value=f,m.value=r,P(f,r,s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",c)}catch(s){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",s)}},b=d(),P=(s,c,f)=>{const r=document.getElementById("stats-chart"),a=te(r);b.value=a;let A={tooltip:{trigger:"axis",backgroundColor:"#28353F",borderColor:"transparent",formatter:function(u){let z=u[0].axisValue.slice(5,7),x=I[Number(z)];const g=u[0].axisValue.slice(8,10),D=x,V=u[0].axisValue.slice(0,4);return l.value=re(u[0].value,2),"&nbsp;&nbsp;&nbsp;"+g+"&nbsp;"+D+"&nbsp;"+V+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#76C8FF"}}},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:c.reverse(),inverse:!0,axisLabel:{interval:parseInt(Number(s.length)/15),formatter:(u,z)=>{const x=ne(Date.parse(u)-288e5,"YMD")||"";let g,D=x.slice(5,7),V=I[Number(D)];return o.value=="M"?g=V:g=x.slice(8,10),`${g}`}}},yAxis:{show:!1,max:function(u){return u.max}},series:[{data:s.reverse(),inverse:!0,type:"bar",itemStyle:{normal:{barBorderRadius:[6,6,0,0],color:"#72C1F7"}},barWidth:w.value?Y[o.value]:G[o.value]}],grid:{left:5,right:5,top:0,bottom:20}};A&&a.setOption(A),a&&a.resize(),a.on("globalout",u=>{l.value=S.value&&S.value.volInUsd24hSumV1})};E(()=>o.value,(s,c)=>{(!c||s!==c)&&C()},{immediate:!0});const w=d(!0),F=ie.debounce(()=>{document.body.clientWidth>750?w.value=!0:w.value=!1,!y.value&&!m.value?C():b.value&&b.value.resize()},300);return O(()=>{window.addEventListener("resize",F)}),W(()=>{window.removeEventListener("resize",F)}),(s,c)=>{const f=J;return i(),n("div",be,[t("div",we,[t("div",De,[Ve,X(B)(S.value)?(i(),n("div",Le,[p(f,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])):(i(),n("div",Ie," $"+k(l.value===""?"--":Number(l.value)==0?0:l.value),1))]),t("div",Ne,[(i(),n(Z,null,M(_,r=>t("div",{key:r,class:ee(["time-item",r==o.value?"time-item-active":""]),onClick:a=>o.value=r},k(r),11,Ce)),64))])]),Fe])}}});const ze=L(Ae,[["__scopeId","data-v-1720a30e"]]);const Ee={class:"pool-container"},Be={class:"pool-container-top-bg"},Je={class:"pool-container-top"},Te={__name:"pool",setup(e){const{getStatusData:o}=ue(),_=d(!1);return O(async()=>{await ce(1e3),_.value=!0}),se(()=>{_.value&&o()}),(v,y)=>{const m=$e,l=ze,$=oe("router-view");return i(),n("div",Ee,[t("div",Be,[t("div",Je,[p(m),p(l)]),p($)])])}}},Me=L(Te,[["__scopeId","data-v-1993878f"]]);export{Me as default};
