import{u as Y}from"./usePoolList.e1c6b9d4.js";import{u as Z}from"./useToken.e9b1a10f.js";import{u as $}from"./useStatsData.4abf4f9f.js";import{P as ee}from"./pool-filter-block.719ecaa8.js";import{R as S,P as le,a as oe,A as se,T as te,b as ae}from"./to-add.0e7ada32.js";import{u as ie}from"./pool.c08eaf24.js";import{u as ne}from"./stats.3a1b9e6a.js";import{c as re}from"./common.edf9ae9c.js";import{a as ue,r as g,q as ce,A as x,m as u,l as de,o as E,f as q,i as r,h as t,x as k,w as j,p as pe,k as ve,e as fe}from"./entry.66997069.js";import"./useSDK.0d9b5137.js";import"./index.ecba1457.js";import"./decimal.765d8738.js";import"./decimal.a2826370.js";import"./fetchFun.ff4aae28.js";import"./token.c41b5710.js";import"./formatter.0cda4d5e.js";import"./filter-pool-by-coin.4ccc14d3.js";import"./coin-select.26ae76b8.js";import"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./index.5f9fac2e.js";import"./icon-tooltip.7cf05514.js";import"./token-warning_2x.e658e677.js";import"./img-no-Positions_2x.f49235e9.js";import"./img-no-Positions_2x.9a0741d8.js";import"./coin-img-warning.8d73ac35.js";import"./coin-img.e1d02306.js";import"./is-all-pool.8a4d14eb.js";/* empty css              */import"./icon-selected_3x.873560ed.js";import"./address-copy-link.d0dc6b60.js";import"./nuxt-link.638c10b3.js";import"./icon_farms_2x.0c440a0e.js";import"./farms.7d673a09.js";import"./icon_autopools_2x.d3942e40.js";import"./icon_autopools_2x.301dd14b.js";import"./icon_fee_2x.aef97bd6.js";import"./icon_rewards_2x.c8ea54c6.js";const T=b=>(pe("data-v-444b2249"),b=b(),ve(),b),me=T(()=>t("div",null,"this is new pools",-1)),he={style:{color:"red"}},ge={class:"virtual-table"},_e=T(()=>t("th",null,"Pools",-1)),be=T(()=>t("th",null,"Mining Rewards",-1)),Pe=T(()=>t("th",null,"Action",-1)),Ae={class:"action"},ye=ue({__name:"pools",setup(b){const{getPoolList:z}=Y(),{getTokenList:W,getToken:M}=Z(),{getStatusData:G}=$(),H=g(null);ce(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),z(),W(),G(),window.scroller=H.value}),g([{label:"Option 1",value:"All"},{label:"Option 2",value:"Wormhole"},{label:"Option 3",value:"Celer"}]);const J=g("All"),K=g(!1);x(()=>[K.value],([s])=>{console.log("watch testCheckboxValue: ",s)}),x(()=>[J.value],([s])=>{console.log("watch selectedValue: ",s)});const Q=ie(),d=u(()=>Q),w=u(()=>d.value.isAllPool),I=u(()=>d.value.poolList),C=u(()=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:208 ~ list ~ pageList.value:",R.value);const s=R.value.map(n=>Object.assign({},{random:Math.random()},n));return console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:209 ~ list ~ result:",s),s}),U=ne(),X=u(()=>U),D=u(()=>X.value.poolsStatsObj),R=g([]),a=g({label:"Volume (24H)",sort:"desc"}),_=u(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:185 ~ incentiveTypeList ~ suiPool.value.incentiveTypeList:",d.value.incentiveTypeList),d.value.incentiveTypeList)),V=u(()=>d.value.selectLabel),i=u(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ filterPoolCoinList ~ suiPool.value.filterPoolCoinList:",d.value.filterPoolCoinList),d.value.filterPoolCoinList)),N=async(s,n)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",s,n);let f=[];for(let e=0;e<n.length;e++){const l=n[e],O=s[l.address],p=await M(n[e].displayTokenAAddress),v=await M(n[e].displayTokenBAddress),L=[];p!=null&&p.labels&&L.push(...p.labels),v!=null&&v.labels&&L.push(...v.labels);let B=!1,F=!1;const h=s[l.address];h&&h.stableFarming&&h.stableFarming.length>0&&(B=!0),h&&h.autoPool&&h.autoPool.clmm_pool&&(F=!0),!w.value&&p.is_trusted&&v.is_trusted?f.push({...l,tvl:0,fees24:0,totalApr:0,volume24:0,...O,tokenA:p,tokenB:v,labels:[...new Set(L)],isFarming:B,isVaults:F}):w.value&&f.push({...l,tvl:0,fees24:0,totalApr:0,volume24:0,...O,tokenA:p,tokenB:v,labels:[...new Set(L)],isFarming:B,isVaults:F})}let o=[];_.value.length>0?f.forEach(e=>{(_.value.includes("Mining")&&e.haveMining||_.value.includes("Farming")&&e.isFarming||_.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&o.push(e)}):o=f,console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",o);let A=[];V.value!=="All"?o.forEach(e=>{e.labels.includes(V.value)&&A.push(e)}):A=o;let y=[];i.value&&i.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",i.value.length),A.forEach(e=>{i.value.length==2&&(i.value[0]==e.displayTokenAAddress||i.value[0]==e.displayTokenBAddress)&&(i.value[1]==e.displayTokenAAddress||i.value[1]==e.displayTokenBAddress)&&y.push(e),i.value.length==1&&(i.value[0]==e.displayTokenAAddress||i.value[0]==e.displayTokenBAddress)&&y.push(e)})):y=A;let c=y,m=[];a.value.label=="Volume (24H)"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.volume24-e.volume24):c.sort((e,l)=>e.volume24-l.volume24)),a.value.label=="Liquidity"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.tvl-e.tvl):c.sort((e,l)=>e.tvl-l.tvl)),a.value.label=="Fees (24H)"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.fees24-e.fees24):c.sort((e,l)=>e.fees24-l.fees24)),a.value.label=="APR (24H)"&&(m=a.value.sort=="desc"?c.sort((e,l)=>l.totalApr-e.totalApr):c.sort((e,l)=>e.totalApr-l.totalApr)),R.value=m,console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",m)},P=s=>{a.value=s,N(D.value,I.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",a.value)};return x(()=>[D.value,I.value,w.value,_.value,V.value,i.value],([s,n])=>{s&&!re(s)&&n&&n.length>0&&N(s,n)},{immediate:!0}),(s,n)=>{const f=de("RecycleScroller");return E(),q("div",null,[me,r(ee),t("span",he,k(C.value&&C.value.length),1),t("table",ge,[r(f,{ref_key:"scroller",ref:H,class:"scroller",items:C.value,"item-size":80,"page-mode":"","key-field":"address"},{before:j(()=>[t("thead",null,[_e,r(S,{label:"Liquidity","sort-info":a.value,onSort:P},null,8,["sort-info"]),r(S,{label:"Volume (24H)","sort-info":a.value,onSort:P},null,8,["sort-info"]),r(S,{label:"Fees (24H)","sort-info":a.value,onSort:P},null,8,["sort-info"]),be,r(S,{label:"APR (24H)","sort-info":a.value,onSort:P},null,8,["sort-info"]),Pe])]),default:j(({item:o})=>[(E(),q("tr",{key:o.address},[t("td",null,[r(le,{"pool-info":o},null,8,["pool-info"])]),t("td",null,k(o.tvlDisplay||"--"),1),t("td",null,k(o.volume24Display||"--"),1),t("td",null,k(o.fees24Display||"--"),1),t("td",null,[r(oe,{"reward-list":o.miningRewardList||[]},null,8,["reward-list"])]),t("td",null,[r(se,{"pool-info":o},null,8,["pool-info"])]),t("td",null,[t("div",Ae,[r(te,{"from-coin-address":o.tokenAAddress,"to-coin-address":o.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),r(ae,{"pool-address":o.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])])])}}});const rl=fe(ye,[["__scopeId","data-v-444b2249"]]);export{rl as default};
