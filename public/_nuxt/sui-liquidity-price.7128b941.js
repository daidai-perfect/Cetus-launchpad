import{a as re,u as _,b as ae}from"./index.8e642dee.js";import{c as le,d as m,a as S}from"./common.f2e8d2dc.js";import{a as Y,r as g,q as se,s as ve,m as L,A as F,b as pe,L as ie,e as H,l as G,o,f as n,h as t,i as O,G as s,y as X,p as de,k as ue,x as i,$ as ye,z as Ce,a6 as be,c as ee,w as Z,j as ne,u as d,F as K,N as ge,Y as ke,B as ce,E as he,S as Pe,K as Se}from"./entry.72cf903d.js";import{I as Ie}from"./icon-slippage.a6e2fb86.js";import{I as Te}from"./icon-refresh.a8027928.js";import"./decimal.a2826370.js";import{b as oe,c as $e}from"./index.79763a93.js";import{I as Re}from"./icon-tooltip.e455d857.js";import{C as me}from"./coin-img-warning.5c0e1401.js";import{D as B}from"./decimal.765d8738.js";import{_ as Ne}from"./deposit-ratio.97c42fb4.js";/* empty css              */import{i as te}from"./import-icon.de3e6c66.js";import{u as we}from"./notifi.cef0fbef.js";import{N as Ae}from"./sui-status-block.5e44437c.js";import{C as Ue}from"./coin-img.b1791ff9.js";import"./index.5fe47a1e.js";/* empty css              */const De=Y({components:{IconSlippage:Ie,IconRefresh:Te},props:{poolInfo:{type:Object,default:()=>({})}},setup(e,l){const v=g(!1),f=g(null),I=g(0);let C=g(!1);const a=g(20),b=re(),p=_(),U=g(!1);se(()=>{}),ve(()=>{clearInterval(f.value)});const D=()=>{C.value=!1,f.value=setInterval(()=>{var u;U.value||I.value<a.value&&(I.value+=1,I.value===a.value&&(C.value=!0,(u=e==null?void 0:e.poolInfo)!=null&&u.poolAddress&&b.updateCurrentPools(e.poolInfo.poolAddress,p.chainName),I.value=0,setTimeout(()=>{C.value=!1},1e3)))},1e3)},z=L(()=>p.slippage),$=()=>{l.emit("clearAll")},N=()=>{C.value||(C.value=!0,I.value=0,l.emit("clickRefresh"),setTimeout(()=>{C.value=!1,D()},1e3))};F(()=>e.poolInfo,u=>{u&&!f.value&&D()},{immediate:!0});const M=pe(),y=ie();return{refresh:C,clickRefresh:N,isShowSwapSetting:v,countdown:I,autoRefreshTime:a,slippage:z,clearAll:$,checkNullObj:le,router:M,route:y}}});const Me=e=>(de("data-v-47ca611f"),e=e(),ue(),e),qe={class:"title"},Be=Me(()=>t("div",{class:"left"},[t("span",null,"Deposit Amounts")],-1)),Le={key:0,class:"deposit-progress"};function Oe(e,l,v,f,I,C){const a=G("IconSlippage"),b=G("IconRefresh");return o(),n("div",qe,[Be,t("div",{class:X(["right",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[O(a),e.route.name!=="liquidity-create"?(o(),n("div",Le,[O(b,{refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["refresh","onClickRefresh"])])):s("",!0)],2)])}const Tn=H(De,[["render",Oe],["__scopeId","data-v-47ca611f"]]),je=Y({components:{IconTooltip:Re,CoinImgWarning:me},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const l=re(),v=L(()=>l),f=_(),I=L(()=>f),C=ie(),a=L(()=>{let $=null;if(C.name=="liquidity-create")$=e.createPoolInfo;else for(const N in v.value.poolsObj){const M=v.value.poolsObj[N];M.address==C.query.poolAddress&&($=M)}return $}),b=L(()=>I.value.chainName?ae(I.value.chainName):{}),p=L(()=>I.value.slippage),U=g(),D=g(),z=async()=>{var J;if(!e.minPrice&&!e.maxPrice)return;console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:170 ~ getRatio ~ poolInfo.value:",a.value);const{TickUtil:$,TickMath:N,getNearestTickByTick:M}=b.value,y=a.value.token_a.decimals,u=a.value.token_b.decimals;let r,k,h,P,T,w,A,q=1,c=1;const R=a.value.current_tick_index;let j=v.value.poolPriceConfigObj&&v.value.poolPriceConfigObj[a.value.address]&&v.value.poolPriceConfigObj[a.value.address].recommend_ranges||{};if(a.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&a.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?A=!0:A=!1,e.minPrice==="0"&&e.maxPrice==="âˆž")h=$.getMinIndex(a.value.tickSpacing),P=$.getMaxIndex(a.value.tickSpacing);else if(e.currentPriceTab=="custom"){A?(r=e.minPrice,k=e.maxPrice):(r=e.maxPrice!=="âˆž"?new B(1).div(e.maxPrice).toString():1/0,k=new B(1).div(e.minPrice).toString());try{T=N.priceToTickIndex(new B(r),y,u)}catch{T=-443636}try{w=N.priceToTickIndex(new B(k),y,u)}catch{w=443636}r==0&&(T=-443636),h=M(T,Number(a.value.tickSpacing),!0),P=M(w,Number(a.value.tickSpacing),!0)}else h=j&&j[e.currentPriceTab]&&j[e.currentPriceTab].lower,P=j&&j[e.currentPriceTab]&&j[e.currentPriceTab].upper;if(e.maxPrice==="âˆž"||R>=h&&R<=P){let E;if(e.fixedFromCoin){const Q=new B(Number(e.fromCoinAmount)==0?1:e.fromCoinAmount).mul(Math.pow(10,e.fromCoin.decimals)).toString();E=new oe(Q)}else{const Q=new B(Number(e.toCoinAmount)==0?1:e.toCoinAmount).mul(Math.pow(10,e.toCoin.decimals)).toString();E=new oe(Q)}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:262 ~ getRatio ~ poolInfo.value.current_sqrt_price:",a.value.current_sqrt_price),((J=a==null?void 0:a.value)==null?void 0:J.current_sqrt_price)<=0)return!1;const{tokenMaxA:W,tokenMaxB:V}=await b.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:a.value.token_a,tokenB:a.value.token_b,lowerTick:h,upperTick:P,coinAmount:E,iscoinA:A?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(p.value)/100,curSqrtPrice:new oe(a.value.current_sqrt_price)});A?e.fixedFromCoin?(c=Number(V)>0?V:"",q=Number(W)>0?W:""):(q=Number(W)>0?W:"",c=Number(V)>0?V:""):(e.fixedFromCoin,c=W,q=V)}else R>P?A?(c=1,q=0):(q=1,c=0):R<h&&(A?(c=0,q=1):(c=1,q=0));if(e.minPrice=="0"&&e.maxPrice=="âˆž")U.value=50,D.value=50;else{const E=q?Number(q):0,W=c?Number(c):0,V=new B(W).add(new B(A?new B(E*e.currentPrice):new B(E*e.currentPriceReverse))),Q=m(new B(E).mul(new B(A?e.currentPrice:e.currentPriceReverse)).div(V).mul(100).toNumber().toFixed(2),2),fe=m(new B(W).div(V).mul(100).toNumber().toFixed(2),2);U.value=Q,D.value=fe}};return F(()=>[a.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([$,N,M,y,u])=>{N&&M&&$&&!le($)&&(N!=="0"||M!=="0")?z():(U.value="",D.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:U,toCoinRatio:D}}});const Fe={class:"deposit-ratio"},ze={class:"deposit-ratio-text"},Ee=t("span",null,"Deposit Ratio",-1),We={class:"deposit-ratio-content"},Ve={class:"coin-ratio"},Ge={class:"coin-a-ratio"},Ke={class:"coin-b-ratio"};function Ye(e,l,v,f,I,C){var p,U;const a=G("IconTooltip"),b=G("CoinImgWarning");return o(),n("div",Fe,[t("div",ze,[Ee,O(a,{type:"depositRatio","xlink-href":"#icon-icon_tips"})]),t("div",We,[t("div",Ve,[t("div",Ge,[O(b,{"token-info":e.fromCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),t("span",null,i((p=e.fromCoin)==null?void 0:p.symbol),1),t("span",null,i(e.fromCoinRatio)+"%",1)]),t("div",Ke,[O(b,{"token-info":e.toCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),t("span",null,i((U=e.toCoin)==null?void 0:U.symbol),1),t("span",null,i(e.toCoinRatio)+"%",1)])])])])}const $n=H(je,[["render",Ye]]),He=Y({components:{Modal:ye,CoinImgWarning:me,NewStatusBlock:Ae},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(e,l){const{t:v}=Ce(),f=L(()=>{var c,R,j;return((c=e==null?void 0:e.poolInfo)==null?void 0:c.needReverse)||((j=(R=e==null?void 0:e.poolInfo)==null?void 0:R.poolInfo)==null?void 0:j.needReverse)}),I=re(),C=L(()=>I),a=_(),b=L(()=>a),p=c=>{var R;return(c==null?void 0:c.logoURI)||(c==null?void 0:c.logo_url)||((R=C.value.tokensObj[c==null?void 0:c.address])==null?void 0:R.logo_url)||(b.value.theme==="default"?te("/image/coins/unknown.png"):te("/image/coins/sui-unknown.png"))},U=g(!1),D=g(!0);function z(){D.value=!D.value}const $=L(()=>b.value.slippage),N=we(),M=L(()=>N),y=L(()=>M.value.status),u=L(()=>b.value.chainName),r=L(()=>$e[u.value].hasNotifi),k=ie(),h=g(!1),P=g(""),T=g(""),w=g(""),A=g("");return se(()=>{P.value=String(m(String(e.minPrice),6)),T.value=String(m(String(e.maxPrice),6)),w.value=e.currentPrice,A.value=e.currentPriceReverse,e.isIncrease&&(P.value=f.value?String(m(String(1/e.maxPrice),6)):String(m(String(e.minPrice),6)),T.value=f.value?String(m(String(1/e.minPrice),6)):String(m(String(e.maxPrice),6)),w.value=f.value?e.currentPriceReverse:e.currentPrice,A.value=f.value?e.currentPrice:e.currentPriceReverse)}),F(D,c=>{!e.isIncrease&&c||e.isIncrease&&!f.value&&c?(P.value=String(m(String(e.minPrice),6)),T.value=String(m(String(e.maxPrice),6))):!e.isIncrease&&!c||e.isIncrease&&!f.value&&!c?(P.value=String(m(String(1/Number(e.maxPrice)),6)),T.value=String(m(String(1/Number(e.minPrice)),6))):e.isIncrease&&f.value&&(e.currentDirect?c:!c)?(P.value=String(m(String(1/Number(e.maxPrice)),6)),T.value=String(m(String(1/Number(e.minPrice)),6))):e.isIncrease&&f.value&&(e.currentDirect?!c:c)&&(P.value=String(m(String(e.minPrice),6)),T.value=String(m(String(e.maxPrice),6))),w.value=e.currentPrice,A.value=e.currentPriceReverse}),{needReverse:f,getCoinIcon:p,addCommom:S,rateChange:U,changeDirect:z,direct:D,t:v,slippage:$,notifiStatus:y,hasNotifi:r,route:k,checked:h,min:P,max:T,decimalUi:m,clickSubmit:()=>{e.isIncrease?l.emit("toAdd"):e.title==be.global.t("newAdd.preview")?l.emit("createPool"):l.emit("toAdd",h.value&&y.value=="authenticated")}}}});const x=e=>(de("data-v-d3264bab"),e=e(),ue(),e),Je=x(()=>t("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[t("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Qe={class:"modal-content"},Xe={class:"pool-info"},Ze={class:"left"},_e={class:"pool-name"},xe={class:"right"},ei={class:"coin-info"},ii={class:"from-coin-info"},oi={class:"left"},ni={class:"coin-amount"},ti={class:"coin-symbol"},ri={class:"right"},si={class:"to-coin-info"},ai={class:"left"},li={class:"coin-amount"},di={class:"coin-symbol"},ui={class:"right"},ci={class:"select-range"},mi=x(()=>t("div",{class:"select-range-title"},"Selected Range",-1)),fi={class:"price-conent"},vi={class:"current-price"},pi={class:"left"},yi={key:0,class:"current-price-title"},Ci={key:1,class:"current-price-title"},bi={key:0,class:"a2b"},gi={key:0},ki={key:1},hi={key:2},Pi={key:3},Si={key:4},Ii={key:5},Ti={key:6},$i={key:7},Ri={key:1,class:"a2b"},Ni={key:0},wi={key:1},Ai={key:2},Ui={key:3},Di={key:4},Mi={key:5},qi={key:6},Bi={key:7},Li={key:2,class:"a2b"},Oi={key:0},ji={key:1},Fi={key:2},zi={key:3},Ei={key:3,class:"a2b"},Wi={key:0},Vi={key:1},Gi={key:2},Ki={key:3},Yi={key:0,class:"a2b"},Hi={key:0},Ji={key:1},Qi={key:2},Xi={key:3},Zi={key:4},_i={key:5},xi={key:6},eo={key:7},io={key:1,class:"a2b"},oo={key:0},no={key:1},to={key:2},ro={key:3},so={key:4},ao={key:5},lo={key:6},uo={key:7},co={class:"right"},mo=x(()=>t("use",{"xlink:href":"#icon-icon_swap2"},null,-1)),fo=[mo],vo={class:"price-range-block-content"},po={class:"price-range-block"},yo={class:"price-item"},Co={class:"title"},bo={class:"price"},go={key:0,class:"text"},ko={key:1,class:"text"},ho={key:0,class:"text"},Po={key:1,class:"text"},So={key:0,class:"text"},Io={key:1,class:"text"},To={class:"price-item"},$o={class:"title"},Ro={class:"price"},No={key:0,class:"text"},wo={key:1,class:"text"},Ao={key:0,class:"text"},Uo={key:1,class:"text"},Do={key:0,class:"text"},Mo={key:1,class:"text"},qo={class:"deposit-ratio-content"},Bo={key:0,class:"range-alerts"},Lo={class:"plus-switch plus-liquidity-switch"},Oo=x(()=>t("div",{class:"title"}," Range alerts for this position ",-1)),jo=x(()=>t("div",{class:"range-alerts-bottom"}," Subscribe to receive alerts on email, SMS, or Telegram when the price for this pool moves out of your selected range. ",-1));function Fo(e,l,v,f,I,C){const a=G("CoinImgWarning"),b=G("NewStatusBlock"),p=Ne,U=ke,D=ce,z=G("Modal");return o(),ee(z,{width:"440px",visible:!0,footer:null,title:e.title,onCancel:l[2]||(l[2]=$=>e.$emit("onClose"))},{closeIcon:Z(()=>[Je]),default:Z(()=>{var $,N,M,y,u,r,k,h,P,T;return[t("div",Qe,[t("div",Xe,[t("div",Ze,[O(a,{"token-info":($=e.poolInfo)==null?void 0:$.token_a,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),O(a,{"token-info":(N=e.poolInfo)==null?void 0:N.token_b,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),t("div",_e,[t("span",null,i(e.needReverse?(r=(u=e.poolInfo)==null?void 0:u.token_b)==null?void 0:r.symbol:(y=(M=e.poolInfo)==null?void 0:M.token_a)==null?void 0:y.symbol)+"Â -Â  ",1),t("span",null,i(e.needReverse?(T=(P=e.poolInfo)==null?void 0:P.token_a)==null?void 0:T.symbol:(h=(k=e.poolInfo)==null?void 0:k.token_b)==null?void 0:h.symbol),1)])]),t("div",xe,[ne(" Fee tier "),t("span",null,i(e.poolInfo&&e.poolInfo.fee*100)+"%",1)])]),t("div",ei,[t("div",ii,[t("div",oi,[t("div",ni,i(("addCommom"in e?e.addCommom:d(S))(e.fromCoinAmount)||0),1),t("div",ti,i(e.fromCoin&&e.fromCoin.symbol),1)]),t("div",ri,[O(a,{"token-info":e.fromCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])]),t("div",si,[t("div",ai,[t("div",li,i(("addCommom"in e?e.addCommom:d(S))(e.toCoinAmount)||0),1),t("div",di,i(e.toCoin&&e.toCoin.symbol),1)]),t("div",ui,[O(a,{"token-info":e.toCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])])]),t("div",ci,[mi,e.title!==e.$t("newAdd.preview")?(o(),ee(b,{key:0,"position-info":e.showFromCoinLock||e.showToCoinLock?{positionStatus:"Inactive"}:{positionStatus:"Active"}},null,8,["position-info"])):s("",!0)]),t("div",fi,[t("div",vi,[t("div",pi,[e.title!==e.$t("newAdd.preview")?(o(),n("div",yi,"Current Price")):(o(),n("div",Ci,"Initial Price")),e.isCreate?(o(),n(K,{key:3},[!e.isIncrease&&!e.needReverse?(o(),n("div",Yi,[e.direct&&e.currentDirect?(o(),n("span",Hi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("span",Ji,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.toCoin.decimals))),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("span",Qi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("span",Xi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.fromCoin.decimals))),1)):s("",!0),e.direct&&e.currentDirect?(o(),n("div",Zi,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("div",_i,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("div",xi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("div",eo,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0)])):!e.isIncrease&&e.needReverse?(o(),n("div",io,[e.direct&&e.currentDirect?(o(),n("span",oo,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("span",no,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("span",to,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("span",ro,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):s("",!0),e.direct&&e.currentDirect?(o(),n("div",so,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("div",ao,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("div",lo,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("div",uo,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0)])):s("",!0)],64)):(o(),n(K,{key:2},[!e.isIncrease&&!e.needReverse?(o(),n("div",bi,[e.direct&&e.currentDirect?(o(),n("span",gi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("span",ki,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.toCoin.decimals))),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("span",hi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("span",Pi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.fromCoin.decimals))),1)):s("",!0),e.direct&&e.currentDirect?(o(),n("div",Si,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("div",Ii,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("div",Ti,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("div",$i,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0)])):!e.isIncrease&&e.needReverse?(o(),n("div",Ri,[e.direct&&e.currentDirect?(o(),n("span",Ni,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("span",wi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("span",Ai,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.toCoin.decimals))),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("span",Ui,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.fromCoin.decimals))),1)):s("",!0),e.direct&&e.currentDirect?(o(),n("div",Di,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),!e.direct&&e.currentDirect?(o(),n("div",Mi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0),e.direct&&!e.currentDirect?(o(),n("div",qi,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),!e.direct&&!e.currentDirect?(o(),n("div",Bi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0)])):s("",!0),e.isIncrease&&!e.needReverse?(o(),n("div",Li,[e.direct?(o(),n("span",Oi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):(o(),n("span",ji,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,6))),1)),e.direct?(o(),n("div",zi,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):(o(),n("div",Fi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1))])):s("",!0),e.isIncrease&&e.needReverse?(o(),n("div",Ei,[e.direct?(o(),n("span",Wi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):(o(),n("span",Vi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)),e.direct?(o(),n("div",Gi,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):(o(),n("div",Ki,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1))])):s("",!0)],64))]),t("div",co,[(o(),n("svg",{class:"icon icon-up","aria-hidden":"true",onClick:l[0]||(l[0]=(...w)=>e.changeDirect&&e.changeDirect(...w))},fo))])]),t("div",vo,[t("div",po,[t("div",yo,[t("div",Co,i(e.$t("common.minPrice")),1),t("p",bo,i(("addCommom"in e?e.addCommom:d(S))(e.min)),1),!e.isIncrease&&!e.direct?(o(),n("div",go,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(o(),n("div",ko,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),e.isIncrease&&e.needReverse?(o(),n(K,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",ho,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",Po,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0)],64)):s("",!0),e.isIncrease&&!e.needReverse?(o(),n(K,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",So,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",Io,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0)],64)):s("",!0)]),t("div",To,[t("div",$o,i(e.$t("common.maxPrice")),1),t("p",Ro,i(e.maxPrice.indexOf("âˆž")>-1||e.maxPrice.indexOf("+")>-1?"âˆž":("addCommom"in e?e.addCommom:d(S))(e.max)),1),!e.isIncrease&&!e.direct?(o(),n("div",No,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(o(),n("div",wo,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0),e.isIncrease&&e.needReverse?(o(),n(K,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",Ao,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",Uo,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):s("",!0)],64)):s("",!0),e.isIncrease&&!e.needReverse?(o(),n(K,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",Do,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",Mo,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):s("",!0)],64)):s("",!0)])])])]),t("div",qo,[e.poolInfo?(o(),ee(p,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"position-total-amount":e.positionTotalAmount,"tick-lower":e.tickLower,"tick-upper":e.tickUpper},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount","position-total-amount","tick-lower","tick-upper"])):s("",!0)])]),e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(o(),n("div",Bo,[t("div",Lo,[Oo,O(U,{class:"range-alerts-switch",checked:e.checked,onClick:l[1]||(l[1]=w=>e.checked=!e.checked)},null,8,["checked"])]),jo])):s("",!0),O(D,{class:"big-btn modal-bottom-btn",style:ge(e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?{bottom:"-172px"}:{bottom:"-65px"}),onClick:e.clickSubmit},{default:Z(()=>[ne(i(e.isIncrease?"Increase Liquidity":e.title==e.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["style","onClick"])]}),_:1},8,["title"])}const Rn=H(He,[["render",Fo],["__scopeId","data-v-d3264bab"]]),zo=Y({components:{CoinImage:Ue},props:{rectangleTabList:{type:Object,default:()=>null},currentRectangleTab:{type:String,default:()=>""}},setup(e){const l=e.rectangleTabList;return{activeIndex:g(0),list:l}}});const Eo={class:"rectangle-tab"},Wo=["onClick"];function Vo(e,l,v,f,I,C){const a=G("CoinImage");return o(),n("div",Eo,[(o(!0),n(K,null,he(e.list,(b,p)=>(o(),n("div",{key:b.link,class:X(e.activeIndex==p?"tab-active tab":"tab"),onClick:()=>{e.$emit("clickTab",b),e.activeIndex=p}},[b.logo?(o(),ee(a,{key:0,url:b.logo,size:e.logoSize||"16px"},null,8,["url","size"])):s("",!0),t("span",null,i(b.label),1)],10,Wo))),128))])}const Nn=H(zo,[["render",Vo],["__scopeId","data-v-0f9b9fc6"]]),Go=Y({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,l){const v=g(""),f=g("");let I=g(""),C=g("");const a=ie(),b=_(),p=L(()=>b),U=L(()=>p.value.chainName?ae(p.value.chainName):{}),D=()=>{var r,k,h,P;if(!(Number.isNaN(v.value)||Number(v.value)!==0&&!v.value||!e.poolInfo.tickSpacing))try{const{TickUtil:T,TickMath:w,getNearestTickByTick:A}=U.value,q=w.priceToTickIndex(new B(v.value.toString()),(r=y.value.token_a)==null?void 0:r.decimals,(k=y.value.token_b)==null?void 0:k.decimals),c=A(q,Number(y.value.tickSpacing),!0);let R;if(R=w.tickIndexToPrice(c+Number(y.value.tickSpacing),(h=y.value.token_a)==null?void 0:h.decimals,(P=y.value.token_b)==null?void 0:P.decimals),e.pType=="Min"&&Number(R.toString())>Number(C.value.toString()))return;const j=R.toString();l.emit("onInput",j)}catch{l.emit("onInput","")}},z=()=>{var r,k,h,P;try{if(Number.isNaN(v.value)||!v.value||!e.poolInfo.tickSpacing)return;const{TickUtil:T,TickMath:w,getNearestTickByTick:A}=U.value,q=w.priceToTickIndex(new B(v.value.toString()),(r=y.value.token_a)==null?void 0:r.decimals,(k=y.value.token_b)==null?void 0:k.decimals),c=A(q,Number(y.value.tickSpacing),!0);let R;R=w.tickIndexToPrice(c-Number(y.value.tickSpacing),(h=y.value.token_a)==null?void 0:h.decimals,(P=y.value.token_b)==null?void 0:P.decimals);const j=R.toString();if(e.pType=="Max"&&Number(R)<Number(I.value))return;l.emit("onInput",j)}catch{l.emit("onInput","")}},$=r=>{let k=r.toString().replace(/[^\d.]/g,"");const h=/^\d+(\.\d+)?$/;k.split(".").length>2&&!h.exec(k)&&(k=k.substr(0,k.length-1)),f.value=String(k)},N=r=>{if(r=="")f.value="";else if(r&&r!=="0"&&r!=="âˆž"){v.value=r;const h=r.toString().split(".")[1];f.value=r!=="0"&&r!=="âˆž"&&h&&h.length>6?m(r.toString(),6):r.toString()}else(r=="0"||r=="âˆž"||a.query.action)&&(f.value=r)},M=r=>{var A,q,c,R;const{TickUtil:k,TickMath:h,getNearestTickByTick:P}=U.value,T=r.target.value;let w;if(T==="0"){w=-443636,l.emit("onInput","0");return}else if(T!=="0"&&T){const j=h.priceToTickIndex(new B(T),(A=y.value.token_a)==null?void 0:A.decimals,(q=y.value.token_b)==null?void 0:q.decimals);w=P(Number(j),Number(y.value.tickSpacing),!0);const J=h.tickIndexToPrice(new B(w),(c=y.value.token_a)==null?void 0:c.decimals,(R=y.value.token_b)==null?void 0:R.decimals);N(J.toString()),l.emit("onInput",J.toString())}else l.emit("onInput")};F(()=>e.defaultMinPrice,(r,k)=>{r!==k&&(I.value=e.defaultMinPrice)},{immediate:!0}),F(()=>e.defaultMaxPrice,(r,k)=>{r!==k&&(C.value=e.defaultMaxPrice)},{immediate:!0}),F(()=>[e.inputValue,a.query.action],([r])=>{N(r)},{immediate:!0});const y=g({});F(()=>e.poolInfo,(r,k)=>{r&&(y.value=r)},{immediate:!0});const u=g("");return F(()=>e.currentPriceTab,r=>{u.value=r},{immediate:!0}),{addPrice:D,minusPrice:z,oValue:f,changeValue:$,isDisabled:u,route:a,onBlur:M}}});const Ko={class:"set-price-item"},Yo={class:"title"},Ho={class:"input-box"},Jo={key:0,class:"minus-btn"},Qo={key:1,class:"plus-btn"};function Xo(e,l,v,f,I,C){const a=Se,b=Pe;return o(),n("div",Ko,[t("div",Yo,i(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),O(b,{loading:e.loading,active:"",paragraph:!1},{default:Z(()=>[t("div",Ho,[e.currentPriceTab!=="full range"?(o(),n("a",Jo,[t("div",{class:X(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:l[0]||(l[0]=(...p)=>e.minusPrice&&e.minusPrice(...p))},"-",2)])):s("",!0),O(a,{id:"pValu",value:e.oValue,"onUpdate:value":l[1]||(l[1]=p=>e.oValue=p),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:l[2]||(l[2]=p=>e.changeValue(p.target.value)),onBlur:l[3]||(l[3]=p=>e.onBlur(p))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(o(),n("a",Qo,[t("div",{class:X(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:l[4]||(l[4]=(...p)=>e.addPrice&&e.addPrice(...p))},"+",2)])):s("",!0)])]),_:1},8,["loading"]),t("p",{class:X(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},i(e.toCoin&&e.toCoin.symbol)+" per "+i(e.fromCoin&&e.fromCoin.symbol),3)])}const Zo=H(Go,[["render",Xo],["__scopeId","data-v-a39e37b1"]]),_o=Y({components:{SuiLiquiditySetPrice:Zo},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,l){let v=g(""),f=g(""),I=g(),C=g(!1),a=g(!1);const b=g({}),p=_(),U=L(()=>p);se(()=>{v.value=e.min,f.value=e.max}),F(()=>e.currentPriceTab,(u,r)=>{u!==r&&(I.value=e.currentPriceTab)},{immediate:!0}),F(()=>e.min,(u,r)=>{u!==r&&(v.value=u)}),F(()=>e.max,(u,r)=>{u!==r&&(f.value=u)}),F(()=>e.poolInfo,(u,r)=>{u&&(b.value=u)},{immediate:!0});const D=g("");F(()=>e.intPrice,u=>{D.value=u},{immediate:!0,deep:!0});const z=u=>{v.value=u,l.emit("onChangeMinPrice",u)},$=u=>{f.value=u,l.emit("onChangeMaxPrice",u)};F(C,(u,r)=>{u!==r&&l.emit("onChangeFullRange",u)});const N=()=>{v.value=e.defaultMinPrice,f.value=e.defaultMaxPrice,a.value=!1,C.value=!1},M=()=>{a.value=!1,v.value="0",f.value="âˆž"};return F(C,(u,r)=>{u!==r&&l.emit("onChangeFullRange",u)}),{store:U,changeMinPrice:z,changeMaxPrice:$,importIcon:te,resetPrice:N,changeShowUnderStand:()=>{C.value=!C.value,C.value?a.value=!0:N(),a.value||(v.value=e.defaultMinPrice,f.value=e.defaultMaxPrice)},showUnderStand:a,minPrice:v,maxPrice:f,understand:M,isRadio:C,initPirce:D}}});const xo={class:"set-price"},en={class:"card-container"},on={key:0,class:"card"},nn={key:1,class:"understand"},tn={class:"left"},rn={class:"right"};function sn(e,l,v,f,I,C){const a=G("SuiLiquiditySetPrice"),b=ce;return o(),n("div",xo,[t("div",en,[e.showUnderStand?(o(),n("div",nn,[t("div",tn,[t("p",null,i(e.$t("common.lowerEfficiency")),1),t("p",null,i(e.$t("common.lowerEfficiencyTips")),1)]),t("div",rn,[O(b,{onClick:e.understand},{default:Z(()=>[ne(i(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(o(),n("div",on,[O(a,{value:e.minPrice,"onUpdate:value":l[0]||(l[0]=p=>e.minPrice=p),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),O(a,{value:e.maxPrice,"onUpdate:value":l[1]||(l[1]=p=>e.maxPrice=p),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const wn=H(_o,[["render",sn],["__scopeId","data-v-136ef140"]]);export{Nn as R,Tn as S,$n as a,Rn as b,wn as c};
