import{u as ts,k as Os,g as U,b as hs,i as J}from"./index.18a188cd.js";import{a as ns,m as p,r as I,e as ls,o as t,f as n,h as o,i as u,v as g,u as V,S as Fs,p as ds,k as cs,j as R,F as M,s as os,Y as Vs,b as vs,q as js,w as G,t as F,B as ps,l as Bs,O as us,z as es,x as Y,Q as Es,y as _s,G as ss,E as Ws,M as Hs,c as zs}from"./entry.b7ba11e8.js";/* empty css              */import{_ as Rs}from"./auto-pool-apy-tips.8f22f37b.js";import"./index.7af67803.js";import{u as Gs}from"./farms.e289056c.js";import{_ as Js}from"./upgrade-loading.e469be18.js";import{_ as Ns}from"./token-warning.294150be.js";import{b as gs,u as ys}from"./pool.29cf9521.js";import{i as is}from"./import-icon.de3e6c66.js";import{u as rs}from"./autoPool.07de2d3f.js";import{_ as Ts}from"./img-connect-wallet_2x.2b60981a.js";/* empty css              */import{_ as Qs}from"./img-no-Positions_2x.5f21b134.js";import"./decimal.0bdeb344.js";/* empty css              */import"./useSuiAggregator.0221e004.js";const Ks=ns({props:{list:{type:Array,default:()=>[]},listLoading:{type:Boolean,default:!1},totalTVL:{type:Number,default:0}},setup(s){const l=ts(),f=p(()=>l),y=I(!1);return{wallet:f,sFixD:Os,loading:y,addCommom:U}}});const ks=s=>(ds("data-v-938a12b7"),s=s(),cs(),s),Xs={class:"farms-banner-bg"},Zs={class:"vaults-banner"},xs={class:"vaults-banner-center"},so=ks(()=>o("div",{class:"title"},"Vaults",-1)),oo=ks(()=>o("div",{class:"desc"},"Automate your liquidity to enjoy high yield with ease.",-1)),eo={class:"claim-rewards"},to={class:"claim-title"},no=ks(()=>o("span",null,"Total Value Locked",-1)),lo={key:0,class:"loading-spin"},ao={key:1};function io(s,l,f,y,S,b){const _=Fs;return t(),n("div",Xs,[o("div",Zs,[o("div",xs,[so,oo,o("div",eo,[o("div",to,[no,s.listLoading?(t(),n("span",lo,[u(_)])):(t(),n("span",ao,"$"+g(("addCommom"in s?s.addCommom:V(U))(("sFixD"in s?s.sFixD:V(Os))(s.totalTVL||0,2))),1))])])])])])}const co=ls(Ks,[["render",io],["__scopeId","data-v-938a12b7"]]),ro=ns({setup(){const s=I(!1),l=ts(),f=p(()=>l),y=Gs(),S=p(()=>y),b=p(()=>S.value.farmsPoolList);return{isShowMore:s,wallet:f,walletStore:l,farmsPoolList:b}}});const X=s=>(ds("data-v-6e4541ed"),s=s(),cs(),s),uo={class:"vaults-table"},_o=X(()=>o("th",null,"Vaults",-1)),ho=X(()=>o("th",null,"TVL",-1)),vo=X(()=>o("th",null,"Rewards",-1)),po=X(()=>o("th",null,"Your Holdings",-1)),go=X(()=>o("th",null,"Actions",-1)),yo=X(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),ko={class:"pool"},bo={class:"staked-tvl"},mo={class:"apr"},fo={class:"my-staked"},$o={class:"my-staked"},wo={class:"actions"},So=X(()=>o("tr",{style:{height:"8px",background:"unset !important"}},null,-1));function Lo(s,l,f,y,S,b){const _=Rs,i=Vs;return t(),n("div",uo,[o("table",null,[o("thead",null,[o("tr",null,[_o,ho,o("th",null,[o("span",null,[R("APY "),u(_)])]),vo,po,go]),yo]),o("tbody",null,[(t(),n(M,null,os(4,($,j)=>(t(),n(M,{key:j},[o("tr",null,[o("td",null,[o("div",ko,[u(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1}),u(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",bo,[u(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",mo,[o("span",null,[u(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),o("td",null,[o("div",fo,[u(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",$o,[u(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",wo,[u(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),So],64))),64))])])])}const Co=ls(ro,[["render",Lo],["__scopeId","data-v-6e4541ed"]]),Ao=ns({props:{pItem:{type:Object,default:()=>({})}},setup(s){const l=gs(),f=p(()=>l),y=ys(),S=p(()=>y),b=d=>{var c;return(d==null?void 0:d.logoURI)||(d==null?void 0:d.logo_url)||((c=S.value.tokensObj[d==null?void 0:d.address])==null?void 0:c.logo_url)||(f.value.theme==="default"?is("/image/coins/unknown.png"):is("/image/coins/sui-unknown.png"))},_=I(!0),i=rs(),$=p(()=>i),j=p(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: vaults-position-card.vue:145 ~ positionInfo ~ autoPool.value.positionInfoObj:",$.value.positionInfoObj),$.value.positionInfoObj[s.pItem.id])),P=vs(),L=(d,c)=>{P.push(`/vaults-detail/${d.id}?action=${c}`)},v=d=>{const c=d.needReverse,O=c?d.token_b.address:d.token_a.address,N=c?d.token_a.address:d.token_b.address;P.push(`/swap?from=${O}&to=${N}`)},e=ts(),m=p(()=>e);return{getCoinIcon:b,direct:_,decimalUi:hs,addCommom:U,autoPool:$,positionInfo:j,toAutoPoolDetail:L,toSwap:v,wallet:m}}});const Z=s=>(ds("data-v-57c7b638"),s=s(),cs(),s),Po={class:"vaults-position-card"},Io={class:"auto-position-card-conetent"},Oo={key:0,class:"no-vaults-data no-data"},Vo=Z(()=>o("img",{src:Ts},null,-1)),jo={class:"item lp-tokens"},Bo={alt:""},Ro={class:"right"},No=Z(()=>o("div",{class:"top"},"Your LP tokens",-1)),To={class:"bottom"},Do={key:0,class:"lp-num"},qo={key:1,class:"lp-num"},Uo={class:"item yourBanlance"},Mo=Z(()=>o("div",{class:"top"},"Pooled assets",-1)),Yo={class:"bottom"},Fo={class:"token-info"},Eo={class:"token-num"},Wo={alt:""},Ho={key:0},zo={key:1},Go=Z(()=>o("p",null,"--",-1)),Jo=[Go],Qo={class:"token-num"},Ko={alt:""},Xo={key:0},Zo={key:1},xo=Z(()=>o("p",null,"--",-1)),se=[xo],oe={class:"item share"},ee=Z(()=>o("div",{class:"top"},"Share of pool",-1)),te={class:"bottom"},ne={key:0},le={key:1},ae=Z(()=>o("div",{class:"action"},[o("div",null,[o("div",{class:"remove-btn"}," Details> ")])],-1));function ie(s,l,f,y,S,b){var $,j,P,L,v,e,m,d,c,O;const _=ps,i=js("image");return t(),n("div",Po,[o("div",Io,[s.wallet.address?(t(),n("div",{key:1,class:"auto-position-card",onClick:l[1]||(l[1]=N=>s.toAutoPoolDetail(s.pItem,"deposit"))},[o("div",jo,[F(o("img",Bo,null,512),[[i,(j=($=s.positionInfo)==null?void 0:$.lpInfo)==null?void 0:j.logo_url]]),o("div",Ro,[No,o("div",To,[(P=s.wallet)!=null&&P.connected?(t(),n("div",Do,g(("addCommom"in s?s.addCommom:V(U))(("decimalUi"in s?s.decimalUi:V(hs))((L=s.positionInfo)==null?void 0:L.myLiquidity),4))+" LP",1)):(t(),n("div",qo,"--"))])])]),o("div",Uo,[Mo,o("div",Yo,[o("div",Fo,[o("div",Eo,[F(o("img",Wo,null,512),[[i,s.pItem.needReverse?s.pItem.coinB.logo_url:s.pItem.coinA.logo_url]]),(v=s.wallet)!=null&&v.connected?(t(),n("div",Ho,[o("span",null,g(("addCommom"in s?s.addCommom:V(U))((e=s.positionInfo)==null?void 0:e.amountA)),1),R(" "+g(s.pItem.needReverse?s.pItem.coinB.symbol:s.pItem.coinA.symbol),1)])):(t(),n("div",zo,Jo))]),o("div",Qo,[F(o("img",Ko,null,512),[[i,s.pItem.needReverse?s.pItem.coinA.logo_url:s.pItem.coinB.logo_url]]),(m=s.wallet)!=null&&m.connected?(t(),n("div",Xo,[o("span",null,g(("addCommom"in s?s.addCommom:V(U))((d=s.positionInfo)==null?void 0:d.amountB)),1),R(" "+g(s.pItem.needReverse?s.pItem.coinA.symbol:s.pItem.coinB.symbol),1)])):(t(),n("div",Zo,se))])])])]),o("div",oe,[ee,o("div",te,[(c=s.wallet)!=null&&c.connected?(t(),n("span",ne,g((O=s.positionInfo)==null?void 0:O.myShare)+"%",1)):(t(),n("span",le,"--%"))])]),ae])):(t(),n("div",Oo,[Vo,u(_,{class:"add-liquidity-btn",onClick:l[0]||(l[0]=N=>s.wallet.setIsShowWalletModal(!0))},{default:G(()=>[R("Connect Wallet")]),_:1})]))])])}const de=ls(Ao,[["render",ie],["__scopeId","data-v-57c7b638"]]),ce=ns({components:{TokenWarning:Ns},props:{list:{type:Array,default:()=>[]}},setup(){const{t:s}=Bs(),l=gs(),f=p(()=>l),y=ys(),S=p(()=>y),b=h=>{var B;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: vaults-table.vue:463 ~ getCoinIcon ~ info:",h),((B=S.value.tokensObj[h==null?void 0:h.address])==null?void 0:B.logo_url)||(f.value.theme==="default"?is("/image/coins/unknown.png"):is("/image/coins/sui-unknown.png"))},_=p(()=>S.value.tokensObj),i=p(()=>f.value.statsData),$=p(()=>f.value.theme),j=rs(),P=p(()=>j),L=I({}),v=h=>{L.value[h]?L.value[h]=!1:L.value[h]=!0},e=p(()=>P.value.positionInfoObj),m=ts(),d=p(()=>m),c=I(!1),O=vs(),N=(h,B)=>{O.push(`/vaults-detail/${h.id}?action=${B}`)},T=h=>{const B=h.needReverse,E=B?h.token_b.address:h.token_a.address,W=B?h.token_a.address:h.token_b.address;O.push(`/swap?from=${E}&to=${W}`)},D=I(!0);return{router:O,getCoinIcon:b,tokensObj:_,t:s,statsData:i,checkNullObj:J,addCommom:U,importIcon:is,theme:$,isShowPosition:L,togglePosition:v,positionInfo:e,wallet:d,isShowDetail:c,toAutoPoolDetail:N,toSwap:T,direct:D}}});const A=s=>(ds("data-v-a3a74c14"),s=s(),cs(),s),re={class:"vaults-table-contianer"},ue={class:"table pc-pool-item"},_e={class:"table-header"},he={class:"table-tr"},ve=A(()=>o("th",null,"Vaults",-1)),pe=A(()=>o("th",null,"TVL",-1)),ge={class:"apy"},ye=A(()=>o("span",null,"APY",-1)),ke=A(()=>o("svg",{"aria-hidden":"true",class:"icon"},[o("use",{"xlink:href":"#icon-icon-tips1"})],-1)),be=A(()=>o("th",null,"Rewards",-1)),me=A(()=>o("th",null,"Your Holdings",-1)),fe=A(()=>o("th",null,"Actions",-1)),$e=A(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),we={class:"table-body"},Se=["onClick"],Le={class:"token"},Ce={class:"img-box"},Ae={class:"img-box img-last-box"},Pe={class:"name"},Ie={class:"top"},Oe={class:"token-name"},Ve={class:"tokena"},je={class:"tokenb"},Be={class:"fee-warning"},Re={class:"fee-tier-top"},Ne={key:0},Te={class:"skeleton-box"},De={key:1},qe={key:2},Ue={class:"skeleton-box"},Me={key:3},Ye={class:"rewards-coin"},Fe={key:4},Ee={class:"skeleton-box"},We={key:5},He={class:"show-position"},ze={class:"svg-icon"},Ge=A(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),Je=[Ge],Qe={key:0,class:"table-tr view-table-tr"},Ke={colspan:"6"},Xe=A(()=>o("td",null,null,-1)),Ze=A(()=>o("tr",{style:{height:"8px",background:"unset"}},null,-1)),xe={class:"h5-pool-item"},st={class:"token"},ot={class:"img-box"},et={key:0,class:"pool-warning"},tt={class:"img-box img-last-box"},nt={key:0,class:"pool-warning"},lt={class:"name"},at={class:"top"},it={class:"token-name"},dt={class:"tokena"},ct={class:"tokenb"},rt={class:"fee-warning"},ut={class:"fee-tier-top"},_t={class:"bottom"},ht={class:"row"},vt=A(()=>o("div",{class:"left"},"TVL",-1)),pt={key:0,class:"right"},gt={key:1,class:"right"},yt={class:"row"},kt=A(()=>o("div",{class:"left"},"APY",-1)),bt={key:0,class:"right"},mt={key:1,class:"right theme-right"},ft={class:"row"},$t=A(()=>o("div",{class:"left"},"Rewards",-1)),wt={class:"right"},St={class:"rewards-coin"},Lt={class:"row"},Ct=A(()=>o("div",{class:"left"},"Your Holdings",-1)),At={key:0,class:"right"},Pt={key:1,class:"right"},It=["onClick"],Ot=A(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),Vt=[Ot],jt={key:0,class:"h5-auto-pool-details"},Bt={class:"h5-item lp-tokens"},Rt=A(()=>o("div",{class:"top"},"Your LP tokens",-1)),Nt={class:"bottom"},Tt={key:0,class:"lp-num"},Dt={key:1,class:"lp-num"},qt={class:"h5-item share"},Ut=A(()=>o("div",{class:"top"},"Share",-1)),Mt={class:"bottom"},Yt={key:0},Ft={key:1},Et={class:"h5-item yourBanlance"},Wt=A(()=>o("div",{class:"top"},"Pooled assets",-1)),Ht={class:"bottom"},zt={class:"token-info"},Gt={class:"token-num"},Jt={alt:""},Qt={key:0},Kt={key:1},Xt=A(()=>o("p",null,"--",-1)),Zt=[Xt],xt={class:"token-num"},sn={alt:""},on={key:0},en={key:1},tn=A(()=>o("p",null,"--",-1)),nn=[tn],ln={class:"action"},an=["onClick"];function dn(s,l,f,y,S,b){const _=Rs,i=Ns,$=Vs,j=Es,P=ps,L=de,v=js("image");return t(),n("div",re,[o("table",ue,[o("thead",_e,[o("tr",he,[ve,pe,o("th",null,[o("div",ge,[ye,ke,u(_)])]),be,me,fe]),$e]),o("tbody",we,[(t(!0),n(M,null,os(s.list,(e,m)=>{var d,c,O,N,T,D,h,B,E,W,Q,z,K;return t(),n(M,{key:m},[o("tr",{class:"table-tr",onClick:q=>s.togglePosition(m)},[o("td",null,[o("div",Le,[o("div",Ce,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),u(i,{address:e.needReverse?(c=e==null?void 0:e.coinB)==null?void 0:c.address:(d=e==null?void 0:e.coinA)==null?void 0:d.address,"style-params":{right:0,bottom:0,width:"14px",height:"14px"}},null,8,["address"])]),o("div",Ae,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),u(i,{address:e.needReverse?(N=e.coinA)==null?void 0:N.address:(O=e==null?void 0:e.coinB)==null?void 0:O.address,"style-params":{right:0,bottom:0,width:"14px",height:"14px"}},null,8,["address"])]),o("div",Pe,[o("div",Ie,[o("p",Oe,[o("span",Ve,g(e.needReverse?(D=e==null?void 0:e.coinB)==null?void 0:D.symbol:(T=e==null?void 0:e.coinA)==null?void 0:T.symbol),1),R(" - "),o("span",je,g(e.needReverse?(h=e==null?void 0:e.coinA)==null?void 0:h.symbol:(B=e==null?void 0:e.coinB)==null?void 0:B.symbol),1)]),o("div",Be,[o("div",Re,g((e==null?void 0:e.fee)*100)+"%",1)])])])])]),("checkNullObj"in s?s.checkNullObj:V(J))(s.statsData)?(t(),n("td",Ne,[o("div",Te,[u($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",De," $"+g(Number(e.poolUSD||e.liqidity)!==0&&Number(e.poolUSD||e.liqidity)<.01?"<0.01":("addCommom"in s?s.addCommom:V(U))(e.poolUSD||e.liqidity,2)),1)),("checkNullObj"in s?s.checkNullObj:V(J))(s.statsData)?(t(),n("td",qe,[o("div",Ue,[u($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",Me,g(e.apy),1)),o("td",null,[u(j,{"overlay-class-name":"reward-coin-tips"},{title:G(()=>[R("Rewards will be auto harvested and compounded to your position.")]),default:G(()=>[o("div",Ye,[(t(!0),n(M,null,os(e.rewardList,q=>(t(),n("div",{key:q,class:"img-box"},[F(o("img",null,null,512),[[v,s.getCoinIcon({address:q})]]),u(i,{address:q,"style-params":{right:0,bottom:0,width:"8px",height:"8px"}},null,8,["address"])]))),128))])]),_:2},1024)]),(E=s.wallet)!=null&&E.connected&&!((Q=(W=s.positionInfo)==null?void 0:W[e==null?void 0:e.id])!=null&&Q.myLiquidityUSD)?(t(),n("td",Fe,[o("div",Ee,[u($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",We,[s.wallet.connected?(t(),n(M,{key:0},[R(g(((z=s.positionInfo[e.id])==null?void 0:z.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:V(U))((K=s.positionInfo[e.id])==null?void 0:K.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(M,{key:1},[R("--")],64))])),o("td",null,[o("div",He,[u(P,{class:"add-liquidity-btn",onClick:us(q=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:G(()=>[R("Deposit")]),_:2},1032,["onClick"]),o("div",ze,[(t(),n("svg",{"aria-hidden":"true",class:es(["icon",s.isShowPosition&&s.isShowPosition[m]?"icon-open":""])},Je,2))])])])],8,Se),s.isShowPosition&&s.isShowPosition[m]?(t(),n("tr",Qe,[o("td",Ke,[u(L,{"p-item":e},null,8,["p-item"])]),Xe])):Y("",!0),Ze],64)}),128))])]),o("div",xe,[(t(!0),n(M,null,os(s.list,(e,m)=>{var d,c,O,N,T,D,h,B,E,W,Q,z,K;return t(),n("div",{key:e.address,class:"item"},[o("div",st,[o("div",ot,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),(e.needReverse?(c=s.tokensObj[e.coinB.address])!=null&&c.isSelfBuilt:(d=s.tokensObj[e.coinA.address])!=null&&d.isSelfBuilt)?(t(),n("div",et)):Y("",!0)]),o("div",tt,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),(e.needReverse?(O=s.tokensObj[e.coinA.address])!=null&&O.isSelfBuilt:(N=s.tokensObj[e.coinB.address])!=null&&N.isSelfBuilt)?(t(),n("div",nt)):Y("",!0)]),o("div",lt,[o("div",at,[o("p",it,[o("span",dt,g(e.needReverse?e.coinB.symbol:e.coinA.symbol),1),R(" - "),o("span",ct,g(e.needReverse?e.coinA.symbol:e.coinB.symbol),1)]),o("div",rt,[o("div",ut,g((e==null?void 0:e.fee)*100)+"%",1)])])])]),o("div",_t,[o("div",ht,[vt,("checkNullObj"in s?s.checkNullObj:V(J))(s.statsData)?(t(),n("div",pt,[u($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",gt," $"+g(Number(e.poolUSD||e.liqidity)!==0&&Number(e.poolUSD||e.liqidity)<.01?"<0.01":("addCommom"in s?s.addCommom:V(U))(e.poolUSD||e.liqidity,2)),1))]),o("div",yt,[kt,("checkNullObj"in s?s.checkNullObj:V(J))(s.statsData)?(t(),n("div",bt,[u($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",mt,[o("span",null,g(e.apy),1),u(_)]))]),o("div",ft,[$t,o("div",wt,[u(j,{"overlay-class-name":"reward-coin-tips"},{title:G(()=>[R("Rewards will be auto harvested and compounded to your position.")]),default:G(()=>[o("div",St,[(t(!0),n(M,null,os(e.rewardList,q=>(t(),n("div",{key:q,class:"img-box"},[F(o("img",null,null,512),[[v,s.getCoinIcon({address:q})]]),u(i,{address:q,"style-params":{right:0,bottom:0,width:"8px",height:"8px"}},null,8,["address"])]))),128))])]),_:2},1024)])]),o("div",Lt,[Ct,("checkNullObj"in s?s.checkNullObj:V(J))(s.positionInfo)&&((T=s.wallet)!=null&&T.connected)?(t(),n("div",At,[u($,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",Pt,[(D=s.wallet)!=null&&D.connected?(t(),n(M,{key:0},[R(g(((h=s.positionInfo[e.id])==null?void 0:h.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:V(U))((B=s.positionInfo[e.id])==null?void 0:B.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(M,{key:1},[R("--")],64))]))])]),u(P,{class:"h5-add-liquidity-btn",onClick:us(q=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:G(()=>[R("Deposit")]),_:2},1032,["onClick"]),o("div",{class:es(["details-btn",s.isShowPosition&&s.isShowPosition[m]?"details-btn-text-active":""]),onClick:q=>s.togglePosition(m)},[(t(),n("svg",{"aria-hidden":"true",class:es(["icon",s.isShowPosition&&s.isShowPosition[m]?"icon-active":""])},Vt,2))],10,It),s.isShowPosition&&s.isShowPosition[m]?(t(),n("div",jt,[o("div",Bt,[Rt,o("div",Nt,[(E=s.wallet)!=null&&E.connected?(t(),n("div",Tt,g(("addCommom"in s?s.addCommom:V(U))(("decimalUi"in s?s.decimalUi:V(hs))(e==null?void 0:e.myLiquidity,4)))+" LP",1)):(t(),n("div",Dt,"--"))])]),o("div",qt,[Ut,o("div",Mt,[(W=s.wallet)!=null&&W.connected?(t(),n("span",Yt,g(((Q=s.positionInfo[e.id])==null?void 0:Q.myShare)||(e==null?void 0:e.myShare))+"%",1)):(t(),n("span",Ft,"--%"))])]),o("div",Et,[Wt,o("div",Ht,[o("div",zt,[o("div",Gt,[F(o("img",Jt,null,512),[[v,e.needReverse?e.coinB.logo_url:e.coinA.logo_url]]),(z=s.wallet)!=null&&z.connected?(t(),n("div",Qt,[o("span",null,g(("addCommom"in s?s.addCommom:V(U))(e==null?void 0:e.amountA))+" "+g(e.needReverse?e.coinB.symbol:e.coinA.symbol),1)])):(t(),n("div",Kt,Zt))]),o("div",xt,[F(o("img",sn,null,512),[[v,e.needReverse?e.coinA.logo_url:e.coinB.logo_url]]),(K=s.wallet)!=null&&K.connected?(t(),n("div",on,[o("span",null,g(("addCommom"in s?s.addCommom:V(U))(e==null?void 0:e.amountB))+" "+g(e.needReverse?e.coinA.symbol:e.coinB.symbol),1)])):(t(),n("div",en,nn))])])])]),o("div",ln,[o("div",null,[o("div",{class:"remove-btn",onClick:q=>s.toAutoPoolDetail(e,"remove")},"Details",8,an)])])])):Y("",!0)])}),128))])])}const cn=ls(ce,[["render",dn],["__scopeId","data-v-a3a74c14"]]),rn=ns({props:{selectValue:{type:String,default:""},showList:{type:Object,default:()=>({})}},setup(s,l){const f=["All Vaults","My Vaults"],y=I("All Vaults"),S=I(s.selectValue),b=I(!1),_=I(!1),i=ts(),$=p(()=>i),j=rs(),P=p(()=>j),L=p(()=>P.value.autoPoolList),v=()=>s.showList.length,e=()=>{l.emit("clickRefresh")},m=c=>{S.value=c,l.emit("changeSort",c)},d=c=>{y.value=c,c=="My Vaults"?l.emit("changeTab",!0):l.emit("changeTab",!1)};return _s(()=>{document.addEventListener("click",()=>{_.value=!1})}),{isOpenList:_,wallet:$,changeSort:m,tabList:f,currentTab:y,sortValue:S,clickRefresh:e,isRefresh:b,vaultsPoolList:L,getListNum:v,changeTab:d}}});const as=s=>(ds("data-v-7a5b0d7d"),s=s(),cs(),s),un={class:"vaults-tab"},_n={class:"tab-left"},hn=["onClick"],vn={key:0},pn={class:"tab-right"},gn={class:"sort-select"},yn=as(()=>o("div",null,"Sort by",-1)),kn={class:"showSort"},bn=as(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),mn=as(()=>o("use",{"xlink:href":"#icon-icon_arrow"},null,-1)),fn=[mn],$n={key:0,class:"sort-list"},wn=as(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),Sn=as(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),Ln={class:"refresh"},Cn=as(()=>o("use",{"xlink:href":"#icon-icon-refresh2"},null,-1)),An=[Cn];function Pn(s,l,f,y,S,b){return t(),n("div",un,[o("div",_n,[(t(!0),n(M,null,os(s.tabList,_=>(t(),n("div",{key:_,class:es(["tab-item",s.currentTab==_?"tab-item-active":""]),onClick:i=>s.changeTab(_)},[o("span",null,g(_),1),s.currentTab==_&&s.getListNum()?(t(),n("p",vn,g(s.currentTab=="My Vaults"&&!s.wallet.address?0:s.getListNum()),1)):Y("",!0)],10,hn))),128))]),o("div",pn,[o("div",gn,[o("div",{class:"sort-select-box",onClick:l[0]||(l[0]=us(_=>s.isOpenList=!s.isOpenList,["stop"]))},[yn,o("div",kn,[o("span",null,g(s.sortValue),1),bn,(t(),n("svg",{class:es(["arrow-icon",s.isOpenList?"arrow-icon-active":""]),"aria-hidden":"true"},fn,2))])]),s.isOpenList?(t(),n("div",$n,[o("div",{class:"sort-item",onClick:l[1]||(l[1]=_=>s.changeSort("APY"))},[R(" APY "),wn]),o("div",{class:"sort-item",onClick:l[2]||(l[2]=_=>s.changeSort("TVL"))},[R(" TVL "),Sn])])):Y("",!0)]),o("div",Ln,[(t(),n("svg",{"aria-hidden":"true",class:es(["refresh-icon",s.isRefresh?"refreshing":""]),onClick:l[3]||(l[3]=(..._)=>s.clickRefresh&&s.clickRefresh(..._))},An,2))])])])}const In=ls(rn,[["render",Pn],["__scopeId","data-v-7a5b0d7d"]]),On=ns({components:{VaultsTabs:In},setup(){Bs();const s=gs(),l=p(()=>s),f=ys(),y=p(()=>f),S=rs(),b=p(()=>S),_=ts(),i=p(()=>_),$=p(()=>b.value.positionInfoObj),j=p(()=>l.value.chainName),P=I(!1),L=I(!1),v=I("TVL"),e=I(["APY"]),m=I(!1),d=a=>{console.log(a,"w121");const w=[];w.push(v.value),e.value.forEach((C,r)=>{C!=a&&w.push(C)}),e.value=w,v.value=a,N(b.value.positionInfoList)};_s(()=>{document.addEventListener("click",()=>{z("")})});const c=I([]),O=I(!0),N=a=>{console.log(a,v.value,"##poolListselectValue.valueselectValue.value");const w=[];a.filter(r=>!r.is_pause).forEach(r=>{var bs,ms,fs,$s,ws,Ss,Ls,Cs,As,Ps,Is;console.log("ðŸš€ðŸš€ðŸš€ ~ file: vaults.vue:389 ~ watchPools ~ ele:",r);const k=l.value.addressLpTokens[r.address],H=y.value.poolsObj[r.address];console.log(b.value.apyObj,"##autoPool.value.apyObj");const x=((bs=b.value.apyObj[r.id])==null?void 0:bs.apr)||"0%",Ds=((ms=b.value.apyObj[r.id])==null?void 0:ms.resultApr)||"0",qs=((fs=b.value.apyObj[r.id])==null?void 0:fs.tvl)||0;console.log(r.autoPoolPositionInfo.id,"###watchPools 246"),console.log(k,"##statsObj");const Us=r.needReverse?((Ls=y.value.tokensObj[(Ss=r.coinB)==null?void 0:Ss.address])==null?void 0:Ls.labels)||[]:((ws=y.value.tokensObj[($s=r.coinA)==null?void 0:$s.address])==null?void 0:ws.labels)||[],Ms=r.needReverse?((As=y.value.tokensObj[(Cs=r.coinA)==null?void 0:Cs.address])==null?void 0:As.labels)||[]:((Is=y.value.tokensObj[(Ps=r.coinB)==null?void 0:Ps.address])==null?void 0:Is.labels)||[],Ys=[...new Set(Us.concat(Ms))];w.push({...r,liqidity:qs,vol:k?k.vol_in_usd_24h:"0",fee:r.fee?r.fee:H!=null&&H.fee?H.fee:"--",labels:Ys,isFarming:r==null?void 0:r.isFarming,fee_24_h:k&&k.fee_24_h,apy:x,resultApr:Ds})});let C=[];v.value=="APY"?(console.log(v.value,"selectValue.valueselectValue.value"),C=w.sort((r,k)=>Number(k.resultApr)-Number(r.resultApr))):C=w.sort((r,k)=>Number(k.liqidity)-Number(r.liqidity)),c.value=C,console.log(c.value.length,"##list.value.length"),f.setAutoPoolNum(c.value.length),O.value=!1,console.log(c.value,"##list.value")};ss(()=>[b.value.positionInfoList,b.value.apyObj,y.value.poolConfigObj],([a,w,C])=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: vaults.vue:174 ~ setup ~ positionInfoList:",a),a&&a.length>0&&C&&!J(C)&&(console.log(a,"###autoPoolList"),N(a))},{immediate:!0,deep:!0}),ss(()=>[i.value.address,b.value.autoPoolList,y.value.poolConfigObj],([a,w,C])=>{a&&w&&w.length>0&&C&&!J(C)?(console.log("ðŸš€ ~ file: vaults.vue:191 ~ setup ~ address:",a),S.getMyAutoPoolPosition()):w&&w.length&&N(w)},{immediate:!0});const T=I(null),D=p(()=>T.value&&T.value.firstToken?T.value.firstToken:null),h=p(()=>T.value&&T.value.lastToken?T.value.lastToken:null),B=I(),E=I(0),W=()=>{let a=[];a=c.value,console.log(a,"##pageList"),E.value=a.reduce((k,H)=>Number(k)+Number(H.poolUSD||H.liqidity),0);const w=a.filter((k,H)=>D.value&&h.value?k.coinA.address==D.value.address&&k.coinB.address==h.value.address||k.coinA.address==h.value.address&&k.coinB.address==D.value.address:D.value?k.coinA.address.toLowerCase().includes(D.value.address.toLowerCase())||k.coinB.address.toLowerCase().includes(D.value.address.toLowerCase()):h.value?k.coinA.address.toLowerCase().includes(h.value.address.toLowerCase())||k.coinB.address.toLowerCase().includes(h.value.address.toLowerCase()):a);let C=[],r=[];console.log(w,"##filterArr"),w.forEach((k,H)=>{console.log(k,"irem##");const x=$.value&&$.value[k.id];console.log(x,"##positionInfo"),P.value&&Number(x==null?void 0:x.myLiquidity)>0&&i.value.connected?r.push(k):C.push({...k})}),console.log(C,"121arrnewValnewValnewVal"),B.value=P.value&&i.value.connected?r:C,console.log(B.value,"##showList.value "),O.value||(P.value&&i.value.connected?f.setAutoPoolNum(r.length):f.setAutoPoolNum(C.length))};ss(()=>[D.value,h.value,c.value,P.value,i.value.address],([a,w,C,r])=>{(a||w||C||r)&&(console.log("newValnewValnewVal",a,w,C,JSON.stringify(C)),W())},{immediate:!0}),Ws(()=>{f.setAutoPoolNum("--")});const Q=p(()=>y.value.autoPoolNum),z=a=>{a=="label"?(s.setIsSelect("pools"),m.value=!m.value,L.value=!1,l.value.setIsShowMore(!1)):a=="select"?(s.setIsSelect("pools"),L.value=!L.value,m.value=!1,l.value.setIsShowMore(!1)):(L.value=!1,m.value=!1)};ss(()=>l.value.isSelect,a=>{a!=="pools"&&z("")},{immediate:!0});const K=vs(),q=()=>{O.value=!0,S.getAutoPoolList()};return ss(()=>j.value,a=>{a=="Aptos"&&K.push("/pools")},{immediate:!0}),ss(()=>[y.value.poolConfigList,b.value.autoPoolList],([a,w])=>{a&&a.length>0&&w&&w.length==0&&S.getAutoPoolList()},{immediate:!0}),_s(()=>{S.getAutoPoolAPY()}),{totalTVL:E,clickRefresh:q,isMyLiquidity:P,chainName:j,store:l,select:L,selectValue:v,selectList:e,label:m,changeSort:d,list:c,listLoading:O,showList:B,childTokenSelectRef:T,wallet:i,autoPoolNum:Q}}});const Vn={class:"vaults-container-new"},jn={class:"vaults-container-center"},Bn={class:"auto-pool"},Rn={key:0,class:"no-vaults-data no-data"},Nn=o("img",{src:Ts},null,-1),Tn={key:0,class:"upgrade-loading pc-loading"},Dn={key:1,class:"upgrade-loading h5-loading"},qn={key:3,class:"no-vaults-data"},Un=o("img",{src:Qs},null,-1),Mn=o("span",{class:"no-vaults"},"No vaults found",-1),Yn=[Un,Mn];function Fn(s,l,f,y,S,b){const _=co,i=Hs("VaultsTabs"),$=ps,j=Co,P=Js,L=cn;return t(),n("div",Vn,[u(_,{list:s.showList,"total-t-v-l":s.totalTVL,"list-loading":s.listLoading},null,8,["list","total-t-v-l","list-loading"]),o("div",jn,[u(i,{"select-value":s.selectValue,"show-list":s.showList,onChangeSort:l[0]||(l[0]=v=>s.changeSort(v)),onChangeTab:l[1]||(l[1]=v=>{s.isMyLiquidity=v}),onClickRefresh:s.clickRefresh},null,8,["select-value","show-list","onClickRefresh"]),o("div",Bn,[s.isMyLiquidity&&!s.wallet.address?(t(),n("div",Rn,[Nn,u($,{class:"add-liquidity-btn",onClick:l[2]||(l[2]=v=>s.wallet.setIsShowWalletModal(!0))},{default:G(()=>[R("Connect Wallet")]),_:1})])):Y("",!0),s.isMyLiquidity&&s.wallet.address&&s.listLoading||!s.isMyLiquidity&&s.listLoading?(t(),n(M,{key:1},[s.listLoading?(t(),n("div",Tn,[u(j)])):Y("",!0),s.listLoading?(t(),n("div",Dn,[u(P,{type:"poolsCard",loading:!0,source:"vaults"})])):Y("",!0)],64)):Y("",!0),s.isMyLiquidity&&s.wallet.address&&!s.listLoading||!s.isMyLiquidity&&!s.listLoading?(t(),zs(L,{key:2,list:s.showList},null,8,["list"])):Y("",!0),s.autoPoolNum!=="--"&&Number(s.autoPoolNum)<=0&&!s.listLoading?(t(),n("div",qn,Yn)):Y("",!0)])])])}const al=ls(On,[["render",Fn]]);export{al as default};
