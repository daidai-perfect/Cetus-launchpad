import{_ as U}from"./token-warning.ef52baec.js";import{a as se,u as te,f as p,F as D,c as le,E as W,l as ie}from"./pool.bc7b9a37.js";import{a as de,l as re,m,a3 as ue,a4 as me,r as O,D as H,E as ce,e as pe,q as ge,o,f as u,h as n,c as d,z as N,t as M,x as c,i as B,w as S,v as i,u as y,j as w,I as fe,S as ve,B as he,a5 as be,p as ke,k as ye}from"./entry.8a717f77.js";import"./index.5b44d27d.js";/* empty css              */import{i as $e}from"./import-icon.de3e6c66.js";import{u as Ce}from"./index.601bad75.js";import{D as q}from"./decimal.765d8738.js";import{u as Se}from"./useDebounceFunction.d716b9ab.js";const we=de({components:{TokenWarning:U},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},havehalf:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""},amountLeabl:{type:String,default:""},isShowAmountPrice:{type:Boolean,default:!0},convertAssetsLoading:{type:Boolean,default:!1},swapLoading:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e,s){const{t:z,locale:J}=re(),E=se(),V=m(()=>E),L=m(()=>new q(Number(e.balance)).div(2)),f=ue(me,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function I(){this.$emit("onSelect")}O("");const T=Se(a=>{s.emit("onInput",a),s.emit("onInputLoading",!1)},500),b=O(""),P=a=>{const t=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(r==null?void 0:r.value)&&(r==null?void 0:r.value)}})?).*$`),h=a.target.value.replace(/,/g,"").replace(t,"$1");h>0&&s.emit("onInputLoading",!0),T(h)},k=a=>{var R;const t=a.target.selectionStart,h=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(r==null?void 0:r.value)&&(r==null?void 0:r.value)}})?).*$`);console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",a.target.value);let g=a.target.value.replace(/,/g,"").replace(h,"$1");console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ value:",g),console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.inputType:",a.inputType);let $=g.includes(".")&&String(p(g))==="0"?g:String(p(g));const ne=W(a.target.value),j=W($),F=j.length-ne.length;let C=t+F;if((R=a==null?void 0:a.inputType)!=null&&R.includes("delete")&&F>0&&t===j[j.length-1]){const A=a.target.value.slice(0,t-1)+a.target.value.slice(t);$=String(p(A.replace(/,/g,""))),C=C-2}console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",$),b.value=$||"",setTimeout(()=>{try{a.target.setSelectionRange(C<0?0:C,C<0?0:C)}catch(A){console.log("ðŸš€ ~ file: assets-card.vue:307 ~ setTimeout ~ error:",A)}},0)};H(()=>e.inputValue,a=>{console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ newValue:",a);const t=a.includes(".")&&String(p(a))==="0"?a:String(p(a));console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ fValue:",t),t!==b.value&&(b.value=t)},{immediate:!0});const K=Ce(),Q=m(()=>K),X=te(),l=m(()=>X),Y=m(()=>l.value.tokensWarningObj);let v=O({});H(()=>l.value.RATES,a=>{a&&(v.value=a)},{immediate:!0,deep:!0});const Z=m(()=>{var h,g,$;const a=(v==null?void 0:v.value)&&((h=v==null?void 0:v.value)==null?void 0:h[e.address])&&(($=(g=v==null?void 0:v.value)==null?void 0:g[e.address])==null?void 0:$.price)||0,t=new q(e.inputValue||0).mul(a).toNumber();return a<=0?0:t>0&&t<.01?"<$0.01":ie(t,2)}),_=m(()=>{var a,t;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.labels)&&((t=l.value.tokensObj[e.address])==null?void 0:t.labels[0])}),r=m(()=>{var a;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.decimals)}),x=m(()=>{var a,t,h,g;return e.coinIcon||((t=(a=l==null?void 0:l.value)==null?void 0:a.tokensObj[e.address])==null?void 0:t.logo_url)||((g=(h=l==null?void 0:l.value)==null?void 0:h.tokensObj[e.address])==null?void 0:g.logoURI)||""}),ee=m(()=>l.value.tokensObj),ae=m(()=>V.value.theme),oe=m(()=>l.value.isTokenLoading);return{route:ce(),theme:ae,currentIcon:x,tokensObj:ee,pool:l,halfBalance:L,coinLabels:_,t:z,addCommom:p,store:V,wallet:Q,indicator:f,inputChange:P,importIcon:$e,selectCoin:I,amountPirce:Z,coinDecimals:r,formatNumber:D,tokensWarningObj:Y,checkNullObj:le,isTokenLoading:oe,formattedValue:b,handleInput:k}}});const G=e=>(ke("data-v-cb006bbb"),e=e(),ye(),e),Le={class:"card"},Ie={class:"pc-card"},Te={class:"card-top"},Pe={class:"loading-token"},Ne={key:1},Be={key:0},Ve=G(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),je=[Ve],Ae={class:"card-bottom"},Oe={key:0,class:"amount-price"},De={key:1},ze={class:"top"},Ee={class:"right"},Fe={class:"balance"},Re={key:1},We={class:"h5-card"},He={class:"card-bottom"},Me={class:"tit"},qe={class:"top"},Ue={class:"right"},Ge={class:"balance"},Je={key:1},Ke={class:"card-top"},Qe={class:"loading-token"},Xe={key:1},Ye={key:0},Ze=G(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),_e=[Ze],xe={key:0,class:"amount-price"},ea={key:1};function aa(e,s,z,J,E,V){const L=fe,f=ve,I=be,T=U,b=he,P=ge("image");return o(),u("div",Le,[n("div",Ie,[n("div",Te,[e.swapLoading?(o(),d(f,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(o(),d(L,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[0]||(s[0]=k=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),n("div",{class:N(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[1]||(s[1]=k=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[n("div",Pe,[e.isTokenLoading?(o(),d(I,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?M((o(),u("img",Ne,null,512)),[[P,e.currentIcon]]):c("",!0),B(T,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),B(f,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:S(()=>[n("div",null,[n("p",null,i(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(o(),u("p",Be,i(e.coinLabels),1)):c("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(o(),u("svg",{key:0,class:N(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},je,2)):c("",!0)],2)]),n("div",Ae,[e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(o(),u("div",Oe,i(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(D))(e.amountPirce)}`:`${e.amountPirce}`),1)):(o(),u("div",De,[e.swapLoading?(o(),d(f,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):c("",!0)])),n("div",ze,[n("div",Ee,[w(i(e.amountLeabl?e.amountLeabl:e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),n("span",Fe,[e.convertAssetsLoading?(o(),d(f,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(o(),u("span",Re,i(e.wallet.connected?("addCommom"in e?e.addCommom:y(p))(e.balance,e.coinDecimals):"0"),1))]),e.havehalf&&e.wallet.connected?(o(),d(b,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(p))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[2]||(s[2]=k=>e.$emit("onHalf"))},{default:S(()=>[w(i("Half"))]),_:1},8,["disabled"])):c("",!0),e.havemax&&e.wallet.connected?(o(),d(b,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(p))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[3]||(s[3]=k=>e.$emit("onMax"))},{default:S(()=>[w(i(e.$t("button.max")),1)]),_:1},8,["disabled"])):c("",!0)])])])]),n("div",We,[n("div",He,[n("div",Me,i(e.title),1),n("div",qe,[n("div",Ue,[w(i(e.amountLeabl?e.amountLeabl:e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),n("span",Ge,[e.convertAssetsLoading?(o(),d(f,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(o(),u("span",Je,i(e.wallet.connected?("addCommom"in e?e.addCommom:y(p))(e.balance,e.coinDecimals):"0"),1))]),e.havehalf&&e.wallet.connected?(o(),d(b,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(p))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[4]||(s[4]=k=>e.$emit("onHalf"))},{default:S(()=>[w(i("Half"))]),_:1},8,["disabled"])):c("",!0),e.havemax&&e.wallet.connected?(o(),d(b,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(p))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[5]||(s[5]=k=>e.$emit("onMax"))},{default:S(()=>[w(i(e.$t("button.max")),1)]),_:1},8,["disabled"])):c("",!0)])])]),n("div",Ke,[e.swapLoading?(o(),d(f,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(o(),d(L,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[6]||(s[6]=k=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),n("div",{class:N(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[7]||(s[7]=k=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[n("div",Qe,[e.isTokenLoading?(o(),d(I,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?M((o(),u("img",Xe,null,512)),[[P,e.currentIcon]]):c("",!0),B(T,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),B(f,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:S(()=>[n("div",null,[n("p",null,i(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(o(),u("p",Ye,i(e.coinLabels),1)):c("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(o(),u("svg",{key:0,class:N(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},_e,2)):c("",!0)],2)]),e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(o(),u("div",xe,i(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(D))(e.amountPirce)}`:`${e.amountPirce}`),1)):(o(),u("div",ea,[e.swapLoading?(o(),d(f,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):c("",!0)]))])])}const ca=pe(we,[["render",aa],["__scopeId","data-v-cb006bbb"]]);export{ca as _};
