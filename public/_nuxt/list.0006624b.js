import{P as oe}from"./pool-position-tab.43105317.js";import{u as te,P as le}from"./pool-filter-block.f5707e89.js";import{R as x,A as se,P as ae}from"./apr-tips.a07e7088.js";import{u as ie}from"./useToken.bf991279.js";import{u as K}from"./filter-pool-by-coin.408c9348.js";import{u as ne}from"./stats.123cef8e.js";import{c as re}from"./index.41b0d1ac.js";import{u as ue}from"./useStatsData.2c7bfc9d.js";import{R as ce,T as de,a as pe}from"./to-add.e751b8eb.js";import{N as ve,T as me}from"./no-data.dfc4d3f8.js";import{a as fe,r as M,m as u,D as _e,y as Q,M as he,o as g,f as w,i as s,w as U,h as n,v as H,x as G,c as J,F as ge,p as Pe,k as be,e as X,C as ye}from"./entry.22adb4af.js";import"./select-tab.d4e7b4d5.js";import"./icon-selected_3x.09e9a6f0.js";import"./pool.9983c570.js";import"./decimal.0bdeb344.js";import"./useSDK.f7e79529.js";/* empty css              */import"./coin-img.bcbf7474.js";import"./token-warning_2x.bfd51882.js";import"./token.d4ee571e.js";import"./token-warning-new.4757cbdb.js";import"./import-icon.de3e6c66.js";import"./nuxt-link.fce7259e.js";import"./icon_farms_2x.51c43720.js";import"./farms.2787f6e0.js";import"./icon_autopools_2x.fc1e7f6e.js";import"./icon_autopools_2x.33a64478.js";import"./icon_fee_2x.93e3939f.js";import"./icon_rewards_2x.4909423d.js";import"./coin-select.1c5356f9.js";/* empty css              */import"./img-no-Positions_2x.85a2c1fd.js";import"./img-no-Positions_2x.ad991230.js";import"./formatter.d95cb71e.js";/* empty css              */import"./index.302e1bc6.js";const D=P=>(Pe("data-v-a06e5f4a"),P=P(),be(),P),Ae={key:0,class:"virtual-table"},Se=D(()=>n("th",null,"Pool",-1)),Le=D(()=>n("th",null,"Mining Rewards",-1)),ke=D(()=>n("th",null,"Actions",-1)),Te={class:"action"},xe=fe({__name:"pool-list-table",setup(P){const{getPoolList:F}=te(),{getStatusData:m}=ue(),b=M([]),V=u(()=>b.value.map(i=>Object.assign({},{random:Math.random()},i))),{getTokenList:R,getToken:L}=ie(),y=K(),f=u(()=>y),W=u(()=>f.value.poolList),B=u(()=>f.value.isAllPool),A=u(()=>f.value.incentiveTypeList),C=u(()=>f.value.selectLabel),a=u(()=>f.value.filterPoolCoinList),Y=ne(),Z=u(()=>Y),E=u(()=>Z.value.poolsStatsObj),$=async(r,i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,i);let S=[];for(let e=0;e<i.length;e++){const o=i[e],v=r[o.address],_=await L(i[e].displayTokenAAddress),h=await L(i[e].displayTokenBAddress),I=[];_!=null&&_.labels&&I.push(..._.labels),h!=null&&h.labels&&I.push(...h.labels);let O=!1,j=!1;v&&v.stableFarming&&v.stableFarming.length>0&&(O=!0),v&&v.autoPool&&v.autoPool.clmm_pool&&(j=!0);const z={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...v,tokenA:_,tokenB:h,labels:[...new Set(I)],isFarming:O,isVaults:j};(!B.value&&_.is_trusted&&h.is_trusted||B.value)&&S.push(z)}let c=[];A.value.length>0?S.forEach(e=>{(A.value.includes("Mining")&&e.haveMining||A.value.includes("Farming")&&e.isFarming||A.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&c.push(e)}):c=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",c);let t=[];C.value!=="All"?c.forEach(e=>{e.labels.includes(C.value)&&t.push(e)}):t=c;let T=[];a.value&&a.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",a.value.length),t.forEach(e=>{a.value.length==2&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&(a.value[1]==e.displayTokenAAddress||a.value[1]==e.displayTokenBAddress)&&T.push(e),a.value.length==1&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&T.push(e)})):T=t;let d=T,p=[];l.value.label=="Volume (24H)"&&(p=l.value.sort=="desc"?d.sort((e,o)=>o.volume24-e.volume24):d.sort((e,o)=>e.volume24-o.volume24)),l.value.label=="Liquidity"&&(p=l.value.sort=="desc"?d.sort((e,o)=>o.tvl-e.tvl):d.sort((e,o)=>e.tvl-o.tvl)),l.value.label=="Fees (24H)"&&(p=l.value.sort=="desc"?d.sort((e,o)=>o.fees24-e.fees24):d.sort((e,o)=>e.fees24-o.fees24)),l.value.label=="APR (24H)"&&(p=l.value.sort=="desc"?d.sort((e,o)=>o.totalApr-e.totalApr):d.sort((e,o)=>e.totalApr-o.totalApr)),y.setPoolListNum(p&&p.length),b.value=p,y.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",p)},l=M({label:"Volume (24H)",sort:"desc"}),k=r=>{l.value=r,$(E.value,W.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",l.value)},N=u(()=>f.value.isPoolLoading);_e(()=>[E.value,W.value,B.value,A.value,C.value,a.value],([r,i])=>{r&&!re(r)&&i&&i.length>0&&$(r,i)},{immediate:!0});const q=M(null);Q(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),F(),R(),m(),window.scroller=q.value});const ee=[{title:"Pools",hasSort:!1,tdWidth:"370px"},{title:"Liquidity",hasSort:!0,tdWidth:"150px"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px"},{title:"Actions",hasSort:!1,tdWidth:"180px"}];return(r,i)=>{const S=ae,c=he("RecycleScroller");return g(),w(ge,null,[N.value?G("",!0):(g(),w("table",Ae,[s(c,{ref_key:"scroller",ref:q,class:"scroller",items:V.value,"item-size":80,"page-mode":"","key-field":"address"},{before:U(()=>[n("thead",null,[Se,s(x,{label:"Liquidity","sort-info":l.value,onSort:k},null,8,["sort-info"]),s(x,{label:"Volume (24H)","sort-info":l.value,onSort:k},null,8,["sort-info"]),s(x,{label:"Fees (24H)","sort-info":l.value,onSort:k},null,8,["sort-info"]),Le,s(x,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":l.value,onSort:k},null,8,["sort-info"]),ke])]),default:U(({item:t})=>[(g(),w("tr",{key:t.address},[n("td",null,[s(S,{"pool-info":t},null,8,["pool-info"])]),n("td",null,H(t.tvlDisplay||"$0"),1),n("td",null,H(t.volume24Display||"$0"),1),n("td",null,H(t.fees24Display||"$0"),1),n("td",null,[s(ce,{"reward-list":t.miningRewardList||[]},null,8,["reward-list"])]),n("td",null,[s(se,{"pool-info":t},null,8,["pool-info"])]),n("td",null,[n("div",Te,[s(de,{"from-coin-address":t.tokenAAddress,"to-coin-address":t.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),s(pe,{"pool-address":t.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])])),!N.value&&b.value&&b.value.length==0?(g(),J(ve,{key:1,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):N.value?(g(),J(me,{key:2,columns:ee,"data-source-length":10})):G("",!0)],64)}}});const we=X(xe,[["__scopeId","data-v-a06e5f4a"]]);const Fe={class:"pools-list-container"},Re={__name:"list",setup(P){const F=[{label:"Mining"},{label:"Farming"},{label:"No incentives"}],m=K();return Q(()=>{}),ye(()=>{m.setIncentiveTypeList(""),m.setIsAllPool(!0),m.setLabel("All"),m.setFilterPoolCoinList([])}),(b,V)=>{const R=oe,L=le,y=we;return g(),w("div",Fe,[s(R),s(L,{"dropdown-checkbox-options":F}),s(y)])}}},mo=X(Re,[["__scopeId","data-v-cc5b27fd"]]);export{mo as default};
