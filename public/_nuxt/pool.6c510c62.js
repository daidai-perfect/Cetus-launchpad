import{e as $,m as g,o as l,f as i,h as e,x as S,i as v,S as L,p as F,k as N,a as Q,r as d,A as I,q as W,s as X,u as Y,F as Z,E as M,y as tt,v as et,l as st}from"./entry.602fc024.js";import"./index.d1010198.js";import{u as z}from"./stats.767082e5.js";import"./index.6b488956.js";import{u as ot}from"./index.d55db9e8.js";import{c as at}from"./index.eee0c4a2.js";import{l as lt}from"./lodash.ad71b780.js";import{c as C}from"./common.22b46d4a.js";import{f as it}from"./formatter.142fff53.js";import"./install.a43cd5c5.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";const D=t=>(F("data-v-da9173fd"),t=t(),N(),t),ct={class:"pool-list-stats-info"},nt=D(()=>e("div",{class:"concentrate-pools"},"Concentrated Pools",-1)),rt={class:"tvl-vol"},ut={class:"tvl"},_t=D(()=>e("div",{class:"title"},"Total Value Locked",-1)),dt={key:0,class:"text"},vt={key:1,class:"text"},pt={class:"vol"},mt=D(()=>e("div",{class:"title"},"Cumulative Volume",-1)),ft={key:0,class:"text"},yt={key:1,class:"text"},gt={__name:"pool-list-stats-info",setup(t){const a=z(),p=g(()=>a),u=g(()=>(console.log("ðŸš€ ~ overallStatistics ~ overallStatistics:",p.value.overallStatistics),p.value.overallStatistics));return(m,f)=>{const c=L;return l(),i("div",ct,[nt,e("div",rt,[e("div",ut,[e("div",null,[_t,u.value.totalValueLockedDisplay?(l(),i("div",dt,"$"+S(u.value.totalValueLockedDisplay),1)):(l(),i("div",vt,[v(c,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])]),e("div",pt,[e("div",null,[mt,u.value.cumulativeVolumeDisplay?(l(),i("div",ft,"$"+S(u.value.cumulativeVolumeDisplay),1)):(l(),i("div",yt,[v(c,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])])])])}}},ht=$(gt,[["__scopeId","data-v-da9173fd"]]),A=t=>(F("data-v-e4268d15"),t=t(),N(),t),St={class:"pool-list-chart-container"},xt={class:"chart-top"},kt={class:"trading-vol"},$t=A(()=>e("div",{class:"title"},"Trading Volume (24H)",-1)),Dt={key:0,class:"text"},wt={key:1,class:"text"},Vt={class:"time-list"},bt=["onClick"],It=A(()=>e("div",{class:"chart-content"},[e("div",{id:"stats-chart",class:"stats-chart"})],-1));var B=(t=>(t.D="day",t.W="wek",t.M="mon",t))(B||{}),E=(t=>(t[t.D=40]="D",t[t.W=30]="W",t[t.M=20]="M",t))(E||{}),J=(t=>(t[t.Jan=1]="Jan",t[t.Feb=2]="Feb",t[t.Mar=3]="Mar",t[t.Apr=4]="Apr",t[t.May=5]="May",t[t.Jun=6]="Jun",t[t.Jul=7]="Jul",t[t.Aug=8]="Aug",t[t.Sep=9]="Sep",t[t.Oct=10]="Oct",t[t.Nov=11]="Nov",t[t.Dec=12]="Dec",t))(J||{}),T=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(T||{}),O=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(O||{});const Ct=Q({__name:"pool-list-chart",setup(t){const a=d("D"),p=["D","W","M"],u=ot();g(()=>u);const m=d(),f=d(),c=d(""),R=z(),U=g(()=>R),h=g(()=>U.value.overallStatistics);I(()=>[h.value],([s])=>{C(s)||(c.value=s.volInUsd24hSumV1)},{immediate:!0});const w=async()=>{try{const s=E[a.value],{data:n}=await fetch(`${at.Sui.api}/v2/sui/histogram?date_type=${B[a.value]}&typ=vol&limit=${s}`).then(o=>o.json()),y=n.list.map(o=>o.num),r=n.list.map(o=>o.date);m.value=y,f.value=r,j(y,r,s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(s){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",s)}},x=d(),j=(s,n,y)=>{const r=document.getElementById("stats-chart"),o=et(r);x.value=o;let b={tooltip:{trigger:"axis",backgroundColor:"#28353F",borderColor:"transparent",formatter:function(_){let q=_[0].axisValue.slice(5,7),H=J[Number(q)];const G=_[0].axisValue.slice(8,10),K=H,P=_[0].axisValue.slice(0,4);return c.value=it(_[0].value,2),"&nbsp;&nbsp;&nbsp;"+G+"&nbsp;"+K+"&nbsp;"+P+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#76C8FF"}}},xAxis:{show:!1,type:"category",data:n},yAxis:{show:!1,max:function(_){return _.max}},series:[{data:s,type:"bar",itemStyle:{normal:{barBorderRadius:4,color:"#72C1F7"}},barWidth:k.value?T[a.value]:O[a.value]}],grid:{left:0,right:0,top:0,bottom:0}};b&&o.setOption(b),o&&o.resize(),o.on("globalout",_=>{c.value=h.value&&h.value.volInUsd24hSumV1})};I(()=>a.value,(s,n)=>{(!n||s!==n)&&w()},{immediate:!0});const k=d(!0),V=lt.debounce(()=>{document.body.clientWidth>750?k.value=!0:k.value=!1,!m.value&&!f.value?w():x.value&&x.value.resize()},300);return W(()=>{window.addEventListener("resize",V)}),X(()=>{window.removeEventListener("resize",V)}),(s,n)=>{const y=L;return l(),i("div",St,[e("div",xt,[e("div",kt,[$t,Y(C)(h.value)?(l(),i("div",wt,[v(y,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])):(l(),i("div",Dt," $"+S(c.value===""?"--":Number(c.value)==0?0:c.value),1))]),e("div",Vt,[(l(),i(Z,null,M(p,r=>e("div",{key:r,class:tt(["time-item",r==a.value?"time-item-active":""]),onClick:o=>a.value=r},S(r),11,bt)),64))])]),It])}}});const Lt=$(Ct,[["__scopeId","data-v-e4268d15"]]);const Ft={class:"pool-container"},Nt={class:"pool-container-top-bg"},zt={class:"pool-container-top"},At={__name:"pool",setup(t){return(a,p)=>{const u=ht,m=Lt,f=st("router-view");return l(),i("div",Ft,[e("div",Nt,[e("div",zt,[v(u),v(m)]),v(f)])])}}},Pt=$(At,[["__scopeId","data-v-ec1d2c6c"]]);export{Pt as default};
