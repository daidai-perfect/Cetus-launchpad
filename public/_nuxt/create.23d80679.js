import{_ as dt}from"./back.100e624e.js";import{_ as mt}from"./upgrade-creat-pool-lock.d709f9a7.js";import{a as Je,m as R,r as g,L as Qe,z as it,A as ce,a1 as pt,a2 as He,e as Ze,l as Te,o as I,f as Y,i as Z,G as x,h as a,y as Le,x as Ae,c as je,w as at,B as ft,j as Ge,p as lo,k as no,b as so,q as gt,s as ut,D as lt,F as rt,E as kt,K as Ct,Y as bt}from"./entry.c44b21e1.js";/* empty css              *//* empty css              */import{u as xe,a as io,b as uo}from"./index.c5a5bd81.js";import{i as Xe}from"./import-icon.de3e6c66.js";import{_ as ht,a as _t,s as St}from"./poolFee.746650e9.js";import{S as Tt,a as yt,b as wt,R as Pt,c as At}from"./sui-liquidity-price.628378b5.js";import{u as Nt,b as Ke,c as $t}from"./index.556eb1a4.js";import{a as Fe,c as Ye,p as nt,b as Rt,g as qt,d as Lt,y as st}from"./common.2e5eaeac.js";import"./decimal.a2826370.js";import{amountLock as De,fromCoinAmount as v,toCoinAmount as p,fromCoin as s,toCoin as i,showFromCoinLock as fe,showToCoinLock as ge,fixedFromCoin as te,createPoolInfo as d,minPrice as N,maxPrice as _,currentPriceReverse as ao,currentPrice as Pe,initPrice as Be,direction as T,createPoolFromCoin as he,createPoolToCoin as Se,isFullRange as we,feeValue as ve,resetData as It,defaultMinPrice as oo,defaultMaxPrice as to}from"./create-pool-data.45b30746.js";import{T as Bt}from"./token-input-block.98b3af14.js";import{D as j}from"./decimal.765d8738.js";import{_ as Ft}from"./lock.35e1d915.js";import{I as Mt}from"./icon-tooltip.3cfdbd2d.js";import{_ as Ot}from"./coin-select.daadd68b.js";import{_ as Ut}from"./token-warning-modal.72b6d09e.js";import{T as Vt}from"./token-dropdown-select.aa7268fe.js";import{u as Dt}from"./useDebounceFunction.b574ba21.js";import"./img-lock_2x.a28135f4.js";import"./icon-slippage.f3e90b68.js";import"./swap-setting.16500fe0.js";import"./icon-error_2x.211e21cf.js";/* empty css              */import"./icon-refresh.492528a0.js";import"./coin-img-warning.535e3e69.js";import"./token.1f9d0593.js";import"./coin-img.71f49c95.js";import"./deposit-ratio.63016f45.js";import"./notifi.d27d3e26.js";import"./useWhale.dd192876.js";import"./sui-status-block.9bd1fb2a.js";import"./index.4c764fc8.js";/* empty css              */import"./token-warning_2x.e34d7e22.js";import"./img-no-Positions_2x.104e09b5.js";import"./img-no-Positions_2x.6290f511.js";import"./check-box.0a8ef051.js";const jt=Je({components:{NewLiquidityTile:Tt,SuiLiquidityDepositRatio:yt,TokenInputBlock:Bt,SuiAddOrCreate:wt},setup(e,n){const W=Nt(),E=xe(),B=R(()=>E),O=R(()=>B.value.chainName),u=R(()=>W),C=g(!1);g(),g(),g(),g(!1);const y=Qe(),{t:q,locale:S}=it(),c=R(()=>O.value?uo(O.value):{}),h=io(),F=R(()=>h),de=R(()=>B.value.theme),se=R(()=>u.value.assets&&s.value&&u.value.assets[s.value.address]?nt(u.value.assets[s.value.address].balance,s.value.decimals):"0"),ie=R(()=>u.value.assets&&i.value&&u.value.assets[i.value.address]?nt(u.value.assets[i.value.address].balance,i.value.decimals):"0");ce(()=>[F.value.tokensObj,y.query],async([o])=>{if(o){const b=o;if(y&&y.query&&y.query.fromCoin&&y.query.fromCoin){const $=b[y.query.fromCoin]||await c.value.getTokenBySymbol(b,y.query.fromCoin);s.value=$,he.value=$}if(y&&y.query&&y.query.toCoin&&y.query.toCoin){const $=b[y.query.toCoin]||await c.value.getTokenBySymbol(b,y.query.toCoin);i.value=$,Se.value=$}}},{immediate:!0,deep:!0});const V=g("--"),m=R(()=>B.value.slippage),ee=g(),me=async()=>{if(!N.value&&!_.value)return!1;if(!v.value&&!p.value&&!N.value&&!_.value)return;const o=d.value||{};if(Ye(o))return;const{TickUtil:b,TickMath:$,getNearestTickByTick:Q}=c.value,D=o==null?void 0:o.token_a.decimals,oe=o==null?void 0:o.token_b.decimals;let z,H,X,G,M,A,K=o.current_tick_index,be;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===i.value.address.toLowerCase()?be=!0:be=!1,N.value==="0"&&_.value==="∞")X=b.getMinIndex(Number(o.tickSpacing)),G=b.getMaxIndex(Number(o.tickSpacing));else{be?(z=Number(N.value),H=Number(_.value)):(z=new j(1).div(_.value).toString(),H=new j(1).div(N.value).toString());try{M=z==0?-443636:$.priceToTickIndex(new j(z),D,oe)}catch{M=-443636}try{A=$.priceToTickIndex(new j(H),D,oe)}catch{A=443636}X=Q(M,Number(o.tickSpacing)),G=Q(A,Number(o.tickSpacing))}if(_.value!=="∞"&&X>=G){fe.value=!0,v.value="",ge.value=!0,p.value="";return}if(K==G||K==X){fe.value=!0,ge.value=!0;return}if(_.value==="∞"||K>=X&&K<=G){fe.value=!1,ge.value=!1;let le;if(v.value||p.value){if(te.value){const We=new j(v.value).mul(Math.pow(10,s.value.decimals)).toString();le=new Ke(We)}else{const We=new j(p.value).mul(Math.pow(10,i.value.decimals)).toString();le=new Ke(We)}const{liquidityAmount:ne,tokenMaxA:ue,tokenMaxB:re,tokenMaxAOrigin:Re,tokenMaxBOrigin:Ve}=c.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:X,upperTick:G,coinAmount:le,iscoinA:be?te.value:!te.value,roundUp:!0,slippage:Number(m.value)/100,curSqrtPrice:new Ke(o.current_sqrt_price)});ee.value={liquidityAmount:ne,tokenMaxA:ue,tokenMaxB:re,tokenMaxAOrigin:Re,tokenMaxBOrigin:Ve},be?te.value?p.value=Number(re)>0?re:"":v.value=Number(ue)>0?ue:"":te.value?p.value=ue:v.value=re}}else K>G?(fe.value=!0,ge.value=!0):K<X?(fe.value=!0,ge.value=!0):(fe.value=!0,v.value="",ge.value=!0,p.value="")};ce(()=>Be.value,o=>{o&&me()},{immediate:!0}),ce(v,(o,b)=>{o==""&&te.value&&(p.value=""),o&&te.value&&!C.value&&me()}),ce(p,(o,b)=>{o==""&&!te.value&&(v.value=""),o&&!te.value&&!C.value&&me()}),ce(()=>we.value,o=>{me()},{immediate:!0});const Ie=o=>{const b=o.replace(/[^\d.]/g,""),$="$"+Fe(b);C.value=!0,V.value=$,o>0?w():(v.value="",p.value="")};ce([N,_],([o,b])=>{Number(o)!==0&&Number(b)!==0&&!C.value?me():Number(o)!==0&&Number(b)!==0&&C.value?w():me()},{immediate:!0}),ce(()=>{var o;return(o=d)==null?void 0:o.value},o=>{me()},{deep:!0});const Me=()=>{const o=r.value&&r.value[s.value.address]&&r.value[s.value.address].price,b=r.value&&r.value[i.value.address]&&r.value[i.value.address].price;if(o&&b){const $=new j(v.value>0?v.value:0).mul(o),Q=new j(p.value>0?p.value:0).mul(b),D=$.add(Q).toNumber();V.value=D>0&&D<.01?"<$0.01":"$"+Fe(D,2)}else V.value="--"};ce(()=>[v.value,p.value,C.value],([o,b,$])=>{(o||b)&&!$?Me():(!o||!b)&&!$&&(V.value="--")},{immediate:!0});const r=R(()=>F.value.RATES),l=g(),w=async()=>{if(!N.value&&!_.value)return!1;if(!v.value&&!p.value&&!N.value&&!_.value)return;const o=d.value||{};if(Ye(o))return;const{TickUtil:b,TickMath:$,getNearestTickByTick:Q}=c.value,D=o==null?void 0:o.token_a.decimals,oe=o==null?void 0:o.token_b.decimals;let z,H,X,G,M,A,K;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===i.value.address.toLowerCase()?K=!0:K=!1,N.value==="0"&&_.value==="∞")X=b.getMinIndex(Number(o.tickSpacing)),G=b.getMaxIndex(Number(o.tickSpacing));else{K?(z=Number(N.value),H=Number(_.value)):(z=new j(1).div(_.value).toString(),H=new j(1).div(N.value).toString());try{M=z==0?-443636:$.priceToTickIndex(new j(z),D,oe)}catch{M=-443636}try{A=$.priceToTickIndex(new j(H),D,oe)}catch{A=443636}X=Q(M,Number(o.tickSpacing)),G=Q(A,Number(o.tickSpacing))}const be=r.value[o==null?void 0:o.token_a.address].price,le=r.value[o==null?void 0:o.token_b.address].price;try{const{amountA:ne,amountB:ue,tokenAmountsInfo:re}=await c.value.estCoinAmountsFromTotalAmount({lowerTick:X,upperTick:G,decimalsA:D,decimalsB:oe,curSqrtPrice:new Ke(o.current_sqrt_price),totalAmount:V.value,tokenPriceA:be,tokenPriceB:le});l.value=re,o.needReverse?T.value?(v.value=ne,p.value=ue):(v.value=ue,p.value=ne):(v.value=ne,p.value=ue)}catch(ne){console.log(ne,"e===>")}},ke=R(()=>{var $,Q,D,oe,z,H;const o=(D=r.value[(Q=($=s)==null?void 0:$.value)==null?void 0:Q.address])==null?void 0:D.price,b=(H=r.value[(z=(oe=i)==null?void 0:oe.value)==null?void 0:z.address])==null?void 0:H.price;return!!(o&&b)}),Ne=()=>{n.emit("toggle")},_e=g(!1),ye=R(()=>!s.value||!i.value?q("modal.selectTokenModalTitle"):!ve.value&&$t[O.value].hasCreatePool?"Select fee tier":!Number(v.value)&&!Number(p.value)?q("button.enterAmount"):Number(v.value)>Number(se.value)?q("button.insufficientBalance",{name:s.value.symbol}):Number(p.value)>Number(ie.value)?q("button.insufficientBalance",{name:i.value.symbol}):_.value!=="∞"&&Number(N.value)>=Number(_.value)?q("newAdd.invalidRange"):q("newAdd.preview")),Oe=o=>{const b=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,2})?).*$");o.target.value=o.target.value.replace(b,"$1")},t=R(()=>{var o;return!!(!v.value&&!p.value||Number(v.value)>Number(se.value)||Number(p.value)>Number(ie.value)||ye.value!==q("newAdd.preview")||!d.value&&!((o=d.value)!=null&&o.currentPrice)||Number(v.value)<=0&&Number(p.value)<=0||fe.value||ge.value)}),{setTransactionTxid:f,setTransactionDesc:k,setIsShowWaiting:U,setIsShowSuccess:P,setIsShowRejected:L,setPositiomNum:pe}=E,ae=()=>{O.value=="Sui"&&Ue()},{$notify:$e}=pt(),Ce=g(!1),Ue=async()=>{var be,le,ne,ue,re,Re,Ve,We,co,vo,mo,po,fo,go,ko,Co,bo,ho,_o,So,To,yo,wo,Po,Ao,No,$o,Ro,qo,Lo,Io,Bo,Fo,Mo,Oo,Uo,Vo,Do,jo,Wo,Eo,zo,Xo,Go,Ho,Ko,Yo,Jo,Qo,Zo,xo,et,ot,tt;_e.value=!1;let o=!1;c.value.getIsSortedSymbols(he.value.address,Se.value.address)&&(o=!0),f("");const b=fe.value?"":`${v.value} ${(be=s.value)==null?void 0:be.symbol}`,$=ge.value?"":`${p.value} ${(le=i.value)==null?void 0:le.symbol}`;k(q("tips.increaseLiquiditySuccess",{from:!o&&!((ue=(ne=d)==null?void 0:ne.value)!=null&&ue.needReverse)||o&&((Re=(re=d)==null?void 0:re.value)!=null&&Re.needReverse)?b:$,and:!fe.value&&!ge.value?"and":"",to:!o&&!((We=(Ve=d)==null?void 0:Ve.value)!=null&&We.needReverse)||o&&((vo=(co=d)==null?void 0:co.value)!=null&&vo.needReverse)?$:b})),U(!0);let Q="",D="",oe="",z="",H="",X="",G=0,M=0,A=!1,K;if(o||(po=(mo=d)==null?void 0:mo.value)!=null&&po.needReverse){const qe=o&&!((go=(fo=d)==null?void 0:fo.value)!=null&&go.needReverse);Q=qe?(So=(_o=(ho=d)==null?void 0:ho.value)==null?void 0:_o.token_b)==null?void 0:So.address:(bo=(Co=(ko=d)==null?void 0:ko.value)==null?void 0:Co.token_a)==null?void 0:bo.address,D=qe?(No=(Ao=(Po=d)==null?void 0:Po.value)==null?void 0:Ao.token_a)==null?void 0:No.address:(wo=(yo=(To=d)==null?void 0:To.value)==null?void 0:yo.token_b)==null?void 0:wo.address,oe=qe?(Bo=(Io=(Lo=d)==null?void 0:Lo.value)==null?void 0:Io.token_b)==null?void 0:Bo.decimals:(qo=(Ro=($o=d)==null?void 0:$o.value)==null?void 0:Ro.token_a)==null?void 0:qo.decimals,z=qe?(Do=(Vo=(Uo=d)==null?void 0:Uo.value)==null?void 0:Vo.token_a)==null?void 0:Do.decimals:(Oo=(Mo=(Fo=d)==null?void 0:Fo.value)==null?void 0:Mo.token_b)==null?void 0:Oo.decimals,(Wo=(jo=d)==null?void 0:jo.value)!=null&&Wo.needReverse?(H=T.value?v.value:p.value,X=T.value?p.value:v.value,G=T.value?Number(N.value):1/Number(_.value),M=T.value?Number(_.value):1/Number(N.value),A=T.value?te.value:!te.value,K=T.value?Pe.value:1/Number(Pe.value)):(H=T.value?p.value:v.value,X=T.value?v.value:p.value,G=T.value?1/Number(_.value):Number(N.value),M=T.value?1/Number(N.value):Number(_.value),A=T.value?!te.value:te.value,K=T.value?1/Number(Pe.value):Pe.value)}else Q=(Xo=(zo=(Eo=d)==null?void 0:Eo.value)==null?void 0:zo.token_a)==null?void 0:Xo.address,D=(Ko=(Ho=(Go=d)==null?void 0:Go.value)==null?void 0:Ho.token_b)==null?void 0:Ko.address,oe=(Qo=(Jo=(Yo=d)==null?void 0:Yo.value)==null?void 0:Jo.token_a)==null?void 0:Qo.decimals,z=(et=(xo=(Zo=d)==null?void 0:Zo.value)==null?void 0:xo.token_b)==null?void 0:et.decimals,H=T.value?v.value:p.value,X=T.value?p.value:v.value,G=T.value?Number(N.value):1/Number(_.value),M=T.value?Number(_.value):1/Number(N.value),A=T.value?te.value:!te.value,K=T.value?Pe.value:1/Number(Pe.value);try{console.log("0501###toCreatePool###params###",{coinTypeA:Q,coinTypeB:D,decimalsA:oe,decimalsB:z,amountA:H,amountB:X,minPrice:G,maxPrice:M,fix_amount_a:A,tick_spacing:Number(d.value.tickSpacing),slippage:Number(m.value)/100,price:K});const qe=await c.value.getCreatPoolTransactionPayload({coinTypeA:Q,coinTypeB:D,decimalsA:oe,decimalsB:z,amountA:H,amountB:X,minPrice:N.value=="0"&&_.value=="∞"?"0":G,maxPrice:N.value=="0"&&_.value=="∞"?"∞":M,fix_amount_a:A,tick_spacing:Number(d.value.tickSpacing),slippage:Number(m.value)/100,price:K}),vt=await c.value.signAndExecuteTransactionBlock(u.value.currentWallet,qe),ze=c.value.handleTx(vt);if(ze&&ze.hash){f(ze.hash),U(!1),P(!0);const eo={title:"Created pool",desc:"Pool created successfully ",hash:ze.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(ot=s.value)==null?void 0:ot.address}`,numa:fe.value?"":`- ${v.value}`,logoa:F.value.tokensObj&&s.value&&s.value.address&&F.value.tokensObj[s.value.address]&&F.value.tokensObj[s.value.address].logoURI,tokenb:`${(tt=i.value)==null?void 0:tt.address}`,numb:ge.value?"":`- ${p.value}`,logob:F.value.tokensObj&&i.value&&i.value.address&&F.value.tokensObj[i.value.address]&&F.value.tokensObj[i.value.address].logoURI},text:"Pool created successfully"};O.value!=="Aptos"&&(eo.res=ze.res),c.value.showTransitionPending(eo),(await c.value.watchTransaction(eo,!0)).status&&(P(!1),Ce.value=!0,setTimeout(()=>{h.setPoolConfigList(O.value,B.value.filterCoinsObj),c.value.getAccount(u.value.address)},1e3)),pe()}else U(!1),L(!0);v.value="",p.value=""}catch(qe){console.log("0407###createPool###error##",String(qe)),String(qe).indexOf('Some("create_pool_internal") }, 1')>-1&&$e.error({icon:He("svg",{class:{icon:!0},"aria-hidden":!0},[He("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:He("div",{class:"notification-title"},[He("span",{innerHTML:"Pool already exists"},null)]),duration:4.5,description:"Something went wrong",class:"ant-notification-copy ant-notification-error"}),_e.value=!1,h.setPoolConfigList(O.value,B.value.filterCoinsObj),v.value="",p.value="",U(!1),L(!0)}};return{isInputActive:g(!1),amountLock:De,wallet:u,inputChange:Oe,fromCoinAmount:v,toCoinAmount:p,fromCoin:s,toCoin:i,showFromCoinLock:fe,showToCoinLock:ge,fromCoinBlance:se,toCoinBlance:ie,fixedFromCoin:te,isInputTotalAmount:C,toggle:Ne,theme:de,liquidityTotalAmount:V,createPoolInfo:d,minPrice:N,maxPrice:_,currentPriceReverse:ao,currentPrice:Pe,onInput:Ie,initPrice:Be,isShowtotalAmount:ke,direction:T,isShowLiquidityModal:_e,createPoolBtnText:ye,createPoolBtnDisabled:t,toCreatePool:ae,isCreateSuccess:Ce}}});const ro=e=>(lo("data-v-5a33bca3"),e=e(),no(),e),Wt={class:"create-pool-right"},Et={key:0,class:"create-pool-lock"},zt=ro(()=>a("img",{class:"lock",src:Ft,alt:""},null,-1)),Xt=[zt],Gt=ro(()=>a("div",{class:"exchange-new"},[a("svg",{class:"icon icon-down","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_add1"})])],-1)),Ht=[Gt],Kt={key:1,class:"total-amount"},Yt=ro(()=>a("span",null,"Total Amount",-1));function Jt(e,n,W,E,B,O){const u=Te("NewLiquidityTile"),C=Te("TokenInputBlock"),y=Te("SuiLiquidityDepositRatio"),q=Te("SuiAddOrCreate"),S=ft,c=ht;return I(),Y("div",Wt,[Z(u),e.amountLock||e.showFromCoinLock||e.showToCoinLock?(I(),Y("div",Et,Xt)):x("",!0),a("div",{class:Le(["card-container",e.isInputActive?e.fixedFromCoin?"input-block-add-top":"input-block-add-bottom":"input-block-add-top input-block-inactive"])},[Z(C,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[0]||(n[0]=h=>e.fromCoinAmount=h),"input-value":e.fromCoinAmount,"token-info":e.fromCoin||null,"has-arrow":!1,onOnInput:n[1]||(n[1]=h=>{e.isInputActive=!0,e.fromCoinAmount=h,e.fixedFromCoin=!0,e.isInputTotalAmount=!1}),onOnFocus:n[2]||(n[2]=()=>{e.isInputActive=!0,e.fixedFromCoin=!0}),onOnBlur:n[3]||(n[3]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),Z(C,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[4]||(n[4]=h=>e.toCoinAmount=h),"input-value":e.toCoinAmount,"token-info":e.toCoin||null,"has-arrow":!1,onOnInput:n[5]||(n[5]=h=>{e.isInputActive=!0,e.toCoinAmount=h,e.fixedFromCoin=!1,e.isInputTotalAmount=!1}),onOnFocus:n[6]||(n[6]=()=>{e.isInputActive=!0,e.fixedFromCoin=!1}),onOnBlur:n[7]||(n[7]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock?(I(),Y("div",{key:0,class:"new-sui-exchange to-add-logo",onClick:n[8]||(n[8]=(...h)=>e.toggle&&e.toggle(...h))},Ht)):x("",!0)],2),e.isShowtotalAmount?(I(),Y("div",Kt,[Yt,a("span",null,Ae(e.liquidityTotalAmount),1)])):x("",!0),e.initPrice?(I(),je(y,{key:2,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.custom,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"])):x("",!0),e.isShowLiquidityModal?(I(),je(q,{key:3,"pool-info":e.createPoolInfo,title:e.$t("newAdd.preview"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":"custom","min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,"is-create":!0,onCreatePool:e.toCreatePool,onOnClose:n[9]||(n[9]=h=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onCreatePool"])):x("",!0),e.wallet.connected?(I(),je(S,{key:5,class:"add-liquidity-btn",disabled:e.wallet.connected?e.createPoolBtnDisabled:!1,onClick:n[11]||(n[11]=h=>e.isShowLiquidityModal=!0)},{default:at(()=>[Ge(Ae(e.createPoolBtnText),1)]),_:1},8,["disabled"])):(I(),je(S,{key:4,class:"add-liquidity-btn",onClick:n[10]||(n[10]=h=>e.wallet.setIsShowWalletModal(!0))},{default:at(()=>[Ge(Ae(e.$t("button.connectWallet")),1)]),_:1})),e.isCreateSuccess?(I(),je(c,{key:6,onOnClose:n[12]||(n[12]=h=>e.isCreateSuccess=!1)})):x("",!0)])}const Qt=Ze(jt,[["render",Jt],["__scopeId","data-v-5a33bca3"]]),Zt=Je({setup(){const{t:e,locale:n}=it(),W=so(),E=g(!1),B=io(),O=xe(),u=Qe(),C=g(null),y=g(u.query.poolAddress),q=g(""),S=R(()=>O),c=R(()=>O.theme),h=R(()=>B),F=R(()=>S.value.chainName),de=R(()=>F.value?uo(F.value):null),se=R(()=>[{label:.01+"% "+e("common.feeTier"),title:.01+"% ",fee:1e-4,text:e("newAdd.bestVeryStablePairs")},{label:.05+"% "+e("common.feeTier"),title:.05+"% ",fee:5e-4,text:e("newAdd.bestStablePairs")},{label:.25+"% "+e("common.feeTier"),title:.25+"% ",fee:.0025,text:e("newAdd.bestMostPairs")},{label:"1% "+e("common.feeTier"),title:"1% ",fee:.01,text:e("newAdd.besteExoticPairs")}]),ie=R(()=>{if(h.value.poolConfigList&&s.value&&i.value){const r=h.value.poolConfigList.filter(w=>{var ke,Ne,_e,ye;return w.token_a.address.toUpperCase()===((ke=s.value.address)==null?void 0:ke.toUpperCase())&&w.token_b.address.toUpperCase()===((Ne=i.value.address)==null?void 0:Ne.toUpperCase())||w.token_b.address.toUpperCase()===((_e=s.value.address)==null?void 0:_e.toUpperCase())&&w.token_a.address.toUpperCase()===((ye=i.value.address)==null?void 0:ye.toUpperCase())}),l=[];return r.forEach(w=>{l.push(Number(w.fee))}),l}else return[]}),V=R(()=>{var r;return(r=S.value)==null?void 0:r.filterCreatePoolCoin});gt(()=>{document.addEventListener("click",()=>{E.value=!1})}),ut(()=>{document.removeEventListener("click",()=>{E.value=!1})}),ce(()=>[W,h.value.tokensObj],async([r,l])=>{var w;r&&(((w=W==null?void 0:W.currentRoute)==null?void 0:w.value.name)=="liquidity-create"||u.query.action=="newposition")&&l&&(s.value||(s.value=h.value.tokensObj[u.query.fromCoin]||await de.value.getTokenBySymbol(l,u.query.fromCoin)),i.value||(i.value=h.value.tokensObj[u.query.toCoin]||await de.value.getTokenBySymbol(l,u.query.toCoin)),ve.value=u.query.fee!=="null"&&u.query.fee?u.query.fee:"")},{immediate:!0,deep:!0});const m=()=>{var w,ke,Ne,_e,ye,Oe,t,f,k,U,P,L;let r=null;const l=h.value.poolConfigList;for(let pe=0;pe<l.length;pe++){const ae=l[pe];if(ae.token_a.address.toUpperCase()===((Ne=(ke=(w=s)==null?void 0:w.value)==null?void 0:ke.address)==null?void 0:Ne.toUpperCase())&&ae.token_b.address.toUpperCase()===((Oe=(ye=(_e=i)==null?void 0:_e.value)==null?void 0:ye.address)==null?void 0:Oe.toUpperCase())||ae.token_b.address.toUpperCase()===((k=(f=(t=s)==null?void 0:t.value)==null?void 0:f.address)==null?void 0:k.toUpperCase())&&ae.token_a.address.toUpperCase()===((L=(P=(U=i)==null?void 0:U.value)==null?void 0:P.address)==null?void 0:L.toUpperCase())){r=ae;break}}return r},ee=r=>{var w;console.log("🚀 ~ selectFee ~ item:",r);const l=m();if(l&&(he.value=l.needReverse?l==null?void 0:l.token_b:l==null?void 0:l.token_a,Se.value=l.needReverse?l==null?void 0:l.token_a:l==null?void 0:l.token_b,s.value=l.needReverse?l==null?void 0:l.token_b:l==null?void 0:l.token_a,i.value=l.needReverse?l==null?void 0:l.token_a:l==null?void 0:l.token_b,T.value=s.value.address===((w=l==null?void 0:l.token_a)==null?void 0:w.address)),!ie.value.includes(r.fee))if(!V.value[s.value.address]&&!V.value[i.value.address]){console.log("🚀 ~ selectFee ~ filterCreatePoolCoin:",V);return}else C.value=r,ve.value=r.fee,console.log("🚀 ~ selectFee ~ feeValue.value:",ve.value),E.value=!1},me=g("--");return{currentPriceReverse:g("--"),Decimal:j,chainName:F,currentPrice:me,creatFeeItem:C,feeValue:ve,isShowFeeList:E,filterCreatePoolCoin:V,route:u,selectFee:ee,isCreatePool:ie,feeTierList:se,currentToken:q,fromCoin:s,toCoin:i,getCoinIcon:r=>{var l,w;return(r==null?void 0:r.logoURI)||(r==null?void 0:r.logo_url)||((w=(l=h.value.tokensObj)==null?void 0:l[r==null?void 0:r.address])==null?void 0:w.logo_url)||(S.value.theme==="default"?Xe("/image/coins/unknown.png"):Xe("/image/coins/sui-unknown.png"))},currentPoolAddress:y,store:S,t:e,router:W,addCommom:Fe,theme:c,pools:h,sFixD:Rt}}});const ct=e=>(lo("data-v-ee750033"),e=e(),no(),e),xt={class:"fee-tier"},ea=ct(()=>a("svg",{class:"icon edit-fee-icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_arrow"})],-1)),oa={key:0,class:"fee-tier-box"},ta=["onClick"],aa={key:0,class:"text-active"},la={key:1},na={key:0,class:"icon fee-disabled","aria-hidden":"true"},sa=ct(()=>a("use",{"xlink:href":"#icon-icon-disable"},null,-1)),ia=[sa];function ua(e,n,W,E,B,O){return I(),Y("div",xt,[a("div",{class:Le(["fee-text",[{"fee-tier-action":e.fromCoin&&e.toCoin},{"no-cursor":!e.fromCoin||!e.toCoin}]]),onClick:n[0]||(n[0]=lt(u=>!e.fromCoin||!e.toCoin?"":e.isShowFeeList=!e.isShowFeeList,["stop"]))},[a("p",null,Ae(e.feeValue?e.feeValue*100:"--")+"%",1),ea],2),e.isShowFeeList?(I(),Y("div",oa,[(I(!0),Y(rt,null,kt(e.feeTierList,(u,C)=>{var y,q;return I(),Y("div",{key:C,class:Le(["fee-item",[e.feeValue==u.fee?"fee-item-active":"",e.isCreatePool.includes(u.fee)?" pool-created":" pool-not-created"]]),onClick:lt(S=>e.selectFee(u),["stop"])},[a("p",{class:Le(e.isCreatePool&&e.isCreatePool.includes(u.fee)?"text-active":"text-default")},Ae(u.title),3),a("div",null,[e.isCreatePool&&e.isCreatePool.includes(u.fee)?(I(),Y("p",aa," Created ")):x("",!0),e.isCreatePool&&!e.isCreatePool.includes(u.fee)?(I(),Y("p",la,[Ge(Ae(e.$t("newAdd.notCreated"))+" ",1),!e.isCreatePool.includes(u.fee)&&!e.filterCreatePoolCoin[(y=e.fromCoin)==null?void 0:y.address]&&!e.filterCreatePoolCoin[(q=e.toCoin)==null?void 0:q.address]?(I(),Y("svg",na,ia)):x("",!0)])):x("",!0),a("span",null,Ae(u.text),1)])],10,ta)}),128))])):x("",!0)])}const ra=Ze(Zt,[["render",ua],["__scopeId","data-v-ee750033"]]),ca=Je({components:{TokenDropdownSelect:Vt},setup(e,n){const W=xe(),E=R(()=>W),B=Qe(),O=g(!1),u=g("coinA"),C=g(!1),y=g(!1),q=so(),S=g(),c=g(),h=g(!1);let F=g(!0);const de=(m,ee)=>{var r,l,w,ke;console.log("🚀🚀🚀 ~ file: liquidity.vue:919 ~ getTokenSource ~ token:",m);const me=localStorage.getItem(m==null?void 0:m.address),Ie=E.value.importTokenListObj,Me=m==null?void 0:m.isSelfBuilt;(F.value?Me&&!me:Me&&!(Ie!=null&&Ie.hasOwnProperty(m==null?void 0:m.address)))&&(ee=="fromCoin"&&(S.value=m),ee=="toCoin"&&(c.value=m),console.log("🚀🚀🚀 ~ file: liquidity.vue:919 ~ getTokenSource ~ warningFromCoin.value:",S.value),console.log("🚀🚀🚀 ~ file: liquidity.vue:922 ~ getTokenSource ~ warningToCoin.value:",c.value),((r=S==null?void 0:S.value)==null?void 0:r.address)==((l=c==null?void 0:c.value)==null?void 0:l.address)&&(c.value={}),((w=S==null?void 0:S.value)!=null&&w.address||(ke=c==null?void 0:c.value)!=null&&ke.address)&&(h.value=!0))};return ce(()=>[s.value,i.value],([m,ee])=>{F.value&&(m&&!Ye(m)&&de(m,"fromCoin"),ee&&!Ye(ee)&&de(ee,"toCoin"))},{immediate:!0}),{onCoinSelect:m=>{ve.value="",F.value=!1,S.value={},c.value={},u.value=="coinA"?(s.value=m,de(m,"fromCoin"),(i.value&&i.value.address)==m.address&&(i.value=null)):(i.value=m,de(m,"toCoin"),(s.value&&s.value.address)==m.address&&(s.value=null))},selectToken:m=>{u.value=m,m=="coinA"&&(B.name=="liquidity-create"||!d.value)?(O.value=!0,C.value=!1):m=="coinB"&&(B.name=="liquidity-create"||!d.value)?(O.value=!1,C.value=!0):(m=="coinA"&&B.name=="liquidity-deposit"||m=="coinB"&&B.name=="liquidity-deposit")&&(O.value=!1,C.value=!1),y.value=!0},isCreatePoolFromCoin:O,isCreatePoolToCoin:C,showCoinSelect:y,firstWarning:F,closeTokenWarning:()=>{q.push("/pool/list")},fromCoin:s,toCoin:i,currentToken:u,warningFromCoin:S,warningToCoin:c}}});const va={class:"select-token-box"};function da(e,n,W,E,B,O){const u=Te("TokenDropdownSelect"),C=Ot,y=Ut;return I(),Y(rt,null,[a("div",va,[Z(u,{"token-info":e.fromCoin,"has-opcity":!0,"coin-size":"32px","is-loading":!1,onOnSelect:n[0]||(n[0]=q=>e.selectToken("coinA"))},null,8,["token-info"]),Z(u,{"token-info":e.toCoin,"has-opcity":!0,"coin-size":"32px","is-loading":!1,onOnSelect:n[1]||(n[1]=q=>e.selectToken("coinB"))},null,8,["token-info"])]),e.showCoinSelect?(I(),je(C,{key:0,"existing-coins":e.currentToken=="coinA"?e.fromCoin&&e.fromCoin.address:e.toCoin&&e.toCoin.address,"last-select-coin":e.currentToken=="coinA"?e.fromCoin&&e.fromCoin.address:e.toCoin&&e.toCoin.address,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,"have-import-btn":!0,onOnSelect:e.onCoinSelect,onOnClose:n[2]||(n[2]=q=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):x("",!0),e.isShowTokenWarning?(I(),je(y,{key:1,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,"is-import-modal":!0,onClose:e.closeTokenWarning,onClickContinue:n[3]||(n[3]=()=>{e.isShowTokenWarning=!1,e.warningFromCoin="",e.warningToCoin=""})},null,8,["from-coin","to-coin","onClose"])):x("",!0)],64)}const ma=Ze(ca,[["render",da],["__scopeId","data-v-b798e496"]]),pa=Je({components:{CreatePoolRight:Qt,RectangleTab:Pt,IconTooltip:Mt,SuiLiquidityPrice:At,FeeTierBlock:ra,SelectTokenBlock:ma},setup(e,n){var Oe;const W=g(!0),E=g(!0),B=g(!0),O=g(!0),u=g(!1),C=g("1"),y=g(!0),q=g(""),S=Qe(),c=so(),h=xe(),F=R(()=>h),de=io(),se=R(()=>de),ie=R(()=>F.value.chainName),V=R(()=>ie.value?uo(ie.value):{});ce(()=>[c,se.value.tokensObj],async([t,f])=>{var k,U;((k=c==null?void 0:c.currentRoute)==null?void 0:k.value.name)=="liquidity-create"&&f&&(s.value=se.value.tokensObj[S.query.fromCoin]||await V.value.getTokenBySymbol(f,S.query.fromCoin),i.value=se.value.tokensObj[S.query.toCoin]||await V.value.getTokenBySymbol(f,S.query.toCoin),ve.value=S.query.fee!=="null"&&S.query.fee?S.query.fee:""),((U=c==null?void 0:c.currentRoute)==null?void 0:U.value.name)=="liquidity-create"&&ve.value&&(Be.value="",v.value="",p.value="",we.value=!0)},{immediate:!0,deep:!0}),ce(()=>[s.value,i.value,Be.value,ve.value,N.value,_.value,v.value,fe.value,ge.value],([t,f,k,U,P,L,pe,ae,$e])=>{!t||!f?(C.value="1",W.value=!0,E.value=!0,B.value=!0,De.value=!0):U?k?!P||!L||ae||$e||Number(P)>=Number(L)?(C.value="4",W.value=!1,E.value=!1,B.value=!1,De.value=!0):pe||(C.value="5",W.value=!1,E.value=!1,B.value=!1,De.value=!1):(C.value="3",W.value=!1,E.value=!1,B.value=!0,De.value=!0):(C.value="2",W.value=!1,E.value=!0,B.value=!0,De.value=!0)},{immediate:!0}),ce(()=>C.value,t=>{Number(t)<5&&(v.value="",p.value="")});const m=t=>{var f;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((f=se.value.tokensObj[t==null?void 0:t.address])==null?void 0:f.logo_url)||(F.value.theme==="default"?Xe("/image/coins/unknown.png"):Xe("/image/coins/sui-unknown.png"))},ee=async t=>{var ae,$e,Ce,Ue,Ee,o,b,$,Q,D,oe,z,H,X,G;console.log("#####emitCurrentPrice",(ae=he)==null?void 0:ae.value,t),t?(Be.value=t,Pe.value=t,ao.value=new j(1).div(new j(t)).toString()):(Be.value="",Pe.value="",ao.value="");let f,k;const U=se.value.poolConfigList;for(let M=0;M<U.length;M++){const A=U[M];if(A.token_a.address.toUpperCase()===((Ue=(Ce=($e=he)==null?void 0:$e.value)==null?void 0:Ce.address)==null?void 0:Ue.toUpperCase())&&A.token_b.address.toUpperCase()===((b=(o=(Ee=Se)==null?void 0:Ee.value)==null?void 0:o.address)==null?void 0:b.toUpperCase())){f=A.needReverse,k=A;break}else if(A.token_b.address.toUpperCase()===((D=(Q=($=he)==null?void 0:$.value)==null?void 0:Q.address)==null?void 0:D.toUpperCase())&&A.token_a.address.toUpperCase()===((H=(z=(oe=Se)==null?void 0:oe.value)==null?void 0:z.address)==null?void 0:H.toUpperCase())){f=A.needReverse,k=A;break}}let P=!1;await V.value.getIsSortedSymbols((X=he.value)==null?void 0:X.address,(G=Se.value)==null?void 0:G.address)&&(P=!0);let L;console.log(P,"###changeCurrentPrice createPoolNeedReverse 289"),console.log(T.value,"####changeCurrentPrice direction.value 290"),P&&!T.value?L=!0:P&&T.value||!P&&T.value?L=!1:L=!0,console.log(L,"###changeCurrentPrice newDirect 298");const pe=ie.value=="Aptos"?_t:St;if(s.value&&i.value&&t){const M=k?k==null?void 0:k.token_a.decimals:P?Se.value.decimals:he.value.decimals,A=k?k==null?void 0:k.token_b.decimals:P?he.value.decimals:Se.value.decimals,K=t&&V.value.TickMath.priceToSqrtPriceX64(L?new j(1/t):new j(t),M,A);console.log(K.toString(),"===>current_sqrt_price"),console.log(t&&t>0,"## emitCurrentPrice &&emitCurrentPrice>0");const be=t&&t>0&&V.value.TickMath.priceToSqrtPriceX64(new j(1).div(t),s.value.decimals,i.value.decimals);console.log(!L,t,"===>!newDirect"),console.log(M,A,"decimalsA,decimalsB===>");const le=t&&t>0&&V.value.TickMath.priceToTickIndex(L?new j(1).div(t):new j(t),M,A);console.log(le,"==>currentTickIndex");const ne=le-pe[ve.value]*5,ue=le+pe[ve.value]*5,re=V.value.TickMath.tickIndexToPrice(ne,M,A).toString(),Re=V.value.TickMath.tickIndexToPrice(ue,M,A).toString();we.value?(N.value="0",_.value="∞"):L?(N.value=String(1/Re),_.value=String(1/re),oo.value=String(1/Re),to.value=String(1/re)):(N.value=re,_.value=Re,oo.value=re,to.value=Re),console.log("0518###c####createPoolFromCoin.value####",he.value),console.log("0518###c####createPoolToCoin.value####",Se.value),console.log("0518###c####createPoolNeedReverse####",P);const Ve={token_a:k?k.token_a:P?Se.value:he.value,token_b:k?k.token_b:P?he.value:Se.value,isCreate:!0,tickSpacing:pe[ve.value],currentPrice:t,current_sqrt_price:K,tick_lower:ne,tick_upper:ue,current_tick_index:le,currentPriceReverse:qt(String(1/t),6),reverse_current_sqrt_price:be,needReverse:f,fee:ve.value};d.value=Ve,console.log("0518###c####poolInfos####",Ve)}else d.value=null,N.value="",_.value=""},me=()=>{we.value=!we.value,ee(d.value.currentPrice)},Ie=t=>{console.log(t,"####0731 priceRangeChangeMin"),we.value?(we.value=!1,ee(d.value.currentPrice)):N.value=t},Me=t=>{we.value?(we.value=!1,ee(d.value.currentPrice)):t=="0"?_.value="∞":_.value=t},r=()=>{var f,k;console.log(d.value,"==>createPoolInfo.value"),T.value=!T.value;const t=s.value;s.value=i.value,i.value=t,d.value&&(ee(Lt(new j(1).div(d.value.currentPrice).toString(),(k=(f=i)==null?void 0:f.value)==null?void 0:k.decimals)),te.value?v.value=p.value:p.value=v.value),console.log(T.value,"####toggle direction.value")};ut(()=>{It()});const l=Dt(t=>{console.log("🚀 ~ file: create.vue:514 ~ updateDebouncedValue ~ value:",t),ee(t)},500),w=g(""),ke=t=>{const f=T.value?i.value.decimals:s.value.decimals,k=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${f}})?).*$`),U=t.target.value.replace(/,/g,"").replace(k,"$1");l(U)},Ne=t=>{var Ue;const f=t.target.selectionStart,k=T.value?i.value.decimals:s.value.decimals,U=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${k}})?).*$`);console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",t.target.value);let P=t.target.value.replace(/,/g,"").replace(U,"$1");console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ value:",P);let L=P.includes(".")&&String(Fe(P))==="0"?P:String(Fe(P));const pe=st(t.target.value),ae=st(L),$e=ae.length-pe.length;let Ce=f+$e;if((Ue=t==null?void 0:t.inputType)!=null&&Ue.includes("delete")&&$e>0&&f===ae[ae.length-1]){const Ee=t.target.value.slice(0,f-1)+t.target.value.slice(f);L=String(Fe(Ee.replace(/,/g,""))),Ce=Ce-2}console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",L),w.value=L,setTimeout(()=>{t.target.setSelectionRange(Ce<0?0:Ce,Ce<0?0:Ce)},0)};ce(()=>Be.value,t=>{console.log("🚀 ~ file: assets-card.vue:287 ~ setup ~ newValue:",t);const f=t!=null&&t.includes(".")&&String(Fe(t))==="0"?t:String(Fe(t));console.log("🚀 ~ file: assets-card.vue:287 ~ setup ~ fValue:",f),f!==w.value&&(w.value=f)},{immediate:!0});const _e=R(()=>{var t,f,k,U,P,L;return[{label:(t=s.value)==null?void 0:t.symbol,value:(f=s.value)==null?void 0:f.address,logo:(k=s.value)==null?void 0:k.logo_url},{label:(U=i.value)==null?void 0:U.symbol,value:(P=i.value)==null?void 0:P.address,logo:(L=i.value)==null?void 0:L.logo_url}]}),ye=g((Oe=s.value)==null?void 0:Oe.address);return{rectangleTabList:_e,currentRectangleTab:ye,amountLock:De,currentStep:C,coinAmount:u,pricerange:q,fromCoin:s,toCoin:i,feeValue:ve,direct:y,getCoinIcon:m,isSelectFullRange:O,store:F,initPrice:Be,feeTierLock:W,inputPriceLock:E,specifyPriceLock:B,changeCurrentPrice:ee,minPrice:N,maxPrice:_,defaultMinPrice:oo,defaultMaxPrice:to,clickFullRange:me,createPoolInfo:d,isFullRange:we,priceRangeChangeMin:Ie,priceRangeChangeMax:Me,fromCoinAmount:v,toggle:r,showFromCoinLock:fe,showToCoinLock:ge,inputChange:ke,currentPrice:Pe,importIcon:Xe,formattedValue:w,handleInput:Ne}}});const J=e=>(lo("data-v-397afdc2"),e=e(),no(),e),fa={class:"create-pool-container"},ga={class:"back-box"},ka={class:"create-pool-top"},Ca={class:"progress-text"},ba=J(()=>a("span",null,"1",-1)),ha=J(()=>a("div",{class:"text"},"Select Tokens",-1)),_a=[ba,ha],Sa=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Ta=J(()=>a("span",null,"2",-1)),ya=J(()=>a("div",{class:"text"},"Select Fee Tier",-1)),wa=[Ta,ya],Pa=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Aa=J(()=>a("span",null,"3",-1)),Na=J(()=>a("div",{class:"text"}," Set Initial Price",-1)),$a=[Aa,Na],Ra=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),qa=J(()=>a("span",null,"4",-1)),La=J(()=>a("div",{class:"text"},"Select Price Range",-1)),Ia=[qa,La],Ba=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Fa=J(()=>a("span",null,"5",-1)),Ma=J(()=>a("div",{class:"text"},"Confirm Liquidity",-1)),Oa=[Fa,Ma],Ua={class:"create-pool-bottom"},Va={class:"bottom-left"},Da={class:"item-block select-fee-tier"},ja=J(()=>a("div",{class:"title"},[a("div",{class:"left"}," Select Tokens ")],-1)),Wa={class:"content"},Ea={class:"item-block select-fee-tier"},za=J(()=>a("div",{class:"title"},[a("div",{class:"left"}," Select Fee Tier ")],-1)),Xa={class:"content"},Ga={key:0,class:"lock"},Ha={class:"initial-price-box item-block"},Ka={class:"title"},Ya={class:"left"},Ja={class:"right"},Qa={key:0,class:"tab-box"},Za={class:"content"},xa={class:"input-div"},el={key:0,class:"lock"},ol={class:"price-range-box item-block"},tl={class:"title"},al={class:"left"},ll={class:"content"},nl={class:"set-price-box"},sl={key:0,class:"lock"},il={key:1,class:"create-pool-warning"},ul={key:2,class:"position-tips"},rl={class:"error"},cl={class:"reset-full-range"},vl=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_refresh"})],-1)),dl=J(()=>a("span",null,"Reset Range",-1)),ml=[vl,dl],pl=J(()=>a("span",null,"Full Range",-1)),fl={class:"bottom-right"};function gl(e,n,W,E,B,O){const u=dt,C=Te("SelectTokenBlock"),y=Te("FeeTierBlock"),q=mt,S=Te("IconTooltip"),c=Te("RectangleTab"),h=Ct,F=Te("SuiLiquidityPrice"),de=bt,se=Te("CreatePoolRight");return I(),Y("div",fa,[a("div",ga,[Z(u)]),a("div",ka,[a("div",Ca,[a("div",{class:Le(["row",Number(e.currentStep)>=1?"color-text":""])},_a,2),Sa,a("div",{class:Le(["row",Number(e.currentStep)>=2?"color-text":""])},wa,2),Pa,a("div",{class:Le(["row",Number(e.currentStep)>=3?"color-text":""])},$a,2),Ra,a("div",{class:Le(["row",Number(e.currentStep)>=4?"color-text":""])},Ia,2),Ba,a("div",{class:Le(["row",Number(e.currentStep)>=5?"color-text":""])},Oa,2)])]),a("div",Ua,[a("div",Va,[a("div",Da,[ja,a("div",Wa,[Z(C)])]),a("div",Ea,[za,a("div",Xa,[Z(y),e.feeTierLock?(I(),Y("div",Ga,[Z(q)])):x("",!0)])]),a("div",Ha,[a("div",Ka,[a("div",Ya,[Ge(" Set Initial Price "),Z(S,{"xlink-href":"#icon-icon_tips",type:"createInitPrice"})]),a("div",Ja,[e.fromCoin&&e.toCoin?(I(),Y("div",Qa,[Z(c,{"current-rectangle-tab":e.currentRectangleTab,"rectangle-tab-list":e.rectangleTabList,onClickTab:n[0]||(n[0]=ie=>{e.toggle()})},null,8,["current-rectangle-tab","rectangle-tab-list"])])):x("",!0)])]),a("div",Za,[a("div",xa,[Z(h,{value:e.formattedValue,type:"text",placeholder:"0.0",onChange:e.inputChange,onInput:e.handleInput},null,8,["value","onChange","onInput"]),a("span",null,Ae(e.toCoin&&e.toCoin.symbol)+" per "+Ae(e.fromCoin&&e.fromCoin.symbol),1)]),e.inputPriceLock?(I(),Y("div",el,[Z(q)])):x("",!0)])]),a("div",ol,[a("div",tl,[a("div",al,[Ge(" Set Price Range "),Z(S,{"xlink-href":"#icon-icon_tips",type:"createPriceRange"})])]),a("div",ll,[a("div",nl,[Z(F,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.createPoolInfo,loading:!1,"current-price-tab":"custom",onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","onOnChangeMinPrice","onOnChangeMaxPrice"])]),e.specifyPriceLock?(I(),Y("div",sl,[Z(q)])):x("",!0),Number(e.currentStep)>=4&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(I(),Y("div",il," To create a new pool, the initial price you set must be within your price range. ")):x("",!0),e.minPrice&&e.maxPrice&&Number(e.currentStep)>=4&&Number(e.minPrice)>=Number(e.maxPrice)?(I(),Y("div",ul,[a("p",rl,Ae(e.$t("tips.positionError")),1)])):x("",!0),a("div",cl,[a("div",{class:"item",onClick:n[1]||(n[1]=()=>{e.defaultMinPrice="",e.defaultMaxPrice="",e.minPrice="",e.maxPrice=""})},ml),a("div",{class:"plus-switch plus-liquidity-switch item",onClick:n[2]||(n[2]=(...ie)=>e.clickFullRange&&e.clickFullRange(...ie))},[pl,Z(de,{class:"range-alerts-switch",checked:e.isFullRange},null,8,["checked"])])])])])]),a("div",fl,[Z(se,{"create-pool-info":e.createPoolInfo,onToggle:e.toggle},null,8,["create-pool-info","onToggle"])])])])}const ln=Ze(pa,[["render",gl],["__scopeId","data-v-397afdc2"]]);export{ln as default};
