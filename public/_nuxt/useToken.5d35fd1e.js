import{q as u,c as T}from"./index.601bad75.js";import{a6 as f}from"./entry.8a717f77.js";import{u as g,f as k}from"./useSDK.18fd38bc.js";const j=f("SuiTokenStore",{state:()=>({allTokensObj:{},allTokensList:[]}),getters:{getToken:o=>n=>{var i,s;return console.log("ðŸš€ ~ file: token.ts:13 ~ coinType:",n),console.log("ðŸš€ ~ file: token.ts:13 ~ state.allTokensObj?.[coinType]:",(i=o.allTokensObj)==null?void 0:i[n]),(s=o.allTokensObj)==null?void 0:s[n]}},actions:{setAllTokensObj(o){this.allTokensObj={...this.allTokensObj,...o}},setAllTokensList(o,n){if(this.allTokensList=o,!n){const i=Object.fromEntries(o.map(s=>{var r;const l=(r=u(s.coin_type))==null?void 0:r.full_address;return[l,{...s,address:l,isSelfBuilt:!s.is_trusted,logoURI:s.logo_url}]}));this.setAllTokensObj(i)}}},persist:!0});function S(){const o=g(),{setAllTokensList:n,allTokensList:i,allTokensObj:s}=j(),l=async()=>{try{const t=await k(`${T.Sui.api}/v2/sui/coins_info`);if(!(t!=null&&t.list))throw Error("fetchTokenList list is null");return t==null?void 0:t.list}catch{if(i)return i;const e=await k("/data/coins_info.json");return(e==null?void 0:e.list)||[]}},r=async()=>{const t=await l();t&&n(t)},a=async t=>{const e=await o.clmmSdk.CetusConfig.getTokenListByCoinTypes([t]);if(e)return Object.values(e)[0]};return{getTokenList:r,getToken:async t=>{var c;const e=(c=u(t))==null?void 0:c.full_address;return s[e]?s[e]:await a(e)},getTokenBySdk:a}}export{j as a,S as u};
