import{_ as Xo}from"./back.830ea923.js";import{_ as Zo}from"./status-block.6e59db33.js";import{a as po,L as fo,r as p,s as mo,F as vo,v as h,ag as W,i as Io,A as Lo,H as T,b as ko,o as f,e as m,f as e,l as k,m as _,t as s,q as J,h as N,S as No,p as ho,j as go,M as xo,K as oe,c as Bo,y as S,B as jo,G as ee,aH as ne,z as uo,w as oo,N as se,ai as ie,ak as te,x as ae,aD as L,aI as Oo,Y as H,k as V,J as le,ah as re,a0 as co,C as de,E as ue,a1 as Po,a2 as Uo,a5 as ce}from"./entry.a22eafe0.js";import{_ as Do,a as Eo}from"./icon-arrow_2x.db44c7c5.js";const pe=po({props:{positionInfo:{type:Object,required:!0}},setup(o){const{t:r}=fo();let A=p(!1),B=p(!0);const O=mo(),P=vo(),l=h(()=>P),I=h(()=>{var t,y,n,g,q,K,Y,Q;const d=o.positionInfo.amountA*((y=l.value.RATES[(t=o.positionInfo)==null?void 0:t.token_a.name.toUpperCase()])==null?void 0:y.price),w=o.positionInfo.amountB*((g=l.value.RATES[(n=o.positionInfo)==null?void 0:n.token_b.name.toUpperCase()])==null?void 0:g.price);return((K=l.value.RATES[(q=o.positionInfo)==null?void 0:q.token_a.name.toUpperCase()])==null?void 0:K.price)&&((Q=l.value.RATES[(Y=o.positionInfo)==null?void 0:Y.token_b.name.toUpperCase()])==null?void 0:Q.price)?d+w:" --"}),v=h(()=>{var d,w,t,y;return((w=l.value.RATES[(d=o.positionInfo)==null?void 0:d.token_a.name.toUpperCase()])==null?void 0:w.price)&&I.value!=="--"?(o.positionInfo.amountA*((y=l.value.RATES[(t=o.positionInfo)==null?void 0:t.token_a.name.toUpperCase()])==null?void 0:y.price)/I.value*100).toFixed(0):" --"}),j=h(()=>{var d,w,t,y;return((w=l.value.RATES[(d=o.positionInfo)==null?void 0:d.token_b.name.toUpperCase()])==null?void 0:w.price)&&I.value!=="--"?(o.positionInfo.amountB*((y=l.value.RATES[(t=o.positionInfo)==null?void 0:t.token_b.name.toUpperCase()])==null?void 0:y.price)/I.value*100).toFixed(0):" --"}),D=h(()=>l.value.tokensObj&&o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.address&&l.value.tokensObj[o.positionInfo.token_a.address]&&l.value.tokensObj[o.positionInfo.token_a.address].logoURI),E=h(()=>l.value.tokensObj&&o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.address&&l.value.tokensObj[o.positionInfo.token_b.address]&&l.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{fromPercent:j,toPercent:v,amountUSD:I,showNum:W,t:r,importIcon:Io,indexStore:O,rateChange:B,decimalFormat:Lo,fromCoinUrl:D,toCoinUrl:E,pools:l,addCommom:T,isPc:A}}});const fe=o=>(ho("data-v-a9f02cbe"),o=o(),go(),o),me={class:"position-card"},ve={class:"coin-pair"},Ie=["src"],ke=["src"],he={class:"fee"},ge={class:"right"},be={key:0,class:"status"},_e={class:"min-and-max"},we={key:0},ye={class:"text"},$e={key:0,src:Do,alt:""},Ce={key:1,src:Eo,alt:""},Se={class:"text"},Te={key:1},Ae={class:"text"},Re={key:0,src:Do,alt:""},Oe={key:1,src:Eo,alt:""},Pe={class:"text"},Ue=fe(()=>e("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Le=[Ue],Ne={class:"liquidity"},Be={class:"label"},je={class:"value"},De={class:"token-num"},Ee={class:"item"},qe=["src"],Fe={class:"rate"},We={class:"item"},Me=["src"],He={class:"rate"};function Ve(o,r,A,B,O,P){const l=No,I=Zo;return f(),m("div",me,[e("div",{class:J(["left",`position-status-${o.positionInfo&&o.positionInfo.currentStatus&&o.positionInfo.currentStatus.toLowerCase()}`])},[k(l,{class:"left-skeleton",loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[e("div",ve,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,Ie),e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,ke)]),e("span",null,s(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" - "+s(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)]),e("div",he,s(o.$t("common.fee"))+" "+s(o.positionInfo.fee)+"% ",1)]),_:1},8,["loading"])],2),e("div",ge,[o.pools.currentPositionLoading?N("",!0):(f(),m("div",be,[k(I,{"current-status":o.positionInfo.currentStatus||""},null,8,["current-status"])])),k(l,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[e("div",_e,[o.rateChange?(f(),m("div",we,[e("div",ye,s(o.addCommom(o.decimalFormat(String(o.positionInfo.minPrice),6))),1),o.indexStore.theme=="default"?(f(),m("img",$e)):(f(),m("img",Ce)),e("div",Se,s(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(o.positionInfo.maxPrice),6)))+" "+s(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" per "+s(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(f(),m("div",Te,[e("div",Ae,s(o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.maxPrice)),6))),1),o.indexStore.theme=="default"?(f(),m("img",Re)):(f(),m("img",Oe)),e("div",Pe,s(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.minPrice)),6)))+" "+s(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" per "+s(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),(f(),m("svg",{class:"icon-change","aria-hidden":"true",onClick:r[0]||(r[0]=v=>o.rateChange=!o.rateChange)},Le))])]),_:1},8,["loading"]),e("div",Ne,[k(l,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[e("div",Be,s(o.$t("common.liquidity")),1),e("div",je," $"+s(o.amountUSD=="--"?"--":Number(o.amountUSD)==0?0:Number(o.amountUSD)<.01?"<0.01":o.addCommom(o.amountUSD,2)),1)]),_:1},8,["loading"])]),e("div",De,[k(l,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[e("div",Ee,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,qe),e("p",null,s(o.showNum(o.positionInfo.amountA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,s(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)]),e("div",Fe,s(o.addCommom(o.fromPercent,0))+"%",1)]),e("div",We,[e("div",null,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,Me),e("p",null,s(o.showNum(o.positionInfo.amountB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,s(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_b.symbol),1)]),e("div",He,s(o.addCommom(o.toPercent,0))+"%",1)])]),_:1},8,["loading"])])])])}const ze=ko(pe,[["render",Ve],["__scopeId","data-v-a9f02cbe"]]),Ge=po({components:{Modal:xo},props:{positionInfo:{type:Object,required:!0},isLoading:{type:Boolean,required:!0}},setup(o,r){const{t:A,locale:B}=fo(),O=mo(),{copy:P}=O,l=()=>{r.emit("toClaim")},I=vo(),v=h(()=>I),j=h(()=>v.value.tokensObj&&o.positionInfo.token_a.address&&v.value.tokensObj[o.positionInfo.token_a.address]&&v.value.tokensObj[o.positionInfo.token_a.address].logoURI),D=h(()=>v.value.tokensObj&&o.positionInfo.token_b.address&&v.value.tokensObj[o.positionInfo.token_b.address]&&v.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{showNum:W,fromCoinUrl:j,toCoinUrl:D,toClaim:l,t:A,addCommom:T,importIcon:Io,store:O,copy:P}}});const Je=o=>(ho("data-v-09ff5415"),o=o(),go(),o),Ke=Je(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Ye={class:"claim-container"},Qe={key:0,class:"pc-claim"},Xe=["src"],Ze={key:1,class:"pc-claim"},xe=["src"];function on(o,r,A,B,O,P){const l=jo,I=oe("Modal");return f(),Bo(I,{visible:!0,class:"claim-fees",centered:"",closable:!0,title:o.$t("modal.claimFees"),width:"400px",footer:null,onCancel:r[0]||(r[0]=v=>o.$emit("onClose"))},{closeIcon:_(()=>[Ke]),default:_(()=>[e("div",Ye,[o.positionInfo&&o.positionInfo.token_a.symbol?(f(),m("div",Qe,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,Xe),e("span",null,s(o.showNum(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals))+" "+s(o.positionInfo.token_a.symbol),1)])):N("",!0),o.positionInfo&&o.positionInfo.token_b.symbol?(f(),m("div",Ze,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,xe),e("span",null,s(o.showNum(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals))+" "+s(o.positionInfo.token_b.symbol),1)])):N("",!0)]),k(l,{class:"big-btn claim-btn",disabled:o.isLoading||o.addCommom(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals)==0&&o.addCommom(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals)==0||o.positionInfo.poolInfo.is_pause,onClick:o.toClaim},{default:_(()=>[S(s(o.$t("common.claim")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["title"])}const en=ko(Ge,[["render",on],["__scopeId","data-v-09ff5415"]]),nn=po({setup(){const o=p(!1),r=p(!1),A=p(!1),B=p(!0),O=vo(),P=p(""),l=p(""),I=p(""),v=p(7),j=p("APR"),D=p([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),E=p(!0),d=i=>{console.log(i,"====>>>>item",i.num,v.value),v.value=i.num},w=()=>{E.value=!E.value},t=h(()=>O),y=h(()=>{var u,c,b,$;const i=n.value.feeOwedA*((u=t.value.RATES[n.value&&n.value.token_a&&n.value.token_a.name.toUpperCase()])==null?void 0:u.price),a=n.value.feeOwedB*((c=t.value.RATES[n.value&&n.value.token_b&&n.value.token_b.name.toUpperCase()])==null?void 0:c.price);return((b=t.value.RATES[n.value&&n.value.token_a&&n.value.token_a.name.toUpperCase()])==null?void 0:b.price)&&(($=t.value.RATES[n.value&&n.value.token_b&&n.value.token_b.name.toUpperCase()])==null?void 0:$.price)?i+a:" --"}),n=p(t.value.currentPositionInfo||{}),g=ee(),q=ne();function K(){q.setCurrentLiquidity(n),g.push(`/remove-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}`)}function Y(){console.log("1205###toIncrease####positionInfo####",n),q.setCurrentLiquidity(n),g.push(`/increase-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}`)}const Q=()=>{no(),A.value=!0,setTimeout(()=>{A.value=!1},1e3)},eo=uo(),no=async()=>{t.value.setCurrentPositionLoading(!0);const i=g.currentRoute.value.query.token||"",a=g.currentRoute.value.query.collect||"";l.value=g.currentRoute.value.query.address||"",i&&a&&l.value&&(P.value=a,I.value=i,t.value.setCurrentPositionInfo(l.value,P.value,I.value))};oo(()=>t.value.addressLpTokens,i=>{H(i)||no()},{immediate:!0});const bo=p(""),_o=p(""),wo=p(""),C=mo(),X=h(()=>C),qo=(i,a)=>i&&a?V(re.plus(co(i),co(a)),2)+"%":i,Fo=i=>{console.log(i,"list===>");let a=0;return i&&i.forEach(u=>{console.log(u,"===>ele"),a+=co(String(u))}),String(a)},yo=p("");oo(()=>[X.value.newTopPoolsObj,n.value],([i,a])=>{if(!H(i)&&!H(a)){const u=a.poolAddress,c=i[u];bo.value=c&&c.apr_7day,yo.value=qo(c&&c.apr_7day,c&&Fo(c.rewarder_apr)),_o.value=c&&V(c.tvl_in_usd,2),wo.value=c&&V(c.vol_in_usd_24h,2)}},{immediate:!0,deep:!0});const Wo=se(),G=h(()=>Wo);ie(()=>{G.value.connected||g.push("/position")});const{t:so}=fo(),{$notify:$o}=te(),Mo=async()=>{o.value=!0,r.value=!1,C.setTransactionDesc(so("newAdd.claimWaitingText",{from:T(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${W(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`,and:T(n.value.feeOwedA,n.value.token_a.decimals)==0||T(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and",to:T(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${W(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`})),C.setIsShowWaiting(!0);let i;const a={pool:n.value.poolInfo,position:n.value},u=uo();try{const c=await u.getCollectFeeTransactionPayload(a);if(i=await G.value.currentWallet.signAndSubmitTransaction(c),i){C.setTransactionTxid(i.hash),C.setIsShowWaiting(!1),C.setIsShowSuccess(!0);const b={title:"Claim",desc:"",hash:i.hash,tit:`Claimed Fee: ${n.value.poolInfo.symbol}`,text:`Claim ${T(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${W(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`}  
              ${T(n.value.feeOwedA,n.value.token_a.decimals)==0||T(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and"} ${T(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${W(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`}
              
            `};u.showTransitionPending(b),await u.watchTransaction(b)&&setTimeout(()=>{no()},1e3)}else C.setIsShowWaiting(!1),C.setIsShowRejected(!0),$o.error({icon:L("svg",{class:{icon:!0},"aria-hidden":!0},[L("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:L("div",{class:"notification-title"},[L("span",{innerHTML:Oo.global.t("newAdd.claimFailed")},null)]),description:so("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});o.value=!1,console.log("claim####test###",i)}catch(c){console.log("claim###error####",c),o.value=!1,C.setIsShowWaiting(!1),C.setIsShowRejected(!0),$o.error({icon:L("svg",{class:{icon:!0},"aria-hidden":!0},[L("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:L("div",{class:"notification-title"},[L("span",{innerHTML:Oo.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:so("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},io=p(""),to=p(""),Ho=()=>{io.value=n.value.token_b,to.value=n.value.token_a},Co=async()=>{const i=t.value.addressLpTokens[g.currentRoute.value.query.address];console.log(i,"===>pool");const a=await eo.getTickDataByIndex(i.ticks_handle,Number(n.value.tick_lower_index)),u=await eo.getTickDataByIndex(i.ticks_handle,Number(n.value.tick_upper_index)),c=await eo.getPosRewardersAmount({poolAddress:g.currentRoute.value.query.address,positionName:g.currentRoute.value.query.token,tickLowerData:a,tickUpperData:u}),b=[];let $=0;c.forEach(R=>{const M=t.value.newTokenObj[R.coin_address].decimals,U=t.value.newTokenObj[R.coin_address];console.log(R.amount_owed.toString(),"===>element.amount_owed.toString()");const F=Number(R.amount_owed.toString())/Math.pow(10,M),ro=t.value.RATES[t.value.newTokenObj[R.coin_address].name.toUpperCase()].price,Ro=F*ro;$+=Ro,b.push({...R,...U,amount:V(F,M),amountUSD:V(Ro,2)})}),Z.value=b,ao.value=$,So.value=Number(V($,2))};oo(()=>t.value.currentPositionInfo,i=>{i&&(n.value=t.value.currentPositionInfo,Co(),io.value=t.value.currentPositionInfo.token_a,to.value=t.value.currentPositionInfo.token_b,console.log(i,"positionInfo.valuepositionInfo.value"))},{immediate:!0});const Vo=h(()=>t.value.newTokenObj&&n&&n.value.token_a&&n.value.token_a.address&&t.value.newTokenObj[n.value.token_a.address]&&t.value.newTokenObj[n.value.token_a.address].logoURI),zo=h(()=>t.value.newTokenObj&&n&&n.value.token_b&&n.value.token_b.address&&t.value.newTokenObj[n.value.token_b.address]&&t.value.newTokenObj[n.value.token_b.address].logoURI),Go=h(()=>X.value.chainName),Jo=h(()=>le[Go.value]),ao=p(0),Z=p([]),So=p(0);ae(()=>{ao.value=0,Z.value=[],So.value=0});const{setIsShowSuccess:Ko,setIsShowRejected:To,setIsShowWaiting:lo,setTransactionDesc:as,setTransactionTxid:Yo}=C,x=p(!1),Qo=async()=>{x.value=!0;const i=uo(),a=Z.value;let u={coinTypeA:n.value.poolInfo.coinTypeA,coinTypeB:n.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:n.value.poolAddress,pos_index:n.value.index,rewarder_nums:a.length};u.coinTypeC=a[0]?a[0].coin_address:"",u.coinTypeD=a[1]?a[1].coin_address:"",u.coinTypeE=a[2]?a[2].coin_address:"",console.log(u,"===>collectRewarderParams");try{const c=await i.getCollectRewarderTransactionPayload(u),b=await G.value.currentWallet.signAndSubmitTransaction(c);if(b&&b.hash){Yo(b.hash),lo(!1),Ko(!0);const $=a[0].amount+a[0].symbol,R=u.coinTypeD?" and "+a[1].amount+a[1].symbol:"",M=u.coinTypeE?" and "+a[2].amount+a[2].symbol:"",U={title:"Claim",desc:"",hash:b.hash,tit:`Claimed Rewarder: ${n.value.poolInfo.symbol}`,text:$+R+M};i.showTransitionPending(U),await i.watchTransaction(U)&&setTimeout(()=>{Co(),i.getAccount(G.value.address)},1e3)}else lo(!1),To(!0);x.value=!1}catch(c){console.log("Swap Error###",c),x.value=!1,lo(!1),To(!0)}};console.log(n,"===>positionInfo");const Ao=p([]);return oo(()=>[n.value,t.value.addressLpTokens,t.value.newTokenObj,X.value.newTopPoolsObj],([i,a,u,c])=>{if(!H(i)&&!H(a)&&!H(u)){const b=i.address;console.log(i,"===>positionInfo");const $=a[b];console.log($,"===>poolInfo");let R=$.rewarder_infos||[];const M=c[b],U=[];R.forEach((F,ro)=>{console.log(F,"ele====>"),console.log(u,"===>newTokenObj"),U.push({...F,symbol:u[F.coinAddress].symbol,rewarderApr:M.rewarder_apr[ro]})}),Ao.value=U,console.log(U,"===>result96")}},{immediate:!0}),{rewarderArr:Ao,feeOwed:y,config:Jo,showNum:W,index:X,fromCoinUrl:Vo,toCoinUrl:zo,toggle:Ho,fromCoin:io,toCoin:to,apr:bo,liquidityTvl:_o,vol24:wo,addCommom:T,decimalFormat:Lo,wallet:G,isLoading:o,toClaim:Mo,pools:t,positionInfo:n,importIcon:Io,router:g,toRemove:K,toIncrease:Y,isShowClaim:r,direct:B,refresh:A,clickRefresh:Q,pendingRewarderArr:Z,pendingRewarder:ao,toClaimRewards:Qo,rewarderLoading:x,aprRewardsParameter:v,aprRewardsDateList:D,aprTab:d,reviseValue:w,label:E,aprTitle:j,aprTotal:yo}}});const z=o=>(ho("data-v-fe7e05fe"),o=o(),go(),o),sn={key:0,class:"position-detail-container"},tn={class:"position-detail-header"},an={class:"back-and-refresh"},ln=z(()=>e("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),rn=[ln],dn={class:"action-position"},un={class:"coin-pair"},cn=z(()=>e("use",{"xlink:href":"#icon-icon-copy"},null,-1)),pn=[cn],fn=["href"],mn=z(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-jump"})],-1)),vn=[mn],In={class:"acton-btn-box"},kn=z(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-Reduction"})],-1)),hn=z(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-add"})],-1)),gn={class:"position-content"},bn={class:"pedding-fee"},_n={class:"top"},wn={class:"left"},yn={class:"bottom"},$n=["src"],Cn=["src"],Sn={key:0,class:"pedding-fee"},Tn={class:"top"},An={class:"left"},Rn=z(()=>e("span",null,"Pending rewards",-1)),On={class:"bottom"},Pn=["src"],Un={class:"poolInfo"},Ln={class:"pool-info-title"},Nn={class:"currentPrice"},Bn={key:0,class:"coin"},jn={key:1,class:"coin"},Dn={class:"toggle"},En=["src"],qn=["src"],Fn={key:0},Wn={class:"info-block-container"},Mn={class:"info-block"},Hn={class:"leabl"},Vn={class:"text"},zn={class:"apr-hover-content"},Gn={class:"apr-hover"},Jn={class:"apr-hover-top"},Kn={key:0,class:"apr-hover-bottom"},Yn={class:"info-block"},Qn={class:"leabl"},Xn={class:"text"},Zn={class:"info-block"},xn={class:"leabl"},os={class:"text"},es={class:"info-block"},ns={class:"leabl"},ss={class:"text"},is={class:"loading-global"};function ts(o,r,A,B,O,P){const l=Xo,I=jo,v=No,j=ze,D=en,E=ce;return o.positionInfo?(f(),m("div",sn,[e("div",tn,[e("div",an,[k(l),(f(),m("svg",{"aria-hidden":"true",class:J(o.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:r[0]||(r[0]=(...d)=>o.clickRefresh&&o.clickRefresh(...d))},rn,2))]),e("div",dn,[k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[e("div",un,[S(s(o.positionInfo.tokenName)+" ",1),(f(),m("svg",{class:"icon","aria-hidden":"true",onClick:r[1]||(r[1]=d=>o.index.copy(o.positionInfo.nftHash))},pn)),e("a",{href:`https://explorer.aptoslabs.com/token/${o.positionInfo.nftHash}/0?network=${o.config.network}`,target:"_blank"},vn,8,fn)]),e("div",In,[k(I,{class:J(["remove-liquidity action-btn",o.positionInfo.poolInfo.is_pause?"text-default":""]),disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toRemove},{default:_(()=>[kn,S(" "+s(o.$t("button.remove")),1)]),_:1},8,["class","disabled","onClick"]),k(I,{class:"increase-liquidity action-btn",disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toIncrease},{default:_(()=>[hn,S(" "+s(o.$t("button.increase")),1)]),_:1},8,["disabled","onClick"])])]),_:1},8,["loading"])])]),e("div",gn,[k(j,{"position-info":o.positionInfo},null,8,["position-info"])]),e("div",bn,[e("div",_n,[e("div",wn,[e("span",null,s(o.$t("newAdd.pendingFees")),1),e("p",null," $"+s(o.feeOwed=="--"?"--":Number(o.feeOwed)==0?0:Number(o.feeOwed)<.01?"<0.01":o.addCommom(o.feeOwed,2)),1)]),k(I,{class:"increase-liquidity action-btn",disabled:o.isLoading||!o.wallet.connected||!(Number(o.positionInfo&&o.positionInfo.feeOwedA)||Number(o.positionInfo&&o.positionInfo.feeOwedB))||o.positionInfo.poolInfo.is_pause,onClick:r[2]||(r[2]=d=>o.isShowClaim=!0)},{default:_(()=>[S(s(o.$t("common.claim")),1)]),_:1},8,["disabled"])]),k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[e("div",yn,[e("div",null,[e("img",{src:o.fromCoinUrl},null,8,$n),e("p",null,s(o.showNum(o.positionInfo.feeOwedA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,s(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)]),e("div",null,[e("img",{src:o.toCoinUrl},null,8,Cn),e("p",null,s(o.showNum(o.positionInfo.feeOwedB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,s(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])])]),_:1},8,["loading"])]),o.positionInfo&&o.positionInfo.poolInfo&&o.positionInfo.poolInfo.rewarder_infos&&o.positionInfo.poolInfo.rewarder_infos.length>0&&o.pendingRewarder&&o.pendingRewarder>0?(f(),m("div",Sn,[e("div",Tn,[e("div",An,[Rn,e("p",null," $"+s(o.pendingRewarder=="--"?"--":Number(o.pendingRewarder)==0?0:Number(o.pendingRewarder)<.01?"<0.01":o.addCommom(o.pendingRewarder,2)),1)]),k(I,{class:"increase-liquidity action-btn",disabled:o.rewarderLoading||!o.wallet.connected||o.pendingRewarder<=0||o.positionInfo.poolInfo.is_pause,loading:o.rewarderLoading,onClick:o.toClaimRewards},{default:_(()=>[S(s(o.$t("common.claim")),1)]),_:1},8,["disabled","loading","onClick"])]),k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[e("div",On,[(f(!0),m(Po,null,Uo(o.pendingRewarderArr,d=>(f(),m("div",{key:d},[e("img",{src:d.logoURI,alt:""},null,8,Pn),e("p",null,s(d.amount),1),e("span",null,s(d.symbol),1)]))),128))])]),_:1},8,["loading"])])):N("",!0),e("div",Un,[e("div",Ln,s(o.$t("newAdd.poolInfo")),1),e("div",Nn,[k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>{var d,w,t,y,n,g;return[o.direct?(f(),m("div",Bn,[e("span",null,s(o.$t("common.currentPrice")),1),S(" "+s(o.addCommom(o.decimalFormat(o.positionInfo.currentPrice,6)))+" "+s((d=o.toCoin)==null?void 0:d.symbol)+" per "+s((w=o.fromCoin)==null?void 0:w.symbol),1)])):(f(),m("div",jn,[e("span",null,s(o.$t("common.currentPrice")),1),S(" "+s(o.addCommom(o.decimalFormat(1/o.positionInfo.currentPrice,6)))+" "+s((t=o.fromCoin)==null?void 0:t.symbol)+" per "+s((y=o.toCoin)==null?void 0:y.symbol),1)])),e("div",Dn,[e("div",{class:J(o.direct?"item active-item":"item"),onClick:r[3]||(r[3]=q=>o.direct=!0)},[e("img",{src:o.fromCoinUrl,alt:""},null,8,En),S(" "+s(o.positionInfo&&o.positionInfo.token_a&&((n=o.positionInfo.token_a)==null?void 0:n.symbol)),1)],2),e("div",{class:J(o.direct?"item ":"item active-item"),onClick:r[4]||(r[4]=q=>o.direct=!1)},[e("img",{src:o.toCoinUrl,alt:""},null,8,qn),S(" "+s(o.positionInfo&&o.positionInfo.token_b&&((g=o.positionInfo.token_b)==null?void 0:g.symbol)),1)],2)])]}),_:1},8,["loading"])]),k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:_(()=>[o.aprTotal&&o.liquidityTvl&&o.vol24?(f(),m("div",Fn,[e("div",Wn,[e("div",Mn,[e("div",Hn,s(o.$t("common.apr")),1),e("div",Vn,[S(s(o.aprTotal)+" ",1),e("div",zn,[e("div",Gn,[e("div",Jn,s(o.rewarderArr&&o.rewarderArr.length>0?o.$t("tips.aprTips"):o.$t("tips.aprTipsTest")),1),o.rewarderArr&&o.rewarderArr.length>0?(f(),m("div",Kn,[e("div",null,[e("p",null,s(o.$t("common.fees")),1),e("p",null,s(o.apr),1)]),(f(!0),m(Po,null,Uo(o.rewarderArr,(d,w)=>(f(),m("div",{key:w},[e("p",null,s(d.symbol)+" Rewards",1),e("p",null,s(d.rewarderApr),1)]))),128))])):N("",!0)])])])]),e("div",Yn,[e("div",Qn,s(o.$t("common.liquidity")),1),e("div",Xn,"$"+s(o.liquidityTvl),1)]),e("div",Zn,[e("div",xn,s(o.$t("common.volume24h")),1),e("div",os,"$"+s(o.vol24),1)]),e("div",es,[e("div",ns,s(o.$t("newAdd.tickSpacing")),1),e("div",ss,s(o.positionInfo.tickSpacing),1)])])])):N("",!0)]),_:1},8,["loading"])]),o.isShowClaim?(f(),Bo(D,{key:1,"is-loading":o.isLoading,"position-info":o.positionInfo,onOnClose:r[5]||(r[5]=d=>o.isShowClaim=!1),onToClaim:o.toClaim},null,8,["is-loading","position-info","onToClaim"])):N("",!0),de(e("div",is,[k(E)],512),[[ue,o.pools.currentPositionLoading]])])):N("",!0)}const cs=ko(nn,[["render",ts],["__scopeId","data-v-fe7e05fe"]]);export{cs as default};
