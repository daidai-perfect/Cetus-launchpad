import{e$ as Y0,a1 as wo,Y as wt,a2 as wr,f0 as r_,eX as Qa,f1 as Vg,eY as Zi,eZ as Kg,f as u0,f2 as nl,f3 as i_}from"./entry.83db2c24.js";const s_="test",o_={pro:{Aptos:{liquidswapDeployer:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8",faucetObjectId:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37",fetcher:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",clmmIntegrate:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",TokenDeployer:"0xc50b243a7180dfad9afd7dff8451c7b16cf27a92b6816f521b1f3c6d0c5397e3",IntegerMate:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.mainnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"mainnet",networkTip:"Mainnet",api:"https://api.cetus.zone",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://alpha.cetus.zone",newPositionAddress:"0x5b0b1c0d7a22fd7c59dedc00f906e9cb68033d13589a739b0d18cf25e317bdd4",fraphQLUrl:"https://indexer.mainnet.aptoslabs.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{liquidswapDeployer:"0x2b8f54bf724fa62789299569210d6c94758dd636",globalPauseStatusObjectId:"0x877cd08c02a2faa110a020f4f203304b114d76d2",faucetObjectId:"0x61df0e8caaf7b241d137fdc97906e3ca6bd68cca",rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.zone",currentChainTokenAddress:"0x2::sui::SUI"}},pre:{Aptos:{liquidswapDeployer:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",faucetObjectId:"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75",fetcher:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",clmmIntegrate:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",TokenDeployer:"0xc50b243a7180dfad9afd7dff8451c7b16cf27a92b6816f521b1f3c6d0c5397e3",IntegerMate:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.mainnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"mainnet",networkTip:"Mainnet",api:"https://api-beta.cetus.zone",accountAddress:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",accountPublicKey:"0x854923b882d2451730a11690f7da896e3b497e2a47b3383e86b62173bbc1414c",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0x5b0b1c0d7a22fd7c59dedc00f906e9cb68033d13589a739b0d18cf25e317bdd4",fraphQLUrl:"https://indexer.mainnet.aptoslabs.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{liquidswapDeployer:"0x2b8f54bf724fa62789299569210d6c94758dd636",globalPauseStatusObjectId:"0x877cd08c02a2faa110a020f4f203304b114d76d2",faucetObjectId:"0x61df0e8caaf7b241d137fdc97906e3ca6bd68cca",rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.zone",ammSite:"https://cetus-pre.netlify.app",currentChainTokenAddress:"0x2::sui::SUI"}},test:{Aptos:{liquidswapDeployer:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",faucetObjectId:"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75",fetcher:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",clmmIntegrate:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",TokenDeployer:"0xce854db9e3d7ae088359dbc54e2d425370c86a010b7656a272019abd9abf5b5a",IntegerMate:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.testnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.com",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://test-cetus.netlify.app",newPositionAddress:"0x3904fc6d0dcb6e1937a6aced4597ec383afc752676d89f1d59b3d30b959fe161",fraphQLUrl:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{cetusClmm:"0x296e6ae7204fc10eaf8f08e4b4faf4ddd4ad001c",cetusIntegrate:"0x9cce89ed875c398dde64a5ccdfbebb6140b13b0f",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0x7a339a83046ba6b9cff5eda690177d7b9d5f734c",TokenDeployer:"0xad73800355e8dbc471d9854599064f0b539ce877",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0x526554aec8e229cc79f2a3e375813f6be92aabf8"},initPartnerEvent:{partners_id:"0x9bd1abed942c804d11a3ebb224fef4c8abda4dbb"},initConfigEvent:{admin_cap_id:"0x1b585be50405d80698ee1cffbde0e884944b64ce",global_config_id:"0x7b357faee524eda340b9924a828814eab7c107f7",protocol_fee_claim_cap_id:"0xfec3fa3d8176952d584213d9e286bbbb1717af02"}},tokenConfig:{coin_registry_id:"0x059e8292480b2d87179b6d67964a9f984b9f824c",pool_registry_id:"0x92f8beac8b3ead9c7a7c3b7d0b7ad08ad6edc1c8",coin_list_owner:"0xd29d3c6e3c72b140dc09d9afad6398580ab06735",pool_list_owner:"0xa0de2a711c0c89971761e70e956fcd4f4f6ba35b"},rpcUrl:" https://explorer-rpc.devnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"devnet",networkTip:"Devnet",api:"https://api.devcetus.com",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0xbd1a8bd64216a4b102dc45a926bde4eb212108ae",currentChainTokenAddress:"0x2::sui::SUI"},Sui2:{cetusClmm:"0x296e6ae7204fc10eaf8f08e4b4faf4ddd4ad001c",cetusIntegrate:"0x9cce89ed875c398dde64a5ccdfbebb6140b13b0f",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0xa420bad83346a8cd05c98fff988d90ef8d149b4c",TokenDeployer:"0x7bfe88372b99abb54609b58fee652b97a162cbcf",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0x526554aec8e229cc79f2a3e375813f6be92aabf8"},initPartnerEvent:{partners_id:"0x9bd1abed942c804d11a3ebb224fef4c8abda4dbb"},initConfigEvent:{admin_cap_id:"0x1b585be50405d80698ee1cffbde0e884944b64ce",global_config_id:"0x7b357faee524eda340b9924a828814eab7c107f7",protocol_fee_claim_cap_id:"0xfec3fa3d8176952d584213d9e286bbbb1717af02"}},tokenConfig:{coin_registry_id:"0x3f9f6609fc99440e41c7e178ff1250274170c889",pool_registry_id:"0x699cff0b7e44e565908b4acfa482022cfbfc16c1",coin_list_owner:"0x7634802da06a3a4c8e4aa8c425cfd83406670e34",pool_list_owner:"0xa4e177fe96f33a7ec7f2aa14ad5387cac7c7cc21"},rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.com",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0xbd1a8bd64216a4b102dc45a926bde4eb212108ae",currentChainTokenAddress:"0x2::sui::SUI"}},dev:{Aptos:{liquidswapDeployer:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37",faucetObjectId:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29",fetcher:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",clmmIntegrate:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",TokenDeployer:"0xc50b243a7180dfad9afd7dff8451c7b16cf27a92b6816f521b1f3c6d0c5397e3",IntegerMate:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.devnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"devnet",networkTip:"Devnet",api:"https://api.devcetus.com",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://test-cetus.netlify.app",newPositionAddress:"0x3904fc6d0dcb6e1937a6aced4597ec383afc752676d89f1d59b3d30b959fe161",fraphQLUrl:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{liquidswapDeployer:"0x2b8f54bf724fa62789299569210d6c94758dd636",globalPauseStatusObjectId:"0x877cd08c02a2faa110a020f4f203304b114d76d2",faucetObjectId:"0x61df0e8caaf7b241d137fdc97906e3ca6bd68cca",rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",ammSite:"https://cetus-pre.netlify.app",api:"https://api.devcetus.zone",currentChainTokenAddress:"0x2::sui::SUI"}}},Ze={...o_[s_]},Ch=new r_,Xg=Y0("index",{state:()=>({slippage:localStorage.getItem("cetus-slippage")||"0.5",isShowSuccess:!1,isShowRejected:!1,isShowWaiting:!1,currentTransactionDesc:"",currentTransactionDescText:"",currentTransactionTxid:"",theme:"",chainName:"",positionNum:0,statsData:{},topPoolsList:[],topPoolsObj:{},newTopPoolsObj:{},topTokensList:[],topTokenObj:{},newtopTokenObj:{},lang:Ch.get("lang")||"en",addressLpTokens:{},addressHistTokens:{},transactionList:JSON.parse(localStorage.getItem("transactionList")||"[]")||[],newtransactionList:JSON.parse(localStorage.getItem("newtransactionList")||"[]")||[],newAddtransactionList:JSON.parse(localStorage.getItem("newAddtransactionList")||"[]")||[],isSelect:"",openMore:!1,openSwitchChain:!1,openSwitchLang:!1,openH5Icon:!1,isShowMore:!1}),actions:{copy(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{const n=document.createElement("input");n.readOnly=!0,document.body.appendChild(n),n.value=e,n.select(),document.execCommand("Copy"),document.body.removeChild(n)}const{$notify:t}=wo();t.success({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:wr.global.t("tips.copySuccess")},null)]),class:"ant-notification-copy"})},setOpenMore(e){this.openMore=e},setOpenSwitchChain(e){this.openSwitchChain=e},setOpenSwitchLang(e){this.openSwitchLang=e},setOpenH5Icon(e){this.openH5Icon=e},setIsShowMore(e){this.isShowMore=e},setSlippage(e){console.log(e,"slippage##"),this.slippage=e,localStorage.setItem("cetus-slippage",e)},setPositiomNum(){this.positionNum=this.positionNum+1},setTheme(e){console.log(e,"theme##"),this.theme=e,e=="default"?(this.chainName="Aptos",localStorage.setItem("chainName","Aptos")):e=="sui"?(this.chainName="Sui",localStorage.setItem("chainName","Sui")):e=="sui2"&&(this.chainName="Sui2",localStorage.setItem("chainName","Sui2"))},setIsShowSuccess(e){this.isShowSuccess=e},setIsShowRejected(e){this.isShowRejected=e},setIsShowWaiting(e){this.isShowWaiting=e},setTransactionDesc(e){this.currentTransactionDesc=e},setTransactionDescText(e){console.log(e,"====>status"),this.currentTransactionDescText=e},setTransactionTxid(e){this.currentTransactionTxid=e},async getStatsData(e){let t=[],n=[];console.log("0216###getStatsData###this.chainName####",e);const{data:r}=e=="Aptos"?await fetch(`${Ze[e||"Aptos"].api}/v2/swap/count`).then(o=>o.json()):await fetch(`${Ze[e||"Sui"].api}/v2/sui/swap/count`).then(o=>o.json()),i=e=="Aptos"?await fetch(`${Ze[e||"Aptos"].api}/v2/contract/price`).then(o=>o.json()):await fetch(`${Ze[e||"Sui"].api}/v2/sui/contract/price`).then(o=>o.json());n=Object.fromEntries(i.data.list.map(o=>[o.swap_account,o])),this.addressHistTokens=n,this.statsData=r;const s=[];if(r&&r.pools){for(let o=0;o<r.pools.length;o++){const a=r.pools[o],c=a.rewarder_apr[0]?Number(a.rewarder_apr[0].substring(0,a.rewarder_apr[0].length-1)):0,u=a.rewarder_apr[1]?Number(a.rewarder_apr[1].substring(0,a.rewarder_apr[1].length-1)):0,l=a.rewarder_apr[2]?Number(a.rewarder_apr[2].substring(0,a.rewarder_apr[2].length-1)):0,d=c+u+l;s.push({...a,aprNum:a?String(Number(a.apr_7day.substring(0,a.apr_7day.length-1))+d):"0",token_a_address:a.token_a_reserves=="SUI"?"0x2::sui::SUI":a.token_a_address,token_b_address:a.token_b_reserves=="SUI"?"0x2::sui::SUI":a.token_b_address})}this.topPoolsList=s,t=Object.fromEntries(r.pools.map(o=>[o.swap_account,o])),this.topPoolsObj=Object.fromEntries(r.pools.map(o=>[o.name,o])),this.newTopPoolsObj=Object.fromEntries(r.pools.map(o=>[o.swap_account,o]))}r&&r.tokens&&(this.topTokensList=r.tokens,this.addressLpTokens=t,this.topTokenObj=Object.fromEntries(r.tokens.map(o=>[o.name,o])),this.newtopTokenObj=Object.fromEntries(r.tokens.map(o=>[o.address,o])))},setLang(e){Ch.set("lang",e),this.lang=e},setTransactionList(e){console.log(this.newAddtransactionList,"====>newAddtransactionList"),this.newAddtransactionList.push(e),localStorage.setItem("newAddtransactionList",JSON.stringify(this.newAddtransactionList))},clearTransactionList(){const e=this.newAddtransactionList.filter(t=>t.chainName!==this.chainName);this.newAddtransactionList=e,localStorage.setItem("newAddtransactionList",e.length>0?JSON.stringify(e):"")},setIsSelect(e){console.log(e,"status===>"),this.isSelect=e}}});function Zg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ts={},a_={get exports(){return ts},set exports(e){ts=e}};const c_={},Yg=Object.freeze(Object.defineProperty({__proto__:null,default:c_},Symbol.toStringTag,{value:"Module"})),J0=Qa(Yg);(function(e){(function(t){var n=function(x){var R,P=new Float64Array(16);if(x)for(R=0;R<x.length;R++)P[R]=x[R];return P},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),c=n([56129,1]),u=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function b(x,R,P,g){x[R]=P>>24&255,x[R+1]=P>>16&255,x[R+2]=P>>8&255,x[R+3]=P&255,x[R+4]=g>>24&255,x[R+5]=g>>16&255,x[R+6]=g>>8&255,x[R+7]=g&255}function A(x,R,P,g,M){var te,ee=0;for(te=0;te<M;te++)ee|=x[R+te]^P[g+te];return(1&ee-1>>>8)-1}function I(x,R,P,g){return A(x,R,P,g,16)}function U(x,R,P,g){return A(x,R,P,g,32)}function B(x,R,P,g){for(var M=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,te=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,ee=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,le=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,_e=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Ae=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,be=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,gt=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Pe=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Ge=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Ke=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,Je=P[16]&255|(P[17]&255)<<8|(P[18]&255)<<16|(P[19]&255)<<24,st=P[20]&255|(P[21]&255)<<8|(P[22]&255)<<16|(P[23]&255)<<24,et=P[24]&255|(P[25]&255)<<8|(P[26]&255)<<16|(P[27]&255)<<24,nt=P[28]&255|(P[29]&255)<<8|(P[30]&255)<<16|(P[31]&255)<<24,tt=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,Me=M,ze=te,Oe=ee,$e=le,Ne=_e,Re=Ae,oe=be,ce=gt,ye=Pe,pe=Ge,ge=Ke,ve=Je,Xe=st,yt=et,bt=nt,mt=tt,K,Bt=0;Bt<20;Bt+=2)K=Me+Xe|0,Ne^=K<<7|K>>>32-7,K=Ne+Me|0,ye^=K<<9|K>>>32-9,K=ye+Ne|0,Xe^=K<<13|K>>>32-13,K=Xe+ye|0,Me^=K<<18|K>>>32-18,K=Re+ze|0,pe^=K<<7|K>>>32-7,K=pe+Re|0,yt^=K<<9|K>>>32-9,K=yt+pe|0,ze^=K<<13|K>>>32-13,K=ze+yt|0,Re^=K<<18|K>>>32-18,K=ge+oe|0,bt^=K<<7|K>>>32-7,K=bt+ge|0,Oe^=K<<9|K>>>32-9,K=Oe+bt|0,oe^=K<<13|K>>>32-13,K=oe+Oe|0,ge^=K<<18|K>>>32-18,K=mt+ve|0,$e^=K<<7|K>>>32-7,K=$e+mt|0,ce^=K<<9|K>>>32-9,K=ce+$e|0,ve^=K<<13|K>>>32-13,K=ve+ce|0,mt^=K<<18|K>>>32-18,K=Me+$e|0,ze^=K<<7|K>>>32-7,K=ze+Me|0,Oe^=K<<9|K>>>32-9,K=Oe+ze|0,$e^=K<<13|K>>>32-13,K=$e+Oe|0,Me^=K<<18|K>>>32-18,K=Re+Ne|0,oe^=K<<7|K>>>32-7,K=oe+Re|0,ce^=K<<9|K>>>32-9,K=ce+oe|0,Ne^=K<<13|K>>>32-13,K=Ne+ce|0,Re^=K<<18|K>>>32-18,K=ge+pe|0,ve^=K<<7|K>>>32-7,K=ve+ge|0,ye^=K<<9|K>>>32-9,K=ye+ve|0,pe^=K<<13|K>>>32-13,K=pe+ye|0,ge^=K<<18|K>>>32-18,K=mt+bt|0,Xe^=K<<7|K>>>32-7,K=Xe+mt|0,yt^=K<<9|K>>>32-9,K=yt+Xe|0,bt^=K<<13|K>>>32-13,K=bt+yt|0,mt^=K<<18|K>>>32-18;Me=Me+M|0,ze=ze+te|0,Oe=Oe+ee|0,$e=$e+le|0,Ne=Ne+_e|0,Re=Re+Ae|0,oe=oe+be|0,ce=ce+gt|0,ye=ye+Pe|0,pe=pe+Ge|0,ge=ge+Ke|0,ve=ve+Je|0,Xe=Xe+st|0,yt=yt+et|0,bt=bt+nt|0,mt=mt+tt|0,x[0]=Me>>>0&255,x[1]=Me>>>8&255,x[2]=Me>>>16&255,x[3]=Me>>>24&255,x[4]=ze>>>0&255,x[5]=ze>>>8&255,x[6]=ze>>>16&255,x[7]=ze>>>24&255,x[8]=Oe>>>0&255,x[9]=Oe>>>8&255,x[10]=Oe>>>16&255,x[11]=Oe>>>24&255,x[12]=$e>>>0&255,x[13]=$e>>>8&255,x[14]=$e>>>16&255,x[15]=$e>>>24&255,x[16]=Ne>>>0&255,x[17]=Ne>>>8&255,x[18]=Ne>>>16&255,x[19]=Ne>>>24&255,x[20]=Re>>>0&255,x[21]=Re>>>8&255,x[22]=Re>>>16&255,x[23]=Re>>>24&255,x[24]=oe>>>0&255,x[25]=oe>>>8&255,x[26]=oe>>>16&255,x[27]=oe>>>24&255,x[28]=ce>>>0&255,x[29]=ce>>>8&255,x[30]=ce>>>16&255,x[31]=ce>>>24&255,x[32]=ye>>>0&255,x[33]=ye>>>8&255,x[34]=ye>>>16&255,x[35]=ye>>>24&255,x[36]=pe>>>0&255,x[37]=pe>>>8&255,x[38]=pe>>>16&255,x[39]=pe>>>24&255,x[40]=ge>>>0&255,x[41]=ge>>>8&255,x[42]=ge>>>16&255,x[43]=ge>>>24&255,x[44]=ve>>>0&255,x[45]=ve>>>8&255,x[46]=ve>>>16&255,x[47]=ve>>>24&255,x[48]=Xe>>>0&255,x[49]=Xe>>>8&255,x[50]=Xe>>>16&255,x[51]=Xe>>>24&255,x[52]=yt>>>0&255,x[53]=yt>>>8&255,x[54]=yt>>>16&255,x[55]=yt>>>24&255,x[56]=bt>>>0&255,x[57]=bt>>>8&255,x[58]=bt>>>16&255,x[59]=bt>>>24&255,x[60]=mt>>>0&255,x[61]=mt>>>8&255,x[62]=mt>>>16&255,x[63]=mt>>>24&255}function v(x,R,P,g){for(var M=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,te=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,ee=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,le=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,_e=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Ae=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,be=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,gt=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,Pe=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Ge=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Ke=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,Je=P[16]&255|(P[17]&255)<<8|(P[18]&255)<<16|(P[19]&255)<<24,st=P[20]&255|(P[21]&255)<<8|(P[22]&255)<<16|(P[23]&255)<<24,et=P[24]&255|(P[25]&255)<<8|(P[26]&255)<<16|(P[27]&255)<<24,nt=P[28]&255|(P[29]&255)<<8|(P[30]&255)<<16|(P[31]&255)<<24,tt=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,Me=M,ze=te,Oe=ee,$e=le,Ne=_e,Re=Ae,oe=be,ce=gt,ye=Pe,pe=Ge,ge=Ke,ve=Je,Xe=st,yt=et,bt=nt,mt=tt,K,Bt=0;Bt<20;Bt+=2)K=Me+Xe|0,Ne^=K<<7|K>>>32-7,K=Ne+Me|0,ye^=K<<9|K>>>32-9,K=ye+Ne|0,Xe^=K<<13|K>>>32-13,K=Xe+ye|0,Me^=K<<18|K>>>32-18,K=Re+ze|0,pe^=K<<7|K>>>32-7,K=pe+Re|0,yt^=K<<9|K>>>32-9,K=yt+pe|0,ze^=K<<13|K>>>32-13,K=ze+yt|0,Re^=K<<18|K>>>32-18,K=ge+oe|0,bt^=K<<7|K>>>32-7,K=bt+ge|0,Oe^=K<<9|K>>>32-9,K=Oe+bt|0,oe^=K<<13|K>>>32-13,K=oe+Oe|0,ge^=K<<18|K>>>32-18,K=mt+ve|0,$e^=K<<7|K>>>32-7,K=$e+mt|0,ce^=K<<9|K>>>32-9,K=ce+$e|0,ve^=K<<13|K>>>32-13,K=ve+ce|0,mt^=K<<18|K>>>32-18,K=Me+$e|0,ze^=K<<7|K>>>32-7,K=ze+Me|0,Oe^=K<<9|K>>>32-9,K=Oe+ze|0,$e^=K<<13|K>>>32-13,K=$e+Oe|0,Me^=K<<18|K>>>32-18,K=Re+Ne|0,oe^=K<<7|K>>>32-7,K=oe+Re|0,ce^=K<<9|K>>>32-9,K=ce+oe|0,Ne^=K<<13|K>>>32-13,K=Ne+ce|0,Re^=K<<18|K>>>32-18,K=ge+pe|0,ve^=K<<7|K>>>32-7,K=ve+ge|0,ye^=K<<9|K>>>32-9,K=ye+ve|0,pe^=K<<13|K>>>32-13,K=pe+ye|0,ge^=K<<18|K>>>32-18,K=mt+bt|0,Xe^=K<<7|K>>>32-7,K=Xe+mt|0,yt^=K<<9|K>>>32-9,K=yt+Xe|0,bt^=K<<13|K>>>32-13,K=bt+yt|0,mt^=K<<18|K>>>32-18;x[0]=Me>>>0&255,x[1]=Me>>>8&255,x[2]=Me>>>16&255,x[3]=Me>>>24&255,x[4]=Re>>>0&255,x[5]=Re>>>8&255,x[6]=Re>>>16&255,x[7]=Re>>>24&255,x[8]=ge>>>0&255,x[9]=ge>>>8&255,x[10]=ge>>>16&255,x[11]=ge>>>24&255,x[12]=mt>>>0&255,x[13]=mt>>>8&255,x[14]=mt>>>16&255,x[15]=mt>>>24&255,x[16]=oe>>>0&255,x[17]=oe>>>8&255,x[18]=oe>>>16&255,x[19]=oe>>>24&255,x[20]=ce>>>0&255,x[21]=ce>>>8&255,x[22]=ce>>>16&255,x[23]=ce>>>24&255,x[24]=ye>>>0&255,x[25]=ye>>>8&255,x[26]=ye>>>16&255,x[27]=ye>>>24&255,x[28]=pe>>>0&255,x[29]=pe>>>8&255,x[30]=pe>>>16&255,x[31]=pe>>>24&255}function _(x,R,P,g){B(x,R,P,g)}function S(x,R,P,g){v(x,R,P,g)}var $=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(x,R,P,g,M,te,ee){var le=new Uint8Array(16),_e=new Uint8Array(64),Ae,be;for(be=0;be<16;be++)le[be]=0;for(be=0;be<8;be++)le[be]=te[be];for(;M>=64;){for(_(_e,le,ee,$),be=0;be<64;be++)x[R+be]=P[g+be]^_e[be];for(Ae=1,be=8;be<16;be++)Ae=Ae+(le[be]&255)|0,le[be]=Ae&255,Ae>>>=8;M-=64,R+=64,g+=64}if(M>0)for(_(_e,le,ee,$),be=0;be<M;be++)x[R+be]=P[g+be]^_e[be];return 0}function W(x,R,P,g,M){var te=new Uint8Array(16),ee=new Uint8Array(64),le,_e;for(_e=0;_e<16;_e++)te[_e]=0;for(_e=0;_e<8;_e++)te[_e]=g[_e];for(;P>=64;){for(_(ee,te,M,$),_e=0;_e<64;_e++)x[R+_e]=ee[_e];for(le=1,_e=8;_e<16;_e++)le=le+(te[_e]&255)|0,te[_e]=le&255,le>>>=8;P-=64,R+=64}if(P>0)for(_(ee,te,M,$),_e=0;_e<P;_e++)x[R+_e]=ee[_e];return 0}function Y(x,R,P,g,M){var te=new Uint8Array(32);S(te,g,M,$);for(var ee=new Uint8Array(8),le=0;le<8;le++)ee[le]=g[le+16];return W(x,R,P,ee,te)}function J(x,R,P,g,M,te,ee){var le=new Uint8Array(32);S(le,te,ee,$);for(var _e=new Uint8Array(8),Ae=0;Ae<8;Ae++)_e[Ae]=te[Ae+16];return F(x,R,P,g,M,_e,le)}var N=function(x){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var R,P,g,M,te,ee,le,_e;R=x[0]&255|(x[1]&255)<<8,this.r[0]=R&8191,P=x[2]&255|(x[3]&255)<<8,this.r[1]=(R>>>13|P<<3)&8191,g=x[4]&255|(x[5]&255)<<8,this.r[2]=(P>>>10|g<<6)&7939,M=x[6]&255|(x[7]&255)<<8,this.r[3]=(g>>>7|M<<9)&8191,te=x[8]&255|(x[9]&255)<<8,this.r[4]=(M>>>4|te<<12)&255,this.r[5]=te>>>1&8190,ee=x[10]&255|(x[11]&255)<<8,this.r[6]=(te>>>14|ee<<2)&8191,le=x[12]&255|(x[13]&255)<<8,this.r[7]=(ee>>>11|le<<5)&8065,_e=x[14]&255|(x[15]&255)<<8,this.r[8]=(le>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=x[16]&255|(x[17]&255)<<8,this.pad[1]=x[18]&255|(x[19]&255)<<8,this.pad[2]=x[20]&255|(x[21]&255)<<8,this.pad[3]=x[22]&255|(x[23]&255)<<8,this.pad[4]=x[24]&255|(x[25]&255)<<8,this.pad[5]=x[26]&255|(x[27]&255)<<8,this.pad[6]=x[28]&255|(x[29]&255)<<8,this.pad[7]=x[30]&255|(x[31]&255)<<8};N.prototype.blocks=function(x,R,P){for(var g=this.fin?0:2048,M,te,ee,le,_e,Ae,be,gt,Pe,Ge,Ke,Je,st,et,nt,tt,Me,ze,Oe,$e=this.h[0],Ne=this.h[1],Re=this.h[2],oe=this.h[3],ce=this.h[4],ye=this.h[5],pe=this.h[6],ge=this.h[7],ve=this.h[8],Xe=this.h[9],yt=this.r[0],bt=this.r[1],mt=this.r[2],K=this.r[3],Bt=this.r[4],jt=this.r[5],Gt=this.r[6],xt=this.r[7],Lt=this.r[8],Ht=this.r[9];P>=16;)M=x[R+0]&255|(x[R+1]&255)<<8,$e+=M&8191,te=x[R+2]&255|(x[R+3]&255)<<8,Ne+=(M>>>13|te<<3)&8191,ee=x[R+4]&255|(x[R+5]&255)<<8,Re+=(te>>>10|ee<<6)&8191,le=x[R+6]&255|(x[R+7]&255)<<8,oe+=(ee>>>7|le<<9)&8191,_e=x[R+8]&255|(x[R+9]&255)<<8,ce+=(le>>>4|_e<<12)&8191,ye+=_e>>>1&8191,Ae=x[R+10]&255|(x[R+11]&255)<<8,pe+=(_e>>>14|Ae<<2)&8191,be=x[R+12]&255|(x[R+13]&255)<<8,ge+=(Ae>>>11|be<<5)&8191,gt=x[R+14]&255|(x[R+15]&255)<<8,ve+=(be>>>8|gt<<8)&8191,Xe+=gt>>>5|g,Pe=0,Ge=Pe,Ge+=$e*yt,Ge+=Ne*(5*Ht),Ge+=Re*(5*Lt),Ge+=oe*(5*xt),Ge+=ce*(5*Gt),Pe=Ge>>>13,Ge&=8191,Ge+=ye*(5*jt),Ge+=pe*(5*Bt),Ge+=ge*(5*K),Ge+=ve*(5*mt),Ge+=Xe*(5*bt),Pe+=Ge>>>13,Ge&=8191,Ke=Pe,Ke+=$e*bt,Ke+=Ne*yt,Ke+=Re*(5*Ht),Ke+=oe*(5*Lt),Ke+=ce*(5*xt),Pe=Ke>>>13,Ke&=8191,Ke+=ye*(5*Gt),Ke+=pe*(5*jt),Ke+=ge*(5*Bt),Ke+=ve*(5*K),Ke+=Xe*(5*mt),Pe+=Ke>>>13,Ke&=8191,Je=Pe,Je+=$e*mt,Je+=Ne*bt,Je+=Re*yt,Je+=oe*(5*Ht),Je+=ce*(5*Lt),Pe=Je>>>13,Je&=8191,Je+=ye*(5*xt),Je+=pe*(5*Gt),Je+=ge*(5*jt),Je+=ve*(5*Bt),Je+=Xe*(5*K),Pe+=Je>>>13,Je&=8191,st=Pe,st+=$e*K,st+=Ne*mt,st+=Re*bt,st+=oe*yt,st+=ce*(5*Ht),Pe=st>>>13,st&=8191,st+=ye*(5*Lt),st+=pe*(5*xt),st+=ge*(5*Gt),st+=ve*(5*jt),st+=Xe*(5*Bt),Pe+=st>>>13,st&=8191,et=Pe,et+=$e*Bt,et+=Ne*K,et+=Re*mt,et+=oe*bt,et+=ce*yt,Pe=et>>>13,et&=8191,et+=ye*(5*Ht),et+=pe*(5*Lt),et+=ge*(5*xt),et+=ve*(5*Gt),et+=Xe*(5*jt),Pe+=et>>>13,et&=8191,nt=Pe,nt+=$e*jt,nt+=Ne*Bt,nt+=Re*K,nt+=oe*mt,nt+=ce*bt,Pe=nt>>>13,nt&=8191,nt+=ye*yt,nt+=pe*(5*Ht),nt+=ge*(5*Lt),nt+=ve*(5*xt),nt+=Xe*(5*Gt),Pe+=nt>>>13,nt&=8191,tt=Pe,tt+=$e*Gt,tt+=Ne*jt,tt+=Re*Bt,tt+=oe*K,tt+=ce*mt,Pe=tt>>>13,tt&=8191,tt+=ye*bt,tt+=pe*yt,tt+=ge*(5*Ht),tt+=ve*(5*Lt),tt+=Xe*(5*xt),Pe+=tt>>>13,tt&=8191,Me=Pe,Me+=$e*xt,Me+=Ne*Gt,Me+=Re*jt,Me+=oe*Bt,Me+=ce*K,Pe=Me>>>13,Me&=8191,Me+=ye*mt,Me+=pe*bt,Me+=ge*yt,Me+=ve*(5*Ht),Me+=Xe*(5*Lt),Pe+=Me>>>13,Me&=8191,ze=Pe,ze+=$e*Lt,ze+=Ne*xt,ze+=Re*Gt,ze+=oe*jt,ze+=ce*Bt,Pe=ze>>>13,ze&=8191,ze+=ye*K,ze+=pe*mt,ze+=ge*bt,ze+=ve*yt,ze+=Xe*(5*Ht),Pe+=ze>>>13,ze&=8191,Oe=Pe,Oe+=$e*Ht,Oe+=Ne*Lt,Oe+=Re*xt,Oe+=oe*Gt,Oe+=ce*jt,Pe=Oe>>>13,Oe&=8191,Oe+=ye*Bt,Oe+=pe*K,Oe+=ge*mt,Oe+=ve*bt,Oe+=Xe*yt,Pe+=Oe>>>13,Oe&=8191,Pe=(Pe<<2)+Pe|0,Pe=Pe+Ge|0,Ge=Pe&8191,Pe=Pe>>>13,Ke+=Pe,$e=Ge,Ne=Ke,Re=Je,oe=st,ce=et,ye=nt,pe=tt,ge=Me,ve=ze,Xe=Oe,R+=16,P-=16;this.h[0]=$e,this.h[1]=Ne,this.h[2]=Re,this.h[3]=oe,this.h[4]=ce,this.h[5]=ye,this.h[6]=pe,this.h[7]=ge,this.h[8]=ve,this.h[9]=Xe},N.prototype.finish=function(x,R){var P=new Uint16Array(10),g,M,te,ee;if(this.leftover){for(ee=this.leftover,this.buffer[ee++]=1;ee<16;ee++)this.buffer[ee]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(g=this.h[1]>>>13,this.h[1]&=8191,ee=2;ee<10;ee++)this.h[ee]+=g,g=this.h[ee]>>>13,this.h[ee]&=8191;for(this.h[0]+=g*5,g=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=g,g=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=g,P[0]=this.h[0]+5,g=P[0]>>>13,P[0]&=8191,ee=1;ee<10;ee++)P[ee]=this.h[ee]+g,g=P[ee]>>>13,P[ee]&=8191;for(P[9]-=1<<13,M=(g^1)-1,ee=0;ee<10;ee++)P[ee]&=M;for(M=~M,ee=0;ee<10;ee++)this.h[ee]=this.h[ee]&M|P[ee];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,te=this.h[0]+this.pad[0],this.h[0]=te&65535,ee=1;ee<8;ee++)te=(this.h[ee]+this.pad[ee]|0)+(te>>>16)|0,this.h[ee]=te&65535;x[R+0]=this.h[0]>>>0&255,x[R+1]=this.h[0]>>>8&255,x[R+2]=this.h[1]>>>0&255,x[R+3]=this.h[1]>>>8&255,x[R+4]=this.h[2]>>>0&255,x[R+5]=this.h[2]>>>8&255,x[R+6]=this.h[3]>>>0&255,x[R+7]=this.h[3]>>>8&255,x[R+8]=this.h[4]>>>0&255,x[R+9]=this.h[4]>>>8&255,x[R+10]=this.h[5]>>>0&255,x[R+11]=this.h[5]>>>8&255,x[R+12]=this.h[6]>>>0&255,x[R+13]=this.h[6]>>>8&255,x[R+14]=this.h[7]>>>0&255,x[R+15]=this.h[7]>>>8&255},N.prototype.update=function(x,R,P){var g,M;if(this.leftover){for(M=16-this.leftover,M>P&&(M=P),g=0;g<M;g++)this.buffer[this.leftover+g]=x[R+g];if(P-=M,R+=M,this.leftover+=M,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(P>=16&&(M=P-P%16,this.blocks(x,R,M),R+=M,P-=M),P){for(g=0;g<P;g++)this.buffer[this.leftover+g]=x[R+g];this.leftover+=P}};function H(x,R,P,g,M,te){var ee=new N(te);return ee.update(P,g,M),ee.finish(x,R),0}function E(x,R,P,g,M,te){var ee=new Uint8Array(16);return H(ee,0,P,g,M,te),I(x,R,ee,0)}function f(x,R,P,g,M){var te;if(P<32)return-1;for(J(x,0,R,0,P,g,M),H(x,16,x,32,P-32,x),te=0;te<16;te++)x[te]=0;return 0}function p(x,R,P,g,M){var te,ee=new Uint8Array(32);if(P<32||(Y(ee,0,32,g,M),E(R,16,R,32,P-32,ee)!==0))return-1;for(J(x,0,R,0,P,g,M),te=0;te<32;te++)x[te]=0;return 0}function w(x,R){var P;for(P=0;P<16;P++)x[P]=R[P]|0}function k(x){var R,P,g=1;for(R=0;R<16;R++)P=x[R]+g+65535,g=Math.floor(P/65536),x[R]=P-g*65536;x[0]+=g-1+37*(g-1)}function q(x,R,P){for(var g,M=~(P-1),te=0;te<16;te++)g=M&(x[te]^R[te]),x[te]^=g,R[te]^=g}function z(x,R){var P,g,M,te=n(),ee=n();for(P=0;P<16;P++)ee[P]=R[P];for(k(ee),k(ee),k(ee),g=0;g<2;g++){for(te[0]=ee[0]-65517,P=1;P<15;P++)te[P]=ee[P]-65535-(te[P-1]>>16&1),te[P-1]&=65535;te[15]=ee[15]-32767-(te[14]>>16&1),M=te[15]>>16&1,te[14]&=65535,q(ee,te,1-M)}for(P=0;P<16;P++)x[2*P]=ee[P]&255,x[2*P+1]=ee[P]>>8}function X(x,R){var P=new Uint8Array(32),g=new Uint8Array(32);return z(P,x),z(g,R),U(P,0,g,0)}function O(x){var R=new Uint8Array(32);return z(R,x),R[0]&1}function m(x,R){var P;for(P=0;P<16;P++)x[P]=R[2*P]+(R[2*P+1]<<8);x[15]&=32767}function L(x,R,P){for(var g=0;g<16;g++)x[g]=R[g]+P[g]}function we(x,R,P){for(var g=0;g<16;g++)x[g]=R[g]-P[g]}function T(x,R,P){var g,M,te=0,ee=0,le=0,_e=0,Ae=0,be=0,gt=0,Pe=0,Ge=0,Ke=0,Je=0,st=0,et=0,nt=0,tt=0,Me=0,ze=0,Oe=0,$e=0,Ne=0,Re=0,oe=0,ce=0,ye=0,pe=0,ge=0,ve=0,Xe=0,yt=0,bt=0,mt=0,K=P[0],Bt=P[1],jt=P[2],Gt=P[3],xt=P[4],Lt=P[5],Ht=P[6],xn=P[7],sn=P[8],mn=P[9],wn=P[10],_n=P[11],In=P[12],Xn=P[13],Zn=P[14],Yn=P[15];g=R[0],te+=g*K,ee+=g*Bt,le+=g*jt,_e+=g*Gt,Ae+=g*xt,be+=g*Lt,gt+=g*Ht,Pe+=g*xn,Ge+=g*sn,Ke+=g*mn,Je+=g*wn,st+=g*_n,et+=g*In,nt+=g*Xn,tt+=g*Zn,Me+=g*Yn,g=R[1],ee+=g*K,le+=g*Bt,_e+=g*jt,Ae+=g*Gt,be+=g*xt,gt+=g*Lt,Pe+=g*Ht,Ge+=g*xn,Ke+=g*sn,Je+=g*mn,st+=g*wn,et+=g*_n,nt+=g*In,tt+=g*Xn,Me+=g*Zn,ze+=g*Yn,g=R[2],le+=g*K,_e+=g*Bt,Ae+=g*jt,be+=g*Gt,gt+=g*xt,Pe+=g*Lt,Ge+=g*Ht,Ke+=g*xn,Je+=g*sn,st+=g*mn,et+=g*wn,nt+=g*_n,tt+=g*In,Me+=g*Xn,ze+=g*Zn,Oe+=g*Yn,g=R[3],_e+=g*K,Ae+=g*Bt,be+=g*jt,gt+=g*Gt,Pe+=g*xt,Ge+=g*Lt,Ke+=g*Ht,Je+=g*xn,st+=g*sn,et+=g*mn,nt+=g*wn,tt+=g*_n,Me+=g*In,ze+=g*Xn,Oe+=g*Zn,$e+=g*Yn,g=R[4],Ae+=g*K,be+=g*Bt,gt+=g*jt,Pe+=g*Gt,Ge+=g*xt,Ke+=g*Lt,Je+=g*Ht,st+=g*xn,et+=g*sn,nt+=g*mn,tt+=g*wn,Me+=g*_n,ze+=g*In,Oe+=g*Xn,$e+=g*Zn,Ne+=g*Yn,g=R[5],be+=g*K,gt+=g*Bt,Pe+=g*jt,Ge+=g*Gt,Ke+=g*xt,Je+=g*Lt,st+=g*Ht,et+=g*xn,nt+=g*sn,tt+=g*mn,Me+=g*wn,ze+=g*_n,Oe+=g*In,$e+=g*Xn,Ne+=g*Zn,Re+=g*Yn,g=R[6],gt+=g*K,Pe+=g*Bt,Ge+=g*jt,Ke+=g*Gt,Je+=g*xt,st+=g*Lt,et+=g*Ht,nt+=g*xn,tt+=g*sn,Me+=g*mn,ze+=g*wn,Oe+=g*_n,$e+=g*In,Ne+=g*Xn,Re+=g*Zn,oe+=g*Yn,g=R[7],Pe+=g*K,Ge+=g*Bt,Ke+=g*jt,Je+=g*Gt,st+=g*xt,et+=g*Lt,nt+=g*Ht,tt+=g*xn,Me+=g*sn,ze+=g*mn,Oe+=g*wn,$e+=g*_n,Ne+=g*In,Re+=g*Xn,oe+=g*Zn,ce+=g*Yn,g=R[8],Ge+=g*K,Ke+=g*Bt,Je+=g*jt,st+=g*Gt,et+=g*xt,nt+=g*Lt,tt+=g*Ht,Me+=g*xn,ze+=g*sn,Oe+=g*mn,$e+=g*wn,Ne+=g*_n,Re+=g*In,oe+=g*Xn,ce+=g*Zn,ye+=g*Yn,g=R[9],Ke+=g*K,Je+=g*Bt,st+=g*jt,et+=g*Gt,nt+=g*xt,tt+=g*Lt,Me+=g*Ht,ze+=g*xn,Oe+=g*sn,$e+=g*mn,Ne+=g*wn,Re+=g*_n,oe+=g*In,ce+=g*Xn,ye+=g*Zn,pe+=g*Yn,g=R[10],Je+=g*K,st+=g*Bt,et+=g*jt,nt+=g*Gt,tt+=g*xt,Me+=g*Lt,ze+=g*Ht,Oe+=g*xn,$e+=g*sn,Ne+=g*mn,Re+=g*wn,oe+=g*_n,ce+=g*In,ye+=g*Xn,pe+=g*Zn,ge+=g*Yn,g=R[11],st+=g*K,et+=g*Bt,nt+=g*jt,tt+=g*Gt,Me+=g*xt,ze+=g*Lt,Oe+=g*Ht,$e+=g*xn,Ne+=g*sn,Re+=g*mn,oe+=g*wn,ce+=g*_n,ye+=g*In,pe+=g*Xn,ge+=g*Zn,ve+=g*Yn,g=R[12],et+=g*K,nt+=g*Bt,tt+=g*jt,Me+=g*Gt,ze+=g*xt,Oe+=g*Lt,$e+=g*Ht,Ne+=g*xn,Re+=g*sn,oe+=g*mn,ce+=g*wn,ye+=g*_n,pe+=g*In,ge+=g*Xn,ve+=g*Zn,Xe+=g*Yn,g=R[13],nt+=g*K,tt+=g*Bt,Me+=g*jt,ze+=g*Gt,Oe+=g*xt,$e+=g*Lt,Ne+=g*Ht,Re+=g*xn,oe+=g*sn,ce+=g*mn,ye+=g*wn,pe+=g*_n,ge+=g*In,ve+=g*Xn,Xe+=g*Zn,yt+=g*Yn,g=R[14],tt+=g*K,Me+=g*Bt,ze+=g*jt,Oe+=g*Gt,$e+=g*xt,Ne+=g*Lt,Re+=g*Ht,oe+=g*xn,ce+=g*sn,ye+=g*mn,pe+=g*wn,ge+=g*_n,ve+=g*In,Xe+=g*Xn,yt+=g*Zn,bt+=g*Yn,g=R[15],Me+=g*K,ze+=g*Bt,Oe+=g*jt,$e+=g*Gt,Ne+=g*xt,Re+=g*Lt,oe+=g*Ht,ce+=g*xn,ye+=g*sn,pe+=g*mn,ge+=g*wn,ve+=g*_n,Xe+=g*In,yt+=g*Xn,bt+=g*Zn,mt+=g*Yn,te+=38*ze,ee+=38*Oe,le+=38*$e,_e+=38*Ne,Ae+=38*Re,be+=38*oe,gt+=38*ce,Pe+=38*ye,Ge+=38*pe,Ke+=38*ge,Je+=38*ve,st+=38*Xe,et+=38*yt,nt+=38*bt,tt+=38*mt,M=1,g=te+M+65535,M=Math.floor(g/65536),te=g-M*65536,g=ee+M+65535,M=Math.floor(g/65536),ee=g-M*65536,g=le+M+65535,M=Math.floor(g/65536),le=g-M*65536,g=_e+M+65535,M=Math.floor(g/65536),_e=g-M*65536,g=Ae+M+65535,M=Math.floor(g/65536),Ae=g-M*65536,g=be+M+65535,M=Math.floor(g/65536),be=g-M*65536,g=gt+M+65535,M=Math.floor(g/65536),gt=g-M*65536,g=Pe+M+65535,M=Math.floor(g/65536),Pe=g-M*65536,g=Ge+M+65535,M=Math.floor(g/65536),Ge=g-M*65536,g=Ke+M+65535,M=Math.floor(g/65536),Ke=g-M*65536,g=Je+M+65535,M=Math.floor(g/65536),Je=g-M*65536,g=st+M+65535,M=Math.floor(g/65536),st=g-M*65536,g=et+M+65535,M=Math.floor(g/65536),et=g-M*65536,g=nt+M+65535,M=Math.floor(g/65536),nt=g-M*65536,g=tt+M+65535,M=Math.floor(g/65536),tt=g-M*65536,g=Me+M+65535,M=Math.floor(g/65536),Me=g-M*65536,te+=M-1+37*(M-1),M=1,g=te+M+65535,M=Math.floor(g/65536),te=g-M*65536,g=ee+M+65535,M=Math.floor(g/65536),ee=g-M*65536,g=le+M+65535,M=Math.floor(g/65536),le=g-M*65536,g=_e+M+65535,M=Math.floor(g/65536),_e=g-M*65536,g=Ae+M+65535,M=Math.floor(g/65536),Ae=g-M*65536,g=be+M+65535,M=Math.floor(g/65536),be=g-M*65536,g=gt+M+65535,M=Math.floor(g/65536),gt=g-M*65536,g=Pe+M+65535,M=Math.floor(g/65536),Pe=g-M*65536,g=Ge+M+65535,M=Math.floor(g/65536),Ge=g-M*65536,g=Ke+M+65535,M=Math.floor(g/65536),Ke=g-M*65536,g=Je+M+65535,M=Math.floor(g/65536),Je=g-M*65536,g=st+M+65535,M=Math.floor(g/65536),st=g-M*65536,g=et+M+65535,M=Math.floor(g/65536),et=g-M*65536,g=nt+M+65535,M=Math.floor(g/65536),nt=g-M*65536,g=tt+M+65535,M=Math.floor(g/65536),tt=g-M*65536,g=Me+M+65535,M=Math.floor(g/65536),Me=g-M*65536,te+=M-1+37*(M-1),x[0]=te,x[1]=ee,x[2]=le,x[3]=_e,x[4]=Ae,x[5]=be,x[6]=gt,x[7]=Pe,x[8]=Ge,x[9]=Ke,x[10]=Je,x[11]=st,x[12]=et,x[13]=nt,x[14]=tt,x[15]=Me}function ne(x,R){T(x,R,R)}function fe(x,R){var P=n(),g;for(g=0;g<16;g++)P[g]=R[g];for(g=253;g>=0;g--)ne(P,P),g!==2&&g!==4&&T(P,P,R);for(g=0;g<16;g++)x[g]=P[g]}function G(x,R){var P=n(),g;for(g=0;g<16;g++)P[g]=R[g];for(g=250;g>=0;g--)ne(P,P),g!==1&&T(P,P,R);for(g=0;g<16;g++)x[g]=P[g]}function D(x,R,P){var g=new Uint8Array(32),M=new Float64Array(80),te,ee,le=n(),_e=n(),Ae=n(),be=n(),gt=n(),Pe=n();for(ee=0;ee<31;ee++)g[ee]=R[ee];for(g[31]=R[31]&127|64,g[0]&=248,m(M,P),ee=0;ee<16;ee++)_e[ee]=M[ee],be[ee]=le[ee]=Ae[ee]=0;for(le[0]=be[0]=1,ee=254;ee>=0;--ee)te=g[ee>>>3]>>>(ee&7)&1,q(le,_e,te),q(Ae,be,te),L(gt,le,Ae),we(le,le,Ae),L(Ae,_e,be),we(_e,_e,be),ne(be,gt),ne(Pe,le),T(le,Ae,le),T(Ae,_e,gt),L(gt,le,Ae),we(le,le,Ae),ne(_e,le),we(Ae,be,Pe),T(le,Ae,c),L(le,le,be),T(Ae,Ae,le),T(le,be,Pe),T(be,_e,M),ne(_e,gt),q(le,_e,te),q(Ae,be,te);for(ee=0;ee<16;ee++)M[ee+16]=le[ee],M[ee+32]=Ae[ee],M[ee+48]=_e[ee],M[ee+64]=be[ee];var Ge=M.subarray(32),Ke=M.subarray(16);return fe(Ge,Ge),T(Ke,Ke,Ge),z(x,Ke),0}function V(x,R){return D(x,R,s)}function Z(x,R){return r(R,32),V(x,R)}function Q(x,R,P){var g=new Uint8Array(32);return D(g,P,R),S(x,i,g,$)}var se=f,ie=p;function ae(x,R,P,g,M,te){var ee=new Uint8Array(32);return Q(ee,M,te),se(x,R,P,g,ee)}function Ce(x,R,P,g,M,te){var ee=new Uint8Array(32);return Q(ee,M,te),ie(x,R,P,g,ee)}var Ie=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xe(x,R,P,g){for(var M=new Int32Array(16),te=new Int32Array(16),ee,le,_e,Ae,be,gt,Pe,Ge,Ke,Je,st,et,nt,tt,Me,ze,Oe,$e,Ne,Re,oe,ce,ye,pe,ge,ve,Xe=x[0],yt=x[1],bt=x[2],mt=x[3],K=x[4],Bt=x[5],jt=x[6],Gt=x[7],xt=R[0],Lt=R[1],Ht=R[2],xn=R[3],sn=R[4],mn=R[5],wn=R[6],_n=R[7],In=0;g>=128;){for(Ne=0;Ne<16;Ne++)Re=8*Ne+In,M[Ne]=P[Re+0]<<24|P[Re+1]<<16|P[Re+2]<<8|P[Re+3],te[Ne]=P[Re+4]<<24|P[Re+5]<<16|P[Re+6]<<8|P[Re+7];for(Ne=0;Ne<80;Ne++)if(ee=Xe,le=yt,_e=bt,Ae=mt,be=K,gt=Bt,Pe=jt,Ge=Gt,Ke=xt,Je=Lt,st=Ht,et=xn,nt=sn,tt=mn,Me=wn,ze=_n,oe=Gt,ce=_n,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=(K>>>14|sn<<32-14)^(K>>>18|sn<<32-18)^(sn>>>41-32|K<<32-(41-32)),ce=(sn>>>14|K<<32-14)^(sn>>>18|K<<32-18)^(K>>>41-32|sn<<32-(41-32)),ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,oe=K&Bt^~K&jt,ce=sn&mn^~sn&wn,ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,oe=Ie[Ne*2],ce=Ie[Ne*2+1],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,oe=M[Ne%16],ce=te[Ne%16],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,Oe=ge&65535|ve<<16,$e=ye&65535|pe<<16,oe=Oe,ce=$e,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=(Xe>>>28|xt<<32-28)^(xt>>>34-32|Xe<<32-(34-32))^(xt>>>39-32|Xe<<32-(39-32)),ce=(xt>>>28|Xe<<32-28)^(Xe>>>34-32|xt<<32-(34-32))^(Xe>>>39-32|xt<<32-(39-32)),ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,oe=Xe&yt^Xe&bt^yt&bt,ce=xt&Lt^xt&Ht^Lt&Ht,ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,Ge=ge&65535|ve<<16,ze=ye&65535|pe<<16,oe=Ae,ce=et,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=Oe,ce=$e,ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,Ae=ge&65535|ve<<16,et=ye&65535|pe<<16,yt=ee,bt=le,mt=_e,K=Ae,Bt=be,jt=gt,Gt=Pe,Xe=Ge,Lt=Ke,Ht=Je,xn=st,sn=et,mn=nt,wn=tt,_n=Me,xt=ze,Ne%16===15)for(Re=0;Re<16;Re++)oe=M[Re],ce=te[Re],ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=M[(Re+9)%16],ce=te[(Re+9)%16],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,Oe=M[(Re+1)%16],$e=te[(Re+1)%16],oe=(Oe>>>1|$e<<32-1)^(Oe>>>8|$e<<32-8)^Oe>>>7,ce=($e>>>1|Oe<<32-1)^($e>>>8|Oe<<32-8)^($e>>>7|Oe<<32-7),ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,Oe=M[(Re+14)%16],$e=te[(Re+14)%16],oe=(Oe>>>19|$e<<32-19)^($e>>>61-32|Oe<<32-(61-32))^Oe>>>6,ce=($e>>>19|Oe<<32-19)^(Oe>>>61-32|$e<<32-(61-32))^($e>>>6|Oe<<32-6),ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,M[Re]=ge&65535|ve<<16,te[Re]=ye&65535|pe<<16;oe=Xe,ce=xt,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[0],ce=R[0],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[0]=Xe=ge&65535|ve<<16,R[0]=xt=ye&65535|pe<<16,oe=yt,ce=Lt,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[1],ce=R[1],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[1]=yt=ge&65535|ve<<16,R[1]=Lt=ye&65535|pe<<16,oe=bt,ce=Ht,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[2],ce=R[2],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[2]=bt=ge&65535|ve<<16,R[2]=Ht=ye&65535|pe<<16,oe=mt,ce=xn,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[3],ce=R[3],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[3]=mt=ge&65535|ve<<16,R[3]=xn=ye&65535|pe<<16,oe=K,ce=sn,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[4],ce=R[4],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[4]=K=ge&65535|ve<<16,R[4]=sn=ye&65535|pe<<16,oe=Bt,ce=mn,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[5],ce=R[5],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[5]=Bt=ge&65535|ve<<16,R[5]=mn=ye&65535|pe<<16,oe=jt,ce=wn,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[6],ce=R[6],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[6]=jt=ge&65535|ve<<16,R[6]=wn=ye&65535|pe<<16,oe=Gt,ce=_n,ye=ce&65535,pe=ce>>>16,ge=oe&65535,ve=oe>>>16,oe=x[7],ce=R[7],ye+=ce&65535,pe+=ce>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[7]=Gt=ge&65535|ve<<16,R[7]=_n=ye&65535|pe<<16,In+=128,g-=128}return g}function De(x,R,P){var g=new Int32Array(8),M=new Int32Array(8),te=new Uint8Array(256),ee,le=P;for(g[0]=1779033703,g[1]=3144134277,g[2]=1013904242,g[3]=2773480762,g[4]=1359893119,g[5]=2600822924,g[6]=528734635,g[7]=1541459225,M[0]=4089235720,M[1]=2227873595,M[2]=4271175723,M[3]=1595750129,M[4]=2917565137,M[5]=725511199,M[6]=4215389547,M[7]=327033209,xe(g,M,R,P),P%=128,ee=0;ee<P;ee++)te[ee]=R[le-P+ee];for(te[P]=128,P=256-128*(P<112?1:0),te[P-9]=0,b(te,P-8,le/536870912|0,le<<3),xe(g,M,te,P),ee=0;ee<8;ee++)b(x,8*ee,g[ee],M[ee]);return 0}function Ee(x,R){var P=n(),g=n(),M=n(),te=n(),ee=n(),le=n(),_e=n(),Ae=n(),be=n();we(P,x[1],x[0]),we(be,R[1],R[0]),T(P,P,be),L(g,x[0],x[1]),L(be,R[0],R[1]),T(g,g,be),T(M,x[3],R[3]),T(M,M,l),T(te,x[2],R[2]),L(te,te,te),we(ee,g,P),we(le,te,M),L(_e,te,M),L(Ae,g,P),T(x[0],ee,le),T(x[1],Ae,_e),T(x[2],_e,le),T(x[3],ee,Ae)}function Ue(x,R,P){var g;for(g=0;g<4;g++)q(x[g],R[g],P)}function Fe(x,R){var P=n(),g=n(),M=n();fe(M,R[2]),T(P,R[0],M),T(g,R[1],M),z(x,g),x[31]^=O(P)<<7}function ke(x,R,P){var g,M;for(w(x[0],o),w(x[1],a),w(x[2],a),w(x[3],o),M=255;M>=0;--M)g=P[M/8|0]>>(M&7)&1,Ue(x,R,g),Ee(R,x),Ee(x,x),Ue(x,R,g)}function Te(x,R){var P=[n(),n(),n(),n()];w(P[0],d),w(P[1],h),w(P[2],a),T(P[3],d,h),ke(x,P,R)}function at(x,R,P){var g=new Uint8Array(64),M=[n(),n(),n(),n()],te;for(P||r(R,32),De(g,R,32),g[0]&=248,g[31]&=127,g[31]|=64,Te(M,g),Fe(x,M),te=0;te<32;te++)R[te+32]=x[te];return 0}var He=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function je(x,R){var P,g,M,te;for(g=63;g>=32;--g){for(P=0,M=g-32,te=g-12;M<te;++M)R[M]+=P-16*R[g]*He[M-(g-32)],P=Math.floor((R[M]+128)/256),R[M]-=P*256;R[M]+=P,R[g]=0}for(P=0,M=0;M<32;M++)R[M]+=P-(R[31]>>4)*He[M],P=R[M]>>8,R[M]&=255;for(M=0;M<32;M++)R[M]-=P*He[M];for(g=0;g<32;g++)R[g+1]+=R[g]>>8,x[g]=R[g]&255}function Vt(x){var R=new Float64Array(64),P;for(P=0;P<64;P++)R[P]=x[P];for(P=0;P<64;P++)x[P]=0;je(x,R)}function Ye(x,R,P,g){var M=new Uint8Array(64),te=new Uint8Array(64),ee=new Uint8Array(64),le,_e,Ae=new Float64Array(64),be=[n(),n(),n(),n()];De(M,g,32),M[0]&=248,M[31]&=127,M[31]|=64;var gt=P+64;for(le=0;le<P;le++)x[64+le]=R[le];for(le=0;le<32;le++)x[32+le]=M[32+le];for(De(ee,x.subarray(32),P+32),Vt(ee),Te(be,ee),Fe(x,be),le=32;le<64;le++)x[le]=g[le];for(De(te,x,P+64),Vt(te),le=0;le<64;le++)Ae[le]=0;for(le=0;le<32;le++)Ae[le]=ee[le];for(le=0;le<32;le++)for(_e=0;_e<32;_e++)Ae[le+_e]+=te[le]*M[_e];return je(x.subarray(32),Ae),gt}function Rt(x,R){var P=n(),g=n(),M=n(),te=n(),ee=n(),le=n(),_e=n();return w(x[2],a),m(x[1],R),ne(M,x[1]),T(te,M,u),we(M,M,x[2]),L(te,x[2],te),ne(ee,te),ne(le,ee),T(_e,le,ee),T(P,_e,M),T(P,P,te),G(P,P),T(P,P,M),T(P,P,te),T(P,P,te),T(x[0],P,te),ne(g,x[0]),T(g,g,te),X(g,M)&&T(x[0],x[0],y),ne(g,x[0]),T(g,g,te),X(g,M)?-1:(O(x[0])===R[31]>>7&&we(x[0],o,x[0]),T(x[3],x[0],x[1]),0)}function qn(x,R,P,g){var M,te=new Uint8Array(32),ee=new Uint8Array(64),le=[n(),n(),n(),n()],_e=[n(),n(),n(),n()];if(P<64||Rt(_e,g))return-1;for(M=0;M<P;M++)x[M]=R[M];for(M=0;M<32;M++)x[M+32]=g[M];if(De(ee,x,P),Vt(ee),ke(le,_e,ee),Te(_e,R.subarray(32)),Ee(le,_e),Fe(te,le),P-=64,U(R,0,te,0)){for(M=0;M<P;M++)x[M]=0;return-1}for(M=0;M<P;M++)x[M]=R[M+64];return P}var Dt=32,zt=24,Kn=32,$t=16,Pt=32,kr=32,Kt=32,Xt=32,Wr=32,an=zt,cn=Kn,pi=$t,Nt=64,Ft=32,lr=64,nn=32,rn=64;t.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:J,crypto_stream:Y,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:W,crypto_onetimeauth:H,crypto_onetimeauth_verify:E,crypto_verify_16:I,crypto_verify_32:U,crypto_secretbox:f,crypto_secretbox_open:p,crypto_scalarmult:D,crypto_scalarmult_base:V,crypto_box_beforenm:Q,crypto_box_afternm:se,crypto_box:ae,crypto_box_open:Ce,crypto_box_keypair:Z,crypto_hash:De,crypto_sign:Ye,crypto_sign_keypair:at,crypto_sign_open:qn,crypto_secretbox_KEYBYTES:Dt,crypto_secretbox_NONCEBYTES:zt,crypto_secretbox_ZEROBYTES:Kn,crypto_secretbox_BOXZEROBYTES:$t,crypto_scalarmult_BYTES:Pt,crypto_scalarmult_SCALARBYTES:kr,crypto_box_PUBLICKEYBYTES:Kt,crypto_box_SECRETKEYBYTES:Xt,crypto_box_BEFORENMBYTES:Wr,crypto_box_NONCEBYTES:an,crypto_box_ZEROBYTES:cn,crypto_box_BOXZEROBYTES:pi,crypto_sign_BYTES:Nt,crypto_sign_PUBLICKEYBYTES:Ft,crypto_sign_SECRETKEYBYTES:lr,crypto_sign_SEEDBYTES:nn,crypto_hash_BYTES:rn,gf:n,D:u,L:He,pack25519:z,unpack25519:m,M:T,A:L,S:ne,Z:we,pow2523:G,add:Ee,set25519:w,modL:je,scalarmult:ke,scalarbase:Te};function ri(x,R){if(x.length!==Dt)throw new Error("bad key size");if(R.length!==zt)throw new Error("bad nonce size")}function un(x,R){if(x.length!==Kt)throw new Error("bad public key size");if(R.length!==Xt)throw new Error("bad secret key size")}function It(){for(var x=0;x<arguments.length;x++)if(!(arguments[x]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ii(x){for(var R=0;R<x.length;R++)x[R]=0}t.randomBytes=function(x){var R=new Uint8Array(x);return r(R,x),R},t.secretbox=function(x,R,P){It(x,R,P),ri(P,R);for(var g=new Uint8Array(Kn+x.length),M=new Uint8Array(g.length),te=0;te<x.length;te++)g[te+Kn]=x[te];return f(M,g,g.length,R,P),M.subarray($t)},t.secretbox.open=function(x,R,P){It(x,R,P),ri(P,R);for(var g=new Uint8Array($t+x.length),M=new Uint8Array(g.length),te=0;te<x.length;te++)g[te+$t]=x[te];return g.length<32||p(M,g,g.length,R,P)!==0?null:M.subarray(Kn)},t.secretbox.keyLength=Dt,t.secretbox.nonceLength=zt,t.secretbox.overheadLength=$t,t.scalarMult=function(x,R){if(It(x,R),x.length!==kr)throw new Error("bad n size");if(R.length!==Pt)throw new Error("bad p size");var P=new Uint8Array(Pt);return D(P,x,R),P},t.scalarMult.base=function(x){if(It(x),x.length!==kr)throw new Error("bad n size");var R=new Uint8Array(Pt);return V(R,x),R},t.scalarMult.scalarLength=kr,t.scalarMult.groupElementLength=Pt,t.box=function(x,R,P,g){var M=t.box.before(P,g);return t.secretbox(x,R,M)},t.box.before=function(x,R){It(x,R),un(x,R);var P=new Uint8Array(Wr);return Q(P,x,R),P},t.box.after=t.secretbox,t.box.open=function(x,R,P,g){var M=t.box.before(P,g);return t.secretbox.open(x,R,M)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var x=new Uint8Array(Kt),R=new Uint8Array(Xt);return Z(x,R),{publicKey:x,secretKey:R}},t.box.keyPair.fromSecretKey=function(x){if(It(x),x.length!==Xt)throw new Error("bad secret key size");var R=new Uint8Array(Kt);return V(R,x),{publicKey:R,secretKey:new Uint8Array(x)}},t.box.publicKeyLength=Kt,t.box.secretKeyLength=Xt,t.box.sharedKeyLength=Wr,t.box.nonceLength=an,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(x,R){if(It(x,R),R.length!==lr)throw new Error("bad secret key size");var P=new Uint8Array(Nt+x.length);return Ye(P,x,x.length,R),P},t.sign.open=function(x,R){if(It(x,R),R.length!==Ft)throw new Error("bad public key size");var P=new Uint8Array(x.length),g=qn(P,x,x.length,R);if(g<0)return null;for(var M=new Uint8Array(g),te=0;te<M.length;te++)M[te]=P[te];return M},t.sign.detached=function(x,R){for(var P=t.sign(x,R),g=new Uint8Array(Nt),M=0;M<g.length;M++)g[M]=P[M];return g},t.sign.detached.verify=function(x,R,P){if(It(x,R,P),R.length!==Nt)throw new Error("bad signature size");if(P.length!==Ft)throw new Error("bad public key size");var g=new Uint8Array(Nt+x.length),M=new Uint8Array(Nt+x.length),te;for(te=0;te<Nt;te++)g[te]=R[te];for(te=0;te<x.length;te++)g[te+Nt]=x[te];return qn(M,g,g.length,P)>=0},t.sign.keyPair=function(){var x=new Uint8Array(Ft),R=new Uint8Array(lr);return at(x,R),{publicKey:x,secretKey:R}},t.sign.keyPair.fromSecretKey=function(x){if(It(x),x.length!==lr)throw new Error("bad secret key size");for(var R=new Uint8Array(Ft),P=0;P<R.length;P++)R[P]=x[32+P];return{publicKey:R,secretKey:new Uint8Array(x)}},t.sign.keyPair.fromSeed=function(x){if(It(x),x.length!==nn)throw new Error("bad seed size");for(var R=new Uint8Array(Ft),P=new Uint8Array(lr),g=0;g<32;g++)P[g]=x[g];return at(R,P,!0),{publicKey:R,secretKey:P}},t.sign.publicKeyLength=Ft,t.sign.secretKeyLength=lr,t.sign.seedLength=nn,t.sign.signatureLength=Nt,t.hash=function(x){It(x);var R=new Uint8Array(rn);return De(R,x,x.length),R},t.hash.hashLength=rn,t.verify=function(x,R){return It(x,R),x.length===0||R.length===0||x.length!==R.length?!1:A(x,0,R,0,x.length)===0},t.setPRNG=function(x){r=x},function(){var x=typeof self<"u"?self.crypto||self.msCrypto:null;if(x&&x.getRandomValues){var R=65536;t.setPRNG(function(P,g){var M,te=new Uint8Array(g);for(M=0;M<g;M+=R)x.getRandomValues(te.subarray(M,M+Math.min(g-M,R)));for(M=0;M<g;M++)P[M]=te[M];ii(te)})}else typeof Zg<"u"&&(x=J0,x&&x.randomBytes&&t.setPRNG(function(P,g){var M,te=x.randomBytes(g);for(M=0;M<g;M++)P[M]=te[M];ii(te)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(a_);var _r={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.output=Mn.exists=Mn.hash=Mn.bytes=Mn.bool=Mn.number=void 0;function bu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Mn.number=bu;function Jg(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Mn.bool=Jg;function Q0(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Mn.bytes=Q0;function Qg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bu(e.outputLen),bu(e.blockLen)}Mn.hash=Qg;function ey(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Mn.exists=ey;function ty(e,t){Q0(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Mn.output=ty;const u_={number:bu,bool:Jg,bytes:Q0,hash:Qg,exists:ey,output:ty};Mn.default=u_;var Ro={},ny={},Ms={},rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.crypto=void 0;rl.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=rl,n=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);e.u8=n;const r=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));e.u32=r;const i=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);e.createView=i;const s=(_,S)=>_<<32-S|_>>>S;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(_,S)=>S.toString(16).padStart(2,"0"));function a(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let S="";for(let $=0;$<_.length;$++)S+=o[_[$]];return S}e.bytesToHex=a;function c(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const S=new Uint8Array(_.length/2);for(let $=0;$<S.length;$++){const F=$*2,W=_.slice(F,F+2),Y=Number.parseInt(W,16);if(Number.isNaN(Y)||Y<0)throw new Error("Invalid byte sequence");S[$]=Y}return S}e.hexToBytes=c;const u=async()=>{};e.nextTick=u;async function l(_,S,$){let F=Date.now();for(let W=0;W<_;W++){$(W);const Y=Date.now()-F;Y>=0&&Y<S||(await(0,e.nextTick)(),F+=Y)}}e.asyncLoop=l;function d(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}e.utf8ToBytes=d;function h(_){if(typeof _=="string"&&(_=d(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}e.toBytes=h;function y(..._){if(!_.every(F=>F instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const S=_.reduce((F,W)=>F+W.length,0),$=new Uint8Array(S);for(let F=0,W=0;F<_.length;F++){const Y=_[F];$.set(Y,W),W+=Y.length}return $}e.concatBytes=y;class b{clone(){return this._cloneInto()}}e.Hash=b;const A=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function I(_,S){if(S!==void 0&&(typeof S!="object"||!A(S)))throw new TypeError("Options should be object or undefined");return Object.assign(_,S)}e.checkOpts=I;function U(_){const S=F=>_().update(h(F)).digest(),$=_();return S.outputLen=$.outputLen,S.blockLen=$.blockLen,S.create=()=>_(),S}e.wrapConstructor=U;function B(_){const S=(F,W)=>_(W).update(h(F)).digest(),$=_({});return S.outputLen=$.outputLen,S.blockLen=$.blockLen,S.create=F=>_(F),S}e.wrapConstructorWithOpts=B;function v(_=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(_));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(_).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=v})(Ms);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const t=Mn,n=Ms;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,t.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return t.default.exists(this),this.iHash.update(o),this}digestInto(o){t.default.exists(this),t.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:h}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=h,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();e.hmac=i,e.hmac.create=(s,o)=>new r(s,o)})(ny);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.pbkdf2Async=Ro.pbkdf2=void 0;const Bc=Mn,l_=ny,_o=Ms;function ry(e,t,n,r){Bc.default.hash(e);const i=(0,_o.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Bc.default.number(s),Bc.default.number(o),Bc.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,_o.toBytes)(t),u=(0,_o.toBytes)(n),l=new Uint8Array(o),d=l_.hmac.create(e,c),h=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function iy(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function d_(e,t,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=ry(e,t,n,r);let u;const l=new Uint8Array(4),d=(0,_o.createView)(l),h=new Uint8Array(a.outputLen);for(let y=1,b=0;b<s;y++,b+=a.outputLen){const A=o.subarray(b,b+a.outputLen);d.setInt32(0,y,!1),(u=c._cloneInto(u)).update(l).digestInto(h),A.set(h.subarray(0,A.length));for(let I=1;I<i;I++){a._cloneInto(u).update(h).digestInto(h);for(let U=0;U<A.length;U++)A[U]^=h[U]}}return iy(a,c,o,u,h)}Ro.pbkdf2=d_;async function f_(e,t,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=ry(e,t,n,r);let l;const d=new Uint8Array(4),h=(0,_o.createView)(d),y=new Uint8Array(c.outputLen);for(let b=1,A=0;A<s;b++,A+=c.outputLen){const I=a.subarray(A,A+c.outputLen);h.setInt32(0,b,!1),(l=u._cloneInto(l)).update(d).digestInto(y),I.set(y.subarray(0,I.length)),await(0,_o.asyncLoop)(i-1,o,U=>{c._cloneInto(l).update(y).digestInto(y);for(let B=0;B<I.length;B++)I[B]^=y[B]})}return iy(c,u,a,l,y)}Ro.pbkdf2Async=f_;var Po={},ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.SHA2=void 0;const _d=Mn,ba=Ms;function h_(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}let p_=class extends ba.Hash{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,ba.createView)(this.buffer)}update(t){_d.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=(0,ba.toBytes)(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,ba.createView)(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){_d.default.exists(this),_d.default.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;h_(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=(0,ba.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};ec.SHA2=p_;Object.defineProperty(Po,"__esModule",{value:!0});Po.sha224=Po.sha256=void 0;const g_=ec,Ur=Ms,y_=(e,t,n)=>e&t^~e&n,m_=(e,t,n)=>e&t^e&n^t&n,w_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ei=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ii=new Uint32Array(64);let sy=class extends g_.SHA2{constructor(){super(64,32,8,!1),this.A=Ei[0]|0,this.B=Ei[1]|0,this.C=Ei[2]|0,this.D=Ei[3]|0,this.E=Ei[4]|0,this.F=Ei[5]|0,this.G=Ei[6]|0,this.H=Ei[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ii[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Ii[d-15],y=Ii[d-2],b=(0,Ur.rotr)(h,7)^(0,Ur.rotr)(h,18)^h>>>3,A=(0,Ur.rotr)(y,17)^(0,Ur.rotr)(y,19)^y>>>10;Ii[d]=A+Ii[d-7]+b+Ii[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=(0,Ur.rotr)(a,6)^(0,Ur.rotr)(a,11)^(0,Ur.rotr)(a,25),y=l+h+y_(a,c,u)+w_[d]+Ii[d]|0,A=((0,Ur.rotr)(r,2)^(0,Ur.rotr)(r,13)^(0,Ur.rotr)(r,22))+m_(r,i,s)|0;l=u,u=c,c=a,a=o+y|0,o=s,s=i,i=r,r=y+A|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){Ii.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},__=class extends sy{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Po.sha256=(0,Ur.wrapConstructor)(()=>new sy);Po.sha224=(0,Ur.wrapConstructor)(()=>new __);var Hr={},oy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const t=BigInt(2**32-1),n=BigInt(32);function r(J,N=!1){return N?{h:Number(J&t),l:Number(J>>n&t)}:{h:Number(J>>n&t)|0,l:Number(J&t)|0}}e.fromBig=r;function i(J,N=!1){let H=new Uint32Array(J.length),E=new Uint32Array(J.length);for(let f=0;f<J.length;f++){const{h:p,l:w}=r(J[f],N);[H[f],E[f]]=[p,w]}return[H,E]}e.split=i;const s=(J,N)=>BigInt(J>>>0)<<n|BigInt(N>>>0);e.toBig=s;const o=(J,N,H)=>J>>>H,a=(J,N,H)=>J<<32-H|N>>>H,c=(J,N,H)=>J>>>H|N<<32-H,u=(J,N,H)=>J<<32-H|N>>>H,l=(J,N,H)=>J<<64-H|N>>>H-32,d=(J,N,H)=>J>>>H-32|N<<64-H,h=(J,N)=>N,y=(J,N)=>J,b=(J,N,H)=>J<<H|N>>>32-H,A=(J,N,H)=>N<<H|J>>>32-H,I=(J,N,H)=>N<<H-32|J>>>64-H,U=(J,N,H)=>J<<H-32|N>>>64-H;function B(J,N,H,E){const f=(N>>>0)+(E>>>0);return{h:J+H+(f/2**32|0)|0,l:f|0}}e.add=B;const v=(J,N,H)=>(J>>>0)+(N>>>0)+(H>>>0),_=(J,N,H,E)=>N+H+E+(J/2**32|0)|0,S=(J,N,H,E)=>(J>>>0)+(N>>>0)+(H>>>0)+(E>>>0),$=(J,N,H,E,f)=>N+H+E+f+(J/2**32|0)|0,F=(J,N,H,E,f)=>(J>>>0)+(N>>>0)+(H>>>0)+(E>>>0)+(f>>>0),W=(J,N,H,E,f,p)=>N+H+E+f+p+(J/2**32|0)|0,Y={fromBig:r,split:i,toBig:e.toBig,shrSH:o,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:l,rotrBL:d,rotr32H:h,rotr32L:y,rotlSH:b,rotlSL:A,rotlBH:I,rotlBL:U,add:B,add3L:v,add3H:_,add4L:S,add4H:$,add5H:W,add5L:F};e.default=Y})(oy);Object.defineProperty(Hr,"__esModule",{value:!0});Hr.sha384=Hr.sha512_256=Hr.sha512_224=Hr.sha512=Hr.SHA512=void 0;const b_=ec,St=oy,il=Ms,[v_,x_]=St.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Bi=new Uint32Array(80),ki=new Uint32Array(80);let tc=class extends b_.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:A,Hl:I}=this;return[t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I]}set(t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=A|0,this.Hl=I|0}process(t,n){for(let v=0;v<16;v++,n+=4)Bi[v]=t.getUint32(n),ki[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const _=Bi[v-15]|0,S=ki[v-15]|0,$=St.default.rotrSH(_,S,1)^St.default.rotrSH(_,S,8)^St.default.shrSH(_,S,7),F=St.default.rotrSL(_,S,1)^St.default.rotrSL(_,S,8)^St.default.shrSL(_,S,7),W=Bi[v-2]|0,Y=ki[v-2]|0,J=St.default.rotrSH(W,Y,19)^St.default.rotrBH(W,Y,61)^St.default.shrSH(W,Y,6),N=St.default.rotrSL(W,Y,19)^St.default.rotrBL(W,Y,61)^St.default.shrSL(W,Y,6),H=St.default.add4L(F,N,ki[v-7],ki[v-16]),E=St.default.add4H(H,$,J,Bi[v-7],Bi[v-16]);Bi[v]=E|0,ki[v]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:A,Gl:I,Hh:U,Hl:B}=this;for(let v=0;v<80;v++){const _=St.default.rotrSH(d,h,14)^St.default.rotrSH(d,h,18)^St.default.rotrBH(d,h,41),S=St.default.rotrSL(d,h,14)^St.default.rotrSL(d,h,18)^St.default.rotrBL(d,h,41),$=d&y^~d&A,F=h&b^~h&I,W=St.default.add5L(B,S,F,x_[v],ki[v]),Y=St.default.add5H(W,U,_,$,v_[v],Bi[v]),J=W|0,N=St.default.rotrSH(r,i,28)^St.default.rotrBH(r,i,34)^St.default.rotrBH(r,i,39),H=St.default.rotrSL(r,i,28)^St.default.rotrBL(r,i,34)^St.default.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;U=A|0,B=I|0,A=y|0,I=b|0,y=d|0,b=h|0,{h:d,l:h}=St.default.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=St.default.add3L(J,H,f);r=St.default.add3H(p,Y,N,E),i=p|0}({h:r,l:i}=St.default.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=St.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=St.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=St.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=St.default.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=St.default.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:A,l:I}=St.default.add(this.Gh|0,this.Gl|0,A|0,I|0),{h:U,l:B}=St.default.add(this.Hh|0,this.Hl|0,U|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,A,I,U,B)}roundClean(){Bi.fill(0),ki.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Hr.SHA512=tc;let S_=class extends tc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},A_=class extends tc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},T_=class extends tc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Hr.sha512=(0,il.wrapConstructor)(()=>new tc);Hr.sha512_224=(0,il.wrapConstructor)(()=>new S_);Hr.sha512_256=(0,il.wrapConstructor)(()=>new A_);Hr.sha384=(0,il.wrapConstructor)(()=>new T_);var nc={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(N){if(!Number.isSafeInteger(N))throw new Error(`Wrong integer: ${N}`)}e.assertNumber=t;function n(...N){const H=(p,w)=>k=>p(w(k)),E=Array.from(N).reverse().reduce((p,w)=>p?H(p,w.encode):w.encode,void 0),f=N.reduce((p,w)=>p?H(p,w.decode):w.decode,void 0);return{encode:E,decode:f}}function r(N){return{encode:H=>{if(!Array.isArray(H)||H.length&&typeof H[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return H.map(E=>{if(t(E),E<0||E>=N.length)throw new Error(`Digit index outside alphabet: ${E} (alphabet: ${N.length})`);return N[E]})},decode:H=>{if(!Array.isArray(H)||H.length&&typeof H[0]!="string")throw new Error("alphabet.decode input should be array of strings");return H.map(E=>{if(typeof E!="string")throw new Error(`alphabet.decode: not string element=${E}`);const f=N.indexOf(E);if(f===-1)throw new Error(`Unknown letter: "${E}". Allowed: ${N}`);return f})}}}function i(N=""){if(typeof N!="string")throw new Error("join separator should be string");return{encode:H=>{if(!Array.isArray(H)||H.length&&typeof H[0]!="string")throw new Error("join.encode input should be array of strings");for(let E of H)if(typeof E!="string")throw new Error(`join.encode: non-string input=${E}`);return H.join(N)},decode:H=>{if(typeof H!="string")throw new Error("join.decode input should be string");return H.split(N)}}}function s(N,H="="){if(t(N),typeof H!="string")throw new Error("padding chr should be string");return{encode(E){if(!Array.isArray(E)||E.length&&typeof E[0]!="string")throw new Error("padding.encode input should be array of strings");for(let f of E)if(typeof f!="string")throw new Error(`padding.encode: non-string input=${f}`);for(;E.length*N%8;)E.push(H);return E},decode(E){if(!Array.isArray(E)||E.length&&typeof E[0]!="string")throw new Error("padding.encode input should be array of strings");for(let p of E)if(typeof p!="string")throw new Error(`padding.decode: non-string input=${p}`);let f=E.length;if(f*N%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;f>0&&E[f-1]===H;f--)if(!((f-1)*N%8))throw new Error("Invalid padding: string has too much padding");return E.slice(0,f)}}}function o(N){if(typeof N!="function")throw new Error("normalize fn should be function");return{encode:H=>H,decode:H=>N(H)}}function a(N,H,E){if(H<2)throw new Error(`convertRadix: wrong from=${H}, base cannot be less than 2`);if(E<2)throw new Error(`convertRadix: wrong to=${E}, base cannot be less than 2`);if(!Array.isArray(N))throw new Error("convertRadix: data should be array");if(!N.length)return[];let f=0;const p=[],w=Array.from(N);for(w.forEach(k=>{if(t(k),k<0||k>=H)throw new Error(`Wrong integer: ${k}`)});;){let k=0,q=!0;for(let z=f;z<w.length;z++){const X=w[z],O=H*k+X;if(!Number.isSafeInteger(O)||H*k/H!==k||O-X!==H*k)throw new Error("convertRadix: carry overflow");if(k=O%E,w[z]=Math.floor(O/E),!Number.isSafeInteger(w[z])||w[z]*E+k!==O)throw new Error("convertRadix: carry overflow");if(q)w[z]?q=!1:f=z;else continue}if(p.push(k),q)break}for(let k=0;k<N.length-1&&N[k]===0;k++)p.push(0);return p.reverse()}const c=(N,H)=>H?c(H,N%H):N,u=(N,H)=>N+(H-c(N,H));function l(N,H,E,f){if(!Array.isArray(N))throw new Error("convertRadix2: data should be array");if(H<=0||H>32)throw new Error(`convertRadix2: wrong from=${H}`);if(E<=0||E>32)throw new Error(`convertRadix2: wrong to=${E}`);if(u(H,E)>32)throw new Error(`convertRadix2: carry overflow from=${H} to=${E} carryBits=${u(H,E)}`);let p=0,w=0;const k=2**E-1,q=[];for(const z of N){if(t(z),z>=2**H)throw new Error(`convertRadix2: invalid data word=${z} from=${H}`);if(p=p<<H|z,w+H>32)throw new Error(`convertRadix2: carry overflow pos=${w} from=${H}`);for(w+=H;w>=E;w-=E)q.push((p>>w-E&k)>>>0);p&=2**w-1}if(p=p<<E-w&k,!f&&w>=H)throw new Error("Excess padding");if(!f&&p)throw new Error(`Non-zero padding: ${p}`);return f&&w>0&&q.push(p>>>0),q}function d(N){return t(N),{encode:H=>{if(!(H instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return a(Array.from(H),2**8,N)},decode:H=>{if(!Array.isArray(H)||H.length&&typeof H[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(a(H,N,2**8))}}}function h(N,H=!1){if(t(N),N<=0||N>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,N)>32||u(N,8)>32)throw new Error("radix2: carry overflow");return{encode:E=>{if(!(E instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return l(Array.from(E),8,N,!H)},decode:E=>{if(!Array.isArray(E)||E.length&&typeof E[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(l(E,N,8,H))}}}function y(N){if(typeof N!="function")throw new Error("unsafeWrapper fn should be function");return function(...H){try{return N.apply(null,H)}catch{}}}function b(N,H){if(t(N),typeof H!="function")throw new Error("checksum fn should be function");return{encode(E){if(!(E instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const f=H(E).slice(0,N),p=new Uint8Array(E.length+N);return p.set(E),p.set(f,E.length),p},decode(E){if(!(E instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const f=E.slice(0,-N),p=H(f).slice(0,N),w=E.slice(-N);for(let k=0;k<N;k++)if(p[k]!==w[k])throw new Error("Invalid checksum");return f}}}e.utils={alphabet:r,chain:n,checksum:b,radix:d,radix2:h,join:i,padding:s},e.base16=n(h(4),r("0123456789ABCDEF"),i("")),e.base32=n(h(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),e.base32hex=n(h(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),e.base32crockford=n(h(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),o(N=>N.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(h(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),e.base64url=n(h(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const A=N=>n(d(58),r(N),i(""));e.base58=A("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=A("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=A("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const I=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(N){let H="";for(let E=0;E<N.length;E+=8){const f=N.subarray(E,E+8);H+=e.base58.encode(f).padStart(I[f.length],"1")}return H},decode(N){let H=[];for(let E=0;E<N.length;E+=11){const f=N.slice(E,E+11),p=I.indexOf(f.length),w=e.base58.decode(f);for(let k=0;k<w.length-p;k++)if(w[k]!==0)throw new Error("base58xmr: wrong padding");H=H.concat(Array.from(w.slice(w.length-p)))}return Uint8Array.from(H)}};const U=N=>n(b(4,H=>N(N(H))),e.base58);e.base58check=U;const B=n(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),v=[996825010,642813549,513874426,1027748829,705979059];function _(N){const H=N>>25;let E=(N&33554431)<<5;for(let f=0;f<v.length;f++)(H>>f&1)===1&&(E^=v[f]);return E}function S(N,H,E=1){const f=N.length;let p=1;for(let w=0;w<f;w++){const k=N.charCodeAt(w);if(k<33||k>126)throw new Error(`Invalid prefix (${N})`);p=_(p)^k>>5}p=_(p);for(let w=0;w<f;w++)p=_(p)^N.charCodeAt(w)&31;for(let w of H)p=_(p)^w;for(let w=0;w<6;w++)p=_(p);return p^=E,B.encode(l([p%2**30],30,5,!1))}function $(N){const H=N==="bech32"?1:734539939,E=h(5),f=E.decode,p=E.encode,w=y(f);function k(O,m,L=90){if(typeof O!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof O}`);if(!Array.isArray(m)||m.length&&typeof m[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof m}`);const we=O.length+7+m.length;if(L!==!1&&we>L)throw new TypeError(`Length ${we} exceeds limit ${L}`);return O=O.toLowerCase(),`${O}1${B.encode(m)}${S(O,m,H)}`}function q(O,m=90){if(typeof O!="string")throw new Error(`bech32.decode input should be string, not ${typeof O}`);if(O.length<8||m!==!1&&O.length>m)throw new TypeError(`Wrong string length: ${O.length} (${O}). Expected (8..${m})`);const L=O.toLowerCase();if(O!==L&&O!==O.toUpperCase())throw new Error("String must be lowercase or uppercase");O=L;const we=O.lastIndexOf("1");if(we===0||we===-1)throw new Error('Letter "1" must be present between prefix and data only');const T=O.slice(0,we),ne=O.slice(we+1);if(ne.length<6)throw new Error("Data must be at least 6 characters long");const fe=B.decode(ne).slice(0,-6),G=S(T,fe,H);if(!ne.endsWith(G))throw new Error(`Invalid checksum in ${O}: expected "${G}"`);return{prefix:T,words:fe}}const z=y(q);function X(O){const{prefix:m,words:L}=q(O,!1);return{prefix:m,words:L,bytes:f(L)}}return{encode:k,decode:q,decodeToBytes:X,decodeUnsafe:z,fromWords:f,fromWordsUnsafe:w,toWords:p}}e.bech32=$("bech32"),e.bech32m=$("bech32m"),e.utf8={encode:N=>new TextDecoder().decode(N),decode:N=>new TextEncoder().encode(N)},e.hex=n(h(4),r("0123456789abcdef"),i(""),o(N=>{if(typeof N!="string"||N.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof N} with length ${N.length}`);return N.toLowerCase()}));const F={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},W=`Invalid encoding type. Available types: ${Object.keys(F).join(", ")}`,Y=(N,H)=>{if(typeof N!="string"||!F.hasOwnProperty(N))throw new TypeError(W);if(!(H instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return F[N].encode(H)};e.bytesToString=Y,e.str=e.bytesToString;const J=(N,H)=>{if(!F.hasOwnProperty(N))throw new TypeError(W);if(typeof H!="string")throw new TypeError("stringToBytes() expects string");return F[N].decode(H)};e.stringToBytes=J,e.bytes=e.stringToBytes})(nc);Object.defineProperty(_r,"__esModule",{value:!0});var ay=_r.mnemonicToSeedSync=_r.mnemonicToSeed=_r.validateMnemonic=_r.entropyToMnemonic=_r.mnemonicToEntropy=_r.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const cy=Mn,uy=Ro,E_=Po,ly=Hr,I_=Ms,kc=nc,B_=e=>e[0]==="";function dy(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function ef(e){const t=dy(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function fy(e){cy.default.bytes(e,16,20,24,28,32)}function k_(e,t=128){if(cy.default.number(t),t%32!==0||t>256)throw new TypeError("Invalid entropy");return gy((0,I_.randomBytes)(t/8),e)}_r.generateMnemonic=k_;const C_=e=>{const t=8-e.length/4;return new Uint8Array([(0,E_.sha256)(e)[0]>>t<<t])};function hy(e){if(!Array.isArray(e)||e.length!==2**11||typeof e[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return e.forEach(t=>{if(typeof t!="string")throw new Error(`Wordlist: non-string element: ${t}`)}),kc.utils.chain(kc.utils.checksum(1,C_),kc.utils.radix2(11,!0),kc.utils.alphabet(e))}function py(e,t){const{words:n}=ef(e),r=hy(t).decode(n);return fy(r),r}_r.mnemonicToEntropy=py;function gy(e,t){return fy(e),hy(t).encode(e).join(B_(t)?"":" ")}_r.entropyToMnemonic=gy;function R_(e,t){try{py(e,t)}catch{return!1}return!0}_r.validateMnemonic=R_;const yy=e=>dy(`mnemonic${e}`);function P_(e,t=""){return(0,uy.pbkdf2Async)(ly.sha512,ef(e).nfkd,yy(t),{c:2048,dkLen:64})}_r.mnemonicToSeed=P_;function U_(e,t=""){return(0,uy.pbkdf2)(ly.sha512,ef(e).nfkd,yy(t),{c:2048,dkLen:64})}ay=_r.mnemonicToSeedSync=U_;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const O_=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),bd=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),M_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!M_)throw new Error("Non little-endian hardware is not supported");const $_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function my(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=$_[e[n]];return t}function wy(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,i=e.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[n]=s}return t}function N_(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function rc(e){if(typeof e=="string"&&(e=N_(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let tf=class{clone(){return this._cloneInto()}};function sl(e){const t=r=>e().update(rc(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function q_(e){const t=(r,i)=>e(i).update(rc(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function l0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function D_(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function _y(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function L_(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l0(e.outputLen),l0(e.blockLen)}function H_(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function z_(e,t){_y(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const br={number:l0,bool:D_,bytes:_y,hash:L_,exists:H_,output:z_},Cc=BigInt(2**32-1),d0=BigInt(32);function by(e,t=!1){return t?{h:Number(e&Cc),l:Number(e>>d0&Cc)}:{h:Number(e>>d0&Cc)|0,l:Number(e&Cc)|0}}function F_(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=by(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const j_=(e,t)=>BigInt(e>>>0)<<d0|BigInt(t>>>0),G_=(e,t,n)=>e>>>n,W_=(e,t,n)=>e<<32-n|t>>>n,V_=(e,t,n)=>e>>>n|t<<32-n,K_=(e,t,n)=>e<<32-n|t>>>n,X_=(e,t,n)=>e<<64-n|t>>>n-32,Z_=(e,t,n)=>e>>>n-32|t<<64-n,Y_=(e,t)=>t,J_=(e,t)=>e,Q_=(e,t,n)=>e<<n|t>>>32-n,eb=(e,t,n)=>t<<n|e>>>32-n,tb=(e,t,n)=>t<<n-32|e>>>64-n,nb=(e,t,n)=>e<<n-32|t>>>64-n;function rb(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const ib=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),sb=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ob=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),ab=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,cb=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),ub=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,ut={fromBig:by,split:F_,toBig:j_,shrSH:G_,shrSL:W_,rotrSH:V_,rotrSL:K_,rotrBH:X_,rotrBL:Z_,rotr32H:Y_,rotr32L:J_,rotlSH:Q_,rotlSL:eb,rotlBH:tb,rotlBL:nb,add:rb,add3L:ib,add3H:sb,add4L:ob,add4H:ab,add5H:ub,add5L:cb},[vy,xy,Sy]=[[],[],[]],lb=BigInt(0),va=BigInt(1),db=BigInt(2),fb=BigInt(7),hb=BigInt(256),pb=BigInt(113);for(let e=0,t=va,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],vy.push(2*(5*r+n)),xy.push((e+1)*(e+2)/2%64);let i=lb;for(let s=0;s<7;s++)t=(t<<va^(t>>fb)*pb)%hb,t&db&&(i^=va<<(va<<BigInt(s))-va);Sy.push(i)}const[gb,yb]=ut.split(Sy,!0),Rh=(e,t,n)=>n>32?ut.rotlBH(e,t,n):ut.rotlSH(e,t,n),Ph=(e,t,n)=>n>32?ut.rotlBL(e,t,n):ut.rotlSL(e,t,n);function mb(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=Rh(u,l,1)^n[a],h=Ph(u,l,1)^n[a+1];for(let y=0;y<50;y+=10)e[o+y]^=d,e[o+y+1]^=h}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=xy[o],c=Rh(i,s,a),u=Ph(i,s,a),l=vy[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=gb[r],e[1]^=yb[r]}n.fill(0)}let Ay=class Ty extends tf{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,br.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=O_(this.state)}keccak(){mb(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){br.exists(this);const{blockLen:n,state:r}=this;t=rc(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){br.exists(this,!1),br.bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return br.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(br.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Ty(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};const ls=(e,t,n)=>sl(()=>new Ay(t,e,n));ls(6,144,224/8);const Uo=ls(6,136,256/8);ls(6,104,384/8);ls(6,72,512/8);ls(1,144,224/8);ls(1,136,256/8);ls(1,104,384/8);ls(1,72,512/8);const Ey=(e,t,n)=>q_((r={})=>new Ay(t,e,r.dkLen===void 0?n:r.dkLen,!0));Ey(31,168,128/8);Ey(31,136,256/8);let Iy=class extends tf{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,br.hash(t);const r=rc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return br.exists(this),this.iHash.update(t),this}digestInto(t){br.exists(this),br.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const nf=(e,t,n)=>new Iy(e,t).update(n).digest();nf.create=(e,t)=>new Iy(e,t);function wb(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}let _b=class extends tf{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=bd(this.buffer)}update(t){br.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=rc(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=bd(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){br.exists(this),br.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let c=o;c<i;c++)n[c]=0;wb(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=bd(t);this.get().forEach((c,u)=>a.setUint32(4*u,c,s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};const[bb,vb]=ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ci=new Uint32Array(80),Ri=new Uint32Array(80);let rf=class extends _b{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:A,Hl:I}=this;return[t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I]}set(t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=A|0,this.Hl=I|0}process(t,n){for(let v=0;v<16;v++,n+=4)Ci[v]=t.getUint32(n),Ri[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const _=Ci[v-15]|0,S=Ri[v-15]|0,$=ut.rotrSH(_,S,1)^ut.rotrSH(_,S,8)^ut.shrSH(_,S,7),F=ut.rotrSL(_,S,1)^ut.rotrSL(_,S,8)^ut.shrSL(_,S,7),W=Ci[v-2]|0,Y=Ri[v-2]|0,J=ut.rotrSH(W,Y,19)^ut.rotrBH(W,Y,61)^ut.shrSH(W,Y,6),N=ut.rotrSL(W,Y,19)^ut.rotrBL(W,Y,61)^ut.shrSL(W,Y,6),H=ut.add4L(F,N,Ri[v-7],Ri[v-16]),E=ut.add4H(H,$,J,Ci[v-7],Ci[v-16]);Ci[v]=E|0,Ri[v]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:A,Gl:I,Hh:U,Hl:B}=this;for(let v=0;v<80;v++){const _=ut.rotrSH(d,h,14)^ut.rotrSH(d,h,18)^ut.rotrBH(d,h,41),S=ut.rotrSL(d,h,14)^ut.rotrSL(d,h,18)^ut.rotrBL(d,h,41),$=d&y^~d&A,F=h&b^~h&I,W=ut.add5L(B,S,F,vb[v],Ri[v]),Y=ut.add5H(W,U,_,$,bb[v],Ci[v]),J=W|0,N=ut.rotrSH(r,i,28)^ut.rotrBH(r,i,34)^ut.rotrBH(r,i,39),H=ut.rotrSL(r,i,28)^ut.rotrBL(r,i,34)^ut.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;U=A|0,B=I|0,A=y|0,I=b|0,y=d|0,b=h|0,{h:d,l:h}=ut.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=ut.add3L(J,H,f);r=ut.add3H(p,Y,N,E),i=p|0}({h:r,l:i}=ut.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ut.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ut.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=ut.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=ut.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=ut.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:A,l:I}=ut.add(this.Gh|0,this.Gl|0,A|0,I|0),{h:U,l:B}=ut.add(this.Hh|0,this.Hl|0,U|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,A,I,U,B)}roundClean(){Ci.fill(0),Ri.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},xb=class extends rf{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Sb=class extends rf{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const By=sl(()=>new rf);sl(()=>new xb);sl(()=>new Sb);var f0={},Ab={get exports(){return f0},set exports(e){f0=e}},vu={},Tb={get exports(){return vu},set exports(e){vu=e}},ky=function(t,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return t.apply(n,i)}},Eb=ky,sf=Object.prototype.toString,of=function(e){return function(t){var n=sf.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function $s(e){return e=e.toLowerCase(),function(n){return of(n)===e}}function af(e){return Array.isArray(e)}function xu(e){return typeof e>"u"}function Ib(e){return e!==null&&!xu(e)&&e.constructor!==null&&!xu(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var Cy=$s("ArrayBuffer");function Bb(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cy(e.buffer),t}function kb(e){return typeof e=="string"}function Cb(e){return typeof e=="number"}function Ry(e){return e!==null&&typeof e=="object"}function ru(e){if(of(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var Rb=$s("Date"),Pb=$s("File"),Ub=$s("Blob"),Ob=$s("FileList");function cf(e){return sf.call(e)==="[object Function]"}function Mb(e){return Ry(e)&&cf(e.pipe)}function $b(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||sf.call(e)===t||cf(e.toString)&&e.toString()===t)}var Nb=$s("URLSearchParams");function qb(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Db(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function uf(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),af(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function h0(){var e={};function t(i,s){ru(e[s])&&ru(i)?e[s]=h0(e[s],i):ru(i)?e[s]=h0({},i):af(i)?e[s]=i.slice():e[s]=i}for(var n=0,r=arguments.length;n<r;n++)uf(arguments[n],t);return e}function Lb(e,t,n){return uf(t,function(i,s){n&&typeof i=="function"?e[s]=Eb(i,n):e[s]=i}),e}function Hb(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function zb(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function Fb(e,t,n){var r,i,s,o={};t=t||{};do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)s=r[i],o[s]||(t[s]=e[s],o[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function jb(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return r!==-1&&r===n}function Gb(e){if(!e)return null;var t=e.length;if(xu(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var Wb=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Vn={isArray:af,isArrayBuffer:Cy,isBuffer:Ib,isFormData:$b,isArrayBufferView:Bb,isString:kb,isNumber:Cb,isObject:Ry,isPlainObject:ru,isUndefined:xu,isDate:Rb,isFile:Pb,isBlob:Ub,isFunction:cf,isStream:Mb,isURLSearchParams:Nb,isStandardBrowserEnv:Db,forEach:uf,merge:h0,extend:Lb,trim:qb,stripBOM:Hb,inherits:zb,toFlatObject:Fb,kindOf:of,kindOfTest:$s,endsWith:jb,toArray:Gb,isTypedArray:Wb,isFileList:Ob},Js=Vn;function Uh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Py=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(Js.isURLSearchParams(n))i=n.toString();else{var s=[];Js.forEach(n,function(c,u){c===null||typeof c>"u"||(Js.isArray(c)?u=u+"[]":c=[c],Js.forEach(c,function(d){Js.isDate(d)?d=d.toISOString():Js.isObject(d)&&(d=JSON.stringify(d)),s.push(Uh(u)+"="+Uh(d))}))}),i=s.join("&")}if(i){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},Vb=Vn;function ol(){this.handlers=[]}ol.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};ol.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};ol.prototype.forEach=function(t){Vb.forEach(this.handlers,function(r){r!==null&&t(r)})};var Kb=ol,Xb=Vn,Zb=function(t,n){Xb.forEach(t,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[s])})},Uy=Vn;function Oo(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Uy.inherits(Oo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Oy=Oo.prototype,My={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){My[e]={value:e}});Object.defineProperties(Oo,My);Object.defineProperty(Oy,"isAxiosError",{value:!0});Oo.from=function(e,t,n,r,i,s){var o=Object.create(Oy);return Uy.toFlatObject(e,o,function(c){return c!==Error.prototype}),Oo.call(o,e.message,t,n,r,i),o.name=e.name,s&&Object.assign(o,s),o};var ra=Oo,$y={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vr=Vn;function Yb(e,t){t=t||new FormData;var n=[];function r(s){return s===null?"":Vr.isDate(s)?s.toISOString():Vr.isArrayBuffer(s)||Vr.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(Vr.isPlainObject(s)||Vr.isArray(s)){if(n.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);n.push(s),Vr.forEach(s,function(c,u){if(!Vr.isUndefined(c)){var l=o?o+"."+u:u,d;if(c&&!o&&typeof c=="object"){if(Vr.endsWith(u,"{}"))c=JSON.stringify(c);else if(Vr.endsWith(u,"[]")&&(d=Vr.toArray(c))){d.forEach(function(h){!Vr.isUndefined(h)&&t.append(l,r(h))});return}}i(c,l)}}),n.pop()}else t.append(o,r(s))}return i(e),t}var Ny=Yb,vd,Oh;function Jb(){if(Oh)return vd;Oh=1;var e=ra;return vd=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},vd}var xd,Mh;function Qb(){if(Mh)return xd;Mh=1;var e=Vn;return xd=e.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,c){var u=[];u.push(r+"="+encodeURIComponent(i)),e.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),e.isString(o)&&u.push("path="+o),e.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),xd}var ev=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},tv=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},nv=ev,rv=tv,qy=function(t,n){return t&&!nv(n)?rv(t,n):n},Sd,$h;function iv(){if($h)return Sd;$h=1;var e=Vn,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Sd=function(r){var i={},s,o,a;return r&&e.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=e.trim(u.substr(0,a)).toLowerCase(),o=e.trim(u.substr(a+1)),s){if(i[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Sd}var Ad,Nh;function sv(){if(Nh)return Ad;Nh=1;var e=Vn;return Ad=e.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var c=e.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Ad}var Td,qh;function al(){if(qh)return Td;qh=1;var e=ra,t=Vn;function n(r){e.call(this,r??"canceled",e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(n,e,{__CANCEL__:!0}),Td=n,Td}var Ed,Dh;function ov(){return Dh||(Dh=1,Ed=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}),Ed}var Id,Lh;function Hh(){if(Lh)return Id;Lh=1;var e=Vn,t=Jb(),n=Qb(),r=Py,i=qy,s=iv(),o=sv(),a=$y,c=ra,u=al(),l=ov();return Id=function(h){return new Promise(function(b,A){var I=h.data,U=h.headers,B=h.responseType,v;function _(){h.cancelToken&&h.cancelToken.unsubscribe(v),h.signal&&h.signal.removeEventListener("abort",v)}e.isFormData(I)&&e.isStandardBrowserEnv()&&delete U["Content-Type"];var S=new XMLHttpRequest;if(h.auth){var $=h.auth.username||"",F=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";U.Authorization="Basic "+btoa($+":"+F)}var W=i(h.baseURL,h.url);S.open(h.method.toUpperCase(),r(W,h.params,h.paramsSerializer),!0),S.timeout=h.timeout;function Y(){if(S){var H="getAllResponseHeaders"in S?s(S.getAllResponseHeaders()):null,E=!B||B==="text"||B==="json"?S.responseText:S.response,f={data:E,status:S.status,statusText:S.statusText,headers:H,config:h,request:S};t(function(w){b(w),_()},function(w){A(w),_()},f),S=null}}if("onloadend"in S?S.onloadend=Y:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(Y)},S.onabort=function(){S&&(A(new c("Request aborted",c.ECONNABORTED,h,S)),S=null)},S.onerror=function(){A(new c("Network Error",c.ERR_NETWORK,h,S,S)),S=null},S.ontimeout=function(){var E=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",f=h.transitional||a;h.timeoutErrorMessage&&(E=h.timeoutErrorMessage),A(new c(E,f.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,h,S)),S=null},e.isStandardBrowserEnv()){var J=(h.withCredentials||o(W))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;J&&(U[h.xsrfHeaderName]=J)}"setRequestHeader"in S&&e.forEach(U,function(E,f){typeof I>"u"&&f.toLowerCase()==="content-type"?delete U[f]:S.setRequestHeader(f,E)}),e.isUndefined(h.withCredentials)||(S.withCredentials=!!h.withCredentials),B&&B!=="json"&&(S.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&S.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(v=function(H){S&&(A(!H||H&&H.type?new u:H),S.abort(),S=null)},h.cancelToken&&h.cancelToken.subscribe(v),h.signal&&(h.signal.aborted?v():h.signal.addEventListener("abort",v))),I||(I=null);var N=l(W);if(N&&["http","https","file"].indexOf(N)===-1){A(new c("Unsupported protocol "+N+":",c.ERR_BAD_REQUEST,h));return}S.send(I)})},Id}var Bd,zh;function av(){return zh||(zh=1,Bd=null),Bd}var Un=Vn,Fh=Zb,jh=ra,cv=$y,uv=Ny,lv={"Content-Type":"application/x-www-form-urlencoded"};function Gh(e,t){!Un.isUndefined(e)&&Un.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function dv(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Hh()),e}function fv(e,t,n){if(Un.isString(e))try{return(t||JSON.parse)(e),Un.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var cl={transitional:cv,adapter:dv(),transformRequest:[function(t,n){if(Fh(n,"Accept"),Fh(n,"Content-Type"),Un.isFormData(t)||Un.isArrayBuffer(t)||Un.isBuffer(t)||Un.isStream(t)||Un.isFile(t)||Un.isBlob(t))return t;if(Un.isArrayBufferView(t))return t.buffer;if(Un.isURLSearchParams(t))return Gh(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r=Un.isObject(t),i=n&&n["Content-Type"],s;if((s=Un.isFileList(t))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return uv(s?{"files[]":t}:t,o&&new o)}else if(r||i==="application/json")return Gh(n,"application/json"),fv(t);return t}],transformResponse:[function(t){var n=this.transitional||cl.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&Un.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?jh.from(o,jh.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:av()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Un.forEach(["delete","get","head"],function(t){cl.headers[t]={}});Un.forEach(["post","put","patch"],function(t){cl.headers[t]=Un.merge(lv)});var lf=cl,hv=Vn,pv=lf,gv=function(t,n,r){var i=this||pv;return hv.forEach(r,function(o){t=o.call(i,t,n)}),t},kd,Wh;function Dy(){return Wh||(Wh=1,kd=function(t){return!!(t&&t.__CANCEL__)}),kd}var Vh=Vn,Cd=gv,yv=Dy(),mv=lf,wv=al();function Rd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wv}var _v=function(t){Rd(t),t.headers=t.headers||{},t.data=Cd.call(t,t.data,t.headers,t.transformRequest),t.headers=Vh.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Vh.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||mv.adapter;return n(t).then(function(i){return Rd(t),i.data=Cd.call(t,i.data,i.headers,t.transformResponse),i},function(i){return yv(i)||(Rd(t),i&&i.response&&(i.response.data=Cd.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},gr=Vn,Ly=function(t,n){n=n||{};var r={};function i(l,d){return gr.isPlainObject(l)&&gr.isPlainObject(d)?gr.merge(l,d):gr.isPlainObject(d)?gr.merge({},d):gr.isArray(d)?d.slice():d}function s(l){if(gr.isUndefined(n[l])){if(!gr.isUndefined(t[l]))return i(void 0,t[l])}else return i(t[l],n[l])}function o(l){if(!gr.isUndefined(n[l]))return i(void 0,n[l])}function a(l){if(gr.isUndefined(n[l])){if(!gr.isUndefined(t[l]))return i(void 0,t[l])}else return i(void 0,n[l])}function c(l){if(l in n)return i(t[l],n[l]);if(l in t)return i(void 0,t[l])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return gr.forEach(Object.keys(t).concat(Object.keys(n)),function(d){var h=u[d]||s,y=h(d);gr.isUndefined(y)&&h!==c||(r[d]=y)}),r},Pd,Kh;function Hy(){return Kh||(Kh=1,Pd={version:"0.27.2"}),Pd}var bv=Hy().version,Gi=ra,df={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){df[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var Xh={};df.transitional=function(t,n,r){function i(s,o){return"[Axios v"+bv+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(t===!1)throw new Gi(i(o," has been removed"+(n?" in "+n:"")),Gi.ERR_DEPRECATED);return n&&!Xh[o]&&(Xh[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function vv(e,t,n){if(typeof e!="object")throw new Gi("options must be an object",Gi.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var s=r[i],o=t[s];if(o){var a=e[s],c=a===void 0||o(a,s,e);if(c!==!0)throw new Gi("option "+s+" must be "+c,Gi.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gi("Unknown option "+s,Gi.ERR_BAD_OPTION)}}var xv={assertOptions:vv,validators:df},zy=Vn,Sv=Py,Zh=Kb,Yh=_v,ul=Ly,Av=qy,Fy=xv,Qs=Fy.validators;function Mo(e){this.defaults=e,this.interceptors={request:new Zh,response:new Zh}}Mo.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ul(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&Fy.assertOptions(r,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(s=s&&y.synchronous,i.unshift(y.fulfilled,y.rejected))});var o=[];this.interceptors.response.forEach(function(y){o.push(y.fulfilled,y.rejected)});var a;if(!s){var c=[Yh,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(n);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=n;i.length;){var l=i.shift(),d=i.shift();try{u=l(u)}catch(h){d(h);break}}try{a=Yh(u)}catch(h){return Promise.reject(h)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Mo.prototype.getUri=function(t){t=ul(this.defaults,t);var n=Av(t.baseURL,t.url);return Sv(n,t.params,t.paramsSerializer)};zy.forEach(["delete","get","head","options"],function(t){Mo.prototype[t]=function(n,r){return this.request(ul(r||{},{method:t,url:n,data:(r||{}).data}))}});zy.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(ul(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Mo.prototype[t]=n(),Mo.prototype[t+"Form"]=n(!0)});var Tv=Mo,Ud,Jh;function Ev(){if(Jh)return Ud;Jh=1;var e=al();function t(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new e(o),r(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},t.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var r,i=new t(function(o){r=o});return{token:i,cancel:r}},Ud=t,Ud}var Od,Qh;function Iv(){return Qh||(Qh=1,Od=function(t){return function(r){return t.apply(null,r)}}),Od}var Md,ep;function Bv(){if(ep)return Md;ep=1;var e=Vn;return Md=function(n){return e.isObject(n)&&n.isAxiosError===!0},Md}var tp=Vn,kv=ky,iu=Tv,Cv=Ly,Rv=lf;function jy(e){var t=new iu(e),n=kv(iu.prototype.request,t);return tp.extend(n,iu.prototype,t),tp.extend(n,t),n.create=function(i){return jy(Cv(e,i))},n}var fr=jy(Rv);fr.Axios=iu;fr.CanceledError=al();fr.CancelToken=Ev();fr.isCancel=Dy();fr.VERSION=Hy().version;fr.toFormData=Ny;fr.AxiosError=ra;fr.Cancel=fr.CanceledError;fr.all=function(t){return Promise.all(t)};fr.spread=Iv();fr.isAxiosError=Bv();Tb.exports=fr;vu.default=fr;(function(e){e.exports=vu})(Ab);const Yr=Vg(f0);var ll=typeof self=="object"?self.FormData:window.FormData,Gy=Object.defineProperty,Pv=Object.getOwnPropertyDescriptor,dl=(e,t)=>{for(var n in t)Gy(e,n,{get:t[n],enumerable:!0})},en=(e,t,n,r)=>{for(var i=r>1?void 0:r?Pv(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&Gy(t,n,i),i},Uv=/^m(\/[0-9]+')+$/,Wy=e=>e.replace("'",""),Ov="ed25519 seed",Mv=2147483648,$v=e=>{const n=nf.create(By,Ov).update(wy(e)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},Nv=({key:e,chainCode:t},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...e,...i]),a=nf.create(By,t).update(o).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},qv=e=>Uv.test(e)?!e.split("/").slice(1).map(Wy).some(Number.isNaN):!1,Vy=(e,t,n=Mv)=>{if(!qv(e))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=$v(t);return e.split("/").slice(1).map(Wy).map(o=>parseInt(o,10)).reduce((o,a)=>Nv(o,a+n),{key:r,chainCode:i})};async function Dv(e){return new Promise(t=>{setTimeout(t,e)})}var np="/v1";function Lv(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith(np)||(t=`${t}${np}`),t}var Ky=2e5,Xy=20,Zy=20,p0="0x1::aptos_coin::AptosCoin";function fl(e){let t,n,r;return typeof e=="object"?(t=e.hashFunction,n=e.ttlMs,r=e.tags):t=e,(i,s,o)=>{if(o.value!=null)o.value=rp(o.value,t,n,r);else if(o.get!=null)o.get=rp(o.get,t,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function Hv(e,t){return fl({ttlMs:e,hashFunction:t})}var su=new Map;function zv(e){const t=new Set;for(const n of e){const r=su.get(n);if(r)for(const i of r)t.has(i)||(i.clear(),t.add(i))}return t.size}function rp(e,t,n=0,r){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(r))for(const u of r)su.has(u)?su.get(u).push(c):su.set(u,[c]);if(t||s.length>0||n>0){let u;t===!0?u=s.map(h=>h.toString()).join("!"):t?u=t.apply(a,s):u=s[0];const l=`${u}__timestamp`;let d=!1;if(n>0)if(!c.has(l))d=!0;else{const h=c.get(l);d=Date.now()-h>n}c.has(u)&&!d?o=c.get(u):(o=e.apply(a,s),c.set(u,o),n>0&&c.set(l,Date.now()))}else{const u=a;c.has(u)?o=c.get(u):(o=e.apply(a,s),c.set(u,o))}return o}}var _t=class{static fromBuffer(t){return _t.fromUint8Array(t)}static fromUint8Array(t){return new _t(my(t))}static ensure(t){return typeof t=="string"?new _t(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(wy(this.noPrefix()))}};async function ip(e,t,n,r){var i;const s=[];let o;for(;;){const a=await e(_t.ensure(t).hex(),(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString(),o,n);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),o==null)break}return s}var Fv={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},jv={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Yy=(e=>(e.MAINNET="mainnet",e.TESTNET="testnet",e.DEVNET="devnet",e))(Yy||{}),Wt={};dl(Wt,{AccountAddress:()=>gn,AccountAuthenticator:()=>qa,AccountAuthenticatorEd25519:()=>pf,AccountAuthenticatorMultiEd25519:()=>gf,ArgumentABI:()=>dc,AuthenticationKey:()=>ks,ChainId:()=>wl,ChangeSet:()=>n6,Ed25519PublicKey:()=>qr,Ed25519Signature:()=>ui,EntryFunction:()=>xs,EntryFunctionABI:()=>Lo,Identifier:()=>ar,Module:()=>e1,ModuleId:()=>Bs,MultiAgentRawTransaction:()=>yl,MultiEd25519PublicKey:()=>ic,MultiEd25519Signature:()=>hl,MultiSig:()=>wf,MultiSigTransactionPayload:()=>mf,RawTransaction:()=>ca,RawTransactionWithData:()=>t1,RotationProofChallenge:()=>i6,Script:()=>oc,ScriptABI:()=>Tl,SignedTransaction:()=>ac,StructTag:()=>$o,Transaction:()=>n1,TransactionArgument:()=>ti,TransactionArgumentAddress:()=>qo,TransactionArgumentBool:()=>Al,TransactionArgumentU128:()=>xl,TransactionArgumentU16:()=>bl,TransactionArgumentU256:()=>Sl,TransactionArgumentU32:()=>vl,TransactionArgumentU64:()=>No,TransactionArgumentU8:()=>_l,TransactionArgumentU8Vector:()=>Do,TransactionAuthenticator:()=>sc,TransactionAuthenticatorEd25519:()=>pl,TransactionAuthenticatorMultiAgent:()=>hf,TransactionAuthenticatorMultiEd25519:()=>gl,TransactionPayload:()=>cc,TransactionPayloadEntryFunction:()=>ml,TransactionPayloadMultisig:()=>_f,TransactionPayloadScript:()=>uc,TransactionScriptABI:()=>El,TypeArgumentABI:()=>lc,TypeTag:()=>Gn,TypeTagAddress:()=>Hs,TypeTagBool:()=>qs,TypeTagSigner:()=>yf,TypeTagStruct:()=>zs,TypeTagU128:()=>Ls,TypeTagU16:()=>ia,TypeTagU256:()=>oa,TypeTagU32:()=>sa,TypeTagU64:()=>Ds,TypeTagU8:()=>bi,TypeTagVector:()=>aa,UserTransaction:()=>bf,WriteSet:()=>r6});var Jy={};dl(Jy,{Deserializer:()=>ff,Serializer:()=>bn,bcsSerializeBool:()=>Qv,bcsSerializeBytes:()=>to,bcsSerializeFixedBytes:()=>t6,bcsSerializeStr:()=>e6,bcsSerializeU128:()=>Jv,bcsSerializeU16:()=>Zv,bcsSerializeU32:()=>Yv,bcsSerializeU8:()=>g0,bcsSerializeUint64:()=>Xv,bcsToBytes:()=>Si,deserializeVector:()=>jr,serializeVector:()=>Ir,serializeVectorWithFunc:()=>Kv});var Gv=2**8-1,Wv=2**16-1,Na=2**32-1,Pa=BigInt(2**64)-BigInt(1),Qy=BigInt(2**128)-BigInt(1),Vv=BigInt(2**256)-BigInt(1),bn=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const n=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,n,r){this.ensureBufferWillHandleSize(n);const i=new DataView(this.buffer,this.offset);t.apply(i,[0,r,!0]),this.offset+=n}serializeStr(t){const n=new TextEncoder;this.serializeBytes(n.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if(typeof t!="boolean")throw new Error("Value needs to be a boolean");const n=t?1:0;this.serialize(new Uint8Array([n]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const n=BigInt(t.toString())&BigInt(Na),r=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(n)),this.serializeU32(Number(r))}serializeU128(t){const n=BigInt(t.toString())&Pa,r=BigInt(t.toString())>>BigInt(64);this.serializeU64(n),this.serializeU64(r)}serializeU256(t){const n=BigInt(t.toString())&Qy,r=BigInt(t.toString())>>BigInt(128);this.serializeU128(n),this.serializeU128(r)}serializeU32AsUleb128(t){let n=t;const r=[];for(;n>>>7;)r.push(n&127|128),n>>>=7;r.push(n),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};en([Ns(0,Gv)],bn.prototype,"serializeU8",1);en([Ns(0,Wv)],bn.prototype,"serializeU16",1);en([Ns(0,Na)],bn.prototype,"serializeU32",1);en([Ns(BigInt(0),Pa)],bn.prototype,"serializeU64",1);en([Ns(BigInt(0),Qy)],bn.prototype,"serializeU128",1);en([Ns(BigInt(0),Vv)],bn.prototype,"serializeU256",1);en([Ns(0,Na)],bn.prototype,"serializeU32AsUleb128",1);function Ns(e,t,n){return(r,i,s)=>{const o=s.value;return s.value=function(c){const u=BigInt(c.toString());if(u>BigInt(t.toString())||u<BigInt(e.toString()))throw new Error(n||"Value is out of range");o.apply(this,[c])},s}}var ff=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n}deserializeStr(){const t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),n=this.deserializeU32();return BigInt(BigInt(n)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),n=this.deserializeU64();return BigInt(n<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),n=this.deserializeU128();return BigInt(n<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),n=0;for(;t<Na;){const r=this.deserializeU8();if(t|=BigInt(r&127)<<BigInt(n),!(r&128))break;n+=7}if(t>Na)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function Ir(e,t){t.serializeU32AsUleb128(e.length),e.forEach(n=>{n.serialize(t)})}function Kv(e,t){const n=new bn;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(i=>{r.call(n,i)}),n.getBytes()}function jr(e,t){const n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(t.deserialize(e));return r}function Si(e){const t=new bn;return e.serialize(t),t.getBytes()}function Xv(e){const t=new bn;return t.serializeU64(e),t.getBytes()}function g0(e){const t=new bn;return t.serializeU8(e),t.getBytes()}function Zv(e){const t=new bn;return t.serializeU16(e),t.getBytes()}function Yv(e){const t=new bn;return t.serializeU32(e),t.getBytes()}function Jv(e){const t=new bn;return t.serializeU128(e),t.getBytes()}function Qv(e){const t=new bn;return t.serializeBool(e),t.getBytes()}function e6(e){const t=new bn;return t.serializeStr(e),t.getBytes()}function to(e){const t=new bn;return t.serializeBytes(e),t.getBytes()}function t6(e){const t=new bn;return t.serializeFixedBytes(e),t.getBytes()}var Or=class{constructor(t){if(t.length!==Or.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let n=_t.ensure(t);n.noPrefix().length%2!==0&&(n=new _t(`0${n.noPrefix()}`));const r=n.toUint8Array();if(r.length>Or.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Or.LENGTH)return new Or(r);const i=new Uint8Array(Or.LENGTH);return i.set(r,Or.LENGTH-r.length),new Or(i)}static isValid(t){if(t==="")return!1;let n=_t.ensure(t);return n.noPrefix().length%2!==0&&(n=new _t(`0${n.noPrefix()}`)),n.toUint8Array().length<=Or.LENGTH}toHexString(){return _t.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Or(t.deserializeFixedBytes(Or.LENGTH))}},gn=Or;gn.LENGTH=32;gn.CORE_CODE_ADDRESS=Or.fromHex("0x1");var ou=class{constructor(t){if(t.length!==ou.LENGTH)throw new Error(`Ed25519PublicKey length should be ${ou.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const n=t.deserializeBytes();return new ou(n)}},qr=ou;qr.LENGTH=32;var au=class{constructor(t){if(this.value=t,t.length!==au.LENGTH)throw new Error(`Ed25519Signature length should be ${au.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const n=t.deserializeBytes();return new au(n)}},ui=au;ui.LENGTH=64;var y0=32,ic=class{constructor(t,n){if(this.public_keys=t,this.threshold=n,n>y0)throw new Error(`"threshold" cannot be larger than ${y0}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*qr.LENGTH+1);return this.public_keys.forEach((n,r)=>{t.set(n.value,r*qr.LENGTH)}),t[this.public_keys.length*qr.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const n=t.deserializeBytes(),r=n[n.length-1],i=[];for(let s=0;s<n.length-1;s+=qr.LENGTH){const o=s;i.push(new qr(n.subarray(o,o+qr.LENGTH)))}return new ic(i,r)}},Ea=class{constructor(t,n){if(this.signatures=t,this.bitmap=n,n.length!==Ea.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Ea.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*ui.LENGTH+Ea.BITMAP_LEN);return this.signatures.forEach((n,r)=>{t.set(n.value,r*ui.LENGTH)}),t.set(this.bitmap,this.signatures.length*ui.LENGTH),t}static createBitmap(t){const r=new Uint8Array([0,0,0,0]),i=new Set;return t.forEach(s=>{if(s>=y0)throw new Error(`Invalid bit value ${s}.`);if(i.has(s))throw new Error("Duplicated bits detected.");i.add(s);const o=Math.floor(s/8);let a=r[o];a|=128>>s%8,r[o]=a}),r}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const n=t.deserializeBytes(),r=n.subarray(n.length-4),i=[];for(let s=0;s<n.length-r.length;s+=ui.LENGTH){const o=s;i.push(new ui(n.subarray(o,o+ui.LENGTH)))}return new Ea(i,r)}},hl=Ea;hl.BITMAP_LEN=4;var sc=class{static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return pl.load(t);case 1:return gl.load(t);case 2:return hf.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${n}`)}}},pl=class extends sc{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=qr.deserialize(t),r=ui.deserialize(t);return new pl(n,r)}},gl=class extends sc{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=ic.deserialize(t),r=hl.deserialize(t);return new gl(n,r)}},hf=class extends sc{constructor(t,n,r){super(),this.sender=t,this.secondary_signer_addresses=n,this.secondary_signers=r}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),Ir(this.secondary_signer_addresses,t),Ir(this.secondary_signers,t)}static load(t){const n=qa.deserialize(t),r=jr(t,gn),i=jr(t,qa);return new hf(n,r,i)}},qa=class{static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return pf.load(t);case 1:return gf.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${n}`)}}},pf=class extends qa{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=qr.deserialize(t),r=ui.deserialize(t);return new pf(n,r)}},gf=class extends qa{constructor(t,n){super(),this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const n=ic.deserialize(t),r=hl.deserialize(t);return new gf(n,r)}},ar=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const n=t.deserializeStr();return new ar(n)}},Gn=class{static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return qs.load(t);case 1:return bi.load(t);case 2:return Ds.load(t);case 3:return Ls.load(t);case 4:return Hs.load(t);case 5:return yf.load(t);case 6:return aa.load(t);case 7:return zs.load(t);case 8:return ia.load(t);case 9:return sa.load(t);case 10:return oa.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${n}`)}}},qs=class extends Gn{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new qs}},bi=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new bi}},ia=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new ia}},sa=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new sa}},Ds=class extends Gn{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new Ds}},Ls=class extends Gn{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new Ls}},oa=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new oa}},Hs=class extends Gn{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new Hs}},yf=class extends Gn{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new yf}},aa=class extends Gn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const n=Gn.deserialize(t);return new aa(n)}},zs=class extends Gn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const n=$o.deserialize(t);return new zs(n)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===gn.fromHex("0x1").toHexString()}},$o=class{constructor(t,n,r,i){this.address=t,this.module_name=n,this.name=r,this.type_args=i}static fromString(t){if(t.includes("<"))throw new Error("Not implemented");const n=t.split("::");if(n.length!==3)throw new Error("Invalid struct tag string literal.");return new $o(gn.fromHex(n[0]),new ar(n[1]),new ar(n[2]),[])}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),Ir(this.type_args,t)}static deserialize(t){const n=gn.deserialize(t),r=ar.deserialize(t),i=ar.deserialize(t),s=jr(t,Gn);return new $o(n,r,i,s)}},ca=class{constructor(t,n,r,i,s,o,a){this.sender=t,this.sequence_number=n,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=s,this.expiration_timestamp_secs=o,this.chain_id=a}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const n=gn.deserialize(t),r=t.deserializeU64(),i=cc.deserialize(t),s=t.deserializeU64(),o=t.deserializeU64(),a=t.deserializeU64(),c=wl.deserialize(t);return new ca(n,r,i,s,o,a,c)}},oc=class{constructor(t,n,r){this.code=t,this.ty_args=n,this.args=r}serialize(t){t.serializeBytes(this.code),Ir(this.ty_args,t),Ir(this.args,t)}static deserialize(t){const n=t.deserializeBytes(),r=jr(t,Gn),i=jr(t,ti);return new oc(n,r,i)}},xs=class{constructor(t,n,r,i){this.module_name=t,this.function_name=n,this.ty_args=r,this.args=i}static natural(t,n,r,i){return new xs(Bs.fromStr(t),new ar(n),r,i)}static natual(t,n,r,i){return xs.natural(t,n,r,i)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),Ir(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(n=>{t.serializeBytes(n)})}static deserialize(t){const n=Bs.deserialize(t),r=ar.deserialize(t),i=jr(t,Gn),s=t.deserializeUleb128AsU32(),o=[];for(let c=0;c<s;c+=1)o.push(t.deserializeBytes());const a=o;return new xs(n,r,i,a)}},mf=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return new mf(xs.deserialize(t))}},wf=class{constructor(t,n){this.multisig_address=t,this.transaction_payload=n}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const n=gn.deserialize(t),r=t.deserializeBool();let i;return r&&(i=mf.deserialize(t)),new wf(n,i)}},e1=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const n=t.deserializeBytes();return new e1(n)}},Bs=class{constructor(t,n){this.address=t,this.name=n}static fromStr(t){const n=t.split("::");if(n.length!==2)throw new Error("Invalid module id.");return new Bs(gn.fromHex(new _t(n[0])),new ar(n[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const n=gn.deserialize(t),r=ar.deserialize(t);return new Bs(n,r)}},n6=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},r6=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},ac=class{constructor(t,n){this.raw_txn=t,this.authenticator=n}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const n=ca.deserialize(t),r=sc.deserialize(t);return new ac(n,r)}},t1=class{static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return yl.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${n}`)}}},yl=class extends t1{constructor(t,n){super(),this.raw_txn=t,this.secondary_signer_addresses=n}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),Ir(this.secondary_signer_addresses,t)}static load(t){const n=ca.deserialize(t),r=jr(t,gn);return new yl(n,r)}},cc=class{static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return uc.load(t);case 2:return ml.load(t);case 3:return _f.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},uc=class extends cc{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const n=oc.deserialize(t);return new uc(n)}},ml=class extends cc{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const n=xs.deserialize(t);return new ml(n)}},_f=class extends cc{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const n=wf.deserialize(t);return new _f(n)}},wl=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const n=t.deserializeU8();return new wl(n)}},ti=class{static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return _l.load(t);case 1:return No.load(t);case 2:return xl.load(t);case 3:return qo.load(t);case 4:return Do.load(t);case 5:return Al.load(t);case 6:return bl.load(t);case 7:return vl.load(t);case 8:return Sl.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${n}`)}}},_l=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const n=t.deserializeU8();return new _l(n)}},bl=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const n=t.deserializeU16();return new bl(n)}},vl=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const n=t.deserializeU32();return new vl(n)}},No=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const n=t.deserializeU64();return new No(n)}},xl=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const n=t.deserializeU128();return new xl(n)}},Sl=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const n=t.deserializeU256();return new Sl(n)}},qo=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const n=gn.deserialize(t);return new qo(n)}},Do=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const n=t.deserializeBytes();return new Do(n)}},Al=class extends ti{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const n=t.deserializeBool();return new Al(n)}},n1=class{getHashSalt(){const t=Uo.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return bf.load(t);default:throw new Error(`Unknown variant index for Transaction: ${n}`)}}},bf=class extends n1{constructor(t){super(),this.value=t}hash(){const t=Uo.create();return t.update(this.getHashSalt()),t.update(Si(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new bf(ac.deserialize(t))}},lc=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const n=t.deserializeStr();return new lc(n)}},dc=class{constructor(t,n){this.name=t,this.type_tag=n}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const n=t.deserializeStr(),r=Gn.deserialize(t);return new dc(n,r)}},Tl=class{static deserialize(t){const n=t.deserializeUleb128AsU32();switch(n){case 0:return El.load(t);case 1:return Lo.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},El=class extends Tl{constructor(t,n,r,i,s){super(),this.name=t,this.doc=n,this.code=r,this.ty_args=i,this.args=s}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),Ir(this.ty_args,t),Ir(this.args,t)}static load(t){const n=t.deserializeStr(),r=t.deserializeStr(),i=t.deserializeBytes(),s=jr(t,lc),o=jr(t,dc);return new El(n,r,i,s,o)}},Lo=class extends Tl{constructor(t,n,r,i,s){super(),this.name=t,this.module_name=n,this.doc=r,this.ty_args=i,this.args=s}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),Ir(this.ty_args,t),Ir(this.args,t)}static load(t){const n=t.deserializeStr(),r=Bs.deserialize(t),i=t.deserializeStr(),s=jr(t,lc),o=jr(t,dc);return new Lo(n,r,i,s,o)}},no=class{constructor(t){if(t.length!==no.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const n=t.toBytes(),r=new Uint8Array(n.length+1);r.set(n),r.set([no.MULTI_ED25519_SCHEME],n.length);const i=Uo.create();return i.update(r),new no(i.digest())}static fromEd25519PublicKey(t){const n=t.value,r=new Uint8Array(n.length+1);r.set(n),r.set([no.ED25519_SCHEME],n.length);const i=Uo.create();return i.update(r),new no(i.digest())}derivedAddress(){return _t.fromUint8Array(this.bytes)}},ks=no;ks.LENGTH=32;ks.MULTI_ED25519_SCHEME=1;ks.ED25519_SCHEME=0;ks.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var i6=class{constructor(t,n,r,i,s,o,a){this.accountAddress=t,this.moduleName=n,this.structName=r,this.sequenceNumber=i,this.originator=s,this.currentAuthKey=o,this.newPublicKey=a}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},cu=class{static fromAptosAccountObject(t){return new cu(_t.ensure(t.privateKeyHex).toUint8Array(),t.address)}static fromDerivePath(t,n){if(!cu.isValidPath(t))throw new Error("Invalid derivation path");const r=n.trim().split(/\s+/).map(s=>s.toLowerCase()).join(" "),{key:i}=Vy(t,my(ay(r)));return new cu(i)}constructor(t,n){t?this.signingKey=ts.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=ts.sign.keyPair(),this.accountAddress=_t.ensure(n||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new qr(this.signingKey.publicKey);return ks.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,n){const r=Si(gn.fromHex(t)),i=new Uint8Array([...r,...n,ks.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=Uo.create();return s.update(i),_t.fromUint8Array(s.digest())}pubKey(){return _t.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const n=ts.sign(t,this.signingKey.secretKey);return _t.fromUint8Array(n.slice(0,64))}signHexString(t){const n=_t.ensure(t).toUint8Array();return this.signBuffer(n)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:_t.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Ho=cu;Ho.isValidPath=e=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e);en([fl()],Ho.prototype,"authKey",1);function yi(e){return e instanceof Ho?e.address():_t.ensure(e)}var s6=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,o6=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,a6=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${s6}
${o6}`,c6=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,u6=`
    query getTokenActivities($idHash: String!) {
  token_activities(where: {token_data_id_hash: {_eq: $idHash}}) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,vf=class{constructor(t){this.endpoint=t}async queryIndexer(t){const{data:n}=await Yr.post(this.endpoint,t);if(n.errors)throw new Error(`Indexer data error ${JSON.stringify(n.errors,null," ")}`);return n.data}async getIndexerLedgerInfo(){const t={query:c6};return this.queryIndexer(t)}async getAccountNFTs(t,n){const r={query:a6,variables:{address:t,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit}};return this.queryIndexer(r)}async getTokenActivities(t){const n={query:u6,variables:{idHash:t}};return this.queryIndexer(n)}},r1={};dl(r1,{$AccountData:()=>A6,$AccountSignature:()=>T6,$AccountSignature_Ed25519Signature:()=>E6,$AccountSignature_MultiEd25519Signature:()=>I6,$Address:()=>B6,$AptosError:()=>k6,$AptosErrorCode:()=>C6,$Block:()=>R6,$BlockMetadataTransaction:()=>P6,$DecodedTableData:()=>U6,$DeleteModule:()=>M6,$DeleteResource:()=>$6,$DeleteTableItem:()=>N6,$DeletedTableData:()=>O6,$DirectWriteSet:()=>q6,$Ed25519Signature:()=>D6,$EncodeSubmissionRequest:()=>L6,$EntryFunctionId:()=>H6,$EntryFunctionPayload:()=>z6,$Event:()=>F6,$EventGuid:()=>j6,$GasEstimation:()=>G6,$GenesisPayload:()=>W6,$GenesisPayload_WriteSetPayload:()=>V6,$GenesisTransaction:()=>K6,$HashValue:()=>X6,$HealthCheckSuccess:()=>Z6,$HexEncodedBytes:()=>Y6,$IdentifierWrapper:()=>J6,$IndexResponse:()=>Q6,$ModuleBundlePayload:()=>ex,$MoveAbility:()=>tx,$MoveFunction:()=>nx,$MoveFunctionGenericTypeParam:()=>rx,$MoveFunctionVisibility:()=>ix,$MoveModule:()=>sx,$MoveModuleBytecode:()=>ox,$MoveModuleId:()=>ax,$MoveResource:()=>cx,$MoveScriptBytecode:()=>ux,$MoveStruct:()=>lx,$MoveStructField:()=>dx,$MoveStructGenericTypeParam:()=>fx,$MoveStructTag:()=>hx,$MoveStructValue:()=>px,$MoveType:()=>gx,$MoveValue:()=>yx,$MultiAgentSignature:()=>mx,$MultiEd25519Signature:()=>wx,$MultisigPayload:()=>_x,$MultisigTransactionPayload:()=>bx,$PendingTransaction:()=>vx,$RawTableItemRequest:()=>xx,$RoleType:()=>Sx,$ScriptPayload:()=>Ax,$ScriptWriteSet:()=>Tx,$StateCheckpointTransaction:()=>Ex,$StateKeyWrapper:()=>Ix,$SubmitTransactionRequest:()=>Bx,$TableItemRequest:()=>kx,$Transaction:()=>Cx,$TransactionPayload:()=>$x,$TransactionPayload_EntryFunctionPayload:()=>Nx,$TransactionPayload_ModuleBundlePayload:()=>qx,$TransactionPayload_MultisigPayload:()=>Dx,$TransactionPayload_ScriptPayload:()=>Lx,$TransactionSignature:()=>Fx,$TransactionSignature_Ed25519Signature:()=>jx,$TransactionSignature_MultiAgentSignature:()=>Gx,$TransactionSignature_MultiEd25519Signature:()=>Wx,$Transaction_BlockMetadataTransaction:()=>Rx,$Transaction_GenesisTransaction:()=>Px,$Transaction_PendingTransaction:()=>Ux,$Transaction_StateCheckpointTransaction:()=>Ox,$Transaction_UserTransaction:()=>Mx,$TransactionsBatchSingleSubmissionFailure:()=>Hx,$TransactionsBatchSubmissionResult:()=>zx,$U128:()=>Vx,$U256:()=>Kx,$U64:()=>Xx,$UserTransaction:()=>Zx,$VersionedEvent:()=>Yx,$ViewRequest:()=>Jx,$WriteModule:()=>Qx,$WriteResource:()=>e3,$WriteSet:()=>t3,$WriteSetChange:()=>i3,$WriteSetChange_DeleteModule:()=>s3,$WriteSetChange_DeleteResource:()=>o3,$WriteSetChange_DeleteTableItem:()=>a3,$WriteSetChange_WriteModule:()=>c3,$WriteSetChange_WriteResource:()=>u3,$WriteSetChange_WriteTableItem:()=>l3,$WriteSetPayload:()=>d3,$WriteSet_DirectWriteSet:()=>n3,$WriteSet_ScriptWriteSet:()=>r3,$WriteTableItem:()=>f3,AccountsService:()=>d1,ApiError:()=>Da,AptosErrorCode:()=>_1,AptosGeneratedClient:()=>w1,BaseHttpRequest:()=>i1,BlocksService:()=>f1,CancelError:()=>s1,CancelablePromise:()=>o1,EventsService:()=>h1,GeneralService:()=>p1,MoveFunctionVisibility:()=>b1,OpenAPI:()=>S6,RoleType:()=>v1,TablesService:()=>g1,TransactionsService:()=>y1,ViewService:()=>m1});var i1=class{constructor(t){this.config=t}},Da=class extends Error{constructor(t,n,r){super(r),this.name="ApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.body=n.body,this.request=t}},s1=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},o1=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((n,r)=>{this._resolve=n,this._reject=r;const i=a=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(c=this._resolve)==null||c.call(this,a))},s=a=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(c=this._reject)==null||c.call(this,a))},o=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(o,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(o,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(o,"isCancelled",{get:()=>this._isCancelled}),t(i,s,o)})}then(t,n){return this._promise.then(t,n)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const n of this._cancelHandlers)n()}catch(n){console.warn("Cancellation threw an error",n);return}this._cancelHandlers.length=0,(t=this._reject)==null||t.call(this,new s1("Request aborted"))}}get isCancelled(){return this._isCancelled}},a1=class{constructor(t=new Map){this.jar=t}setCookie(t,n){var r;const i=t.origin.toLowerCase();this.jar.has(i)||this.jar.set(i,[]);const s=a1.parse(n);this.jar.set(i,[...((r=this.jar.get(i))==null?void 0:r.filter(o=>o.name!==s.name))||[],s])}getCookies(t){var n;const r=t.origin.toLowerCase();return this.jar.get(r)?((n=this.jar.get(r))==null?void 0:n.filter(i=>!i.expires||i.expires>new Date))||[]:[]}static parse(t){if(typeof t!="string")throw new Error("argument str must be a string");const n=t.split(";").map(i=>i.trim());let r;if(n.length>0){const[i,s]=n[0].split("=");if(!i||!s)throw new Error("Invalid cookie");r={name:i,value:s}}else throw new Error("Invalid cookie");return n.slice(1).forEach(i=>{const[s,o]=i.split("=");if(!s.trim())throw new Error("Invalid cookie");const a=s.toLowerCase(),c=(o==null?void 0:o.charAt(0))==="'"||(o==null?void 0:o.charAt(0))==='"'?o==null?void 0:o.slice(1,-1):o;if(a==="expires"&&(r.expires=new Date(c)),a==="path"&&(r.path=c),a==="samesite"){if(c!=="Lax"&&c!=="None"&&c!=="Strict")throw new Error("Invalid cookie SameSite value");r.sameSite=c}a==="secure"&&(r.secure=!0)}),r}},c1=new a1;Yr.interceptors.response.use(e=>(Array.isArray(e.headers["set-cookie"])&&e.headers["set-cookie"].forEach(t=>{c1.setCookie(new URL(e.config.url),t)}),e));Yr.interceptors.request.use(function(e){const t=c1.getCookies(new URL(e.url));return(t==null?void 0:t.length)>0&&e.headers&&(e.headers.cookie=t.map(n=>`${n.name}=${n.value}`).join("; ")),e});var xf=e=>e!=null,Il=e=>typeof e=="string",$d=e=>Il(e)&&e!=="",u1=e=>typeof e=="object"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.arrayBuffer=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),l6=e=>e instanceof ll,d6=e=>e>=200&&e<300,f6=e=>btoa(e),h6=e=>{const t=[],n=(i,s)=>{t.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},r=(i,s)=>{xf(s)&&(Array.isArray(s)?s.forEach(o=>{r(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,a])=>{r(`${i}[${o}]`,a)}):n(i,s))};return Object.entries(e).forEach(([i,s])=>{r(i,s)}),t.length>0?`?${t.join("&")}`:""},p6=(e,t)=>{const n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(s,o)=>{var a;return(a=t.path)!=null&&a.hasOwnProperty(o)?n(String(t.path[o])):s}),i=`${e.BASE}${r}`;return t.query?`${i}${h6(t.query)}`:i},g6=e=>{if(e.formData){const t=new ll,n=(r,i)=>{Il(i)||u1(i)?t.append(r,i):t.append(r,JSON.stringify(i))};return Object.entries(e.formData).filter(([r,i])=>xf(i)).forEach(([r,i])=>{Array.isArray(i)?i.forEach(s=>n(r,s)):n(r,i)}),t}},Rc=async(e,t)=>typeof t=="function"?t(e):t,y6=async(e,t,n)=>{const r=await Rc(t,e.TOKEN),i=await Rc(t,e.USERNAME),s=await Rc(t,e.PASSWORD),o=await Rc(t,e.HEADERS),a=typeof(n==null?void 0:n.getHeaders)=="function"&&(n==null?void 0:n.getHeaders())||{},c=Object.entries({Accept:"application/json",...o,...t.headers,...a}).filter(([u,l])=>xf(l)).reduce((u,[l,d])=>({...u,[l]:String(d)}),{});if($d(r)&&(c.Authorization=`Bearer ${r}`),$d(i)&&$d(s)){const u=f6(`${i}:${s}`);c.Authorization=`Basic ${u}`}return t.body&&(t.mediaType?c["Content-Type"]=t.mediaType:u1(t.body)?c["Content-Type"]=t.body.type||"application/octet-stream":Il(t.body)?c["Content-Type"]="text/plain":l6(t.body)||(c["Content-Type"]="application/json")),c},m6=e=>{if(e.body)return e.body},w6=async(e,t,n,r,i,s,o)=>{const a=Yr.CancelToken.source(),c={url:n,headers:s,data:r??i,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(e.HEADERS||{}).filter(l=>l.toLowerCase()==="accept").map(l=>e.HEADERS[l]).includes("application/x-bcs")&&(c.responseType="arraybuffer"),o(()=>a.cancel("The user aborted a request."));try{return await Yr.request(c)}catch(l){const d=l;if(d.response)return d.response;throw l}},_6=(e,t)=>{if(t){const n=e.headers[t];if(Il(n))return n}},b6=e=>{if(e.status!==204)return e.data},v6=(e,t)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(r)throw new Da(e,t,r);if(!t.ok)throw new Da(e,t,"Generic Error")},x6=(e,t)=>new o1(async(n,r,i)=>{try{const s=p6(e,t),o=g6(t),a=m6(t),c=await y6(e,t,o);if(!i.isCancelled){const u=await w6(e,t,s,a,o,c,i),l=b6(u),d=_6(u,t.responseHeader),h={url:s,ok:d6(u.status),status:u.status,statusText:u.statusText,body:d??l};v6(t,h);const y=h.body;try{y.__headers=u.headers}catch{}n(y)}}catch(s){r(s)}}),l1=class extends i1{constructor(t){super(t)}request(t){return x6(this.config,t)}},d1=class{constructor(t){this.httpRequest=t}getAccount(t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:n}})}getAccountResources(t,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:n,start:r,limit:i}})}getAccountModules(t,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:n,start:r,limit:i}})}getAccountResource(t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:n},query:{ledger_version:r}})}getAccountModule(t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:n},query:{ledger_version:r}})}},f1=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,n){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:n}})}getBlockByVersion(t,n){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:n}})}},h1=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:n},query:{start:r,limit:i}})}getEventsByEventHandle(t,n,r,i,s){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:n,field_name:r},query:{start:i,limit:s}})}},p1=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},g1=class{constructor(t){this.httpRequest=t}getTableItem(t,n,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:r},body:n,mediaType:"application/json"})}getRawTableItem(t,n,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:r},body:n,mediaType:"application/json"})}},y1=class{constructor(t){this.httpRequest=t}getTransactions(t,n){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:n}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:n,limit:r}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,n,r,i){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:n,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:i},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},m1=class{constructor(t){this.httpRequest=t}view(t,n){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:n},body:t,mediaType:"application/json"})}},w1=class{constructor(t,n=l1){var r,i,s,o;this.request=new n({BASE:(r=t==null?void 0:t.BASE)!=null?r:"/v1",VERSION:(i=t==null?void 0:t.VERSION)!=null?i:"1.2.0",WITH_CREDENTIALS:(s=t==null?void 0:t.WITH_CREDENTIALS)!=null?s:!1,CREDENTIALS:(o=t==null?void 0:t.CREDENTIALS)!=null?o:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH}),this.accounts=new d1(this.request),this.blocks=new f1(this.request),this.events=new h1(this.request),this.general=new p1(this.request),this.tables=new g1(this.request),this.transactions=new y1(this.request),this.view=new m1(this.request)}},S6={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},_1=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(_1||{}),b1=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(b1||{}),v1=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(v1||{}),A6={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},T6={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},E6={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},I6={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},B6={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},k6={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},C6={type:"Enum"},R6={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},P6={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},U6={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},O6={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},M6={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},$6={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},N6={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},q6={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},D6={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},L6={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},H6={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},z6={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},F6={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},j6={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},G6={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},W6={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},V6={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},K6={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},X6={type:"string"},Z6={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},Y6={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},J6={type:"string"},Q6={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},ex={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},tx={type:"string"},nx={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},rx={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},ix={type:"Enum"},sx={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},ox={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},ax={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},cx={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},ux={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},lx={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},dx={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},fx={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},hx={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},px={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},gx={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},yx={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},mx={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},wx={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},_x={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},bx={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},vx={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},xx={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},Sx={type:"Enum"},Ax={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Tx={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},Ex={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Ix={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Bx={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},kx={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},Cx={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},Rx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},Px={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},Ux={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},Ox={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},Mx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},$x={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Nx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},qx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Dx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Lx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},Hx={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},zx={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},Fx={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},jx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Gx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},Wx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Vx={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},Kx={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},Xx={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},Zx={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Yx={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Jx={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Qx={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},e3={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},t3={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},n3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},r3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},i3={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},s3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},o3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},a3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},c3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},u3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},l3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},d3={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},f3={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},h3=new $o(gn.fromHex("0x1"),new ar("string"),new ar("String"),[]);function Bl(e,t,n){if(!(t!=null&&t.includes(typeof e)))throw new Error(n||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function hs(e){throw new Error(e)}function sp(e){return!!e.match(/\s/)}function op(e){return!!e.match(/[_A-Za-z0-9]/g)}function p3(e,t){const n=e[t];if(n===":"){if(e.slice(t,t+2)==="::")return[["COLON","::"],2];hs("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(sp(n)){let r="";for(let i=t;i<e.length;i+=1){const s=e[i];if(sp(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(op(n)){let r="";for(let i=t;i<e.length;i+=1){const s=e[i];if(op(s))r=`${r}${s}`;else break}return[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function g3(e){let t=0;const n=[];for(;t<e.length;){const[r,i]=p3(e,t);r[0]!=="SPACE"&&n.push(r),t+=i}return n}var kl=class{constructor(t){this.tokens=g3(t)}consume(t){const n=this.tokens.shift();(!n||n[1]!==t)&&hs("Invalid type tag.")}parseCommaList(t,n){const r=[];for(this.tokens.length<=0&&hs("Invalid type tag.");this.tokens[0][1]!==t&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&n)));)this.tokens.length<=0&&hs("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&hs("Invalid type tag.");const[t,n]=this.tokens.shift();if(n==="u8")return new bi;if(n==="u16")return new ia;if(n==="u32")return new sa;if(n==="u64")return new Ds;if(n==="u128")return new Ls;if(n==="u256")return new oa;if(n==="bool")return new qs;if(n==="address")return new Hs;if(n==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new aa(r)}if(t==="IDENT"&&(n.startsWith("0x")||n.startsWith("0X"))){const r=n;this.consume("::");const[i,s]=this.tokens.shift();i!=="IDENT"&&hs("Invalid type tag."),this.consume("::");const[o,a]=this.tokens.shift();o!=="IDENT"&&hs("Invalid type tag.");let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));const u=new $o(gn.fromHex(r),new ar(s),new ar(a),c);return new zs(u)}throw new Error("Invalid type tag.")}};function x1(e){if(Bl(e,["boolean","string"]),typeof e=="boolean")return e;if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean string.")}function bo(e){if(Bl(e,["number","string"]),typeof e=="number")return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function vo(e){return Bl(e,["number","bigint","string"]),BigInt(e)}function Sf(e,t,n){if(t instanceof qs){n.serializeBool(x1(e));return}if(t instanceof bi){n.serializeU8(bo(e));return}if(t instanceof ia){n.serializeU16(bo(e));return}if(t instanceof sa){n.serializeU32(bo(e));return}if(t instanceof Ds){n.serializeU64(vo(e));return}if(t instanceof Ls){n.serializeU128(vo(e));return}if(t instanceof oa){n.serializeU256(vo(e));return}if(t instanceof Hs){let r;if(typeof e=="string"||e instanceof _t)r=gn.fromHex(e);else if(e instanceof gn)r=e;else throw new Error("Invalid account address.");r.serialize(n);return}if(t instanceof aa){if(t.value instanceof bi){if(e instanceof Uint8Array){n.serializeBytes(e);return}if(typeof e=="string"){n.serializeStr(e);return}}if(!Array.isArray(e))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(e.length),e.forEach(r=>Sf(r,t.value,n));return}if(t instanceof zs){const{address:r,module_name:i,name:s}=t.value;if(`${_t.fromUint8Array(r.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Bl(e,["string"]),n.serializeStr(e);return}throw new Error("Unsupported arg type.")}function y3(e,t){if(t instanceof qs)return new Al(x1(e));if(t instanceof bi)return new _l(bo(e));if(t instanceof ia)return new bl(bo(e));if(t instanceof sa)return new vl(bo(e));if(t instanceof Ds)return new No(vo(e));if(t instanceof Ls)return new xl(vo(e));if(t instanceof oa)return new Sl(vo(e));if(t instanceof Hs){let n;if(typeof e=="string"||e instanceof _t)n=gn.fromHex(e);else if(e instanceof gn)n=e;else throw new Error("Invalid account address.");return new qo(n)}if(t instanceof aa&&t.value instanceof bi){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new Do(e)}throw new Error("Unknown type for TransactionArgument.")}var m3="APTOS::RawTransaction",w3="APTOS::RawTransactionWithData",Cs=class{constructor(t,n){this.rawTxnBuilder=n,this.signingFunction=t}build(t,n,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,n,r)}static getSigningMessage(t){const n=Uo.create();if(t instanceof ca)n.update(m3);else if(t instanceof yl)n.update(w3);else throw new Error("Unknown transaction type.");const r=n.digest(),i=Si(t),s=new Uint8Array(r.length+i.length);return s.set(r),s.set(i,r.length),s}},uu=class extends Cs{constructor(t,n,r){super(t,r),this.publicKey=n}rawToSigned(t){const n=Cs.getSigningMessage(t),r=this.signingFunction(n),i=new pl(new qr(this.publicKey),r);return new ac(t,i)}sign(t){return Si(this.rawToSigned(t))}},S1=class extends Cs{constructor(t,n){super(t),this.publicKey=n}rawToSigned(t){const n=Cs.getSigningMessage(t),r=this.signingFunction(n),i=new gl(this.publicKey,r);return new ac(t,i)}sign(t){return Si(this.rawToSigned(t))}},Su=class{constructor(t,n){this.abiMap=new Map,t.forEach(r=>{const i=new ff(r),s=Tl.deserialize(i);let o;if(s instanceof Lo){const a=s,{address:c,name:u}=a.module_name;o=`${_t.fromUint8Array(c.address).toShortString()}::${u.value}::${a.name}`}else o=s.name;if(this.abiMap.has(o))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(o,s)}),this.builderConfig={maxGasAmount:BigInt(Ky),expSecFromNow:Xy,...n}}static toBCSArgs(t,n){if(t.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>{const s=new bn;return Sf(r,t[i].type_tag,s),s.getBytes()})}static toTransactionArguments(t,n){if(t.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>y3(r,t[i].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,n,r){const i=n.map(a=>new kl(a).parseTypeTag());let s;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const o=this.abiMap.get(t);if(o instanceof Lo){const a=o,c=Su.toBCSArgs(a.args,r);s=new ml(new xs(a.module_name,new ar(a.name),i,c))}else if(o instanceof El){const a=o,c=Su.toTransactionArguments(a.args,r);s=new uc(new oc(a.code,i,c))}else throw new Error("Unknown ABI format.");return s}build(t,n,r){const{sender:i,sequenceNumber:s,gasUnitPrice:o,maxGasAmount:a,expSecFromNow:c,chainId:u}=this.builderConfig;if(!o)throw new Error("No gasUnitPrice provided.");const l=i instanceof gn?i:gn.fromHex(i),d=BigInt(Math.floor(Date.now()/1e3)+Number(c)),h=this.buildTransactionPayload(t,n,r);if(h)return new ca(l,BigInt(s),h,BigInt(a),BigInt(o),d,new wl(Number(u)));throw new Error("Invalid ABI.")}},sr=class{constructor(t,n){this.aptosClient=t,this.builderConfig=n}async fetchABI(t){const r=(await this.aptosClient.getAccountModules(t)).map(s=>s.abi).flatMap(s=>s.exposed_functions.filter(o=>o.is_entry).map(o=>({fullName:`${s.address}::${s.name}::${o.name}`,...o}))),i=new Map;return r.forEach(s=>{i.set(s.fullName,s)}),i}async build(t,n,r){if(t=(_=>_.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[o,a]=t.split("::"),c=await this.fetchABI(o);if(!c.has(t))throw new Error(`${t} doesn't exist.`);const u=c.get(t),d=u.params.filter(_=>_!=="signer"&&_!=="&signer").map((_,S)=>new dc(`var${S}`,new kl(_).parseTypeTag())),h=new Lo(u.name,Bs.fromStr(`${o}::${a}`),"",u.generic_type_params.map((_,S)=>new lc(`${S}`)),d),{sender:y,...b}=this.builderConfig,A=y instanceof gn?_t.fromUint8Array(y.address):y,[{sequence_number:I},U,{gas_estimate:B}]=await Promise.all([b!=null&&b.sequenceNumber?Promise.resolve({sequence_number:b==null?void 0:b.sequenceNumber}):this.aptosClient.getAccount(A),b!=null&&b.chainId?Promise.resolve(b==null?void 0:b.chainId):this.aptosClient.getChainId(),b!=null&&b.gasUnitPrice?Promise.resolve({gas_estimate:b==null?void 0:b.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Su([Si(h)],{sender:y,sequenceNumber:I,chainId:U,gasUnitPrice:BigInt(B),...b}).build(t,n,r)}};en([Hv(10*60*1e3)],sr.prototype,"fetchABI",1);var Ia=class{constructor(t,n,r=!1){if(!t)throw new Error("Node URL cannot be empty.");const i=n==null?{}:{...n};r?this.nodeUrl=t:this.nodeUrl=Lv(t),i.BASE=this.nodeUrl,(n==null?void 0:n.WITH_CREDENTIALS)===!1?i.WITH_CREDENTIALS=!1:i.WITH_CREDENTIALS=!0,this.client=new w1(i)}async getAccount(t){return this.client.accounts.getAccount(_t.ensure(t).hex())}async getAccountTransactions(t,n){var r;return this.client.transactions.getAccountTransactions(_t.ensure(t).hex(),(r=n==null?void 0:n.start)==null?void 0:r.toString(),n==null?void 0:n.limit)}async getAccountModules(t,n){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await ip(r,t,1e3,n)}async getAccountModule(t,n,r){var i;return this.client.accounts.getAccountModule(_t.ensure(t).hex(),n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}async getAccountResources(t,n){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await ip(r,t,9999,n)}async getAccountResource(t,n,r){var i;return this.client.accounts.getAccountResource(_t.ensure(t).hex(),n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}static generateBCSTransaction(t,n){return new uu(i=>{const s=t.signBuffer(i);return new Wt.Ed25519Signature(s.toUint8Array())},t.pubKey().toUint8Array()).sign(n)}static generateBCSSimulation(t,n){return new uu(i=>{const s=new Uint8Array(64);return new Wt.Ed25519Signature(s)},t.pubKey().toUint8Array()).sign(n)}async generateTransaction(t,n,r){const i={sender:t};if(r!=null&&r.sequence_number&&(i.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(i.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(i.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const o=Number.parseInt(r.expiration_timestamp_secs,10);i.expSecFromNow=o-Math.floor(Date.now()/1e3)}return new sr(this,i).build(n.function,n.type_arguments,n.arguments)}async signTransaction(t,n){return Promise.resolve(Ia.generateBCSTransaction(t,n))}async getEventsByCreationNumber(t,n,r){var i;return this.client.events.getEventsByCreationNumber(_t.ensure(t).hex(),n.toString(),(i=r==null?void 0:r.start)==null?void 0:i.toString(),r==null?void 0:r.limit)}async getEventsByEventHandle(t,n,r,i){var s;return this.client.events.getEventsByEventHandle(_t.ensure(t).hex(),n,r,(s=i==null?void 0:i.start)==null?void 0:s.toString(),i==null?void 0:i.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,n,r){let i;return t instanceof Ho?i=Ia.generateBCSSimulation(t,n):t instanceof ic?i=new S1(()=>{const{threshold:o}=t,a=[],c=[];for(let l=0;l<o;l+=1)a.push(l),c.push(new Wt.Ed25519Signature(new Uint8Array(64)));const u=Wt.MultiEd25519Signature.createBitmap(a);return new Wt.MultiEd25519Signature(c,u)},t).sign(n):i=new uu(()=>{const o=new Uint8Array(64);return new Wt.Ed25519Signature(o)},t.toBytes()).sign(n),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,n){var r,i,s;const o={estimate_gas_unit_price:(r=n==null?void 0:n.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(i=n==null?void 0:n.estimateMaxGasAmount)!=null?i:!1,estimate_prioritized_gas_unit_price:(s=n==null?void 0:n.estimatePrioritizedGasUnitPrice)!=null?s:!1};return this.client.request.request({url:"/transactions/simulate",query:o,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var n;return this.client.transactions.getTransactions((n=t==null?void 0:t.start)==null?void 0:n.toString(),t==null?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return(await this.client.transactions.getTransactionByHash(t)).type==="pending_transaction"}catch(n){if((n==null?void 0:n.status)===404)return!0;throw n}}async waitForTransactionWithResult(t,n){var r,i;const s=(r=n==null?void 0:n.timeoutSecs)!=null?r:Zy,o=(i=n==null?void 0:n.checkSuccess)!=null?i:!1;let a=!0,c=0,u;for(;a&&!(c>=s);){try{if(u=await this.client.transactions.getTransactionByHash(t),a=u.type==="pending_transaction",!a)break}catch(l){const d=l instanceof Da,h=d&&l.status!==404&&l.status>=400&&l.status<500;if(!d||h)throw l}await Dv(1e3),c+=1}if(u===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new T1(`Waiting for transaction ${t} timed out after ${s} seconds`,u);if(!o)return u;if(!(u!=null&&u.success))throw new E1(`Transaction ${t} committed to the blockchain but execution failed`,u);return u}async waitForTransaction(t,n){await this.waitForTransactionWithResult(t,n)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,n,r){var i;return await this.client.tables.getTableItem(t,n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}async generateRawTransaction(t,n,r){const[{sequence_number:i},s,{gas_estimate:o}]=await Promise.all([this.getAccount(t),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:c,expireTimestamp:u}={maxGasAmount:BigInt(Ky),gasUnitPrice:BigInt(o),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+Xy),...r};return new Wt.RawTransaction(Wt.AccountAddress.fromHex(t),BigInt(i),n,a,c,u,new Wt.ChainId(s))}async generateSignSubmitTransaction(t,n,r){const i=await this.generateRawTransaction(t.address(),n,r),s=Ia.generateBCSTransaction(t,i);return(await this.submitSignedBCSTransaction(s)).hash}async publishPackage(t,n,r,i){const s=new bn;Ir(r,s);const o=new Wt.TransactionPayloadEntryFunction(Wt.EntryFunction.natural("0x1::code","publish_package_txn",[],[to(n),s.getBytes()]));return this.generateSignSubmitTransaction(t,o,i)}async generateSignSubmitWaitForTransaction(t,n,r){const i=await this.generateSignSubmitTransaction(t,n,r);return this.waitForTransactionWithResult(i,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const n=`0x1::coin::CoinStore<${p0}>`,[{gas_estimate:r},i]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),s=i.find(a=>a.type===n);return BigInt(s.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(t,n,r){const{sequence_number:i,authentication_key:s}=await this.getAccount(t.address()),o=new Ho(n),a=new Wt.RotationProofChallenge(Wt.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),Wt.AccountAddress.fromHex(t.address()),new Wt.AccountAddress(new _t(s).toUint8Array()),o.pubKey().toUint8Array()),c=_t.fromUint8Array(Si(a)),u=t.signHexString(c),l=o.signHexString(c),d=new Wt.TransactionPayloadEntryFunction(Wt.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[g0(0),to(t.pubKey().toUint8Array()),g0(0),to(o.pubKey().toUint8Array()),to(u.toUint8Array()),to(l.toUint8Array())])),h=await this.generateRawTransaction(t.address(),d,r),y=Ia.generateBCSTransaction(t,h);return this.submitSignedBCSTransaction(y)}async lookupOriginalAddress(t){const n=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=n.data,i=await this.getTableItem(r,{key_type:"address",value_type:"address",key:_t.ensure(t).hex()});return new _t(i)}async getBlockByHeight(t,n){return this.client.blocks.getBlockByHeight(t,n)}async getBlockByVersion(t,n){return this.client.blocks.getBlockByVersion(t,n)}async view(t,n){return this.client.view.view(t,n)}clearCache(t){zv(t)}},Ot=Ia;en([Tn],Ot.prototype,"getAccount",1);en([Tn],Ot.prototype,"getAccountTransactions",1);en([Tn],Ot.prototype,"getAccountModules",1);en([Tn],Ot.prototype,"getAccountModule",1);en([Tn],Ot.prototype,"getAccountResources",1);en([Tn],Ot.prototype,"getAccountResource",1);en([Tn],Ot.prototype,"getEventsByCreationNumber",1);en([Tn],Ot.prototype,"getEventsByEventHandle",1);en([Tn],Ot.prototype,"submitSignedBCSTransaction",1);en([Tn],Ot.prototype,"submitBCSSimulation",1);en([Tn],Ot.prototype,"getTransactions",1);en([Tn],Ot.prototype,"getTransactionByHash",1);en([Tn],Ot.prototype,"getTransactionByVersion",1);en([Tn],Ot.prototype,"getLedgerInfo",1);en([fl()],Ot.prototype,"getChainId",1);en([Tn],Ot.prototype,"getTableItem",1);en([Tn,fl({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Ot.prototype,"estimateGasPrice",1);en([Tn],Ot.prototype,"estimateMaxGasAmount",1);en([Tn],Ot.prototype,"getBlockByHeight",1);en([Tn],Ot.prototype,"getBlockByVersion",1);en([Tn],Ot.prototype,"view",1);var A1=class extends Error{constructor(t,n,r,i){super(n),this.status=t,this.message=n,this.errorCode=r,this.vmErrorCode=i}},T1=class extends Error{constructor(t,n){super(t),this.lastSubmittedTransaction=n}},E1=class extends Error{constructor(t,n){super(t),this.transaction=n}};function Tn(e,t,n){const r=n.value;return n.value=async function(...s){var o,a;try{return await r.apply(this,[...s])}catch(c){throw c instanceof Da?new A1(c.status,JSON.stringify({message:c.message,...c.body}),(o=c.body)==null?void 0:o.error_code,(a=c.body)==null?void 0:a.vm_error_code):c}},n}var Af=class{constructor(t,n,r=!1){let i=null,s=null;if(typeof t=="object"&&_3(t)?(i=t.fullnodeUrl,s=t.indexerUrl):(i=jv[t],s=Fv[t]),!i||!s)throw new Error("network is not provided");this.aptosClient=new Ot(i,n,r),this.indexerClient=new vf(s)}};function I1(e,t,n){Object.getOwnPropertyNames(t.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t.prototype,r);i&&(i.value=function(...s){return this[n][r](...s)},Object.defineProperty(e.prototype,r,i))})}I1(Af,Ot,"aptosClient");I1(Af,vf,"indexerClient");function _3(e){return e.fullnodeUrl!==void 0&&typeof e.fullnodeUrl=="string"&&e.indexerUrl!==void 0&&typeof e.indexerUrl=="string"}var b3="a11ceb0b0500000006010004020408030c0a05161d073339086c400000010100020700010307000104030100010504020007060c0508000800030503010801000405080008000304060c0801050306737472696e6705746f6b656e06537472696e6707546f6b656e4964136372656174655f746f6b656e5f69645f726177087472616e73666572000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000010c0b010b020b030b0411000c070b000b070b050b06110102",B1=class{constructor(t,n){this.type=t,this.value=n}},Tf=class{constructor(){this.data={}}setProperty(t,n){this.data[t]=n}};function k1(e){let t;return e==="string"||e==="String"?t=new zs(h3):t=new kl(e).parseTypeTag(),t}function C1(e,t){if(e.length!==t.length)throw new Error("Length of property values and types not match");const n=new Array;return t.forEach((r,i)=>{try{const s=k1(r),o=new bn;Sf(e[i],s,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(e[i]))}}),n}function Ef(e){const t=e.map.data,n=new Tf;return t.forEach(r=>{const{key:i}=r,s=r.value.value,o=r.value.type,a=k1(o),c=R1(a,s),u=new B1(o,c);n.setProperty(i,u)}),n}function R1(e,t){const n=new ff(new _t(t).toUint8Array());let r="";return e instanceof bi?r=n.deserializeU8().toString():e instanceof Ds?r=n.deserializeU64().toString():e instanceof Ls?r=n.deserializeU128().toString():e instanceof qs?r=n.deserializeBool()?"true":"false":e instanceof Hs?r=_t.fromUint8Array(n.deserializeFixedBytes(32)).hex():e instanceof zs&&e.isStringTypeTag()?r=n.deserializeStr():r=t,r}var P1={};dl(P1,{PropertyMap:()=>Tf,PropertyValue:()=>B1,Token:()=>O1,TokenData:()=>U1});var U1=class{constructor(t,n,r,i,s,o,a,c){this.collection=t,this.description=n,this.name=r,this.maximum=i,this.supply=s,this.uri=o,this.default_properties=Ef(a),this.mutability_config=c}},O1=class{constructor(t,n,r){this.id=t,this.amount=n,this.token_properties=Ef(r)}},v3=class{constructor(t){this.aptosClient=t}async createCollection(t,n,r,i,s=Pa,o){const c=await new sr(this.aptosClient,{sender:t.address(),...o}).build("0x3::token::create_collection_script",[],[n,r,i,s,[!1,!1,!1]]),u=Ot.generateBCSTransaction(t,c);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async createToken(t,n,r,i,s,o,a=Pa,c=t.address(),u=0,l=0,d=[],h=[],y=[],b){const I=await new sr(this.aptosClient,{sender:t.address(),...b}).build("0x3::token::create_token_script",[],[n,r,i,s,a,o,c,u,l,[!1,!1,!1,!1,!1],d,C1(h,y),y]),U=Ot.generateBCSTransaction(t,I);return(await this.aptosClient.submitSignedBCSTransaction(U)).hash}async createTokenWithMutabilityConfig(t,n,r,i,s,o,a=Pa,c=t.address(),u=0,l=0,d=[],h=[],y=[],b=[!1,!1,!1,!1,!1],A){const U=await new sr(this.aptosClient,{sender:t.address(),...A}).build("0x3::token::create_token_script",[],[n,r,i,s,a,o,c,u,l,b,d,h,y]),B=Ot.generateBCSTransaction(t,U);return(await this.aptosClient.submitSignedBCSTransaction(B)).hash}async offerToken(t,n,r,i,s,o,a=0,c){const l=await new sr(this.aptosClient,{sender:t.address(),...c}).build("0x3::token_transfers::offer_script",[],[n,r,i,s,a,o]),d=Ot.generateBCSTransaction(t,l);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async claimToken(t,n,r,i,s,o=0,a){const u=await new sr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::claim_script",[],[n,r,i,s,o]),l=Ot.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async cancelTokenOffer(t,n,r,i,s,o=0,a){const u=await new sr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[n,r,i,s,o]),l=Ot.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async directTransferToken(t,n,r,i,s,o,a=0,c){const l=await new sr(this.aptosClient,{sender:t.address(),...c}).build("0x3::token::direct_transfer_script",[],[r,i,s,a,o]),d=new Wt.MultiAgentRawTransaction(l,[Wt.AccountAddress.fromHex(n.address())]),h=new Wt.Ed25519Signature(t.signBuffer(Cs.getSigningMessage(d)).toUint8Array()),y=new Wt.AccountAuthenticatorEd25519(new Wt.Ed25519PublicKey(t.signingKey.publicKey),h),b=new Wt.Ed25519Signature(n.signBuffer(Cs.getSigningMessage(d)).toUint8Array()),A=new Wt.AccountAuthenticatorEd25519(new Wt.Ed25519PublicKey(n.signingKey.publicKey),b),I=new Wt.TransactionAuthenticatorMultiAgent(y,[Wt.AccountAddress.fromHex(n.address())],[A]),U=Si(new Wt.SignedTransaction(l,I));return(await this.aptosClient.submitSignedBCSTransaction(U)).hash}async optInTokenTransfer(t,n,r){const s=await new sr(this.aptosClient,{sender:t.address(),...r}).build("0x3::token::opt_in_direct_transfer",[],[n]),o=Ot.generateBCSTransaction(t,s);return(await this.aptosClient.submitSignedBCSTransaction(o)).hash}async transferWithOptIn(t,n,r,i,s,o,a,c){const u=new uc(new oc(new _t(b3).toUint8Array(),[],[new qo(Wt.AccountAddress.fromHex(n)),new Do(new TextEncoder().encode(r)),new Do(new TextEncoder().encode(i)),new No(BigInt(s)),new qo(Wt.AccountAddress.fromHex(o)),new No(BigInt(a))]));return this.aptosClient.generateSignSubmitTransaction(t,u,c)}async burnByCreator(t,n,r,i,s,o,a){const u=await new sr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn_by_creator",[],[n,r,i,s,o]),l=Ot.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async burnByOwner(t,n,r,i,s,o,a){const u=await new sr(this.aptosClient,{sender:t.address(),...a}).build("0x3::token::burn",[],[n,r,i,s,o]),l=Ot.generateBCSTransaction(t,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async mutateTokenProperties(t,n,r,i,s,o,a,c,u,l,d){const y=await new sr(this.aptosClient,{sender:t.address(),...d}).build("0x3::token::mutate_token_properties",[],[n,r,i,s,o,a,c,u,l]),b=Ot.generateBCSTransaction(t,y);return(await this.aptosClient.submitSignedBCSTransaction(b)).hash}async getCollectionData(t,n){const i=(await this.aptosClient.getAccountResources(t)).find(c=>c.type==="0x3::token::Collections"),{handle:s}=i.data.collection_data,o={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:n};return await this.aptosClient.getTableItem(s,o)}async getTokenData(t,n,r){const i=t instanceof _t?t.hex():t,s=await this.aptosClient.getAccountResource(i,"0x3::token::Collections"),{handle:o}=s.data.token_data,c={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:i,collection:n,name:r}},u=await this.aptosClient.getTableItem(o,c);return new U1(u.collection,u.description,u.name,u.maximum,u.supply,u.uri,u.default_properties,u.mutability_config)}async getToken(t,n,r,i="0"){const s={creator:t instanceof _t?t.hex():t,collection:n,name:r};return this.getTokenForAccount(t,{token_data_id:s,property_version:i})}async getTokenForAccount(t,n){const r=await this.aptosClient.getAccountResource(t instanceof _t?t.hex():t,"0x3::token::TokenStore"),{handle:i}=r.data.tokens,s={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:n};try{const o=await this.aptosClient.getTableItem(i,s);return new O1(o.id,o.amount,o.token_properties)}catch(o){return(o==null?void 0:o.status)===404?{id:n,amount:"0",token_properties:new Tf}:o}}},x3=class{constructor(e){this.aptosClient=e}async transfer(e,t,n,r){var i;const s=(i=r==null?void 0:r.coinType)!=null?i:p0,o=r!=null&&r.createReceiverIfMissing?"0x1::aptos_account::transfer":"0x1::coin::transfer",a=r!=null&&r.createReceiverIfMissing?[]:[s],c=yi(t),l=await new sr(this.aptosClient,{sender:e.address(),...r}).build(o,a,[c,n]),d=Ot.generateBCSTransaction(e,l);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async checkBalance(e,t){var n;const i=`0x1::coin::CoinStore<${(n=t==null?void 0:t.coinType)!=null?n:p0}>`,s=yi(e),o=await this.aptosClient.getAccountResource(s,i);return BigInt(o.data.coin.value)}},S3=class extends Ot{constructor(e,t,n){var r,i,s;if(super(e,n),!t)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new l1({BASE:t,VERSION:(r=n==null?void 0:n.VERSION)!=null?r:"0.1.0",WITH_CREDENTIALS:(i=n==null?void 0:n.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=n==null?void 0:n.CREDENTIALS)!=null?s:"include",TOKEN:n==null?void 0:n.TOKEN,USERNAME:n==null?void 0:n.USERNAME,PASSWORD:n==null?void 0:n.PASSWORD,HEADERS:n==null?void 0:n.HEADERS,ENCODE_PATH:n==null?void 0:n.ENCODE_PATH})}async fundAccount(e,t,n=Zy){const r=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:_t.ensure(e).noPrefix(),amount:t}}),i=[];for(let s=0;s<r.length;s+=1){const o=r[s];i.push(this.waitForTransaction(o,{timeoutSecs:n}))}return await Promise.all(i),r}};const LU=Object.freeze(Object.defineProperty({__proto__:null,ApiError:A1,AptosAccount:Ho,AptosClient:Ot,BCS:Jy,CoinClient:x3,FailedTransactionError:E1,FaucetClient:S3,HexString:_t,IndexerClient:vf,Network:Yy,Provider:Af,TokenClient:v3,TokenTypes:P1,TransactionBuilder:Cs,TransactionBuilderABI:Su,TransactionBuilderEd25519:uu,TransactionBuilderMultiEd25519:S1,TransactionBuilderRemoteABI:sr,TxnBuilderTypes:Wt,TypeTagParser:kl,Types:r1,WaitForTransactionError:T1,derivePath:Vy,deserializePropertyMap:Ef,deserializeValueBasedOnTypeTag:R1,getAddressFromAccountOrAddress:yi,getPropertyValueRaw:C1},Symbol.toStringTag,{value:"Module"}));var vr={},$n={};Object.defineProperty($n,"__esModule",{value:!0});$n.output=$n.exists=$n.hash=$n.bytes=$n.bool=$n.number=void 0;function Au(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}$n.number=Au;function M1(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}$n.bool=M1;function If(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}$n.bytes=If;function $1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Au(e.outputLen),Au(e.blockLen)}$n.hash=$1;function N1(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}$n.exists=N1;function q1(e,t){If(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}$n.output=q1;const A3={number:Au,bool:M1,bytes:If,hash:$1,exists:N1,output:q1};$n.default=A3;var zo={},D1={},Fs={},Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.crypto=void 0;Cl.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=Cl,n=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);e.u8=n;const r=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));e.u32=r;const i=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);e.createView=i;const s=(_,S)=>_<<32-S|_>>>S;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(_,S)=>S.toString(16).padStart(2,"0"));function a(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let S="";for(let $=0;$<_.length;$++)S+=o[_[$]];return S}e.bytesToHex=a;function c(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const S=new Uint8Array(_.length/2);for(let $=0;$<S.length;$++){const F=$*2,W=_.slice(F,F+2),Y=Number.parseInt(W,16);if(Number.isNaN(Y)||Y<0)throw new Error("Invalid byte sequence");S[$]=Y}return S}e.hexToBytes=c;const u=async()=>{};e.nextTick=u;async function l(_,S,$){let F=Date.now();for(let W=0;W<_;W++){$(W);const Y=Date.now()-F;Y>=0&&Y<S||(await(0,e.nextTick)(),F+=Y)}}e.asyncLoop=l;function d(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}e.utf8ToBytes=d;function h(_){if(typeof _=="string"&&(_=d(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}e.toBytes=h;function y(..._){if(!_.every(F=>F instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const S=_.reduce((F,W)=>F+W.length,0),$=new Uint8Array(S);for(let F=0,W=0;F<_.length;F++){const Y=_[F];$.set(Y,W),W+=Y.length}return $}e.concatBytes=y;class b{clone(){return this._cloneInto()}}e.Hash=b;const A=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function I(_,S){if(S!==void 0&&(typeof S!="object"||!A(S)))throw new TypeError("Options should be object or undefined");return Object.assign(_,S)}e.checkOpts=I;function U(_){const S=F=>_().update(h(F)).digest(),$=_();return S.outputLen=$.outputLen,S.blockLen=$.blockLen,S.create=()=>_(),S}e.wrapConstructor=U;function B(_){const S=(F,W)=>_(W).update(h(F)).digest(),$=_({});return S.outputLen=$.outputLen,S.blockLen=$.blockLen,S.create=F=>_(F),S}e.wrapConstructorWithOpts=B;function v(_=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(_));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(_).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=v})(Fs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const t=$n,n=Fs;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,t.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return t.default.exists(this),this.iHash.update(o),this}digestInto(o){t.default.exists(this),t.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:h}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=h,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();e.hmac=i,e.hmac.create=(s,o)=>new r(s,o)})(D1);Object.defineProperty(zo,"__esModule",{value:!0});zo.pbkdf2Async=zo.pbkdf2=void 0;const Pc=$n,T3=D1,xo=Fs;function L1(e,t,n,r){Pc.default.hash(e);const i=(0,xo.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Pc.default.number(s),Pc.default.number(o),Pc.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,xo.toBytes)(t),u=(0,xo.toBytes)(n),l=new Uint8Array(o),d=T3.hmac.create(e,c),h=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function H1(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function E3(e,t,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=L1(e,t,n,r);let u;const l=new Uint8Array(4),d=(0,xo.createView)(l),h=new Uint8Array(a.outputLen);for(let y=1,b=0;b<s;y++,b+=a.outputLen){const A=o.subarray(b,b+a.outputLen);d.setInt32(0,y,!1),(u=c._cloneInto(u)).update(l).digestInto(h),A.set(h.subarray(0,A.length));for(let I=1;I<i;I++){a._cloneInto(u).update(h).digestInto(h);for(let U=0;U<A.length;U++)A[U]^=h[U]}}return H1(a,c,o,u,h)}zo.pbkdf2=E3;async function I3(e,t,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=L1(e,t,n,r);let l;const d=new Uint8Array(4),h=(0,xo.createView)(d),y=new Uint8Array(c.outputLen);for(let b=1,A=0;A<s;b++,A+=c.outputLen){const I=a.subarray(A,A+c.outputLen);h.setInt32(0,b,!1),(l=u._cloneInto(l)).update(d).digestInto(y),I.set(y.subarray(0,I.length)),await(0,xo.asyncLoop)(i-1,o,U=>{c._cloneInto(l).update(y).digestInto(y);for(let B=0;B<I.length;B++)I[B]^=y[B]})}return H1(c,u,a,l,y)}zo.pbkdf2Async=I3;var Fo={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.SHA2=void 0;const Nd=$n,xa=Fs;function B3(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}let k3=class extends xa.Hash{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,xa.createView)(this.buffer)}update(t){Nd.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=(0,xa.toBytes)(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,xa.createView)(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Nd.default.exists(this),Nd.default.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;B3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=(0,xa.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};fc.SHA2=k3;Object.defineProperty(Fo,"__esModule",{value:!0});Fo.sha224=Fo.sha256=void 0;const C3=fc,Mr=Fs,R3=(e,t,n)=>e&t^~e&n,P3=(e,t,n)=>e&t^e&n^t&n,U3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ui=new Uint32Array(64);let z1=class extends C3.SHA2{constructor(){super(64,32,8,!1),this.A=Pi[0]|0,this.B=Pi[1]|0,this.C=Pi[2]|0,this.D=Pi[3]|0,this.E=Pi[4]|0,this.F=Pi[5]|0,this.G=Pi[6]|0,this.H=Pi[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ui[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Ui[d-15],y=Ui[d-2],b=(0,Mr.rotr)(h,7)^(0,Mr.rotr)(h,18)^h>>>3,A=(0,Mr.rotr)(y,17)^(0,Mr.rotr)(y,19)^y>>>10;Ui[d]=A+Ui[d-7]+b+Ui[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=(0,Mr.rotr)(a,6)^(0,Mr.rotr)(a,11)^(0,Mr.rotr)(a,25),y=l+h+R3(a,c,u)+U3[d]+Ui[d]|0,A=((0,Mr.rotr)(r,2)^(0,Mr.rotr)(r,13)^(0,Mr.rotr)(r,22))+P3(r,i,s)|0;l=u,u=c,c=a,a=o+y|0,o=s,s=i,i=r,r=y+A|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){Ui.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},O3=class extends z1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Fo.sha256=(0,Mr.wrapConstructor)(()=>new z1);Fo.sha224=(0,Mr.wrapConstructor)(()=>new O3);var zr={},F1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const t=BigInt(2**32-1),n=BigInt(32);function r(J,N=!1){return N?{h:Number(J&t),l:Number(J>>n&t)}:{h:Number(J>>n&t)|0,l:Number(J&t)|0}}e.fromBig=r;function i(J,N=!1){let H=new Uint32Array(J.length),E=new Uint32Array(J.length);for(let f=0;f<J.length;f++){const{h:p,l:w}=r(J[f],N);[H[f],E[f]]=[p,w]}return[H,E]}e.split=i;const s=(J,N)=>BigInt(J>>>0)<<n|BigInt(N>>>0);e.toBig=s;const o=(J,N,H)=>J>>>H,a=(J,N,H)=>J<<32-H|N>>>H,c=(J,N,H)=>J>>>H|N<<32-H,u=(J,N,H)=>J<<32-H|N>>>H,l=(J,N,H)=>J<<64-H|N>>>H-32,d=(J,N,H)=>J>>>H-32|N<<64-H,h=(J,N)=>N,y=(J,N)=>J,b=(J,N,H)=>J<<H|N>>>32-H,A=(J,N,H)=>N<<H|J>>>32-H,I=(J,N,H)=>N<<H-32|J>>>64-H,U=(J,N,H)=>J<<H-32|N>>>64-H;function B(J,N,H,E){const f=(N>>>0)+(E>>>0);return{h:J+H+(f/2**32|0)|0,l:f|0}}e.add=B;const v=(J,N,H)=>(J>>>0)+(N>>>0)+(H>>>0),_=(J,N,H,E)=>N+H+E+(J/2**32|0)|0,S=(J,N,H,E)=>(J>>>0)+(N>>>0)+(H>>>0)+(E>>>0),$=(J,N,H,E,f)=>N+H+E+f+(J/2**32|0)|0,F=(J,N,H,E,f)=>(J>>>0)+(N>>>0)+(H>>>0)+(E>>>0)+(f>>>0),W=(J,N,H,E,f,p)=>N+H+E+f+p+(J/2**32|0)|0,Y={fromBig:r,split:i,toBig:e.toBig,shrSH:o,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:l,rotrBL:d,rotr32H:h,rotr32L:y,rotlSH:b,rotlSL:A,rotlBH:I,rotlBL:U,add:B,add3L:v,add3H:_,add4L:S,add4H:$,add5H:W,add5L:F};e.default=Y})(F1);Object.defineProperty(zr,"__esModule",{value:!0});zr.sha384=zr.sha512_256=zr.sha512_224=zr.sha512=zr.SHA512=void 0;const M3=fc,At=F1,Rl=Fs,[$3,N3]=At.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Oi=new Uint32Array(80),Mi=new Uint32Array(80);let hc=class extends M3.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:A,Hl:I}=this;return[t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I]}set(t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=A|0,this.Hl=I|0}process(t,n){for(let v=0;v<16;v++,n+=4)Oi[v]=t.getUint32(n),Mi[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const _=Oi[v-15]|0,S=Mi[v-15]|0,$=At.default.rotrSH(_,S,1)^At.default.rotrSH(_,S,8)^At.default.shrSH(_,S,7),F=At.default.rotrSL(_,S,1)^At.default.rotrSL(_,S,8)^At.default.shrSL(_,S,7),W=Oi[v-2]|0,Y=Mi[v-2]|0,J=At.default.rotrSH(W,Y,19)^At.default.rotrBH(W,Y,61)^At.default.shrSH(W,Y,6),N=At.default.rotrSL(W,Y,19)^At.default.rotrBL(W,Y,61)^At.default.shrSL(W,Y,6),H=At.default.add4L(F,N,Mi[v-7],Mi[v-16]),E=At.default.add4H(H,$,J,Oi[v-7],Oi[v-16]);Oi[v]=E|0,Mi[v]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:A,Gl:I,Hh:U,Hl:B}=this;for(let v=0;v<80;v++){const _=At.default.rotrSH(d,h,14)^At.default.rotrSH(d,h,18)^At.default.rotrBH(d,h,41),S=At.default.rotrSL(d,h,14)^At.default.rotrSL(d,h,18)^At.default.rotrBL(d,h,41),$=d&y^~d&A,F=h&b^~h&I,W=At.default.add5L(B,S,F,N3[v],Mi[v]),Y=At.default.add5H(W,U,_,$,$3[v],Oi[v]),J=W|0,N=At.default.rotrSH(r,i,28)^At.default.rotrBH(r,i,34)^At.default.rotrBH(r,i,39),H=At.default.rotrSL(r,i,28)^At.default.rotrBL(r,i,34)^At.default.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;U=A|0,B=I|0,A=y|0,I=b|0,y=d|0,b=h|0,{h:d,l:h}=At.default.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=At.default.add3L(J,H,f);r=At.default.add3H(p,Y,N,E),i=p|0}({h:r,l:i}=At.default.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=At.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=At.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=At.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=At.default.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=At.default.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:A,l:I}=At.default.add(this.Gh|0,this.Gl|0,A|0,I|0),{h:U,l:B}=At.default.add(this.Hh|0,this.Hl|0,U|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,A,I,U,B)}roundClean(){Oi.fill(0),Mi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};zr.SHA512=hc;let q3=class extends hc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},D3=class extends hc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},L3=class extends hc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};zr.sha512=(0,Rl.wrapConstructor)(()=>new hc);zr.sha512_224=(0,Rl.wrapConstructor)(()=>new q3);zr.sha512_256=(0,Rl.wrapConstructor)(()=>new D3);zr.sha384=(0,Rl.wrapConstructor)(()=>new L3);Object.defineProperty(vr,"__esModule",{value:!0});var j1=vr.mnemonicToSeedSync=vr.mnemonicToSeed=vr.validateMnemonic=vr.entropyToMnemonic=vr.mnemonicToEntropy=vr.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const G1=$n,W1=zo,H3=Fo,V1=zr,z3=Fs,Uc=nc,F3=e=>e[0]==="";function K1(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function Bf(e){const t=K1(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function X1(e){G1.default.bytes(e,16,20,24,28,32)}function j3(e,t=128){if(G1.default.number(t),t%32!==0||t>256)throw new TypeError("Invalid entropy");return J1((0,z3.randomBytes)(t/8),e)}vr.generateMnemonic=j3;const G3=e=>{const t=8-e.length/4;return new Uint8Array([(0,H3.sha256)(e)[0]>>t<<t])};function Z1(e){if(!Array.isArray(e)||e.length!==2**11||typeof e[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return e.forEach(t=>{if(typeof t!="string")throw new Error(`Wordlist: non-string element: ${t}`)}),Uc.utils.chain(Uc.utils.checksum(1,G3),Uc.utils.radix2(11,!0),Uc.utils.alphabet(e))}function Y1(e,t){const{words:n}=Bf(e),r=Z1(t).decode(n);return X1(r),r}vr.mnemonicToEntropy=Y1;function J1(e,t){return X1(e),Z1(t).encode(e).join(F3(t)?"":" ")}vr.entropyToMnemonic=J1;function W3(e,t){try{Y1(e,t)}catch{return!1}return!0}vr.validateMnemonic=W3;const Q1=e=>K1(`mnemonic${e}`);function V3(e,t=""){return(0,W1.pbkdf2Async)(V1.sha512,Bf(e).nfkd,Q1(t),{c:2048,dkLen:64})}vr.mnemonicToSeed=V3;function K3(e,t=""){return(0,W1.pbkdf2)(V1.sha512,Bf(e).nfkd,Q1(t),{c:2048,dkLen:64})}j1=vr.mnemonicToSeedSync=K3;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X3=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),qd=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Z3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Z3)throw new Error("Non little-endian hardware is not supported");const Y3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function em(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Y3[e[n]];return t}function tm(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,i=e.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[n]=s}return t}function J3(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function pc(e){if(typeof e=="string"&&(e=J3(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let kf=class{clone(){return this._cloneInto()}};function Pl(e){const t=r=>e().update(pc(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Q3(e){const t=(r,i)=>e(i).update(pc(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function m0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function e4(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function nm(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function t4(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");m0(e.outputLen),m0(e.blockLen)}function n4(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function r4(e,t){nm(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const xr={number:m0,bool:e4,bytes:nm,hash:t4,exists:n4,output:r4},Oc=BigInt(2**32-1),w0=BigInt(32);function rm(e,t=!1){return t?{h:Number(e&Oc),l:Number(e>>w0&Oc)}:{h:Number(e>>w0&Oc)|0,l:Number(e&Oc)|0}}function i4(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=rm(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const s4=(e,t)=>BigInt(e>>>0)<<w0|BigInt(t>>>0),o4=(e,t,n)=>e>>>n,a4=(e,t,n)=>e<<32-n|t>>>n,c4=(e,t,n)=>e>>>n|t<<32-n,u4=(e,t,n)=>e<<32-n|t>>>n,l4=(e,t,n)=>e<<64-n|t>>>n-32,d4=(e,t,n)=>e>>>n-32|t<<64-n,f4=(e,t)=>t,h4=(e,t)=>e,p4=(e,t,n)=>e<<n|t>>>32-n,g4=(e,t,n)=>t<<n|e>>>32-n,y4=(e,t,n)=>t<<n-32|e>>>64-n,m4=(e,t,n)=>e<<n-32|t>>>64-n;function w4(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const _4=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),b4=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,v4=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),x4=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,S4=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),A4=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,lt={fromBig:rm,split:i4,toBig:s4,shrSH:o4,shrSL:a4,rotrSH:c4,rotrSL:u4,rotrBH:l4,rotrBL:d4,rotr32H:f4,rotr32L:h4,rotlSH:p4,rotlSL:g4,rotlBH:y4,rotlBL:m4,add:w4,add3L:_4,add3H:b4,add4L:v4,add4H:x4,add5H:A4,add5L:S4},[im,sm,om]=[[],[],[]],T4=BigInt(0),Sa=BigInt(1),E4=BigInt(2),I4=BigInt(7),B4=BigInt(256),k4=BigInt(113);for(let e=0,t=Sa,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],im.push(2*(5*r+n)),sm.push((e+1)*(e+2)/2%64);let i=T4;for(let s=0;s<7;s++)t=(t<<Sa^(t>>I4)*k4)%B4,t&E4&&(i^=Sa<<(Sa<<BigInt(s))-Sa);om.push(i)}const[C4,R4]=lt.split(om,!0),ap=(e,t,n)=>n>32?lt.rotlBH(e,t,n):lt.rotlSH(e,t,n),cp=(e,t,n)=>n>32?lt.rotlBL(e,t,n):lt.rotlSL(e,t,n);function P4(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=ap(u,l,1)^n[a],h=cp(u,l,1)^n[a+1];for(let y=0;y<50;y+=10)e[o+y]^=d,e[o+y+1]^=h}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=sm[o],c=ap(i,s,a),u=cp(i,s,a),l=im[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=C4[r],e[1]^=R4[r]}n.fill(0)}class Ul extends kf{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=X3(this.state)}keccak(){P4(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){xr.exists(this);const{blockLen:n,state:r}=this;t=pc(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){xr.exists(this,!1),xr.bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return xr.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xr.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Ul(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const ds=(e,t,n)=>Pl(()=>new Ul(t,e,n));ds(6,144,224/8);const jo=ds(6,136,256/8);ds(6,104,384/8);ds(6,72,512/8);ds(1,144,224/8);ds(1,136,256/8);ds(1,104,384/8);ds(1,72,512/8);const am=(e,t,n)=>Q3((r={})=>new Ul(t,e,r.dkLen===void 0?n:r.dkLen,!0));am(31,168,128/8);am(31,136,256/8);let cm=class extends kf{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,xr.hash(t);const r=pc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return xr.exists(this),this.iHash.update(t),this}digestInto(t){xr.exists(this),xr.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Cf=(e,t,n)=>new cm(e,t).update(n).digest();Cf.create=(e,t)=>new cm(e,t);function U4(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}let O4=class extends kf{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qd(this.buffer)}update(t){xr.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=pc(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=qd(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){xr.exists(this),xr.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let c=o;c<i;c++)n[c]=0;U4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=qd(t);this.get().forEach((c,u)=>a.setUint32(4*u,c,s))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}};const[M4,$4]=lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),$i=new Uint32Array(80),Ni=new Uint32Array(80);let Rf=class extends O4{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:A,Hl:I}=this;return[t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I]}set(t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=A|0,this.Hl=I|0}process(t,n){for(let v=0;v<16;v++,n+=4)$i[v]=t.getUint32(n),Ni[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const _=$i[v-15]|0,S=Ni[v-15]|0,$=lt.rotrSH(_,S,1)^lt.rotrSH(_,S,8)^lt.shrSH(_,S,7),F=lt.rotrSL(_,S,1)^lt.rotrSL(_,S,8)^lt.shrSL(_,S,7),W=$i[v-2]|0,Y=Ni[v-2]|0,J=lt.rotrSH(W,Y,19)^lt.rotrBH(W,Y,61)^lt.shrSH(W,Y,6),N=lt.rotrSL(W,Y,19)^lt.rotrBL(W,Y,61)^lt.shrSL(W,Y,6),H=lt.add4L(F,N,Ni[v-7],Ni[v-16]),E=lt.add4H(H,$,J,$i[v-7],$i[v-16]);$i[v]=E|0,Ni[v]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:A,Gl:I,Hh:U,Hl:B}=this;for(let v=0;v<80;v++){const _=lt.rotrSH(d,h,14)^lt.rotrSH(d,h,18)^lt.rotrBH(d,h,41),S=lt.rotrSL(d,h,14)^lt.rotrSL(d,h,18)^lt.rotrBL(d,h,41),$=d&y^~d&A,F=h&b^~h&I,W=lt.add5L(B,S,F,$4[v],Ni[v]),Y=lt.add5H(W,U,_,$,M4[v],$i[v]),J=W|0,N=lt.rotrSH(r,i,28)^lt.rotrBH(r,i,34)^lt.rotrBH(r,i,39),H=lt.rotrSL(r,i,28)^lt.rotrBL(r,i,34)^lt.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;U=A|0,B=I|0,A=y|0,I=b|0,y=d|0,b=h|0,{h:d,l:h}=lt.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=lt.add3L(J,H,f);r=lt.add3H(p,Y,N,E),i=p|0}({h:r,l:i}=lt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=lt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=lt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=lt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=lt.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=lt.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:A,l:I}=lt.add(this.Gh|0,this.Gl|0,A|0,I|0),{h:U,l:B}=lt.add(this.Hh|0,this.Hl|0,U|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,A,I,U,B)}roundClean(){$i.fill(0),Ni.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},N4=class extends Rf{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},q4=class extends Rf{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const um=Pl(()=>new Rf);Pl(()=>new N4);Pl(()=>new q4);var lm=Object.defineProperty,D4=Object.getOwnPropertyDescriptor,Ol=(e,t)=>{for(var n in t)lm(e,n,{get:t[n],enumerable:!0})},tn=(e,t,n,r)=>{for(var i=r>1?void 0:r?D4(t,n):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&lm(t,n,i),i},L4=/^m(\/[0-9]+')+$/,dm=e=>e.replace("'",""),H4="ed25519 seed",z4=2147483648,F4=e=>{const n=Cf.create(um,H4).update(tm(e)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},j4=({key:e,chainCode:t},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...e,...i]),a=Cf.create(um,t).update(o).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},G4=e=>L4.test(e)?!e.split("/").slice(1).map(dm).some(Number.isNaN):!1,W4=(e,t,n=z4)=>{if(!G4(e))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=F4(t);return e.split("/").slice(1).map(dm).map(o=>parseInt(o,10)).reduce((o,a)=>j4(o,a+n),{key:r,chainCode:i})},ft=class{static fromBuffer(e){return ft.fromUint8Array(e)}static fromUint8Array(e){return new ft(em(e))}static ensure(e){return typeof e=="string"?new ft(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(tm(this.noPrefix()))}};async function V4(e){return new Promise(t=>{setTimeout(t,e)})}var up="/v1";function K4(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith(up)||(t=`${t}${up}`),t}var fm=2e5,hm=20,X4=20,Z4="0x1::aptos_coin::AptosCoin";function Ml(e){let t,n,r;return typeof e=="object"?(t=e.hashFunction,n=e.ttlMs,r=e.tags):t=e,(i,s,o)=>{if(o.value!=null)o.value=lp(o.value,t,n,r);else if(o.get!=null)o.get=lp(o.get,t,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function Y4(e,t){return Ml({ttlMs:e,hashFunction:t})}var lu=new Map;function J4(e){const t=new Set;for(const n of e){const r=lu.get(n);if(r)for(const i of r)t.has(i)||(i.clear(),t.add(i))}return t.size}function lp(e,t,n=0,r){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(r))for(const u of r)lu.has(u)?lu.get(u).push(c):lu.set(u,[c]);if(t||s.length>0||n>0){let u;t===!0?u=s.map(h=>h.toString()).join("!"):t?u=t.apply(a,s):u=s[0];const l=`${u}__timestamp`;let d=!1;if(n>0)if(!c.has(l))d=!0;else{const h=c.get(l);d=Date.now()-h>n}c.has(u)&&!d?o=c.get(u):(o=e.apply(a,s),c.set(u,o),n>0&&c.set(l,Date.now()))}else{const u=a;c.has(u)?o=c.get(u):(o=e.apply(a,s),c.set(u,o))}return o}}async function dp(e,t,n,r){var i;const s=[];let o;for(;;){const a=await e(ft.ensure(t).hex(),(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString(),o,n);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),o==null)break}return s}var Q4={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},eS={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},j={};Ol(j,{AccountAddress:()=>yn,AccountAuthenticator:()=>Ha,AccountAuthenticatorEd25519:()=>Of,AccountAuthenticatorMultiEd25519:()=>Mf,ArgumentABI:()=>xc,AuthenticationKey:()=>Ps,ChainId:()=>Hl,ChangeSet:()=>fS,Ed25519PublicKey:()=>Dr,Ed25519Signature:()=>li,EntryFunction:()=>Ss,EntryFunctionABI:()=>Xo,Identifier:()=>cr,Module:()=>gm,ModuleId:()=>Rs,MultiAgentRawTransaction:()=>Dl,MultiEd25519PublicKey:()=>gc,MultiEd25519Signature:()=>$l,MultiSig:()=>qf,MultiSigTransactionPayload:()=>Nf,RawTransaction:()=>ha,RawTransactionWithData:()=>ym,RotationProofChallenge:()=>pS,Script:()=>mc,ScriptABI:()=>Kl,SignedTransaction:()=>wc,StructTag:()=>Go,Transaction:()=>mm,TransactionArgument:()=>ni,TransactionArgumentAddress:()=>Vo,TransactionArgumentBool:()=>Vl,TransactionArgumentU128:()=>Gl,TransactionArgumentU16:()=>Fl,TransactionArgumentU256:()=>Wl,TransactionArgumentU32:()=>jl,TransactionArgumentU64:()=>Wo,TransactionArgumentU8:()=>zl,TransactionArgumentU8Vector:()=>Ko,TransactionAuthenticator:()=>yc,TransactionAuthenticatorEd25519:()=>Nl,TransactionAuthenticatorMultiAgent:()=>Uf,TransactionAuthenticatorMultiEd25519:()=>ql,TransactionPayload:()=>_c,TransactionPayloadEntryFunction:()=>Ll,TransactionPayloadMultisig:()=>Df,TransactionPayloadScript:()=>bc,TransactionScriptABI:()=>Xl,TypeArgumentABI:()=>vc,TypeTag:()=>Wn,TypeTagAddress:()=>Ks,TypeTagBool:()=>Gs,TypeTagSigner:()=>$f,TypeTagStruct:()=>Xs,TypeTagU128:()=>Vs,TypeTagU16:()=>ua,TypeTagU256:()=>da,TypeTagU32:()=>la,TypeTagU64:()=>Ws,TypeTagU8:()=>vi,TypeTagVector:()=>fa,UserTransaction:()=>Lf,WriteSet:()=>hS});var ue={};Ol(ue,{Deserializer:()=>Pf,Serializer:()=>vn,bcsSerializeBool:()=>uS,bcsSerializeBytes:()=>ro,bcsSerializeFixedBytes:()=>dS,bcsSerializeStr:()=>lS,bcsSerializeU128:()=>cS,bcsSerializeU16:()=>oS,bcsSerializeU32:()=>aS,bcsSerializeU8:()=>_0,bcsSerializeUint64:()=>sS,bcsToBytes:()=>Ai,deserializeVector:()=>Gr,serializeVector:()=>Br,serializeVectorWithFunc:()=>iS});var tS=2**8-1,nS=2**16-1,La=2**32-1,Ua=BigInt(2**64)-BigInt(1),pm=BigInt(2**128)-BigInt(1),rS=BigInt(2**256)-BigInt(1),vn=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,n){this.ensureBufferWillHandleSize(t);const r=new DataView(this.buffer,this.offset);e.apply(r,[0,n,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(La),n=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(n))}serializeU128(e){const t=BigInt(e.toString())&Ua,n=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(n)}serializeU256(e){const t=BigInt(e.toString())&pm,n=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(n)}serializeU32AsUleb128(e){let t=e;const n=[];for(;t>>>7;)n.push(t&127|128),t>>>=7;n.push(t),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};tn([js(0,tS)],vn.prototype,"serializeU8",1);tn([js(0,nS)],vn.prototype,"serializeU16",1);tn([js(0,La)],vn.prototype,"serializeU32",1);tn([js(BigInt(0),Ua)],vn.prototype,"serializeU64",1);tn([js(BigInt(0),pm)],vn.prototype,"serializeU128",1);tn([js(BigInt(0),rS)],vn.prototype,"serializeU256",1);tn([js(0,La)],vn.prototype,"serializeU32AsUleb128",1);function js(e,t,n){return(r,i,s)=>{const o=s.value;return s.value=function(c){const u=BigInt(c.toString());if(u>BigInt(t.toString())||u<BigInt(e.toString()))throw new Error(n||"Value is out of range");o.apply(this,[c])},s}}var Pf=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<La;){const n=this.deserializeU8();if(e|=BigInt(n&127)<<BigInt(t),!(n&128))break;t+=7}if(e>La)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function Br(e,t){t.serializeU32AsUleb128(e.length),e.forEach(n=>{n.serialize(t)})}function iS(e,t){const n=new vn;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(i=>{r.call(n,i)}),n.getBytes()}function Gr(e,t){const n=e.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(t.deserialize(e));return r}function Ai(e){const t=new vn;return e.serialize(t),t.getBytes()}function sS(e){const t=new vn;return t.serializeU64(e),t.getBytes()}function _0(e){const t=new vn;return t.serializeU8(e),t.getBytes()}function oS(e){const t=new vn;return t.serializeU16(e),t.getBytes()}function aS(e){const t=new vn;return t.serializeU32(e),t.getBytes()}function cS(e){const t=new vn;return t.serializeU128(e),t.getBytes()}function uS(e){const t=new vn;return t.serializeBool(e),t.getBytes()}function lS(e){const t=new vn;return t.serializeStr(e),t.getBytes()}function ro(e){const t=new vn;return t.serializeBytes(e),t.getBytes()}function dS(e){const t=new vn;return t.serializeFixedBytes(e),t.getBytes()}var $r=class{constructor(e){if(e.length!==$r.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let t=ft.ensure(e);t.noPrefix().length%2!==0&&(t=new ft(`0${t.noPrefix()}`));const n=t.toUint8Array();if(n.length>$r.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===$r.LENGTH)return new $r(n);const r=new Uint8Array($r.LENGTH);return r.set(n,$r.LENGTH-n.length),new $r(r)}static isValid(e){if(e==="")return!1;let t=ft.ensure(e);return t.noPrefix().length%2!==0&&(t=new ft(`0${t.noPrefix()}`)),t.toUint8Array().length<=$r.LENGTH}toHexString(){return ft.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new $r(e.deserializeFixedBytes($r.LENGTH))}},yn=$r;yn.LENGTH=32;yn.CORE_CODE_ADDRESS=$r.fromHex("0x1");var du=class{constructor(e){if(e.length!==du.LENGTH)throw new Error(`Ed25519PublicKey length should be ${du.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new du(t)}},Dr=du;Dr.LENGTH=32;var fu=class{constructor(e){if(this.value=e,e.length!==fu.LENGTH)throw new Error(`Ed25519Signature length should be ${fu.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const t=e.deserializeBytes();return new fu(t)}},li=fu;li.LENGTH=64;var b0=32,gc=class{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>b0)throw new Error(`"threshold" cannot be larger than ${b0}`)}toBytes(){const e=new Uint8Array(this.public_keys.length*Dr.LENGTH+1);return this.public_keys.forEach((t,n)=>{e.set(t.value,n*Dr.LENGTH)}),e[this.public_keys.length*Dr.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),n=t[t.length-1],r=[];for(let i=0;i<t.length-1;i+=Dr.LENGTH){const s=i;r.push(new Dr(t.subarray(s,s+Dr.LENGTH)))}return new gc(r,n)}},Ba=class{constructor(e,t){if(this.signatures=e,this.bitmap=t,t.length!==Ba.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Ba.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*li.LENGTH+Ba.BITMAP_LEN);return this.signatures.forEach((t,n)=>{e.set(t.value,n*li.LENGTH)}),e.set(this.bitmap,this.signatures.length*li.LENGTH),e}static createBitmap(e){const n=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach(i=>{if(i>=b0)throw new Error(`Invalid bit value ${i}.`);if(r.has(i))throw new Error("Duplicated bits detected.");r.add(i);const s=Math.floor(i/8);let o=n[s];o|=128>>i%8,n[s]=o}),n}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const t=e.deserializeBytes(),n=t.subarray(t.length-4),r=[];for(let i=0;i<t.length-n.length;i+=li.LENGTH){const s=i;r.push(new li(t.subarray(s,s+li.LENGTH)))}return new Ba(r,n)}},$l=Ba;$l.BITMAP_LEN=4;var yc=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Nl.load(e);case 1:return ql.load(e);case 2:return Uf.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},Nl=class extends yc{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=Dr.deserialize(e),n=li.deserialize(e);return new Nl(t,n)}},ql=class extends yc{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=gc.deserialize(e),n=$l.deserialize(e);return new ql(t,n)}},Uf=class extends yc{constructor(e,t,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=n}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),Br(this.secondary_signer_addresses,e),Br(this.secondary_signers,e)}static load(e){const t=Ha.deserialize(e),n=Gr(e,yn),r=Gr(e,Ha);return new Uf(t,n,r)}},Ha=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Of.load(e);case 1:return Mf.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},Of=class extends Ha{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=Dr.deserialize(e),n=li.deserialize(e);return new Of(t,n)}},Mf=class extends Ha{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const t=gc.deserialize(e),n=$l.deserialize(e);return new Mf(t,n)}},cr=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const t=e.deserializeStr();return new cr(t)}},Wn=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Gs.load(e);case 1:return vi.load(e);case 2:return Ws.load(e);case 3:return Vs.load(e);case 4:return Ks.load(e);case 5:return $f.load(e);case 6:return fa.load(e);case 7:return Xs.load(e);case 8:return ua.load(e);case 9:return la.load(e);case 10:return da.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},Gs=class extends Wn{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Gs}},vi=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new vi}},ua=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new ua}},la=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new la}},Ws=class extends Wn{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Ws}},Vs=class extends Wn{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new Vs}},da=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new da}},Ks=class extends Wn{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new Ks}},$f=class extends Wn{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new $f}},fa=class extends Wn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const t=Wn.deserialize(e);return new fa(t)}},Xs=class extends Wn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const t=Go.deserialize(e);return new Xs(t)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===yn.fromHex("0x1").toHexString()}},Go=class{constructor(e,t,n,r){this.address=e,this.module_name=t,this.name=n,this.type_args=r}static fromString(e){if(e.includes("<"))throw new Error("Not implemented");const t=e.split("::");if(t.length!==3)throw new Error("Invalid struct tag string literal.");return new Go(yn.fromHex(t[0]),new cr(t[1]),new cr(t[2]),[])}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),Br(this.type_args,e)}static deserialize(e){const t=yn.deserialize(e),n=cr.deserialize(e),r=cr.deserialize(e),i=Gr(e,Wn);return new Go(t,n,r,i)}},ha=class{constructor(e,t,n,r,i,s,o){this.sender=e,this.sequence_number=t,this.payload=n,this.max_gas_amount=r,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const t=yn.deserialize(e),n=e.deserializeU64(),r=_c.deserialize(e),i=e.deserializeU64(),s=e.deserializeU64(),o=e.deserializeU64(),a=Hl.deserialize(e);return new ha(t,n,r,i,s,o,a)}},mc=class{constructor(e,t,n){this.code=e,this.ty_args=t,this.args=n}serialize(e){e.serializeBytes(this.code),Br(this.ty_args,e),Br(this.args,e)}static deserialize(e){const t=e.deserializeBytes(),n=Gr(e,Wn),r=Gr(e,ni);return new mc(t,n,r)}},Ss=class{constructor(e,t,n,r){this.module_name=e,this.function_name=t,this.ty_args=n,this.args=r}static natural(e,t,n,r){return new Ss(Rs.fromStr(e),new cr(t),n,r)}static natual(e,t,n,r){return Ss.natural(e,t,n,r)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),Br(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{e.serializeBytes(t)})}static deserialize(e){const t=Rs.deserialize(e),n=cr.deserialize(e),r=Gr(e,Wn),i=e.deserializeUleb128AsU32(),s=[];for(let a=0;a<i;a+=1)s.push(e.deserializeBytes());const o=s;return new Ss(t,n,r,o)}},Nf=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return new Nf(Ss.deserialize(e))}},qf=class{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const t=yn.deserialize(e),n=e.deserializeBool();let r;return n&&(r=Nf.deserialize(e)),new qf(t,r)}},gm=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const t=e.deserializeBytes();return new gm(t)}},Rs=class{constructor(e,t){this.address=e,this.name=t}static fromStr(e){const t=e.split("::");if(t.length!==2)throw new Error("Invalid module id.");return new Rs(yn.fromHex(new ft(t[0])),new cr(t[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const t=yn.deserialize(e),n=cr.deserialize(e);return new Rs(t,n)}},fS=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},hS=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},wc=class{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const t=ha.deserialize(e),n=yc.deserialize(e);return new wc(t,n)}},ym=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Dl.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},Dl=class extends ym{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),Br(this.secondary_signer_addresses,e)}static load(e){const t=ha.deserialize(e),n=Gr(e,yn);return new Dl(t,n)}},_c=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return bc.load(e);case 2:return Ll.load(e);case 3:return Df.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},bc=class extends _c{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const t=mc.deserialize(e);return new bc(t)}},Ll=class extends _c{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const t=Ss.deserialize(e);return new Ll(t)}},Df=class extends _c{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=qf.deserialize(e);return new Df(t)}},Hl=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const t=e.deserializeU8();return new Hl(t)}},ni=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return zl.load(e);case 1:return Wo.load(e);case 2:return Gl.load(e);case 3:return Vo.load(e);case 4:return Ko.load(e);case 5:return Vl.load(e);case 6:return Fl.load(e);case 7:return jl.load(e);case 8:return Wl.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},zl=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const t=e.deserializeU8();return new zl(t)}},Fl=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const t=e.deserializeU16();return new Fl(t)}},jl=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const t=e.deserializeU32();return new jl(t)}},Wo=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const t=e.deserializeU64();return new Wo(t)}},Gl=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const t=e.deserializeU128();return new Gl(t)}},Wl=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const t=e.deserializeU256();return new Wl(t)}},Vo=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const t=yn.deserialize(e);return new Vo(t)}},Ko=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const t=e.deserializeBytes();return new Ko(t)}},Vl=class extends ni{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const t=e.deserializeBool();return new Vl(t)}},mm=class{getHashSalt(){const e=jo.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Lf.load(e);default:throw new Error(`Unknown variant index for Transaction: ${t}`)}}},Lf=class extends mm{constructor(e){super(),this.value=e}hash(){const e=jo.create();return e.update(this.getHashSalt()),e.update(Ai(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new Lf(wc.deserialize(e))}},vc=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const t=e.deserializeStr();return new vc(t)}},xc=class{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const t=e.deserializeStr(),n=Wn.deserialize(e);return new xc(t,n)}},Kl=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Xl.load(e);case 1:return Xo.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Xl=class extends Kl{constructor(e,t,n,r,i){super(),this.name=e,this.doc=t,this.code=n,this.ty_args=r,this.args=i}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Br(this.ty_args,e),Br(this.args,e)}static load(e){const t=e.deserializeStr(),n=e.deserializeStr(),r=e.deserializeBytes(),i=Gr(e,vc),s=Gr(e,xc);return new Xl(t,n,r,i,s)}},Xo=class extends Kl{constructor(e,t,n,r,i){super(),this.name=e,this.module_name=t,this.doc=n,this.ty_args=r,this.args=i}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Br(this.ty_args,e),Br(this.args,e)}static load(e){const t=e.deserializeStr(),n=Rs.deserialize(e),r=e.deserializeStr(),i=Gr(e,vc),s=Gr(e,xc);return new Xo(t,n,r,i,s)}},io=class{constructor(e){if(e.length!==io.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const t=e.toBytes(),n=new Uint8Array(t.length+1);n.set(t),n.set([io.MULTI_ED25519_SCHEME],t.length);const r=jo.create();return r.update(n),new io(r.digest())}static fromEd25519PublicKey(e){const t=e.value,n=new Uint8Array(t.length+1);n.set(t),n.set([io.ED25519_SCHEME],t.length);const r=jo.create();return r.update(n),new io(r.digest())}derivedAddress(){return ft.fromUint8Array(this.bytes)}},Ps=io;Ps.LENGTH=32;Ps.MULTI_ED25519_SCHEME=1;Ps.ED25519_SCHEME=0;Ps.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var pS=class{constructor(e,t,n,r,i,s,o){this.accountAddress=e,this.moduleName=t,this.structName=n,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},hu=class{static fromAptosAccountObject(e){return new hu(ft.ensure(e.privateKeyHex).toUint8Array(),e.address)}static fromDerivePath(e,t){if(!hu.isValidPath(e))throw new Error("Invalid derivation path");const n=t.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:r}=W4(e,em(j1(n)));return new hu(r)}constructor(e,t){e?this.signingKey=ts.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=ts.sign.keyPair(),this.accountAddress=ft.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new Dr(this.signingKey.publicKey);return Ps.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const n=Ai(yn.fromHex(e)),r=new Uint8Array([...n,...t,Ps.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=jo.create();return i.update(r),ft.fromUint8Array(i.digest())}pubKey(){return ft.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=ts.sign(e,this.signingKey.secretKey);return ft.fromUint8Array(t.slice(0,64))}signHexString(e){const t=ft.ensure(e).toUint8Array();return this.signBuffer(t)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:ft.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},za=hu;za.isValidPath=e=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e);tn([Ml()],za.prototype,"authKey",1);function Tu(e){return e instanceof za?e.address():ft.ensure(e)}var gS=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,yS=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,mS=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${gS}
${yS}`,wS=`
    query getTokenActivities($idHash: String!) {
  token_activities(where: {token_data_id_hash: {_eq: $idHash}}) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,wm=class{constructor(e){this.endpoint=e}async queryIndexer(e){const{data:t}=await Yr.post(this.endpoint,e);if(t.errors)throw new Error(`Indexer data error ${t.errors}`);return t.data}async getAccountNFTs(e,t){const n={query:mS,variables:{address:e,offset:t==null?void 0:t.offset,limit:t==null?void 0:t.limit}};return this.queryIndexer(n)}async getTokenActivities(e){const t={query:wS,variables:{idHash:e}};return this.queryIndexer(t)}},_S={};Ol(_S,{$AccountData:()=>MS,$AccountSignature:()=>$S,$AccountSignature_Ed25519Signature:()=>NS,$AccountSignature_MultiEd25519Signature:()=>qS,$Address:()=>DS,$AptosError:()=>LS,$AptosErrorCode:()=>HS,$Block:()=>zS,$BlockMetadataTransaction:()=>FS,$DecodedTableData:()=>jS,$DeleteModule:()=>WS,$DeleteResource:()=>VS,$DeleteTableItem:()=>KS,$DeletedTableData:()=>GS,$DirectWriteSet:()=>XS,$Ed25519Signature:()=>ZS,$EncodeSubmissionRequest:()=>YS,$EntryFunctionId:()=>JS,$EntryFunctionPayload:()=>QS,$Event:()=>e5,$EventGuid:()=>t5,$GasEstimation:()=>n5,$GenesisPayload:()=>r5,$GenesisPayload_WriteSetPayload:()=>i5,$GenesisTransaction:()=>s5,$HashValue:()=>o5,$HealthCheckSuccess:()=>a5,$HexEncodedBytes:()=>c5,$IdentifierWrapper:()=>u5,$IndexResponse:()=>l5,$ModuleBundlePayload:()=>d5,$MoveAbility:()=>f5,$MoveFunction:()=>h5,$MoveFunctionGenericTypeParam:()=>p5,$MoveFunctionVisibility:()=>g5,$MoveModule:()=>y5,$MoveModuleBytecode:()=>m5,$MoveModuleId:()=>w5,$MoveResource:()=>_5,$MoveScriptBytecode:()=>b5,$MoveStruct:()=>v5,$MoveStructField:()=>x5,$MoveStructGenericTypeParam:()=>S5,$MoveStructTag:()=>A5,$MoveStructValue:()=>T5,$MoveType:()=>E5,$MoveValue:()=>I5,$MultiAgentSignature:()=>B5,$MultiEd25519Signature:()=>k5,$MultisigPayload:()=>C5,$MultisigTransactionPayload:()=>R5,$PendingTransaction:()=>P5,$RawTableItemRequest:()=>U5,$RoleType:()=>O5,$ScriptPayload:()=>M5,$ScriptWriteSet:()=>$5,$StateCheckpointTransaction:()=>N5,$StateKeyWrapper:()=>q5,$SubmitTransactionRequest:()=>D5,$TableItemRequest:()=>L5,$Transaction:()=>H5,$TransactionPayload:()=>V5,$TransactionPayload_EntryFunctionPayload:()=>K5,$TransactionPayload_ModuleBundlePayload:()=>X5,$TransactionPayload_MultisigPayload:()=>Z5,$TransactionPayload_ScriptPayload:()=>Y5,$TransactionSignature:()=>eA,$TransactionSignature_Ed25519Signature:()=>tA,$TransactionSignature_MultiAgentSignature:()=>nA,$TransactionSignature_MultiEd25519Signature:()=>rA,$Transaction_BlockMetadataTransaction:()=>z5,$Transaction_GenesisTransaction:()=>F5,$Transaction_PendingTransaction:()=>j5,$Transaction_StateCheckpointTransaction:()=>G5,$Transaction_UserTransaction:()=>W5,$TransactionsBatchSingleSubmissionFailure:()=>J5,$TransactionsBatchSubmissionResult:()=>Q5,$U128:()=>iA,$U256:()=>sA,$U64:()=>oA,$UserTransaction:()=>aA,$VersionedEvent:()=>cA,$ViewRequest:()=>uA,$WriteModule:()=>lA,$WriteResource:()=>dA,$WriteSet:()=>fA,$WriteSetChange:()=>gA,$WriteSetChange_DeleteModule:()=>yA,$WriteSetChange_DeleteResource:()=>mA,$WriteSetChange_DeleteTableItem:()=>wA,$WriteSetChange_WriteModule:()=>_A,$WriteSetChange_WriteResource:()=>bA,$WriteSetChange_WriteTableItem:()=>vA,$WriteSetPayload:()=>xA,$WriteSet_DirectWriteSet:()=>hA,$WriteSet_ScriptWriteSet:()=>pA,$WriteTableItem:()=>SA,AccountsService:()=>Tm,ApiError:()=>Fa,AptosErrorCode:()=>Um,AptosGeneratedClient:()=>Pm,BaseHttpRequest:()=>_m,BlocksService:()=>Em,CancelError:()=>bm,CancelablePromise:()=>vm,EventsService:()=>Im,GeneralService:()=>Bm,MoveFunctionVisibility:()=>Om,OpenAPI:()=>OS,RoleType:()=>Mm,TablesService:()=>km,TransactionsService:()=>Cm,ViewService:()=>Rm});var _m=class{constructor(e){this.config=e}},Fa=class extends Error{constructor(e,t,n){super(n),this.name="ApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body,this.request=e}},bm=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}},vm=class{constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((t,n)=>{this._resolve=t,this._reject=n;const r=o=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(a=this._resolve)==null||a.call(this,o))},i=o=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(a=this._reject)==null||a.call(this,o))},s=o=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(o)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),e(r,i,s)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const t of this._cancelHandlers)t()}catch(t){console.warn("Cancellation threw an error",t);return}this._cancelHandlers.length=0,(e=this._reject)==null||e.call(this,new bm("Request aborted"))}}get isCancelled(){return this._isCancelled}},xm=class{constructor(e=new Map){this.jar=e}setCookie(e,t){var n;const r=e.origin.toLowerCase();this.jar.has(r)||this.jar.set(r,[]);const i=xm.parse(t);this.jar.set(r,[...((n=this.jar.get(r))==null?void 0:n.filter(s=>s.name!==i.name))||[],i])}getCookies(e){var t;const n=e.origin.toLowerCase();return this.jar.get(n)?((t=this.jar.get(n))==null?void 0:t.filter(r=>!r.expires||r.expires>new Date))||[]:[]}static parse(e){if(typeof e!="string")throw new Error("argument str must be a string");const t=e.split(";").map(r=>r.trim());let n;if(t.length>0){const[r,i]=t[0].split("=");if(!r||!i)throw new Error("Invalid cookie");n={name:r,value:i}}else throw new Error("Invalid cookie");return t.slice(1).forEach(r=>{const[i,s]=r.split("=");if(!i.trim())throw new Error("Invalid cookie");const o=i.toLowerCase(),a=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(o==="expires"&&(n.expires=new Date(a)),o==="path"&&(n.path=a),o==="samesite"){if(a!=="Lax"&&a!=="None"&&a!=="Strict")throw new Error("Invalid cookie SameSite value");n.sameSite=a}o==="secure"&&(n.secure=!0)}),n}},Sm=new xm;Yr.interceptors.response.use(e=>(Array.isArray(e.headers["set-cookie"])&&e.headers["set-cookie"].forEach(t=>{Sm.setCookie(new URL(e.config.url),t)}),e));Yr.interceptors.request.use(function(e){const t=Sm.getCookies(new URL(e.url));return(t==null?void 0:t.length)>0&&e.headers&&(e.headers.cookie=t.map(n=>`${n.name}=${n.value}`).join("; ")),e});var Hf=e=>e!=null,Zl=e=>typeof e=="string",Dd=e=>Zl(e)&&e!=="",Am=e=>typeof e=="object"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.arrayBuffer=="function"&&typeof e.constructor=="function"&&typeof e.constructor.name=="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),bS=e=>e instanceof ll,vS=e=>e>=200&&e<300,xS=e=>btoa(e),SS=e=>{const t=[],n=(i,s)=>{t.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},r=(i,s)=>{Hf(s)&&(Array.isArray(s)?s.forEach(o=>{r(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,a])=>{r(`${i}[${o}]`,a)}):n(i,s))};return Object.entries(e).forEach(([i,s])=>{r(i,s)}),t.length>0?`?${t.join("&")}`:""},AS=(e,t)=>{const n=e.ENCODE_PATH||encodeURI,r=t.url.replace("{api-version}",e.VERSION).replace(/{(.*?)}/g,(s,o)=>{var a;return(a=t.path)!=null&&a.hasOwnProperty(o)?n(String(t.path[o])):s}),i=`${e.BASE}${r}`;return t.query?`${i}${SS(t.query)}`:i},TS=e=>{if(e.formData){const t=new ll,n=(r,i)=>{Zl(i)||Am(i)?t.append(r,i):t.append(r,JSON.stringify(i))};return Object.entries(e.formData).filter(([r,i])=>Hf(i)).forEach(([r,i])=>{Array.isArray(i)?i.forEach(s=>n(r,s)):n(r,i)}),t}},Mc=async(e,t)=>typeof t=="function"?t(e):t,ES=async(e,t,n)=>{const r=await Mc(t,e.TOKEN),i=await Mc(t,e.USERNAME),s=await Mc(t,e.PASSWORD),o=await Mc(t,e.HEADERS),a=typeof(n==null?void 0:n.getHeaders)=="function"&&(n==null?void 0:n.getHeaders())||{},c=Object.entries({Accept:"application/json",...o,...t.headers,...a}).filter(([u,l])=>Hf(l)).reduce((u,[l,d])=>({...u,[l]:String(d)}),{});if(Dd(r)&&(c.Authorization=`Bearer ${r}`),Dd(i)&&Dd(s)){const u=xS(`${i}:${s}`);c.Authorization=`Basic ${u}`}return t.body&&(t.mediaType?c["Content-Type"]=t.mediaType:Am(t.body)?c["Content-Type"]=t.body.type||"application/octet-stream":Zl(t.body)?c["Content-Type"]="text/plain":bS(t.body)||(c["Content-Type"]="application/json")),c},IS=e=>{if(e.body)return e.body},BS=async(e,t,n,r,i,s,o)=>{const a=Yr.CancelToken.source(),c={url:n,headers:s,data:r??i,method:t.method,withCredentials:e.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(e.HEADERS||{}).filter(l=>l.toLowerCase()==="accept").map(l=>e.HEADERS[l]).includes("application/x-bcs")&&(c.responseType="arraybuffer"),o(()=>a.cancel("The user aborted a request."));try{return await Yr.request(c)}catch(l){const d=l;if(d.response)return d.response;throw l}},kS=(e,t)=>{if(t){const n=e.headers[t];if(Zl(n))return n}},CS=e=>{if(e.status!==204)return e.data},RS=(e,t)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...e.errors}[t.status];if(r)throw new Fa(e,t,r);if(!t.ok)throw new Fa(e,t,"Generic Error")},PS=(e,t)=>new vm(async(n,r,i)=>{try{const s=AS(e,t),o=TS(t),a=IS(t),c=await ES(e,t,o);if(!i.isCancelled){const u=await BS(e,t,s,a,o,c,i),l=CS(u),d=kS(u,t.responseHeader),h={url:s,ok:vS(u.status),status:u.status,statusText:u.statusText,body:d??l};RS(t,h);const y=h.body;try{y.__headers=u.headers}catch{}n(y)}}catch(s){r(s)}}),US=class extends _m{constructor(e){super(e)}request(e){return PS(this.config,e)}},Tm=class{constructor(e){this.httpRequest=e}getAccount(e,t){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:e},query:{ledger_version:t}})}getAccountResources(e,t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:e},query:{ledger_version:t,start:n,limit:r}})}getAccountModules(e,t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:e},query:{ledger_version:t,start:n,limit:r}})}getAccountResource(e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:e,resource_type:t},query:{ledger_version:n}})}getAccountModule(e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:e,module_name:t},query:{ledger_version:n}})}},Em=class{constructor(e){this.httpRequest=e}getBlockByHeight(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:e},query:{with_transactions:t}})}getBlockByVersion(e,t){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:e},query:{with_transactions:t}})}},Im=class{constructor(e){this.httpRequest=e}getEventsByCreationNumber(e,t,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:e,creation_number:t},query:{start:n,limit:r}})}getEventsByEventHandle(e,t,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:e,event_handle:t,field_name:n},query:{start:r,limit:i}})}},Bm=class{constructor(e){this.httpRequest=e}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(e){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:e}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},km=class{constructor(e){this.httpRequest=e}getTableItem(e,t,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:e},query:{ledger_version:n},body:t,mediaType:"application/json"})}getRawTableItem(e,t,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:e},query:{ledger_version:n},body:t,mediaType:"application/json"})}},Cm=class{constructor(e){this.httpRequest=e}getTransactions(e,t){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:e,limit:t}})}submitTransaction(e){return this.httpRequest.request({method:"POST",url:"/transactions",body:e,mediaType:"application/json"})}getTransactionByHash(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:e}})}getTransactionByVersion(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:e}})}getAccountTransactions(e,t,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:e},query:{start:t,limit:n}})}submitBatchTransactions(e){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:e,mediaType:"application/json"})}simulateTransaction(e,t,n,r){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:t,estimate_gas_unit_price:n,estimate_prioritized_gas_unit_price:r},body:e,mediaType:"application/json"})}encodeSubmission(e){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:e,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},Rm=class{constructor(e){this.httpRequest=e}view(e,t){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:t},body:e,mediaType:"application/json"})}},Pm=class{constructor(e,t=US){var n,r,i,s;this.request=new t({BASE:(n=e==null?void 0:e.BASE)!=null?n:"/v1",VERSION:(r=e==null?void 0:e.VERSION)!=null?r:"1.2.0",WITH_CREDENTIALS:(i=e==null?void 0:e.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=e==null?void 0:e.CREDENTIALS)!=null?s:"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.accounts=new Tm(this.request),this.blocks=new Em(this.request),this.events=new Im(this.request),this.general=new Bm(this.request),this.tables=new km(this.request),this.transactions=new Cm(this.request),this.view=new Rm(this.request)}},OS={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Um=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(Um||{}),Om=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(Om||{}),Mm=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(Mm||{}),MS={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},$S={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},NS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},qS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},DS={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},LS={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},HS={type:"Enum"},zS={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},FS={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},jS={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},GS={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},WS={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},VS={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},KS={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},XS={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},ZS={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},YS={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},JS={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},QS={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},e5={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},t5={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},n5={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},r5={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},i5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},s5={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},o5={type:"string"},a5={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},c5={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},u5={type:"string"},l5={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},d5={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},f5={type:"string"},h5={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},p5={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},g5={type:"Enum"},y5={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},m5={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},w5={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},_5={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},b5={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},v5={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},x5={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},S5={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},A5={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},T5={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},E5={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},I5={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},B5={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},k5={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},C5={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},R5={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},P5={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},U5={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},O5={type:"Enum"},M5={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},$5={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},N5={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},q5={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},D5={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},L5={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},H5={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},z5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},F5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},j5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},G5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},W5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},V5={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},K5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},X5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Z5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Y5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},J5={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},Q5={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},eA={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},tA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},nA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},rA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},iA={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},sA={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},oA={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},aA={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},cA={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},uA={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},lA={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},dA={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},fA={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},hA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},pA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},gA={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},yA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},mA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},wA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},_A={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},bA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},vA={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},xA={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},SA={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},AA=new Go(yn.fromHex("0x1"),new cr("string"),new cr("String"),[]);function Yl(e,t,n){if(!(t!=null&&t.includes(typeof e)))throw new Error(n||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function ps(e){throw new Error(e)}function fp(e){return!!e.match(/\s/)}function hp(e){return!!e.match(/[_A-Za-z0-9]/g)}function TA(e,t){const n=e[t];if(n===":"){if(e.slice(t,t+2)==="::")return[["COLON","::"],2];ps("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(fp(n)){let r="";for(let i=t;i<e.length;i+=1){const s=e[i];if(fp(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(hp(n)){let r="";for(let i=t;i<e.length;i+=1){const s=e[i];if(hp(s))r=`${r}${s}`;else break}return[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function EA(e){let t=0;const n=[];for(;t<e.length;){const[r,i]=TA(e,t);r[0]!=="SPACE"&&n.push(r),t+=i}return n}var Jl=class{constructor(e){this.tokens=EA(e)}consume(e){const t=this.tokens.shift();(!t||t[1]!==e)&&ps("Invalid type tag.")}parseCommaList(e,t){const n=[];for(this.tokens.length<=0&&ps("Invalid type tag.");this.tokens[0][1]!==e&&(n.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t)));)this.tokens.length<=0&&ps("Invalid type tag.");return n}parseTypeTag(){this.tokens.length===0&&ps("Invalid type tag.");const[e,t]=this.tokens.shift();if(t==="u8")return new vi;if(t==="u16")return new ua;if(t==="u32")return new la;if(t==="u64")return new Ws;if(t==="u128")return new Vs;if(t==="u256")return new da;if(t==="bool")return new Gs;if(t==="address")return new Ks;if(t==="vector"){this.consume("<");const n=this.parseTypeTag();return this.consume(">"),new fa(n)}if(e==="IDENT"&&(t.startsWith("0x")||t.startsWith("0X"))){const n=t;this.consume("::");const[r,i]=this.tokens.shift();r!=="IDENT"&&ps("Invalid type tag."),this.consume("::");const[s,o]=this.tokens.shift();s!=="IDENT"&&ps("Invalid type tag.");let a=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),a=this.parseCommaList(">",!0),this.consume(">"));const c=new Go(yn.fromHex(n),new cr(i),new cr(o),a);return new Xs(c)}throw new Error("Invalid type tag.")}};function $m(e){if(Yl(e,["boolean","string"]),typeof e=="boolean")return e;if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean string.")}function So(e){if(Yl(e,["number","string"]),typeof e=="number")return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function Ao(e){return Yl(e,["number","bigint","string"]),BigInt(e)}function zf(e,t,n){if(t instanceof Gs){n.serializeBool($m(e));return}if(t instanceof vi){n.serializeU8(So(e));return}if(t instanceof ua){n.serializeU16(So(e));return}if(t instanceof la){n.serializeU32(So(e));return}if(t instanceof Ws){n.serializeU64(Ao(e));return}if(t instanceof Vs){n.serializeU128(Ao(e));return}if(t instanceof da){n.serializeU256(Ao(e));return}if(t instanceof Ks){let r;if(typeof e=="string"||e instanceof ft)r=yn.fromHex(e);else if(e instanceof yn)r=e;else throw new Error("Invalid account address.");r.serialize(n);return}if(t instanceof fa){if(t.value instanceof vi){if(e instanceof Uint8Array){n.serializeBytes(e);return}if(typeof e=="string"){n.serializeStr(e);return}}if(!Array.isArray(e))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(e.length),e.forEach(r=>zf(r,t.value,n));return}if(t instanceof Xs){const{address:r,module_name:i,name:s}=t.value;if(`${ft.fromUint8Array(r.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Yl(e,["string"]),n.serializeStr(e);return}throw new Error("Unsupported arg type.")}function IA(e,t){if(t instanceof Gs)return new Vl($m(e));if(t instanceof vi)return new zl(So(e));if(t instanceof ua)return new Fl(So(e));if(t instanceof la)return new jl(So(e));if(t instanceof Ws)return new Wo(Ao(e));if(t instanceof Vs)return new Gl(Ao(e));if(t instanceof da)return new Wl(Ao(e));if(t instanceof Ks){let n;if(typeof e=="string"||e instanceof ft)n=yn.fromHex(e);else if(e instanceof yn)n=e;else throw new Error("Invalid account address.");return new Vo(n)}if(t instanceof fa&&t.value instanceof vi){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new Ko(e)}throw new Error("Unknown type for TransactionArgument.")}var BA="APTOS::RawTransaction",kA="APTOS::RawTransactionWithData",Zo=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,n)}static getSigningMessage(e){const t=jo.create();if(e instanceof ha)t.update(BA);else if(e instanceof Dl)t.update(kA);else throw new Error("Unknown transaction type.");const n=t.digest(),r=Ai(e),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),i}},pu=class extends Zo{constructor(e,t,n){super(e,n),this.publicKey=t}rawToSigned(e){const t=Zo.getSigningMessage(e),n=this.signingFunction(t),r=new Nl(new Dr(this.publicKey),n);return new wc(e,r)}sign(e){return Ai(this.rawToSigned(e))}},CA=class extends Zo{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Zo.getSigningMessage(e),n=this.signingFunction(t),r=new ql(this.publicKey,n);return new wc(e,r)}sign(e){return Ai(this.rawToSigned(e))}},Eu=class{constructor(e,t){this.abiMap=new Map,e.forEach(n=>{const r=new Pf(n),i=Kl.deserialize(r);let s;if(i instanceof Xo){const o=i,{address:a,name:c}=o.module_name;s=`${ft.fromUint8Array(a.address).toShortString()}::${c.value}::${o.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(fm),expSecFromNow:hm,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((n,r)=>{const i=new vn;return zf(n,e[r].type_tag,i),i.getBytes()})}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map((n,r)=>IA(n,e[r].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,t,n){const r=t.map(o=>new Jl(o).parseTypeTag());let i;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const s=this.abiMap.get(e);if(s instanceof Xo){const o=s,a=Eu.toBCSArgs(o.args,n);i=new Ll(new Ss(o.module_name,new cr(o.name),r,a))}else if(s instanceof Xl){const o=s,a=Eu.toTransactionArguments(o.args,n);i=new bc(new mc(o.code,r,a))}else throw new Error("Unknown ABI format.");return i}build(e,t,n){const{sender:r,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:c}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const u=r instanceof yn?r:yn.fromHex(r),l=BigInt(Math.floor(Date.now()/1e3)+Number(a)),d=this.buildTransactionPayload(e,t,n);if(d)return new ha(u,BigInt(i),d,BigInt(o),BigInt(s),l,new Hl(Number(c)));throw new Error("Invalid ABI.")}},Nm=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const n=(await this.aptosClient.getAccountModules(e)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),r=new Map;return n.forEach(i=>{r.set(i.fullName,i)}),r}async build(e,t,n){if(e=(v=>v.replace(/^0[xX]0*/g,"0x"))(e),e.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,o]=e.split("::"),a=await this.fetchABI(s);if(!a.has(e))throw new Error(`${e} doesn't exist.`);const c=a.get(e),l=c.params.filter(v=>v!=="signer"&&v!=="&signer").map((v,_)=>new xc(`var${_}`,new Jl(v).parseTypeTag())),d=new Xo(c.name,Rs.fromStr(`${s}::${o}`),"",c.generic_type_params.map((v,_)=>new vc(`${_}`)),l),{sender:h,...y}=this.builderConfig,b=h instanceof yn?ft.fromUint8Array(h.address):h,[{sequence_number:A},I,{gas_estimate:U}]=await Promise.all([y!=null&&y.sequenceNumber?Promise.resolve({sequence_number:y==null?void 0:y.sequenceNumber}):this.aptosClient.getAccount(b),y!=null&&y.chainId?Promise.resolve(y==null?void 0:y.chainId):this.aptosClient.getChainId(),y!=null&&y.gasUnitPrice?Promise.resolve({gas_estimate:y==null?void 0:y.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Eu([Ai(d)],{sender:h,sequenceNumber:A,chainId:I,gasUnitPrice:BigInt(U),...y}).build(e,t,n)}};tn([Y4(10*60*1e3)],Nm.prototype,"fetchABI",1);var ka=class{constructor(e,t,n=!1){if(!e)throw new Error("Node URL cannot be empty.");const r=t==null?{}:{...t};n?this.nodeUrl=e:this.nodeUrl=K4(e),r.BASE=this.nodeUrl,(t==null?void 0:t.WITH_CREDENTIALS)===!1?r.WITH_CREDENTIALS=!1:r.WITH_CREDENTIALS=!0,this.client=new Pm(r)}async getAccount(e){return this.client.accounts.getAccount(ft.ensure(e).hex())}async getAccountTransactions(e,t){var n;return this.client.transactions.getAccountTransactions(ft.ensure(e).hex(),(n=t==null?void 0:t.start)==null?void 0:n.toString(),t==null?void 0:t.limit)}async getAccountModules(e,t){const n=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await dp(n,e,1e3,t)}async getAccountModule(e,t,n){var r;return this.client.accounts.getAccountModule(ft.ensure(e).hex(),t,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async getAccountResources(e,t){const n=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await dp(n,e,9999,t)}async getAccountResource(e,t,n){var r;return this.client.accounts.getAccountResource(ft.ensure(e).hex(),t,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}static generateBCSTransaction(e,t){return new pu(r=>{const i=e.signBuffer(r);return new j.Ed25519Signature(i.toUint8Array())},e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new pu(r=>{const i=new Uint8Array(64);return new j.Ed25519Signature(i)},e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,n){const r={sender:e};if(n!=null&&n.sequence_number&&(r.sequenceNumber=n.sequence_number),n!=null&&n.gas_unit_price&&(r.gasUnitPrice=n.gas_unit_price),n!=null&&n.max_gas_amount&&(r.maxGasAmount=n.max_gas_amount),n!=null&&n.expiration_timestamp_secs){const s=Number.parseInt(n.expiration_timestamp_secs,10);r.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new Nm(this,r).build(t.function,t.type_arguments,t.arguments)}async signTransaction(e,t){return Promise.resolve(ka.generateBCSTransaction(e,t))}async getEventsByCreationNumber(e,t,n){var r;return this.client.events.getEventsByCreationNumber(ft.ensure(e).hex(),t.toString(),(r=n==null?void 0:n.start)==null?void 0:r.toString(),n==null?void 0:n.limit)}async getEventsByEventHandle(e,t,n,r){var i;return this.client.events.getEventsByEventHandle(ft.ensure(e).hex(),t,n,(i=r==null?void 0:r.start)==null?void 0:i.toString(),r==null?void 0:r.limit)}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,t,n){let r;return e instanceof za?r=ka.generateBCSSimulation(e,t):e instanceof gc?r=new CA(()=>{const{threshold:s}=e,o=[],a=[];for(let u=0;u<s;u+=1)o.push(u),a.push(new j.Ed25519Signature(new Uint8Array(64)));const c=j.MultiEd25519Signature.createBitmap(o);return new j.MultiEd25519Signature(a,c)},e).sign(t):r=new pu(()=>{const s=new Uint8Array(64);return new j.Ed25519Signature(s)},e.toBytes()).sign(t),this.submitBCSSimulation(r,n)}async submitSignedBCSTransaction(e){return this.client.request.request({url:"/transactions",method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(e,t){var n,r,i;const s={estimate_gas_unit_price:(n=t==null?void 0:t.estimateGasUnitPrice)!=null?n:!1,estimate_max_gas_amount:(r=t==null?void 0:t.estimateMaxGasAmount)!=null?r:!1,estimate_prioritized_gas_unit_price:(i=t==null?void 0:t.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(e){var t;return this.client.transactions.getTransactions((t=e==null?void 0:e.start)==null?void 0:t.toString(),e==null?void 0:e.limit)}async getTransactionByHash(e){return this.client.transactions.getTransactionByHash(e)}async getTransactionByVersion(e){return this.client.transactions.getTransactionByVersion(e.toString())}async transactionPending(e){try{return(await this.client.transactions.getTransactionByHash(e)).type==="pending_transaction"}catch(t){if((t==null?void 0:t.status)===404)return!0;throw t}}async waitForTransactionWithResult(e,t){var n,r;const i=(n=t==null?void 0:t.timeoutSecs)!=null?n:X4,s=(r=t==null?void 0:t.checkSuccess)!=null?r:!1;let o=!0,a=0,c;for(;o&&!(a>=i);){try{if(c=await this.client.transactions.getTransactionByHash(e),o=c.type==="pending_transaction",!o)break}catch(u){const l=u instanceof Fa,d=l&&u.status!==404&&u.status>=400&&u.status<500;if(!l||d)throw u}await V4(1e3),a+=1}if(c===void 0)throw new Error(`Waiting for transaction ${e} failed`);if(o)throw new PA(`Waiting for transaction ${e} timed out after ${i} seconds`,c);if(!s)return c;if(!(c!=null&&c.success))throw new UA(`Transaction ${e} committed to the blockchain but execution failed`,c);return c}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,n){var r;return await this.client.tables.getTableItem(e,t,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async generateRawTransaction(e,t,n){const[{sequence_number:r},i,{gas_estimate:s}]=await Promise.all([this.getAccount(e),this.getChainId(),n!=null&&n.gasUnitPrice?Promise.resolve({gas_estimate:n.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:a,expireTimestamp:c}={maxGasAmount:BigInt(fm),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+hm),...n};return new j.RawTransaction(j.AccountAddress.fromHex(e),BigInt(r),t,o,a,c,new j.ChainId(i))}async generateSignSubmitTransaction(e,t,n){const r=await this.generateRawTransaction(e.address(),t,n),i=ka.generateBCSTransaction(e,r);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(e,t,n,r){const i=new vn;Br(n,i);const s=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural("0x1::code","publish_package_txn",[],[ro(t),i.getBytes()]));return this.generateSignSubmitTransaction(e,s,r)}async generateSignSubmitWaitForTransaction(e,t,n){const r=await this.generateSignSubmitTransaction(e,t,n);return this.waitForTransactionWithResult(r,n)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(e){const t=`0x1::coin::CoinStore<${Z4}>`,[{gas_estimate:n},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),i=r.find(o=>o.type===t);return BigInt(i.data.coin.value)/BigInt(n)}async rotateAuthKeyEd25519(e,t,n){const{sequence_number:r,authentication_key:i}=await this.getAccount(e.address()),s=new za(t),o=new j.RotationProofChallenge(j.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(r),j.AccountAddress.fromHex(e.address()),new j.AccountAddress(new ft(i).toUint8Array()),s.pubKey().toUint8Array()),a=ft.fromUint8Array(Ai(o)),c=e.signHexString(a),u=s.signHexString(a),l=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[_0(0),ro(e.pubKey().toUint8Array()),_0(0),ro(s.pubKey().toUint8Array()),ro(c.toUint8Array()),ro(u.toUint8Array())])),d=await this.generateRawTransaction(e.address(),l,n),h=ka.generateBCSTransaction(e,d);return this.submitSignedBCSTransaction(h)}async lookupOriginalAddress(e){const t=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:n}}=t.data,r=await this.getTableItem(n,{key_type:"address",value_type:"address",key:ft.ensure(e).hex()});return new ft(r)}async getBlockByHeight(e,t){return this.client.blocks.getBlockByHeight(e,t)}async getBlockByVersion(e,t){return this.client.blocks.getBlockByVersion(e,t)}async view(e,t){return this.client.view.view(e,t)}clearCache(e){J4(e)}},Qt=ka;tn([En],Qt.prototype,"getAccount",1);tn([En],Qt.prototype,"getAccountTransactions",1);tn([En],Qt.prototype,"getAccountModules",1);tn([En],Qt.prototype,"getAccountModule",1);tn([En],Qt.prototype,"getAccountResources",1);tn([En],Qt.prototype,"getAccountResource",1);tn([En],Qt.prototype,"getEventsByCreationNumber",1);tn([En],Qt.prototype,"getEventsByEventHandle",1);tn([En],Qt.prototype,"submitSignedBCSTransaction",1);tn([En],Qt.prototype,"submitBCSSimulation",1);tn([En],Qt.prototype,"getTransactions",1);tn([En],Qt.prototype,"getTransactionByHash",1);tn([En],Qt.prototype,"getTransactionByVersion",1);tn([En],Qt.prototype,"getLedgerInfo",1);tn([Ml()],Qt.prototype,"getChainId",1);tn([En],Qt.prototype,"getTableItem",1);tn([En,Ml({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Qt.prototype,"estimateGasPrice",1);tn([En],Qt.prototype,"estimateMaxGasAmount",1);tn([En],Qt.prototype,"getBlockByHeight",1);tn([En],Qt.prototype,"getBlockByVersion",1);tn([En],Qt.prototype,"view",1);var RA=class extends Error{constructor(e,t,n,r){super(t),this.status=e,this.message=t,this.errorCode=n,this.vmErrorCode=r}},PA=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},UA=class extends Error{constructor(e,t){super(e),this.transaction=t}};function En(e,t,n){const r=n.value;return n.value=async function(...s){var o,a;try{return await r.apply(this,[...s])}catch(c){throw c instanceof Fa?new RA(c.status,JSON.stringify({message:c.message,...c.body}),(o=c.body)==null?void 0:o.error_code,(a=c.body)==null?void 0:a.vm_error_code):c}},n}var qm=class{constructor(t,n,r=!1){let i=null,s=null;if(typeof t=="object"&&OA(t)?(i=t.fullnodeUrl,s=t.indexerUrl):(i=eS[t],s=Q4[t]),!i||!s)throw new Error("network is not provided");this.aptosClient=new Qt(i,n,r),this.indexerClient=new wm(s)}};function Dm(e,t,n){Object.getOwnPropertyNames(t.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(t.prototype,r);i&&(i.value=function(...s){return this[n][r](...s)},Object.defineProperty(e.prototype,r,i))})}Dm(qm,Qt,"aptosClient");Dm(qm,wm,"indexerClient");function OA(e){return e.fullnodeUrl!==void 0&&typeof e.fullnodeUrl=="string"&&e.indexerUrl!==void 0&&typeof e.indexerUrl=="string"}var MA="a11ceb0b0500000006010004020408030c0a05161d073339086c400000010100020700010307000104030100010504020007060c0508000800030503010801000405080008000304060c0801050306737472696e6705746f6b656e06537472696e6707546f6b656e4964136372656174655f746f6b656e5f69645f726177087472616e73666572000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000010c0b010b020b030b0411000c070b000b070b050b06110102",$A=["01186372656174655F636F6C6C656374696F6E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E3020637265617465206120656D70747920746F6B656E20636F6C6C656374696F6E207769746820706172616D65746572730005046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700076D6178696D756D020E6D75746174655F73657474696E670600","01136372656174655F746F6B656E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E1D2063726561746520746F6B656E20776974682072617720696E70757473000D0A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000762616C616E636502076D6178696D756D020375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E670015726F79616C74795F70617965655F61646472657373041A726F79616C74795F706F696E74735F64656E6F6D696E61746F720218726F79616C74795F706F696E74735F6E756D657261746F72020E6D75746174655F73657474696E6706000D70726F70657274795F6B6579730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000F70726F70657274795F76616C7565730606010E70726F70657274795F74797065730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700","01166469726563745f7472616e736665725f736372697074000000000000000000000000000000000000000000000000000000000000000305746f6b656e0000051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010C6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000006087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E0206616D6F756E7402","010C636C61696D5F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E73666572730000050673656E646572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","011363616E63656C5F6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000005087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","01176d75746174655f746f6b656e5f70726f70657274696573000000000000000000000000000000000000000000000000000000000000000305746f6b656eba02206d75746174652074686520746f6b656e2070726f706572747920616e64207361766520746865206e65772070726f706572747920696e20546f6b656e53746f72650a2069662074686520746f6b656e2070726f70657274795f76657273696f6e20697320302c2077652077696c6c206372656174652061206e65772070726f70657274795f76657273696f6e2070657220746f6b656e20746f2067656e65726174652061206e657720746f6b656e5f69642070657220746f6b656e0a2069662074686520746f6b656e2070726f70657274795f76657273696f6e206973206e6f7420302c2077652077696c6c206a75737420757064617465207468652070726f70657274794d617020616e642075736520746865206578697374696e6720746f6b656e5f6964202870726f70657274795f76657273696f6e2900090b746f6b656e5f6f776e6572040763726561746f72040f636f6c6c656374696f6e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000a746f6b656e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e670016746f6b656e5f70726f70657274795f76657273696f6e0206616d6f756e7402046b6579730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000676616c7565730606010574797065730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700","01166f70745f696e5f6469726563745f7472616e73666572000000000000000000000000000000000000000000000000000000000000000305746f6b656e000001066f70745f696e00","01046275726e000000000000000000000000000000000000000000000000000000000000000305746f6b656e20204275726e206120746f6b656e2062792074686520746f6b656e206f776e657200051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010f6275726e5f62795f63726561746f72000000000000000000000000000000000000000000000000000000000000000305746f6b656e6a204275726e206120746f6b656e2062792063726561746f72207768656e2074686520746f6b656e2773204255524e41424c455f42595f43524541544f5220697320747275650a2054686520746f6b656e206973206f776e65642061742061646472657373206f776e65720005056f776e6572040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402"],Lm=class{constructor(e,t){this.type=e,this.value=t}},Ff=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function Hm(e){let t;return e==="string"||e==="String"?t=new Xs(AA):t=new Jl(e).parseTypeTag(),t}function NA(e,t){if(e.length!==t.length)throw new Error("Length of property values and types not match");const n=new Array;return t.forEach((r,i)=>{try{const s=Hm(r),o=new vn;zf(e[i],s,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(e[i]))}}),n}function zm(e){const t=e.map.data,n=new Ff;return t.forEach(r=>{const{key:i}=r,s=r.value.value,o=r.value.type,a=Hm(o),c=qA(a,s),u=new Lm(o,c);n.setProperty(i,u)}),n}function qA(e,t){const n=new Pf(new ft(t).toUint8Array());let r="";return e instanceof vi?r=n.deserializeU8().toString():e instanceof Ws?r=n.deserializeU64().toString():e instanceof Vs?r=n.deserializeU128().toString():e instanceof Gs?r=n.deserializeBool()?"true":"false":e instanceof Ks?r=ft.fromUint8Array(n.deserializeFixedBytes(32)).hex():e instanceof Xs&&e.isStringTypeTag()?r=n.deserializeStr():r=t,r}var DA={};Ol(DA,{PropertyMap:()=>Ff,PropertyValue:()=>Lm,Token:()=>jm,TokenData:()=>Fm});var Fm=class{constructor(e,t,n,r,i,s,o,a){this.collection=e,this.description=t,this.name=n,this.maximum=r,this.supply=i,this.uri=s,this.default_properties=zm(o),this.mutability_config=a}},jm=class{constructor(e,t,n){this.id=e,this.amount=t,this.token_properties=zm(n)}},LA=class{constructor(e){this.aptosClient=e,this.transactionBuilder=new Eu($A.map(t=>new ft(t).toUint8Array()))}async createCollection(e,t,n,r,i=Ua,s){const o=this.transactionBuilder.buildTransactionPayload("0x3::token::create_collection_script",[],[t,n,r,i,[!1,!1,!1]]);return this.aptosClient.generateSignSubmitTransaction(e,o,s)}async createToken(e,t,n,r,i,s,o=Ua,a=e.address(),c=0,u=0,l=[],d=[],h=[],y){const b=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[t,n,r,i,o,s,a,c,u,[!1,!1,!1,!1,!1],l,NA(d,h),h]);return this.aptosClient.generateSignSubmitTransaction(e,b,y)}async createTokenWithMutabilityConfig(e,t,n,r,i,s,o=Ua,a=e.address(),c=0,u=0,l=[],d=[],h=[],y=[!1,!1,!1,!1,!1],b){const A=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[t,n,r,i,o,s,a,c,u,y,l,d,h]);return this.aptosClient.generateSignSubmitTransaction(e,A,b)}async offerToken(e,t,n,r,i,s,o=0,a){const c=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::offer_script",[],[t,n,r,i,o,s]);return this.aptosClient.generateSignSubmitTransaction(e,c,a)}async claimToken(e,t,n,r,i,s=0,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::claim_script",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,a,o)}async cancelTokenOffer(e,t,n,r,i,s=0,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::cancel_offer_script",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,a,o)}async directTransferToken(e,t,n,r,i,s,o=0,a){const c=this.transactionBuilder.buildTransactionPayload("0x3::token::direct_transfer_script",[],[n,r,i,o,s]),u=await this.aptosClient.generateRawTransaction(e.address(),c,a),l=new j.MultiAgentRawTransaction(u,[j.AccountAddress.fromHex(t.address())]),d=new j.Ed25519Signature(e.signBuffer(Zo.getSigningMessage(l)).toUint8Array()),h=new j.AccountAuthenticatorEd25519(new j.Ed25519PublicKey(e.signingKey.publicKey),d),y=new j.Ed25519Signature(t.signBuffer(Zo.getSigningMessage(l)).toUint8Array()),b=new j.AccountAuthenticatorEd25519(new j.Ed25519PublicKey(t.signingKey.publicKey),y),A=new j.TransactionAuthenticatorMultiAgent(h,[j.AccountAddress.fromHex(t.address())],[b]),I=Ai(new j.SignedTransaction(u,A));return(await this.aptosClient.submitSignedBCSTransaction(I)).hash}async optInTokenTransfer(e,t,n){const r=this.transactionBuilder.buildTransactionPayload("0x3::token::opt_in_direct_transfer",[],[t]);return this.aptosClient.generateSignSubmitTransaction(e,r,n)}async transferWithOptIn(e,t,n,r,i,s,o,a){const c=new bc(new mc(new ft(MA).toUint8Array(),[],[new Vo(j.AccountAddress.fromHex(t)),new Ko(new TextEncoder().encode(n)),new Ko(new TextEncoder().encode(r)),new Wo(BigInt(i)),new Vo(j.AccountAddress.fromHex(s)),new Wo(BigInt(o))]));return this.aptosClient.generateSignSubmitTransaction(e,c,a)}async burnByCreator(e,t,n,r,i,s,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token::burn_by_creator",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,a,o)}async burnByOwner(e,t,n,r,i,s,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token::burn",[],[t,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(e,a,o)}async mutateTokenProperties(e,t,n,r,i,s,o,a,c,u,l){const d=this.transactionBuilder.buildTransactionPayload("0x3::token::mutate_token_properties",[],[t,n,r,i,s,o,a,c,u]);return this.aptosClient.generateSignSubmitTransaction(e,d,l)}async getCollectionData(e,t){const r=(await this.aptosClient.getAccountResources(e)).find(a=>a.type==="0x3::token::Collections"),{handle:i}=r.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:t};return await this.aptosClient.getTableItem(i,s)}async getTokenData(e,t,n){const r=e instanceof ft?e.hex():e,i=await this.aptosClient.getAccountResource(r,"0x3::token::Collections"),{handle:s}=i.data.token_data,a={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:r,collection:t,name:n}},c=await this.aptosClient.getTableItem(s,a);return new Fm(c.collection,c.description,c.name,c.maximum,c.supply,c.uri,c.default_properties,c.mutability_config)}async getToken(e,t,n,r="0"){const i={creator:e instanceof ft?e.hex():e,collection:t,name:n};return this.getTokenForAccount(e,{token_data_id:i,property_version:r})}async getTokenForAccount(e,t){const n=await this.aptosClient.getAccountResource(e instanceof ft?e.hex():e,"0x3::token::TokenStore"),{handle:r}=n.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:t};try{const s=await this.aptosClient.getTableItem(r,i);return new jm(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:t,amount:"0",token_properties:new Ff}:s}}},C={},HA={get exports(){return C},set exports(e){C=e}};(function(e){(function(t,n){function r(E,f){if(!E)throw new Error(f||"Assertion failed")}function i(E,f){E.super_=f;var p=function(){};p.prototype=f.prototype,E.prototype=new p,E.prototype.constructor=E}function s(E,f,p){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(p=f,f=10),this._init(E||0,f||10,p||"be"))}typeof t=="object"?t.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=J0.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,p){return f.cmp(p)>0?f:p},s.min=function(f,p){return f.cmp(p)<0?f:p},s.prototype._init=function(f,p,w){if(typeof f=="number")return this._initNumber(f,p,w);if(typeof f=="object")return this._initArray(f,p,w);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),f=f.toString().replace(/\s+/g,"");var k=0;f[0]==="-"&&(k++,this.negative=1),k<f.length&&(p===16?this._parseHex(f,k,w):(this._parseBase(f,p,k),w==="le"&&this._initArray(this.toArray(),p,w)))},s.prototype._initNumber=function(f,p,w){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),p,w)},s.prototype._initArray=function(f,p,w){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var q,z,X=0;if(w==="be")for(k=f.length-1,q=0;k>=0;k-=3)z=f[k]|f[k-1]<<8|f[k-2]<<16,this.words[q]|=z<<X&67108863,this.words[q+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,q++);else if(w==="le")for(k=0,q=0;k<f.length;k+=3)z=f[k]|f[k+1]<<8|f[k+2]<<16,this.words[q]|=z<<X&67108863,this.words[q+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,q++);return this._strip()};function a(E,f){var p=E.charCodeAt(f);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;r(!1,"Invalid character in "+E)}function c(E,f,p){var w=a(E,p);return p-1>=f&&(w|=a(E,p-1)<<4),w}s.prototype._parseHex=function(f,p,w){this.length=Math.ceil((f.length-p)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var q=0,z=0,X;if(w==="be")for(k=f.length-1;k>=p;k-=2)X=c(f,p,k)<<q,this.words[z]|=X&67108863,q>=18?(q-=18,z+=1,this.words[z]|=X>>>26):q+=8;else{var O=f.length-p;for(k=O%2===0?p+1:p;k<f.length;k+=2)X=c(f,p,k)<<q,this.words[z]|=X&67108863,q>=18?(q-=18,z+=1,this.words[z]|=X>>>26):q+=8}this._strip()};function u(E,f,p,w){for(var k=0,q=0,z=Math.min(E.length,p),X=f;X<z;X++){var O=E.charCodeAt(X)-48;k*=w,O>=49?q=O-49+10:O>=17?q=O-17+10:q=O,r(O>=0&&q<w,"Invalid character"),k+=q}return k}s.prototype._parseBase=function(f,p,w){this.words=[0],this.length=1;for(var k=0,q=1;q<=67108863;q*=p)k++;k--,q=q/p|0;for(var z=f.length-w,X=z%k,O=Math.min(z,z-X)+w,m=0,L=w;L<O;L+=k)m=u(f,L,L+k,p),this.imuln(q),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(X!==0){var we=1;for(m=u(f,L,f.length,p),L=0;L<X;L++)we*=p;this.imuln(we),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var p=0;p<this.length;p++)f.words[p]=this.words[p];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(E,f){E.words=f.words,E.length=f.length,E.negative=f.negative,E.red=f.red}if(s.prototype._move=function(f){l(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,p){f=f||10,p=p|0||1;var w;if(f===16||f==="hex"){w="";for(var k=0,q=0,z=0;z<this.length;z++){var X=this.words[z],O=((X<<k|q)&16777215).toString(16);q=X>>>24-k&16777215,k+=2,k>=26&&(k-=26,z--),q!==0||z!==this.length-1?w=h[6-O.length]+O+w:w=O+w}for(q!==0&&(w=q.toString(16)+w);w.length%p!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(f===(f|0)&&f>=2&&f<=36){var m=y[f],L=b[f];w="";var we=this.clone();for(we.negative=0;!we.isZero();){var T=we.modrn(L).toString(f);we=we.idivn(L),we.isZero()?w=T+w:w=h[m-T.length]+T+w}for(this.isZero()&&(w="0"+w);w.length%p!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,p){return this.toArrayLike(o,f,p)}),s.prototype.toArray=function(f,p){return this.toArrayLike(Array,f,p)};var A=function(f,p){return f.allocUnsafe?f.allocUnsafe(p):new f(p)};s.prototype.toArrayLike=function(f,p,w){this._strip();var k=this.byteLength(),q=w||Math.max(1,k);r(k<=q,"byte array longer than desired length"),r(q>0,"Requested array length <= 0");var z=A(f,q),X=p==="le"?"LE":"BE";return this["_toArrayLike"+X](z,k),z},s.prototype._toArrayLikeLE=function(f,p){for(var w=0,k=0,q=0,z=0;q<this.length;q++){var X=this.words[q]<<z|k;f[w++]=X&255,w<f.length&&(f[w++]=X>>8&255),w<f.length&&(f[w++]=X>>16&255),z===6?(w<f.length&&(f[w++]=X>>24&255),k=0,z=0):(k=X>>>24,z+=2)}if(w<f.length)for(f[w++]=k;w<f.length;)f[w++]=0},s.prototype._toArrayLikeBE=function(f,p){for(var w=f.length-1,k=0,q=0,z=0;q<this.length;q++){var X=this.words[q]<<z|k;f[w--]=X&255,w>=0&&(f[w--]=X>>8&255),w>=0&&(f[w--]=X>>16&255),z===6?(w>=0&&(f[w--]=X>>24&255),k=0,z=0):(k=X>>>24,z+=2)}if(w>=0)for(f[w--]=k;w>=0;)f[w--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var p=f,w=0;return p>=4096&&(w+=13,p>>>=13),p>=64&&(w+=7,p>>>=7),p>=8&&(w+=4,p>>>=4),p>=2&&(w+=2,p>>>=2),w+p},s.prototype._zeroBits=function(f){if(f===0)return 26;var p=f,w=0;return p&8191||(w+=13,p>>>=13),p&127||(w+=7,p>>>=7),p&15||(w+=4,p>>>=4),p&3||(w+=2,p>>>=2),p&1||w++,w},s.prototype.bitLength=function(){var f=this.words[this.length-1],p=this._countBits(f);return(this.length-1)*26+p};function I(E){for(var f=new Array(E.bitLength()),p=0;p<f.length;p++){var w=p/26|0,k=p%26;f[p]=E.words[w]>>>k&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,p=0;p<this.length;p++){var w=this._zeroBits(this.words[p]);if(f+=w,w!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]|f.words[p];return this._strip()},s.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var p;this.length>f.length?p=f:p=this;for(var w=0;w<p.length;w++)this.words[w]=this.words[w]&f.words[w];return this.length=p.length,this._strip()},s.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var p,w;this.length>f.length?(p=this,w=f):(p=f,w=this);for(var k=0;k<w.length;k++)this.words[k]=p.words[k]^w.words[k];if(this!==p)for(;k<p.length;k++)this.words[k]=p.words[k];return this.length=p.length,this._strip()},s.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var p=Math.ceil(f/26)|0,w=f%26;this._expand(p),w>0&&p--;for(var k=0;k<p;k++)this.words[k]=~this.words[k]&67108863;return w>0&&(this.words[k]=~this.words[k]&67108863>>26-w),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,p){r(typeof f=="number"&&f>=0);var w=f/26|0,k=f%26;return this._expand(w+1),p?this.words[w]=this.words[w]|1<<k:this.words[w]=this.words[w]&~(1<<k),this._strip()},s.prototype.iadd=function(f){var p;if(this.negative!==0&&f.negative===0)return this.negative=0,p=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,p=this.isub(f),f.negative=1,p._normSign();var w,k;this.length>f.length?(w=this,k=f):(w=f,k=this);for(var q=0,z=0;z<k.length;z++)p=(w.words[z]|0)+(k.words[z]|0)+q,this.words[z]=p&67108863,q=p>>>26;for(;q!==0&&z<w.length;z++)p=(w.words[z]|0)+q,this.words[z]=p&67108863,q=p>>>26;if(this.length=w.length,q!==0)this.words[this.length]=q,this.length++;else if(w!==this)for(;z<w.length;z++)this.words[z]=w.words[z];return this},s.prototype.add=function(f){var p;return f.negative!==0&&this.negative===0?(f.negative=0,p=this.sub(f),f.negative^=1,p):f.negative===0&&this.negative!==0?(this.negative=0,p=f.sub(this),this.negative=1,p):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var p=this.iadd(f);return f.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var w=this.cmp(f);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,q;w>0?(k=this,q=f):(k=f,q=this);for(var z=0,X=0;X<q.length;X++)p=(k.words[X]|0)-(q.words[X]|0)+z,z=p>>26,this.words[X]=p&67108863;for(;z!==0&&X<k.length;X++)p=(k.words[X]|0)+z,z=p>>26,this.words[X]=p&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function U(E,f,p){p.negative=f.negative^E.negative;var w=E.length+f.length|0;p.length=w,w=w-1|0;var k=E.words[0]|0,q=f.words[0]|0,z=k*q,X=z&67108863,O=z/67108864|0;p.words[0]=X;for(var m=1;m<w;m++){for(var L=O>>>26,we=O&67108863,T=Math.min(m,f.length-1),ne=Math.max(0,m-E.length+1);ne<=T;ne++){var fe=m-ne|0;k=E.words[fe]|0,q=f.words[ne]|0,z=k*q+we,L+=z/67108864|0,we=z&67108863}p.words[m]=we|0,O=L|0}return O!==0?p.words[m]=O|0:p.length--,p._strip()}var B=function(f,p,w){var k=f.words,q=p.words,z=w.words,X=0,O,m,L,we=k[0]|0,T=we&8191,ne=we>>>13,fe=k[1]|0,G=fe&8191,D=fe>>>13,V=k[2]|0,Z=V&8191,Q=V>>>13,se=k[3]|0,ie=se&8191,ae=se>>>13,Ce=k[4]|0,Ie=Ce&8191,xe=Ce>>>13,De=k[5]|0,Ee=De&8191,Ue=De>>>13,Fe=k[6]|0,ke=Fe&8191,Te=Fe>>>13,at=k[7]|0,He=at&8191,je=at>>>13,Vt=k[8]|0,Ye=Vt&8191,Rt=Vt>>>13,qn=k[9]|0,Dt=qn&8191,zt=qn>>>13,Kn=q[0]|0,$t=Kn&8191,Pt=Kn>>>13,kr=q[1]|0,Kt=kr&8191,Xt=kr>>>13,Wr=q[2]|0,an=Wr&8191,cn=Wr>>>13,pi=q[3]|0,Nt=pi&8191,Ft=pi>>>13,lr=q[4]|0,nn=lr&8191,rn=lr>>>13,ri=q[5]|0,un=ri&8191,It=ri>>>13,ii=q[6]|0,x=ii&8191,R=ii>>>13,P=q[7]|0,g=P&8191,M=P>>>13,te=q[8]|0,ee=te&8191,le=te>>>13,_e=q[9]|0,Ae=_e&8191,be=_e>>>13;w.negative=f.negative^p.negative,w.length=19,O=Math.imul(T,$t),m=Math.imul(T,Pt),m=m+Math.imul(ne,$t)|0,L=Math.imul(ne,Pt);var gt=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(gt>>>26)|0,gt&=67108863,O=Math.imul(G,$t),m=Math.imul(G,Pt),m=m+Math.imul(D,$t)|0,L=Math.imul(D,Pt),O=O+Math.imul(T,Kt)|0,m=m+Math.imul(T,Xt)|0,m=m+Math.imul(ne,Kt)|0,L=L+Math.imul(ne,Xt)|0;var Pe=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,O=Math.imul(Z,$t),m=Math.imul(Z,Pt),m=m+Math.imul(Q,$t)|0,L=Math.imul(Q,Pt),O=O+Math.imul(G,Kt)|0,m=m+Math.imul(G,Xt)|0,m=m+Math.imul(D,Kt)|0,L=L+Math.imul(D,Xt)|0,O=O+Math.imul(T,an)|0,m=m+Math.imul(T,cn)|0,m=m+Math.imul(ne,an)|0,L=L+Math.imul(ne,cn)|0;var Ge=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,O=Math.imul(ie,$t),m=Math.imul(ie,Pt),m=m+Math.imul(ae,$t)|0,L=Math.imul(ae,Pt),O=O+Math.imul(Z,Kt)|0,m=m+Math.imul(Z,Xt)|0,m=m+Math.imul(Q,Kt)|0,L=L+Math.imul(Q,Xt)|0,O=O+Math.imul(G,an)|0,m=m+Math.imul(G,cn)|0,m=m+Math.imul(D,an)|0,L=L+Math.imul(D,cn)|0,O=O+Math.imul(T,Nt)|0,m=m+Math.imul(T,Ft)|0,m=m+Math.imul(ne,Nt)|0,L=L+Math.imul(ne,Ft)|0;var Ke=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,O=Math.imul(Ie,$t),m=Math.imul(Ie,Pt),m=m+Math.imul(xe,$t)|0,L=Math.imul(xe,Pt),O=O+Math.imul(ie,Kt)|0,m=m+Math.imul(ie,Xt)|0,m=m+Math.imul(ae,Kt)|0,L=L+Math.imul(ae,Xt)|0,O=O+Math.imul(Z,an)|0,m=m+Math.imul(Z,cn)|0,m=m+Math.imul(Q,an)|0,L=L+Math.imul(Q,cn)|0,O=O+Math.imul(G,Nt)|0,m=m+Math.imul(G,Ft)|0,m=m+Math.imul(D,Nt)|0,L=L+Math.imul(D,Ft)|0,O=O+Math.imul(T,nn)|0,m=m+Math.imul(T,rn)|0,m=m+Math.imul(ne,nn)|0,L=L+Math.imul(ne,rn)|0;var Je=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Je>>>26)|0,Je&=67108863,O=Math.imul(Ee,$t),m=Math.imul(Ee,Pt),m=m+Math.imul(Ue,$t)|0,L=Math.imul(Ue,Pt),O=O+Math.imul(Ie,Kt)|0,m=m+Math.imul(Ie,Xt)|0,m=m+Math.imul(xe,Kt)|0,L=L+Math.imul(xe,Xt)|0,O=O+Math.imul(ie,an)|0,m=m+Math.imul(ie,cn)|0,m=m+Math.imul(ae,an)|0,L=L+Math.imul(ae,cn)|0,O=O+Math.imul(Z,Nt)|0,m=m+Math.imul(Z,Ft)|0,m=m+Math.imul(Q,Nt)|0,L=L+Math.imul(Q,Ft)|0,O=O+Math.imul(G,nn)|0,m=m+Math.imul(G,rn)|0,m=m+Math.imul(D,nn)|0,L=L+Math.imul(D,rn)|0,O=O+Math.imul(T,un)|0,m=m+Math.imul(T,It)|0,m=m+Math.imul(ne,un)|0,L=L+Math.imul(ne,It)|0;var st=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(st>>>26)|0,st&=67108863,O=Math.imul(ke,$t),m=Math.imul(ke,Pt),m=m+Math.imul(Te,$t)|0,L=Math.imul(Te,Pt),O=O+Math.imul(Ee,Kt)|0,m=m+Math.imul(Ee,Xt)|0,m=m+Math.imul(Ue,Kt)|0,L=L+Math.imul(Ue,Xt)|0,O=O+Math.imul(Ie,an)|0,m=m+Math.imul(Ie,cn)|0,m=m+Math.imul(xe,an)|0,L=L+Math.imul(xe,cn)|0,O=O+Math.imul(ie,Nt)|0,m=m+Math.imul(ie,Ft)|0,m=m+Math.imul(ae,Nt)|0,L=L+Math.imul(ae,Ft)|0,O=O+Math.imul(Z,nn)|0,m=m+Math.imul(Z,rn)|0,m=m+Math.imul(Q,nn)|0,L=L+Math.imul(Q,rn)|0,O=O+Math.imul(G,un)|0,m=m+Math.imul(G,It)|0,m=m+Math.imul(D,un)|0,L=L+Math.imul(D,It)|0,O=O+Math.imul(T,x)|0,m=m+Math.imul(T,R)|0,m=m+Math.imul(ne,x)|0,L=L+Math.imul(ne,R)|0;var et=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(et>>>26)|0,et&=67108863,O=Math.imul(He,$t),m=Math.imul(He,Pt),m=m+Math.imul(je,$t)|0,L=Math.imul(je,Pt),O=O+Math.imul(ke,Kt)|0,m=m+Math.imul(ke,Xt)|0,m=m+Math.imul(Te,Kt)|0,L=L+Math.imul(Te,Xt)|0,O=O+Math.imul(Ee,an)|0,m=m+Math.imul(Ee,cn)|0,m=m+Math.imul(Ue,an)|0,L=L+Math.imul(Ue,cn)|0,O=O+Math.imul(Ie,Nt)|0,m=m+Math.imul(Ie,Ft)|0,m=m+Math.imul(xe,Nt)|0,L=L+Math.imul(xe,Ft)|0,O=O+Math.imul(ie,nn)|0,m=m+Math.imul(ie,rn)|0,m=m+Math.imul(ae,nn)|0,L=L+Math.imul(ae,rn)|0,O=O+Math.imul(Z,un)|0,m=m+Math.imul(Z,It)|0,m=m+Math.imul(Q,un)|0,L=L+Math.imul(Q,It)|0,O=O+Math.imul(G,x)|0,m=m+Math.imul(G,R)|0,m=m+Math.imul(D,x)|0,L=L+Math.imul(D,R)|0,O=O+Math.imul(T,g)|0,m=m+Math.imul(T,M)|0,m=m+Math.imul(ne,g)|0,L=L+Math.imul(ne,M)|0;var nt=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(nt>>>26)|0,nt&=67108863,O=Math.imul(Ye,$t),m=Math.imul(Ye,Pt),m=m+Math.imul(Rt,$t)|0,L=Math.imul(Rt,Pt),O=O+Math.imul(He,Kt)|0,m=m+Math.imul(He,Xt)|0,m=m+Math.imul(je,Kt)|0,L=L+Math.imul(je,Xt)|0,O=O+Math.imul(ke,an)|0,m=m+Math.imul(ke,cn)|0,m=m+Math.imul(Te,an)|0,L=L+Math.imul(Te,cn)|0,O=O+Math.imul(Ee,Nt)|0,m=m+Math.imul(Ee,Ft)|0,m=m+Math.imul(Ue,Nt)|0,L=L+Math.imul(Ue,Ft)|0,O=O+Math.imul(Ie,nn)|0,m=m+Math.imul(Ie,rn)|0,m=m+Math.imul(xe,nn)|0,L=L+Math.imul(xe,rn)|0,O=O+Math.imul(ie,un)|0,m=m+Math.imul(ie,It)|0,m=m+Math.imul(ae,un)|0,L=L+Math.imul(ae,It)|0,O=O+Math.imul(Z,x)|0,m=m+Math.imul(Z,R)|0,m=m+Math.imul(Q,x)|0,L=L+Math.imul(Q,R)|0,O=O+Math.imul(G,g)|0,m=m+Math.imul(G,M)|0,m=m+Math.imul(D,g)|0,L=L+Math.imul(D,M)|0,O=O+Math.imul(T,ee)|0,m=m+Math.imul(T,le)|0,m=m+Math.imul(ne,ee)|0,L=L+Math.imul(ne,le)|0;var tt=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(tt>>>26)|0,tt&=67108863,O=Math.imul(Dt,$t),m=Math.imul(Dt,Pt),m=m+Math.imul(zt,$t)|0,L=Math.imul(zt,Pt),O=O+Math.imul(Ye,Kt)|0,m=m+Math.imul(Ye,Xt)|0,m=m+Math.imul(Rt,Kt)|0,L=L+Math.imul(Rt,Xt)|0,O=O+Math.imul(He,an)|0,m=m+Math.imul(He,cn)|0,m=m+Math.imul(je,an)|0,L=L+Math.imul(je,cn)|0,O=O+Math.imul(ke,Nt)|0,m=m+Math.imul(ke,Ft)|0,m=m+Math.imul(Te,Nt)|0,L=L+Math.imul(Te,Ft)|0,O=O+Math.imul(Ee,nn)|0,m=m+Math.imul(Ee,rn)|0,m=m+Math.imul(Ue,nn)|0,L=L+Math.imul(Ue,rn)|0,O=O+Math.imul(Ie,un)|0,m=m+Math.imul(Ie,It)|0,m=m+Math.imul(xe,un)|0,L=L+Math.imul(xe,It)|0,O=O+Math.imul(ie,x)|0,m=m+Math.imul(ie,R)|0,m=m+Math.imul(ae,x)|0,L=L+Math.imul(ae,R)|0,O=O+Math.imul(Z,g)|0,m=m+Math.imul(Z,M)|0,m=m+Math.imul(Q,g)|0,L=L+Math.imul(Q,M)|0,O=O+Math.imul(G,ee)|0,m=m+Math.imul(G,le)|0,m=m+Math.imul(D,ee)|0,L=L+Math.imul(D,le)|0,O=O+Math.imul(T,Ae)|0,m=m+Math.imul(T,be)|0,m=m+Math.imul(ne,Ae)|0,L=L+Math.imul(ne,be)|0;var Me=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Me>>>26)|0,Me&=67108863,O=Math.imul(Dt,Kt),m=Math.imul(Dt,Xt),m=m+Math.imul(zt,Kt)|0,L=Math.imul(zt,Xt),O=O+Math.imul(Ye,an)|0,m=m+Math.imul(Ye,cn)|0,m=m+Math.imul(Rt,an)|0,L=L+Math.imul(Rt,cn)|0,O=O+Math.imul(He,Nt)|0,m=m+Math.imul(He,Ft)|0,m=m+Math.imul(je,Nt)|0,L=L+Math.imul(je,Ft)|0,O=O+Math.imul(ke,nn)|0,m=m+Math.imul(ke,rn)|0,m=m+Math.imul(Te,nn)|0,L=L+Math.imul(Te,rn)|0,O=O+Math.imul(Ee,un)|0,m=m+Math.imul(Ee,It)|0,m=m+Math.imul(Ue,un)|0,L=L+Math.imul(Ue,It)|0,O=O+Math.imul(Ie,x)|0,m=m+Math.imul(Ie,R)|0,m=m+Math.imul(xe,x)|0,L=L+Math.imul(xe,R)|0,O=O+Math.imul(ie,g)|0,m=m+Math.imul(ie,M)|0,m=m+Math.imul(ae,g)|0,L=L+Math.imul(ae,M)|0,O=O+Math.imul(Z,ee)|0,m=m+Math.imul(Z,le)|0,m=m+Math.imul(Q,ee)|0,L=L+Math.imul(Q,le)|0,O=O+Math.imul(G,Ae)|0,m=m+Math.imul(G,be)|0,m=m+Math.imul(D,Ae)|0,L=L+Math.imul(D,be)|0;var ze=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(ze>>>26)|0,ze&=67108863,O=Math.imul(Dt,an),m=Math.imul(Dt,cn),m=m+Math.imul(zt,an)|0,L=Math.imul(zt,cn),O=O+Math.imul(Ye,Nt)|0,m=m+Math.imul(Ye,Ft)|0,m=m+Math.imul(Rt,Nt)|0,L=L+Math.imul(Rt,Ft)|0,O=O+Math.imul(He,nn)|0,m=m+Math.imul(He,rn)|0,m=m+Math.imul(je,nn)|0,L=L+Math.imul(je,rn)|0,O=O+Math.imul(ke,un)|0,m=m+Math.imul(ke,It)|0,m=m+Math.imul(Te,un)|0,L=L+Math.imul(Te,It)|0,O=O+Math.imul(Ee,x)|0,m=m+Math.imul(Ee,R)|0,m=m+Math.imul(Ue,x)|0,L=L+Math.imul(Ue,R)|0,O=O+Math.imul(Ie,g)|0,m=m+Math.imul(Ie,M)|0,m=m+Math.imul(xe,g)|0,L=L+Math.imul(xe,M)|0,O=O+Math.imul(ie,ee)|0,m=m+Math.imul(ie,le)|0,m=m+Math.imul(ae,ee)|0,L=L+Math.imul(ae,le)|0,O=O+Math.imul(Z,Ae)|0,m=m+Math.imul(Z,be)|0,m=m+Math.imul(Q,Ae)|0,L=L+Math.imul(Q,be)|0;var Oe=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,O=Math.imul(Dt,Nt),m=Math.imul(Dt,Ft),m=m+Math.imul(zt,Nt)|0,L=Math.imul(zt,Ft),O=O+Math.imul(Ye,nn)|0,m=m+Math.imul(Ye,rn)|0,m=m+Math.imul(Rt,nn)|0,L=L+Math.imul(Rt,rn)|0,O=O+Math.imul(He,un)|0,m=m+Math.imul(He,It)|0,m=m+Math.imul(je,un)|0,L=L+Math.imul(je,It)|0,O=O+Math.imul(ke,x)|0,m=m+Math.imul(ke,R)|0,m=m+Math.imul(Te,x)|0,L=L+Math.imul(Te,R)|0,O=O+Math.imul(Ee,g)|0,m=m+Math.imul(Ee,M)|0,m=m+Math.imul(Ue,g)|0,L=L+Math.imul(Ue,M)|0,O=O+Math.imul(Ie,ee)|0,m=m+Math.imul(Ie,le)|0,m=m+Math.imul(xe,ee)|0,L=L+Math.imul(xe,le)|0,O=O+Math.imul(ie,Ae)|0,m=m+Math.imul(ie,be)|0,m=m+Math.imul(ae,Ae)|0,L=L+Math.imul(ae,be)|0;var $e=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+($e>>>26)|0,$e&=67108863,O=Math.imul(Dt,nn),m=Math.imul(Dt,rn),m=m+Math.imul(zt,nn)|0,L=Math.imul(zt,rn),O=O+Math.imul(Ye,un)|0,m=m+Math.imul(Ye,It)|0,m=m+Math.imul(Rt,un)|0,L=L+Math.imul(Rt,It)|0,O=O+Math.imul(He,x)|0,m=m+Math.imul(He,R)|0,m=m+Math.imul(je,x)|0,L=L+Math.imul(je,R)|0,O=O+Math.imul(ke,g)|0,m=m+Math.imul(ke,M)|0,m=m+Math.imul(Te,g)|0,L=L+Math.imul(Te,M)|0,O=O+Math.imul(Ee,ee)|0,m=m+Math.imul(Ee,le)|0,m=m+Math.imul(Ue,ee)|0,L=L+Math.imul(Ue,le)|0,O=O+Math.imul(Ie,Ae)|0,m=m+Math.imul(Ie,be)|0,m=m+Math.imul(xe,Ae)|0,L=L+Math.imul(xe,be)|0;var Ne=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,O=Math.imul(Dt,un),m=Math.imul(Dt,It),m=m+Math.imul(zt,un)|0,L=Math.imul(zt,It),O=O+Math.imul(Ye,x)|0,m=m+Math.imul(Ye,R)|0,m=m+Math.imul(Rt,x)|0,L=L+Math.imul(Rt,R)|0,O=O+Math.imul(He,g)|0,m=m+Math.imul(He,M)|0,m=m+Math.imul(je,g)|0,L=L+Math.imul(je,M)|0,O=O+Math.imul(ke,ee)|0,m=m+Math.imul(ke,le)|0,m=m+Math.imul(Te,ee)|0,L=L+Math.imul(Te,le)|0,O=O+Math.imul(Ee,Ae)|0,m=m+Math.imul(Ee,be)|0,m=m+Math.imul(Ue,Ae)|0,L=L+Math.imul(Ue,be)|0;var Re=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(Re>>>26)|0,Re&=67108863,O=Math.imul(Dt,x),m=Math.imul(Dt,R),m=m+Math.imul(zt,x)|0,L=Math.imul(zt,R),O=O+Math.imul(Ye,g)|0,m=m+Math.imul(Ye,M)|0,m=m+Math.imul(Rt,g)|0,L=L+Math.imul(Rt,M)|0,O=O+Math.imul(He,ee)|0,m=m+Math.imul(He,le)|0,m=m+Math.imul(je,ee)|0,L=L+Math.imul(je,le)|0,O=O+Math.imul(ke,Ae)|0,m=m+Math.imul(ke,be)|0,m=m+Math.imul(Te,Ae)|0,L=L+Math.imul(Te,be)|0;var oe=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(oe>>>26)|0,oe&=67108863,O=Math.imul(Dt,g),m=Math.imul(Dt,M),m=m+Math.imul(zt,g)|0,L=Math.imul(zt,M),O=O+Math.imul(Ye,ee)|0,m=m+Math.imul(Ye,le)|0,m=m+Math.imul(Rt,ee)|0,L=L+Math.imul(Rt,le)|0,O=O+Math.imul(He,Ae)|0,m=m+Math.imul(He,be)|0,m=m+Math.imul(je,Ae)|0,L=L+Math.imul(je,be)|0;var ce=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(ce>>>26)|0,ce&=67108863,O=Math.imul(Dt,ee),m=Math.imul(Dt,le),m=m+Math.imul(zt,ee)|0,L=Math.imul(zt,le),O=O+Math.imul(Ye,Ae)|0,m=m+Math.imul(Ye,be)|0,m=m+Math.imul(Rt,Ae)|0,L=L+Math.imul(Rt,be)|0;var ye=(X+O|0)+((m&8191)<<13)|0;X=(L+(m>>>13)|0)+(ye>>>26)|0,ye&=67108863,O=Math.imul(Dt,Ae),m=Math.imul(Dt,be),m=m+Math.imul(zt,Ae)|0,L=Math.imul(zt,be);var pe=(X+O|0)+((m&8191)<<13)|0;return X=(L+(m>>>13)|0)+(pe>>>26)|0,pe&=67108863,z[0]=gt,z[1]=Pe,z[2]=Ge,z[3]=Ke,z[4]=Je,z[5]=st,z[6]=et,z[7]=nt,z[8]=tt,z[9]=Me,z[10]=ze,z[11]=Oe,z[12]=$e,z[13]=Ne,z[14]=Re,z[15]=oe,z[16]=ce,z[17]=ye,z[18]=pe,X!==0&&(z[19]=X,w.length++),w};Math.imul||(B=U);function v(E,f,p){p.negative=f.negative^E.negative,p.length=E.length+f.length;for(var w=0,k=0,q=0;q<p.length-1;q++){var z=k;k=0;for(var X=w&67108863,O=Math.min(q,f.length-1),m=Math.max(0,q-E.length+1);m<=O;m++){var L=q-m,we=E.words[L]|0,T=f.words[m]|0,ne=we*T,fe=ne&67108863;z=z+(ne/67108864|0)|0,fe=fe+X|0,X=fe&67108863,z=z+(fe>>>26)|0,k+=z>>>26,z&=67108863}p.words[q]=X,w=z,z=k}return w!==0?p.words[q]=w:p.length--,p._strip()}function _(E,f,p){return v(E,f,p)}s.prototype.mulTo=function(f,p){var w,k=this.length+f.length;return this.length===10&&f.length===10?w=B(this,f,p):k<63?w=U(this,f,p):k<1024?w=v(this,f,p):w=_(this,f,p),w},s.prototype.mul=function(f){var p=new s(null);return p.words=new Array(this.length+f.length),this.mulTo(f,p)},s.prototype.mulf=function(f){var p=new s(null);return p.words=new Array(this.length+f.length),_(this,f,p)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var p=f<0;p&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var w=0,k=0;k<this.length;k++){var q=(this.words[k]|0)*f,z=(q&67108863)+(w&67108863);w>>=26,w+=q/67108864|0,w+=z>>>26,this.words[k]=z&67108863}return w!==0&&(this.words[k]=w,this.length++),p?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var p=I(f);if(p.length===0)return new s(1);for(var w=this,k=0;k<p.length&&p[k]===0;k++,w=w.sqr());if(++k<p.length)for(var q=w.sqr();k<p.length;k++,q=q.sqr())p[k]!==0&&(w=w.mul(q));return w},s.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var p=f%26,w=(f-p)/26,k=67108863>>>26-p<<26-p,q;if(p!==0){var z=0;for(q=0;q<this.length;q++){var X=this.words[q]&k,O=(this.words[q]|0)-X<<p;this.words[q]=O|z,z=X>>>26-p}z&&(this.words[q]=z,this.length++)}if(w!==0){for(q=this.length-1;q>=0;q--)this.words[q+w]=this.words[q];for(q=0;q<w;q++)this.words[q]=0;this.length+=w}return this._strip()},s.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,p,w){r(typeof f=="number"&&f>=0);var k;p?k=(p-p%26)/26:k=0;var q=f%26,z=Math.min((f-q)/26,this.length),X=67108863^67108863>>>q<<q,O=w;if(k-=z,k=Math.max(0,k),O){for(var m=0;m<z;m++)O.words[m]=this.words[m];O.length=z}if(z!==0)if(this.length>z)for(this.length-=z,m=0;m<this.length;m++)this.words[m]=this.words[m+z];else this.words[0]=0,this.length=1;var L=0;for(m=this.length-1;m>=0&&(L!==0||m>=k);m--){var we=this.words[m]|0;this.words[m]=L<<26-q|we>>>q,L=we&X}return O&&L!==0&&(O.words[O.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,p,w){return r(this.negative===0),this.iushrn(f,p,w)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var p=f%26,w=(f-p)/26,k=1<<p;if(this.length<=w)return!1;var q=this.words[w];return!!(q&k)},s.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var p=f%26,w=(f-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(p!==0&&w++,this.length=Math.min(w,this.length),p!==0){var k=67108863^67108863>>>p<<p;this.words[this.length-1]&=k}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,p,w){var k=f.length+w,q;this._expand(k);var z,X=0;for(q=0;q<f.length;q++){z=(this.words[q+w]|0)+X;var O=(f.words[q]|0)*p;z-=O&67108863,X=(z>>26)-(O/67108864|0),this.words[q+w]=z&67108863}for(;q<this.length-w;q++)z=(this.words[q+w]|0)+X,X=z>>26,this.words[q+w]=z&67108863;if(X===0)return this._strip();for(r(X===-1),X=0,q=0;q<this.length;q++)z=-(this.words[q]|0)+X,X=z>>26,this.words[q]=z&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,p){var w=this.length-f.length,k=this.clone(),q=f,z=q.words[q.length-1]|0,X=this._countBits(z);w=26-X,w!==0&&(q=q.ushln(w),k.iushln(w),z=q.words[q.length-1]|0);var O=k.length-q.length,m;if(p!=="mod"){m=new s(null),m.length=O+1,m.words=new Array(m.length);for(var L=0;L<m.length;L++)m.words[L]=0}var we=k.clone()._ishlnsubmul(q,1,O);we.negative===0&&(k=we,m&&(m.words[O]=1));for(var T=O-1;T>=0;T--){var ne=(k.words[q.length+T]|0)*67108864+(k.words[q.length+T-1]|0);for(ne=Math.min(ne/z|0,67108863),k._ishlnsubmul(q,ne,T);k.negative!==0;)ne--,k.negative=0,k._ishlnsubmul(q,1,T),k.isZero()||(k.negative^=1);m&&(m.words[T]=ne)}return m&&m._strip(),k._strip(),p!=="div"&&w!==0&&k.iushrn(w),{div:m||null,mod:k}},s.prototype.divmod=function(f,p,w){if(r(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var k,q,z;return this.negative!==0&&f.negative===0?(z=this.neg().divmod(f,p),p!=="mod"&&(k=z.div.neg()),p!=="div"&&(q=z.mod.neg(),w&&q.negative!==0&&q.iadd(f)),{div:k,mod:q}):this.negative===0&&f.negative!==0?(z=this.divmod(f.neg(),p),p!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&f.negative?(z=this.neg().divmod(f.neg(),p),p!=="div"&&(q=z.mod.neg(),w&&q.negative!==0&&q.isub(f)),{div:z.div,mod:q}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?p==="div"?{div:this.divn(f.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,p)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var p=this.divmod(f);if(p.mod.isZero())return p.div;var w=p.div.negative!==0?p.mod.isub(f):p.mod,k=f.ushrn(1),q=f.andln(1),z=w.cmp(k);return z<0||q===1&&z===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(f){var p=f<0;p&&(f=-f),r(f<=67108863);for(var w=(1<<26)%f,k=0,q=this.length-1;q>=0;q--)k=(w*k+(this.words[q]|0))%f;return p?-k:k},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var p=f<0;p&&(f=-f),r(f<=67108863);for(var w=0,k=this.length-1;k>=0;k--){var q=(this.words[k]|0)+w*67108864;this.words[k]=q/f|0,w=q%f}return this._strip(),p?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var p=this,w=f.clone();p.negative!==0?p=p.umod(f):p=p.clone();for(var k=new s(1),q=new s(0),z=new s(0),X=new s(1),O=0;p.isEven()&&w.isEven();)p.iushrn(1),w.iushrn(1),++O;for(var m=w.clone(),L=p.clone();!p.isZero();){for(var we=0,T=1;!(p.words[0]&T)&&we<26;++we,T<<=1);if(we>0)for(p.iushrn(we);we-- >0;)(k.isOdd()||q.isOdd())&&(k.iadd(m),q.isub(L)),k.iushrn(1),q.iushrn(1);for(var ne=0,fe=1;!(w.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(w.iushrn(ne);ne-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(m),X.isub(L)),z.iushrn(1),X.iushrn(1);p.cmp(w)>=0?(p.isub(w),k.isub(z),q.isub(X)):(w.isub(p),z.isub(k),X.isub(q))}return{a:z,b:X,gcd:w.iushln(O)}},s.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var p=this,w=f.clone();p.negative!==0?p=p.umod(f):p=p.clone();for(var k=new s(1),q=new s(0),z=w.clone();p.cmpn(1)>0&&w.cmpn(1)>0;){for(var X=0,O=1;!(p.words[0]&O)&&X<26;++X,O<<=1);if(X>0)for(p.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var m=0,L=1;!(w.words[0]&L)&&m<26;++m,L<<=1);if(m>0)for(w.iushrn(m);m-- >0;)q.isOdd()&&q.iadd(z),q.iushrn(1);p.cmp(w)>=0?(p.isub(w),k.isub(q)):(w.isub(p),q.isub(k))}var we;return p.cmpn(1)===0?we=k:we=q,we.cmpn(0)<0&&we.iadd(f),we},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var p=this.clone(),w=f.clone();p.negative=0,w.negative=0;for(var k=0;p.isEven()&&w.isEven();k++)p.iushrn(1),w.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;w.isEven();)w.iushrn(1);var q=p.cmp(w);if(q<0){var z=p;p=w,w=z}else if(q===0||w.cmpn(1)===0)break;p.isub(w)}while(!0);return w.iushln(k)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){r(typeof f=="number");var p=f%26,w=(f-p)/26,k=1<<p;if(this.length<=w)return this._expand(w+1),this.words[w]|=k,this;for(var q=k,z=w;q!==0&&z<this.length;z++){var X=this.words[z]|0;X+=q,q=X>>>26,X&=67108863,this.words[z]=X}return q!==0&&(this.words[z]=q,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var p=f<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var w;if(this.length>1)w=1;else{p&&(f=-f),r(f<=67108863,"Number is too big");var k=this.words[0]|0;w=k===f?0:k<f?-1:1}return this.negative!==0?-w|0:w},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var p=this.ucmp(f);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var p=0,w=this.length-1;w>=0;w--){var k=this.words[w]|0,q=f.words[w]|0;if(k!==q){k<q?p=-1:k>q&&(p=1);break}}return p},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new N(f)},s.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var S={k256:null,p224:null,p192:null,p25519:null};function $(E,f){this.name=E,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},$.prototype.ireduce=function(f){var p=f,w;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),w=p.bitLength();while(w>this.n);var k=w<this.n?-1:p.ucmp(this.p);return k===0?(p.words[0]=0,p.length=1):k>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},$.prototype.split=function(f,p){f.iushrn(this.n,0,p)},$.prototype.imulK=function(f){return f.imul(this.k)};function F(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,$),F.prototype.split=function(f,p){for(var w=4194303,k=Math.min(f.length,9),q=0;q<k;q++)p.words[q]=f.words[q];if(p.length=k,f.length<=9){f.words[0]=0,f.length=1;return}var z=f.words[9];for(p.words[p.length++]=z&w,q=10;q<f.length;q++){var X=f.words[q]|0;f.words[q-10]=(X&w)<<4|z>>>22,z=X}z>>>=22,f.words[q-10]=z,z===0&&f.length>10?f.length-=10:f.length-=9},F.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var p=0,w=0;w<f.length;w++){var k=f.words[w]|0;p+=k*977,f.words[w]=p&67108863,p=k*64+(p/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function W(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(W,$);function Y(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,$);function J(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(J,$),J.prototype.imulK=function(f){for(var p=0,w=0;w<f.length;w++){var k=(f.words[w]|0)*19+p,q=k&67108863;k>>>=26,f.words[w]=q,p=k}return p!==0&&(f.words[f.length++]=p),f},s._prime=function(f){if(S[f])return S[f];var p;if(f==="k256")p=new F;else if(f==="p224")p=new W;else if(f==="p192")p=new Y;else if(f==="p25519")p=new J;else throw new Error("Unknown prime "+f);return S[f]=p,p};function N(E){if(typeof E=="string"){var f=s._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}N.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},N.prototype._verify2=function(f,p){r((f.negative|p.negative)===0,"red works only with positives"),r(f.red&&f.red===p.red,"red works only with red numbers")},N.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},N.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},N.prototype.add=function(f,p){this._verify2(f,p);var w=f.add(p);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},N.prototype.iadd=function(f,p){this._verify2(f,p);var w=f.iadd(p);return w.cmp(this.m)>=0&&w.isub(this.m),w},N.prototype.sub=function(f,p){this._verify2(f,p);var w=f.sub(p);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},N.prototype.isub=function(f,p){this._verify2(f,p);var w=f.isub(p);return w.cmpn(0)<0&&w.iadd(this.m),w},N.prototype.shl=function(f,p){return this._verify1(f),this.imod(f.ushln(p))},N.prototype.imul=function(f,p){return this._verify2(f,p),this.imod(f.imul(p))},N.prototype.mul=function(f,p){return this._verify2(f,p),this.imod(f.mul(p))},N.prototype.isqr=function(f){return this.imul(f,f.clone())},N.prototype.sqr=function(f){return this.mul(f,f)},N.prototype.sqrt=function(f){if(f.isZero())return f.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(f,w)}for(var k=this.m.subn(1),q=0;!k.isZero()&&k.andln(1)===0;)q++,k.iushrn(1);r(!k.isZero());var z=new s(1).toRed(this),X=z.redNeg(),O=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,O).cmp(X)!==0;)m.redIAdd(X);for(var L=this.pow(m,k),we=this.pow(f,k.addn(1).iushrn(1)),T=this.pow(f,k),ne=q;T.cmp(z)!==0;){for(var fe=T,G=0;fe.cmp(z)!==0;G++)fe=fe.redSqr();r(G<ne);var D=this.pow(L,new s(1).iushln(ne-G-1));we=we.redMul(D),L=D.redSqr(),T=T.redMul(L),ne=G}return we},N.prototype.invm=function(f){var p=f._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},N.prototype.pow=function(f,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return f.clone();var w=4,k=new Array(1<<w);k[0]=new s(1).toRed(this),k[1]=f;for(var q=2;q<k.length;q++)k[q]=this.mul(k[q-1],f);var z=k[0],X=0,O=0,m=p.bitLength()%26;for(m===0&&(m=26),q=p.length-1;q>=0;q--){for(var L=p.words[q],we=m-1;we>=0;we--){var T=L>>we&1;if(z!==k[0]&&(z=this.sqr(z)),T===0&&X===0){O=0;continue}X<<=1,X|=T,O++,!(O!==w&&(q!==0||we!==0))&&(z=this.mul(z,k[X]),O=0,X=0)}m=26}return z},N.prototype.convertTo=function(f){var p=f.umod(this.m);return p===f?p.clone():p},N.prototype.convertFrom=function(f){var p=f.clone();return p.red=null,p},s.mont=function(f){return new H(f)};function H(E){N.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,N),H.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},H.prototype.convertFrom=function(f){var p=this.imod(f.mul(this.rinv));return p.red=null,p},H.prototype.imul=function(f,p){if(f.isZero()||p.isZero())return f.words[0]=0,f.length=1,f;var w=f.imul(p),k=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=w.isub(k).iushrn(this.shift),z=q;return q.cmp(this.m)>=0?z=q.isub(this.m):q.cmpn(0)<0&&(z=q.iadd(this.m)),z._forceRed(this)},H.prototype.mul=function(f,p){if(f.isZero()||p.isZero())return new s(0)._forceRed(this);var w=f.mul(p),k=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=w.isub(k).iushrn(this.shift),z=q;return q.cmp(this.m)>=0?z=q.isub(this.m):q.cmpn(0)<0&&(z=q.iadd(this.m)),z._forceRed(this)},H.prototype.invm=function(f){var p=this.imod(f._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(e,Zi)})(HA);/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var ao=9e15,fs=1e9,v0="0123456789abcdef",Iu="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Bu="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",x0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ao,maxE:ao,crypto:!1},Gm,wi,ct=!0,Ql="[DecimalError] ",ss=Ql+"Invalid argument: ",Wm=Ql+"Precision limit exceeded",Vm=Ql+"crypto unavailable",Km="[object Decimal]",ir=Math.floor,Bn=Math.pow,zA=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,FA=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,jA=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Xm=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr=1e7,Qe=7,GA=9007199254740991,WA=Iu.length-1,S0=Bu.length-1,me={toStringTag:Km};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Ve(e)};me.ceil=function(){return Ve(new this.constructor(this),this.e+1,2)};me.clampedTo=me.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(ss+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};me.comparedTo=me.cmp=function(e){var t,n,r,i,s=this,o=s.d,a=(e=new s.constructor(e)).d,c=s.s,u=e.s;if(!o||!a)return!c||!u?NaN:c!==u?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-u:0;if(c!==u)return c;if(s.e!==e.e)return s.e>e.e^c<0?1:-1;for(r=o.length,i=a.length,t=0,n=r<i?r:i;t<n;++t)if(o[t]!==a[t])return o[t]>a[t]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1};me.cosine=me.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Qe,r.rounding=1,n=VA(r,ew(r,n)),r.precision=e,r.rounding=t,Ve(wi==2||wi==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};me.cubeRoot=me.cbrt=function(){var e,t,n,r,i,s,o,a,c,u,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(ct=!1,s=l.s*Bn(l.s*l,1/3),!s||Math.abs(s)==1/0?(n=jn(l.d),e=l.e,(s=(e-n.length+1)%3)&&(n+=s==1||s==-2?"0":"00"),s=Bn(n,1/3),e=ir((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new d(n),r.s=l.s):r=new d(s.toString()),o=(e=d.precision)+3;;)if(a=r,c=a.times(a).times(a),u=c.plus(l),r=ln(u.plus(l).times(a),u.plus(c),o+2,1),jn(a.d).slice(0,o)===(n=jn(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(Ve(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Ve(r,e+1,1),t=!r.times(r).times(r).eq(l));break}return ct=!0,Ve(r,e,d.rounding,t)};me.decimalPlaces=me.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-ir(this.e/Qe))*Qe,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};me.dividedBy=me.div=function(e){return ln(this,new this.constructor(e))};me.dividedToIntegerBy=me.divToInt=function(e){var t=this,n=t.constructor;return Ve(ln(t,new n(e),0,1,1),n.precision,n.rounding)};me.equals=me.eq=function(e){return this.cmp(e)===0};me.floor=function(){return Ve(new this.constructor(this),this.e+1,3)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){var t=this.cmp(e);return t==1||t===0};me.hyperbolicCosine=me.cosh=function(){var e,t,n,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<32?(e=Math.ceil(i/3),t=(1/td(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),s=Yo(o,1,s.times(t),new o(1),!0);for(var c,u=e,l=new o(8);u--;)c=s.times(s),s=a.minus(c.times(l.minus(c.times(l))));return Ve(s,o.precision=n,o.rounding=r,!0)};me.hyperbolicSine=me.sinh=function(){var e,t,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,r=i.d.length,r<3)i=Yo(s,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/td(5,e)),i=Yo(s,2,i,i,!0);for(var o,a=new s(5),c=new s(16),u=new s(20);e--;)o=i.times(i),i=i.times(a.plus(o.times(c.times(o).plus(u))))}return s.precision=t,s.rounding=n,Ve(i,t,n,!0)};me.hyperbolicTangent=me.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,ln(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};me.inverseCosine=me.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,s=n.rounding;return r!==-1?r===0?t.isNeg()?Xr(n,i,s):new n(0):new n(NaN):t.isZero()?Xr(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=Xr(n,i+4,s).times(.5),n.precision=i,n.rounding=s,e.minus(t))};me.inverseHyperbolicCosine=me.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,ct=!1,n=n.times(n).minus(1).sqrt().plus(n),ct=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};me.inverseHyperbolicSine=me.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,ct=!1,n=n.times(n).plus(1).sqrt().plus(n),ct=!0,r.precision=e,r.rounding=t,n.ln())};me.inverseHyperbolicTangent=me.atanh=function(){var e,t,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?Ve(new s(i),e,t,!0):(s.precision=n=r-i.e,i=ln(i.plus(1),new s(1).minus(i),n+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)};me.inverseSine=me.asin=function(){var e,t,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),n=s.precision,r=s.rounding,t!==-1?t===0?(e=Xr(s,n+4,r).times(.5),e.s=i.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))};me.inverseTangent=me.atan=function(){var e,t,n,r,i,s,o,a,c,u=this,l=u.constructor,d=l.precision,h=l.rounding;if(u.isFinite()){if(u.isZero())return new l(u);if(u.abs().eq(1)&&d+4<=S0)return o=Xr(l,d+4,h).times(.25),o.s=u.s,o}else{if(!u.s)return new l(NaN);if(d+4<=S0)return o=Xr(l,d+4,h).times(.5),o.s=u.s,o}for(l.precision=a=d+10,l.rounding=1,n=Math.min(28,a/Qe+2|0),e=n;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(ct=!1,t=Math.ceil(a/Qe),r=1,c=u.times(u),o=new l(u),i=u;e!==-1;)if(i=i.times(c),s=o.minus(i.div(r+=2)),i=i.times(c),o=s.plus(i.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===s.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),ct=!0,Ve(o,l.precision=d,l.rounding=h,!0)};me.isFinite=function(){return!!this.d};me.isInteger=me.isInt=function(){return!!this.d&&ir(this.e/Qe)>this.d.length-2};me.isNaN=function(){return!this.s};me.isNegative=me.isNeg=function(){return this.s<0};me.isPositive=me.isPos=function(){return this.s>0};me.isZero=function(){return!!this.d&&this.d[0]===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n,r,i,s,o,a,c,u=this,l=u.constructor,d=l.precision,h=l.rounding,y=5;if(e==null)e=new l(10),t=!0;else{if(e=new l(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new l(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(i=n[0];i%10===0;)i/=10;s=i!==1}if(ct=!1,a=d+y,o=Yi(u,a),r=t?ku(l,a+10):Yi(e,a),c=ln(o,r,a,1),ja(c.d,i=d,h))do if(a+=10,o=Yi(u,a),r=t?ku(l,a+10):Yi(e,a),c=ln(o,r,a,1),!s){+jn(c.d).slice(i+1,i+15)+1==1e14&&(c=Ve(c,d+1,0));break}while(ja(c.d,i+=10,h));return ct=!0,Ve(c,d,h)};me.minus=me.sub=function(e){var t,n,r,i,s,o,a,c,u,l,d,h,y=this,b=y.constructor;if(e=new b(e),!y.d||!e.d)return!y.s||!e.s?e=new b(NaN):y.d?e.s=-e.s:e=new b(e.d||y.s!==e.s?y:NaN),e;if(y.s!=e.s)return e.s=-e.s,y.plus(e);if(u=y.d,h=e.d,a=b.precision,c=b.rounding,!u[0]||!h[0]){if(h[0])e.s=-e.s;else if(u[0])e=new b(y);else return new b(c===3?-0:0);return ct?Ve(e,a,c):e}if(n=ir(e.e/Qe),l=ir(y.e/Qe),u=u.slice(),s=l-n,s){for(d=s<0,d?(t=u,s=-s,o=h.length):(t=h,n=l,o=u.length),r=Math.max(Math.ceil(a/Qe),o)+2,s>r&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for(r=u.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(u[r]!=h[r]){d=u[r]<h[r];break}s=0}for(d&&(t=u,u=h,h=t,e.s=-e.s),o=u.length,r=h.length-o;r>0;--r)u[o++]=0;for(r=h.length;r>s;){if(u[--r]<h[r]){for(i=r;i&&u[--i]===0;)u[i]=Zr-1;--u[i],u[r]+=Zr}u[r]-=h[r]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=ed(u,n),ct?Ve(e,a,c):e):new b(c===3?-0:0)};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?Ve(new r(n),r.precision,r.rounding):(ct=!1,r.modulo==9?(t=ln(n,e.abs(),0,3,1),t.s*=e.s):t=ln(n,e,0,r.modulo,1),t=t.times(e),ct=!0,n.minus(t))};me.naturalExponential=me.exp=function(){return A0(this)};me.naturalLogarithm=me.ln=function(){return Yi(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Ve(e)};me.plus=me.add=function(e){var t,n,r,i,s,o,a,c,u,l,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return!d.s||!e.s?e=new h(NaN):d.d||(e=new h(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,l=e.d,a=h.precision,c=h.rounding,!u[0]||!l[0])return l[0]||(e=new h(d)),ct?Ve(e,a,c):e;if(s=ir(d.e/Qe),r=ir(e.e/Qe),u=u.slice(),i=s-r,i){for(i<0?(n=u,i=-i,o=l.length):(n=l,r=s,o=u.length),s=Math.ceil(a/Qe),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=l.length,o-i<0&&(i=o,n=l,l=u,u=n),t=0;i;)t=(u[--i]=u[i]+l[i]+t)/Zr|0,u[i]%=Zr;for(t&&(u.unshift(t),++r),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=ed(u,r),ct?Ve(e,a,c):e};me.precision=me.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ss+e);return n.d?(t=Zm(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};me.round=function(){var e=this,t=e.constructor;return Ve(new t(e),e.e+1,t.rounding)};me.sine=me.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Qe,r.rounding=1,n=XA(r,ew(r,n)),r.precision=e,r.rounding=t,Ve(wi>2?n.neg():n,e,t,!0)):new r(NaN)};me.squareRoot=me.sqrt=function(){var e,t,n,r,i,s,o=this,a=o.d,c=o.e,u=o.s,l=o.constructor;if(u!==1||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);for(ct=!1,u=Math.sqrt(+o),u==0||u==1/0?(t=jn(a),(t.length+c)%2==0&&(t+="0"),u=Math.sqrt(t),c=ir((c+1)/2)-(c<0||c%2),u==1/0?t="5e"+c:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new l(t)):r=new l(u.toString()),n=(c=l.precision)+3;;)if(s=r,r=s.plus(ln(o,s,n+2,1)).times(.5),jn(s.d).slice(0,n)===(t=jn(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(Ve(s,c+1,0),s.times(s).eq(o))){r=s;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Ve(r,c+1,1),e=!r.times(r).eq(o));break}return ct=!0,Ve(r,c,l.rounding,e)};me.tangent=me.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=ln(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,Ve(wi==2||wi==4?n.neg():n,e,t,!0)):new r(NaN)};me.times=me.mul=function(e){var t,n,r,i,s,o,a,c,u,l=this,d=l.constructor,h=l.d,y=(e=new d(e)).d;if(e.s*=l.s,!h||!h[0]||!y||!y[0])return new d(!e.s||h&&!h[0]&&!y||y&&!y[0]&&!h?NaN:!h||!y?e.s/0:e.s*0);for(n=ir(l.e/Qe)+ir(e.e/Qe),c=h.length,u=y.length,c<u&&(s=h,h=y,y=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)a=s[i]+y[r]*h[i-r-1]+t,s[i--]=a%Zr|0,t=a/Zr|0;s[i]=(s[i]+t)%Zr|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=ed(s,n),ct?Ve(e,d.precision,d.rounding):e};me.toBinary=function(e,t){return jf(this,2,e,t)};me.toDecimalPlaces=me.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(hr(e,0,fs),t===void 0?t=r.rounding:hr(t,0,8),Ve(n,e+n.e+1,t))};me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=fi(r,!0):(hr(e,0,fs),t===void 0?t=i.rounding:hr(t,0,8),r=Ve(new i(r),e+1,t),n=fi(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};me.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?n=fi(i):(hr(e,0,fs),t===void 0?t=s.rounding:hr(t,0,8),r=Ve(new s(i),e+i.e+1,t),n=fi(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};me.toFraction=function(e){var t,n,r,i,s,o,a,c,u,l,d,h,y=this,b=y.d,A=y.constructor;if(!b)return new A(y);if(u=n=new A(1),r=c=new A(0),t=new A(r),s=t.e=Zm(b)-y.e-1,o=s%Qe,t.d[0]=Bn(10,o<0?Qe+o:o),e==null)e=s>0?t:u;else{if(a=new A(e),!a.isInt()||a.lt(u))throw Error(ss+a);e=a.gt(t)?s>0?t:u:a}for(ct=!1,a=new A(jn(b)),l=A.precision,A.precision=s=b.length*Qe*2;d=ln(a,t,0,1,1),i=n.plus(d.times(r)),i.cmp(e)!=1;)n=r,r=i,i=u,u=c.plus(d.times(i)),c=i,i=t,t=a.minus(d.times(i)),a=i;return i=ln(e.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=y.s,h=ln(u,r,s,1).minus(y).abs().cmp(ln(c,n,s,1).minus(y).abs())<1?[u,r]:[c,n],A.precision=l,ct=!0,h};me.toHexadecimal=me.toHex=function(e,t){return jf(this,16,e,t)};me.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:hr(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(ct=!1,n=ln(n,e,0,t,1).times(e),ct=!0,Ve(n)):(e.s=n.s,n=e),n};me.toNumber=function(){return+this};me.toOctal=function(e,t){return jf(this,8,e,t)};me.toPower=me.pow=function(e){var t,n,r,i,s,o,a=this,c=a.constructor,u=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(Bn(+a,u));if(a=new c(a),a.eq(1))return a;if(r=c.precision,s=c.rounding,e.eq(1))return Ve(a,r,s);if(t=ir(e.e/Qe),t>=e.d.length-1&&(n=u<0?-u:u)<=GA)return i=Ym(c,a,n,r),e.s<0?new c(1).div(i):Ve(i,r,s);if(o=a.s,o<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return n=Bn(+a,u),t=n==0||!isFinite(n)?ir(u*(Math.log("0."+jn(a.d))/Math.LN10+a.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(ct=!1,c.rounding=a.s=1,n=Math.min(12,(t+"").length),i=A0(e.times(Yi(a,r+n)),r),i.d&&(i=Ve(i,r+5,1),ja(i.d,r,s)&&(t=r+10,i=Ve(A0(e.times(Yi(a,t+n)),t),t+5,1),+jn(i.d).slice(r+1,r+15)+1==1e14&&(i=Ve(i,r+1,0)))),i.s=o,ct=!0,c.rounding=s,Ve(i,r,s))};me.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=fi(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(hr(e,1,fs),t===void 0?t=i.rounding:hr(t,0,8),r=Ve(new i(r),e,t),n=fi(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};me.toSignificantDigits=me.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(hr(e,1,fs),t===void 0?t=r.rounding:hr(t,0,8)),Ve(new r(n),e,t)};me.toString=function(){var e=this,t=e.constructor,n=fi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};me.truncated=me.trunc=function(){return Ve(new this.constructor(this),this.e+1,1)};me.valueOf=me.toJSON=function(){var e=this,t=e.constructor,n=fi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function jn(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=Qe-r.length,n&&(s+=Wi(n)),s+=r;o=e[t],r=o+"",n=Qe-r.length,n&&(s+=Wi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function hr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ss+e)}function ja(e,t,n,r){var i,s,o,a;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=Qe,i=0):(i=Math.ceil((t+1)/Qe),t%=Qe),s=Bn(10,Qe-t),a=e[i]%s|0,r==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):o=(n<4&&a+1==s||n>3&&a+1==s/2)&&(e[i+1]/s/100|0)==Bn(10,t-2)-1||(a==s/2||a==0)&&(e[i+1]/s/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(r||n<4)&&a==9999||!r&&n>3&&a==4999):o=((r||n<4)&&a+1==s||!r&&n>3&&a+1==s/2)&&(e[i+1]/s/1e3|0)==Bn(10,t-3)-1,o}function gu(e,t,n){for(var r,i=[0],s,o=0,a=e.length;o<a;){for(s=i.length;s--;)i[s]*=t;for(i[0]+=v0.indexOf(e.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function VA(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/td(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=Yo(e,1,t.times(i),new e(1));for(var s=n;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var ln=function(){function e(r,i,s){var o,a=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+a,r[c]=o%s|0,a=o/s|0;return a&&r.unshift(a),r}function t(r,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,s,o){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o,a,c){var u,l,d,h,y,b,A,I,U,B,v,_,S,$,F,W,Y,J,N,H,E=r.constructor,f=r.s==i.s?1:-1,p=r.d,w=i.d;if(!p||!p[0]||!w||!w[0])return new E(!r.s||!i.s||(p?w&&p[0]==w[0]:!w)?NaN:p&&p[0]==0||!w?f*0:f/0);for(c?(y=1,l=r.e-i.e):(c=Zr,y=Qe,l=ir(r.e/y)-ir(i.e/y)),N=w.length,Y=p.length,U=new E(f),B=U.d=[],d=0;w[d]==(p[d]||0);d++);if(w[d]>(p[d]||0)&&l--,s==null?($=s=E.precision,o=E.rounding):a?$=s+(r.e-i.e)+1:$=s,$<0)B.push(1),b=!0;else{if($=$/y+2|0,d=0,N==1){for(h=0,w=w[0],$++;(d<Y||h)&&$--;d++)F=h*c+(p[d]||0),B[d]=F/w|0,h=F%w|0;b=h||d<Y}else{for(h=c/(w[0]+1)|0,h>1&&(w=e(w,h,c),p=e(p,h,c),N=w.length,Y=p.length),W=N,v=p.slice(0,N),_=v.length;_<N;)v[_++]=0;H=w.slice(),H.unshift(0),J=w[0],w[1]>=c/2&&++J;do h=0,u=t(w,v,N,_),u<0?(S=v[0],N!=_&&(S=S*c+(v[1]||0)),h=S/J|0,h>1?(h>=c&&(h=c-1),A=e(w,h,c),I=A.length,_=v.length,u=t(A,v,I,_),u==1&&(h--,n(A,N<I?H:w,I,c))):(h==0&&(u=h=1),A=w.slice()),I=A.length,I<_&&A.unshift(0),n(v,A,_,c),u==-1&&(_=v.length,u=t(w,v,N,_),u<1&&(h++,n(v,N<_?H:w,_,c))),_=v.length):u===0&&(h++,v=[0]),B[d++]=h,u&&v[0]?v[_++]=p[W]||0:(v=[p[W]],_=1);while((W++<Y||v[0]!==void 0)&&$--);b=v[0]!==void 0}B[0]||B.shift()}if(y==1)U.e=l,Gm=b;else{for(d=1,h=B[0];h>=10;h/=10)d++;U.e=d+l*y-1,Ve(U,a?s+U.e+1:s,o,b)}return U}}();function Ve(e,t,n,r){var i,s,o,a,c,u,l,d,h,y=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(i=1,a=d[0];a>=10;a/=10)i++;if(s=t-i,s<0)s+=Qe,o=t,l=d[h=0],c=l/Bn(10,i-o-1)%10|0;else if(h=Math.ceil((s+1)/Qe),a=d.length,h>=a)if(r){for(;a++<=h;)d.push(0);l=c=0,i=1,s%=Qe,o=s-Qe+1}else break e;else{for(l=a=d[h],i=1;a>=10;a/=10)i++;s%=Qe,o=s-Qe+i,c=o<0?0:l/Bn(10,i-o-1)%10|0}if(r=r||t<0||d[h+1]!==void 0||(o<0?l:l%Bn(10,i-o-1)),u=n<4?(c||r)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(s>0?o>0?l/Bn(10,i-o):0:d[h-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=Bn(10,(Qe-t%Qe)%Qe),e.e=-t||0):d[0]=e.e=0,e;if(s==0?(d.length=h,a=1,h--):(d.length=h+1,a=Bn(10,Qe-s),d[h]=o>0?(l/Bn(10,i-o)%Bn(10,o)|0)*a:0),u)for(;;)if(h==0){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(e.e++,d[0]==Zr&&(d[0]=1));break}else{if(d[h]+=a,d[h]!=Zr)break;d[h--]=0,a=1}for(s=d.length;d[--s]===0;)d.pop()}return ct&&(e.e>y.maxE?(e.d=null,e.e=NaN):e.e<y.minE&&(e.e=0,e.d=[0])),e}function fi(e,t,n){if(!e.isFinite())return Qm(e);var r,i=e.e,s=jn(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Wi(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+Wi(-i-1)+s,n&&(r=n-o)>0&&(s+=Wi(r))):i>=o?(s+=Wi(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Wi(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Wi(r))),s}function ed(e,t){var n=e[0];for(t*=Qe;n>=10;n/=10)t++;return t}function ku(e,t,n){if(t>WA)throw ct=!0,n&&(e.precision=n),Error(Wm);return Ve(new e(Iu),t,1,!0)}function Xr(e,t,n){if(t>S0)throw Error(Wm);return Ve(new e(Bu),t,n,!0)}function Zm(e){var t=e.length-1,n=t*Qe+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Wi(e){for(var t="";e--;)t+="0";return t}function Ym(e,t,n,r){var i,s=new e(1),o=Math.ceil(r/Qe+4);for(ct=!1;;){if(n%2&&(s=s.times(t),gp(s.d,o)&&(i=!0)),n=ir(n/2),n===0){n=s.d.length-1,i&&s.d[n]===0&&++s.d[n];break}t=t.times(t),gp(t.d,o)}return ct=!0,s}function pp(e){return e.d[e.d.length-1]&1}function Jm(e,t,n){for(var r,i=new e(t[0]),s=0;++s<t.length;)if(r=new e(t[s]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function A0(e,t){var n,r,i,s,o,a,c,u=0,l=0,d=0,h=e.constructor,y=h.rounding,b=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(ct=!1,c=b):c=t,a=new h(.03125);e.e>-2;)e=e.times(a),d+=5;for(r=Math.log(Bn(2,d))/Math.LN10*2+5|0,c+=r,n=s=o=new h(1),h.precision=c;;){if(s=Ve(s.times(e),c,1),n=n.times(++l),a=o.plus(ln(s,n,c,1)),jn(a.d).slice(0,c)===jn(o.d).slice(0,c)){for(i=d;i--;)o=Ve(o.times(o),c,1);if(t==null)if(u<3&&ja(o.d,c-r,y,u))h.precision=c+=10,n=s=a=new h(1),l=0,u++;else return Ve(o,h.precision=b,y,ct=!0);else return h.precision=b,o}o=a}}function Yi(e,t){var n,r,i,s,o,a,c,u,l,d,h,y=1,b=10,A=e,I=A.d,U=A.constructor,B=U.rounding,v=U.precision;if(A.s<0||!I||!I[0]||!A.e&&I[0]==1&&I.length==1)return new U(I&&!I[0]?-1/0:A.s!=1?NaN:I?0:A);if(t==null?(ct=!1,l=v):l=t,U.precision=l+=b,n=jn(I),r=n.charAt(0),Math.abs(s=A.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(e),n=jn(A.d),r=n.charAt(0),y++;s=A.e,r>1?(A=new U("0."+n),s++):A=new U(r+"."+n.slice(1))}else return u=ku(U,l+2,v).times(s+""),A=Yi(new U(r+"."+n.slice(1)),l-b).plus(u),U.precision=v,t==null?Ve(A,v,B,ct=!0):A;for(d=A,c=o=A=ln(A.minus(1),A.plus(1),l,1),h=Ve(A.times(A),l,1),i=3;;){if(o=Ve(o.times(h),l,1),u=c.plus(ln(o,new U(i),l,1)),jn(u.d).slice(0,l)===jn(c.d).slice(0,l))if(c=c.times(2),s!==0&&(c=c.plus(ku(U,l+2,v).times(s+""))),c=ln(c,new U(y),l,1),t==null)if(ja(c.d,l-b,B,a))U.precision=l+=b,u=o=A=ln(d.minus(1),d.plus(1),l,1),h=Ve(A.times(A),l,1),i=a=1;else return Ve(c,U.precision=v,B,ct=!0);else return U.precision=v,c;c=u,i+=2}}function Qm(e){return String(e.s*e.s/0)}function T0(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Qe,n<0&&(r+=Qe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Qe;r<i;)e.d.push(+t.slice(r,r+=Qe));t=t.slice(r),r=Qe-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),ct&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function KA(e,t){var n,r,i,s,o,a,c,u,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Xm.test(t))return T0(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(FA.test(t))n=16,t=t.toLowerCase();else if(zA.test(t))n=2;else if(jA.test(t))n=8;else throw Error(ss+t);for(s=t.search(/p/i),s>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),o=s>=0,r=e.constructor,o&&(t=t.replace(".",""),a=t.length,s=a-s,i=Ym(r,new r(n),s,s*2)),u=gu(t,n,Zr),l=u.length-1,s=l;u[s]===0;--s)u.pop();return s<0?new r(e.s*0):(e.e=ed(u,l),e.d=u,ct=!1,o&&(e=ln(e,i,a*4)),c&&(e=e.times(Math.abs(c)<54?Bn(2,c):We.pow(2,c))),ct=!0,e)}function XA(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Yo(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/td(5,n)),t=Yo(e,2,t,t);for(var i,s=new e(5),o=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(s.plus(i.times(o.times(i).minus(a))));return t}function Yo(e,t,n,r,i){var s,o,a,c,u=e.precision,l=Math.ceil(u/Qe);for(ct=!1,c=n.times(n),a=new e(r);;){if(o=ln(a.times(c),new e(t++*t++),u,1),a=i?r.plus(o):r.minus(o),r=ln(o.times(c),new e(t++*t++),u,1),o=a.plus(r),o.d[l]!==void 0){for(s=l;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=r,r=o,o=s}return ct=!0,o.d.length=l+1,o}function td(e,t){for(var n=e;--t;)n*=e;return n}function ew(e,t){var n,r=t.s<0,i=Xr(e,e.precision,1),s=i.times(.5);if(t=t.abs(),t.lte(s))return wi=r?4:1,t;if(n=t.divToInt(i),n.isZero())wi=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(s))return wi=pp(n)?r?2:3:r?4:1,t;wi=pp(n)?r?1:4:r?3:2}return t.minus(i).abs()}function jf(e,t,n,r){var i,s,o,a,c,u,l,d,h,y=e.constructor,b=n!==void 0;if(b?(hr(n,1,fs),r===void 0?r=y.rounding:hr(r,0,8)):(n=y.precision,r=y.rounding),!e.isFinite())l=Qm(e);else{for(l=fi(e),o=l.indexOf("."),b?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,o>=0&&(l=l.replace(".",""),h=new y(1),h.e=l.length-o,h.d=gu(fi(h),10,i),h.e=h.d.length),d=gu(l,10,i),s=c=d.length;d[--c]==0;)d.pop();if(!d[0])l=b?"0p+0":"0";else{if(o<0?s--:(e=new y(e),e.d=d,e.e=s,e=ln(e,h,n,r,0,i),d=e.d,s=e.e,u=Gm),o=d[n],a=i/2,u=u||d[n+1]!==void 0,u=r<4?(o!==void 0||u)&&(r===0||r===(e.s<0?3:2)):o>a||o===a&&(r===4||u||r===6&&d[n-1]&1||r===(e.s<0?8:7)),d.length=n,u)for(;++d[--n]>i-1;)d[n]=0,n||(++s,d.unshift(1));for(c=d.length;!d[c-1];--c);for(o=0,l="";o<c;o++)l+=v0.charAt(d[o]);if(b){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)l+="0";for(d=gu(l,i,t),c=d.length;!d[c-1];--c);for(o=1,l="1.";o<c;o++)l+=v0.charAt(d[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)l="0"+l;l="0."+l}else if(++s>c)for(s-=c;s--;)l+="0";else s<c&&(l=l.slice(0,s)+"."+l.slice(s))}l=(t==16?"0x":t==2?"0b":t==8?"0o":"")+l}return e.s<0?"-"+l:l}function gp(e,t){if(e.length>t)return e.length=t,!0}function ZA(e){return new this(e).abs()}function YA(e){return new this(e).acos()}function JA(e){return new this(e).acosh()}function QA(e,t){return new this(e).plus(t)}function eT(e){return new this(e).asin()}function tT(e){return new this(e).asinh()}function nT(e){return new this(e).atan()}function rT(e){return new this(e).atanh()}function iT(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,s=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Xr(this,s,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Xr(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Xr(this,s,1).times(.5),n.s=e.s):t.s<0?(this.precision=s,this.rounding=1,n=this.atan(ln(e,t,s,1)),t=Xr(this,s,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(ln(e,t,s,1)),n}function sT(e){return new this(e).cbrt()}function oT(e){return Ve(e=new this(e),e.e+1,2)}function aT(e,t,n){return new this(e).clamp(t,n)}function cT(e){if(!e||typeof e!="object")throw Error(Ql+"Object expected");var t,n,r,i=e.defaults===!0,s=["precision",1,fs,"rounding",0,8,"toExpNeg",-ao,0,"toExpPos",0,ao,"maxE",0,ao,"minE",-ao,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],i&&(this[n]=x0[n]),(r=e[n])!==void 0)if(ir(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(ss+n+": "+r);if(n="crypto",i&&(this[n]=x0[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Vm);else this[n]=!1;else throw Error(ss+n+": "+r);return this}function uT(e){return new this(e).cos()}function lT(e){return new this(e).cosh()}function tw(e){var t,n,r;function i(s){var o,a,c,u=this;if(!(u instanceof i))return new i(s);if(u.constructor=i,yp(s)){u.s=s.s,ct?!s.d||s.e>i.maxE?(u.e=NaN,u.d=null):s.e<i.minE?(u.e=0,u.d=[0]):(u.e=s.e,u.d=s.d.slice()):(u.e=s.e,u.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){u.s=1/s<0?-1:1,u.e=0,u.d=[0];return}if(s<0?(s=-s,u.s=-1):u.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;ct?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[s]):(u.e=o,u.d=[s]);return}else if(s*0!==0){s||(u.s=NaN),u.e=NaN,u.d=null;return}return T0(u,s.toString())}else if(c!=="string")throw Error(ss+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),u.s=-1):(a===43&&(s=s.slice(1)),u.s=1),Xm.test(s)?T0(u,s):KA(u,s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=cT,i.clone=tw,i.isDecimal=yp,i.abs=ZA,i.acos=YA,i.acosh=JA,i.add=QA,i.asin=eT,i.asinh=tT,i.atan=nT,i.atanh=rT,i.atan2=iT,i.cbrt=sT,i.ceil=oT,i.clamp=aT,i.cos=uT,i.cosh=lT,i.div=dT,i.exp=fT,i.floor=hT,i.hypot=pT,i.ln=gT,i.log=yT,i.log10=wT,i.log2=mT,i.max=_T,i.min=bT,i.mod=vT,i.mul=xT,i.pow=ST,i.random=AT,i.round=TT,i.sign=ET,i.sin=IT,i.sinh=BT,i.sqrt=kT,i.sub=CT,i.sum=RT,i.tan=PT,i.tanh=UT,i.trunc=OT,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function dT(e,t){return new this(e).div(t)}function fT(e){return new this(e).exp()}function hT(e){return Ve(e=new this(e),e.e+1,3)}function pT(){var e,t,n=new this(0);for(ct=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return ct=!0,new this(1/0);n=t}return ct=!0,n.sqrt()}function yp(e){return e instanceof We||e&&e.toStringTag===Km||!1}function gT(e){return new this(e).ln()}function yT(e,t){return new this(e).log(t)}function mT(e){return new this(e).log(2)}function wT(e){return new this(e).log(10)}function _T(){return Jm(this,arguments,"lt")}function bT(){return Jm(this,arguments,"gt")}function vT(e,t){return new this(e).mod(t)}function xT(e,t){return new this(e).mul(t)}function ST(e,t){return new this(e).pow(t)}function AT(e){var t,n,r,i,s=0,o=new this(1),a=[];if(e===void 0?e=this.precision:hr(e,1,fs),r=Math.ceil(e/Qe),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));s<r;)i=t[s],i>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);s<r;)i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(i%1e7),s+=4);s=r/4}else throw Error(Vm);else for(;s<r;)a[s++]=Math.random()*1e7|0;for(r=a[--s],e%=Qe,r&&e&&(i=Bn(10,Qe-e),a[s]=(r/i|0)*i);a[s]===0;s--)a.pop();if(s<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=Qe)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Qe&&(n-=Qe-r)}return o.e=n,o.d=a,o}function TT(e){return Ve(e=new this(e),e.e+1,this.rounding)}function ET(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function IT(e){return new this(e).sin()}function BT(e){return new this(e).sinh()}function kT(e){return new this(e).sqrt()}function CT(e,t){return new this(e).sub(t)}function RT(){var e=0,t=arguments,n=new this(t[e]);for(ct=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return ct=!0,Ve(n,this.precision,this.rounding)}function PT(e){return new this(e).tan()}function UT(e){return new this(e).tanh()}function OT(e){return Ve(e=new this(e),e.e+1,1)}me[Symbol.for("nodejs.util.inspect.custom")]=me.toString;me[Symbol.toStringTag]="Decimal";var We=me.constructor=tw(x0);Iu=new We(Iu);Bu=new We(Bu);var MT="Invariant failed";function yu(e,t){if(!e)throw new Error(MT)}const nw="3.7.5",$T=nw,NT=typeof atob=="function",qT=typeof btoa=="function",pa=typeof Buffer=="function",mp=typeof TextDecoder=="function"?new TextDecoder:void 0,wp=typeof TextEncoder=="function"?new TextEncoder:void 0,DT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ca=Array.prototype.slice.call(DT),$c=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Ca),LT=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Hn=String.fromCharCode.bind(String),_p=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),rw=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),iw=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),sw=e=>{let t,n,r,i,s="";const o=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,s+=Ca[t>>18&63]+Ca[t>>12&63]+Ca[t>>6&63]+Ca[t&63]}return o?s.slice(0,o-3)+"===".substring(o):s},Gf=qT?e=>btoa(e):pa?e=>Buffer.from(e,"binary").toString("base64"):sw,E0=pa?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,i=e.length;r<i;r+=4096)n.push(Hn.apply(null,e.subarray(r,r+4096)));return Gf(n.join(""))},mu=(e,t=!1)=>t?rw(E0(e)):E0(e),HT=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Hn(192|t>>>6)+Hn(128|t&63):Hn(224|t>>>12&15)+Hn(128|t>>>6&63)+Hn(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Hn(240|t>>>18&7)+Hn(128|t>>>12&63)+Hn(128|t>>>6&63)+Hn(128|t&63)}},zT=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ow=e=>e.replace(zT,HT),bp=pa?e=>Buffer.from(e,"utf8").toString("base64"):wp?e=>E0(wp.encode(e)):e=>Gf(ow(e)),To=(e,t=!1)=>t?rw(bp(e)):bp(e),vp=e=>To(e,!0),FT=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,jT=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Hn((n>>>10)+55296)+Hn((n&1023)+56320);case 3:return Hn((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Hn((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},aw=e=>e.replace(FT,jT),cw=e=>{if(e=e.replace(/\s+/g,""),!LT.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,i;for(let s=0;s<e.length;)t=$c[e.charAt(s++)]<<18|$c[e.charAt(s++)]<<12|(r=$c[e.charAt(s++)])<<6|(i=$c[e.charAt(s++)]),n+=r===64?Hn(t>>16&255):i===64?Hn(t>>16&255,t>>8&255):Hn(t>>16&255,t>>8&255,t&255);return n},Wf=NT?e=>atob(iw(e)):pa?e=>Buffer.from(e,"base64").toString("binary"):cw,uw=pa?e=>_p(Buffer.from(e,"base64")):e=>_p(Wf(e).split("").map(t=>t.charCodeAt(0))),lw=e=>uw(dw(e)),GT=pa?e=>Buffer.from(e,"base64").toString("utf8"):mp?e=>mp.decode(uw(e)):e=>aw(Wf(e)),dw=e=>iw(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),I0=e=>GT(dw(e)),WT=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fw=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),hw=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,fw(n));e("fromBase64",function(){return I0(this)}),e("toBase64",function(t){return To(this,t)}),e("toBase64URI",function(){return To(this,!0)}),e("toBase64URL",function(){return To(this,!0)}),e("toUint8Array",function(){return lw(this)})},pw=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,fw(n));e("toBase64",function(t){return mu(this,t)}),e("toBase64URI",function(){return mu(this,!0)}),e("toBase64URL",function(){return mu(this,!0)})},VT=()=>{hw(),pw()},B0={version:nw,VERSION:$T,atob:Wf,atobPolyfill:cw,btoa:Gf,btoaPolyfill:sw,fromBase64:I0,toBase64:To,encode:To,encodeURI:vp,encodeURL:vp,utob:ow,btou:aw,decode:I0,isValid:WT,fromUint8Array:mu,toUint8Array:lw,extendString:hw,extendUint8Array:pw,extendBuiltins:VT};var Vi;(function(e){e[e.EQUAL=0]="EQUAL",e[e.GREATER=1]="GREATER",e[e.LESS=-1]="LESS"})(Vi||(Vi={}));var KT=function(){function e(t){this.compare=t||e.defaultCompareFunction}return e.defaultCompareFunction=function(t,n){return t===n?Vi.EQUAL:t<n?Vi.LESS:Vi.GREATER},e.prototype.equal=function(t,n){return this.compare(t,n)===Vi.EQUAL},e.prototype.lessThan=function(t,n){return this.compare(t,n)===Vi.LESS},e.prototype.greaterThan=function(t,n){return this.compare(t,n)===Vi.GREATER},e.prototype.lessThanOrEqual=function(t,n){return this.lessThan(t,n)||this.equal(t,n)},e.prototype.greaterThanOrEqual=function(t,n){return this.greaterThan(t,n)||this.equal(t,n)},e.prototype.reverse=function(){var t=this.compare;this.compare=function(n,r){return t(r,n)}},e}(),xp=function(){function e(t){this.value=t,this.next=null}return e}(),Sp=function(){function e(t){this.value=t,this.next=null,this.prev=null}return e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var k0=function(e,t){return k0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},k0(e,t)};function ga(e,t){k0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ga(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function XT(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Jr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(XT(arguments[t]));return e}var ZT="obfuse error occur";function Cu(e,t){if(!e)throw new Error("[linked-list] "+(t||ZT))}var YT=-1,gw=function(){function e(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._head=null,this._tail=null,this._length=0,this.compare=new KT,n.length>0&&n.forEach(function(i){t.append(i)})}return Object.defineProperty(e.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loopLength",{get:function(){var t=!1,n=1;if(!this._head)return 0;for(var r=this._head,i=this._head;i.next&&i.next.next;)if(i=i.next.next,r=r.next,r===i){t=!0;break}if(t){for(i=i.next;r!==i;)n++,i=i.next;return n}else return 0},enumerable:!0,configurable:!0}),e.prototype.getNode=function(t){var n=this._length;Cu(n>0&&t>=0&&t<n,"[linked-list] index "+t+" out of scope of list, which length is "+n);for(var r=this._head,i=0;i<t;)r=r.next,i++;return r},e.prototype.get=function(t){var n=this.getNode(t);return n?n.value:null},e.prototype.find=function(t){var n=t.value,r=t.callback;if(!this._head)return null;for(var i=this._head;i;){if(r&&r(i.value)||n!==void 0&&this.compare.equal(i.value,n))return i;i=i.next}return null},e.prototype.indexOf=function(t){if(!this._head)return YT;for(var n=this._head,r=-1;n.next;){if(r++,this.compare.equal(n.value,t))return r;n=n.next}return n===this._tail&&this.compare.equal(n.value,t)&&(r+=1),r},e.prototype.first=function(t){Cu(t>=0,"[linked-list] param 'num' ("+t+") should not less than 0");for(var n=this.iterator(),r=[],i=Math.min(t,this.length),s=0;s<i;s++){var o=n.next();r.push(o.value)}return r},e.prototype.toArray=function(){return Jr(this)},e.prototype.isEmpty=function(){return this._head===null},e.prototype.iterator=function(){var t;return Ga(this,function(n){switch(n.label){case 0:t=this._head,n.label=1;case 1:return t?[4,t.value]:[3,3];case 2:return n.sent(),t=t.next,[3,1];case 3:return[2]}})},e.prototype[Symbol.iterator]=function(){return this.iterator()},e}(),Wa=function(e){ga(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(this,Jr(n))||this}return t.prototype.append=function(n){var r=new xp(n);return this._tail?(this._tail.next=r,this._tail=r):this._head=this._tail=r,this._length++,!0},t.prototype.prepend=function(n){var r=new xp(n);return this._head?(r.next=this._head,this._head=r):this._head=this._tail=r,this._length++,!0},t.prototype.remove=function(n){var r=this._head;if(r){if(this.compare.equal(r.value,n))return r.next?(this._head=r.next,r.next=null):this._head=this._tail=null,this._length--,n;for(var i=r;;){if(this.compare.equal(r.value,n))return r.next?i.next=r.next:(this._tail=i,this._tail.next=null),r.next=null,this._length--,n;if(r.next)i=r,r=r.next;else return}}},t.prototype.removeHead=function(){var n=this._head;if(n)return this._head.next?(this._head=n.next,n.next=null):(this._head=null,this._tail=null),this._length--,n.value},t.prototype.removeTail=function(){var n=this._tail;if(n){if(!this._head.next)this._head=null,this._tail=null;else{for(var r=this._head;r.next!==n;)r=r.next;r.next=null,this._tail=r}return this._length--,n.value}},t.prototype.reverse=function(){if(this._head){var n=this._head,r=null,i;for(this._tail=this._head;n!==null;)i=n.next,n.next=r,r=n,n=i;this._head=r}},t.prototype.clone=function(){var n=this.toArray();return new(t.bind.apply(t,Jr([void 0],n)))},t}(gw),JT=function(e){ga(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,Jr(n))||this;return i.cyclization(),i}return t.prototype.iterator=function(){var n;return Ga(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,n===this._head&&(n=null),[3,1];case 3:return[2]}})},t.prototype.circleIterator=function(){var n;return Ga(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,[3,1];case 3:return[2]}})},t.prototype[Symbol.iterator]=function(){return this.iterator()},t.prototype.mapToNormalListFn=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.breakCircle();var s=e.prototype[n].apply(this,r);return this.cyclization(),s},t.prototype.getNode=function(n){return this.mapToNormalListFn("getNode",n)},t.prototype.append=function(n){return this.mapToNormalListFn("append",n)},t.prototype.prepend=function(n){return this.mapToNormalListFn("prepend",n)},t.prototype.find=function(n){return this.mapToNormalListFn("find",n)},t.prototype.indexOf=function(n){return this.mapToNormalListFn("indexOf",n)},t.prototype.remove=function(n){return this.mapToNormalListFn("remove",n)},t.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},t.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},t.prototype.first=function(n){Cu(n>=0,"[linked-list] param 'num' ("+n+") should not less than 0");for(var r=this.circleIterator(),i=[],s=0;s<n;s++){var o=r.next();i.push(o.value)}return i},t.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},t.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},t}(Wa);(function(e){ga(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,Jr(n))||this;return i.cyclization(),i}return t.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},t.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},t.prototype.clone=function(){var n=this.toArray();return new(t.bind.apply(t,Jr([void 0],n)))},t})(JT);var QT=function(e){ga(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(this,Jr(n))||this}return t.prototype.append=function(n){var r=new Sp(n);return this._tail?(this._tail.next=r,r.prev=this._tail,this._tail=r):this._head=this._tail=r,this._length++,!0},t.prototype.prepend=function(n){var r=new Sp(n);return this._head?(r.next=this._head,this._head.prev=r,this._head=r):this._head=this._tail=r,this._length++,!0},t.prototype.remove=function(n){var r=this._head;if(r){if(this.compare.equal(r.value,n))return r.next?(this._head=r.next,this._head.prev=null,r.next=r.prev=null):this._head=this._tail=null,this._length--,n;for(;;){if(this.compare.equal(r.value,n))return r.next?(r.prev.next=r.next,r.next.prev=r.prev,r.next=r.prev=null):(r.prev.next=null,this._tail=r.prev,r.next=r.prev=null),this._length--,r.value;if(r.next)r=r.next;else return}}},t.prototype.removeHead=function(){var n=this._head;if(n)return this._head.next?(n.next.prev=null,this._head=n.next,n.next=null):(this._head=null,this._tail=null),this._length--,n.value},t.prototype.removeTail=function(){var n=this._tail;if(n)return this._head.next?(n.prev.next=null,this._tail=n.prev,n.next=n.prev=null):(this._head=null,this._tail=null),this._length--,n.value},t.prototype.reverse=function(){if(this._head){var n=this._head,r=null,i;for(this._tail=this._head;n!==null;)i=n.next,n.next=r,n.prev=i,r=n,n=i;this._head=r}},t.prototype.clone=function(){var n=this.toArray();return new(t.bind.apply(t,Jr([void 0],n)))},t}(gw),e8=function(e){ga(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,Jr(n))||this;return i.cyclization(),i}return t.prototype.iterator=function(){var n;return Ga(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,n===this._head&&(n=null),[3,1];case 3:return[2]}})},t.prototype.circleIterator=function(){var n;return Ga(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,[3,1];case 3:return[2]}})},t.prototype[Symbol.iterator]=function(){return this.iterator()},t.prototype.mapToNormalListFn=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.breakCircle();var s=e.prototype[n].apply(this,r);return this.cyclization(),s},t.prototype.getNode=function(n){return this.mapToNormalListFn("getNode",n)},t.prototype.append=function(n){return this.mapToNormalListFn("append",n)},t.prototype.prepend=function(n){return this.mapToNormalListFn("prepend",n)},t.prototype.find=function(n){return this.mapToNormalListFn("find",n)},t.prototype.indexOf=function(n){return this.mapToNormalListFn("indexOf",n)},t.prototype.remove=function(n){return this.mapToNormalListFn("remove",n)},t.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},t.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},t.prototype.first=function(n){Cu(n>=0,"[linked-list] param 'num' ("+n+") should not less than 0");for(var r=this.circleIterator(),i=[],s=0;s<n;s++){var o=r.next();i.push(o.value)}return i},t.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},t.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},t}(QT);(function(e){ga(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,Jr(n))||this;return i.cyclization(),i}return t.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},t.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},t.prototype.clone=function(){var n=this.toArray();return new(t.bind.apply(t,Jr([void 0],n)))},t})(e8);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function t8(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function n8(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(t8(arguments[t]));return e}var r8=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.queue=new(Wa.bind.apply(Wa,n8([void 0],t)))}return Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return this.queue.isEmpty()},e.prototype.enqueue=function(t){return this.queue.append(t)},e.prototype.dequeue=function(){var t=this.queue.removeHead();return typeof t<"u"?t:void 0},e.prototype.toArray=function(){return this.queue.toArray()},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function i8(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function s8(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i8(arguments[t]));return e}var Ld=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.stack=new(Wa.bind.apply(Wa,s8([void 0],t)))}return Object.defineProperty(e.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return this.stack.isEmpty()},e.prototype.push=function(t){return this.stack.append(t)},e.prototype.pop=function(){var t=this.stack.removeTail();return typeof t<"u"?t:void 0},e.prototype.popBottom=function(){var t=this.stack.removeHead();return typeof t<"u"?t:void 0},e.prototype.toArray=function(){return this.stack.toArray()},e}(),yw=function(){function e(t,n,r){r===void 0&&(r=0),this.startVertex=t,this.endVertex=n,this.weight=r}return e.prototype.getKey=function(){var t=this.startVertex.getKey(),n=this.endVertex.getKey();return t+"_"+n},e.prototype.reverse=function(){var t=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=t,this},e.prototype.clone=function(){return new e(this.startVertex,this.endVertex,this.weight)},e.prototype.toString=function(){return this.getKey()},e}();function C0(e,t,n){if(n===void 0&&(n="ss-graph"),!e)throw new Error((n?"["+n+"]":"")+" Invariant failed: "+t)}function o8(e,t){t===void 0&&(t=!0);var n=typeof e<"u"&&e!==null;return t?n&&e!=="undefined"&&e!=="null":n}var Ru=function(){function e(t){C0(o8(t),"Graph vertex must have a value"),this.value=t,this.edges=new Map}return e.prototype.addEdge=function(t){return this.edges.set(t.getKey(),t),this},e.prototype.deleteEdge=function(t){this.edges.delete(t.getKey())},e.prototype.getNeighbors=function(){var t=this,n=this.getEdges(),r=function(i){return i.startVertex===t?i.endVertex:i.startVertex};return n.map(r)},e.prototype.getEdges=function(){return Array.from(this.edges.values())},e.prototype.getDegree=function(){return this.getEdges().length},e.prototype.hasEdge=function(t){var n=this.getEdges().find(function(r){return r===t});return!!n},e.prototype.hasNeighbor=function(t){var n=this.getEdges().find(function(r){return r.startVertex===t||r.endVertex===t});return!!n},e.prototype.findEdge=function(t){var n=function(i){return i.startVertex===t||i.endVertex===t},r=this.getEdges().find(n);return r||null},e.prototype.getKey=function(){return this.value},e.prototype.deleteAllEdges=function(){var t=this;return this.getEdges().forEach(function(n){return t.deleteEdge(n)}),this},e.prototype.toString=function(t){return t?t(this.value):""+this.value},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Hd(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ap(e,t,n,r){if(e){t.push(e),r.set(e.getKey(),!0);var i=e.getNeighbors().filter(function(s){return!r.get(s.getKey())});n.push(i)}}function Tp(e,t,n){var r=e.pop();r&&n.set(r.getKey(),!1),t.pop()}var mw=function(){function e(t){t===void 0&&(t=!1),this.vertices={},this.edges={},this.isDirected=t}return e.prototype.addVertex=function(t){return this.vertices[t.getKey()]=t,this},e.prototype.getVertexByKey=function(t){return this.vertices[t]},e.prototype.getNeighbors=function(t){return t.getNeighbors()},e.prototype.getAllVertices=function(){return Object.values(this.vertices)},e.prototype.getAllEdges=function(){return Object.values(this.edges)},e.prototype.addEdge=function(t,n){if(n===void 0&&(n=!1),this.edges[t.getKey()]){if(n)return this;C0(!1,"Edge has already been added before")}var r=this.getVertexByKey(t.startVertex.getKey()),i=this.getVertexByKey(t.endVertex.getKey());if(r||(this.addVertex(t.startVertex),r=this.getVertexByKey(t.startVertex.getKey())),i||(this.addVertex(t.endVertex),i=this.getVertexByKey(t.endVertex.getKey())),this.edges[t.getKey()]=t,this.isDirected)r.addEdge(t);else{r.addEdge(t);var s=t.clone();i.addEdge(s.reverse())}return this},e.prototype.deleteEdge=function(t,n){if(n===void 0&&(n=!1),!this.edges[t.getKey()]){if(n)return this;C0(!1,"Edge not found in graph")}delete this.edges[t.getKey()];var r=this.getVertexByKey(t.startVertex.getKey()),i=this.getVertexByKey(t.endVertex.getKey());return r.deleteEdge(t),i.deleteEdge(t),this},e.prototype.findEdge=function(t,n){var r=this.getVertexByKey(t.getKey());return r?r.findEdge(n):null},e.prototype.getWeight=function(){return this.getAllEdges().reduce(function(t,n){return t+n.weight},0)},e.prototype.reverse=function(){var t=this;return this.getAllEdges().forEach(function(n){t.deleteEdge(n),n.reverse(),t.addEdge(n)}),this},e.prototype.getVerticesIndices=function(){var t={};return this.getAllVertices().forEach(function(n,r){t[n.getKey()]=r}),t},e.prototype.getAdjacencyMatrix=function(){var t=this,n=this.getAllVertices(),r=this.getVerticesIndices(),i=Array(n.length).fill(null).map(function(){return Array(n.length).fill(1/0)});return n.forEach(function(s,o){s.getNeighbors().forEach(function(a){var c=r[a.getKey()],u=t.findEdge(s,a);u&&(i[o][c]=u.weight)})}),i},e.prototype.toString=function(){return Object.keys(this.vertices).toString()},e.prototype.bfs=function(t){var n,r,i;return Hd(this,function(s){switch(s.label){case 0:n=new Map,r=new r8,r.enqueue(t),s.label=1;case 1:return r.isEmpty()?[3,4]:(i=r.dequeue(),i&&!n.has(i.getKey())?[4,i]:[3,3]);case 2:s.sent(),n.set(i.getKey(),i),i.getNeighbors().forEach(function(o){return r.enqueue(o)}),s.label=3;case 3:return[3,1];case 4:return[2]}})},e.prototype.dfs=function(t){var n,r,i;return Hd(this,function(s){switch(s.label){case 0:n=new Map,r=new Ld,r.push(t),s.label=1;case 1:return r.isEmpty()?[3,4]:(i=r.pop(),i&&!n.has(i.getKey())?[4,i]:[3,3]);case 2:s.sent(),n.set(i.getKey(),i),i.getNeighbors().forEach(function(o){return r.push(o)}),s.label=3;case 3:return[3,1];case 4:return[2]}})},e.prototype.findAllPath=function(t,n){var r,i,s,o,a,c,u;return Hd(this,function(l){switch(l.label){case 0:return r=[],t!==n?[3,2]:(r.push(t),[4,r]);case 1:return l.sent(),[2];case 2:i=new Map,s=new Ld,o=new Ld,Ap(t,s,o,i),l.label=3;case 3:if(s.isEmpty())return[3,6];if(a=o.pop(),a&&a.length)c=a.shift(),o.push(a),c&&Ap(c,s,o,i);else return o.push(a),Tp(s,o,i),[3,3];u=s.peek;debugger;return u!==n?[3,5]:[4,s.toArray()];case 4:l.sent(),Tp(s,o,i),l.label=5;case 5:return[3,3];case 6:return[2]}})},e}();We.config({precision:64,rounding:We.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var or=We,Ln=class extends Error{constructor(t,n){super(t),this.message=t,this.errorCode=n}static isClmmpoolsErrorCode(t,n){return t instanceof Ln&&t.errorCode===n}},qe=new C(0),ns=new C(1),nd=new C(2);nd.pow(new C(128));var Va=nd.pow(new C(64)).sub(ns),a8=nd.pow(new C(128)).sub(ns),ot=class{static toX64_BN(t){return t.mul(new C(2).pow(new C(64)))}static toX64_Decimal(t){return t.mul(or.pow(2,64))}static toX64(t){return new C(t.mul(or.pow(2,64)).floor().toFixed())}static fromX64(t){return new or(t.toString()).mul(or.pow(2,-64))}static fromX64_Decimal(t){return t.mul(or.pow(2,-64))}static fromX64_BN(t){return t.div(new C(2).pow(new C(64)))}static shiftRightRoundUp(t){let n=t.shrn(64);return t.mod(Va).gt(qe)&&(n=n.add(ns)),n}static divRoundUp(t,n){return t.mod(n).eq(qe)?t.div(n):t.div(n).add(new C(1))}static subUnderflowU128(t,n){return t.lt(n)?t.sub(n).add(a8):t.sub(n)}static checkUnsignedSub(t,n){const r=t.sub(n);if(r.isNeg())throw new Ln("Unsigned integer sub overflow","UnsignedIntegerOverflow");return r}static checkMul(t,n,r){const i=t.mul(n);if(this.isOverflow(i,r))throw new Ln("Multiplication overflow","MultiplicationOverflow");return i}static checkMulDivFloor(t,n,r,i){if(r.eq(qe))throw new Ln("Devide by zero","DivideByZero");const s=t.mul(n).div(r);if(this.isOverflow(s,i))throw new Ln("Multiplication div overflow","MulDivOverflow");return s}static checkMulDivCeil(t,n,r,i){if(r.eq(qe))throw new Ln("Devide by zero","DivideByZero");const s=t.mul(n).add(r.sub(ns)).div(r);if(this.isOverflow(s,i))throw new Ln("Multiplication div overflow","MulDivOverflow");return s}static checkMulDivRound(t,n,r,i){if(r.eq(qe))throw new Ln("Devide by zero","DivideByZero");const s=t.mul(n.add(r.shrn(1))).div(r);if(this.isOverflow(s,i))throw new Ln("Multiplication div overflow","MulDivOverflow");return s}static checkMulShiftRight(t,n,r,i){const s=t.mul(n).div(new C(2).pow(new C(r)));if(this.isOverflow(s,i))throw new Ln("Multiplication shift right overflow","MulShiftRightOverflow");return s}static checkMulShiftRight64RoundUpIf(t,n,r,i){const s=t.mul(n),a=i&&s.and(Va).gt(qe)?s.shrn(64).add(ns):s.shrn(64);if(this.isOverflow(a,r))throw new Ln("Multiplication shift right overflow","MulShiftRightOverflow");return a}static checkMulShiftLeft(t,n,r,i){const s=t.mul(n).shln(r);if(this.isOverflow(s,i))throw new Ln("Multiplication shift left overflow","MulShiftLeftOverflow");return s}static checkDivRoundUpIf(t,n,r){if(n.eq(qe))throw new Ln("Devide by zero","DivideByZero");return r?this.divRoundUp(t,n):t.div(n)}static isOverflow(t,n){return t.gte(nd.pow(new C(n)))}};function R0(e){return{coinA:e.coinTypeA,coinB:e.coinTypeB,currentSqrtPrice:new C(e.current_sqrt_price),currentTickIndex:e.current_tick_index,feeGrowthGlobalA:new C(e.fee_growth_global_a),feeGrowthGlobalB:new C(e.fee_growth_global_b),feeProtocolCoinA:new C(e.fee_protocol_coin_a),feeProtocolCoinB:new C(e.fee_protocol_coin_b),feeRate:e.fee_rate,liquidity:new C(e.liquidity),tickIndexes:[],tickSpacing:Number(e.tickSpacing),ticks:[],collection_name:e.collectionName}}function c8(e){const t=new C(e);return t.lt(qe)?{bits:t.neg().xor(new C(2).pow(new C(64)).sub(new C(1))).add(new C(1)).toString()}:{bits:t.toString()}}var ww="0x1::coin::CoinInfo",_w="0x1::coin::CoinStore",Ep="0x3::token::TokenStore",u8="0x3::token::WithdrawEvent",l8="PoolLiquidityCoin",ws="clmm_router",bw="factory",vw="Pools",d8="pool",f8="Pool",h8="crowdsale",p8="CrowdsalePool",g8="fairlaunch",y8="FairlaunchPool",si="cetus_script",xw="cscoin",Sw="liquidity",P0="scripts";function m8(e){return e.startsWith("0x")?`${e.slice(2)}`:e}function di(e){let t="";const n=m8(e),r=n.length/2;for(let i=0;i<r;i++)t+=String.fromCharCode(parseInt(n.substr(i*2,2),16));return w8(t)}function w8(e){let t,n,r,i,s,o;for(t="",r=e.length,n=0;n<r;)switch(i=e.charCodeAt(n++),i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:s=e.charCodeAt(n++),t+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=e.charCodeAt(n++),o=e.charCodeAt(n++),t+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}return t}var _8=/^0x1::coin::CoinStore<(.+)>$/;function dt(e,...t){const n=Array.isArray(t[t.length-1])?t.pop():[];let i=[e,...t].filter(Boolean).join("::");return n&&n.length&&(i+=`<${n.join(", ")}>`),i}function Ip(e){return dt(ft.fromUint8Array(e.value.address.address).hex(),e.value.module_name.value,e.value.name.value,[])}function b8(e){const t=e.value.type_args[0],n=e.value.type_args[1],r=Ip(t),i=Ip(n),s=dt(ft.fromUint8Array(e.value.address.address).hex(),e.value.module_name.value,e.value.name.value,[r,i]);return{coinA:r,coinB:i,lpAddress:s}}function Vf(e){var t;let n=e.replace(/\s/g,"");const r=n.match(/(<.+>)$/),i=(t=r==null?void 0:r[0])==null?void 0:t.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(i)return n=n.slice(0,n.indexOf("<")),{...Vf(n),type_arguments:[...i]};const s=n.split("::");return{full_address:n,address:s[0],module:s[1],name:s[2],type_arguments:[]}}function Bp(e){const t=e.match(_8);return t?t[1]:""}function v8(e){return`${_w}<${e}>`}function x8(e){return`${ww}<${e}>`}var rd=class{constructor(t,n=0){this.overdueTime=n,this.value=t}getCacheData(){return this.value===null?null:this.overdueTime===0?this.value:Date.parse(new Date().toString())>this.overdueTime?(this.value=null,null):this.value}},kp=443636,Cp=-443636,id="79226673515401279992447579055",sd="4295048016",co=new C(1e6),Pu=class{static getDefaultSqrtPriceLimit(t){return new C(t?sd:id)}static getDefaultOtherAmountThreshold(t){return t?qe:Va}},Uu=class{constructor(e,t){this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=e,this.denominator=t}static fromDecimal(e){return Uu.fromFraction(e.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(e,t){const n=typeof e=="number"?new C(e.toString()):e,r=typeof t=="number"?new C(t.toString()):t;return new Uu(n,r)}},S8=14,A8="59543866431248",T8="184467440737095516",E8="15793534762490258745";function I8(e,t,n){const r=e.toTwos(n).shln(t);return r.imaskn(n+1),r.fromTwos(n)}function kt(e,t,n){const r=e.toTwos(n).shrn(t);return r.imaskn(n-t+1),r.fromTwos(n-t)}function B8(e){let t;return e&1?t=new C("79232123823359799118286999567"):t=new C("79228162514264337593543950336"),e&2&&(t=kt(t.mul(new C("79236085330515764027303304731")),96,256)),e&4&&(t=kt(t.mul(new C("79244008939048815603706035061")),96,256)),e&8&&(t=kt(t.mul(new C("79259858533276714757314932305")),96,256)),e&16&&(t=kt(t.mul(new C("79291567232598584799939703904")),96,256)),e&32&&(t=kt(t.mul(new C("79355022692464371645785046466")),96,256)),e&64&&(t=kt(t.mul(new C("79482085999252804386437311141")),96,256)),e&128&&(t=kt(t.mul(new C("79736823300114093921829183326")),96,256)),e&256&&(t=kt(t.mul(new C("80248749790819932309965073892")),96,256)),e&512&&(t=kt(t.mul(new C("81282483887344747381513967011")),96,256)),e&1024&&(t=kt(t.mul(new C("83390072131320151908154831281")),96,256)),e&2048&&(t=kt(t.mul(new C("87770609709833776024991924138")),96,256)),e&4096&&(t=kt(t.mul(new C("97234110755111693312479820773")),96,256)),e&8192&&(t=kt(t.mul(new C("119332217159966728226237229890")),96,256)),e&16384&&(t=kt(t.mul(new C("179736315981702064433883588727")),96,256)),e&32768&&(t=kt(t.mul(new C("407748233172238350107850275304")),96,256)),e&65536&&(t=kt(t.mul(new C("2098478828474011932436660412517")),96,256)),e&131072&&(t=kt(t.mul(new C("55581415166113811149459800483533")),96,256)),e&262144&&(t=kt(t.mul(new C("38992368544603139932233054999993551")),96,256)),kt(t,32,256)}function k8(e){const t=Math.abs(e);let n;return t&1?n=new C("18445821805675392311"):n=new C("18446744073709551616"),t&2&&(n=kt(n.mul(new C("18444899583751176498")),64,256)),t&4&&(n=kt(n.mul(new C("18443055278223354162")),64,256)),t&8&&(n=kt(n.mul(new C("18439367220385604838")),64,256)),t&16&&(n=kt(n.mul(new C("18431993317065449817")),64,256)),t&32&&(n=kt(n.mul(new C("18417254355718160513")),64,256)),t&64&&(n=kt(n.mul(new C("18387811781193591352")),64,256)),t&128&&(n=kt(n.mul(new C("18329067761203520168")),64,256)),t&256&&(n=kt(n.mul(new C("18212142134806087854")),64,256)),t&512&&(n=kt(n.mul(new C("17980523815641551639")),64,256)),t&1024&&(n=kt(n.mul(new C("17526086738831147013")),64,256)),t&2048&&(n=kt(n.mul(new C("16651378430235024244")),64,256)),t&4096&&(n=kt(n.mul(new C("15030750278693429944")),64,256)),t&8192&&(n=kt(n.mul(new C("12247334978882834399")),64,256)),t&16384&&(n=kt(n.mul(new C("8131365268884726200")),64,256)),t&32768&&(n=kt(n.mul(new C("3584323654723342297")),64,256)),t&65536&&(n=kt(n.mul(new C("696457651847595233")),64,256)),t&131072&&(n=kt(n.mul(new C("26294789957452057")),64,256)),t&262144&&(n=kt(n.mul(new C("37481735321082")),64,256)),n}var Mt=class{static priceToSqrtPriceX64(t,n,r){return ot.toX64(t.mul(or.pow(10,r-n)).sqrt())}static sqrtPriceX64ToPrice(t,n,r){return ot.fromX64(t).pow(2).mul(or.pow(10,n-r))}static tickIndexToSqrtPriceX64(t){return t>0?new C(B8(t)):new C(k8(t))}static sqrtPriceX64ToTickIndex(t){if(t.gt(new C(id))||t.lt(new C(sd)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const n=t.bitLength()-1,r=new C(n-64),i=I8(r,32,128);let s=new C("8000000000000000","hex"),o=0,a=new C(0),c=n>=64?t.shrn(n-63):t.shln(63-n);for(;s.gt(new C(0))&&o<S8;){c=c.mul(c);const A=c.shrn(127);c=c.shrn(63+A.toNumber()),a=a.add(s.mul(A)),s=s.shrn(1),o+=1}const u=a.shrn(32),d=i.add(u).mul(new C(A8)),h=kt(d.sub(new C(T8)),64,128).toNumber(),y=kt(d.add(new C(E8)),64,128).toNumber();return h===y?h:Mt.tickIndexToSqrtPriceX64(y).lte(t)?y:h}static tickIndexToPrice(t,n,r){return Mt.sqrtPriceX64ToPrice(Mt.tickIndexToSqrtPriceX64(t),n,r)}static priceToTickIndex(t,n,r){return Mt.sqrtPriceX64ToTickIndex(Mt.priceToSqrtPriceX64(t,n,r))}static priceToInitializableTickIndex(t,n,r,i){return Mt.getInitializableTickIndex(Mt.priceToTickIndex(t,n,r),i)}static getInitializableTickIndex(t,n){return t-t%n}static getNextInitializableTickIndex(t,n){return Mt.getInitializableTickIndex(t,n)+n}static getPrevInitializableTickIndex(t,n){return Mt.getInitializableTickIndex(t,n)-n}};function Aw(e){const t=[];for(const n of e){const r={index:Number(BigInt.asIntN(64,BigInt(n.index.bits)).toString()),sqrtPrice:new C(n.sqrt_price),liquidityNet:new C(BigInt.asIntN(64,BigInt(n.liquidity_net.bits)).toString()),liquidityGross:new C(n.liquidity_gross),feeGrowthOutsideA:new C(n.fee_growth_outside_a),feeGrowthOutsideB:new C(n.fee_growth_outside_b),rewardersGrowthOutside:[new C(n.rewarders_growth_outside[0]),new C(n.rewarders_growth_outside[1]),new C(n.rewarders_growth_outside[2])]};t.push(r)}return t}function C8(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e),s=n.mul(i).shln(64),o=e.mul(t),a=s.div(o),c=s.mod(o);return r&&!c.eq(qe)?a.add(new C(1)):a}function Tw(e,t,n,r){if(n.eq(qe))return e;const i=ot.checkMulShiftLeft(e,t,64,256),s=t.shln(64),o=ot.checkMul(e,n,256);if(!r&&s.lte(o))throw new Ln("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const a=r?ot.checkDivRoundUpIf(i,s.add(o),!0):ot.checkDivRoundUpIf(i,s.sub(o),!0);if(a.lt(new C(sd)))throw new Ln("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(a.gt(new C(id)))throw new Ln("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return a}function Ew(e,t,n,r){const i=ot.checkDivRoundUpIf(n.shln(64),t,!r),s=r?e.add(i):e.sub(i);if(s.lt(new C(sd))||s.gt(new C(id)))throw new Ln("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return s}function R8(e,t,n,r){return r?Tw(e,t,n,!0):Ew(e,t,n,!0)}function P8(e,t,n,r){return r?Ew(e,t,n,!1):Tw(e,t,n,!1)}function Rp(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e);if(n.eq(qe)||i.eq(qe))return qe;let s;if(r){const o=n.mul(i).shln(64),a=t.mul(e),c=o.div(a);s=o.mod(a).eq(qe)?c:c.add(ns)}else{const o=n.mul(i);s=o.and(Va).gt(qe)?o.shrn(64).add(ns):o.shrn(64)}return s}function Pp(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e);if(n.eq(qe)||i.eq(qe))return qe;let s;if(r){const o=n.mul(i);s=o.and(Va).gt(qe)?o.shrn(64).add(ns):o.shrn(64)}else{const o=n.mul(i).shln(64),a=t.mul(e);s=o.div(a)}return s}function Iw(e,t,n,r,i,s){if(n===qe)return{amountIn:qe,amountOut:qe,nextSqrtPrice:t,feeAmount:qe};const o=e.gte(t);let a,c,u,l;if(s){const d=ot.checkMulDivFloor(r,ot.checkUnsignedSub(co,i),co,64),h=Rp(e,t,n,o);h.gt(d)?(a=d,l=ot.checkUnsignedSub(r,d),u=R8(e,n,d,o)):(a=h,l=ot.checkMulDivCeil(a,i,co.sub(i),64),u=t),c=Pp(e,u,n,o)}else{const d=Pp(e,t,n,o);d.gt(r)?(c=r,u=P8(e,n,r,o)):(c=d,u=t),a=Rp(e,u,n,o),l=ot.checkMulDivCeil(a,i,co.sub(i),64)}return{amountIn:a,amountOut:c,nextSqrtPrice:u,feeAmount:l}}function U8(e,t,n,r,i){let s=n,o=r.liquidity,{currentSqrtPrice:a}=r;const c={amountIn:qe,amountOut:qe,feeAmount:qe,refAmount:qe,nextSqrtPrice:qe,crossTickNum:0};let u,l;const d=Pu.getDefaultSqrtPriceLimit(e);for(const h of i){if(e){if(r.currentTickIndex<h.index)continue}else if(r.currentTickIndex>h.index)continue;if(h===null)continue;e&&d.gt(h.sqrtPrice)||!e&&d.lt(h.sqrtPrice)?u=d:u=h.sqrtPrice;const y=Iw(a,u,o,s,new C(r.feeRate),t);if(y.amountIn.eq(qe)||(s=t?s.sub(y.amountIn.add(y.feeAmount)):s.sub(y.amountOut)),c.amountIn=c.amountIn.add(y.amountIn),c.amountOut=c.amountOut.add(y.amountOut),c.feeAmount=c.feeAmount.add(y.feeAmount),y.nextSqrtPrice.eq(h.sqrtPrice)?(l=e?h.liquidityNet.mul(new C(-1)):h.liquidityNet,o=l.gt(qe)?o.add(l):o.sub(l.abs()),a=h.sqrtPrice):a=y.nextSqrtPrice,c.crossTickNum+=1,s.eq(qe))break}return c.amountIn=c.amountIn.add(c.feeAmount),c.nextSqrtPrice=a,c}function uo(e,t,n){const r=C.min(e,t),i=C.max(e,t),s=ot.fromX64_BN(n.mul(i).mul(r)),o=i.sub(r);return s.div(o)}function lo(e,t,n){const r=C.min(e,t),s=C.max(e,t).sub(r);return n.shln(64).div(s)}var gs=class{constructor(){}static getFeeRate(t){return Uu.fromFraction(t,1e6)}static updateFeeRate(t,n,r,i,s){const o=ot.checkMulDivCeil(n,new C(i),co,64),a=r===0?qe:ot.checkMulDivFloor(n,new C(r),co,64),c=n.mul(o).mul(a);if(s?t.feeProtocolCoinA=t.feeProtocolCoinA.add(o):t.feeProtocolCoinB=t.feeProtocolCoinB.add(o),c.eq(qe)||t.liquidity.eq(qe))return{refFee:a,clmm:t};const u=c.shln(64).div(t.liquidity);return s?t.feeGrowthGlobalA=t.feeGrowthGlobalA.add(u):t.feeGrowthGlobalB=t.feeGrowthGlobalB.add(u),{refFee:a,clmm:t}}static getProtocolFeeRate(t){return Uu.fromFraction(t,1e4)}static getCoinAmountFromLiquidity(t,n,r,i,s){const o=new or(t.toString()),a=new or(n.toString()),c=new or(r.toString()),u=new or(i.toString());let l,d;return n.lt(r)?(l=ot.toX64_Decimal(o).mul(u.sub(c)).div(c.mul(u)),d=new or(0)):n.lt(i)?(l=ot.toX64_Decimal(o).mul(u.sub(a)).div(a.mul(u)),d=ot.fromX64_Decimal(o.mul(a.sub(c)))):(l=new or(0),d=ot.fromX64_Decimal(o.mul(u.sub(c)))),s?{coinA:new C(l.ceil().toString()),coinB:new C(d.ceil().toString())}:{coinA:new C(l.floor().toString()),coinB:new C(d.floor().toString())}}static estimateLiquidityFromcoinAmounts(t,n,r,i){if(n>r)throw new Error("lower tick cannot be greater than lower tick");const s=Mt.sqrtPriceX64ToTickIndex(t),o=Mt.tickIndexToSqrtPriceX64(n),a=Mt.tickIndexToSqrtPriceX64(r);if(s<n)return uo(o,a,i.coinA);if(s>=r)return lo(a,o,i.coinB);const c=uo(t,a,i.coinA),u=lo(t,o,i.coinB);return C.min(c,u)}static estLiquidityAndcoinAmountFromOneAmounts(t,n,r,i,s,o,a){const c=Mt.sqrtPriceX64ToTickIndex(a),u=Mt.tickIndexToSqrtPriceX64(t),l=Mt.tickIndexToSqrtPriceX64(n);let d;if(c<=t){if(!i)throw new Error("lower tick cannot calculate liquidity by coinB");d=uo(u,l,r)}else if(c>=n){if(i)throw new Error("upper tick cannot calculate liquidity by coinA");d=lo(l,u,r)}else i?d=uo(a,l,r):d=lo(a,u,r);const h=gs.getCoinAmountFromLiquidity(d,a,u,l,s),y=h.coinA.mul(new C(1+o)),b=h.coinB.mul(new C(1+o));return{tokenMaxA:y,tokenMaxB:b,liquidityAmount:d}}},O8=class{constructor(t){this._cache={},this._sdk=t}get sdk(){return this._sdk}async fetchAccountResource(t,n,r=0){let i=this._cache[t+n];if(i!=null&&i.getCacheData())return i.value;const s=await this.sdk.Resources.fetchAccountResource(t,n);return i=new rd(s,r),this._cache[t+n]=i,s}calculateRates(t){const{currentPool:n}=t,r=R0(n);let i;t.a2b?i=t.swapTicks.sort((h,y)=>y.index-h.index):i=t.swapTicks.sort((h,y)=>h.index-y.index);const s=U8(t.a2b,t.byAmountIn,t.amount,r,i);let o=!1;t.byAmountIn?o=s.amountIn.lt(t.amount):o=s.amountOut.lt(t.amount);const a=Pu.getDefaultSqrtPriceLimit(t.a2b);t.a2b&&s.nextSqrtPrice.lt(a)&&(o=!0),!t.a2b&&s.nextSqrtPrice.gt(a)&&(o=!0);let c=0;s.crossTickNum>6&&s.crossTickNum<40&&(c=22e3*(s.crossTickNum-6)),s.crossTickNum>40&&(o=!0);const u=Mt.sqrtPriceX64ToPrice(r.currentSqrtPrice,t.decimalsA,t.decimalsB).toNumber(),l=Mt.sqrtPriceX64ToPrice(s.nextSqrtPrice,t.decimalsA,t.decimalsB).toNumber(),d=Math.abs(u-l)/u*100;return{estimatedAmountIn:s.amountIn,estimatedAmountOut:s.amountOut,estimatedEndSqrtPrice:s.nextSqrtPrice,estimatedFeeAmount:s.feeAmount,isExceed:o,extraComputeLimit:c,amount:t.amount,aToB:t.a2b,byAmountIn:t.byAmountIn,priceImpactPct:d}}transformSwapData(t){const{modules:n}=this._sdk.sdkOptions.networkOptions,r=t.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.ClmmIntegrate}::calculator::CalculatedSwapResult`);return r.length===0?[]:r[0].data.data.data||[]}async preswap(t){const{modules:n,simulationAccount:r}=this.sdk.sdkOptions.networkOptions,i=new Qt(this.sdk.sdkOptions.rpcUrl),s=`${n.ClmmIntegrate}::scripts`,o="calculate_swap_result",a=[new j.TypeTagStruct(j.StructTag.fromString(t.pool.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.pool.coinTypeB))],c=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool.poolAddress)),ue.bcsSerializeBool(t.a2b),ue.bcsSerializeBool(t.by_amount_in),ue.bcsSerializeUint64(BigInt(t.amount))],u=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,a,c)),l=Tu(r.address),d=await i.generateRawTransaction(l,u),h=Tu(r.pubkey),y=new j.Ed25519PublicKey(h.toUint8Array()),b=await i.simulateTransaction(y,d),A=this.transformSwapData(b[0].changes),I=Mt.sqrtPriceX64ToPrice(new C(t.pool.current_sqrt_price),t.decimalsA,t.decimalsB).toNumber(),U=Mt.sqrtPriceX64ToPrice(new C(A.after_sqrt_price),t.decimalsA,t.decimalsB).toNumber(),B=Math.abs(I-U)/I*100;return{estimatedAmountIn:A.amount_in&&A.fee_amount?new C(A.amount_in).add(new C(A.fee_amount)).toString():"",estimatedAmountOut:A.amount_out,estimatedEndSqrtPrice:A.after_sqrt_price,estimatedFeeAmount:A.fee_amount,isExceed:A.is_exceed,amount:t.amount,aToB:t.a2b,byAmountIn:t.by_amount_in,priceImpactPct:B}}createSwapTransactionPayload(t,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="swap",o=Pu.getDefaultSqrtPriceLimit(t.a_to_b);if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB))],l=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool_addr)),ue.bcsSerializeBool(t.a_to_b),ue.bcsSerializeBool(t.by_amount_in),ue.bcsSerializeUint64(BigInt(t.amount)),ue.bcsSerializeUint64(BigInt(t.amount_limit)),ue.bcsSerializeU128(BigInt(o.toString())),ue.bcsSerializeStr(t.partner)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const a=[t.pool_addr,t.a_to_b,t.by_amount_in,t.amount,t.amount_limit,o.toString(),t.partner],c=[t.coinTypeA,t.coinTypeB];return{type:"entry_function_payload",function:dt(i,s),type_arguments:c,arguments:a}}},M8=class{constructor(t){this._sdk=t}get sdk(){return this._sdk}createAddLiquidityTransactionPayload(t,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=!("delta_liquidity"in t),s=`${r.LiquidswapDeployer}::${ws}`,o=i?"add_liquidity_fix_token":"add_liquidity";if(n){const d=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB))],h=i?[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ue.bcsSerializeUint64(Number(t.amount_a)),ue.bcsSerializeUint64(Number(t.amount_b)),ue.bcsSerializeBool(t.fix_amount_a),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(t.tick_lower))),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(t.tick_upper))),ue.bcsSerializeBool(t.is_open),ue.bcsSerializeUint64(t.index)]:[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ue.bcsSerializeU128(t.delta_liquidity.toNumber()),ue.bcsSerializeUint64(Number(t.max_amount_a)),ue.bcsSerializeUint64(Number(t.max_amount_b)),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(t.tick_lower))),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(t.tick_upper))),ue.bcsSerializeBool(t.is_open),ue.bcsSerializeUint64(t.index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,d,h))}const a=BigInt.asUintN(64,BigInt(t.tick_lower)).toString(),c=BigInt.asUintN(64,BigInt(t.tick_upper)).toString(),u=i?[t.pool,t.amount_a,t.amount_b,t.fix_amount_a,a,c,t.is_open,t.index]:[t.pool,t.delta_liquidity.toString(),String(t.max_amount_a),String(t.max_amount_b),a,c,t.is_open,t.index],l=[t.coinTypeA,t.coinTypeB];return{type:"entry_function_payload",function:dt(s,o),type_arguments:l,arguments:u}}removeLiquidityTransactionPayload(t,n=!1){yu(t.delta_liquidity.gtn(0));const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s=`${r.ClmmIntegrate}::${Sw}`,o=["remove_liquidity","remove_all_liquidity","remove_all_liquidity_for_two","remove_all_liquidity_for_three"];let a,c,u=[];if(t.rewards_num===0){if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB))],d=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ue.bcsSerializeU128(t.delta_liquidity.toNumber()),ue.bcsSerializeUint64(t.min_amount_a),ue.bcsSerializeUint64(t.min_amount_b),ue.bcsSerializeUint64(t.pos_index),ue.bcsSerializeBool(t.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,o[0],l,d))}a=dt(i,o[0]),c=[t.coinTypeA,t.coinTypeB],u=[t.pool,t.delta_liquidity.toNumber(),t.min_amount_a,t.min_amount_b,t.pos_index,t.is_close]}else if(t.rewards_num===1){if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeC))],d=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ue.bcsSerializeU128(t.delta_liquidity.toNumber()),ue.bcsSerializeUint64(t.min_amount_a),ue.bcsSerializeUint64(t.min_amount_b),ue.bcsSerializeUint64(t.pos_index),ue.bcsSerializeBool(t.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o[1],l,d))}a=dt(s,o[1]),c=[t.coinTypeA,t.coinTypeB,t.coinTypeC],u=[t.pool,t.delta_liquidity.toNumber(),t.min_amount_a,t.min_amount_b,t.pos_index,t.is_close]}else if(t.rewards_num===2){if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeD))],d=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ue.bcsSerializeU128(t.delta_liquidity.toNumber()),ue.bcsSerializeUint64(t.min_amount_a),ue.bcsSerializeUint64(t.min_amount_b),ue.bcsSerializeUint64(t.pos_index),ue.bcsSerializeBool(t.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o[2],l,d))}a=dt(s,o[2]),c=[t.coinTypeA,t.coinTypeB,t.coinTypeC,t.coinTypeD],u=[t.pool,t.delta_liquidity.toNumber(),t.min_amount_a,t.min_amount_b,t.pos_index,t.is_close]}else{if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeD)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeE))],d=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ue.bcsSerializeU128(t.delta_liquidity.toNumber()),ue.bcsSerializeUint64(t.min_amount_a),ue.bcsSerializeUint64(t.min_amount_b),ue.bcsSerializeUint64(t.pos_index),ue.bcsSerializeBool(t.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o[3],l,d))}a=dt(s,o[3]),c=[t.coinTypeA,t.coinTypeB,t.coinTypeC,t.coinTypeD,t.coinTypeE],u=[t.pool,t.delta_liquidity.toNumber(),t.min_amount_a,t.min_amount_b,t.pos_index,t.is_close]}return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}closePositionTransactionPayload(t,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="close_position";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB))],l=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool_address)),ue.bcsSerializeUint64(t.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[t.coinTypeA,t.coinTypeB],c=[t.pool_address,t.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}collectFeeTransactionPayload(t,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="collect_fee";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB))],l=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ue.bcsSerializeUint64(t.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[t.coinTypeA,t.coinTypeB],c=[t.pool,t.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}};function ht(e){return or.isDecimal(e)?e:new or(e===void 0?0:e)}function Bw(e){return ht(10).pow(ht(e).abs())}function $8(e){return e!=null&&e!==""&&!isNaN(Number(e.toString()))}function Up(e){return e.isAxiosError,e}function N8(e){let t="";const r=new Jl(e).parseTypeTag().value.type_args;if(r.length>0){const i=r[0];i.value.name.value===l8||i.value.name.value===xw?t=b8(i).lpAddress:t=dt(ft.fromUint8Array(i.value.address.address).toShortString(),i.value.module_name.value,i.value.name.value,[])}return t}var q8=5*60*1e3,oi=24*60*60*1e3;function Op(e){return Date.parse(new Date().toString())+e}var D8=class{constructor(t){this._cache={},this._sdk=t}get sdk(){return this._sdk}async getPoolImmutablesResource(t=!1){const n=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,r=`${n}_getMmutablesPools`,i=this.getCacheData(r);let s;if(!t&&i!=null)s=i;else{const a=dt(n,bw,vw),c=await this.fetchAccountResource(n,a);s=JSON.parse(JSON.stringify(c==null?void 0:c.data.data)),this.updateCache(r,s,oi)}return s.data}buildPoolImmutables(t,n,r){const i=r.key,s=dt(i.coin_type_a.account_address,di(i.coin_type_a.module_name),di(i.coin_type_a.struct_name)),o=dt(i.coin_type_b.account_address,di(i.coin_type_b.module_name),di(i.coin_type_b.struct_name)),a=dt(dt(n,d8,f8),[s,o]);return{coinTypeA:s,coinTypeB:o,poolType:a,poolAddress:t,tickSpacing:i.tick_spacing}}async getPoolImmutables(t=[],n=0,r=100,i=!0){const s=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,o=[],a=await this.getPoolImmutablesResource(i),c=t.length>0;for(let u=0;u<a.length;u+=1){const l=a[u],d=l.value;if(!(c&&!t.includes(d))){if(!c){const h=Number(u);if(h<n||h>=n+r)continue}o.push(this.buildPoolImmutables(d,s,l))}}return o}async getPools(t=[],n=0,r=100){const i=[],s=(await this.sdk.getGlobalConfig()).is_pause,o=await this.getPoolImmutables(t,n,r,!1);for(let a=0;a<o.length;a+=1){const c=o[a],u=await this.getPoolState(c.poolAddress,c.poolType,s),l={...c,...u};i.push(l);const d=`${c.poolAddress}_pool`;this.updateCache(d,l,oi)}return i}async getPool(t,n=!0){const r=`${t}_pool`,i=this.getCacheData(r);let s;if(i!==null&&!n&&(s=i),s==null)return(await this.getPools([t]))[0];const o=(await this.sdk.getGlobalConfig(!0)).is_pause,a=await this.getPoolState(t,s.poolType,o),c={...s,...a};return this.updateCache(r,c,oi),c}async getPoolState(t,n,r,i=!0){const s=`${t}_${n}getPool`;if(!i){const d=this.getCacheData(s);if(d!==null)return d}const o=await this.fetchAccountResource(t,n),a=JSON.parse(JSON.stringify(o==null?void 0:o.data)),c=a.rewarder_infos,u=[];c.forEach(d=>{const h=dt(d.coin_type.account_address,di(d.coin_type.module_name),di(d.coin_type.struct_name)),y=ot.fromX64(new C(d.emissions_per_second)),b=Math.floor(y.toNumber()*60*60*24);u.push({...d,coinAddress:h,emissionsEveryDay:b})});const l={coinAmountA:a.coin_a.value,coinAmountB:a.coin_b.value,current_sqrt_price:a.current_sqrt_price,current_tick_index:Number(BigInt.asIntN(64,BigInt(a.current_tick_index.bits)).toString()),fee_growth_global_a:a.fee_growth_global_a,fee_growth_global_b:a.fee_growth_global_b,fee_protocol_coin_a:a.fee_protocol_coin_a,fee_protocol_coin_b:a.fee_protocol_coin_b,fee_rate:a.fee_rate,liquidity:a.liquidity,index:a.index,positionIndex:a.position_index,tick_indexes_handle:a.tick_indexes.handle,ticks_handle:a.ticks.handle,positions_handle:a.positions.handle,collectionName:a.collection_name,uri:a.uri,is_pause:r||a.is_pause,rewarder_infos:u,rewarder_last_updated_time:a.rewarder_last_updated_time};return this.updateCache(s,l,oi),l}async getTickDataByIndex(t,n){const r=await this._sdk.client.getTableItem(t,{key_type:`${this.sdk.sdkOptions.networkOptions.modules.IntegerMate}::i64::I64`,value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Tick`,key:c8(n)}),i=JSON.parse(JSON.stringify(r));return{index:i.index,sqrtPrice:i.sqrt_price,liquidityGross:i.liquidity_gross,liquidityNet:i.liquidity_net,feeGrowthOutsideA:i.fee_growth_outside_a,feeGrowthOutsideB:i.fee_growth_outside_b,rewardersGrowthOutside:i.rewarders_growth_outside}}async getPoolLowerAndUpperTicks(t,n){const r=[],i=[],s=n.ticks_handle,o=await this.sdk.Resources.getPositionList(t,[n]);for(const a of o){const c=await this.sdk.Resources.getTickDataByIndex(s,a.tick_lower_index),u=await this.sdk.Resources.getTickDataByIndex(s,a.tick_upper_index);r.push(c),i.push(u)}return[r,i]}async getPositionInfoByIndex(t,n){const r=await this._sdk.client.getTableItem(t,{key_type:"u64",value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Position`,key:n.toString()}),i=JSON.parse(JSON.stringify(r));return{name:"",pool:i.pool,liquidity:i.liquidity,tick_lower_index:BigInt.asIntN(64,BigInt(i.tick_lower_index.bits)).toString(),tick_upper_index:BigInt.asIntN(64,BigInt(i.tick_upper_index.bits)).toString(),fee_growth_inside_a:i.fee_growth_inside_a,fee_growth_inside_b:i.fee_growth_inside_b,fee_owed_a:i.fee_owed_a,fee_owed_b:i.fee_owed_b,reward_amount_owed_0:i.rewarder_infos[0].amount_owed,reward_amount_owed_1:i.rewarder_infos[1].amount_owed,reward_amount_owed_2:i.rewarder_infos[2].amount_owed,reward_growth_inside_0:i.rewarder_infos[0].growth_inside,reward_growth_inside_1:i.rewarder_infos[1].growth_inside,reward_growth_inside_2:i.rewarder_infos[2].growth_inside,index:n}}createPositionName(t,n){return`Cetus LP | Pool${t}-${n}`}async getPositionInfo(t,n,r=!0){if($8(n)){const i=await this.getPositionInfoByIndex(t.positions_handle,Number(n));return i.name=this.createPositionName(t.index,i.index),i}return this.getPositionInfoByTokenName(t.poolAddress,t.positions_handle,t.collectionName,n,r)}async getPositionIndex(t,n,r,i=!1){const s=`${t}_${n}_${r}_getPositionIndex`;if(!i){const c=this.getCacheData(s);if(c!==null)return c}const o=await this._sdk.tokenClient.getTokenData(t,n,r),a=JSON.parse(JSON.stringify(o)).default_properties.data.index.value;return this.updateCache(s,a,oi),a}async getPositionInfoByTokenName(t,n,r,i,s=!0){const o=`${t}_${r}_${i}_getPositionInfo`;if(!s){const u=this.getCacheData(o);if(u!==null)return u}const a=await this.getPositionIndex(t,r,i,!1),c=await this.getPositionInfoByIndex(n,a);return c.name=i,this.updateCache(o,c,oi),c}async getGlobalConfig(t,n=!0){const r=`${t}_getGlobalConfig`;if(!n){const a=this.getCacheData(r);if(a!==null)return a}const i=await this.fetchAccountResource(t,dt(t,"config","GlobalConfig")),s=JSON.parse(JSON.stringify(i)).data,o={protocol_fee_rate:s.protocol_fee_rate,is_pause:s.is_pause};return this.updateCache(r,o,oi),o}async getSpecifyCoinInfos(t){const n=[];for(const r of t){const i=`${r}_getCoinInfos`,s=this.getCacheData(i);if(s!==null)n.push(s);else{const o=Vf(r).address,a=await this._sdk.Resources.fetchAccountResource(o,x8(r));if(a!=null){const c={coinAddress:r,...a.data};n.push(c),this.updateCache(i,c,oi)}}}return n}async getCoinInfos(t,n=!0){const r=`${t}_getCoinInfos`;if(!n){const o=this.getCacheData(r);if(o!==null)return o}const i=await this.fetchAccountResources(t),s=[];return i==null||i.forEach(o=>{if(o.type.startsWith(ww)){const a=N8(o.type);a.length>0&&s.push({coinAddress:a,...o.data})}}),this.updateCache(r,s,oi),s}async getCoinStores(t,n=!0){const r=`${t}_getCoinStores`;if(!n){const o=this.getCacheData(r);if(o!==null)return o}const i=await this.fetchAccountResources(t),s=[];return i==null||i.forEach(o=>{if(o.type.startsWith(_w)){const a=Bp(o.type);a.length>0&&s.push({coinAddress:a,...o.data})}}),this.updateCache(r,s,oi),s}async getCoinStore(t,n){const r=await this.fetchAccountResource(t,v8(n));if(r){const i=Bp(r.type);if(i.length>0)return{coinAddress:i,...r.data}}return null}async getPositionList(t,n){const r=[];if(n.length===0)return[];const i=await this.getFilterTokenEvent(t);for(let s=0;s<i.length;s++){const o=i[s];try{for(const a of n)if(o.creator===a.poolAddress){const c=await this.getPositionInfoByTokenName(o.creator,a.positions_handle,o.collection,o.name);c.pool.length>0&&r.push({...o,...c})}}catch(a){console.log(a)}}return r}async getCollectionList(t){return await this.getFilterTokenEvent(t)}async getFilterTokenEvent(t){const n=[],r=[];let i=[];try{i=await this._sdk.client.getEventsByEventHandle(t,Ep,"deposit_events")}catch(o){console.log(o)}i.forEach(o=>{n.push({key:`${o.data.id.token_data_id.creator}_${o.data.id.token_data_id.name}`,creator:o.data.id.token_data_id.creator,name:o.data.id.token_data_id.name,collection:o.data.id.token_data_id.collection,count:0})});let s=[];try{s=await this._sdk.client.getEventsByEventHandle(t,Ep,"withdraw_events")}catch(o){console.log(o)}return s.forEach(o=>{if(o.type===u8){for(const a of n)if(a.count===0&&a.key===`${o.data.id.token_data_id.creator}_${o.data.id.token_data_id.name}`){a.count-=1;break}}}),n.forEach(o=>{o.count===0&&r.push({...o})}),r}async fetchAccountResource(t,n){var r;try{return await this._sdk.client.getAccountResource(t,n)}catch(i){if(Up(i)&&((r=i.response)==null?void 0:r.status)===404)return null;throw i}}async fetchAccountResources(t){var n;try{return await this._sdk.client.getAccountResources(t)}catch(r){if(Up(r)&&((n=r.response)==null?void 0:n.status)===404)return null;throw r}}updateCache(t,n,r=q8){let i=this._cache[t];i?(i.overdueTime=Op(r),i.value=n):i=new rd(n,Op(r)),this._cache[t]=i}getCacheData(t){const n=this._cache[t];return n!==void 0&&n.getCacheData()?n.value:null}},L8=class{constructor(t){this._sdk=t}get sdk(){return this._sdk}creatPoolTransactionPayload(t,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=t.delta_liquidity.gt(qe),s=i?`${r.LiquidswapDeployer}::${Sw}`:`${r.LiquidswapDeployer}::${ws}`,o=i?"create_and_add_liquidity":"create_pool";if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB))],d=i?[ue.bcsSerializeUint64(t.tick_spacing),ue.bcsSerializeU128(BigInt(t.initialize_sqrt_price.toString())),ue.bcsSerializeStr(t.uri),ue.bcsSerializeU128(BigInt(t.delta_liquidity.toString())),ue.bcsSerializeUint64(BigInt(t.max_amount_a.toString())),ue.bcsSerializeUint64(BigInt(t.max_amount_b.toString())),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(t.tick_lower))),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(t.tick_upper)))]:[ue.bcsSerializeUint64(t.tick_spacing),ue.bcsSerializeU128(BigInt(t.initialize_sqrt_price.toString())),ue.bcsSerializeStr(t.uri)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,l,d))}const a=dt(s,o),c=[t.coinTypeA,t.coinTypeB],u=i?[t.tick_spacing.toString(),t.initialize_sqrt_price.toString(),t.uri.toString(),t.delta_liquidity.toString(),t.max_amount_a.toString(),t.max_amount_b.toString(),BigInt.asUintN(64,BigInt(t.tick_lower)).toString(),BigInt.asUintN(64,BigInt(t.tick_upper)).toString()]:[t.tick_spacing.toString(),t.initialize_sqrt_price.toString(),t.uri.toString()];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}};new C(365);new C(24);new C(3600);new C(.5);function H8(e,t,n,r,i,s){const o=new We(e.toString()).div(new We(10**n)),a=new We(t.toString()).div(new We(10**r));return o.mul(i).add(a.mul(s))}function z8(e,t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I,U,B,v,_,S,$,F){const W=new We(d),Y=new We(h),J=new We(A),N=new We(I),H=new We(U),E=new We(B),f=new We(v),p=new We(_),w=new We(S),k=new We($),q=new We(F),z=Mt.tickIndexToSqrtPriceX64(t),X=Mt.tickIndexToSqrtPriceX64(n),O=ot.toX64_Decimal(ot.fromX64(z)).round(),m=ot.toX64_Decimal(ot.fromX64(X)).round(),L=ot.toX64_Decimal(ot.fromX64(r)).round();let we;const T=W.mul(new We(10**s)).mul(m.mul(O)).div(m.sub(O)).round(),ne=Y.mul(new We(10**o)).div(m.sub(O)).round();e<t?we=T:e>n?we=ne:we=We.min(T,ne);const fe=we.mul(L.sub(O)),D=we.mul(m.sub(L)).div(L.mul(m)).div(new We(10**s)).mul(f).add(fe.div(new We(10**o).mul(p))),V=H8(y,b,s,o,f,p),Z=D.div(V),Q=we.eq(new We(0))?new We(0):new We(l/1e4).mul(J).mul(new We(we.toString()).div(new We(i.toString()).add(new We(we.toString())))).div(D),se=Z.eq(new We(0))?new We(0):Z.mul(new We(36500/7)).div(D),ie=N.div(new We(10**a)).mul(w).mul(se),ae=H.div(new We(10**c)).mul(k).mul(se),Ce=E.div(new We(10**u)).mul(q).mul(se);return{feeAPR:Q,posRewarder0APR:ie,posRewarder1APR:ae,posRewarder2APR:Ce}}function F8(e,t,n,r){const i=Math.max(e,n),o=Math.min(t,r)-i,a=t-e,c=r-n,u=new We(a.toString()),l=new We(c.toString()),d=new We(o.toString());let h=new We("0");return o<0?h=new We("0"):a===o?h=l.div(d):c===o?h=d.div(u):h=d.mul(d).div(l).div(u),h}function j8(e){const{clmmpool:t,position:n,tickLower:r,tickUpper:i}=e,{current_tick_index:s,fee_growth_global_a:o,fee_growth_global_b:a}=t;console.log({currentTickIndex:s,feeGrowthGlobalAX64:o,feeGrowthGlobalBX64:a});const{tick_lower_index:c,tick_upper_index:u,liquidity:l,fee_owed_a:d,fee_owed_b:h,fee_growth_inside_a:y,fee_growth_inside_b:b}=n,{feeGrowthOutsideA:A,feeGrowthOutsideB:I}=r,{feeGrowthOutsideA:U,feeGrowthOutsideB:B}=i;let v=null,_=null;s<Number(c)?(v=ot.subUnderflowU128(new C(o),new C(A)),_=ot.subUnderflowU128(new C(a),new C(I))):(v=A,_=I);let S=null,$=null;s<Number(u)?(S=U,$=B):(S=ot.subUnderflowU128(new C(o),new C(U)),$=ot.subUnderflowU128(new C(a),new C(B)));const F=ot.subUnderflowU128(ot.subUnderflowU128(new C(o),new C(v)),new C(S)),W=ot.subUnderflowU128(ot.subUnderflowU128(new C(a),new C(_)),new C($)),Y=ot.subUnderflowU128(new C(F),new C(y)).mul(new C(l)).shrn(64),J=ot.subUnderflowU128(new C(W),new C(b)).mul(new C(l)).shrn(64),N=new C(ht(d).add(ht(Y.toString())).toString()),H=new C(ht(h).add(ht(J.toString())).toString());return{feeOwedA:N,feeOwedB:H}}function G8(e){if(e){const t={};return e.maxGasAmount&&(t.maxGasAmount=BigInt(e.maxGasAmount)),e.gasUnitPrice&&(t.gasUnitPrice=BigInt(e.gasUnitPrice)),e.expireTimestamp&&(t.expireTimestamp=BigInt(e.expireTimestamp)),t}}function W8(e,t){return new pu(r=>{const i=new Uint8Array(64);return new j.Ed25519Signature(i)},e.toUint8Array()).sign(t)}function V8(e){if(e){const t={};return e.maxGasAmount&&(t.max_gas_amount=e.maxGasAmount.toString()),e.gasUnitPrice&&(t.gas_unit_price=e.gasUnitPrice.toString()),e.expireTimestamp&&(t.expiration_timestamp_secs=e.expireTimestamp.toString()),t}}async function K8(e,t,n,r,i=!0){if(n instanceof j.TransactionPayload){const l=await e.generateRawTransaction(t.address,n,G8(r)),d=W8(t.pubkey,l),h=await e.submitBCSSimulation(d);return i&&console.log(h[0]),h[0]}const s=n,o=await e.generateTransaction(t.address,s,V8(r)),a={type:"ed25519_signature",public_key:t.pubkey.hex(),signature:ft.fromUint8Array(new Uint8Array(64)).hex()},c={sender:t.address.hex(),sequence_number:o.sequence_number.toString(),max_gas_amount:o.max_gas_amount.toString(),gas_unit_price:o.gas_unit_price.toString(),expiration_timestamp_secs:o.expiration_timestamp_secs.toString(),payload:s,signature:a},u=await e.client.transactions.simulateTransaction(c);return i&&console.log(u[0]),u[0]}async function Nc(e,t,n,r){return K8(e,t,n,r,!1)}function Mp(e,t){const n=new ue.Serializer;n.serializeU32AsUleb128(e.length);const r=n[t];return e.forEach(i=>{n.serializeU32AsUleb128(i.length),i.forEach(s=>{r.call(n,s)})}),n.getBytes()}function X8(e){const t=new ue.Serializer;return t.serializeU32AsUleb128(e.length),e.forEach(n=>{t.serializeU32AsUleb128(n.length),n.forEach(r=>{r.serialize(t)})}),t.getBytes()}function Z8(e){const t=new ue.Serializer;return t.serializeU32AsUleb128(e.length),e.forEach(n=>{n.serialize(t)}),t.getBytes()}var qi=1e9,Y8=5*60*1e3,qc=24*60*60*1e3;function $p(e){return Date.parse(new Date().toString())+e}var J8=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getPoolImmutablesResource(e=!1){const t=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,n=`${t}_getMmutablesPools`,r=this.getCacheData(n);let i;if(!e&&r!=null)i=r;else{const s=dt(t,bw,vw),o=await this._sdk.Resources.fetchAccountResource(t,s);i=JSON.parse(JSON.stringify(o==null?void 0:o.data)),this.updateCache(n,i,qc)}return i}async getLaunchpadPools(e=[],t=0,n=100,r=null,i=!1){const s=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,o=[],c=(await this.getPoolImmutablesResource(i)).data.data,u=e.length>0;for(let l=0;l<c.length;l+=1){const d=c[l],{pool_address:h,creater_address:y,pool_type:b}=d.value;if(r==="fixed_price"&&b!==0||r==="fair_launch"&&b===0||u&&!e.includes(h))continue;if(!u){const F=Number(l);if(F<t||F>=t+n)continue}const A=d.key,I=dt(A.coin_raise.account_address,di(A.coin_raise.module_name),di(A.coin_raise.struct_name)),U=dt(A.coin_sale.account_address,di(A.coin_sale.module_name),di(A.coin_sale.struct_name)),B=Kr.buildLaunchpadPoolType(b===0,s,U,I),v={coin_type_sale:U,coin_type_raise:I,pool_type:B,pool_address:h,creator:y,pool_mode:b===0?"fixed_price":"fair_launch"},_=await this.getLaunchpadPoolState(v.pool_address,v.pool_type,v.pool_mode),S={...v,..._};await this.calculateLaunchpadPoolField(S),o.push(S);const $=`${h}_pool`;this.updateCache($,S,qc)}return o}async getLaunchpadPool(e,t=!0){const n=`${e}_pool`,r=this.getCacheData(n);let i;if(r!==null&&!t&&(i=r),i==null)return(await this.getLaunchpadPools([e]))[0];const s=await this.getLaunchpadPoolState(e,i.pool_type,i.pool_mode),o={...i,...s};return await this.calculateLaunchpadPoolField(o),this.updateCache(n,o,qc),o}async getSpecifyCoinDecimals(e){const t={};(await this._sdk.Token.getSpecifyTokenListByCache(e)).forEach(s=>{t[s.address]=s.decimals});const r=e.filter(s=>t[s]===void 0);return(await this._sdk.Resources.getSpecifyCoinInfos(r)).forEach(s=>{t[s.coinAddress]=Number(s.decimals)}),t}async calculateLaunchpadPoolField(e){const t=await this.getSpecifyCoinDecimals([e.coin_type_sale,e.coin_type_raise]),n=Number(t[e.coin_type_sale]),r=Number(t[e.coin_type_raise]);if(e.initialize_price=Kr.priceFixToReal(e.initialize_price,n,r),Kr.isFixedPricePool(e))e.raise_total=Kr.raiseTotalAmount(e,n,r);else{e.raise_total=Kr.raiseTotalAmount(e,n,r);const s=ht(e.raise_coin_amount).div(ht(10).pow(ht(r))),o=ht(e.sale_total).div(ht(10).pow(ht(n)));o.toNumber()>0?e.price=s.div(o).toNumber():e.price=0}return Kr.updatePoolStaus(e),!0}async getLaunchpadPoolState(e,t,n,r=!0){const i=`${e}_${t}_getLaunchpadPoolState`;if(!r){const c=this.getCacheData(i);if(c!==null)return c}const s=await this._sdk.Resources.fetchAccountResource(e,t),o=JSON.parse(JSON.stringify(s==null?void 0:s.data)),a=Kr.buildLaunchpadFixedPoolState(n,o);return this.updateCache(i,a,qc),a}async getOwnerLaunchpadCoins(e){const t=await this._sdk.Resources.getCoinStores(e),n=[];return t.forEach(r=>{const i=Vf(r.coinAddress);i.module===xw&&n.push({coin_type_sale:i.type_arguments[0],coin_type_raise:i.type_arguments[1],coin_address:r.coinAddress,balance:Number(r.coin.value)})}),n}async getSimplePosition(e){const t=await this._sdk.Resources.fetchAccountResource(e,dt(this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,"clmmProxy","LockedPosition")),n=JSON.parse(JSON.stringify(t==null?void 0:t.data));return{position_name:n.token_id.token_data_id.name,collection:n.token_id.token_data_id.collection,creator:n.token_id.token_data_id.creator,unlock_time:n.unlock_time,is_redeem:n.is_redeem}}async hasPoolWhitelist(e){const{launchpad:t}=this._sdk.sdkOptions.networkOptions,n={handle:"",exist:!1};try{const r=await this._sdk.Resources.fetchAccountResource(e,dt(t.cetusLaunchpad,"whitelist","Whitelist")),i=JSON.parse(JSON.stringify(r==null?void 0:r.data));return n.exist=Number(i.users.length)>0,n.handle=i.users.inner.handle,n}catch(r){console.log(r)}return n}async inPoolWhitelist(e,t){if(!t.exist)return!1;try{return await this._sdk.client.getTableItem(t.handle,{key_type:"address",value_type:"u8",key:e}),!0}catch(n){console.log(n)}return!1}buildLaunchpadCoinType(e,t){return dt(this._sdk.sdkOptions.networkOptions.launchpad.crowdCoin,"cscoin","CS",[e,t])}creatPoolTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r="is_admin"in e,i=`${n.cetusLaunchpad}::${si}`,s=r?e.is_admin?"create_crowdsale_pool_authority":"create_crowdsale_pool":"create_fairlaunch_pool",o=Kr.priceRealToFix(e.initialize_price,e.sale_decimals,e.raise_decimals);console.log("fixPrice:",o);const a=Mt.priceToSqrtPriceX64(ht(e.initialize_price),e.sale_decimals,e.raise_decimals).toString();return r?Kr.buildCreatCrowdsalePoolPayload(e,a,o,i,s,t):Kr.buildCreatFairlaunchPoolPayload(e,a,o,i,s,t)}updatePoolTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="update_pool";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],u=[ue.bcsToBytes(j.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.liquidity_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.calmdown_duraction),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise],a=[e.pool_addr,e.start_time,e.liquidity_rate*100,e.activity_duration,e.calmdown_duraction,e.settle_duration,e.locked_duration];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}purchaseTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="purchase";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],u=[ue.bcsToBytes(j.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.raise_amount_in)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise],a=[e.pool_addr,e.raise_amount_in];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}revokeTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="revoke";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],u=[ue.bcsToBytes(j.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.cs_coin_amount)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise],a=[e.pool_addr,e.cs_coin_amount];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}settleTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i=e.pool_mode==="fixed_price",s=i?"crowd_sale_settle":"fair_launch_settle";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))];return i?new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,s,c,[])):new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,s,c,[ue.bcsSerializeU128(BigInt(e.initialize_sqrt_price))]))}const o=dt(r,s),a=[e.coin_type_sale,e.coin_type_raise];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:i?[]:[e.initialize_sqrt_price]}}claimTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="claim";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],u=[ue.bcsToBytes(j.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.cs_coin_amount)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise],a=[e.pool_addr,e.cs_coin_amount];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}claimFeeTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="claim_fee";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],u=[ue.bcsToBytes(j.AccountAddress.fromHex(e.pool_addr))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise],a=[e.pool_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}withdrawTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i=e.is_withdraw_sale?"withdraw_sale":"withdraw_raise";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],u=[ue.bcsToBytes(j.AccountAddress.fromHex(e.pool_addr))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise],a=[e.pool_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}redeemPositionTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="redeem_position";if(t){const a=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,a,[]))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:[]}}userToWhitelistTransactionPayload(e,t=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i=e.isAdd?"add_user_to_whitelist":"remove_user_from_whitelist";if(t){const c=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],u=[ue.bcsToBytes(j.AccountAddress.fromHex(e.user_addr))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[e.coin_type_sale,e.coin_type_raise],a=[e.user_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}updateCache(e,t,n=Y8){let r=this._cache[e];r?(r.overdueTime=$p(n),r.value=t):r=new rd(t,$p(n)),this._cache[e]=r}getCacheData(e){const t=this._cache[e];return t!==void 0&&t.getCacheData()?t.value:null}};function Q8(e,t,n,r){const i=e.shln(64),s=n.sub(t);return r?ot.divRoundUp(i,s):i.div(s)}var Kr=class{static minSettlePurchaseAmount(e){return ht(e.sale_total).mul(e.initialize_price).mul(e.least_raise_rate).toNumber()}static get_sale_liquidity_amount(e,t,n,r,i,s){const o=U0.getMinIndex(e),a=U0.getMaxIndex(e),c=this.priceRealToFix(r,i,s),u=new C(t*c*n),l=new C(Mt.priceToSqrtPriceX64(ht(c),0,0).toString()),d=Q8(u,Mt.tickIndexToSqrtPriceX64(o),l,!1);return C8(l,Mt.tickIndexToSqrtPriceX64(a),d,!0).toString()}static raiseTotalAmount(e,t,n){const r=ht(t-n).abs().toNumber();return t>n?Number(ht(e.sale_total).mul(e.initialize_price).div(ht(10).pow(ht(r))).toString()):Number(ht(e.sale_total).mul(e.initialize_price).mul(ht(10).pow(ht(r))).toString())}static priceRealToFix(e,t,n){const r=ht(t-n).toNumber();return Number(ht(e).div(ht(10).pow(ht(r))).toString())}static priceFixToReal(e,t,n){const r=ht(t-n).toNumber();return Number(ht(e).mul(ht(10).pow(ht(r))).toString())}static buildLaunchpadPoolType(e,t,n,r){return e?dt(dt(t,h8,p8),[n,r]):dt(dt(t,g8,y8),[n,r])}static isFixedPricePool(e){return e.pool_mode==="fixed_price"}static getFairLaunchSettleSqrtPrice(e,t,n){if(e.pool_status!=="Settle")throw new Error("The pool is not in settle ");const r=Mt.priceToSqrtPriceX64(ht(e.price),t,n).toString();return console.log("sqrtPrice: ",r.toString()),r.toString()}static async updatePoolStaus(e){const t=Kr.isFixedPricePool(e),n=Number(ht(Date.now()/1e3).toFixed(0));if(e.end_activity_time=Number(e.start_activity_time)+Number(e.activity_duration),t)if(e.end_settle_time=Number(e.end_activity_time)+Number(e.settle_duration),e.is_settle)e.pool_status="Ended";else if(n<Number(e.start_activity_time))e.pool_status="Upcoming";else if(n>=e.start_activity_time&&n<e.end_activity_time)e.pool_status="Live";else if(n>=e.end_activity_time&&n<e.end_settle_time){const r=e.raise_coin_amount,i=ht(e.raise_total).mul(ht(e.least_raise_rate)).toNumber();r<i?e.pool_status="Failed":e.pool_status="Settle"}else e.pool_status="Failed";else if(e.end_calm_down_time=Number(e.end_activity_time)+Number(e.calmdown_duration),e.end_settle_time=Number(e.end_calm_down_time)+Number(e.settle_duration),e.is_settle)e.pool_status="Ended";else if(n<Number(e.start_activity_time))e.pool_status="Upcoming";else if(n>=e.start_activity_time&&n<e.end_activity_time)e.pool_status="Live";else if(n>=e.end_activity_time&&n<e.end_calm_down_time)e.pool_status="Calmdown";else if(n>=e.end_calm_down_time&&n<e.end_settle_time){const r=e.raise_coin_amount,i=ht(e.raise_total).mul(ht(e.least_raise_rate)).toNumber();r<i?e.pool_status="Failed":e.pool_status="Settle"}else e.pool_status="Failed";return!0}static buildLaunchpadFixedPoolState(e,t){return e==="fixed_price"?{sale_coin_amount:t.sale_coin.value,raise_coin_amount:t.raise_coin.value,activity_duration:t.activity_duration,clmm_pool_address:t.clmm_pool_address,cs_burn_cap:t.cs_burn_cap.dummy_field,cs_mint_cap:t.cs_mint_cap.dummy_field,fee_amount:t.fee_amount,fee_rate:t.fee_rate,initialize_price:Number(t.initialize_price)/qi,initialize_sqrt_price:BigInt(t.initialize_sqrt_price),is_settle:t.is_settle,least_raise_rate:Number(t.least_raise_rate)/100,liquidity_rate:Number(t.liquidity_rate)/100,locked_duration:t.locked_duration,sale_total:t.sale_total,raise_total:0,settle_duration:t.settle_duration,start_activity_time:t.start_time,unused_raise:t.unused_raise,unused_sale:t.unused_sale,has_whiteList:t.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_settle_time:0}:{price:0,sale_coin_amount:0,raise_coin_amount:t.raise_coin.value,sale_total:t.sale_coin.value,raise_total:0,calmdown_duration:t.calmdown_duration,initialize_price:Number(t.price)/qi,activity_duration:t.activity_duration,clmm_pool_address:t.clmm_pool_address,cs_burn_cap:t.cs_burn_cap.dummy_field,cs_mint_cap:t.cs_mint_cap.dummy_field,fee_amount:t.fee_amount,fee_rate:t.fee_rate,is_settle:t.is_settle,least_raise_rate:Number(t.least_raise_amount)/100,liquidity_rate:Number(t.liquidity_rate)/100,locked_duration:t.locked_duration,settle_duration:t.settle_duration,start_activity_time:t.start_time,has_whiteList:t.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_calm_down_time:0,end_settle_time:0}}static buildCreatCrowdsalePoolPayload(e,t,n,r,i,s=!1){if(s){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],l=e.is_admin?[ue.bcsSerializeU128(n*qi),ue.bcsSerializeU128(BigInt(t)),ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeUint64(e.sale_total),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.least_raise_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration),ue.bcsSerializeU8(0)]:[ue.bcsSerializeU128(n*qi),ue.bcsSerializeU128(BigInt(t)),ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeUint64(e.sale_total),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.least_raise_rate*100),ue.bcsSerializeUint64(e.liquidity_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration),ue.bcsSerializeU8(0)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,u,l))}const o=dt(r,i),a=[e.coin_type_sale,e.coin_type_raise],c=e.is_admin?[n*qi,t,e.tick_spacing,e.sale_total,e.start_time,e.least_raise_rate*100,e.activity_duration,e.settle_duration,e.locked_duration,0]:[n*qi,t,e.tick_spacing,e.sale_total,e.start_time,e.least_raise_rate*100,e.liquidity_rate*100,e.activity_duration,e.settle_duration,e.locked_duration,0];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}static buildCreatFairlaunchPoolPayload(e,t,n,r,i,s=!1){if(s){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsSerializeU128(n*qi),ue.bcsSerializeU128(BigInt(t)),ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeUint64(e.sale_total),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.least_raise_rate*100),ue.bcsSerializeUint64(e.liquidity_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.calmdown_duraction),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,u,l))}const o=dt(r,i),a=[e.coin_type_sale,e.coin_type_raise],c=[n*qi,t,e.tick_spacing,e.sale_total,e.start_time,e.liquidity_rate*100,ue.bcsSerializeUint64(e.least_raise_rate*100),e.activity_duration,e.calmdown_duraction,e.settle_duration,e.locked_duration];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}};function eE(e){let t;switch(e){case 0:t=5;break;case 1:t=10;break;case 2:t=20;break;case 3:t=25;break;default:t=1}const n=100/t+1,r=new Array(n);for(let i=0;i<n;i+=1)r[i]=i*t;return r}function wu(e,t){const n=eE(t),r=new Array(n.length),i=e.divn(100);return n.forEach((s,o)=>{r[o]=i.muln(s)}),r}function tE(e,t,n,r){for(let i=t;i<e;i+=1)n.amountInArray[i]=n.amountInArray[i].add(r.amountIn),n.amountOutArray[i]=n.amountOutArray[i].add(r.amountOut),n.feeAmountArray[i]=n.feeAmountArray[i].add(r.feeAmount);return n}function nE(e,t,n,r,i){let s=new C(r.liquidity),{currentSqrtPrice:o}=r,a={amountInArray:[],amountOutArray:[],feeAmountArray:[],refAmountArray:[],nextSqrtPriceArray:[],crossTickNumArray:[]};n.forEach(()=>{a.amountInArray.push(qe),a.amountOutArray.push(qe),a.feeAmountArray.push(qe),a.refAmountArray.push(qe),a.nextSqrtPriceArray.push(qe),a.crossTickNumArray.push(0)});let c,u;const l=Pu.getDefaultSqrtPriceLimit(e),d=n.length;let h=n[1],y=1,b=0,A;e?A=i.sort((I,U)=>U.index-I.index):A=i.sort((I,U)=>I.index-U.index);for(const I of A){if(b+=1,e){if(r.currentTickIndex<I.index)continue}else if(r.currentTickIndex>I.index)continue;if(I===null)continue;e&&l.gt(I.sqrtPrice)||!e&&l.lt(I.sqrtPrice)?c=l:c=I.sqrtPrice;let U={amountIn:qe,amountOut:qe,nextSqrtPrice:qe,feeAmount:qe};const B=o,v=s;let _=h,S=y;for(let $=y;$<d;$+=1){const F=Iw(o,c,s,h,new C(r.feeRate),t);if(U=F,F.amountIn.eq(qe)||(h=t?h.sub(F.amountIn.add(F.feeAmount)):h.sub(F.amountOut)),h.eq(qe))a.amountInArray[$]=a.amountInArray[$].add(F.amountIn),a.amountOutArray[$]=a.amountOutArray[$].add(F.amountOut),a.feeAmountArray[$]=a.feeAmountArray[$].add(F.feeAmount),F.nextSqrtPrice.eq(I.sqrtPrice)?(u=e?I.liquidityNet.mul(new C(-1)):I.liquidityNet,s=u.gt(qe)?s.add(u):s.sub(u.abs()),o=I.sqrtPrice):o=F.nextSqrtPrice,a.crossTickNumArray[$]+=1,a.amountInArray[$]=a.amountInArray[$].add(a.feeAmountArray[$]),a.nextSqrtPriceArray[$]=o,s=v,o=B,a.crossTickNumArray[$]=b,h=_.add(n[1].muln($-S+1)),y+=1;else{a=tE(d,$,a,F),_=h,S=y;break}}if(y===d)break;U.nextSqrtPrice.eq(I.sqrtPrice)?(u=e?I.liquidityNet.mul(new C(-1)):I.liquidityNet,s=u.gt(qe)?s.add(u):s.sub(u.abs()),o=I.sqrtPrice):o=U.nextSqrtPrice;for(let $=y;$<d;$+=1)a.crossTickNumArray[$]+=1}return a}var rE=class{constructor(e,t,n,r,i,s){this.minSplitUnit=t,this.a2b=r,this.byAmountIn=i,this.clmmpool=n,this.ticks=s,this.amountArray=[],this.createSplitSwapParams=this.createSplitSwapParams.bind(this),this.createSplitSwapParams(e,t),this.splitSwapResult={amountInArray:[],amountOutArray:[],feeAmountArray:[],refAmountArray:[],nextSqrtPriceArray:[],crossTickNumArray:[]},this.computeSwap=this.computeSwap.bind(this),this.getSplitSwapResult=this.getSplitSwapResult.bind(this)}createSplitSwapParams(e,t){const n=wu(e,t);this.amountArray=n}computeSwap(){this.splitSwapResult=nE(this.a2b,this.byAmountIn,this.amountArray,this.clmmpool,this.ticks)}getSplitSwapResult(){return this.splitSwapResult}},U0=class{static getMinIndex(t){return Cp+Math.abs(Cp)%t}static getMaxIndex(t){return kp-kp%t}};function iE(e,t){const n=Math.abs(e)%t;return e>0?n>t/2?e+t-n:e-n:n>t/2?e-t+n:e+n}function sE(e,t,n,r,i,s){const o=e.rewarder_infos,a=[];for(let c=0;c<o.length;c+=1){let u=s[c];t!==null&&(e.current_tick_index<r?u=s[c].sub(new C(t.rewardersGrowthOutside[c])):u=t.rewardersGrowthOutside[c]);let l=new C(0);n!==null&&(e.current_tick_index>=i?l=s[c].sub(new C(n.rewardersGrowthOutside[c])):l=n.rewardersGrowthOutside[c]);const d=ot.subUnderflowU128(ot.subUnderflowU128(new C(s[c]),new C(u)),new C(l));a.push(d)}return a}var oE=class{constructor(t){this._sdk=t,this.growthGlobal=[qe,qe,qe]}get sdk(){return this._sdk}async listRewarderInfosFromClmmpool(t){const n=await this.sdk.Resources.getPool(t),r=[];for(const i of n.rewarder_infos)r.push(i);return r}async emissionsEveryDay(t){const n=await this.listRewarderInfosFromClmmpool(t);if(!n)return null;const r=[];for(const i of n){const s=ot.fromX64(new C(i.emissions_per_second));r.push({emissions:Math.floor(s.toNumber()*60*60*24),coin_address:i.coinAddress})}return r}async collectRewarderAmount(t,n){const r=await this.sdk.Resources.getPositionInfo(t,n);return r?{reward_amount_owed_0:r.reward_amount_owed_0,reward_amount_owed_1:r.reward_amount_owed_1,reward_amount_owed_2:r.reward_amount_owed_2}:null}async updatePoolRewarder(t,n){const r=await this.sdk.Resources.getPool(t),i=r.rewarder_last_updated_time;if(r.rewarder_last_updated_time=n,r.liquidity===0||n.eq(i))return r;const s=n.div(new C(1e3)).sub(new C(i)).add(new C(15)),o=r.rewarder_infos;for(let a=0;a<o.length;a+=1){const c=o[a],u=ot.checkMulDivFloor(s,new C(c.emissions_per_second),new C(r.liquidity),128);this.growthGlobal[a]=new C(c.growth_global).add(new C(u))}return r}async posRewardersAmount(t,n,r,i){const s=Date.parse(new Date().toString()),o=await this.updatePoolRewarder(t,new C(s)),a=await this.sdk.Resources.getPositionInfo(o,n),c=parseInt(a.tick_lower_index,10),u=parseInt(a.tick_upper_index,10),l=sE(o,r,i,c,u,this.growthGlobal),d=[],h=[];if(l.length>0){const y=ot.subUnderflowU128(l[0],new C(a.reward_growth_inside_0)),b=ot.checkMulShiftRight(new C(a.liquidity),y,64,256);d.push(l[0]),h.push({amount_owed:new C(a.reward_amount_owed_0).add(b),coin_address:o.rewarder_infos[0].coinAddress})}if(l.length>1){const y=ot.subUnderflowU128(l[1],new C(a.reward_growth_inside_1)),b=ot.checkMulShiftRight(new C(a.liquidity),y,64,256);d.push(l[1]),h.push({amount_owed:new C(a.reward_amount_owed_1).add(b),coin_address:o.rewarder_infos[1].coinAddress})}if(l.length>2){const y=ot.subUnderflowU128(l[2],new C(a.reward_growth_inside_2)),b=ot.checkMulShiftRight(new C(a.liquidity),y,64,256);d.push(l[2]),h.push({amount_owed:new C(a.reward_amount_owed_2).add(b),coin_address:o.rewarder_infos[2].coinAddress})}return h}async poolRewardersAmount(t,n,r,i){const s=Date.parse(new Date().toString()),o=await this.updatePoolRewarder(n,new C(s)),a=await this.sdk.Resources.getPositionList(t,[o]),c=[qe,qe,qe];for(let u=0;u<a.length;u+=1){const l=await this.posRewardersAmount(n,a[u],r[u],i[u]);for(let d=0;d<3;d+=1)c[d]=c[d].add(l[d].amount_owed)}return c}collectPosRewarderTransactionPayload(t,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="collect_rewarder";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeC))],l=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool_address)),ue.bcsSerializeU8(t.index),ue.bcsSerializeUint64(t.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[t.coinTypeA,t.coinTypeB,t.coinTypeC],c=[t.pool_address,t.index,t.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}collectPoolRewarderTransactionPayload(t,n=!1){if(t.rewarder_nums===1){const s={pool_address:t.pool_address,index:0,pos_index:t.pos_index,coinTypeA:t.coinTypeA,coinTypeB:t.coinTypeB,coinTypeC:t.coinTypeC};return this.collectPosRewarderTransactionPayload(s,n)}const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.ClmmIntegrate}::${P0}`;if(t.rewarder_nums===2){const s="collect_rewarder_for_two";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeD))],l=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool_address)),ue.bcsSerializeUint64(t.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[t.coinTypeA,t.coinTypeB,t.coinTypeC,t.coinTypeD],c=[t.pool_address,t.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}if(t.rewarder_nums===3){const s="collect_rewarder_for_three";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeD)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeE))],l=[ue.bcsToBytes(j.AccountAddress.fromHex(t.pool_address)),ue.bcsSerializeUint64(t.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[t.coinTypeA,t.coinTypeB,t.coinTypeC,t.coinTypeD,t.coinTypeE],c=[t.pool_address,t.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}}},aE=5*60*1e3,Dc=24*60*60*1e3;function Np(e){return Date.parse(new Date().toString())+e}var cE=class{constructor(t){this._cache={},this._sdk=t}get sdk(){return this._sdk}async getOwnerTokenList(t,n,r=!1){const i="getAllRegisteredTokenList";if(!r){const d=this.getCacheData(i);if(d!==null)return d}const{modules:s}=this._sdk.sdkOptions.networkOptions,o=`${s.TokenDeployer}::coin_list`,a="fetch_full_list",c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(o,a,[],[ue.bcsToBytes(j.AccountAddress.fromHex(n))])),u=await Nc(new Qt(this.sdk.sdkOptions.rpcUrl),t,c),l=this.transformTokenData(u.changes);return this.updateCache(i,l,Dc),l}async getTokenListByCoinType(t,n=0,r=20){const{fraphQLUrl:i}=this._sdk.sdkOptions;if(!i)throw Error("The fraphQLUrl is not configured in the SDK");const s={query:`query MyQuery {
  coin_infos(
  limit: ${r}, offset: ${n},  order_by: {name: desc}, where: {  coin_type: {_regex: "${t}"}}
  ) {
    coin_type
    symbol
    name
    decimals
    creator_address
    coin_type_hash
  }
}
`,variables:null,operationName:"MyQuery"},o=await Yr.post(i,s),a=[];return o.data.data.coin_infos.forEach(c=>{a.push({address:c.coin_type,symbol:c.symbol,official_symbol:c.symbol,decimals:c.decimals,name:c.name,coingecko_id:"",project_url:"",logo_url:""})}),a}async getSpecifyTokenListByCache(t){const n="getAllRegisteredTokenList",r=this.getCacheData(n),i=[];if(r!==null){const s=r;for(const o of t)for(const a of s)if(o===a.address){i.push(a);continue}}return i}async getAllRegisteredTokenList(t,n=!1){const r="getAllRegisteredTokenList";if(!n){const d=this.getCacheData(r);if(d!==null)return d}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::coin_list`,o="fetch_all_registered_coin_info",a=new Qt(this.sdk.sdkOptions.rpcUrl),c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,[],[])),u=await Nc(a,t,c),l=this.transformTokenData(u.changes);return this.updateCache(r,l,Dc),l}transformTokenData(t){const n=[],{modules:r}=this._sdk.sdkOptions.networkOptions,i=t.filter(a=>a.type!=="write_resource"?!1:a.data.type===`${r.TokenDeployer}::coin_list::CoinList<${r.TokenDeployer}::coin_list::CoinInfo>`);if(i.length===0)return n;const o=i[0].data.data;return"full_list"in o&&o.full_list.value_list.forEach(a=>{const c={...a},u=a.extensions.data;for(const l of u){if(l.key==="labels")try{l.value=JSON.parse(decodeURIComponent(B0.decode(l.value)))}catch{}c[l.key]=l.value}n.push(c)}),n}async getAllRegisteredPoolList(t,n=!1){const r="getAllRegisteredPoolList";if(!n){const d=this.getCacheData(r);if(d!==null)return d}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::lp_list`,o="fetch_all_registered_coin_info",a=new Qt(this.sdk.sdkOptions.rpcUrl),c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,[],[])),u=await Nc(a,t,c),l=this.transformPoolData(u.changes);return this.updateCache(r,l,Dc),l}async getOwnerPoolList(t,n,r=!1){const i="getAllRegisteredPoolList";if(!r){const d=this.getCacheData(i);if(d!==null)return d}const{modules:s}=this._sdk.sdkOptions.networkOptions,o=`${s.TokenDeployer}::lp_list`,a="fetch_full_list",c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(o,a,[],[ue.bcsToBytes(j.AccountAddress.fromHex(n))])),u=await Nc(new Qt(this.sdk.sdkOptions.rpcUrl),t,c),l=this.transformPoolData(u.changes);return this.updateCache(i,l,Dc),l}transformPoolData(t){const n=[],{modules:r}=this._sdk.sdkOptions.networkOptions,i=t.filter(a=>a.type!=="write_resource"?!1:a.data.type===`${r.TokenDeployer}::lp_list::PoolList<${r.TokenDeployer}::lp_list::PoolInfo>`);if(i.length===0)return n;const o=i[0].data.data;return"full_list"in o&&o.full_list.value_list.forEach(a=>{const c={...a},u=a.extensions.data;for(const l of u){if(l.key==="labels")try{l.value=JSON.parse(decodeURIComponent(B0.decode(l.value)))}catch{}c[l.key]=l.value}n.push(c)}),n}async getOwnerWarpPoolList(t,n,r=!1){const i=await this.getOwnerTokenList(n,t,r),s=await this.getOwnerPoolList(n,t,r),o=[];for(const a of s){for(const c of i)c.address===a.coin_a_address&&(a.coinA=c),c.address===a.coin_b_address&&(a.coinB=c);o.push(a)}return o}async getWarpPoolList(t,n=!1){const r=await this.getAllRegisteredTokenList(t,n),i=await this.getAllRegisteredPoolList(t,n),s=[];for(const o of i){for(const a of r)a.address===o.coin_a_address&&(o.coinA=a),a.address===o.coin_b_address&&(o.coinB=a);s.push(o)}return s}updateCache(t,n,r=aE){let i=this._cache[t];i?(i.overdueTime=Np(r),i.value=n):i=new rd(n,Np(r)),this._cache[t]=i}getCacheData(t){const n=this._cache[t];return n!==void 0&&n.getCacheData()?n.value:null}},uE=60,fn={maxAmountOut:qe,path:[]};function qp(e,t){return{pair:`${e.toUpperCase()}-${t.toUpperCase()}`,reversePair:`${t.toUpperCase()}-${e.toUpperCase()}`}}function lE(e,t,n){const r=e.length;if(!e.length)throw new Error("routerTable is empty");if(r!==t.length)throw new Error("routerTable length not equal to feeRateArray length");let i=new C(0),s=[];const o=100/(e[0].length-1);switch(r){case 1:{i=e[0][e[0].length-1],s.push({feeRate:t[0],percent:100});break}case 2:{for(let a=0;a<e[0].length;a+=1){const c=e[0].length-a-1,u=e[0][a].add(e[1][c]);(u.gt(i)&&n||u.lt(i)&&!n)&&(s=[],i=u,a>0&&s.push({feeRate:t[0],percent:a*o}),c>0&&s.push({feeRate:t[1],percent:c*o}))}break}case 3:{for(let a=0;a<e[0].length;a+=1)for(let c=0;c<e[0].length-a;c+=1){const u=e[0].length-a-c-1,l=e[0][a].add(e[1][c]).add(e[2][u]);(l.gt(i)&&n||l.lt(i)&&!n)&&(s=[],i=l,a>0&&s.push({feeRate:t[0],percent:o*a}),c>0&&s.push({feeRate:t[1],percent:c*o}),u>0&&s.push({feeRate:t[2],percent:u*o}))}break}case 4:{for(let a=0;a<e[0].length;a+=1)for(let c=0;c<e[0].length-a;c+=1)for(let u=0;u<e[0].length-a-c;u+=1){const l=e[0].length-a-c-u-1,d=e[0][a].add(e[1][c]).add(e[2][u]).add(e[3][l]);(d.gt(i)&&n||d.lt(i)&&!n)&&(s=[],i=d,a>0&&s.push({feeRate:t[0],percent:o*a}),c>0&&s.push({feeRate:t[1],percent:c*o}),u>0&&s.push({feeRate:t[2],percent:u*o}),l>0&&s.push({feeRate:t[3],percent:l*o}))}break}}return{maxAmountOut:i,path:s}}var dE=class{constructor(t){this.priceProviders=[],this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new mw,this._coinSymbolMap=new Map,this._coinAddressMap=new Map,this.poolAddressMap=new Map,this.poolMap=new Map,this.ticksMap=new Map,this._sdk=t,this.leastRefreshTime=Date.now(),this.createTxParams={partitionQuantities:[],swapDirects:[],poolAddresses:[],amounts:[],partner:"",coinTypes:[]},this.splitUnit=3,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.addPriceProvider=this.addPriceProvider.bind(this),this.splitSwap=this.splitSwap.bind(this),this.splitSwapForRouter=this.splitSwapForRouter.bind(this),this.splitSwapForRouters=this.splitSwapForRouters.bind(this),this.refreshPoolofSwapRouter=this.refreshPoolofSwapRouter.bind(this),this.getBestSplitResultInOnePair=this.getBestSplitResultInOnePair.bind(this),this.findBestSplitPriceWithOneSkip=this.findBestSplitPriceWithOneSkip.bind(this),this.findBestSplitPriceWithTwoSkip=this.findBestSplitPriceWithTwoSkip.bind(this),this.findBestSplitPriceWithThreeSkip=this.findBestSplitPriceWithThreeSkip.bind(this),this.findBestSplitPrice=this.findBestSplitPrice.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(t,n){const{pair:r,reversePair:i}=qp(t,n);let s=this.poolAddressMap.get(r);if(s)return{addressMap:s,direction:!0};if(s=this.poolAddressMap.get(i),s)return{addressMap:s,direction:!1}}async setCoinList(){this.coinProviders.coins.forEach(t=>{this._coinSymbolMap.set(t.symbol,t),this._coinAddressMap.set(t.address,t)})}loadGraph(){return this.pathProviders.forEach(t=>{const{paths:n}=t;n.forEach(r=>{var i,s;const o=(i=this.graph.getVertexByKey(r.base))!=null?i:new Ru(r.base),a=(s=this.graph.getVertexByKey(r.quote))!=null?s:new Ru(r.quote);this.graph.addEdge(new yw(o,a));const c=this._coinSymbolMap.get(r.base),u=this._coinSymbolMap.get(r.quote);if(c!=null&&u!=null){const l=qp(r.base,r.quote).pair;this.poolAddressMap.set(l,r.addressMap)}})}),this}addPathProvider(t){return this.pathProviders.push(t),this}addPriceProvider(t){return this.priceProviders.push(t),this}addCoinProvider(t){return this.coinProviders=t,this}tokenInfo(t){return this._coinAddressMap.has(t)?this._coinAddressMap.get(t):this._coinSymbolMap.get(t)}getCreateTxParams(){return this.createTxParams}getBestSplitResultInOnePair(t,n,r,i,s){if(r.eq(qe))return{maxAmountOut:qe,path:[]};const o=[],a=[],c=this.getPoolAddressMapAndDirection(t,n),u=c==null?void 0:c.addressMap;u&&u.forEach((h,y)=>{const b=this.poolMap.get(h),A=this.ticksMap.get(h),I=new rE(r,0,b,i,s,A);I.computeSwap();const U=I.getSplitSwapResult();o.push(U.amountOutArray),a.push(y)});const l=lE(o.slice(0,4),a.slice(0,4),s);return{maxAmountOut:l.maxAmountOut,path:l.path}}findBestSplitPriceWithOneSkip(t,n,r,i,s){const o={maxAmountOut:new C(0),path:[],poolAddresses:[],amounts:[]},a=[],c=[],u=[];if(!s){let h=fn,y=fn;i?(h=this.getBestSplitResultInOnePair(t[0][0],t[0][1],n,r[0][0],i),y=this.getBestSplitResultInOnePair(t[0][2],t[0][3],h.maxAmountOut,r[0][1],i),o.maxAmountOut=y.maxAmountOut):(y=this.getBestSplitResultInOnePair(t[0][2],t[0][3],n,r[0][1],i),h=this.getBestSplitResultInOnePair(t[0][0],t[0][1],y.maxAmountOut,r[0][0],i),o.maxAmountOut=h.maxAmountOut),a.push(h.path),a.push([]),a.push(y.path);const b=[],A=[];h.path.forEach(B=>{var v;i?b.push(n.muln(B.percent).divn(100).toString()):b.push(y.maxAmountOut.muln(B.percent).divn(100).toString());const _=(v=this.getPoolAddressMapAndDirection(t[0][0],t[0][1]))==null?void 0:v.addressMap.get(B.feeRate);A.push(_)});const I=[],U=[];return y.path.forEach(B=>{var v;i?I.push(h.maxAmountOut.muln(B.percent).divn(100).toString()):I.push(n.muln(B.percent).divn(100).toString());const _=(v=this.getPoolAddressMapAndDirection(t[0][2],t[0][3]))==null?void 0:v.addressMap.get(B.feeRate);U.push(_)}),c.push(b),c.push([]),c.push(I),u.push(A),u.push([]),u.push(U),o.amounts=c,o.path=a,o.poolAddresses=u,i?o.maxAmountOut=y.maxAmountOut:o.maxAmountOut=h.maxAmountOut,o}let l=qe;i||(l=new C(2**64));const d=wu(n,this.splitUnit);for(let h=0;h<d.length;h+=1){const y=this.getBestSplitResultInOnePair(t[0][0],t[0][1],d[h],r[0][0],i);let b=fn,A=fn;i?(b=this.getBestSplitResultInOnePair(t[1][0],t[1][1],d[d.length-h],r[1][0],i),A=this.getBestSplitResultInOnePair(t[1][2],t[1][3],b.maxAmountOut,r[1][1],i)):(A=this.getBestSplitResultInOnePair(t[1][2],t[1][3],d[d.length-h],r[1][1],i),b=this.getBestSplitResultInOnePair(t[1][0],t[1][1],A.maxAmountOut,r[1][0],i));const I=[],U=[];y.path.forEach(Y=>{var J;I.push(n.muln(Y.percent).divn(100).toString());const N=(J=this.getPoolAddressMapAndDirection(t[0][0],t[0][1]))==null?void 0:J.addressMap.get(Y.feeRate);U.push(N)});const B=[],v=[];b.path.forEach(Y=>{var J;i?B.push(n.muln(Y.percent).divn(100).toString()):B.push(A.maxAmountOut.muln(Y.percent).divn(100).toString());const N=(J=this.getPoolAddressMapAndDirection(t[1][0],t[1][1]))==null?void 0:J.addressMap.get(Y.feeRate);v.push(N)});const _=[],S=[];A.path.forEach(Y=>{var J;i?_.push(b.maxAmountOut.muln(Y.percent).divn(100).toString()):_.push(n.muln(Y.percent).divn(100).toString()),_.push(b.maxAmountOut.muln(Y.percent).divn(100).toString());const N=(J=this.getPoolAddressMapAndDirection(t[1][2],t[1][3]))==null?void 0:J.addressMap.get(Y.feeRate);S.push(N)});const $=[],F=[],W=[];(A.maxAmountOut.add(y.maxAmountOut).gt(l)||b.maxAmountOut.add(y.maxAmountOut).lt(l))&&(i?l=A.maxAmountOut.add(y.maxAmountOut):l=b.maxAmountOut.add(y.maxAmountOut),$.push(b.path),$.push(y.path),$.push(A.path),F.push(B),F.push(I),F.push(_),W.push(v),W.push(U),W.push(S),o.maxAmountOut=l,o.path=$,o.amounts=F,o.poolAddresses=W)}return o}findBestSplitPriceWithTwoSkip(t,n,r,i,s){const o={maxAmountOut:new C(0),path:[],amounts:[],poolAddresses:[]},a=wu(n,this.splitUnit);let c=qe;if(i||(c=new C(2**64)),!s){for(let u=0;u<a.length;u+=1){let l=fn,d=fn,h=fn,y=fn;i?(l=this.getBestSplitResultInOnePair(t[0][0],t[0][1],a[a.length-u],r[1][0],i),d=this.getBestSplitResultInOnePair(t[0][2],t[0][3],l.maxAmountOut,r[1][1],i),h=this.getBestSplitResultInOnePair(t[1][0],t[1][1],a[a.length-u],r[1][0],i),y=this.getBestSplitResultInOnePair(t[1][2],t[1][3],h.maxAmountOut,r[1][1],i)):(d=this.getBestSplitResultInOnePair(t[0][2],t[0][3],a[a.length-u],r[1][1],i),l=this.getBestSplitResultInOnePair(t[0][0],t[0][1],d.maxAmountOut,r[1][0],i),y=this.getBestSplitResultInOnePair(t[1][2],t[1][3],a[a.length-u],r[1][1],i),h=this.getBestSplitResultInOnePair(t[1][0],t[1][1],y.maxAmountOut,r[1][0],i));const b=[];l.path.forEach(v=>{var _;i?b.push(n.muln(v.percent).divn(100).toString()):b.push(d.maxAmountOut.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(t[0][0],t[0][1]))==null||_.addressMap.get(v.feeRate)});const A=[];d.path.forEach(v=>{var _;i?A.push(l.maxAmountOut.muln(v.percent).divn(100).toString()):A.push(n.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(t[0][2],t[0][3]))==null||_.addressMap.get(v.feeRate)});const I=[];h.path.forEach(v=>{var _;i?I.push(n.muln(v.percent).divn(100).toString()):I.push(y.maxAmountOut.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(t[1][0],t[1][1]))==null||_.addressMap.get(v.feeRate)});const U=[];y.path.forEach(v=>{var _;i?U.push(h.maxAmountOut.muln(v.percent).divn(100).toString()):U.push(n.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(t[1][1],t[1][2]))==null||_.addressMap.get(v.feeRate)});const B=[];(d.maxAmountOut.add(y.maxAmountOut).gt(c)&&i||!i&&l.maxAmountOut.add(h.maxAmountOut).lt(c))&&(i?c=d.maxAmountOut.add(y.maxAmountOut):c=l.maxAmountOut.add(h.maxAmountOut),B.push(l.path),B.push(d.path),B.push([]),B.push(h.path),B.push(y.path),o.maxAmountOut=c,o.path=B)}return o}for(let u=0;u<a.length;u+=1)for(let l=0;l<a.length-u-1;l+=1){const d=a.length-u-l-1,h=this.getBestSplitResultInOnePair(t[0][0],t[0][1],a[d],r[0][0],i);let y=fn,b=fn,A=fn,I=fn;i?(y=this.getBestSplitResultInOnePair(t[1][0],t[1][1],a[l],r[1][0],i),b=this.getBestSplitResultInOnePair(t[1][2],t[1][3],y.maxAmountOut,r[1][1],i),A=this.getBestSplitResultInOnePair(t[2][0],t[2][1],a[u],r[2][0],i),I=this.getBestSplitResultInOnePair(t[2][2],t[2][3],A.maxAmountOut,r[2][1],i)):(b=this.getBestSplitResultInOnePair(t[1][2],t[1][3],a[l],r[1][1],i),y=this.getBestSplitResultInOnePair(t[1][0],t[1][1],b.maxAmountOut,r[1][0],i),I=this.getBestSplitResultInOnePair(t[2][2],t[2][3],I.maxAmountOut,r[2][1],i),A=this.getBestSplitResultInOnePair(t[2][0],t[2][1],a[u],r[2][0],i));const U=[],B=[];y.path.forEach(p=>{var w;i?U.push(n.muln(p.percent).divn(100).toString()):U.push(b.maxAmountOut.muln(p.percent).divn(100).toString());const k=(w=this.getPoolAddressMapAndDirection(t[1][0],t[1][1]))==null?void 0:w.addressMap.get(p.feeRate);B.push(k)});const v=[],_=[];b.path.forEach(p=>{var w;i?v.push(y.maxAmountOut.muln(p.percent).divn(100).toString()):v.push(n.muln(p.percent).divn(100).toString());const k=(w=this.getPoolAddressMapAndDirection(t[1][2],t[1][3]))==null?void 0:w.addressMap.get(p.feeRate);_.push(k)});const S=[],$=[];A.path.forEach(p=>{var w;i?S.push(n.muln(p.percent).divn(100).toString()):S.push(I.maxAmountOut.muln(p.percent).divn(100).toString());const k=(w=this.getPoolAddressMapAndDirection(t[2][0],t[2][1]))==null?void 0:w.addressMap.get(p.feeRate);$.push(k)});const F=[],W=[];I.path.forEach(p=>{var w;i?F.push(A.maxAmountOut.muln(p.percent).divn(100).toString()):F.push(n.muln(p.percent).divn(100).toString());const k=(w=this.getPoolAddressMapAndDirection(t[2][2],t[2][3]))==null?void 0:w.addressMap.get(p.feeRate);W.push(k)});const Y=[],J=[];h.path.forEach(p=>{var w;Y.push(n.muln(p.percent).divn(100).toString());const k=(w=this.getPoolAddressMapAndDirection(t[0][0],t[0][1]))==null?void 0:w.addressMap.get(p.feeRate);J.push(k)});let N=qe;i?N=h.maxAmountOut.add(b.maxAmountOut).add(I.maxAmountOut):N=h.maxAmountOut.add(y.maxAmountOut).add(A.maxAmountOut);const H=[],E=[],f=[];(N.gt(c)&&i||N.lt(c)&&!i)&&(c=N,H.push(y.path),H.push(A.path),H.push(h.path),H.push(b.path),H.push(I.path),E.push(U),E.push(S),E.push(Y),E.push(v),E.push(F),f.push(B),f.push($),f.push(J),f.push(_),f.push(W),o.maxAmountOut=N,o.path=H,o.amounts=E,o.poolAddresses=f)}return o}findBestSplitPriceWithThreeSkip(t,n,r,i,s){const o={maxAmountOut:new C(0),path:[],amounts:[],poolAddresses:[]};let a=qe;i||(a=new C(2**64));const c=wu(n,this.splitUnit);for(let u=0;u<c.length;u+=1)for(let l=0;l<c.length-u-1;l+=1)if(s){const h=c.length-u-l-1,y=this.getBestSplitResultInOnePair(t[0][0],t[0][1],c[0],r[0][0],i);let b=fn,A=fn,I=fn,U=fn,B=fn,v=fn;i?(b=this.getBestSplitResultInOnePair(t[1][0],t[1][1],c[l],r[1][0],i),A=this.getBestSplitResultInOnePair(t[1][2],t[1][3],b.maxAmountOut,r[1][1],i),I=this.getBestSplitResultInOnePair(t[2][0],t[2][1],c[u],r[2][0],i),U=this.getBestSplitResultInOnePair(t[2][2],t[2][3],I.maxAmountOut,r[2][1],i),B=this.getBestSplitResultInOnePair(t[3][0],t[3][1],c[h],r[3][0],i),v=this.getBestSplitResultInOnePair(t[3][2],t[3][3],I.maxAmountOut,r[3][1],i)):(A=this.getBestSplitResultInOnePair(t[1][2],t[1][3],c[l],r[1][1],i),b=this.getBestSplitResultInOnePair(t[1][0],t[1][1],A.maxAmountOut,r[1][0],i),U=this.getBestSplitResultInOnePair(t[2][2],t[2][3],c[u],r[2][1],i),I=this.getBestSplitResultInOnePair(t[2][0],t[2][1],U.maxAmountOut,r[2][0],i),v=this.getBestSplitResultInOnePair(t[3][2],t[3][3],c[h],r[3][1],i),B=this.getBestSplitResultInOnePair(t[3][0],t[3][1],U.maxAmountOut,r[3][0],i));const _=[],S=[];b.path.forEach(m=>{var L;i?_.push(n.muln(m.percent).divn(100).toString()):_.push(A.maxAmountOut.muln(m.percent).divn(100).toString());const we=(L=this.getPoolAddressMapAndDirection(t[1][0],t[1][1]))==null?void 0:L.addressMap.get(m.feeRate);S.push(we)});const $=[],F=[];A.path.forEach(m=>{var L;i?$.push(b.maxAmountOut.muln(m.percent).divn(100).toString()):$.push(n.muln(m.percent).divn(100).toString());const we=(L=this.getPoolAddressMapAndDirection(t[1][2],t[1][3]))==null?void 0:L.addressMap.get(m.feeRate);F.push(we)});const W=[],Y=[];I.path.forEach(m=>{var L;i?W.push(n.muln(m.percent).divn(100).toString()):W.push(U.maxAmountOut.muln(m.percent).divn(100).toString());const we=(L=this.getPoolAddressMapAndDirection(t[2][0],t[2][1]))==null?void 0:L.addressMap.get(m.feeRate);Y.push(we)});const J=[],N=[];U.path.forEach(m=>{var L;i?J.push(I.maxAmountOut.muln(m.percent).divn(100).toString()):J.push(n.muln(m.percent).divn(100).toString());const we=(L=this.getPoolAddressMapAndDirection(t[2][2],t[2][3]))==null?void 0:L.addressMap.get(m.feeRate);N.push(we)});const H=[],E=[];B.path.forEach(m=>{var L;i?H.push(n.muln(m.percent).divn(100).toString()):H.push(v.maxAmountOut.muln(m.percent).divn(100).toString());const we=(L=this.getPoolAddressMapAndDirection(t[3][0],t[3][1]))==null?void 0:L.addressMap.get(m.feeRate);E.push(we)});const f=[],p=[];v.path.forEach(m=>{var L;i?f.push(B.maxAmountOut.muln(m.percent).divn(100).toString()):f.push(n.muln(m.percent).divn(100).toString());const we=(L=this.getPoolAddressMapAndDirection(t[3][2],t[3][3]))==null?void 0:L.addressMap.get(m.feeRate);p.push(we)});const w=[],k=[];y.path.forEach(m=>{var L;w.push(n.muln(m.percent).divn(100).toString());const we=(L=this.getPoolAddressMapAndDirection(t[0][0],t[0][1]))==null?void 0:L.addressMap.get(m.feeRate);k.push(we)});const q=[],z=[],X=[];let O=qe;i?O=A.maxAmountOut.add(U.maxAmountOut).add(v.maxAmountOut):O=b.maxAmountOut.add(I.maxAmountOut).add(B.maxAmountOut),(O.gt(a)&&i||O.lt(a)&&!i)&&(a=O,q.push(b.path),q.push(I.path),q.push(B.path),q.push(y.path),q.push(A.path),q.push(U.path),q.push(v.path),z.push(_),z.push(W),z.push(H),z.push(w),z.push($),z.push(J),z.push(f),X.push(S),X.push(Y),X.push(E),X.push(k),X.push(F),X.push(N),X.push(p),o.maxAmountOut=O,o.path=q,o.amounts=z,o.poolAddresses=X)}else for(let d=0;d<c.length-u-l-1;d+=1){const h=c.length-u-l-d-1,y=this.getBestSplitResultInOnePair(t[0][0],t[0][1],c[d],r[0][0],i);let b=fn,A=fn,I=fn,U=fn,B=fn,v=fn;i?(b=this.getBestSplitResultInOnePair(t[1][0],t[1][1],c[l],r[1][0],i),A=this.getBestSplitResultInOnePair(t[1][2],t[1][3],b.maxAmountOut,r[1][1],i),I=this.getBestSplitResultInOnePair(t[2][0],t[2][1],c[u],r[2][0],i),U=this.getBestSplitResultInOnePair(t[2][2],t[2][3],I.maxAmountOut,r[2][1],i),B=this.getBestSplitResultInOnePair(t[3][0],t[3][1],c[h],r[3][0],i),v=this.getBestSplitResultInOnePair(t[3][2],t[3][3],I.maxAmountOut,r[3][1],i)):(A=this.getBestSplitResultInOnePair(t[1][2],t[1][3],c[l],r[1][1],i),b=this.getBestSplitResultInOnePair(t[1][0],t[1][1],A.maxAmountOut,r[1][0],i),U=this.getBestSplitResultInOnePair(t[2][2],t[2][3],c[u],r[2][1],i),I=this.getBestSplitResultInOnePair(t[2][0],t[2][1],U.maxAmountOut,r[2][0],i),v=this.getBestSplitResultInOnePair(t[3][2],t[3][3],c[h],r[3][1],i),B=this.getBestSplitResultInOnePair(t[3][0],t[3][1],U.maxAmountOut,r[3][0],i));const _=[],S=[];b.path.forEach(X=>{var O;i?_.push(n.muln(X.percent).divn(100).toString()):_.push(A.maxAmountOut.muln(X.percent).divn(100).toString());const m=(O=this.getPoolAddressMapAndDirection(t[0][0],t[0][1]))==null?void 0:O.addressMap.get(X.feeRate);S.push(m)});const $=[],F=[];A.path.forEach(X=>{var O;i?$.push(b.maxAmountOut.muln(X.percent).divn(100).toString()):$.push(n.muln(X.percent).divn(100).toString());const m=(O=this.getPoolAddressMapAndDirection(t[0][2],t[0][3]))==null?void 0:O.addressMap.get(X.feeRate);F.push(m)});const W=[],Y=[];I.path.forEach(X=>{var O;i?W.push(n.muln(X.percent).divn(100).toString()):W.push(U.maxAmountOut.muln(X.percent).divn(100).toString());const m=(O=this.getPoolAddressMapAndDirection(t[1][0],t[1][1]))==null?void 0:O.addressMap.get(X.feeRate);Y.push(m)});const J=[],N=[];U.path.forEach(X=>{var O;i?J.push(I.maxAmountOut.muln(X.percent).divn(100).toString()):J.push(n.muln(X.percent).divn(100).toString());const m=(O=this.getPoolAddressMapAndDirection(t[1][2],t[1][3]))==null?void 0:O.addressMap.get(X.feeRate);N.push(m)});const H=[],E=[];B.path.forEach(X=>{var O;i?H.push(n.muln(X.percent).divn(100).toString()):H.push(v.maxAmountOut.muln(X.percent).divn(100).toString());const m=(O=this.getPoolAddressMapAndDirection(t[2][0],t[2][1]))==null?void 0:O.addressMap.get(X.feeRate);E.push(m)});const f=[],p=[];v.path.forEach(X=>{var O;i?f.push(B.maxAmountOut.muln(X.percent).divn(100).toString()):f.push(n.muln(X.percent).divn(100).toString());const m=(O=this.getPoolAddressMapAndDirection(t[2][2],t[2][3]))==null?void 0:O.addressMap.get(X.feeRate);p.push(m)});let w=qe;i?w=y.maxAmountOut.add(A.maxAmountOut).add(U.maxAmountOut).add(v.maxAmountOut):w=y.maxAmountOut.add(b.maxAmountOut).add(I.maxAmountOut).add(B.maxAmountOut);const k=[],q=[],z=[];(w.gt(a)&&i||!i&&w.lt(a))&&(a=w,k.push(b.path),k.push(I.path),k.push(B.path),k.push(y.path),k.push(A.path),k.push(U.path),k.push(v.path),q.push(_),q.push($),q.push(W),q.push([]),q.push(J),q.push(H),q.push(f),z.push(S),z.push(F),z.push(Y),z.push([]),z.push(N),z.push(E),z.push(p),o.maxAmountOut=w,o.path=k,o.amounts=q,o.poolAddresses=z)}return o}findBestSplitPrice(t,n,r,i,s){var o,a,c,u;let l=t.length,d=!1;t[0].length===2&&(d=!0,l-=1);let h={maxAmountOut:qe,path:[],poolAddresses:[],amounts:[]},y={maxAmountOut:qe,path:[]};const b=[],A=[];switch(l){case 0:y=this.getBestSplitResultInOnePair(t[0][0],t[0][1],n,r[0][0],i),h.maxAmountOut=y.maxAmountOut,h.path.push(y.path),y.path.forEach(S=>{var $;const F=($=this.getPoolAddressMapAndDirection(t[0][0],t[0][1]))==null?void 0:$.addressMap.get(S.feeRate);b.push(F);const W=n.muln(S.percent).divn(100).toString();A.push(W)}),h.amounts.push(A),h.poolAddresses.push(b);break;case 1:h=this.findBestSplitPriceWithOneSkip(t,n,r,i,d);break;case 2:h=this.findBestSplitPriceWithTwoSkip(t,n,r,i,d);break;case 3:h=this.findBestSplitPriceWithThreeSkip(t,n,r,i,d);break}console.log(" ~ file: routerModule.ts:1089 ~ RouterModule ~ splitRouterResult:",h),console.log(" ~ file: routerModule.ts:754 ~ RouterModule ~ splitRouterResult:",h.maxAmountOut.toString()),h.path.forEach(S=>{S.forEach($=>{console.log({feeRate:$.feeRate,percent:$.percent})})});const I=[];for(let S=0;S<h.path.length;S+=1){const{length:$}=h.path[S];I.push($)}console.log("a2b",r);const U=[];for(let S=0;S<r.length;S+=1){const{length:$}=r[S];$!==1&&U.push(r[S][0])}for(let S=0;S<r.length;S+=1){const{length:$}=r[S];$===1&&U.push(r[S][0])}for(let S=0;S<r.length;S+=1){const{length:$}=r[S];$!==1&&U.push(r[S][1])}const B=[];U.forEach((S,$)=>{const F=[];for(let W=0;W<I[$];W+=1)F.push(S);B.push(F)});const v=[],_=(o=this._coinSymbolMap.get(t[0][0]))==null?void 0:o.address;v.push(_);for(let S=0;S<t.length;S+=1)if(t[S].length!==2){const $=(a=this._coinSymbolMap.get(t[S][1]))==null?void 0:a.address;v.push($)}if(t[0].length===2){const S=(c=this._coinSymbolMap.get(t[0][1]))==null?void 0:c.address;v.push(S)}else{const S=(u=this._coinSymbolMap.get(t[0][t[0].length-1]))==null?void 0:u.address;v.push(S)}return this.createTxParams={partitionQuantities:I,swapDirects:B,poolAddresses:h.poolAddresses,amounts:h.amounts,partner:s,coinTypes:v},console.log(" ~ file: routerModule.ts:789 ~ RouterModule ~ this.createTxParams:",this.createTxParams),h}async price(t,n,r,i,s){var o,a;const c=this.tokenInfo(t),u=this.tokenInfo(n);if(c===void 0||u===void 0)return;const l=this.graph.getVertexByKey(c.symbol),d=this.graph.getVertexByKey(u.symbol),h=this.graph.findAllPath(l,d),y=Array.from(h);console.log(" ~ file: routerModule.ts:803 ~ RouterModule ~ price ~ allPaths:",y);const b=[],A=[],I=[];for(let U=0;U<y.length;U+=1){const B=y[U];if(B.length>3)continue;const v=[],_=[];for(let S=0;S<B.length-1;S+=1){const $=B[S].value.toString(),F=B[S+1].value.toString(),W=(o=this.getPoolAddressMapAndDirection($,F))==null?void 0:o.addressMap,Y=(a=this.getPoolAddressMapAndDirection($,F))==null?void 0:a.direction;W!==void 0&&Y!==void 0&&(_.push(Y),v.push($),v.push(F),W.forEach(J=>{b.push(J)}))}if(I.push(_),A.push(v),v.length===2&&A.length>1){const S=A[0].slice();A[0]=v,A[A.length-1]=S}}return await this.refreshPoolofSwapRouter(b),this.findBestSplitPrice(A,r,I,i,s)}splitSwap(t,n,r=!1){const{modules:i}=this.sdk.sdkOptions.networkOptions,s=`${i.ClmmIntegrate}::${P0}`,o=n?"exact_input_split_swap":"exact_output_split_swap";if(console.log({funcName:o}),r){const l=[];for(const y of t.coinTypes){const b=new j.TypeTagStruct(j.StructTag.fromString(y));l.push(b)}const d=[];t.poolAddresses.forEach(y=>{const b=[];y.forEach(A=>{b.push(j.AccountAddress.fromHex(A))}),d.push(b)});const h=[ue.bcsSerializeUint64(t.partitionQuantities[0]),ue.serializeVectorWithFunc(t.swapDirects[0],"serializeBool"),Z8(d[0]),ue.serializeVectorWithFunc(t.amounts[0],"serializeU64"),ue.bcsSerializeStr(t.partner)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,l,h))}const a=dt(s,o),c=t.coinTypes,u=[t.partitionQuantities[0].toString(),t.swapDirects[0].toString(),t.poolAddresses[0].toString(),t.amounts[0].toString(),t.partner.toString()];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}splitSwapForRouter(t,n,r=!1){const{modules:i}=this.sdk.sdkOptions.networkOptions,s=`${i.ClmmIntegrate}::${P0}`;if(r){const u=[];for(const h of t.coinTypes){const y=new j.TypeTagStruct(j.StructTag.fromString(h));u.push(y)}const l=[];t.poolAddresses.forEach(h=>{const y=[];h.forEach(b=>{y.push(j.AccountAddress.fromHex(b))}),l.push(y)});const d=[ue.serializeVectorWithFunc(t.partitionQuantities,"serializeU64"),Mp(t.swapDirects,"serializeBool"),X8(l),Mp(t.amounts,"serializeU64"),ue.bcsSerializeStr(t.partner)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,n,u,d))}const o=dt(s,n),a=t.coinTypes,c=[t.partitionQuantities.toString(),t.swapDirects.toString(),t.poolAddresses.toString(),t.amounts.toString(),t.partner.toString()];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}splitSwapForRouters(t,n,r=!1){const{length:i}=t.partitionQuantities;let s;switch(i){case 3:n?s="exact_input_split_swap_for_router_three":s="exact_output_split_swap_for_router_three";break;case 5:n?s="exact_input_split_swap_for_router_four":s="exact_output_split_swap_for_router_four";break;case 7:n?s="exact_input_split_swap_for_router_five":s="exact_output_split_swap_for_router_five";break;default:return this.splitSwap(t,n,r)}return this.splitSwapForRouter(t,s,r)}async refreshPoolofSwapRouter(t){if(Date.now()-this.leastRefreshTime<uE)return;const r=await this._sdk.Resources.getPools(t);t.forEach((i,s)=>{const o=R0(r[s]);this.poolMap.set(i,o)});for(let i=0;i<t.length;i+=1){const s=R0(r[i]);this.poolMap.set(t[i],s);const o=await this._sdk.Fetcher.fetchTicks({pool:t[i],coinTypeA:r[i].coinTypeA,coinTypeB:r[i].coinTypeB}),a=Aw(o);this.ticksMap.set(t[i],a)}}},fE=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}transformTickData(e){const t=[],{modules:n}=this._sdk.sdkOptions.networkOptions,r=e.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.FetcherDeployer}::fetcher::FetchTicksResult`);if(r.length===0)return{ticks:t,index:0,offset:0};const s=r[0].data.data;return{ticks:s.ticks||[],index:Number(s.index),offset:Number(s.offset)}}async getTicks(e){const{modules:t,simulationAccount:n}=this.sdk.sdkOptions.networkOptions,r=new Qt(this.sdk.sdkOptions.rpcUrl),i=`${t.FetcherDeployer}::scripts`,s="fetch_ticks",o=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB))],a=[ue.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ue.bcsSerializeUint64(e.index),ue.bcsSerializeUint64(e.offset),ue.bcsSerializeUint64(e.limit)],c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,o,a)),u=Tu(n.address),l=await r.generateRawTransaction(u,c),d=Tu(n.pubkey),h=new j.Ed25519PublicKey(d.toUint8Array()),y=await r.simulateTransaction(h,l);return this.transformTickData(y[0].changes)}async fetchTicks(e){let t=[],n=0,r=0;const i=512;for(;;){const s=await this.getTicks({pool:e.pool,coinTypeA:e.coinTypeA,coinTypeB:e.coinTypeB,index:n,offset:r,limit:i});if(t=[...t,...s.ticks],s.ticks.length<i)break;s.offset<999?(r=s.offset+1,n=s.index):(n=s.index+1,r=0)}return t}},hE=class{constructor(t){this.globalConfig={protocol_fee_rate:"",is_pause:!1},this._sdkOptions=t,this._client=new Qt(t.rpcUrl),this._tokenClient=new LA(this._client),this._swap=new O8(this),this._position=new M8(this),this._resources=new D8(this),this._pool=new L8(this),this._rewarder=new oE(this),this._router=new dE(this),this._token=new cE(this),this._fetcher=new fE(this),this._launchpad=new J8(this),this.globalConfig.protocol_fee_rate=""}async getGlobalConfig(t=!1){return(this.globalConfig.protocol_fee_rate.length===0||t)&&(this.globalConfig=await this._resources.getGlobalConfig(this._sdkOptions.networkOptions.modules.LiquidswapDeployer)),this.globalConfig}get client(){return this._client}get tokenClient(){return this._tokenClient}get Swap(){return this._swap}get Position(){return this._position}get Pool(){return this._pool}get Resources(){return this._resources}get Rewarder(){return this._rewarder}get Token(){return this._token}get Router(){return this._router}get Fetcher(){return this._fetcher}get Launchpad(){return this._launchpad}get sdkOptions(){return this._sdkOptions}};function nr(e,t){const n=Bw(t);return ht(e).div(n).toString()}function rr(e,t){const n=Bw(t);return ht(e).mul(n)}function kw(e){const t=e.split("x");let n=e;return t[1][0]==="0"&&(n=t[0]+"x"+t[1].slice(1)),n}const pE=(e,t,n=!0)=>{if(`${e}`=="0")return!parseFloat(t)||!n?0:"0.".padEnd(t+2,"0");if(!e)return"--";const r=parseFloat(e),i=e.toString(),s=r<0;let o=i;if(i.toLowerCase().includes("e")){const a=i.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/),c=a[1],u=a[2],l=a[3],d=a[4];let h="",y=u?u.substr(d):"";if(y&&(y=`.${y}`),l!=="-"){for(let b=0;b<d;b+=1){const A=u[b]||"0";h+=A}o=c+h+y}else{let b="0";for(let A=0;A<d;A+=1)h=(c[c.length-A-1]||"0")+h;c.length>d&&(b=c.substr(0,c.length-d)),o=`${b}.${h}${u}`}}if(t&&n){let a=`${o.split(".")[0]}.`;const c=o.split(".")[1]||"";for(let u=0;u<t;u+=1)a+=c[u]||"0";o=a}if(o.length>14){const a=o.split(".");a[0].length>14?o=`${a[0].slice(0,14)}+`:(o=o.slice(0,13),o.indexOf(".")===12&&(o=o.slice(0,12)))}return`${s?"-":""}${o}`};function dn(e,t){if(t=t>-1?t:0,`${e}`=="0")return parseFloat(t)?"0.".padEnd(t+2,"0"):"0";if(!e)return"--";let n=!1;parseFloat(e)<0&&(n=!0);const r=`${Math.abs(parseFloat(e))}`;if(r==="NaN")return"--";let i=r;if(r.toLowerCase().includes("e")){if(r.toLowerCase().includes("+"))return pE(r,t);const o=r.toLowerCase().split("e");let a=o[0];const c=Math.abs(parseFloat(o[1]));let u="",l=a.length,d;for(o[0].split(".")[1]&&(a=o[0].split(".")[0]+o[0].split(".")[1],l=o[0].split(".")[0].length),d=0;d<c-l;d+=1)u+="0";i=`0.${u}${a}`}if(`${t}`!="0"&&!t||`${parseFloat(e)}`=="NaN")return(n?"-":"")+i;const s=i.split(".");if(t===0)i=parseInt(i,10);else if(t>0&&s[1])if(s[1].length>t)if(s[1].includes("999999999")){const o=parseFloat(i).toFixed(t+1);i=o.slice(0,o.length-1)}else i=`${s[0]}.${s[1].slice(0,t)}`;else i=parseFloat(i).toFixed(t);else i=parseFloat(i).toFixed(t);if(i.length>=14&&i.includes(".")){const o=i.split(".");o[0].length>14?i=`${o[0].slice(0,14)}+`:(i=i.slice(0,13),i.indexOf(".")===12&&(i=i.slice(0,12)))}return(n?"-":"")+i}function yO(e,t){const n=String(e);if(!n.includes("."))return n;const r=n.split("."),i=r[0],s=r[1].slice(0,t);return fo(s)?`${i}.${fo(s)}`:`${i}`}function fo(e){return e.replace(/(\s|0|\.)+$/g,"")}function os(e,t){if(typeof e=="number"&&isNaN(e)||!Number(e))return 0;if(!String(e).includes("."))return e;const n=String(e).split(".");if(n[1]&&n[1].length<=t&&Number(n[1]))return e;const r=Math.pow(10,-t);if(Number(e)<r)return n[1]&&fo(n[1])?n[0]+"."+fo(n[1]):n[0];const i=dn(e,t),s=String(i).split(".");return i==="--"?"--":s[1]&&fo(String(s[1]))?s[0]+"."+fo(String(s[1])):s[0]}const gE=(e,t)=>isNaN(e)||!e?e:(e=String(e),Number(e)==0?0:isNaN(t)?e.replace(/^\d+/,n=>n.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")):(t===0&&(e=e.split(".")[0]),e.replace(/(\d+)(\.\d+)?/,(n,r,i)=>r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")+(i?i.slice(0,t+1):""))));function yE(e,t){const r=String(e).split(".");let i=!0;if(!r[1]||r[1]&&r[1].length<=t||r[0]!=="0")return!1;if(r&&r[1]&&r[0]==="0"&&r[1][r[1].length-1]==="1")for(let s=0;s<r[1].length-1;s++)r[1]!=="0"&&(i=!1);else i=!1;return i}const O0=(e,t,n=2)=>{if(e=="")return e;if(isNaN(e)||Number(e)==0)return 0;const r=os(e,t),i=Math.pow(10,-t);return Number(r)&&Math.abs(Number(r))<=i||yE(r,t)?O0(e,t+n):r};function mO(e){if(e){const t=e.toString(),n=t.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(n,"$1,")}}function wO(e){return Object.keys(e).length===0}const _O=(e,t)=>{if(!t)return null;for(const n in e){const r=e[n];if(r.address.toUpperCase()===t.toUpperCase())return r}return null};function _i(e){return e.toString().length===1?"0"+e:e}function Dp(e){const t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return t+"-"+_i(n)+"-"+_i(r)}function mE(e){const t=e.getMonth()+1,n=e.getDate();return _i(t)+"/"+_i(n)}function Lp(e){const t=e.getHours(),n=e.getMinutes(),r=e.getSeconds();return _i(t)+":"+_i(n)+":"+_i(r)}function wE(e){const t=e.getHours(),n=e.getMinutes();return _i(t)+":"+_i(n)}function _E(e){const n=new Date(e),r=n.getTimezoneOffset()+480;return n.setMinutes(n.getMinutes()+r),n}const bO=(e,t)=>{if(e){const n=_E(e);if(!t)return Dp(n)+" "+Lp(n);switch(t){case"HMS":return Lp(n);case"YMD":return Dp(n);case"MD":return mE(n);case"HM":return wE(n)}}},vO=(e,t)=>isNaN(e)||!e?e:Number(e)<1e-6&&Number(e)!==0?"<0.000001":gE(os(String(e),t),t);function xO(e){const t=e.replace("%","");return Number(t)}function SO(e,t=1){return!e||isNaN(Number(e))?e:Math.abs(String(e))<1e3?O0(e,t):O0(Number(e)/1e3,t)+"k"}const Oa=async e=>new Promise(t=>{setTimeout(()=>{t(1)},e)}),Hp=5,Cw=Y0("wallet",{state:()=>({loading:!1,autoRefreshTime:Hp,countdown:0,connected:!1,aptosConnected:!1,suiConnected:!1,address:"",aptosAddress:"",suiAddress:"",platform:"",isShowWalletModal:!1,walletName:"",aptosWalletName:"",suiWalletName:"",currentWallet:null,aptosCurrentWallet:null,suiCurrentWallet:null,walletIcon:"",aptosWalletIcon:"",suiWalletIcon:"",switchWallet:!1,assets:{},walletIconName:"",aptosWalletIconName:"",suiWalletIconName:"",walletNetwork:""}),actions:{setLoading(e){e&&(this.countdown=Hp),this.loading=e,e||(this.countdown=0)},setCountdown(e){this.countdown=e},setWalletStatus(){this.connected=!0},setSwitchWallet(e){this.switchWallet=e},setIsShowWalletModal(e){this.isShowWalletModal=e},setWalletInfo(e,t){this.connected=e,this.platform=t},setCurrentWallet(e){e.wallet?(this.currentWallet=e.wallet,this.connected=e.isConnected,this.address=e.account,this.walletIcon=e.icon,this.walletName=e.wallet.name,e.platform==="Sui"?(this.suiCurrentWallet=e.wallet,this.suiConnected=e.isConnected,this.suiAddress=e.account,this.suiWalletIcon=e.icon,this.suiWalletName=e.wallet.name,this.walletName=e.walletName):(this.aptosCurrentWallet=e.wallet,this.aptosConnected=e.isConnected,this.aptosAddress=e.account,this.aptosWalletIcon=e.icon,this.aptosWalletName=e.wallet.name)):(this.currentWallet=null,this.connected=!1,this.address="",this.walletIcon="",this.walletName="",e.platform==="Sui"?(this.suiCurrentWallet=null,this.suiConnected=!1,this.suiAddress="",this.suiWalletIcon="",this.suiWalletName=""):(this.aptosCurrentWallet=null,this.aptosConnected=!1,this.aptosAddress="",this.aptosWalletIcon="",this.aptosWalletName=""))},setAssets(e){console.log(e,"data===>"),this.assets=e},setWalletIconName(e){this.walletIconName=e,localStorage.setItem("walletIconName",e)},setNetwork(e){this.walletNetwork=e,console.log(this.walletNetwork,"====>this.walletNetwork")}}});var M0={},bE={get exports(){return M0},set exports(e){M0=e}},Ou={},vE={get exports(){return Ou},set exports(e){Ou=e}},zp;function xE(){return zp||(zp=1,function(e,t){(function(n,r){e.exports=r()})(Zi,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Zi<"u"&&Zi.crypto&&(s=Zi.crypto),!s&&typeof Zg=="function")try{s=J0}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function B(){}return function(v){var _;return B.prototype=v,_=new B,B.prototype=null,_}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(B){var v=a(this);return B&&v.mixIn(B),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var B=this.extend();return B.init.apply(B,arguments),B},init:function(){},mixIn:function(B){for(var v in B)B.hasOwnProperty(v)&&(this[v]=B[v]);B.hasOwnProperty("toString")&&(this.toString=B.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(B,v){B=this.words=B||[],v!=i?this.sigBytes=v:this.sigBytes=B.length*4},toString:function(B){return(B||y).stringify(this)},concat:function(B){var v=this.words,_=B.words,S=this.sigBytes,$=B.sigBytes;if(this.clamp(),S%4)for(var F=0;F<$;F++){var W=_[F>>>2]>>>24-F%4*8&255;v[S+F>>>2]|=W<<24-(S+F)%4*8}else for(var Y=0;Y<$;Y+=4)v[S+Y>>>2]=_[Y>>>2];return this.sigBytes+=$,this},clamp:function(){var B=this.words,v=this.sigBytes;B[v>>>2]&=4294967295<<32-v%4*8,B.length=r.ceil(v/4)},clone:function(){var B=l.clone.call(this);return B.words=this.words.slice(0),B},random:function(B){for(var v=[],_=0;_<B;_+=4)v.push(o());return new d.init(v,B)}}),h=c.enc={},y=h.Hex={stringify:function(B){for(var v=B.words,_=B.sigBytes,S=[],$=0;$<_;$++){var F=v[$>>>2]>>>24-$%4*8&255;S.push((F>>>4).toString(16)),S.push((F&15).toString(16))}return S.join("")},parse:function(B){for(var v=B.length,_=[],S=0;S<v;S+=2)_[S>>>3]|=parseInt(B.substr(S,2),16)<<24-S%8*4;return new d.init(_,v/2)}},b=h.Latin1={stringify:function(B){for(var v=B.words,_=B.sigBytes,S=[],$=0;$<_;$++){var F=v[$>>>2]>>>24-$%4*8&255;S.push(String.fromCharCode(F))}return S.join("")},parse:function(B){for(var v=B.length,_=[],S=0;S<v;S++)_[S>>>2]|=(B.charCodeAt(S)&255)<<24-S%4*8;return new d.init(_,v)}},A=h.Utf8={stringify:function(B){try{return decodeURIComponent(escape(b.stringify(B)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(B){return b.parse(unescape(encodeURIComponent(B)))}},I=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(B){typeof B=="string"&&(B=A.parse(B)),this._data.concat(B),this._nDataBytes+=B.sigBytes},_process:function(B){var v,_=this._data,S=_.words,$=_.sigBytes,F=this.blockSize,W=F*4,Y=$/W;B?Y=r.ceil(Y):Y=r.max((Y|0)-this._minBufferSize,0);var J=Y*F,N=r.min(J*4,$);if(J){for(var H=0;H<J;H+=F)this._doProcessBlock(S,H);v=S.splice(0,J),_.sigBytes-=N}return new d.init(v,N)},clone:function(){var B=l.clone.call(this);return B._data=this._data.clone(),B},_minBufferSize:0});u.Hasher=I.extend({cfg:l.extend(),init:function(B){this.cfg=this.cfg.extend(B),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(B){return this._append(B),this._process(),this},finalize:function(B){B&&this._append(B);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(B){return function(v,_){return new B.init(_).finalize(v)}},_createHmacHelper:function(B){return function(v,_){return new U.HMAC.init(B,_).finalize(v)}}});var U=c.algo={};return c}(Math);return n})}(vE)),Ou}(function(e,t){(function(n,r){e.exports=r(xE())})(Zi,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,u=[],l=[];(function(){function y(U){for(var B=r.sqrt(U),v=2;v<=B;v++)if(!(U%v))return!1;return!0}function b(U){return(U-(U|0))*4294967296|0}for(var A=2,I=0;I<64;)y(A)&&(I<8&&(u[I]=b(r.pow(A,1/2))),l[I]=b(r.pow(A,1/3)),I++),A++})();var d=[],h=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(y,b){for(var A=this._hash.words,I=A[0],U=A[1],B=A[2],v=A[3],_=A[4],S=A[5],$=A[6],F=A[7],W=0;W<64;W++){if(W<16)d[W]=y[b+W]|0;else{var Y=d[W-15],J=(Y<<25|Y>>>7)^(Y<<14|Y>>>18)^Y>>>3,N=d[W-2],H=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;d[W]=J+d[W-7]+H+d[W-16]}var E=_&S^~_&$,f=I&U^I&B^U&B,p=(I<<30|I>>>2)^(I<<19|I>>>13)^(I<<10|I>>>22),w=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),k=F+w+E+l[W]+d[W],q=p+f;F=$,$=S,S=_,_=v+k|0,v=B,B=U,U=I,I=k+q|0}A[0]=A[0]+I|0,A[1]=A[1]+U|0,A[2]=A[2]+B|0,A[3]=A[3]+v|0,A[4]=A[4]+_|0,A[5]=A[5]+S|0,A[6]=A[6]+$|0,A[7]=A[7]+F|0},_doFinalize:function(){var y=this._data,b=y.words,A=this._nDataBytes*8,I=y.sigBytes*8;return b[I>>>5]|=128<<24-I%32,b[(I+64>>>9<<4)+14]=r.floor(A/4294967296),b[(I+64>>>9<<4)+15]=A,y.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),n.SHA256})})(bE);const SE=M0;function AE(){const e=Ze.Aptos.liquidswapDeployer,t={rpcUrl:Ze.Aptos.rpcUrl,fraphQLUrl:Ze.Aptos.fraphQLUrl,networkOptions:{nativeToken:"0x1::aptos_coin::AptosCoin",launchpad:{cetusLaunchpad:Ze.Aptos.Launchpad,crowdCoin:Ze.Aptos.LaunchpadCrowdCoin},simulationAccount:{pubkey:Ze.Aptos.accountPublicKey,address:Ze.Aptos.accountAddress},modules:{LiquidswapDeployer:e,ClmmIntegrate:Ze.Aptos.clmmIntegrate,FetcherDeployer:Ze.Aptos.fetcher,TokenDeployer:Ze.Aptos.TokenDeployer,IntegerMate:Ze.Aptos.IntegerMate}}},n=Kg(new hE(t)),r=Cw(),i=Xg(),s=u0(()=>i),{$notify:o}=wo(),a=D=>{const{$notify:V}=wo();V.success({key:D.hash+"loading",icon:wt("img",{class:{"notify-icon":!0,"loading-animate":!0},src:s.value.theme=="default"?"/image/img-loading@2x.png":"/sui-image/img-loading.png"}),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:D.title},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:wr.global.t("newAdd.confirmingTransaction")},null),wt("a",{href:`https://explorer.aptoslabs.com/txn/${D.hash}?network=${Ze.Aptos.network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:0,class:"ant-notification-copy ant-notification-swap"})},c=D=>{o.success({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-icon-change1"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${D.title} `+wr.global.t("newAdd.success")},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:D.desc},null),wt("a",{href:`https://explorer.aptoslabs.com/txn/${D.hash}?network=${Ze.Aptos.network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:4.5,class:"ant-notification-copy ant-notification-swap"})},u=D=>{o.error({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${D} `+wr.global.t("newAdd.failed")},null)]),description:wr.global.t("newAdd.somethingWrong"),duration:4.5,class:"ant-notification-copy ant-notification-error"})},l=async(D,V=!1)=>{const Z=await n.client.waitForTransactionWithResult(D.hash);if(console.log("watchTransaction###res###",Z),Z&&Z.success){o.close(D.hash+"loading"),console.log("watchTransaction#####success"),c(D);const Q={walletAddress:r.address,chainName:"Aptos",...D,...Z,date:new Date().getTime()+6048e5};return i.setTransactionList(Q),V?{status:!0,nftInfo:Z.events.filter(ae=>ae.type.includes("CreateTokenDataEvent"))}:!0}else{if(Z&&!Z.success)return o.close(D.hash+"loading"),console.log("watchTransaction#####error"),u(D.title),!1;console.log("watchTransaction#####one more"),setTimeout(()=>l(D,V),3e3)}},d=async(D,V=!1)=>{const Z=await n.client.waitForTransactionWithResult(D.hash);if(console.log("watchTransaction###res###",Z),Z&&Z.success){console.log("watchTransaction#####success");const Q={walletAddress:r.address,chainName:"Aptos",...D,...Z,date:new Date().getTime()+6048e5};i.setTransactionList(Q)}},h=async D=>{try{const V=await n.Resources.getCoinStores(D),Z=[];return V.forEach(Q=>{let se="";Q.coinAddress.includes("0x0000000000000000000000000000000000000000000000000000000000000001")?se=Q.coinAddress.replace(/0x0000000000000000000000000000000000000000000000000000000000000001/,"0x1"):se=Q.coinAddress,Z.push({...Q,coinAddress:se})}),Z}catch{return[]}},y=async D=>{try{r.setLoading(!0);const V=await h(D),Z={};V.forEach(Q=>{const se=Q?Q.coin.value:"0";Z[Q.coinAddress]={...Q,balance:se}}),console.log("1212###assets####",Z),r.setAssets(Z),r.setLoading(!1)}catch(V){console.log("getAccount##error###",V),r.setLoading(!1),r.setAssets({})}},b=async()=>{const D={pubkey:yi(Ze.Aptos.accountPublicKey),address:yi(Ze.Aptos.accountAddress)},V=await n.Token.getAllRegisteredTokenList(D);return console.log("0215####tokenList####",V),V},A=async(D,V,Z)=>n.Resources.getPoolState(D,V,Z),I=async()=>{const D={pubkey:yi(Ze.Aptos.accountPublicKey),address:yi(Ze.Aptos.accountAddress)};return await n.Token.getOwnerWarpPoolList(Ze.Aptos.TokenDeployer,D)},U=async D=>await n.Resources.getPool(D);return{setTransations:d,showTransitionPending:a,showTransitionSuccess:c,showTransitionError:u,watchTransaction:l,getAccount:y,getPoolState:A,getPools:async D=>await n.Resources.getPools(D),getPool:U,registerCoin:D=>({function:"0x1::managed_coin::register",type_arguments:[D],arguments:[],type:"entry_function_payload"}),estLiquidityAndcoinAmountFromOneAmounts:D=>{console.log("estLiquidityAndcoinAmountFromOneAmounts###params####",D);const{tokenA:V,tokenB:Z,lowerTick:Q,upperTick:se,coinAmount:ie,iscoinA:ae,roundUp:Ce,slippage:Ie,curSqrtPrice:xe}=D,De=gs.estLiquidityAndcoinAmountFromOneAmounts(Q,se,ie,ae,Ce,Ie,xe),Ee=V.decimals,Ue=Z.decimals,{tokenMaxA:Fe,tokenMaxB:ke,liquidityAmount:Te}=De;return{tokenMaxAOrigin:Fe.toString(),tokenMaxBOrigin:ke.toString(),tokenMaxA:nr(Fe.toString(),Ee),tokenMaxB:nr(ke.toString(),Ue),liquidityAmount:Te}},getCoinAmountFromLiquidity:D=>{const{pool:V,position:Z,roundUp:Q}=D,se=Number(Z.tick_lower_index),ie=Number(Z.tick_upper_index),ae=Mt.tickIndexToSqrtPriceX64(se),Ce=Mt.tickIndexToSqrtPriceX64(ie),Ie=gs.getCoinAmountFromLiquidity(new C(Z.liquidity),new C(V.current_sqrt_price),ae,Ce,Q),xe=nr(Ie.coinA.toString(),V.coinA.decimals),De=nr(Ie.coinB.toString(),V.coinB.decimals);return{coinaAmount:xe,coinbAmount:De}},getAddLiquidityTransactionPayload:async D=>{const{pool:V,amount:Z,fix_amount_a:Q,roundUp:se,tick_lower:ie,tick_upper:ae,index:Ce,slippage:Ie}=D;console.log(D,"===>params411");const xe=await U(V.poolAddress),De=Q?rr(Z,V.token_a.decimals):rr(Z,V.token_b.decimals),Ee=Mt.sqrtPriceX64ToTickIndex(new C(xe.current_sqrt_price));let Ue,Fe;if(Ee>ie&&Ee<ae){const Te=gs.estLiquidityAndcoinAmountFromOneAmounts(ie,ae,new C(De.toString()),Q,se,Ie,new C(xe.current_sqrt_price));Ue=Q?De.toNumber():Te.tokenMaxA.toNumber(),Fe=Q?Te.tokenMaxB.toNumber():De.toNumber()}else Ee>=ae?(Ue=0,Fe=De.toNumber()):Ee<=ie&&(Ue=De.toNumber(),Fe=0);return n.Position.createAddLiquidityTransactionPayload({pool:V.poolAddress,coinTypeA:V.token_a.address,coinTypeB:V.token_b.address,amount_a:Ue,amount_b:Fe,fix_amount_a:Q,tick_lower:ie,tick_upper:ae,is_open:!Ce,index:Ce})},getRemoveLiquidityTransactionPayload:async D=>{const{pool:V,coinTypeA:Z,coinTypeB:Q,coinTypeC:se,coinTypeD:ie,coinTypeE:ae,position:Ce,delta_liquidity:Ie,rewards_num:xe}=D;console.log("getRemoveLiquidityTransactionPayload####delta_liquidity#####",Ie.toString());const De=await U(V.poolAddress),Ee={...V,...De},Ue=Number(Ce.tick_lower_index),Fe=Number(Ce.tick_upper_index),ke=Mt.tickIndexToSqrtPriceX64(Ue),Te=Mt.tickIndexToSqrtPriceX64(Fe),at=gs.getCoinAmountFromLiquidity(Ie,new C(Ee.current_sqrt_price),ke,Te,!0),He=ht(at.coinA.toString()).mul(ht(1-D.slippage)),je=ht(at.coinB.toString()).mul(ht(1-D.slippage));return await n.Position.removeLiquidityTransactionPayload({pool:V.poolAddress,coinTypeA:Z,coinTypeB:Q,coinTypeC:se,coinTypeD:ie,coinTypeE:ae,delta_liquidity:Ie,min_amount_a:Number(dn(He.toString(),0)),min_amount_b:Number(dn(je.toString(),0)),pos_index:D.position.index,is_close:!1,rewards_num:xe})},getCollectFeeTransactionPayload:async D=>{console.log("1130###getCollectFeeTransactionPayload###params",{pool:D.pool.poolAddress,coinTypeA:D.pool.token_a.address,coinTypeB:D.pool.token_b.address,pos_index:D.position.index});const V=await n.Position.collectFeeTransactionPayload({pool:D.pool.poolAddress,coinTypeA:D.pool.token_a.address,coinTypeB:D.pool.token_b.address,pos_index:D.position.index});return console.log("1130###getCollectFeeTransactionPayload###result##",V),V},getPositionList:async(D,V)=>{if(Ze.Aptos.network==="mainnet"){const Z={operationName:"AccountTokensData",variables:{owner_address:D,limit:1e5,offset:0},query:`query AccountTokensData($owner_address: String, $limit: Int, $offset: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
    limit: $limit
    offset: $offset
  ) {
    token_data_id_hash
 creator_address
 name
    collection_name
  table_type
    property_version
    amount
    __typename
  }
}`},Q=await $fetch("https://indexer.mainnet.aptoslabs.com/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});console.log("0116###pools####",V);const se=Q&&Q.data&&Q.data.current_token_ownerships||[],ie=[];for(let ae=0;ae<se.length;ae++){const Ce=se[ae],Ie=V[kw(Ce.creator_address)];if(Ie){const xe=Ce.name.split("-")[1],De=Ie.positions_handle,Ee=await n.Resources.getPositionInfoByIndex(De,xe);ie.push({...Ee,tokenName:Ce.name})}}return console.log("0221###aptos###getPositionList###",ie),ie}else{const Z=Object.values(V),Q=await n.Resources.getPositionList(D,Z);return console.log("0221###aptos###getPositionList###list###",Q),Q}},getPositionInfo:async(D,V,Z,Q="")=>({...await n.Resources.getPositionInfo(D,Z),tokenName:Z,collectionName:V}),getSwapTransactionPayload:async D=>{const{pool:V,a2b:Z,byAmountIn:Q,amount:se,slippage:ie}=D,ae=V.poolAddress,Ce=V.token_a.decimals,Ie=V.token_b.decimals,xe=await U(V.address);let De;Z&&Q||!Z&&!Q?De=rr(se,Ce):De=rr(se,Ie);const Ee=await n.Swap.preswap({pool:xe,decimalsA:Ce,decimalsB:Ie,a2b:Z,by_amount_in:Q,amount:De.toString()});console.log("1130###getSwapTransactionPayload###preSwapRes###",Ee),console.log("1130###getSwapTransactionPayload###preSwapRes.estimatedAmountOut###",Ee.estimatedAmountOut.toString()),console.log("1130###getSwapTransactionPayload###preSwapRes.estimatedAmountIn###",Ee.estimatedAmountIn.toString());const Ue=ht(Ee.estimatedAmountOut.toString()),Fe=ht(Ee.estimatedAmountIn.toString()),ke=Q?Ue.sub(Ue.mul(ie)):Fe.add(Fe.mul(ie));console.log("1130###amountLimit####",ke.toString()),console.log("1130###swap##params###",{pool_addr:ae,coinTypeA:V.token_a.address,coinTypeB:V.token_b.address,a_to_b:Ee.aToB,by_amount_in:Ee.byAmountIn,amount:Ee.amount.toString(),amount_limit:dn(ke.toString(),0)||""});const Te=n.Swap.createSwapTransactionPayload({pool_addr:ae,coinTypeA:V.token_a.address,coinTypeB:V.token_b.address,a_to_b:Ee.aToB,by_amount_in:Ee.byAmountIn,amount:Ee.amount.toString(),amount_limit:dn(ke.toString(),0)||"",partner:""});return console.log("1130###swap##result###",Te),Te},getCoin:D=>({type:"entry_function_payload",function:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet",arguments:[],type_arguments:[]}),preSwap:async D=>{const{pool:V,a2b:Z,byAmountIn:Q,amount:se}=D;console.log(D,"===>params");const ie=V.coinA.decimals,ae=V.coinB.decimals;let Ce=V;V.coinTypeA||(Ce={...V,poolAddress:V.address,coinTypeA:V.coinA.address,coinTypeB:V.coinB.address});let Ie;Z&&Q||!Z&&!Q?Ie=rr(se,ie):Ie=rr(se,ae);const xe=await n.Swap.preswap({pool:Ce,decimalsA:ie,decimalsB:ae,a2b:Z,by_amount_in:Q,amount:Ie.toString()});return{...xe,estimatedAmountIn:os(nr(xe.estimatedAmountIn.toString(),Z?ie:ae),Z?ie:ae),estimatedAmountOut:os(nr(xe.estimatedAmountOut.toString(),Z?ae:ie),Z?ae:ie),priceImpactPct:dn(xe.priceImpactPct,2)}},getTicks:async D=>{try{return await n.Fetcher.fetchTicks({pool:D.poolAddress,coinTypeA:D.coinTypeA,coinTypeB:D.coinTypeB})}catch(V){console.log("getTicks Error###",V)}},TickMath:Mt,TickUtil:U0,ClmmPoolUtil:gs,getNearestTickByTick:iE,getTickDataFromUrlData:Aw,getCollectFeesQuote:async D=>{console.log(D,"params====>");const{pool:V,position:Z,tickLowerData:Q,tickUpperData:se}=D,ie=j8({clmmpool:V,position:Z,tickLower:Q,tickUpper:se}),ae=nr(ie.feeOwedA.toString(),V.token_a.decimals),Ce=nr(ie.feeOwedB.toString(),V.token_b.decimals);return console.log("0118###useApots###result.feeOwedA.toString()###",ie.feeOwedA.toString()),console.log("0118###useApots###result.feeOwedB.toString()###",ie.feeOwedB.toString()),console.log("0118###useApots###feeOwedA###",ae),console.log("0118###useApots###feeOwedB###",Ce),{feeOwedA:Number(ae)>99999999999||Number(ae)<0?"0":ae,feeOwedB:Number(Ce)>99999999999||Number(Ce)<0?"0":Ce}},mintCoin:D=>({function:`${Ze.Aptos.faucetObjectId}::coin::mint`,type_arguments:[`${Ze.Aptos.faucetObjectId}::coin::${D.name}`],arguments:[D.amount],type:"entry_function_payload"}),getNftHash:D=>{const V=`${D.creator}::${D.collection}::${D.name}`;return SE(V).toString()},getCollectRewarderTransactionPayload:D=>n.Rewarder.collectPoolRewarderTransactionPayload(D),getPosRewardersAmount:async D=>{console.log(JSON.stringify(D),"=====>params792");const{poolAddress:V,positionName:Z,tickLowerData:Q,tickUpperData:se}=D;return await n.Rewarder.posRewardersAmount(V,Z,Q,se)},getTokenList:b,getTickDataByIndex:async(D,V)=>(console.log(D,V,"getTickDataByIndex"),await n.Resources.getTickDataByIndex(D,V)),initSwapRouter:async D=>{n.Router.addPathProvider(D),await n.Router.setCoinList({pubkey:yi(Ze.Aptos.accountPublicKey),address:yi(Ze.Aptos.accountAddress)}),await n.Router.loadGraph()},getSwapRouter:async(D,V)=>await n.Router.price(D,V),getEstPositionAPRWithDelta:async(D,V,Z,Q,se,ie,ae,Ce,Ie,xe,De,Ee,Ue,Fe,ke,Te,at,He,je,Vt,Ye,Rt,qn,Dt)=>await z8(D,V,Z,Q,se,ie,ae,Ce,Ie,xe,De,Ee,Ue,Fe,ke,Te,at,He,je,Vt,Ye,Rt,qn,Dt),getPriceImpactPct:(D,V,Z)=>{const Q=Mt.sqrtPriceX64ToPrice(new C(D.current_sqrt_price),D.coinA.decimals,D.coinB.decimals).toNumber(),se=Z?Q:1/Q,ie=Math.abs(se-Number(V))/Number(V)*100;return Number(dn(ie,2))},getLpList:I,getEstPositionAPRWithMulti:async(D,V,Z,Q)=>await F8(D,V,Z,Q),getCreatPoolTransactionPayload:async D=>{const{coinTypeA:V,coinTypeB:Z,tick_lower:Q,tick_upper:se,tick_spacing:ie,initialize_sqrt_price:ae,max_amount_a:Ce,max_amount_b:Ie,slippage:xe,fix_amount_a:De,decimalsA:Ee,decimalsB:Ue,liquidityInput:Fe}=D;console.log(D,"params===>");const ke=De?rr(Ce,Ee):rr(Ie,Ue);console.log(ke,"===>coinAmount");const Te=Mt.sqrtPriceX64ToTickIndex(new C(ae));let at,He;const je=Mt.tickIndexToSqrtPriceX64(Q),Vt=Mt.tickIndexToSqrtPriceX64(se);console.log(je,"===>minPriceX64"),console.log(Vt,"===>maxPriceX64");let Ye;return Te>Q&&Te<se?(Ye=gs.estLiquidityAndcoinAmountFromOneAmounts(Q,se,new C(ke.toString()),De,!0,xe,new C(ae)),at=De?ke.toNumber():Ye.tokenMaxA.toNumber(),He=De?Ye.tokenMaxB.toNumber():ke.toNumber()):Te>=se?(Ye=lo(je,Vt,new C(ke.toString())),at=new C(Fe.tokenMaxA*Math.pow(10,Ee)),He=new C(Fe.tokenMaxB*Math.pow(10,Ue))):Te<=Q&&(Ye=uo(je,Vt,new C(ke.toString())),at=new C(Fe.tokenMaxA*Math.pow(10,Ee)),He=new C(Fe.tokenMaxB*Math.pow(10,Ue))),console.log(Ye,"===>preAddResult"),await n.Pool.creatPoolTransactionPayload({coinTypeA:V,coinTypeB:Z,tick_spacing:ie,initialize_sqrt_price:new C(ae),uri:"",delta_liquidity:Te>Q&&Te<se?Ye.liquidityAmount:Ye,max_amount_a:at,max_amount_b:He,tick_lower:Q,tick_upper:se},!0)},getTokenListByCoinType:async()=>await n.Token.getTokenListByCoinType("",0,99999),getPoolImmutables:async()=>await n.Resources.getPoolImmutables(),estimateLiquidityForCoinA:uo,estimateLiquidityForCoinB:lo}}function TE(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var b=0,A=0,I=0,U=y.length;I!==U&&y[I]===0;)I++,b++;for(var B=(U-I)*u+1>>>0,v=new Uint8Array(B);I!==U;){for(var _=y[I],S=0,$=B-1;(_!==0||S<A)&&$!==-1;$--,S++)_+=256*v[$]>>>0,v[$]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");A=S,I++}for(var F=B-A;F!==B&&v[F]===0;)F++;for(var W=a.repeat(b);F<B;++F)W+=e.charAt(v[F]);return W}function d(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var b=0,A=0,I=0;y[b]===a;)A++,b++;for(var U=(y.length-b)*c+1>>>0,B=new Uint8Array(U);y[b];){var v=t[y.charCodeAt(b)];if(v===255)return;for(var _=0,S=U-1;(v!==0||_<I)&&S!==-1;S--,_++)v+=o*B[S]>>>0,B[S]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");I=_,b++}for(var $=U-I;$!==U&&B[$]===0;)$++;for(var F=new Uint8Array(A+(U-$)),W=A;$!==U;)F[W++]=B[$++];return F}function h(y){var b=d(y);if(b)return b;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:h}}var EE=TE;const IE=EE,BE="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Rw=IE(BE);function kE(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0}function Kf(e,t){for(var n=e.replace(/[^A-Za-z0-9+/]/g,""),r=n.length,i=t?Math.ceil((r*3+1>>2)/t)*t:r*3+1>>2,s=new Uint8Array(i),o,a,c=0,u=0,l=0;l<r;l++)if(a=l&3,c|=kE(n.charCodeAt(l))<<6*(3-a),a===3||r-l===1){for(o=0;o<3&&u<i;o++,u++)s[u]=c>>>(16>>>o&24)&255;c=0}return s}function Lc(e){return e<26?e+65:e<52?e+71:e<62?e-4:e===62?43:e===63?47:65}function _s(e){for(var t=2,n="",r=e.length,i=0,s=0;s<r;s++)t=s%3,s>0&&s*4/3%76===0&&(n+=""),i|=e[s]<<(16>>>t&24),(t===2||e.length-s===1)&&(n+=String.fromCodePoint(Lc(i>>>18&63),Lc(i>>>12&63),Lc(i>>>6&63),Lc(i&63)),i=0);return n.slice(0,n.length-2+t)+(t===2?"":t===1?"=":"==")}function Xf(e){let t=e.replace("0x","").match(/.{1,2}/g).map(n=>parseInt(n,16));if(t===null)throw new Error(`Unable to parse HEX: ${e}`);return Uint8Array.from(t)}function Zf(e){return e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"")}function zd(e,t){let n=new Uint8Array(t),r=0;for(;e>0;)n[r]=Number(e%BigInt(256)),e=e/BigInt(256),r+=1;return n}var Pw=e=>Rw.encode(e),Yf=e=>Rw.decode(e),CE=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n)}read128(){let e=this.read64(),n=this.read64().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n)}read256(){let e=this.read128(),n=this.read128().toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:n,length:r}=UE(t);return this.shift(r),n}readVec(e){let t=this.readULEB(),n=[];for(let r=0;r<t;r++)n.push(e(this,r,t));return n}},RE=class{constructor(e=1024){this.bytePosition=0,this.dataView=new DataView(new ArrayBuffer(e))}shift(e){return this.bytePosition+=e,this}write8(e){return this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return zd(BigInt(e),8).forEach(t=>this.write8(t)),this}write128(e){return zd(BigInt(e),16).forEach(t=>this.write8(t)),this}write256(e){return zd(BigInt(e),32).forEach(t=>this.write8(t)),this}writeULEB(e){return PE(e).forEach(t=>this.write8(t)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((n,r)=>t(this,n,r,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return OE(this.toBytes(),e)}};function PE(e){let t=[],n=0;if(e===0)return[0];for(;e>0;)t[n]=e&127,(e>>=7)&&(t[n]|=128),n+=1;return t}function UE(e){let t=0,n=0,r=0;for(;;){let i=e[r];if(r+=1,t|=(i&127)<<n,!(i&128))break;n+=7}return{value:t,length:r}}var Ra=class{constructor(e){if(this.types=new Map,e instanceof Ra){this.schema=e.schema,this.types=new Map(e.types);return}if(this.schema=e,this.registerAddressType(Ra.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);e.withPrimitives!==!1&&$E(this)}get tempKey(){const e=n=>"temp-struct-"+n;let t=0;for(;this.hasType(e(t));)t++;return e(t)}ser(e,t,n=1024){if(typeof e=="string"){const{typeName:r,typeParams:i}=this.parseTypeName(e);return this.getTypeInterface(r).encode(t,n,i)}if(typeof e=="object"){const r=this.tempKey;return new Ra(this).registerStructType(r,e).ser(r,t,n)}throw new Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(e)}`)}de(e,t,n){if(typeof t=="string")if(n)t=ME(t,n);else throw new Error("To pass a string to `bcs.de`, specify encoding");if(typeof e=="string"){const{typeName:r,typeParams:i}=this.parseTypeName(e);return this.getTypeInterface(r).decode(t,i)}if(typeof e=="object"){const r=new Ra(this),i=this.tempKey;return r.registerStructType(i,e).de(i,t,n)}throw new Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,n,r=()=>!0){return this.types.set(e,{encode(i,s=1024,o){return this._encodeRaw(new RE(s),i,o)},decode(i,s){return this._decodeRaw(new CE(i),s)},_encodeRaw(i,s,o){if(r(s))return t(i,s,o);throw new Error(`Validation failed for type ${e}, data: ${s}`)},_decodeRaw(i,s){return n(i,s)}}),this}registerAddressType(e,t,n="hex"){switch(n){case"base64":return this.registerType(e,(r,i)=>Kf(i).reduce((s,o)=>s.write8(o),r),r=>_s(r.readBytes(t)));case"hex":return this.registerType(e,(r,i)=>Xf(i).reduce((s,o)=>s.write8(o),r),r=>Zf(r.readBytes(t)));default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e,t){let{typeName:n,typeParams:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+e);return this.registerType(n,(i,s,o)=>i.writeVec(s,(a,c)=>{let u=t||o[0];if(u){let{typeName:l,typeParams:d}=this.parseTypeName(u);return this.getTypeInterface(t||l)._encodeRaw(a,c,d)}else throw new Error(`Incorrect number of type parameters passed to vector '${n}'`)}),(i,s)=>i.readVec(o=>{let a=t||s[0];if(a){let{typeName:c,typeParams:u}=this.parseTypeName(a);return this.getTypeInterface(t||c)._decodeRaw(o,u)}else throw new Error(`Incorrect number of type parameters passed to vector '${n}'`)}))}registerStructType(e,t){let n=Object.freeze(t),r=Object.keys(n),{typeName:i,typeParams:s}=this.parseTypeName(e);return this.registerType(i,(o,a,c)=>{if(!a||a.constructor!==Object)throw new Error(`Expected ${e} to be an Object, got: ${a}`);for(let u of r)if(u in a){let l=s.indexOf(n[u]),d=l===-1?n[u]:c[l];{let{typeName:h,typeParams:y}=this.parseTypeName(d);this.getTypeInterface(h)._encodeRaw(o,a[u],y)}}else throw new Error(`Struct ${e} requires field ${u}:${n[u]}`);return o},(o,a)=>{let c={};for(let u of r){let l=s.indexOf(n[u]),d=l===-1?n[u]:a[l];{let{typeName:h,typeParams:y}=this.parseTypeName(d);c[u]=this.getTypeInterface(h)._decodeRaw(o,y)}}return c})}registerEnumType(e,t){let n=Object.freeze(t),r=Object.keys(n),{typeName:i,typeParams:s}=this.parseTypeName(e);return this.registerType(i,(o,a,c)=>{if(a===void 0)throw new Error(`Unable to write enum ${e}, missing data`);let u=Object.keys(a)[0];if(u===void 0)throw new Error(`Unknown invariant of the enum ${e}`);let l=r.indexOf(u);if(l===-1)throw new Error(`Unknown invariant of the enum ${e}, allowed values: ${r}`);let d=r[l],h=n[d];if(o.write8(l),h===null)return o;let y=s.indexOf(h),b=y===-1?h:c[y];{let{typeName:A,typeParams:I}=this.parseTypeName(b);return this.getTypeInterface(A)._encodeRaw(o,a[u],I)}},(o,a)=>{let c=o.readULEB(),u=r[c],l=n[u];if(c===-1)throw new Error(`Decoding type mismatch, expected enum ${e} invariant index, received ${c}`);if(l===null)return{[u]:!0};let d=s.indexOf(l),h=d===-1?l:a[d];{let{typeName:y,typeParams:b}=this.parseTypeName(h);return{[u]:this.getTypeInterface(y)._decodeRaw(o,b)}}})}getTypeInterface(e){let t=this.types.get(e);if(typeof t=="string"){let n=[];for(;typeof t=="string";){if(n.includes(t))throw new Error(`Recursive definition found: ${n.join(" -> ")} -> ${t}`);n.push(t),t=this.types.get(t)}}if(t===void 0)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){let[t,n]=this.schema.genericSeparators||["<",">"],r=e.indexOf(t),i=Array.from(e).reverse().indexOf(n);if(r===-1&&i===-1)return{typeName:e,typeParams:[]};if(r===-1||i===-1)throw new Error(`Unclosed generic in name '${e}'`);let s=e.slice(0,r),o=e.slice(r+1,e.length-i-1).split(",").map(a=>a.trim());return{typeName:s,typeParams:o}}},it=Ra;it.U8="u8";it.U16="u16";it.U32="u32";it.U64="u64";it.U128="u128";it.U256="u256";it.BOOL="bool";it.VECTOR="vector";it.ADDRESS="address";it.STRING="string";it.HEX="hex-string";it.BASE58="base58-string";it.BASE64="base64-string";function OE(e,t){switch(t){case"base58":return Pw(e);case"base64":return _s(e);case"hex":return Zf(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function ME(e,t){switch(t){case"base58":return Yf(e);case"base64":return Kf(e);case"hex":return Xf(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function $E(e){e.registerType(it.U8,(t,n)=>t.write8(n),t=>t.read8(),t=>t<256),e.registerType(it.U16,(t,n)=>t.write16(n),t=>t.read16(),t=>t<65536),e.registerType(it.U32,(t,n)=>t.write32(n),t=>t.read32(),t=>t<=4294967296),e.registerType(it.U64,(t,n)=>t.write64(n),t=>t.read64(),t=>!0),e.registerType(it.U128,(t,n)=>t.write128(n),t=>t.read128(),t=>!0),e.registerType(it.U256,(t,n)=>t.write256(n),t=>t.read256(),t=>!0),e.registerType(it.BOOL,(t,n)=>t.write8(n),t=>t.read8().toString(10)==="1",t=>!0),e.registerType(it.STRING,(t,n)=>t.writeVec(Array.from(n),(r,i)=>r.write8(i.charCodeAt(0))),t=>t.readVec(n=>n.read8()).map(n=>String.fromCharCode(Number(n))).join(""),t=>!0),e.registerType(it.HEX,(t,n)=>t.writeVec(Array.from(Xf(n)),(r,i)=>r.write8(i)),t=>{let n=t.readVec(r=>r.read8());return Zf(new Uint8Array(n))}),e.registerType(it.BASE58,(t,n)=>t.writeVec(Array.from(Yf(n)),(r,i)=>r.write8(i)),t=>{let n=t.readVec(r=>r.read8());return Pw(new Uint8Array(n))}),e.registerType(it.BASE64,(t,n)=>t.writeVec(Array.from(Kf(n)),(r,i)=>r.write8(i)),t=>{let n=t.readVec(r=>r.read8());return _s(new Uint8Array(n))})}function Uw(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:20,addressEncoding:"hex"}}/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Yt=BigInt(0),pn=BigInt(1),Ji=BigInt(2),Ma=BigInt(3),Fp=BigInt(8),Cn=Object.freeze({a:Yt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:pn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),jp=(e,t)=>(e+t/Ji)/t,Hc={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=Cn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-pn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=jp(s*e,t),c=jp(-r*e,t);let u=Le(e-a*n-c*i,t),l=Le(-a*r-c*s,t);const d=u>o,h=l>o;if(d&&(u=t-u),h&&(l=t-l),u>o||l>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:l}}},ho=32,Ka=32,Gp=ho+1,Wp=2*ho+1;function Vp(e){const{a:t,b:n}=Cn,r=Le(e*e),i=Le(r*e);return Le(i+t*e+n)}const zc=Cn.a===Yt;class NE extends Error{constructor(t){super(t)}}function Kp(e){if(!(e instanceof Zt))throw new TypeError("JacobianPoint expected")}class Zt{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof Er))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Er.ZERO)?Zt.ZERO:new Zt(t.x,t.y,pn)}static toAffineBatch(t){const n=zE(t.map(r=>r.z));return t.map((r,i)=>r.toAffine(n[i]))}static normalizeZ(t){return Zt.toAffineBatch(t).map(Zt.fromAffine)}equals(t){Kp(t);const{x:n,y:r,z:i}=this,{x:s,y:o,z:a}=t,c=Le(i*i),u=Le(a*a),l=Le(n*u),d=Le(s*c),h=Le(Le(r*a)*u),y=Le(Le(o*i)*c);return l===d&&h===y}negate(){return new Zt(this.x,Le(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,i=Le(t*t),s=Le(n*n),o=Le(s*s),a=t+s,c=Le(Ji*(Le(a*a)-i-o)),u=Le(Ma*i),l=Le(u*u),d=Le(l-Ji*c),h=Le(u*(c-d)-Fp*o),y=Le(Ji*n*r);return new Zt(d,h,y)}add(t){Kp(t);const{x:n,y:r,z:i}=this,{x:s,y:o,z:a}=t;if(s===Yt||o===Yt)return this;if(n===Yt||r===Yt)return t;const c=Le(i*i),u=Le(a*a),l=Le(n*u),d=Le(s*c),h=Le(Le(r*a)*u),y=Le(Le(o*i)*c),b=Le(d-l),A=Le(y-h);if(b===Yt)return A===Yt?this.double():Zt.ZERO;const I=Le(b*b),U=Le(b*I),B=Le(l*I),v=Le(A*A-U-Ji*B),_=Le(A*(B-v)-h*U),S=Le(i*a*b);return new Zt(v,_,S)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=Zt.ZERO;if(typeof t=="bigint"&&t===Yt)return n;let r=Jp(t);if(r===pn)return this;if(!zc){let d=n,h=this;for(;r>Yt;)r&pn&&(d=d.add(h)),h=h.double(),r>>=pn;return d}let{k1neg:i,k1:s,k2neg:o,k2:a}=Hc.splitScalar(r),c=n,u=n,l=this;for(;s>Yt||a>Yt;)s&pn&&(c=c.add(l)),a&pn&&(u=u.add(l)),l=l.double(),s>>=pn,a>>=pn;return i&&(c=c.negate()),o&&(u=u.negate()),u=new Zt(Le(u.x*Hc.beta),u.y,u.z),c.add(u)}precomputeWindow(t){const n=zc?128/t+1:256/t+1,r=[];let i=this,s=i;for(let o=0;o<n;o++){s=i,r.push(s);for(let a=1;a<2**(t-1);a++)s=s.add(i),r.push(s);i=s.double()}return r}wNAF(t,n){!n&&this.equals(Zt.BASE)&&(n=Er.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&$0.get(n);i||(i=this.precomputeWindow(r),n&&r!==1&&(i=Zt.normalizeZ(i),$0.set(n,i)));let s=Zt.ZERO,o=Zt.BASE;const a=1+(zc?128/r:256/r),c=2**(r-1),u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let h=0;h<a;h++){const y=h*c;let b=Number(t&u);t>>=d,b>c&&(b-=l,t+=pn);const A=y,I=y+Math.abs(b)-1,U=h%2!==0,B=b<0;b===0?o=o.add(Fc(U,i[A])):s=s.add(Fc(B,i[I]))}return{p:s,f:o}}multiply(t,n){let r=Jp(t),i,s;if(zc){const{k1neg:o,k1:a,k2neg:c,k2:u}=Hc.splitScalar(r);let{p:l,f:d}=this.wNAF(a,n),{p:h,f:y}=this.wNAF(u,n);l=Fc(o,l),h=Fc(c,h),h=new Zt(Le(h.x*Hc.beta),h.y,h.z),i=l.add(h),s=d.add(y)}else{const{p:o,f:a}=this.wNAF(r,n);i=o,s=a}return Zt.normalizeZ([i,s])[0]}toAffine(t){const{x:n,y:r,z:i}=this,s=this.equals(Zt.ZERO);t==null&&(t=s?Fp:od(i));const o=t,a=Le(o*o),c=Le(a*o),u=Le(n*a),l=Le(r*c),d=Le(i*o);if(s)return Er.ZERO;if(d!==pn)throw new Error("invZ was invalid");return new Er(u,l)}}Zt.BASE=new Zt(Cn.Gx,Cn.Gy,pn);Zt.ZERO=new Zt(Yt,pn,Yt);function Fc(e,t){const n=t.negate();return e?n:t}const $0=new WeakMap;let Er=class ji{constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,$0.delete(this)}hasEvenY(){return this.y%Ji===Yt}static fromCompressedHex(t){const n=t.length===32,r=Es(n?t:t.subarray(1));if(!jd(r))throw new Error("Point is not on curve");const i=Vp(r);let s=HE(i);const o=(s&pn)===pn;n?o&&(s=Le(-s)):(t[0]&1)===1!==o&&(s=Le(-s));const a=new ji(r,s);return a.assertValidity(),a}static fromUncompressedHex(t){const n=Es(t.subarray(1,ho+1)),r=Es(t.subarray(ho+1,ho*2+1)),i=new ji(n,r);return i.assertValidity(),i}static fromHex(t){const n=N0(t),r=n.length,i=n[0];if(r===ho)return this.fromCompressedHex(n);if(r===Gp&&(i===2||i===3))return this.fromCompressedHex(n);if(r===Wp&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Gp} compressed bytes or ${Wp} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return ji.BASE.multiply(q0(t))}static fromSignature(t,n,r){const{r:i,s}=GE(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=jE(N0(t)),{n:a}=Cn,c=r===2||r===3?i+a:i,u=od(c,a),l=Le(-o*u,a),d=Le(s*u,a),h=r&1?"03":"02",y=ji.fromHex(h+Eo(c)),b=ji.BASE.multiplyAndAddUnsafe(y,l,d);if(!b)throw new Error("Cannot recover signature: point at infinify");return b.assertValidity(),b}toRawBytes(t=!1){return Ts(this.toHex(t))}toHex(t=!1){const n=Eo(this.x);return t?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Eo(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!jd(n)||!jd(r))throw new Error(t);const i=Le(r*r),s=Vp(n);if(Le(i-s)!==Yt)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new ji(this.x,Le(-this.y))}double(){return Zt.fromAffine(this).double().toAffine()}add(t){return Zt.fromAffine(this).add(Zt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Zt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const i=Zt.fromAffine(this),s=n===Yt||n===pn||this!==ji.BASE?i.multiplyUnsafe(n):i.multiply(n),o=Zt.fromAffine(t).multiplyUnsafe(r),a=s.add(o);return a.equals(Zt.ZERO)?void 0:a.toAffine()}};Er.BASE=new Er(Cn.Gx,Cn.Gy);Er.ZERO=new Er(Yt,Yt);function Xp(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Zp(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${Jo(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Es(n),left:e.subarray(t+2)}}function qE(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${Jo(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=Zp(e.subarray(2)),{data:r,left:i}=Zp(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Jo(i)}`);return{r:t,s:r}}class As{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const i=n?Jo(t):t;if(i.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new As(Mu(i.slice(0,64)),Mu(i.slice(64,128)))}static fromDER(t){const n=t instanceof Uint8Array;if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:i}=qE(n?t:Ts(t));return new As(r,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!$u(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!$u(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=Cn.n>>pn;return this.s>t}normalizeS(){return this.hasHighS()?new As(this.r,Le(-this.s,Cn.n)):this}toDERRawBytes(){return Ts(this.toDERHex())}toDERHex(){const t=Xp(Ta(this.s)),n=Xp(Ta(this.r)),r=t.length/2,i=n.length/2,s=Ta(r),o=Ta(i);return`30${Ta(i+r+4)}02${o}${n}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Ts(this.toCompactHex())}toCompactHex(){return Eo(this.r)+Eo(this.s)}}function Aa(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const DE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Jo(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=DE[e[n]];return t}const LE=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Eo(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(Yt<=e&&e<LE))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Yp(e){const t=Ts(Eo(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Ta(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Mu(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Ts(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,i=e.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[n]=s}return t}function Es(e){return Mu(Jo(e))}function N0(e){return e instanceof Uint8Array?Uint8Array.from(e):Ts(e)}function Jp(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&$u(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Le(e,t=Cn.P){const n=e%t;return n>=Yt?n:t+n}function Cr(e,t){const{P:n}=Cn;let r=e;for(;t-- >Yt;)r*=r,r%=n;return r}function HE(e){const{P:t}=Cn,n=BigInt(6),r=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=Cr(u,Ma)*u%t,d=Cr(l,Ma)*u%t,h=Cr(d,Ji)*c%t,y=Cr(h,r)*h%t,b=Cr(y,i)*y%t,A=Cr(b,o)*b%t,I=Cr(A,a)*A%t,U=Cr(I,o)*b%t,B=Cr(U,Ma)*u%t,v=Cr(B,s)*y%t,_=Cr(v,n)*c%t,S=Cr(_,Ji);if(S*S%t!==e)throw new Error("Cannot find square root");return S}function od(e,t=Cn.P){if(e===Yt||t<=Yt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Le(e,t),r=t,i=Yt,s=pn;for(;n!==Yt;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==pn)throw new Error("invert: does not exist");return Le(i,t)}function zE(e,t=Cn.P){const n=new Array(e.length),r=e.reduce((s,o,a)=>o===Yt?s:(n[a]=s,Le(s*o,t)),pn),i=od(r,t);return e.reduceRight((s,o,a)=>o===Yt?s:(n[a]=Le(s*n[a],t),Le(s*o,t)),i),n}function FE(e){const t=e.length*8-Ka*8,n=Es(e);return t>0?n>>BigInt(t):n}function jE(e,t=!1){const n=FE(e);if(t)return n;const{n:r}=Cn;return n>=r?n-r:n}let Io,Fd;function $u(e){return Yt<e&&e<Cn.n}function jd(e){return Yt<e&&e<Cn.P}function q0(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*Ka)throw new Error("Expected 32 bytes of private key");t=Mu(e)}else if(e instanceof Uint8Array){if(e.length!==Ka)throw new Error("Expected 32 bytes of private key");t=Es(e)}else throw new TypeError("Expected valid private key");if(!$u(t))throw new Error("Expected private key: 0 < key < n");return t}function GE(e){if(e instanceof As)return e.assertValidity(),e;try{return As.fromDER(e)}catch{return As.fromCompact(e)}}Er.BASE._setWindowSize(8);const yr={node:Yg,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},jc={},po={bytesToHex:Jo,hexToBytes:Ts,concatBytes:Aa,mod:Le,invert:od,isValidPrivateKey(e){try{return q0(e),!0}catch{return!1}},_bigintTo32Bytes:Yp,_normalizePrivateKey:q0,hashToPrivateKey:e=>{e=N0(e);const t=Ka+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=Le(Es(e),Cn.n-pn)+pn;return Yp(n)},randomBytes:(e=32)=>{if(yr.web)return yr.web.getRandomValues(new Uint8Array(e));if(yr.node){const{randomBytes:t}=yr.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>po.hashToPrivateKey(po.randomBytes(Ka+8)),precompute(e=8,t=Er.BASE){const n=t===Er.BASE?t:new Er(t.x,t.y);return n._setWindowSize(e),n.multiply(Ma),n},sha256:async(...e)=>{if(yr.web){const t=await yr.web.subtle.digest("SHA-256",Aa(...e));return new Uint8Array(t)}else if(yr.node){const{createHash:t}=yr.node,n=t("sha256");return e.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(yr.web){const n=await yr.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Aa(...t),i=await yr.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}else if(yr.node){const{createHmac:n}=yr.node,r=n("sha256",e);return t.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=jc[e];if(n===void 0){const r=await po.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));n=Aa(r,r),jc[e]=n}return po.sha256(n,...t)},taggedHashSync:(e,...t)=>{if(typeof Io!="function")throw new NE("sha256Sync is undefined, you need to set it");let n=jc[e];if(n===void 0){const r=Io(Uint8Array.from(e,i=>i.charCodeAt(0)));n=Aa(r,r),jc[e]=n}return Io(n,...t)},_JacobianPoint:Zt};Object.defineProperties(po,{sha256Sync:{configurable:!1,get(){return Io},set(e){Io||(Io=e)}},hmacSha256Sync:{configurable:!1,get(){return Fd},set(e){Fd||(Fd=e)}}});function D0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function WE(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Ow(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function VE(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");D0(e.outputLen),D0(e.blockLen)}function KE(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function XE(e,t){Ow(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const bs={number:D0,bool:WE,bytes:Ow,hash:VE,exists:KE,output:XE},ZE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,YE=Object.freeze(Object.defineProperty({__proto__:null,crypto:ZE},Symbol.toStringTag,{value:"Module"}));/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AO=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Gd=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ai=(e,t)=>e<<32-t|e>>>t,JE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!JE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function QE(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function ad(e){if(typeof e=="string"&&(e=QE(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class Mw{clone(){return this._cloneInto()}}function Zs(e){const t=r=>e().update(ad(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function TO(e){const t=(r,i)=>e(i).update(ad(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}class $w extends Mw{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,bs.hash(t);const r=ad(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return bs.exists(this),this.iHash.update(t),this}digestInto(t){bs.exists(this),bs.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Jf=(e,t,n)=>new $w(e,t).update(n).digest();Jf.create=(e,t)=>new $w(e,t);function e7(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}class Qf extends Mw{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Gd(this.buffer)}update(t){bs.exists(this);const{view:n,buffer:r,blockLen:i}=this;t=ad(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Gd(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){bs.exists(this),bs.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;e7(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Gd(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const t7=(e,t,n)=>e&t^~e&n,n7=(e,t,n)=>e&t^e&n^t&n,r7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Di=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Li=new Uint32Array(64);class Nw extends Qf{constructor(){super(64,32,8,!1),this.A=Di[0]|0,this.B=Di[1]|0,this.C=Di[2]|0,this.D=Di[3]|0,this.E=Di[4]|0,this.F=Di[5]|0,this.G=Di[6]|0,this.H=Di[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Li[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=Li[d-15],y=Li[d-2],b=ai(h,7)^ai(h,18)^h>>>3,A=ai(y,17)^ai(y,19)^y>>>10;Li[d]=A+Li[d-7]+b+Li[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=ai(a,6)^ai(a,11)^ai(a,25),y=l+h+t7(a,c,u)+r7[d]+Li[d]|0,A=(ai(r,2)^ai(r,13)^ai(r,22))+n7(r,i,s)|0;l=u,u=c,c=a,a=o+y|0,o=s,s=i,i=r,r=y+A|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){Li.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class i7 extends Nw{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Us=Zs(()=>new Nw),s7=Zs(()=>new i7),o7=Object.freeze(Object.defineProperty({__proto__:null,sha224:s7,sha256:Us},Symbol.toStringTag,{value:"Module"}));var Qp={},a7={get exports(){return Qp},set exports(e){Qp=e}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Zi:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],y=[6,1536,393216,100663296],b=[0,8,16,24],A=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],I=[224,256,384,512],U=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var _=function(T,ne,fe){return function(G){return new m(T,ne,T).update(G)[fe]()}},S=function(T,ne,fe){return function(G,D){return new m(T,ne,D).update(G)[fe]()}},$=function(T,ne,fe){return function(G,D,V,Z){return f["cshake"+T].update(G,D,V,Z)[fe]()}},F=function(T,ne,fe){return function(G,D,V,Z){return f["kmac"+T].update(G,D,V,Z)[fe]()}},W=function(T,ne,fe,G){for(var D=0;D<B.length;++D){var V=B[D];T[V]=ne(fe,G,V)}return T},Y=function(T,ne){var fe=_(T,ne,"hex");return fe.create=function(){return new m(T,ne,T)},fe.update=function(G){return fe.create().update(G)},W(fe,_,T,ne)},J=function(T,ne){var fe=S(T,ne,"hex");return fe.create=function(G){return new m(T,ne,G)},fe.update=function(G,D){return fe.create(D).update(G)},W(fe,S,T,ne)},N=function(T,ne){var fe=v[T],G=$(T,ne,"hex");return G.create=function(D,V,Z){return!V&&!Z?f["shake"+T].create(D):new m(T,ne,D).bytepad([V,Z],fe)},G.update=function(D,V,Z,Q){return G.create(V,Z,Q).update(D)},W(G,$,T,ne)},H=function(T,ne){var fe=v[T],G=F(T,ne,"hex");return G.create=function(D,V,Z){return new L(T,ne,V).bytepad(["KMAC",Z],fe).bytepad([D],fe)},G.update=function(D,V,Z,Q){return G.create(D,Z,Q).update(V)},W(G,F,T,ne)},E=[{name:"keccak",padding:h,bits:I,createMethod:Y},{name:"sha3",padding:y,bits:I,createMethod:Y},{name:"shake",padding:l,bits:U,createMethod:J},{name:"cshake",padding:d,bits:U,createMethod:N},{name:"kmac",padding:d,bits:U,createMethod:H}],f={},p=[],w=0;w<E.length;++w)for(var k=E[w],q=k.bits,z=0;z<q.length;++z){var X=k.name+"_"+q[z];if(p.push(X),f[X]=k.createMethod(q[z],k.padding),k.name!=="sha3"){var O=k.name+q[z];p.push(O),f[O]=f[X]}}function m(T,ne,fe){this.blocks=[],this.s=[],this.padding=ne,this.outputBits=fe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=fe>>5,this.extraBytes=(fe&31)>>3;for(var G=0;G<50;++G)this.s[G]=0}m.prototype.update=function(T){if(this.finalized)throw new Error(n);var ne,fe=typeof T;if(fe!=="string"){if(fe==="object"){if(T===null)throw new Error(t);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(t)}else throw new Error(t);ne=!0}for(var G=this.blocks,D=this.byteCount,V=T.length,Z=this.blockCount,Q=0,se=this.s,ie,ae;Q<V;){if(this.reset)for(this.reset=!1,G[0]=this.block,ie=1;ie<Z+1;++ie)G[ie]=0;if(ne)for(ie=this.start;Q<V&&ie<D;++Q)G[ie>>2]|=T[Q]<<b[ie++&3];else for(ie=this.start;Q<V&&ie<D;++Q)ae=T.charCodeAt(Q),ae<128?G[ie>>2]|=ae<<b[ie++&3]:ae<2048?(G[ie>>2]|=(192|ae>>6)<<b[ie++&3],G[ie>>2]|=(128|ae&63)<<b[ie++&3]):ae<55296||ae>=57344?(G[ie>>2]|=(224|ae>>12)<<b[ie++&3],G[ie>>2]|=(128|ae>>6&63)<<b[ie++&3],G[ie>>2]|=(128|ae&63)<<b[ie++&3]):(ae=65536+((ae&1023)<<10|T.charCodeAt(++Q)&1023),G[ie>>2]|=(240|ae>>18)<<b[ie++&3],G[ie>>2]|=(128|ae>>12&63)<<b[ie++&3],G[ie>>2]|=(128|ae>>6&63)<<b[ie++&3],G[ie>>2]|=(128|ae&63)<<b[ie++&3]);if(this.lastByteIndex=ie,ie>=D){for(this.start=ie-D,this.block=G[Z],ie=0;ie<Z;++ie)se[ie]^=G[ie];we(se),this.reset=!0}else this.start=ie}return this},m.prototype.encode=function(T,ne){var fe=T&255,G=1,D=[fe];for(T=T>>8,fe=T&255;fe>0;)D.unshift(fe),T=T>>8,fe=T&255,++G;return ne?D.push(G):D.unshift(G),this.update(D),D.length},m.prototype.encodeString=function(T){var ne,fe=typeof T;if(fe!=="string"){if(fe==="object"){if(T===null)throw new Error(t);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(t)}else throw new Error(t);ne=!0}var G=0,D=T.length;if(ne)G=D;else for(var V=0;V<T.length;++V){var Z=T.charCodeAt(V);Z<128?G+=1:Z<2048?G+=2:Z<55296||Z>=57344?G+=3:(Z=65536+((Z&1023)<<10|T.charCodeAt(++V)&1023),G+=4)}return G+=this.encode(G*8),this.update(T),G},m.prototype.bytepad=function(T,ne){for(var fe=this.encode(ne),G=0;G<T.length;++G)fe+=this.encodeString(T[G]);var D=ne-fe%ne,V=[];return V.length=D,this.update(V),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,ne=this.lastByteIndex,fe=this.blockCount,G=this.s;if(T[ne>>2]|=this.padding[ne&3],this.lastByteIndex===this.byteCount)for(T[0]=T[fe],ne=1;ne<fe+1;++ne)T[ne]=0;for(T[fe-1]|=2147483648,ne=0;ne<fe;++ne)G[ne]^=T[ne];we(G)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var T=this.blockCount,ne=this.s,fe=this.outputBlocks,G=this.extraBytes,D=0,V=0,Z="",Q;V<fe;){for(D=0;D<T&&V<fe;++D,++V)Q=ne[D],Z+=u[Q>>4&15]+u[Q&15]+u[Q>>12&15]+u[Q>>8&15]+u[Q>>20&15]+u[Q>>16&15]+u[Q>>28&15]+u[Q>>24&15];V%T===0&&(we(ne),D=0)}return G&&(Q=ne[D],Z+=u[Q>>4&15]+u[Q&15],G>1&&(Z+=u[Q>>12&15]+u[Q>>8&15]),G>2&&(Z+=u[Q>>20&15]+u[Q>>16&15])),Z},m.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,ne=this.s,fe=this.outputBlocks,G=this.extraBytes,D=0,V=0,Z=this.outputBits>>3,Q;G?Q=new ArrayBuffer(fe+1<<2):Q=new ArrayBuffer(Z);for(var se=new Uint32Array(Q);V<fe;){for(D=0;D<T&&V<fe;++D,++V)se[V]=ne[D];V%T===0&&we(ne)}return G&&(se[D]=ne[D],Q=Q.slice(0,Z)),Q},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var T=this.blockCount,ne=this.s,fe=this.outputBlocks,G=this.extraBytes,D=0,V=0,Z=[],Q,se;V<fe;){for(D=0;D<T&&V<fe;++D,++V)Q=V<<2,se=ne[D],Z[Q]=se&255,Z[Q+1]=se>>8&255,Z[Q+2]=se>>16&255,Z[Q+3]=se>>24&255;V%T===0&&we(ne)}return G&&(Q=V<<2,se=ne[D],Z[Q]=se&255,G>1&&(Z[Q+1]=se>>8&255),G>2&&(Z[Q+2]=se>>16&255)),Z};function L(T,ne,fe){m.call(this,T,ne,fe)}L.prototype=new m,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var we=function(T){var ne,fe,G,D,V,Z,Q,se,ie,ae,Ce,Ie,xe,De,Ee,Ue,Fe,ke,Te,at,He,je,Vt,Ye,Rt,qn,Dt,zt,Kn,$t,Pt,kr,Kt,Xt,Wr,an,cn,pi,Nt,Ft,lr,nn,rn,ri,un,It,ii,x,R,P,g,M,te,ee,le,_e,Ae,be,gt,Pe,Ge,Ke,Je;for(G=0;G<48;G+=2)D=T[0]^T[10]^T[20]^T[30]^T[40],V=T[1]^T[11]^T[21]^T[31]^T[41],Z=T[2]^T[12]^T[22]^T[32]^T[42],Q=T[3]^T[13]^T[23]^T[33]^T[43],se=T[4]^T[14]^T[24]^T[34]^T[44],ie=T[5]^T[15]^T[25]^T[35]^T[45],ae=T[6]^T[16]^T[26]^T[36]^T[46],Ce=T[7]^T[17]^T[27]^T[37]^T[47],Ie=T[8]^T[18]^T[28]^T[38]^T[48],xe=T[9]^T[19]^T[29]^T[39]^T[49],ne=Ie^(Z<<1|Q>>>31),fe=xe^(Q<<1|Z>>>31),T[0]^=ne,T[1]^=fe,T[10]^=ne,T[11]^=fe,T[20]^=ne,T[21]^=fe,T[30]^=ne,T[31]^=fe,T[40]^=ne,T[41]^=fe,ne=D^(se<<1|ie>>>31),fe=V^(ie<<1|se>>>31),T[2]^=ne,T[3]^=fe,T[12]^=ne,T[13]^=fe,T[22]^=ne,T[23]^=fe,T[32]^=ne,T[33]^=fe,T[42]^=ne,T[43]^=fe,ne=Z^(ae<<1|Ce>>>31),fe=Q^(Ce<<1|ae>>>31),T[4]^=ne,T[5]^=fe,T[14]^=ne,T[15]^=fe,T[24]^=ne,T[25]^=fe,T[34]^=ne,T[35]^=fe,T[44]^=ne,T[45]^=fe,ne=se^(Ie<<1|xe>>>31),fe=ie^(xe<<1|Ie>>>31),T[6]^=ne,T[7]^=fe,T[16]^=ne,T[17]^=fe,T[26]^=ne,T[27]^=fe,T[36]^=ne,T[37]^=fe,T[46]^=ne,T[47]^=fe,ne=ae^(D<<1|V>>>31),fe=Ce^(V<<1|D>>>31),T[8]^=ne,T[9]^=fe,T[18]^=ne,T[19]^=fe,T[28]^=ne,T[29]^=fe,T[38]^=ne,T[39]^=fe,T[48]^=ne,T[49]^=fe,De=T[0],Ee=T[1],It=T[11]<<4|T[10]>>>28,ii=T[10]<<4|T[11]>>>28,zt=T[20]<<3|T[21]>>>29,Kn=T[21]<<3|T[20]>>>29,Pe=T[31]<<9|T[30]>>>23,Ge=T[30]<<9|T[31]>>>23,nn=T[40]<<18|T[41]>>>14,rn=T[41]<<18|T[40]>>>14,Xt=T[2]<<1|T[3]>>>31,Wr=T[3]<<1|T[2]>>>31,Ue=T[13]<<12|T[12]>>>20,Fe=T[12]<<12|T[13]>>>20,x=T[22]<<10|T[23]>>>22,R=T[23]<<10|T[22]>>>22,$t=T[33]<<13|T[32]>>>19,Pt=T[32]<<13|T[33]>>>19,Ke=T[42]<<2|T[43]>>>30,Je=T[43]<<2|T[42]>>>30,ee=T[5]<<30|T[4]>>>2,le=T[4]<<30|T[5]>>>2,an=T[14]<<6|T[15]>>>26,cn=T[15]<<6|T[14]>>>26,ke=T[25]<<11|T[24]>>>21,Te=T[24]<<11|T[25]>>>21,P=T[34]<<15|T[35]>>>17,g=T[35]<<15|T[34]>>>17,kr=T[45]<<29|T[44]>>>3,Kt=T[44]<<29|T[45]>>>3,Ye=T[6]<<28|T[7]>>>4,Rt=T[7]<<28|T[6]>>>4,_e=T[17]<<23|T[16]>>>9,Ae=T[16]<<23|T[17]>>>9,pi=T[26]<<25|T[27]>>>7,Nt=T[27]<<25|T[26]>>>7,at=T[36]<<21|T[37]>>>11,He=T[37]<<21|T[36]>>>11,M=T[47]<<24|T[46]>>>8,te=T[46]<<24|T[47]>>>8,ri=T[8]<<27|T[9]>>>5,un=T[9]<<27|T[8]>>>5,qn=T[18]<<20|T[19]>>>12,Dt=T[19]<<20|T[18]>>>12,be=T[29]<<7|T[28]>>>25,gt=T[28]<<7|T[29]>>>25,Ft=T[38]<<8|T[39]>>>24,lr=T[39]<<8|T[38]>>>24,je=T[48]<<14|T[49]>>>18,Vt=T[49]<<14|T[48]>>>18,T[0]=De^~Ue&ke,T[1]=Ee^~Fe&Te,T[10]=Ye^~qn&zt,T[11]=Rt^~Dt&Kn,T[20]=Xt^~an&pi,T[21]=Wr^~cn&Nt,T[30]=ri^~It&x,T[31]=un^~ii&R,T[40]=ee^~_e&be,T[41]=le^~Ae&gt,T[2]=Ue^~ke&at,T[3]=Fe^~Te&He,T[12]=qn^~zt&$t,T[13]=Dt^~Kn&Pt,T[22]=an^~pi&Ft,T[23]=cn^~Nt&lr,T[32]=It^~x&P,T[33]=ii^~R&g,T[42]=_e^~be&Pe,T[43]=Ae^~gt&Ge,T[4]=ke^~at&je,T[5]=Te^~He&Vt,T[14]=zt^~$t&kr,T[15]=Kn^~Pt&Kt,T[24]=pi^~Ft&nn,T[25]=Nt^~lr&rn,T[34]=x^~P&M,T[35]=R^~g&te,T[44]=be^~Pe&Ke,T[45]=gt^~Ge&Je,T[6]=at^~je&De,T[7]=He^~Vt&Ee,T[16]=$t^~kr&Ye,T[17]=Pt^~Kt&Rt,T[26]=Ft^~nn&Xt,T[27]=lr^~rn&Wr,T[36]=P^~M&ri,T[37]=g^~te&un,T[46]=Pe^~Ke&ee,T[47]=Ge^~Je&le,T[8]=je^~De&Ue,T[9]=Vt^~Ee&Fe,T[18]=kr^~Ye&qn,T[19]=Kt^~Rt&Dt,T[28]=nn^~Xt&an,T[29]=rn^~Wr&cn,T[38]=M^~ri&It,T[39]=te^~un&ii,T[48]=Ke^~ee&_e,T[49]=Je^~le&Ae,T[0]^=A[G],T[1]^=A[G+1]};if(a)e.exports=f;else for(w=0;w<p.length;++w)i[p[w]]=f[p[w]]})()})(a7);var Sr={},Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.output=Fn.exists=Fn.hash=Fn.bytes=Fn.bool=Fn.number=void 0;function Nu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Fn.number=Nu;function qw(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Fn.bool=qw;function eh(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Fn.bytes=eh;function Dw(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Nu(e.outputLen),Nu(e.blockLen)}Fn.hash=Dw;function Lw(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Fn.exists=Lw;function Hw(e,t){eh(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Fn.output=Hw;const c7={number:Nu,bool:qw,bytes:eh,hash:Dw,exists:Lw,output:Hw};Fn.default=c7;var Qo={},zw={},as={};const u7=Qa(YE);(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=u7,n=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);e.u8=n;const r=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));e.u32=r;const i=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);e.createView=i;const s=(_,S)=>_<<32-S|_>>>S;if(e.rotr=s,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(_,S)=>S.toString(16).padStart(2,"0"));function a(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let S="";for(let $=0;$<_.length;$++)S+=o[_[$]];return S}e.bytesToHex=a;function c(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const S=new Uint8Array(_.length/2);for(let $=0;$<S.length;$++){const F=$*2,W=_.slice(F,F+2),Y=Number.parseInt(W,16);if(Number.isNaN(Y)||Y<0)throw new Error("Invalid byte sequence");S[$]=Y}return S}e.hexToBytes=c;const u=async()=>{};e.nextTick=u;async function l(_,S,$){let F=Date.now();for(let W=0;W<_;W++){$(W);const Y=Date.now()-F;Y>=0&&Y<S||(await(0,e.nextTick)(),F+=Y)}}e.asyncLoop=l;function d(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}e.utf8ToBytes=d;function h(_){if(typeof _=="string"&&(_=d(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}e.toBytes=h;function y(..._){if(!_.every(F=>F instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const S=_.reduce((F,W)=>F+W.length,0),$=new Uint8Array(S);for(let F=0,W=0;F<_.length;F++){const Y=_[F];$.set(Y,W),W+=Y.length}return $}e.concatBytes=y;class b{clone(){return this._cloneInto()}}e.Hash=b;const A=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function I(_,S){if(S!==void 0&&(typeof S!="object"||!A(S)))throw new TypeError("Options should be object or undefined");return Object.assign(_,S)}e.checkOpts=I;function U(_){const S=F=>_().update(h(F)).digest(),$=_();return S.outputLen=$.outputLen,S.blockLen=$.blockLen,S.create=()=>_(),S}e.wrapConstructor=U;function B(_){const S=(F,W)=>_(W).update(h(F)).digest(),$=_({});return S.outputLen=$.outputLen,S.blockLen=$.blockLen,S.create=F=>_(F),S}e.wrapConstructorWithOpts=B;function v(_=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(_));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=v})(as);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const t=Fn,n=as;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,t.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return t.default.exists(this),this.iHash.update(o),this}digestInto(o){t.default.exists(this),t.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:h}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=h,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();e.hmac=i,e.hmac.create=(s,o)=>new r(s,o)})(zw);Object.defineProperty(Qo,"__esModule",{value:!0});Qo.pbkdf2Async=Qo.pbkdf2=void 0;const Gc=Fn,l7=zw,Bo=as;function Fw(e,t,n,r){Gc.default.hash(e);const i=(0,Bo.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Gc.default.number(s),Gc.default.number(o),Gc.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,Bo.toBytes)(t),u=(0,Bo.toBytes)(n),l=new Uint8Array(o),d=l7.hmac.create(e,c),h=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function jw(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function d7(e,t,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=Fw(e,t,n,r);let u;const l=new Uint8Array(4),d=(0,Bo.createView)(l),h=new Uint8Array(a.outputLen);for(let y=1,b=0;b<s;y++,b+=a.outputLen){const A=o.subarray(b,b+a.outputLen);d.setInt32(0,y,!1),(u=c._cloneInto(u)).update(l).digestInto(h),A.set(h.subarray(0,A.length));for(let I=1;I<i;I++){a._cloneInto(u).update(h).digestInto(h);for(let U=0;U<A.length;U++)A[U]^=h[U]}}return jw(a,c,o,u,h)}Qo.pbkdf2=d7;async function f7(e,t,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=Fw(e,t,n,r);let l;const d=new Uint8Array(4),h=(0,Bo.createView)(d),y=new Uint8Array(c.outputLen);for(let b=1,A=0;A<s;b++,A+=c.outputLen){const I=a.subarray(A,A+c.outputLen);h.setInt32(0,b,!1),(l=u._cloneInto(l)).update(d).digestInto(y),I.set(y.subarray(0,I.length)),await(0,Bo.asyncLoop)(i-1,o,U=>{c._cloneInto(l).update(y).digestInto(y);for(let B=0;B<I.length;B++)I[B]^=y[B]})}return jw(c,u,a,l,y)}Qo.pbkdf2Async=f7;const h7=Qa(o7),Wc=BigInt(2**32-1),L0=BigInt(32);function Gw(e,t=!1){return t?{h:Number(e&Wc),l:Number(e>>L0&Wc)}:{h:Number(e>>L0&Wc)|0,l:Number(e&Wc)|0}}function p7(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Gw(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const g7=(e,t)=>BigInt(e>>>0)<<L0|BigInt(t>>>0),y7=(e,t,n)=>e>>>n,m7=(e,t,n)=>e<<32-n|t>>>n,w7=(e,t,n)=>e>>>n|t<<32-n,_7=(e,t,n)=>e<<32-n|t>>>n,b7=(e,t,n)=>e<<64-n|t>>>n-32,v7=(e,t,n)=>e>>>n-32|t<<64-n,x7=(e,t)=>t,S7=(e,t)=>e,A7=(e,t,n)=>e<<n|t>>>32-n,T7=(e,t,n)=>t<<n|e>>>32-n,E7=(e,t,n)=>t<<n-32|e>>>64-n,I7=(e,t,n)=>e<<n-32|t>>>64-n;function B7(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const k7=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),C7=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,R7=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),P7=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,U7=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),O7=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Tt={fromBig:Gw,split:p7,toBig:g7,shrSH:y7,shrSL:m7,rotrSH:w7,rotrSL:_7,rotrBH:b7,rotrBL:v7,rotr32H:x7,rotr32L:S7,rotlSH:A7,rotlSL:T7,rotlBH:E7,rotlBL:I7,add:B7,add3L:k7,add3H:C7,add4L:R7,add4H:P7,add5H:O7,add5L:U7},[M7,$7]=Tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Hi=new Uint32Array(80),zi=new Uint32Array(80);class Sc extends Qf{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:A,Hl:I}=this;return[t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I]}set(t,n,r,i,s,o,a,c,u,l,d,h,y,b,A,I){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=A|0,this.Hl=I|0}process(t,n){for(let v=0;v<16;v++,n+=4)Hi[v]=t.getUint32(n),zi[v]=t.getUint32(n+=4);for(let v=16;v<80;v++){const _=Hi[v-15]|0,S=zi[v-15]|0,$=Tt.rotrSH(_,S,1)^Tt.rotrSH(_,S,8)^Tt.shrSH(_,S,7),F=Tt.rotrSL(_,S,1)^Tt.rotrSL(_,S,8)^Tt.shrSL(_,S,7),W=Hi[v-2]|0,Y=zi[v-2]|0,J=Tt.rotrSH(W,Y,19)^Tt.rotrBH(W,Y,61)^Tt.shrSH(W,Y,6),N=Tt.rotrSL(W,Y,19)^Tt.rotrBL(W,Y,61)^Tt.shrSL(W,Y,6),H=Tt.add4L(F,N,zi[v-7],zi[v-16]),E=Tt.add4H(H,$,J,Hi[v-7],Hi[v-16]);Hi[v]=E|0,zi[v]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:A,Gl:I,Hh:U,Hl:B}=this;for(let v=0;v<80;v++){const _=Tt.rotrSH(d,h,14)^Tt.rotrSH(d,h,18)^Tt.rotrBH(d,h,41),S=Tt.rotrSL(d,h,14)^Tt.rotrSL(d,h,18)^Tt.rotrBL(d,h,41),$=d&y^~d&A,F=h&b^~h&I,W=Tt.add5L(B,S,F,$7[v],zi[v]),Y=Tt.add5H(W,U,_,$,M7[v],Hi[v]),J=W|0,N=Tt.rotrSH(r,i,28)^Tt.rotrBH(r,i,34)^Tt.rotrBH(r,i,39),H=Tt.rotrSL(r,i,28)^Tt.rotrBL(r,i,34)^Tt.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;U=A|0,B=I|0,A=y|0,I=b|0,y=d|0,b=h|0,{h:d,l:h}=Tt.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=Tt.add3L(J,H,f);r=Tt.add3H(p,Y,N,E),i=p|0}({h:r,l:i}=Tt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Tt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Tt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Tt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=Tt.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=Tt.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:A,l:I}=Tt.add(this.Gh|0,this.Gl|0,A|0,I|0),{h:U,l:B}=Tt.add(this.Hh|0,this.Hl|0,U|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,A,I,U,B)}roundClean(){Hi.fill(0),zi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class N7 extends Sc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class q7 extends Sc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class D7 extends Sc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const L7=Zs(()=>new Sc),H7=Zs(()=>new N7),z7=Zs(()=>new q7),F7=Zs(()=>new D7),j7=Object.freeze(Object.defineProperty({__proto__:null,SHA512:Sc,sha384:F7,sha512:L7,sha512_224:H7,sha512_256:z7},Symbol.toStringTag,{value:"Module"})),G7=Qa(j7);Object.defineProperty(Sr,"__esModule",{value:!0});Sr.mnemonicToSeedSync=Sr.mnemonicToSeed=Sr.validateMnemonic=Sr.entropyToMnemonic=Sr.mnemonicToEntropy=Sr.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const Ww=Fn,Vw=Qo,W7=h7,Kw=G7,V7=as,Vc=nc,K7=e=>e[0]==="";function Xw(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function th(e){const t=Xw(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function Zw(e){Ww.default.bytes(e,16,20,24,28,32)}function X7(e,t=128){if(Ww.default.number(t),t%32!==0||t>256)throw new TypeError("Invalid entropy");return Qw((0,V7.randomBytes)(t/8),e)}Sr.generateMnemonic=X7;const Z7=e=>{const t=8-e.length/4;return new Uint8Array([(0,W7.sha256)(e)[0]>>t<<t])};function Yw(e){if(!Array.isArray(e)||e.length!==2048||typeof e[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return e.forEach(t=>{if(typeof t!="string")throw new Error(`Wordlist: non-string element: ${t}`)}),Vc.utils.chain(Vc.utils.checksum(1,Z7),Vc.utils.radix2(11,!0),Vc.utils.alphabet(e))}function Jw(e,t){const{words:n}=th(e),r=Yw(t).decode(n);return Zw(r),r}Sr.mnemonicToEntropy=Jw;function Qw(e,t){return Zw(e),Yw(t).encode(e).join(K7(t)?"":" ")}Sr.entropyToMnemonic=Qw;function Y7(e,t){try{Jw(e,t)}catch{return!1}return!0}Sr.validateMnemonic=Y7;const e2=e=>Xw(`mnemonic${e}`);function J7(e,t=""){return(0,Vw.pbkdf2Async)(Kw.sha512,th(e).nfkd,e2(t),{c:2048,dkLen:64})}Sr.mnemonicToSeed=J7;function Q7(e,t=""){return(0,Vw.pbkdf2)(Kw.sha512,th(e).nfkd,e2(t),{c:2048,dkLen:64})}Sr.mnemonicToSeedSync=Q7;const eI=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),t2=Uint8Array.from({length:16},(e,t)=>t),tI=t2.map(e=>(9*e+5)%16);let nh=[t2],rh=[tI];for(let e=0;e<4;e++)for(let t of[nh,rh])t.push(t[e].map(n=>eI[n]));const n2=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),nI=nh.map((e,t)=>e.map(n=>n2[t][n])),rI=rh.map((e,t)=>e.map(n=>n2[t][n])),iI=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),sI=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Kc=(e,t)=>e<<t|e>>>32-t;function eg(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Xc=new Uint32Array(16);class oI extends Qf{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:i,h4:s}=this;return[t,n,r,i,s]}set(t,n,r,i,s){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(t,n){for(let y=0;y<16;y++,n+=4)Xc[y]=t.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,c=a,u=this.h3|0,l=u,d=this.h4|0,h=d;for(let y=0;y<5;y++){const b=4-y,A=iI[y],I=sI[y],U=nh[y],B=rh[y],v=nI[y],_=rI[y];for(let S=0;S<16;S++){const $=Kc(r+eg(y,s,a,u)+Xc[U[S]]+A,v[S])+d|0;r=d,d=u,u=Kc(a,10)|0,a=s,s=$}for(let S=0;S<16;S++){const $=Kc(i+eg(b,o,c,l)+Xc[B[S]]+I,_[S])+h|0;i=h,h=l,l=Kc(c,10)|0,c=o,o=$}}this.set(this.h1+a+l|0,this.h2+u+h|0,this.h3+d+i|0,this.h4+r+o|0,this.h0+s+c|0)}roundClean(){Xc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}Zs(()=>new oI);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aI=BigInt(0),ih=BigInt(1),cI=BigInt(2),cd=e=>e instanceof Uint8Array,uI=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ea(e){if(!cd(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=uI[e[n]];return t}function r2(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function sh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function ta(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,i=e.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");t[n]=s}return t}function ur(e){return sh(ea(e))}function oh(e){if(!cd(e))throw new Error("Uint8Array expected");return sh(ea(Uint8Array.from(e).reverse()))}const rs=(e,t)=>ta(e.toString(16).padStart(t*2,"0")),i2=(e,t)=>rs(e,t).reverse(),lI=e=>ta(r2(e));function zn(e,t,n){let r;if(typeof t=="string")try{r=ta(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(cd(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Lr(...e){const t=new Uint8Array(e.reduce((r,i)=>r+i.length,0));let n=0;return e.forEach(r=>{if(!cd(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function dI(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ud(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function fI(e){let t;for(t=0;e>0n;e>>=ih,t+=1);return t}const hI=(e,t)=>e>>BigInt(t)&1n,pI=(e,t,n)=>e|(n?ih:aI)<<BigInt(t),ah=e=>(cI<<BigInt(e-1))-ih,Wd=e=>new Uint8Array(e),tg=e=>Uint8Array.from(e);function s2(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Wd(e),i=Wd(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=Wd())=>{i=a(tg([0]),d),r=a(),d.length!==0&&(i=a(tg([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){r=a();const y=r.slice();h.push(y),d+=r.length}return Lr(...h)};return(d,h)=>{o(),c(d);let y;for(;!(y=h(u()));)c();return o(),y}}const gI={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ya(e,t,n={}){const r=(i,s,o)=>{const a=gI[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const yI=Object.freeze(Object.defineProperty({__proto__:null,bitGet:hI,bitLen:fI,bitMask:ah,bitSet:pI,bytesToHex:ea,bytesToNumberBE:ur,bytesToNumberLE:oh,concatBytes:Lr,createHmacDrbg:s2,ensureBytes:zn,equalBytes:dI,hexToBytes:ta,hexToNumber:sh,numberToBytesBE:rs,numberToBytesLE:i2,numberToHexUnpadded:r2,numberToVarBytesBE:lI,utf8ToBytes:ud,validateObject:ya},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nn=BigInt(0),Sn=BigInt(1),ms=BigInt(2),mI=BigInt(3),H0=BigInt(4),ng=BigInt(5),rg=BigInt(8);BigInt(9);BigInt(16);function On(e,t){const n=e%t;return n>=Nn?n:t+n}function wI(e,t,n){if(n<=Nn||t<Nn)throw new Error("Expected power/modulo > 0");if(n===Sn)return Nn;let r=Sn;for(;t>Nn;)t&Sn&&(r=r*e%n),e=e*e%n,t>>=Sn;return r}function Rr(e,t,n){let r=e;for(;t-- >Nn;)r*=r,r%=n;return r}function z0(e,t){if(e===Nn||t<=Nn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=On(e,t),r=t,i=Nn,s=Sn;for(;n!==Nn;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Sn)throw new Error("invert: does not exist");return On(i,t)}function _I(e){const t=(e-Sn)/ms;let n,r,i;for(n=e-Sn,r=0;n%ms===Nn;n/=ms,r++);for(i=ms;i<e&&wI(i,t,e)!==e-Sn;i++);if(r===1){const o=(e+Sn)/H0;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(n+Sn)/ms;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let y=1;for(let A=a.sqr(h);y<u&&!a.eql(A,a.ONE);y++)A=a.sqr(A);const b=a.pow(l,Sn<<BigInt(u-y-1));l=a.sqr(b),d=a.mul(d,b),h=a.mul(h,l),u=y}return d}}function bI(e){if(e%H0===mI){const t=(e+Sn)/H0;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%rg===ng){const t=(e-ng)/rg;return function(r,i){const s=r.mul(i,ms),o=r.pow(s,t),a=r.mul(i,o),c=r.mul(r.mul(a,ms),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return _I(e)}const vI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function o2(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=vI.reduce((r,i)=>(r[i]="function",r),t);return ya(e,n)}function xI(e,t,n){if(n<Nn)throw new Error("Expected power > 0");if(n===Nn)return e.ONE;if(n===Sn)return t;let r=e.ONE,i=t;for(;n>Nn;)n&Sn&&(r=e.mul(r,i)),i=e.sqr(i),n>>=1n;return r}function SI(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function ch(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function AI(e,t,n=!1,r={}){if(e<=Nn)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=ch(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=bI(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:ah(i),ZERO:Nn,ONE:Sn,create:c=>On(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Nn<=c&&c<e},is0:c=>c===Nn,isOdd:c=>(c&Sn)===Sn,neg:c=>On(-c,e),eql:(c,u)=>c===u,sqr:c=>On(c*c,e),add:(c,u)=>On(c+u,e),sub:(c,u)=>On(c-u,e),mul:(c,u)=>On(c*u,e),pow:(c,u)=>xI(a,c,u),div:(c,u)=>On(c*z0(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>z0(c,e),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>SI(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?i2(c,s):rs(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?oh(c):ur(c)}});return Object.freeze(a)}function TI(e,t,n=!1){e=zn("privateHash",e);const r=e.length,i=ch(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const s=n?oh(e):ur(e);return On(s,t-Sn)+Sn}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EI=BigInt(0),Vd=BigInt(1);function II(e,t){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>EI;)s&Vd&&(o=o.add(a)),a=a.double(),s>>=Vd;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let h=1;h<a;h++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=e.ZERO,l=e.BASE;const d=BigInt(2**i-1),h=2**i,y=BigInt(i);for(let b=0;b<a;b++){const A=b*c;let I=Number(o&d);o>>=y,I>c&&(I-=h,o+=Vd);const U=A,B=A+Math.abs(I)-1,v=b%2!==0,_=I<0;I===0?l=l.add(n(v,s[U])):u=u.add(n(_,s[B]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function a2(e){return o2(e.Fp),ya(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ch(e.n,e.nBitLength),...e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BI(e){const t=a2(e);ya(t,{a:"field",b:"field",fromBytes:"function",toBytes:"function"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:kI,hexToBytes:CI}=yI,vs={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=vs;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new t("Invalid signature integer: trailing length");return{d:kI(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=vs,n=typeof e=="string"?CI(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=vs._parseInt(n.subarray(2)),{d:o,l:a}=vs._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)>=8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},mi=BigInt(0),Nr=BigInt(1);function RI(e){const t=BI(e),{Fp:n}=t;function r(h){const{a:y,b}=t,A=n.sqr(h),I=n.mul(A,h);return n.add(n.add(I,n.mul(h,y)),b)}function i(h){return typeof h=="bigint"&&mi<h&&h<t.n}function s(h){if(!i(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function o(h){const{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:A,n:I}=t;if(y&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=ea(h)),typeof h!="string"||!y.includes(h.length))throw new Error("Invalid key");h=h.padStart(b*2,"0")}let U;try{U=typeof h=="bigint"?h:ur(zn("private key",h,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof h}`)}return A&&(U=On(U,I)),s(U),U}const a=new Map;function c(h){if(!(h instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(y,b,A){if(this.px=y,this.py=b,this.pz=A,y==null||!n.isValid(y))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required")}static fromAffine(y){const{x:b,y:A}=y||{};if(!y||!n.isValid(b)||!n.isValid(A))throw new Error("invalid affine point");if(y instanceof u)throw new Error("projective point not allowed");const I=U=>n.eql(U,n.ZERO);return I(b)&&I(A)?u.ZERO:new u(b,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const b=n.invertBatch(y.map(A=>A.pz));return y.map((A,I)=>A.toAffine(b[I])).map(u.fromAffine)}static fromHex(y){const b=u.fromAffine(t.fromBytes(zn("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return u.BASE.multiply(o(y))}_setWindowSize(y){this._WINDOW_SIZE=y,a.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:y,y:b}=this.toAffine();if(!n.isValid(y)||!n.isValid(b))throw new Error("bad point: x or y not FE");const A=n.sqr(b),I=r(y);if(!n.eql(A,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:b,py:A,pz:I}=this,{px:U,py:B,pz:v}=y,_=n.eql(n.mul(b,v),n.mul(U,I)),S=n.eql(n.mul(A,v),n.mul(B,I));return _&&S}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b}=t,A=n.mul(b,3n),{px:I,py:U,pz:B}=this;let v=n.ZERO,_=n.ZERO,S=n.ZERO,$=n.mul(I,I),F=n.mul(U,U),W=n.mul(B,B),Y=n.mul(I,U);return Y=n.add(Y,Y),S=n.mul(I,B),S=n.add(S,S),v=n.mul(y,S),_=n.mul(A,W),_=n.add(v,_),v=n.sub(F,_),_=n.add(F,_),_=n.mul(v,_),v=n.mul(Y,v),S=n.mul(A,S),W=n.mul(y,W),Y=n.sub($,W),Y=n.mul(y,Y),Y=n.add(Y,S),S=n.add($,$),$=n.add(S,$),$=n.add($,W),$=n.mul($,Y),_=n.add(_,$),W=n.mul(U,B),W=n.add(W,W),$=n.mul(W,Y),v=n.sub(v,$),S=n.mul(W,F),S=n.add(S,S),S=n.add(S,S),new u(v,_,S)}add(y){c(y);const{px:b,py:A,pz:I}=this,{px:U,py:B,pz:v}=y;let _=n.ZERO,S=n.ZERO,$=n.ZERO;const F=t.a,W=n.mul(t.b,3n);let Y=n.mul(b,U),J=n.mul(A,B),N=n.mul(I,v),H=n.add(b,A),E=n.add(U,B);H=n.mul(H,E),E=n.add(Y,J),H=n.sub(H,E),E=n.add(b,I);let f=n.add(U,v);return E=n.mul(E,f),f=n.add(Y,N),E=n.sub(E,f),f=n.add(A,I),_=n.add(B,v),f=n.mul(f,_),_=n.add(J,N),f=n.sub(f,_),$=n.mul(F,E),_=n.mul(W,N),$=n.add(_,$),_=n.sub(J,$),$=n.add(J,$),S=n.mul(_,$),J=n.add(Y,Y),J=n.add(J,Y),N=n.mul(F,N),E=n.mul(W,E),J=n.add(J,N),N=n.sub(Y,N),N=n.mul(F,N),E=n.add(E,N),Y=n.mul(J,E),S=n.add(S,Y),Y=n.mul(f,E),_=n.mul(H,_),_=n.sub(_,Y),Y=n.mul(H,J),$=n.mul(f,$),$=n.add($,Y),new u(_,S,$)}subtract(y){return this.add(y.negate())}is0(){return this.equals(u.ZERO)}wNAF(y){return d.wNAFCached(this,a,y,b=>{const A=n.invertBatch(b.map(I=>I.pz));return b.map((I,U)=>I.toAffine(A[U])).map(u.fromAffine)})}multiplyUnsafe(y){const b=u.ZERO;if(y===mi)return b;if(s(y),y===Nr)return this;const{endo:A}=t;if(!A)return d.unsafeLadder(this,y);let{k1neg:I,k1:U,k2neg:B,k2:v}=A.splitScalar(y),_=b,S=b,$=this;for(;U>mi||v>mi;)U&Nr&&(_=_.add($)),v&Nr&&(S=S.add($)),$=$.double(),U>>=Nr,v>>=Nr;return I&&(_=_.negate()),B&&(S=S.negate()),S=new u(n.mul(S.px,A.beta),S.py,S.pz),_.add(S)}multiply(y){s(y);let b=y,A,I;const{endo:U}=t;if(U){const{k1neg:B,k1:v,k2neg:_,k2:S}=U.splitScalar(b);let{p:$,f:F}=this.wNAF(v),{p:W,f:Y}=this.wNAF(S);$=d.constTimeNegate(B,$),W=d.constTimeNegate(_,W),W=new u(n.mul(W.px,U.beta),W.py,W.pz),A=$.add(W),I=F.add(Y)}else{const{p:B,f:v}=this.wNAF(b);A=B,I=v}return u.normalizeZ([A,I])[0]}multiplyAndAddUnsafe(y,b,A){const I=u.BASE,U=(v,_)=>_===mi||_===Nr||!v.equals(I)?v.multiplyUnsafe(_):v.multiply(_),B=U(this,b).add(U(y,A));return B.is0()?void 0:B}toAffine(y){const{px:b,py:A,pz:I}=this,U=this.is0();y==null&&(y=U?n.ONE:n.inv(I));const B=n.mul(b,y),v=n.mul(A,y),_=n.mul(I,y);if(U)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:B,y:v}}isTorsionFree(){const{h:y,isTorsionFree:b}=t;if(y===Nr)return!0;if(b)return b(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:b}=t;return y===Nr?this:b?b(u,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),t.toBytes(u,this,y)}toHex(y=!0){return ea(this.toRawBytes(y))}}u.BASE=new u(t.Gx,t.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const l=t.nBitLength,d=II(u,t.endo?Math.ceil(l/2):l);return{ProjectivePoint:u,normPrivateKeyToScalar:o,weierstrassEquation:r,isWithinCurveOrder:i}}function PI(e){const t=a2(e);return ya(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function UI(e){const t=PI(e),n=t.n,r=t.Fp,i=r.BYTES+1,s=2*r.BYTES+1;function o(p){return mi<p&&p<r.ORDER}function a(p){return On(p,n)}function c(p){return z0(p,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=RI({...t,toBytes(p,w,k){const q=w.toAffine(),z=r.toBytes(q.x),X=Lr;return k?X(Uint8Array.from([w.hasEvenY()?2:3]),z):X(Uint8Array.from([4]),z,r.toBytes(q.y))},fromBytes(p){const w=p.length,k=p[0],q=p.subarray(1);if(w===i&&(k===2||k===3)){const z=ur(q);if(!o(z))throw new Error("Point is not on curve");const X=d(z);let O=r.sqrt(X);const m=(O&Nr)===Nr;return(k&1)===1!==m&&(O=r.neg(O)),{x:z,y:O}}else if(w===s&&k===4){const z=r.fromBytes(q.subarray(0,r.BYTES)),X=r.fromBytes(q.subarray(r.BYTES,2*r.BYTES));return{x:z,y:X}}else throw new Error(`Point of length ${w} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),y=p=>ea(rs(p,t.nByteLength));function b(p){const w=n>>Nr;return p>w}function A(p){return b(p)?a(-p):p}const I=(p,w,k)=>ur(p.slice(w,k));class U{constructor(w,k,q){this.r=w,this.s=k,this.recovery=q,this.assertValidity()}static fromCompact(w){const k=t.nByteLength;return w=zn("compactSignature",w,k*2),new U(I(w,0,k),I(w,k,2*k))}static fromDER(w){const{r:k,s:q}=vs.toSig(zn("DER",w));return new U(k,q)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new U(this.r,this.s,w)}recoverPublicKey(w){const{r:k,s:q,recovery:z}=this,X=F(zn("msgHash",w));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const O=z===2||z===3?k+t.n:k;if(O>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const m=z&1?"03":"02",L=u.fromHex(m+y(O)),we=c(O),T=a(-X*we),ne=a(q*we),fe=u.BASE.multiplyAndAddUnsafe(L,T,ne);if(!fe)throw new Error("point at infinify");return fe.assertValidity(),fe}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new U(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ta(this.toDERHex())}toDERHex(){return vs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ta(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const B={isValidPrivateKey(p){try{return l(p),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const p=t.randomBytes(r.BYTES+8),w=TI(p,n);return rs(w,t.nByteLength)},precompute(p=8,w=u.BASE){return w._setWindowSize(p),w.multiply(BigInt(3)),w}};function v(p,w=!0){return u.fromPrivateKey(p).toRawBytes(w)}function _(p){const w=p instanceof Uint8Array,k=typeof p=="string",q=(w||k)&&p.length;return w?q===i||q===s:k?q===2*i||q===2*s:p instanceof u}function S(p,w,k=!0){if(_(p))throw new Error("first arg must be private key");if(!_(w))throw new Error("second arg must be public key");return u.fromHex(w).multiply(l(p)).toRawBytes(k)}const $=t.bits2int||function(p){const w=ur(p),k=p.length*8-t.nBitLength;return k>0?w>>BigInt(k):w},F=t.bits2int_modN||function(p){return a($(p))},W=ah(t.nBitLength);function Y(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(mi<=p&&p<W))throw new Error(`bigint expected < 2^${t.nBitLength}`);return rs(p,t.nByteLength)}function J(p,w,k=N){if(["recovered","canonical"].some(D=>D in k))throw new Error("sign() legacy options not supported");const{hash:q,randomBytes:z}=t;let{lowS:X,prehash:O,extraEntropy:m}=k;X==null&&(X=!0),p=zn("msgHash",p),O&&(p=zn("prehashed msgHash",q(p)));const L=F(p),we=l(w),T=[Y(we),Y(L)];if(m!=null){const D=m===!0?z(r.BYTES):m;T.push(zn("extraEntropy",D,r.BYTES))}const ne=Lr(...T),fe=L;function G(D){const V=$(D);if(!h(V))return;const Z=c(V),Q=u.BASE.multiply(V).toAffine(),se=a(Q.x);if(se===mi)return;const ie=a(Z*a(fe+se*we));if(ie===mi)return;let ae=(Q.x===se?0:2)|Number(Q.y&Nr),Ce=ie;return X&&b(ie)&&(Ce=A(ie),ae^=1),new U(se,Ce,ae)}return{seed:ne,k2sig:G}}const N={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};function E(p,w,k=N){const{seed:q,k2sig:z}=J(p,w,k);return s2(t.hash.outputLen,t.nByteLength,t.hmac)(q,z)}u.BASE._setWindowSize(8);function f(p,w,k,q=H){var Q;const z=p;if(w=zn("msgHash",w),k=zn("publicKey",k),"strict"in q)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:O}=q;let m,L;try{if(typeof z=="string"||z instanceof Uint8Array)try{m=U.fromDER(z)}catch(se){if(!(se instanceof vs.Err))throw se;m=U.fromCompact(z)}else if(typeof z=="object"&&typeof z.r=="bigint"&&typeof z.s=="bigint"){const{r:se,s:ie}=z;m=new U(se,ie)}else throw new Error("PARSE");L=u.fromHex(k)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&m.hasHighS())return!1;O&&(w=t.hash(w));const{r:we,s:T}=m,ne=F(w),fe=c(T),G=a(ne*fe),D=a(we*fe),V=(Q=u.BASE.multiplyAndAddUnsafe(L,G,D))==null?void 0:Q.toAffine();return V?a(V.x)===we:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:S,sign:E,verify:f,ProjectivePoint:u,Signature:U,utils:B}}function OI(e,t){const n=e.ORDER;let r=0n;for(let h=n-1n;h%2n===0n;h/=2n)r+=1n;const i=r,s=(n-1n)/2n**i,o=(s-1n)/2n,a=2n**i-1n,c=2n**(i-1n),u=e.pow(t,s),l=e.pow(t,(s+1n)/2n);let d=(h,y)=>{let b=u,A=e.pow(y,a),I=e.sqr(A);I=e.mul(I,y);let U=e.mul(h,I);U=e.pow(U,o),U=e.mul(U,A),A=e.mul(U,y),I=e.mul(U,h);let B=e.mul(I,A);U=e.pow(B,c);let v=e.eql(U,e.ONE);A=e.mul(I,l),U=e.mul(B,b),I=e.cmov(A,I,v),B=e.cmov(U,B,v);for(let _=i;_>1;_--){let S=2n**(_-2n),$=e.pow(B,S);const F=e.eql($,e.ONE);A=e.mul(I,b),b=e.mul(b,b),$=e.mul(B,b),I=e.cmov(A,I,F),B=e.cmov($,B,F)}return{isValid:v,value:I}};if(e.ORDER%4n===3n){const h=(e.ORDER-3n)/4n,y=e.sqrt(e.neg(t));d=(b,A)=>{let I=e.sqr(A);const U=e.mul(b,A);I=e.mul(I,U);let B=e.pow(I,h);B=e.mul(B,U);const v=e.mul(B,y),_=e.mul(e.sqr(B),A),S=e.eql(_,b);let $=e.cmov(v,B,S);return{isValid:S,value:$}}}return d}function MI(e,t){if(o2(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=OI(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,u,l,d;i=e.sqr(r),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),u=e.sqr(a),c=e.mul(u,t.A),s=e.add(s,c),s=e.mul(s,o),u=e.mul(u,a),c=e.mul(u,t.B),s=e.add(s,c),l=e.mul(i,o);const{isValid:h,value:y}=n(s,u);d=e.mul(i,r),d=e.mul(d,y),l=e.cmov(l,o,h),d=e.cmov(d,y,h);const b=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,b),l=e.div(l,a),{x:l,y:d}}}function $I(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return ud(e);throw new Error("DST must be Uint8Array or string")}const NI=ur;function Ki(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function qI(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Xa(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function uh(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function DI(e,t,n,r){Xa(e),Xa(t),uh(n),t.length>255&&(t=r(Lr(ud("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(o>255)throw new Error("Invalid xmd length");const a=Lr(t,Ki(t.length,1)),c=Ki(0,s),u=Ki(n,2),l=new Array(o),d=r(Lr(c,e,u,Ki(0,1),a));l[0]=r(Lr(d,Ki(1,1),a));for(let y=1;y<=o;y++){const b=[qI(d,l[y-1]),Ki(y+1,1),a];l[y]=r(Lr(...b))}return Lr(...l).slice(0,n)}function LI(e,t,n,r,i){if(Xa(e),Xa(t),uh(n),t.length>255){const s=Math.ceil(2*r/8);t=i.create({dkLen:s}).update(ud("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(Ki(n,2)).update(t).update(Ki(t.length,1)).digest()}function ig(e,t,n){ya(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:c}=n;Xa(e),uh(t);const u=$I(c),l=r.toString(2).length,d=Math.ceil((l+i)/8),h=t*s*d;let y;if(a==="xmd")y=DI(e,u,h,o);else if(a==="xof")y=LI(e,u,h,i,o);else if(a===void 0)y=e;else throw new Error('expand must be "xmd", "xof" or undefined');const b=new Array(t);for(let A=0;A<t;A++){const I=new Array(s);for(let U=0;U<s;U++){const B=d*(U+A*s),v=y.subarray(B,B+d);I[U]=On(NI(v),r)}b[A]=I}return b}function HI(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,c]=n.map(u=>u.reduce((l,d)=>e.add(e.mul(l,r),d)));return r=e.div(s,o),i=e.mul(i,e.div(a,c)),{x:r,y:i}}}function zI(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const s=ig(r,2,{...n,DST:n.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const s=ig(r,1,{...n,DST:n.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function FI(e){return{hash:e,hmac:(t,...n)=>Jf(e,t,as.concatBytes(...n)),randomBytes:as.randomBytes}}function jI(e,t){const n=r=>UI({...e,...FI(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ld=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c2=BigInt(1),F0=BigInt(2),sg=(e,t)=>(e+t/F0)/t;function u2(e){const t=ld,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=Rr(l,n,t)*l%t,h=Rr(d,n,t)*l%t,y=Rr(h,F0,t)*u%t,b=Rr(y,i,t)*y%t,A=Rr(b,s,t)*b%t,I=Rr(A,a,t)*A%t,U=Rr(I,c,t)*I%t,B=Rr(U,a,t)*A%t,v=Rr(B,n,t)*l%t,_=Rr(v,o,t)*b%t,S=Rr(_,r,t)*u%t,$=Rr(S,F0,t);if(!cs.eql(cs.sqr($),e))throw new Error("Cannot find square root");return $}const cs=AI(ld,void 0,void 0,{sqrt:u2}),Ac=jI({a:BigInt(0),b:BigInt(7),Fp:cs,n:qu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=qu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-c2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=sg(s*e,t),c=sg(-r*e,t);let u=On(e-a*n-c*i,t),l=On(-a*r-c*s,t);const d=u>o,h=l>o;if(d&&(u=t-u),h&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:l}}}},Us),lh=BigInt(0),l2=e=>typeof e=="bigint"&&lh<e&&e<ld,GI=e=>typeof e=="bigint"&&lh<e&&e<qu,og={};function Du(e,...t){let n=og[e];if(n===void 0){const r=Us(Uint8Array.from(e,i=>i.charCodeAt(0)));n=Lr(r,r),og[e]=n}return Us(Lr(n,...t))}const dh=e=>e.toRawBytes(!0).slice(1),j0=e=>rs(e,32),Kd=e=>On(e,ld),Za=e=>On(e,qu),fh=Ac.ProjectivePoint,WI=(e,t,n)=>fh.BASE.multiplyAndAddUnsafe(e,t,n);function G0(e){let t=Ac.utils.normPrivateKeyToScalar(e),n=fh.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Za(-t),bytes:dh(n)}}function d2(e){if(!l2(e))throw new Error("bad x: need 0 < x < p");const t=Kd(e*e),n=Kd(t*e+BigInt(7));let r=u2(n);r%2n!==0n&&(r=Kd(-r));const i=new fh(e,r,c2);return i.assertValidity(),i}function f2(...e){return Za(ur(Du("BIP0340/challenge",...e)))}function VI(e){return G0(e).bytes}function KI(e,t,n=as.randomBytes(32)){const r=zn("message",e),{bytes:i,scalar:s}=G0(t),o=zn("auxRand",n,32),a=j0(s^ur(Du("BIP0340/aux",o))),c=Du("BIP0340/nonce",a,i,r),u=Za(ur(c));if(u===lh)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=G0(u),h=f2(l,i,r),y=new Uint8Array(64);if(y.set(l,0),y.set(j0(Za(d+h*s)),32),!h2(y,r,i))throw new Error("sign: Invalid signature produced");return y}function h2(e,t,n){const r=zn("signature",e,64),i=zn("message",t),s=zn("publicKey",n,32);try{const o=d2(ur(s)),a=ur(r.subarray(0,32));if(!l2(a))return!1;const c=ur(r.subarray(32,64));if(!GI(c))return!1;const u=f2(j0(a),dh(o),i),l=WI(o,c,Za(-u));return!(!l||!l.hasEvenY()||l.toAffine().x!==a)}catch{return!1}}Ac.utils.randomPrivateKey;const XI=HI(cs,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),ZI=MI(cs,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:cs.create(BigInt("-11"))});zI(Ac.ProjectivePoint,e=>{const{x:t,y:n}=ZI(cs.create(e[0]));return XI(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:cs.ORDER,m:1,k:128,expand:"xmd",hash:Us});Ac.ProjectivePoint;nc.base58check(Us);as.utf8ToBytes("Bitcoin seed");var Zc,YI=new Uint8Array(16);function p2(){if(!Zc&&(Zc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zc(YI)}const JI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dd(e){return typeof e=="string"&&JI.test(e)}var Dn=[];for(var Xd=0;Xd<256;++Xd)Dn.push((Xd+256).toString(16).substr(1));function fd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Dn[e[t+0]]+Dn[e[t+1]]+Dn[e[t+2]]+Dn[e[t+3]]+"-"+Dn[e[t+4]]+Dn[e[t+5]]+"-"+Dn[e[t+6]]+Dn[e[t+7]]+"-"+Dn[e[t+8]]+Dn[e[t+9]]+"-"+Dn[e[t+10]]+Dn[e[t+11]]+Dn[e[t+12]]+Dn[e[t+13]]+Dn[e[t+14]]+Dn[e[t+15]]).toLowerCase();if(!dd(n))throw TypeError("Stringified UUID is invalid");return n}var ag,Zd,Yd=0,Jd=0;function QI(e,t,n){var r=t&&n||0,i=t||new Array(16);e=e||{};var s=e.node||ag,o=e.clockseq!==void 0?e.clockseq:Zd;if(s==null||o==null){var a=e.random||(e.rng||p2)();s==null&&(s=ag=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Zd=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:Jd+1,l=c-Yd+(u-Jd)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>Yd)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Yd=c,Jd=u,Zd=o,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var h=c/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var y=0;y<6;++y)i[r+y]=s[y];return t||fd(i)}function g2(e){if(!dd(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function e9(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var t9="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n9="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function y2(e,t,n){function r(i,s,o,a){if(typeof i=="string"&&(i=e9(i)),typeof s=="string"&&(s=g2(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return fd(c)}try{r.name=e}catch{}return r.DNS=t9,r.URL=n9,r}function r9(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return i9(s9(o9(e),e.length*8))}function i9(e){for(var t=[],n=e.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);t.push(o)}return t}function m2(e){return(e+64>>>9<<4)+14+1}function s9(e,t){e[t>>5]|=128<<t%32,e[m2(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=n,c=r,u=i,l=s;n=Jn(n,r,i,s,e[o],7,-680876936),s=Jn(s,n,r,i,e[o+1],12,-389564586),i=Jn(i,s,n,r,e[o+2],17,606105819),r=Jn(r,i,s,n,e[o+3],22,-1044525330),n=Jn(n,r,i,s,e[o+4],7,-176418897),s=Jn(s,n,r,i,e[o+5],12,1200080426),i=Jn(i,s,n,r,e[o+6],17,-1473231341),r=Jn(r,i,s,n,e[o+7],22,-45705983),n=Jn(n,r,i,s,e[o+8],7,1770035416),s=Jn(s,n,r,i,e[o+9],12,-1958414417),i=Jn(i,s,n,r,e[o+10],17,-42063),r=Jn(r,i,s,n,e[o+11],22,-1990404162),n=Jn(n,r,i,s,e[o+12],7,1804603682),s=Jn(s,n,r,i,e[o+13],12,-40341101),i=Jn(i,s,n,r,e[o+14],17,-1502002290),r=Jn(r,i,s,n,e[o+15],22,1236535329),n=Qn(n,r,i,s,e[o+1],5,-165796510),s=Qn(s,n,r,i,e[o+6],9,-1069501632),i=Qn(i,s,n,r,e[o+11],14,643717713),r=Qn(r,i,s,n,e[o],20,-373897302),n=Qn(n,r,i,s,e[o+5],5,-701558691),s=Qn(s,n,r,i,e[o+10],9,38016083),i=Qn(i,s,n,r,e[o+15],14,-660478335),r=Qn(r,i,s,n,e[o+4],20,-405537848),n=Qn(n,r,i,s,e[o+9],5,568446438),s=Qn(s,n,r,i,e[o+14],9,-1019803690),i=Qn(i,s,n,r,e[o+3],14,-187363961),r=Qn(r,i,s,n,e[o+8],20,1163531501),n=Qn(n,r,i,s,e[o+13],5,-1444681467),s=Qn(s,n,r,i,e[o+2],9,-51403784),i=Qn(i,s,n,r,e[o+7],14,1735328473),r=Qn(r,i,s,n,e[o+12],20,-1926607734),n=er(n,r,i,s,e[o+5],4,-378558),s=er(s,n,r,i,e[o+8],11,-2022574463),i=er(i,s,n,r,e[o+11],16,1839030562),r=er(r,i,s,n,e[o+14],23,-35309556),n=er(n,r,i,s,e[o+1],4,-1530992060),s=er(s,n,r,i,e[o+4],11,1272893353),i=er(i,s,n,r,e[o+7],16,-155497632),r=er(r,i,s,n,e[o+10],23,-1094730640),n=er(n,r,i,s,e[o+13],4,681279174),s=er(s,n,r,i,e[o],11,-358537222),i=er(i,s,n,r,e[o+3],16,-722521979),r=er(r,i,s,n,e[o+6],23,76029189),n=er(n,r,i,s,e[o+9],4,-640364487),s=er(s,n,r,i,e[o+12],11,-421815835),i=er(i,s,n,r,e[o+15],16,530742520),r=er(r,i,s,n,e[o+2],23,-995338651),n=tr(n,r,i,s,e[o],6,-198630844),s=tr(s,n,r,i,e[o+7],10,1126891415),i=tr(i,s,n,r,e[o+14],15,-1416354905),r=tr(r,i,s,n,e[o+5],21,-57434055),n=tr(n,r,i,s,e[o+12],6,1700485571),s=tr(s,n,r,i,e[o+3],10,-1894986606),i=tr(i,s,n,r,e[o+10],15,-1051523),r=tr(r,i,s,n,e[o+1],21,-2054922799),n=tr(n,r,i,s,e[o+8],6,1873313359),s=tr(s,n,r,i,e[o+15],10,-30611744),i=tr(i,s,n,r,e[o+6],15,-1560198380),r=tr(r,i,s,n,e[o+13],21,1309151649),n=tr(n,r,i,s,e[o+4],6,-145523070),s=tr(s,n,r,i,e[o+11],10,-1120210379),i=tr(i,s,n,r,e[o+2],15,718787259),r=tr(r,i,s,n,e[o+9],21,-343485551),n=Qi(n,a),r=Qi(r,c),i=Qi(i,u),s=Qi(s,l)}return[n,r,i,s]}function o9(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(m2(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Qi(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function a9(e,t){return e<<t|e>>>32-t}function hd(e,t,n,r,i,s){return Qi(a9(Qi(Qi(t,e),Qi(r,s)),i),n)}function Jn(e,t,n,r,i,s,o){return hd(t&n|~t&r,e,t,i,s,o)}function Qn(e,t,n,r,i,s,o){return hd(t&r|n&~r,e,t,i,s,o)}function er(e,t,n,r,i,s,o){return hd(t^n^r,e,t,i,s,o)}function tr(e,t,n,r,i,s,o){return hd(n^(t|~r),e,t,i,s,o)}var c9=y2("v3",48,r9);const u9=c9;function l9(e,t,n){e=e||{};var r=e.random||(e.rng||p2)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return fd(r)}function d9(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Qd(e,t){return e<<t|e>>>32-t}function f9(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=a[d][y];for(var b=16;b<80;++b)h[b]=Qd(h[b-3]^h[b-8]^h[b-14]^h[b-16],1);for(var A=n[0],I=n[1],U=n[2],B=n[3],v=n[4],_=0;_<80;++_){var S=Math.floor(_/20),$=Qd(A,5)+d9(S,I,U,B)+v+t[S]+h[_]>>>0;v=B,B=U,U=Qd(I,30)>>>0,I=A,A=$}n[0]=n[0]+A>>>0,n[1]=n[1]+I>>>0,n[2]=n[2]+U>>>0,n[3]=n[3]+B>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var h9=y2("v5",80,f9);const p9=h9,g9="00000000-0000-0000-0000-000000000000";function y9(e){if(!dd(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const m9=Object.freeze(Object.defineProperty({__proto__:null,NIL:g9,parse:g2,stringify:fd,v1:QI,v3:u9,v4:l9,v5:p9,validate:dd,version:y9},Symbol.toStringTag,{value:"Module"})),w2=Qa(m9),w9=w2.v4,_9=function(e,t,n,r){if(typeof e!="string")throw new TypeError(e+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:e};if(i===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return w9()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var b9=_9;const v9=w2.v4,x9=b9,Ya=function(e,t){if(!(this instanceof Ya))return new Ya(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return v9()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var S9=Ya;Ya.prototype.request=function(e,t,n,r){const i=this;let s=null;const o=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&typeof e=="object"&&typeof t=="function")r=t,s=e;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=x9(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,r)}),s};Ya.prototype._parseResponse=function(e,t,n){if(e){n(e);return}if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var Lu={},A9={get exports(){return Lu},set exports(e){Lu=e}};(function(e,t){var n=typeof self<"u"?self:Zi,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(f){return f&&u.indexOf(Object.prototype.toString.call(f))>-1};function d(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function h(f){return typeof f!="string"&&(f=String(f)),f}function y(f){var p={next:function(){var w=f.shift();return{done:w===void 0,value:w}}};return a.iterable&&(p[Symbol.iterator]=function(){return p}),p}function b(f){this.map={},f instanceof b?f.forEach(function(p,w){this.append(w,p)},this):Array.isArray(f)?f.forEach(function(p){this.append(p[0],p[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(p){this.append(p,f[p])},this)}b.prototype.append=function(f,p){f=d(f),p=h(p);var w=this.map[f];this.map[f]=w?w+", "+p:p},b.prototype.delete=function(f){delete this.map[d(f)]},b.prototype.get=function(f){return f=d(f),this.has(f)?this.map[f]:null},b.prototype.has=function(f){return this.map.hasOwnProperty(d(f))},b.prototype.set=function(f,p){this.map[d(f)]=h(p)},b.prototype.forEach=function(f,p){for(var w in this.map)this.map.hasOwnProperty(w)&&f.call(p,this.map[w],w,this)},b.prototype.keys=function(){var f=[];return this.forEach(function(p,w){f.push(w)}),y(f)},b.prototype.values=function(){var f=[];return this.forEach(function(p){f.push(p)}),y(f)},b.prototype.entries=function(){var f=[];return this.forEach(function(p,w){f.push([w,p])}),y(f)},a.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function A(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function I(f){return new Promise(function(p,w){f.onload=function(){p(f.result)},f.onerror=function(){w(f.error)}})}function U(f){var p=new FileReader,w=I(p);return p.readAsArrayBuffer(f),w}function B(f){var p=new FileReader,w=I(p);return p.readAsText(f),w}function v(f){for(var p=new Uint8Array(f),w=new Array(p.length),k=0;k<p.length;k++)w[k]=String.fromCharCode(p[k]);return w.join("")}function _(f){if(f.slice)return f.slice(0);var p=new Uint8Array(f.byteLength);return p.set(new Uint8Array(f)),p.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&c(f)?(this._bodyArrayBuffer=_(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||l(f))?this._bodyArrayBuffer=_(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=A(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(U)}),this.text=function(){var f=A(this);if(f)return f;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(f){var p=f.toUpperCase();return $.indexOf(p)>-1?p:f}function W(f,p){p=p||{};var w=p.body;if(f instanceof W){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,p.headers||(this.headers=new b(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!w&&f._bodyInit!=null&&(w=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new b(p.headers)),this.method=F(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(w)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function Y(f){var p=new FormData;return f.trim().split("&").forEach(function(w){if(w){var k=w.split("="),q=k.shift().replace(/\+/g," "),z=k.join("=").replace(/\+/g," ");p.append(decodeURIComponent(q),decodeURIComponent(z))}}),p}function J(f){var p=new b,w=f.replace(/\r?\n[\t ]+/g," ");return w.split(/\r?\n/).forEach(function(k){var q=k.split(":"),z=q.shift().trim();if(z){var X=q.join(":").trim();p.append(z,X)}}),p}S.call(W.prototype);function N(f,p){p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new b(p.headers),this.url=p.url||"",this._initBody(f)}S.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},N.error=function(){var f=new N(null,{status:0,statusText:""});return f.type="error",f};var H=[301,302,303,307,308];N.redirect=function(f,p){if(H.indexOf(p)===-1)throw new RangeError("Invalid status code");return new N(null,{status:p,headers:{location:f}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(p,w){this.message=p,this.name=w;var k=Error(p);this.stack=k.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function E(f,p){return new Promise(function(w,k){var q=new W(f,p);if(q.signal&&q.signal.aborted)return k(new o.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function X(){z.abort()}z.onload=function(){var O={status:z.status,statusText:z.statusText,headers:J(z.getAllResponseHeaders()||"")};O.url="responseURL"in z?z.responseURL:O.headers.get("X-Request-URL");var m="response"in z?z.response:z.responseText;w(new N(m,O))},z.onerror=function(){k(new TypeError("Network request failed"))},z.ontimeout=function(){k(new TypeError("Network request failed"))},z.onabort=function(){k(new o.DOMException("Aborted","AbortError"))},z.open(q.method,q.url,!0),q.credentials==="include"?z.withCredentials=!0:q.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&a.blob&&(z.responseType="blob"),q.headers.forEach(function(O,m){z.setRequestHeader(m,O)}),q.signal&&(q.signal.addEventListener("abort",X),z.onreadystatechange=function(){z.readyState===4&&q.signal.removeEventListener("abort",X)}),z.send(typeof q._bodyInit>"u"?null:q._bodyInit)})}return E.polyfill=!0,s.fetch||(s.fetch=E,s.Headers=b,s.Request=W,s.Response=N),o.Headers=b,o.Request=W,o.Response=N,o.fetch=E,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(A9,Lu);const _2=Vg(Lu);class T9 extends TypeError{constructor(t,n){let r;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function E9(e){return Fr(e)&&typeof e[Symbol.iterator]=="function"}function Fr(e){return typeof e=="object"&&e!=null}function Qr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function I9(e){const{done:t,value:n}=e.next();return t?void 0:n}function B9(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Qr(r)}\``}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*cg(e,t,n,r){E9(e)||(e=[e]);for(const i of e){const s=B9(i,t,n,r);s&&(yield s)}}function*hh(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&Fr(t.schema)&&Fr(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of t.entries(e,a)){const h=hh(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:n.message});for(const y of h)y[0]?(c=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):s&&(l=y[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Fr(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class hi{constructor(t){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return cg(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return cg(l,u,this,c)}:this.refiner=()=>[]}assert(t,n){return k9(t,this,n)}create(t,n){return C9(t,this,n)}is(t){return Ar(t,this)}mask(t,n){return R9(t,this,n)}validate(t,n={}){return ma(t,this,n)}}function k9(e,t,n){const r=ma(e,t,{message:n});if(r[0])throw r[0]}function C9(e,t,n){const r=ma(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function R9(e,t,n){const r=ma(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Ar(e,t){return!ma(e,t)[0]}function ma(e,t,n={}){const r=hh(e,t,n),i=I9(r);return i[0]?[new T9(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function W0(...e){const t=e[0].type==="type",n=e.map(i=>i.schema),r=Object.assign({},...n);return t?P9(r):re(r)}function Ti(e,t){return new hi({type:e,schema:null,validator:t})}function us(){return Ti("any",()=>!0)}function Se(e){return new hi({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Qr(t)}`}})}function b2(){return Ti("bigint",e=>typeof e=="bigint")}function xi(){return Ti("boolean",e=>typeof e=="boolean")}function Ut(e){const t=Qr(e),n=typeof e;return new hi({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Qr(r)}`}})}function v2(){return Ti("never",()=>!1)}function Is(e){return new hi({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function he(){return Ti("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Qr(e)}`)}function re(e){const t=e?Object.keys(e):[],n=v2();return new hi({type:"object",schema:e||null,*entries(r){if(e&&Fr(r)){const i=new Set(Object.keys(r));for(const s of t)i.delete(s),yield[s,r[s],e[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return Fr(r)||`Expected an object, but received: ${Qr(r)}`},coercer(r){return Fr(r)?{...r}:r}})}function rt(e){return new hi({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function na(e,t){return new hi({type:"record",schema:null,*entries(n){if(Fr(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return Fr(n)||`Expected an object, but received: ${Qr(n)}`}})}function de(){return Ti("string",e=>typeof e=="string"||`Expected a string, but received: ${Qr(e)}`)}function wa(e){const t=v2();return new hi({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Qr(n)}`}})}function P9(e){const t=Object.keys(e);return new hi({type:"type",schema:e,*entries(n){if(Fr(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Fr(n)||`Expected an object, but received: ${Qr(n)}`},coercer(n){return Fr(n)?{...n}:n}})}function pt(e){const t=e.map(n=>n.type).join(" | ");return new hi({type:"union",schema:null,coercer(n){for(const r of e){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of e){const[...o]=hh(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Qr(n)}`,...i]}})}function x2(){return Ti("unknown",()=>!0)}function S2(e){return/^\d+\.\d+\.\d+$/.test(e)}function ei(e){if(!S2(e))throw new Error("Invalid semver version: "+e);const[t,n,r]=e.split(".").map(i=>parseInt(i,10));return{major:t,minor:n,patch:r}}function U9(e,t){const n=ei(e),r=ei(t);return n.major!==r.major?n.major<r.major:n.minor!==r.minor?n.minor<r.minor:n.patch!==r.patch?n.patch<r.patch:!1}function O9(e,t){const n=ei(e),r=ei(t);return n.major!==r.major?n.major<=r.major:n.minor!==r.minor?n.minor<=r.minor:n.patch!==r.patch?n.patch<=r.patch:!0}function M9(e,t){const n=ei(e),r=ei(t);return n.major!==r.major?n.major>r.major:n.minor!==r.minor?n.minor>r.minor:n.patch!==r.patch?n.patch>r.patch:!1}function $9(e,t){const n=ei(e),r=ei(t);return n.major!==r.major?n.major>=r.major:n.minor!==r.minor?n.minor>=r.minor:n.patch!==r.patch?n.patch>=r.patch:!0}function N9(e,t){return ei(e),ei(t),e===t}var q9={isValid:S2,parse:ei,lt:U9,lte:O9,gt:M9,gte:$9,eq:N9},ph={},Ja={},D9={get exports(){return Ja},set exports(e){Ja=e}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(D9);var Hu={},L9={get exports(){return Hu},set exports(e){Hu=e}},zu={},H9={get exports(){return zu},set exports(e){zu=e}},Fu={},z9={get exports(){return Fu},set exports(e){Fu=e}},ug;function F9(){return ug||(ug=1,function(e){var t=nl.default;function n(r,i){if(t(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(t(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(z9)),Fu}var lg;function j9(){return lg||(lg=1,function(e){var t=nl.default,n=F9();function r(i){var s=n(i,"string");return t(s)==="symbol"?s:String(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(H9)),zu}var dg;function gh(){return dg||(dg=1,function(e){var t=j9();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,t(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(L9)),Hu}var ju={},G9={get exports(){return ju},set exports(e){ju=e}},fg;function yh(){return fg||(fg=1,function(e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(G9)),ju}var Gu={},W9={get exports(){return Gu},set exports(e){Gu=e}},Wu={},V9={get exports(){return Wu},set exports(e){Wu=e}},hg;function K9(){return hg||(hg=1,function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(V9)),Wu}var pg;function mh(){return pg||(pg=1,function(e){var t=K9();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&t(r,i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(W9)),Gu}var Vu={},X9={get exports(){return Vu},set exports(e){Vu=e}},Ku={},Z9={get exports(){return Ku},set exports(e){Ku=e}},gg;function Y9(){return gg||(gg=1,function(e){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Z9)),Ku}var yg;function wh(){return yg||(yg=1,function(e){var t=nl.default,n=Y9();function r(i,s){if(s&&(t(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(X9)),Vu}var Xu={},J9={get exports(){return Xu},set exports(e){Xu=e}},mg;function _h(){return mg||(mg=1,function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(J9)),Xu}var e0={},Zu={},Q9={get exports(){return Zu},set exports(e){Zu=e}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,d,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var y=new i(l,d||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],y]:c._events[b].push(y):(c._events[b]=y,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)t.call(l,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,b=new Array(y);h<y;h++)b[h]=d[h].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,h,y,b){var A=n?n+u:u;if(!this._events[A])return!1;var I=this._events[A],U=arguments.length,B,v;if(I.fn){switch(I.once&&this.removeListener(u,I.fn,void 0,!0),U){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,l),!0;case 3:return I.fn.call(I.context,l,d),!0;case 4:return I.fn.call(I.context,l,d,h),!0;case 5:return I.fn.call(I.context,l,d,h,y),!0;case 6:return I.fn.call(I.context,l,d,h,y,b),!0}for(v=1,B=new Array(U-1);v<U;v++)B[v-1]=arguments[v];I.fn.apply(I.context,B)}else{var _=I.length,S;for(v=0;v<_;v++)switch(I[v].once&&this.removeListener(u,I[v].fn,void 0,!0),U){case 1:I[v].fn.call(I[v].context);break;case 2:I[v].fn.call(I[v].context,l);break;case 3:I[v].fn.call(I[v].context,l,d);break;case 4:I[v].fn.call(I[v].context,l,d,h);break;default:if(!B)for(S=1,B=new Array(U-1);S<U;S++)B[S-1]=arguments[S];I[v].fn.apply(I[v].context,B)}}return!0},a.prototype.on=function(u,l,d){return s(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return s(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,h){var y=n?n+u:u;if(!this._events[y])return this;if(!l)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===l&&(!h||b.once)&&(!d||b.context===d)&&o(this,y);else{for(var A=0,I=[],U=b.length;A<U;A++)(b[A].fn!==l||h&&!b[A].once||d&&b[A].context!==d)&&I.push(b[A]);I.length?this._events[y]=I.length===1?I[0]:I:o(this,y)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Q9);var wg;function eB(){return wg||(wg=1,function(e){var t=Ja;Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var n=t(yh()),r=t(gh()),i=t(mh()),s=t(wh()),o=t(_h()),a=Zu;function c(h){var y=u();return function(){var A=(0,o.default)(h),I;if(y){var U=(0,o.default)(this).constructor;I=Reflect.construct(A,arguments,U)}else I=A.apply(this,arguments);return(0,s.default)(this,I)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(h){(0,i.default)(b,h);var y=c(b);function b(A,I,U){var B;return(0,n.default)(this,b),B=y.call(this),B.socket=new window.WebSocket(A,U),B.socket.onopen=function(){return B.emit("open")},B.socket.onmessage=function(v){return B.emit("message",v.data)},B.socket.onerror=function(v){return B.emit("error",v)},B.socket.onclose=function(v){B.emit("close",v.code,v.reason)},B}return(0,r.default)(b,[{key:"send",value:function(I,U,B){var v=B||U;try{this.socket.send(I),v()}catch(_){v(_)}}},{key:"close",value:function(I,U){this.socket.close(I,U)}},{key:"addEventListener",value:function(I,U,B){this.socket.addEventListener(I,U,B)}}]),b}(a.EventEmitter);function d(h,y){return new l(h,y)}}(e0)),e0}var t0={},Yu={},tB={get exports(){return Yu},set exports(e){Yu=e}},_g;function nB(){return _g||(_g=1,function(e){function t(r,i,s,o,a,c,u){try{var l=r[c](u),d=l.value}catch(h){s(h);return}l.done?i(d):Promise.resolve(d).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var c=r.apply(i,s);function u(d){t(c,o,a,u,l,"next",d)}function l(d){t(c,o,a,u,l,"throw",d)}u(void 0)})}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(tB)),Yu}var bg;function rB(){return bg||(bg=1,function(e){var t=Ja;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(i_),r=t(nB()),i=t(nl),s=t(yh()),o=t(gh()),a=t(mh()),c=t(wh()),u=t(_h()),l=Zu;function d(A){var I=h();return function(){var B=(0,u.default)(A),v;if(I){var _=(0,u.default)(this).constructor;v=Reflect.construct(B,arguments,_)}else v=B.apply(this,arguments);return(0,c.default)(this,v)}}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var y=function(A,I){var U={};for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&I.indexOf(B)<0&&(U[B]=A[B]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,B=Object.getOwnPropertySymbols(A);v<B.length;v++)I.indexOf(B[v])<0&&Object.prototype.propertyIsEnumerable.call(A,B[v])&&(U[B[v]]=A[B[v]]);return U},b=function(A){(0,a.default)(U,A);var I=d(U);function U(B){var v,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,U);var F=S.autoconnect,W=F===void 0?!0:F,Y=S.reconnect,J=Y===void 0?!0:Y,N=S.reconnect_interval,H=N===void 0?1e3:N,E=S.max_reconnects,f=E===void 0?5:E,p=y(S,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return v=I.call(this),v.webSocketFactory=B,v.queue={},v.rpc_id=0,v.address=_,v.autoconnect=W,v.ready=!1,v.reconnect=J,v.reconnect_timer_id=void 0,v.reconnect_interval=H,v.max_reconnects=f,v.rest_options=p,v.current_reconnects=0,v.generate_request_id=$||function(){return++v.rpc_id},v.autoconnect&&v._connect(v.address,Object.assign({autoconnect:v.autoconnect,reconnect:v.reconnect,reconnect_interval:v.reconnect_interval,max_reconnects:v.max_reconnects},v.rest_options)),v}return(0,o.default)(U,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(v,_,S,$){var F=this;return!$&&(0,i.default)(S)==="object"&&($=S,S=null),new Promise(function(W,Y){if(!F.ready)return Y(new Error("socket not ready"));var J=F.generate_request_id(v,_),N={jsonrpc:"2.0",method:v,params:_||null,id:J};F.socket.send(JSON.stringify(N),$,function(H){if(H)return Y(H);F.queue[J]={promise:[W,Y]},S&&(F.queue[J].timeout=setTimeout(function(){delete F.queue[J],Y(new Error("reply timeout"))},S))})})}},{key:"login",value:function(){var B=(0,r.default)(n.default.mark(function _(S){var $;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.call("rpc.login",S);case 2:if($=W.sent,$){W.next=5;break}throw new Error("authentication failed");case 5:return W.abrupt("return",$);case 6:case"end":return W.stop()}},_,this)}));function v(_){return B.apply(this,arguments)}return v}()},{key:"listMethods",value:function(){var B=(0,r.default)(n.default.mark(function _(){return n.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,this.call("__listMethods");case 2:return $.abrupt("return",$.sent);case 3:case"end":return $.stop()}},_,this)}));function v(){return B.apply(this,arguments)}return v}()},{key:"notify",value:function(v,_){var S=this;return new Promise(function($,F){if(!S.ready)return F(new Error("socket not ready"));var W={jsonrpc:"2.0",method:v,params:_||null};S.socket.send(JSON.stringify(W),function(Y){if(Y)return F(Y);$()})})}},{key:"subscribe",value:function(){var B=(0,r.default)(n.default.mark(function _(S){var $;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof S=="string"&&(S=[S]),W.next=3,this.call("rpc.on",S);case 3:if($=W.sent,!(typeof S=="string"&&$[S]!=="ok")){W.next=6;break}throw new Error("Failed subscribing to an event '"+S+"' with: "+$[S]);case 6:return W.abrupt("return",$);case 7:case"end":return W.stop()}},_,this)}));function v(_){return B.apply(this,arguments)}return v}()},{key:"unsubscribe",value:function(){var B=(0,r.default)(n.default.mark(function _(S){var $;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof S=="string"&&(S=[S]),W.next=3,this.call("rpc.off",S);case 3:if($=W.sent,!(typeof S=="string"&&$[S]!=="ok")){W.next=6;break}throw new Error("Failed unsubscribing from an event with: "+$);case 6:return W.abrupt("return",$);case 7:case"end":return W.stop()}},_,this)}));function v(_){return B.apply(this,arguments)}return v}()},{key:"close",value:function(v,_){this.socket.close(v||1e3,_)}},{key:"_connect",value:function(v,_){var S=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(v,_),this.socket.addEventListener("open",function(){S.ready=!0,S.emit("open"),S.current_reconnects=0}),this.socket.addEventListener("message",function($){var F=$.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&S.listeners(F.notification).length){if(!Object.keys(F.params).length)return S.emit(F.notification);var W=[F.notification];if(F.params.constructor===Object)W.push(F.params);else for(var Y=0;Y<F.params.length;Y++)W.push(F.params[Y]);return Promise.resolve().then(function(){S.emit.apply(S,W)})}if(!S.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){S.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&S.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),S.queue[F.id].timeout&&clearTimeout(S.queue[F.id].timeout),F.error?S.queue[F.id].promise[1](F.error):S.queue[F.id].promise[0](F.result),delete S.queue[F.id]}),this.socket.addEventListener("error",function($){return S.emit("error",$)}),this.socket.addEventListener("close",function($){var F=$.code,W=$.reason;S.ready&&setTimeout(function(){return S.emit("close",F,W)},0),S.ready=!1,S.socket=void 0,F!==1e3&&(S.current_reconnects++,S.reconnect&&(S.max_reconnects>S.current_reconnects||S.max_reconnects===0)&&(S.reconnect_timer_id=setTimeout(function(){return S._connect(v,_)},S.reconnect_interval)))})}}]),U}(l.EventEmitter);e.default=b}(t0)),t0}var Ys=Ja;Object.defineProperty(ph,"__esModule",{value:!0});var A2=ph.Client=void 0,iB=Ys(gh()),sB=Ys(yh()),oB=Ys(mh()),aB=Ys(wh()),vg=Ys(_h()),cB=Ys(eB()),uB=Ys(rB());function lB(e){var t=dB();return function(){var r=(0,vg.default)(e),i;if(t){var s=(0,vg.default)(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return(0,aB.default)(this,i)}}function dB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var fB=function(e){(0,oB.default)(n,e);var t=lB(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.autoconnect,o=s===void 0?!0:s,a=i.reconnect,c=a===void 0?!0:a,u=i.reconnect_interval,l=u===void 0?1e3:u,d=i.max_reconnects,h=d===void 0?5:d,y=arguments.length>2?arguments[2]:void 0;return(0,sB.default)(this,n),t.call(this,cB.default,r,{autoconnect:o,reconnect:c,reconnect_interval:l,max_reconnects:h},y)}return(0,iB.default)(n)}(uB.default);A2=ph.Client=fB;var hB=Object.defineProperty,pB=Object.defineProperties,gB=Object.getOwnPropertyDescriptors,xg=Object.getOwnPropertySymbols,yB=Object.prototype.hasOwnProperty,mB=Object.prototype.propertyIsEnumerable,Sg=(e,t,n)=>t in e?hB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Os=(e,t)=>{for(var n in t||(t={}))yB.call(t,n)&&Sg(e,n,t[n]);if(xg)for(var n of xg(t))mB.call(t,n)&&Sg(e,n,t[n]);return e},bh=(e,t)=>pB(e,gB(t)),T2=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Yc=(e,t,n)=>(T2(e,t,"read from private field"),n?n.call(e):t.get(e)),wB=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},_B=(e,t,n,r)=>(T2(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Be=(e,t,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(e,t)).next())});po.hmacSha256Sync=(e,...t)=>{const n=Jf.create(Us,e);return t.forEach(r=>n.update(r)),n.digest()};var bB=class{},vB="0.29.1",Ag="The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server. Please update your SDK version to the latest. ",n0=re({jsonrpc:Ut("2.0"),id:de(),result:us()}),E2=re({jsonrpc:Ut("2.0"),id:de(),error:re({code:us(),message:de(),data:rt(us())})}),xB=class{constructor(e,t){this.rpcClient=new S9((n,r)=>Be(this,null,function*(){const i={method:"POST",body:n,headers:Os({"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":vB,"Client-Target-Api-Version":KC},t)};try{let s=yield _2(e,i);const o=yield s.text();if(s.ok)r(null,o);else{const a=s.headers.get("content-type")==="text/html";r(new Error(`${s.status} ${s.statusText}${a?"":`: ${o}`}`))}}catch(s){s instanceof Error&&r(s)}}),{})}requestWithType(e,t,n,r=!1){return Be(this,null,function*(){const i=yield this.request(e,t);if(Ar(i,E2))throw new Error(`RPC Error: ${i.error.message}`);if(Ar(i,n0)){const s=ma(i.result,n)[0],o=Ag+`Result received was: ${JSON.stringify(i.result)}. Debug info: ${s}`;if(r&&s)return console.warn(o),i.result;if(s)throw new Error(`RPC Error: ${o}`);return i.result}throw new Error(`Unexpected RPC Response: ${i}`)})}request(e,t){return Be(this,null,function*(){return new Promise((n,r)=>{this.rpcClient.request(e,t,(i,s)=>{if(i){r(i);return}n(s)})})})}batchRequestWithType(e,t,n=!1){return Be(this,null,function*(){const r=yield this.batchRequest(e),i=r.filter(s=>Ar(s,n0)&&(n||Ar(s.result,t)));if(r.length>i.length){console.warn(`Batch request contains invalid responses. ${r.length-i.length} of the ${r.length} requests has invalid schema.`);const s=r.find(a=>!Ar(a.result,t)),o=r.findIndex(a=>!Ar(a,n0));s&&console.warn(Ag+`One example mismatch is: ${JSON.stringify(s.result)}`),o!==-1&&console.warn(`The request ${JSON.stringify(e[o])} within a batch request returns an invalid response ${JSON.stringify(r[o])}`)}return i.map(s=>s.result)})}batchRequest(e){return Be(this,null,function*(){return new Promise((t,n)=>{e.length===0&&t([]);const r=e.map(i=>this.rpcClient.request(i.method,i.args));this.rpcClient.request(r,(i,s)=>{if(i){n(i);return}t(s)})})})}},pr=de(),SB=de(),Rn=de(),An=de(),Tc=he(),_a=pt([re({AddressOwner:An}),re({ObjectOwner:An}),re({Shared:re({initial_shared_version:he()})}),Ut("Immutable")]),AB=x2(),TB=32;function Tg(e){try{return Yf(e).length===TB}catch{return!1}}var I2=20;function gi(e){return EB(e)&&IB(e)===I2}function Jc(e){return gi(e)}function ci(e,t=!1){let n=e.toLowerCase();return!t&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(I2*2,"0")}`}function es(e,t=!1){return ci(e,t)}function EB(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}function IB(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}pt([Ut("moveObject"),Ut("package")]);var dr=re({digest:pr,objectId:de(),version:he()}),BB=re({payment:dr,owner:de(),price:he(),budget:he()}),kB=W0(dr,re({type:de(),owner:_a,previousTransaction:pr})),CB=na(de(),us()),RB=na(de(),de()),PB=re({type:de(),fields:CB,has_public_transfer:rt(xi())}),B2=re({disassembled:RB}),UB=pt([W0(PB,re({dataType:Ut("moveObject")})),W0(B2,re({dataType:Ut("package")}))]);BigInt(1e9);var is=re({data:UB,owner:_a,previousTransaction:pr,storageRebate:he(),reference:dr}),OB=pt([Ut("Exists"),Ut("NotExists"),Ut("Deleted")]),MB=Se(kB),r0=re({status:OB,details:pt([is,Rn,dr])});function Ec(e){return e.status!=="Exists"?void 0:e.details}function $B(e){return e.status!=="Deleted"?void 0:e.details}function NB(e){return e.status!=="NotExists"?void 0:e.details}function vh(e){var t;return((t=Ec(e))==null?void 0:t.reference)||$B(e)}function pd(e){var t,n;return"objectId"in e?e.objectId:(n=(t=vh(e))==null?void 0:t.objectId)!=null?n:NB(e)}function k2(e){var t;return(t=Ec(e))==null?void 0:t.previousTransaction}function qB(e){var t;return(t=Ec(e))==null?void 0:t.owner}function DB(e){const t=qB(e);if(typeof t=="object"&&"Shared"in t)return t.Shared.initial_shared_version}function xh(e){var t;return(t=C2(e))==null?void 0:t.type}function gd(e){var t;return"fields"in e?e.fields:(t=C2(e))==null?void 0:t.fields}function C2(e){const t="data"in e?e:Ec(e);if((t==null?void 0:t.data.dataType)==="moveObject")return t.data}var LB=pt([Ut("Gas"),Ut("Pay"),Ut("Receive")]),HB=re({packageId:Rn,transactionModule:de(),sender:An,type:de(),fields:na(de(),us()),bcs:de()}),zB=re({sender:An,packageId:Rn,version:rt(he()),digest:rt(de())}),FB=re({packageId:Rn,transactionModule:de(),sender:An,owner:_a,changeType:LB,coinType:de(),coinObjectId:Rn,version:Tc,amount:he()}),jB=re({packageId:Rn,transactionModule:de(),sender:An,recipient:_a,objectType:de(),objectId:Rn,version:Tc}),GB=re({packageId:Rn,transactionModule:de(),sender:An,objectType:de(),objectId:Rn,version:Tc}),WB=re({packageId:Rn,transactionModule:de(),sender:An,objectId:Rn,version:Tc}),VB=re({packageId:Rn,transactionModule:de(),sender:An,recipient:_a,objectType:de(),objectId:Rn,version:Tc}),KB=pt([b2(),he()]),XB=pt([b2(),he()]),R2=pt([re({moveEvent:HB}),re({publish:zB}),re({coinBalanceChange:FB}),re({transferObject:jB}),re({mutateObject:GB}),re({deleteObject:WB}),re({newObject:VB}),re({epochChange:KB}),re({checkpoint:XB})]),P2=re({txDigest:pr,eventSeq:he()}),U2=re({timestamp:he(),txDigest:pr,id:P2,event:R2}),ZB=re({data:Se(U2),nextCursor:pt([P2,Ut(null)])}),YB=he(),JB=re({subscription:YB,result:U2}),Sh=he(),QB=re({recipient:An,objectRef:dr}),ek=re({recipient:An,amount:pt([he(),Ut(null)])}),tk=re({epoch:Sh,storage_charge:he(),computation_charge:he(),storage_rebate:rt(he()),epoch_start_timestamp_ms:rt(he())}),nk=re({checkpoint_start_timestamp_ms:he()}),rk=re({coins:Se(dr),recipients:Se(An),amounts:Se(he())}),ik=re({coins:Se(dr),recipients:Se(An),amounts:Se(he())}),sk=re({coins:Se(dr),recipient:An}),ok=re({package:de(),module:de(),function:de(),typeArguments:rt(Se(de())),arguments:rt(Se(AB))}),ak=re({objects:Se(Rn)}),ck=pt([re({TransferObject:QB}),re({Publish:B2}),re({Call:ok}),re({TransferSui:ek}),re({ChangeEpoch:tk}),re({ConsensusCommitPrologue:nk}),re({Pay:rk}),re({PaySui:ik}),re({PayAllSui:sk}),re({Genesis:ak})]),O2=re({transactions:Se(ck),sender:An,gasData:BB}),Eg=de(),uk=pt([Eg,Se(Eg)]),Ah=re({epoch:Sh,signature:uk,signers_map:Se(he())}),V0=re({transactionDigest:pr,data:O2,txSignatures:Se(de()),authSignInfo:Ah}),lk=re({computationCost:he(),storageCost:he(),storageRebate:he()}),dk=pt([Ut("success"),Ut("failure")]),fk=re({status:dk,error:rt(de())}),Qc=re({owner:_a,reference:dr}),Ic=re({status:fk,executedEpoch:rt(Sh),gasUsed:lk,sharedObjects:rt(Se(dr)),transactionDigest:pr,created:rt(Se(Qc)),mutated:rt(Se(Qc)),unwrapped:rt(Se(Qc)),deleted:rt(Se(dr)),unwrapped_then_deleted:rt(Se(dr)),wrapped:rt(Se(dr)),gasObject:Qc,events:rt(Se(R2)),dependencies:rt(Se(pr))}),hk=wa([Se(he()),de()]),pk=wa([he(),Se(he()),de()]),gk=re({mutableReferenceOutputs:rt(Se(pk)),returnValues:rt(Se(hk))}),yk=wa([he(),gk]),mk=pt([re({Ok:Se(yk)}),re({Err:de()})]),wk=re({effects:Ic,results:mk}),_k=re({transactionEffectsDigest:de(),authSignInfo:Ah,effects:Ic}),bk=pt([re({certified:Ah}),re({checkpointed:wa([he(),he()])})]),vk=re({transactionEffectsDigest:de(),effects:Ic,finalityInfo:bk}),xk=Se(pr),i0=re({data:Se(pr),nextCursor:pt([pr,Ut(null)])}),Sk=de();re({txBytes:de(),gas:dr,inputObjects:x2()});var Ak=re({updatedCoin:is,updatedGas:is}),Tk=re({updatedCoin:is,newCoins:Se(is),updatedGas:is}),Ek=re({digest:de(),objectId:de(),version:he()}),Ik=re({createdObjects:Se(is),package:Ek,updatedGas:is}),Bk=pt([re({SplitCoin:Tk}),re({MergeCoin:Ak}),re({Publish:Ik})]),kk=re({data:O2,txSignatures:Se(de())}),K0=re({transaction:rt(kk),certificate:rt(V0),effects:Ic,timestamp_ms:rt(pt([he(),Ut(null)])),timestampMs:rt(pt([he(),Ut(null)])),checkpoint:rt(pt([he(),Ut(null)])),confirmedLocalExecution:rt(xi()),parsed_data:rt(pt([Bk,Ut(null)]))}),Ck=pt([re({EffectsCert:re({certificate:V0,effects:_k,confirmed_local_execution:xi()})}),re({certificate:rt(V0),effects:vk,confirmed_local_execution:xi()}),K0]);function Rk(e){return"effects"in e?"effects"in e.effects?e.effects.effects:e.effects:"EffectsCert"in e?e.EffectsCert.effects.effects:void 0}var Ju="0x2",Th="0x1",Pk="object",Uk="ID",Qu=`${Ju}::sui::SUI`,Ig="pay",Ok="split_vec",Mk="join",Bg=/^0x2::coin::Coin<(.+)>$/,$k=re({decimals:he(),name:de(),symbol:de(),description:de(),iconUrl:pt([de(),Ut(null)]),id:pt([Rn,Ut(null)])}),vt=class{static isCoin(e){var t;return((t=vt.getType(e))==null?void 0:t.match(Bg))!=null}static getCoinType(e){var t;const[,n]=(t=e.match(Bg))!=null?t:[];return n||null}static getCoinTypeArg(e){const t=vt.getType(e);return t?vt.getCoinType(t):null}static isSUI(e){const t=vt.getCoinTypeArg(e);return t?vt.getCoinSymbol(t)==="SUI":!1}static getCoinSymbol(e){return e.substring(e.lastIndexOf(":")+1)}static getCoinStructTag(e){return{address:es(e.split("::")[0]),module:e.split("::")[1],name:e.split("::")[2],typeParams:[]}}static getID(e){return"fields"in e?e.fields.id.id:pd(e)}static selectCoinsWithBalanceGreaterThanOrEqual(e,t,n=[]){return vt.sortByBalance(e.filter(r=>!n.includes(vt.getID(r))&&vt.getBalance(r)>=t))}static selectCoinWithBalanceGreaterThanOrEqual(e,t,n=[]){return e.find(r=>!n.includes(vt.getID(r))&&vt.getBalance(r)>=t)}static selectCoinSetWithCombinedBalanceGreaterThanOrEqual(e,t,n=[]){const r=vt.sortByBalance(e.filter(a=>!n.includes(vt.getID(a)))),i=vt.totalBalance(r);if(i<t)return[];if(i===t)return r;let s=BigInt(0),o=[];for(;s<i;){const a=t-s,c=r.find(l=>vt.getBalance(l)>=a);if(c){o.push(c);break}const u=r.pop();o.push(u),s+=vt.getBalance(u)}return vt.sortByBalance(o)}static totalBalance(e){return e.reduce((t,n)=>t+vt.getBalance(n),BigInt(0))}static sortByBalance(e){return[...e].sort((t,n)=>vt.getBalance(t)<vt.getBalance(n)?-1:vt.getBalance(t)>vt.getBalance(n)?1:0)}static getBalance(e){var t;if(!vt.isCoin(e))return;const n=(t=gd(e))==null?void 0:t.balance;return BigInt(n)}static getZero(){return BigInt(0)}static getType(e){return"status"in e?xh(e):e.type}static newPayTransaction(e,t,n,r,i){return Be(this,null,function*(){const s=t===Qu,o=e.filter(d=>vt.getCoinTypeArg(d)===t),a=s?o:e.filter(d=>vt.isSUI(d)),c=vt.selectCoinWithBalanceGreaterThanOrEqual(a,BigInt(i));if(!c)throw new Error(`Unable to find a coin to cover the gas budget ${i}`);const u=n+BigInt(s?BigInt(i)-BigInt(vt.getBalance(c)||0):0),l=u>0?yield vt.selectCoinSetWithCombinedBalanceGreaterThanOrEqual(o,u,s?[vt.getID(c)]:[]):[];if(u>0&&!l.length){const d=vt.totalBalance(o),h=d-BigInt(s?i:0);throw new Error(`Coin balance ${d} is not sufficient to cover the transfer amount ${n}. Try reducing the transfer amount to ${h}.`)}return s&&l.unshift(c),{kind:s?"paySui":"pay",data:{inputCoins:l.map(vt.getID),recipients:[r],amounts:[Number(n)],gasBudget:Number(i)}}})}};function M2(e){e.registerType("utf8string",(t,n)=>{const r=Array.from(new TextEncoder().encode(n));return t.writeVec(r,(i,s)=>i.write8(s))},t=>{let n=t.readVec(r=>r.read8());return new TextDecoder().decode(new Uint8Array(n))})}function Nk(e){return e.Pure!==void 0}Array.from("TransactionData::").map(e=>e.charCodeAt(0));function qk(e,t){return e.de("TransactionData",t)}var X0={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:"vector<u8>",Object:"ObjectArg",ObjVec:"vector<ObjectArg>"},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},Transaction:{TransferObject:"TransferObjectTx",Publish:"PublishTx",Call:"MoveCallTx",TransferSui:"TransferSuiTx",Pay:"PayTx",PaySui:"PaySuiTx",PayAllSui:"PayAllSuiTx"},TransactionKind:{Single:"Transaction",Batch:"vector<Transaction>"},TransactionExpiration:{None:null,Epoch:it.U64}},structs:{SuiObjectRef:{objectId:it.ADDRESS,version:it.U64,digest:"ObjectDigest"},TransferObjectTx:{recipient:it.ADDRESS,object_ref:"SuiObjectRef"},PayTx:{coins:"vector<SuiObjectRef>",recipients:"vector<address>",amounts:"vector<u64>"},PaySuiTx:{coins:"vector<SuiObjectRef>",recipients:"vector<address>",amounts:"vector<u64>"},PayAllSuiTx:{coins:"vector<SuiObjectRef>",recipient:it.ADDRESS},TransferSuiTx:{recipient:it.ADDRESS,amount:"Option<u64>"},PublishTx:{modules:"vector<vector<u8>>"},SharedObjectRef:{objectId:it.ADDRESS,initialSharedVersion:it.U64,mutable:it.BOOL},StructTag:{address:it.ADDRESS,module:it.STRING,name:it.STRING,typeParams:"vector<TypeTag>"},MoveCallTx:{package:it.ADDRESS,module:it.STRING,function:it.STRING,typeArguments:"vector<TypeTag>",arguments:"vector<CallArg>"},TransactionData:{kind:"TransactionKind",sender:it.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},GasData:{payment:"SuiObjectRef",owner:it.ADDRESS,price:it.U64,budget:it.U64},SenderSignedData:{data:"TransactionData",txSignatures:"vector<vector<u8>>"}},aliases:{ObjectDigest:it.BASE64}},Dk={structs:bh(Os({},X0.structs),{TransactionData:{kind:"TransactionKind",sender:it.ADDRESS,gasData:"GasData"},SenderSignedData:{data:"TransactionData",txSignature:"vector<u8>"}}),enums:X0.enums,aliases:{ObjectDigest:it.BASE64}},$2=new it(bh(Os({},Uw()),{types:X0}));M2($2);var N2=new it(bh(Os({},Uw()),{types:Dk}));M2(N2);function $a(e){return(e==null?void 0:e.major)===0&&(e==null?void 0:e.minor)<=27?N2:$2}function Lk(e){return q9.parse(e)}var Hk=pt([de(),re({Object:de()})]),zk=Se(Hk),Fk=re({address:de(),name:de()}),jk=pt([Ut("Private"),Ut("Public"),Ut("Friend")]),Eh=re({abilities:Se(de())}),Gk=re({constraints:Eh,is_phantom:xi()}),Wk=re({TypeParameter:he()});function q2(e){if(!e)return!1;if(typeof e=="string"||Ar(e,Wk)||D2(e))return!0;if(typeof e!="object")return!1;const t=e;return!!(Ar(t.Reference,ko)||Ar(t.MutableReference,ko)||Ar(t.Vector,ko))}var ko=Ti("SuiMoveNormalizedType",q2);function D2(e){if(!e||typeof e!="object")return!1;const t=e;if(!t.Struct||typeof t.Struct!="object")return!1;const n=t.Struct;return!(typeof n.address!="string"||typeof n.module!="string"||typeof n.name!="string"||!Array.isArray(n.type_arguments)||!n.type_arguments.every(r=>q2(r)))}Ti("SuiMoveNormalizedStructType",D2);var L2=re({visibility:jk,is_entry:xi(),type_parameters:Se(Eh),parameters:Se(ko),return_:Se(ko)}),Vk=re({name:de(),type_:ko}),H2=re({abilities:Eh,type_parameters:Se(Gk),fields:Se(Vk)}),z2=re({file_format_version:he(),address:de(),name:de(),friends:Se(Fk),structs:na(de(),H2),exposed_functions:na(de(),L2)}),Kk=na(de(),z2);function F2(e){return typeof e=="object"&&"MutableReference"in e?e.MutableReference:void 0}function Xk(e){return typeof e=="object"&&"Reference"in e?e.Reference:void 0}function kg(e){if(typeof e=="object"&&"Struct"in e)return e;const t=Xk(e),n=F2(e);if(typeof t=="object"&&"Struct"in t)return t;if(typeof n=="object"&&"Struct"in n)return n}var Ih=re({sui_address:An,pubkey_bytes:Se(he()),network_pubkey_bytes:Se(he()),worker_pubkey_bytes:Se(he()),proof_of_possession_bytes:Se(he()),name:pt([de(),Se(he())]),description:pt([de(),Is(Se(he()))]),image_url:pt([de(),Is(Se(he()))]),project_url:pt([de(),Is(Se(he()))]),net_address:Se(he()),consensus_address:Se(he()),worker_address:Se(he()),next_epoch_stake:he(),next_epoch_delegation:he(),next_epoch_gas_price:he(),next_epoch_commission_rate:he()}),Bh=re({value:he()}),Zk=re({id:re({id:de()}),validator_address:An,pool_starting_epoch:he(),delegation_request_epoch:he(),principal:Bh,sui_token_lock:pt([he(),Ut(null)])}),Yk=re({id:re({id:de()}),staked_sui_id:An,principal_sui_amount:he(),pool_tokens:Bh}),Jk=re({Active:Yk}),Qk=re({staked_sui:Zk,delegation_status:pt([Ut("Pending"),Jk])}),eC=re({max_validator_candidate_count:de(),min_validator_stake:de(),storage_gas_price:rt(de())}),tC=re({type:de(),fields:eC}),j2=re({balance:re({value:he()}),current_epoch_amount:he(),epoch_counter:he()});re({type:de(),fields:j2});var G2=re({value:he()}),W2=re({id:de(),size:he(),head:re({vec:Se()}),tail:re({vec:Se()})}),nC=re({id:de(),size:he()});re({type:de(),fields:W2});var rC=re({contents:nC}),V2=re({delegation_token_supply:G2,pending_delegations:W2,pending_withdraws:rC,rewards_pool:re({value:he()}),starting_epoch:he(),sui_balance:he(),validator_address:de()});re({type:de(),fields:V2});var iC=re({epoch:he(),protocol_version:rt(he()),committee_info:rt(Se(wa([Sk,he()])))}),sC=re({min_validator_stake:he(),max_validator_candidate_count:he(),storage_gas_price:rt(he())}),Cg=re({metadata:Ih,voting_power:he(),stake_amount:he(),pending_stake:he(),pending_withdraw:he(),gas_price:he(),delegation_staking_pool:V2,commission_rate:he()}),oC=re({from:An,to:An}),aC=re({validator_stake:he(),delegation_stake:he(),active_validators:Se(Cg),pending_validators:Se(Cg),pending_removals:Se(he()),next_epoch_validators:Se(Ih),pending_delegation_switches:rt(re({contents:Se(oC)}))}),cC=re({info:re({id:de()}),epoch:he(),protocol_version:rt(he()),validators:aC,treasury_cap:G2,storage_fund:Bh,parameters:sC,reference_gas_price:he(),validator_report_records:re({contents:Se()}),stake_subsidy:j2,safe_mode:xi(),epoch_start_timestamp_ms:rt(he())}),uC=re({type:de(),fields:re({contents:re({type:de(),fields:re({id:re({id:de()}),size:de()})})})}),lC=re({type:de(),fields:re({id:re({id:de()}),head:Is(de()),size:de(),tail:Is(de())})}),dC=re({delegation_token_supply:re({type:de(),fields:re({value:de()})}),pending_delegations:lC,pending_withdraws:uC,rewards_pool:de(),starting_epoch:de(),sui_balance:de(),validator_address:de()}),K2=re({type:de(),fields:re({contents:Se(us())})}),fC=re({consensus_address:Se(he()),name:pt([de(),Se(he())]),description:rt(pt([de(),Se(he())])),image_url:rt(pt([de(),Se(he())])),project_url:rt(pt([de(),Se(he())])),net_address:Se(he()),network_pubkey_bytes:Se(he()),next_epoch_commission_rate:de(),next_epoch_delegation:de(),next_epoch_gas_price:de(),next_epoch_stake:de(),proof_of_possession:Se(he()),pubkey_bytes:Se(he()),sui_address:de(),worker_address:Se(he()),worker_pubkey_bytes:Se(he())}),X2=re({type:de(),fields:fC}),hC=re({commission_rate:de(),delegation_staking_pool:re({type:de(),fields:dC}),gas_price:de(),metadata:X2,pending_stake:de(),pending_withdraw:de(),stake_amount:de(),voting_power:Is(de())}),pC=re({type:de(),fields:hC}),gC=re({active_validators:Se(pC),next_epoch_validators:Se(X2),pending_delegation_switches:rt(K2),pending_removals:Se(he()),pending_validators:Se(he()),quorum_stake_threshold:rt(de()),total_delegation_stake:de(),total_validator_stake:de()}),yC=re({chain_id:rt(he()),epoch:de(),protocol_version:rt(de()),epoch_start_timestamp_ms:rt(de()),safe_mode:xi(),id:re({id:de()}),parameters:tC,reference_gas_price:de(),stake_subsidy:re({type:de(),fields:re({balance:de(),current_epoch_amount:de(),epoch_counter:de()})}),storage_fund:de(),sui_supply:re({type:de(),fields:re({value:de()})}),validator_report_records:K2,validators:re({type:de(),fields:gC})});re({dataType:Ut("moveObject"),type:de(),has_public_transfer:xi(),fields:yC});var mC=re({coinType:de(),coinObjectId:Rn,version:he(),digest:pr,balance:he(),lockedUntilEpoch:Is(he()),previousTransaction:rt(pr)}),Rg=re({data:Se(mC),nextCursor:pt([Rn,Ut(null)])}),Pg=re({coinType:de(),coinObjectCount:he(),totalBalance:he(),lockedBalance:re({epochId:rt(he()),number:rt(he())})}),wC=re({value:he()}),_C=re({computation_cost:he(),storage_cost:he(),storage_rebate:he()}),bC=de(),vC=de(),xC=re({next_epoch_committee:Se(wa([de(),he()])),next_epoch_protocol_version:he(),root_state_digest:rt(Se(he()))}),Ug=re({epoch:he(),sequence_number:he(),network_total_transactions:he(),content_digest:bC,previous_digest:pt([vC,Ut(null)]),epoch_rolling_gas_cost_summary:_C,end_of_epoch_data:pt([xC,Ut(null)]),timestamp_ms:pt([he(),Ut(null)]),version_specific_data:rt(Se(he()))}),SC=re({transaction:pr,effects:SB}),Og=re({transactions:Se(SC),user_signatures:Se(de())}),AC=pt([Ut("DynamicField"),Ut("DynamicObject")]),TC=re({type:de(),value:us()}),EC=re({name:pt([TC,de()]),type:AC,objectType:de(),objectId:Rn,version:he(),digest:de()}),IC=re({data:Se(EC),nextCursor:pt([Rn,Ut(null)])}),BC=(e,t)=>{const n=new URL(e);return n.protocol=n.protocol.replace("http","ws"),t&&(n.port=t.toString()),n.toString()},kC=e=>e&&"subscription"in e&&typeof e.subscription=="number"&&"result"in e&&typeof e.result=="object",Z2={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},Mg="sui_subscribeEvent",CC="sui_unsubscribeEvent",RC=class{constructor(e,t,n=Z2){this.endpoint=e,this.skipValidation=t,this.options=n,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=BC(this.endpoint)),this.rpcClient=new A2(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))}),this.rpcClient.on("close",()=>{this.connectionState=0}),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(e){const t=JSON.parse(e),n=t.params;if(t.method===Mg){if(this.skipValidation&&kC(n)){const r=this.eventSubscriptions.get(n.subscription);r&&r.onMessage(n.result)}else if(Ar(n,JB)){const r=this.eventSubscriptions.get(n.subscription);r&&r.onMessage(n.result)}}}connect(){return Be(this,null,function*(){return this.connectionPromise?this.connectionPromise:this.connectionState===2?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeout=setTimeout(()=>t(new Error("timeout")),this.options.connectTimeout),this.rpcClient.once("open",()=>{this.refreshSubscriptions(),this.connectionPromise=null,e()}),this.rpcClient.once("error",n=>{this.connectionPromise=null,t(n)})}),this.connectionPromise)})}refreshSubscriptions(){return Be(this,null,function*(){if(this.eventSubscriptions.size!==0)try{let e=new Map;(yield Promise.all(Array.from(this.eventSubscriptions.values()).map(n=>Be(this,null,function*(){const r=n.onMessage,i=n.filter;return!i||!r?Promise.resolve(null):{id:yield this.subscribeEvent(i,r),onMessage:r,filter:i}})))).forEach(n=>{if(n===null)return;const r=n.filter,i=n.onMessage;e.set(n.id,{filter:r,onMessage:i})}),this.eventSubscriptions=e}catch(e){throw new Error(`error refreshing event subscriptions: ${e}`)}})}subscribeEvent(e,t){return Be(this,null,function*(){try{this.connectionState!==2&&(yield this.connect());let n=yield this.rpcClient.call(Mg,[e],this.options.callTimeout);return this.eventSubscriptions.set(n,{filter:e,onMessage:t}),n}catch(n){throw new Error(`Error subscribing to event: ${JSON.stringify(n,null,2)}, filter: ${JSON.stringify(e)}`)}})}unsubscribeEvent(e){return Be(this,null,function*(){try{this.connectionState!==2&&(yield this.connect());let t=yield this.rpcClient.call(CC,[e],this.options.callTimeout);return this.eventSubscriptions.delete(e)||t}catch(t){throw new Error(`Error unsubscribing from event: ${t}, subscription: ${e}`)}})}},PC=class extends Error{};function UC(e,t,n){return Be(this,null,function*(){const r=yield _2(e,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:t}}),headers:Os({"Content-Type":"application/json"},n||{})});if(r.status===429)throw new PC("Too many requests from this client have been sent to the faucet. Please retry later");let i;try{i=yield r.json()}catch(s){throw new Error(`Ecountered error when parsing response from faucet, error: ${s}, status ${r.status}, response ${r}`)}if(i.error)throw new Error(`Faucet returns error: ${i.error}`);return i})}var s0="Move call argument serialization error:",OC="ascii",MC="String",$C="string",NC="String",qC="option",DC="Option",LC={address:Ju,module:Pk,name:Uk},HC={address:Th,module:OC,name:MC},zC={address:Th,module:$C,name:NC},FC={address:Th,module:qC,name:DC},$g=e=>t=>typeof t===e,eu=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name,o0=class{constructor(e){this.provider=e}extractObjectIds(e){return Be(this,null,function*(){return(yield this.serializeMoveCallArguments(e)).map(n=>"ObjVec"in n?Array.from(n.ObjVec).map(r=>({Object:r})):n).flat().map(n=>{if("Object"in n){const r=n.Object;return"Shared"in r?r.Shared.objectId:r.ImmOrOwned.objectId}return null}).filter(n=>n!=null)})}serializeMoveCallArguments(e){return Be(this,null,function*(){const t=yield this.extractNormalizedFunctionParams(e.packageObjectId,e.module,e.function);if(t.length!==e.arguments.length)throw new Error(`${s0} expect ${t.length} arguments, received ${e.arguments.length} arguments`);return Promise.all(t.map((n,r)=>Be(this,null,function*(){return this.newCallArg(n,e.arguments[r])})))})}deserializeCallArgs(e){return Be(this,null,function*(){const t=yield this.extractNormalizedFunctionParams(e.Call.package,e.Call.module,e.Call.function);return Promise.all(t.map((n,r)=>Be(this,null,function*(){return this.deserializeCallArg(n,e.Call.arguments[r])})))})}extractNormalizedFunctionParams(e,t,n){return Be(this,null,function*(){const i=(yield this.provider.getNormalizedMoveFunction(es(typeof e=="string"?e:e.objectId),t,n)).parameters;return i.length>0&&this.isTxContext(i.at(-1))?i.slice(0,i.length-1):i})}newObjectArg(e){return Be(this,null,function*(){const t=yield this.provider.getObject(e),n=DB(t),r=!0;return n?{Shared:{objectId:e,initialSharedVersion:n,mutable:r}}:{ImmOrOwned:vh(t)}})}newCallArg(e,t){return Be(this,null,function*(){if(Nk(t))return t;const n=this.getPureSerializationType(e,t),r=yield this.provider.getRpcApiVersion();if(n!==void 0)return{Pure:$a(r).ser(n,t).toBytes()};if(kg(e)!=null||typeof e=="object"&&"TypeParameter"in e){if(typeof t!="string")throw new Error(`${s0} expect the argument to be an object id string, got ${JSON.stringify(t,null,2)}`);return{Object:yield this.newObjectArg(t)}}if(typeof e=="object"&&"Vector"in e&&typeof e.Vector=="object"&&"Struct"in e.Vector){if(!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);return{ObjVec:yield Promise.all(t.map(s=>this.newObjectArg(s)))}}throw new Error(`Unknown call arg type ${JSON.stringify(e,null,2)} for value ${JSON.stringify(t,null,2)}`)})}extractIdFromObjectArg(e){return"ImmOrOwned"in e?e.ImmOrOwned.objectId:e.Shared.objectId}deserializeCallArg(e,t){return Be(this,null,function*(){if("Object"in t)return this.extractIdFromObjectArg(t.Object);if("ObjVec"in t)return Array.from(t.ObjVec).map(i=>this.extractIdFromObjectArg(i));const n=this.getPureSerializationType(e,void 0),r=yield this.provider.getRpcApiVersion();return $a(r).de(n,Uint8Array.from(t.Pure))})}getPureSerializationType(e,t){if(typeof e=="string"&&["Address","Bool","U8","U16","U32","U64","U128","U256"].includes(e))return e in["U8","U16","U32","U64","U128","U256"]?this.checkArgVal($g("number"),t,"number"):e==="Bool"?this.checkArgVal($g("boolean"),t,"boolean"):e==="Address"&&this.checkArgVal(r=>typeof r=="string"&&gi(r),t,"valid SUI address"),e.toLowerCase();if(typeof e=="string")throw new Error(`${s0} unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((t===void 0||typeof t=="string")&&e.Vector==="U8")return"string";if(t!==void 0&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);const r=this.getPureSerializationType(e.Vector,t?t[0]:void 0);return r===void 0?void 0:`vector<${r}>`}if("Struct"in e){if(eu(e.Struct,HC))return"string";if(eu(e.Struct,zC))return"utf8string";if(eu(e.Struct,LC))return"address";if(eu(e.Struct,FC)){const r={Vector:e.Struct.type_arguments[0]};return this.getPureSerializationType(r,t)}}}checkArgVal(e,t,n){if(t!==void 0&&!e(t))throw new Error(`Expect ${t} to be ${n}, received ${typeof t}`)}isTxContext(e){var t;const n=(t=kg(e))==null?void 0:t.Struct;return F2(e)!=null&&(n==null?void 0:n.address)==="0x2"&&(n==null?void 0:n.module)==="tx_context"&&(n==null?void 0:n.name)==="TxContext"}},jC=/^vector<(.+)>$/,GC=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,so=class{static parseFromStr(e,t=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const n=e.match(jC);if(n)return{vector:so.parseFromStr(n[1],t)};const r=e.match(GC);if(r)return{struct:{address:t?ci(r[1]):r[1],module:r[2],name:r[3],typeParams:r[5]===void 0?[]:so.parseStructTypeArgs(r[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){const n=[];let r="",i=0;for(let s=0;s<e.length;s++){const o=e[s];if(o==="<"&&i++,o===">"&&i--,i===0&&o===","){n.push(r.trim()),r="";continue}r+=o}return n.push(r.trim()),n.map(s=>so.parseFromStr(s,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${so.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,n=t.typeParams.map(so.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}},WC=class{constructor(e){this.provider=e}getRpcApiVersion(){return Be(this,null,function*(){return yield this.provider.getRpcApiVersion()})}serializeToBytes(e,t,n="Commit"){return Be(this,null,function*(){try{return yield this.serializeTransactionData(yield this.constructTransactionData(e,t))}catch(r){throw new Error(`Encountered error when serializing a ${t.kind} transaction for address ${e} for transaction ${JSON.stringify(t,null,2)}: ${r}`)}})}serializeToBytesWithoutGasInfo(e,t){return Be(this,null,function*(){try{return yield this.serializeTransactionKind((yield this.constructTransactionKindAndPayment(e,t))[0])}catch(n){throw new Error(`Encountered error when serializing a ${t.kind} transaction without gas info for address ${e} for transaction ${JSON.stringify(t,null,2)}: ${n}`)}})}constructTransactionKindAndPayment(e,t){return Be(this,null,function*(){let n,r;switch(t.kind){case"transferObject":const i=t.data,s=yield this.provider.getObjectRef(i.objectId);n={TransferObject:{recipient:i.recipient,object_ref:s}},r=i.gasPayment;break;case"transferSui":const o=t.data;n={TransferSui:{recipient:o.recipient,amount:o.amount==null?{None:null}:{Some:o.amount}}},r=o.suiObjectId;break;case"pay":const a=t.data;n={Pay:{coins:(yield Promise.all(a.inputCoins.map(B=>this.provider.getObjectRef(B)))).map(B=>B),recipients:a.recipients,amounts:a.amounts}},r=a.gasPayment;break;case"paySui":const u=t.data;n={PaySui:{coins:(yield Promise.all(u.inputCoins.map(B=>this.provider.getObjectRef(B)))).map(B=>B),recipients:u.recipients,amounts:u.amounts}},r=u.inputCoins[0];break;case"payAllSui":const d=t.data;n={PayAllSui:{coins:(yield Promise.all(d.inputCoins.map(B=>this.provider.getObjectRef(B)))).map(B=>B),recipient:d.recipient}},r=d.inputCoins[0];break;case"moveCall":const y=t.data;n={Call:{package:es(y.packageObjectId),module:y.module,function:y.function,typeArguments:y.typeArguments.map(B=>typeof B=="string"?so.parseFromStr(B,!0):B),arguments:yield new o0(this.provider).serializeMoveCallArguments(y)}},r=y.gasPayment;break;case"mergeCoin":const A=t.data;return this.constructTransactionKindAndPayment(e,{kind:"moveCall",data:{packageObjectId:Ju,module:Ig,function:Mk,typeArguments:[yield this.getCoinStructTag(A.coinToMerge)],arguments:[A.primaryCoin,A.coinToMerge],gasPayment:A.gasPayment,gasBudget:A.gasBudget}});case"splitCoin":const I=t.data;return this.constructTransactionKindAndPayment(e,{kind:"moveCall",data:{packageObjectId:Ju,module:Ig,function:Ok,typeArguments:[yield this.getCoinStructTag(I.coinObjectId)],arguments:[I.coinObjectId,I.splitAmounts],gasPayment:I.gasPayment,gasBudget:I.gasBudget}});case"publish":const U=t.data;n={Publish:{modules:U.compiledModules}},r=U.gasPayment;break}return[{Single:n},r]})}constructTransactionData(e,t){return Be(this,null,function*(){const[n,r]=yield this.constructTransactionKindAndPayment(e,t);return this.constructTransactionDataHelper(n,t,r,e)})}selectGasPaymentForTransaction(e,t){return Be(this,arguments,function*(n,r,i=[]){if(n.kind==="bytes")return;const s=BigInt(n.data.gasBudget)*BigInt(n.data.gasPrice),o=yield this.provider.selectCoinsWithBalanceGreaterThanOrEqual(r,s,Qu,i.concat(yield this.extractObjectIds(n)));return o.length>0?vt.getID(o[0]):void 0})}extractObjectIds(e){return Be(this,null,function*(){const t=yield this.extractInputObjectIds(e);return"gasPayment"in e.data&&e.data.gasPayment&&t.push(e.data.gasPayment),t})}extractInputObjectIds(e){return Be(this,null,function*(){switch(e.kind){case"moveCall":return yield new o0(this.provider).extractObjectIds(e.data);case"transferSui":return[e.data.suiObjectId];case"transferObject":return[e.data.objectId];case"mergeCoin":return[e.data.primaryCoin,e.data.coinToMerge];case"splitCoin":return[e.data.coinObjectId];case"pay":return e.data.inputCoins}return[]})}getCoinStructTag(e){return Be(this,null,function*(){const t=yield this.provider.getObject(e),n=vt.getCoinTypeArg(t);if(n==null)throw new Error(`Object ${e} is not a valid coin type`);return{struct:vt.getCoinStructTag(n)}})}constructTransactionDataHelper(e,t,n,r){return Be(this,null,function*(){if(t.data.gasPrice=yield this.provider.getReferenceGasPrice(),n===void 0&&(n=yield this.selectGasPaymentForTransaction(t,r),n===void 0))throw new Error(`Unable to select a gas object with balance greater than or equal to ${t.data.gasBudget}`);const i=yield this.provider.getObjectRef(n);if(!t.data.gasBudget)throw new Error("Must provide a valid gas budget for contructing TransactionData");return{kind:e,sender:r,gasData:{payment:i,price:t.data.gasPrice,budget:t.data.gasBudget,owner:r},expiration:{None:null}}})}serializeTransactionData(e,t=8192){return Be(this,null,function*(){return $a(yield this.provider.getRpcApiVersion()).ser("TransactionData",e,t).toBytes()})}serializeTransactionKind(e,t=8192){return Be(this,null,function*(){return $a(yield this.provider.getRpcApiVersion()).ser("TransactionKind",e,t).toBytes()})}deserializeTransactionBytesToSignableTransaction(e){return Be(this,null,function*(){let t=yield this.provider.getRpcApiVersion();return this.transformTransactionDataToSignableTransaction(qk($a(t),e))})}transformTransactionDataToSignableTransaction(e){return Be(this,null,function*(){return"Single"in e.kind?this.transformTransactionToSignableTransaction(e.kind.Single,e.gasData):Promise.all(e.kind.Batch.map(t=>this.transformTransactionToSignableTransaction(t,e.gasData)))})}transformTransactionToSignableTransaction(e,t){return Be(this,null,function*(){var n,r,i,s;if("Pay"in e)return{kind:"pay",data:{inputCoins:e.Pay.coins.map(o=>o.objectId),recipients:e.Pay.recipients,amounts:e.Pay.amounts,gasPayment:(n=t.payment)==null?void 0:n.objectId,gasBudget:t.budget,gasOwner:t.owner,gasPrice:t.price}};if("Call"in e)return{kind:"moveCall",data:{packageObjectId:e.Call.package,module:e.Call.module,function:e.Call.function,typeArguments:e.Call.typeArguments,arguments:yield new o0(this.provider).deserializeCallArgs(e),gasPayment:(r=t.payment)==null?void 0:r.objectId,gasBudget:t.budget,gasOwner:t.owner,gasPrice:t.price}};if("TransferObject"in e)return{kind:"transferObject",data:{objectId:e.TransferObject.object_ref.objectId,recipient:e.TransferObject.recipient,gasPayment:(i=t.payment)==null?void 0:i.objectId,gasBudget:t.budget,gasOwner:t.owner,gasPrice:t.price}};if("TransferSui"in e)return{kind:"transferSui",data:{suiObjectId:t.payment.objectId,recipient:e.TransferSui.recipient,amount:"Some"in e.TransferSui.amount?e.TransferSui.amount.Some:null,gasBudget:t.budget,gasPrice:t.price}};if("Publish"in e)return{kind:"publish",data:{compiledModules:e.Publish.modules,gasPayment:(s=t.payment)==null?void 0:s.objectId,gasBudget:t.budget,gasOwner:t.owner}};if("PaySui"in e)return{kind:"paySui",data:{inputCoins:e.PaySui.coins.map(o=>o.objectId),recipients:e.PaySui.recipients,amounts:e.PaySui.amounts}};if("PayAllSui"in e)return{kind:"payAllSui",data:{inputCoins:e.PayAllSui.coins.map(o=>o.objectId),recipient:e.PayAllSui.recipient}};throw new Error(`Unsupported transaction type ${e}`)})}},ys,kh=class{constructor(e){wB(this,ys,void 0),_B(this,ys,e)}get fullnode(){return Yc(this,ys).fullnode}get websocket(){return Yc(this,ys).websocket||Yc(this,ys).fullnode}get faucet(){return Yc(this,ys).faucet}};ys=new WeakMap;new kh({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"});var VC=new kh({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"}),KC="0.27.0",Ng={skipDataValidation:!0,socketOptions:Z2,versionCacheTimeoutInSeconds:600},XC=class extends bB{constructor(e=VC,t=Ng){var n,r;super(),this.options=t,this.connection=e;const i=Os(Os({},Ng),t);this.options=i,this.client=(n=i.rpcClient)!=null?n:new xB(this.connection.fullnode),this.wsClient=(r=i.websocketClient)!=null?r:new RC(this.connection.websocket,i.skipDataValidation,i.socketOptions)}getRpcApiVersion(){return Be(this,null,function*(){var e;if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{const t=yield this.client.requestWithType("rpc.discover",[],us(),this.options.skipDataValidation);return this.rpcApiVersion=Lk(t.info.version),this.cacheExpiry=Date.now()+((e=this.options.versionCacheTimeoutInSeconds)!=null?e:0)*1e3,this.rpcApiVersion}catch(t){console.warn("Error fetching version number of the RPC API",t)}})}requestSuiFromFaucet(e,t){return Be(this,null,function*(){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return UC(this.connection.faucet,e,t)})}getCoins(e,t=null,n=null,r=null){return Be(this,null,function*(){try{if(!e||!gi(ci(e)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getCoins",[e,t,n,r],Rg,this.options.skipDataValidation)}catch(i){throw new Error(`Error getting coins for owner ${e}: ${i}`)}})}getAllCoins(e,t=null,n=null){return Be(this,null,function*(){try{if(!e||!gi(ci(e)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getAllCoins",[e,t,n],Rg,this.options.skipDataValidation)}catch(r){throw new Error(`Error getting all coins for owner ${e}: ${r}`)}})}getBalance(e,t=null){return Be(this,null,function*(){try{if(!e||!gi(ci(e)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getBalance",[e,t],Pg,this.options.skipDataValidation)}catch(n){throw new Error(`Error getting balance for coin type ${t} for owner ${e}: ${n}`)}})}getAllBalances(e){return Be(this,null,function*(){try{if(!e||!gi(ci(e)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getAllBalances",[e],Se(Pg),this.options.skipDataValidation)}catch(t){throw new Error(`Error getting all balances for owner ${e}: ${t}`)}})}getCoinMetadata(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getCoinMetadata",[e],$k,this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching CoinMetadata for ${e}: ${t}`)}})}getTotalSupply(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getTotalSupply",[e],wC,this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching total supply for Coin type ${e}: ${t}`)}})}call(e,t){return Be(this,null,function*(){try{const n=yield this.client.request(e,t);if(Ar(n,E2))throw new Error(`RPC Error: ${n.error.message}`);return n.result}catch(n){throw new Error(`Error calling RPC endpoint ${e}: ${n}`)}})}getMoveFunctionArgTypes(e,t,n){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getMoveFunctionArgTypes",[e,t,n],zk,this.options.skipDataValidation)}catch{throw new Error(`Error fetching Move function arg types with package object ID: ${e}, module name: ${t}, function name: ${n}`)}})}getNormalizedMoveModulesByPackage(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[e],Kk,this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching package: ${t} for package ${e}`)}})}getNormalizedMoveModule(e,t){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveModule",[e,t],z2,this.options.skipDataValidation)}catch(n){throw new Error(`Error fetching module: ${n} for package ${e}, module ${t}`)}})}getNormalizedMoveFunction(e,t,n){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveFunction",[e,t,n],L2,this.options.skipDataValidation)}catch(r){throw new Error(`Error fetching function: ${r} for package ${e}, module ${t} and function ${n}`)}})}getNormalizedMoveStruct(e,t,n){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveStruct",[e,t,n],H2,this.options.skipDataValidation)}catch(r){throw new Error(`Error fetching struct: ${r} for package ${e}, module ${t} and struct ${n}`)}})}getObjectsOwnedByAddress(e){return Be(this,null,function*(){try{if(!e||!gi(ci(e)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getObjectsOwnedByAddress",[e],MB,this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching owned object: ${t} for address ${e}`)}})}getGasObjectsOwnedByAddress(e){return Be(this,null,function*(){return(yield this.getObjectsOwnedByAddress(e)).filter(n=>vt.isSUI(n))})}getCoinBalancesOwnedByAddress(e,t){return Be(this,null,function*(){const r=(yield this.getObjectsOwnedByAddress(e)).filter(i=>vt.isCoin(i)&&(t===void 0||t===vt.getCoinTypeArg(i))).map(i=>i.objectId);return yield this.getObjectBatch(r)})}selectCoinsWithBalanceGreaterThanOrEqual(e,t){return Be(this,arguments,function*(n,r,i=Qu,s=[]){const a=(yield this.getCoins(n,i)).data.map(u=>u.coinObjectId),c=yield this.getObjectBatch(a);return yield vt.selectCoinsWithBalanceGreaterThanOrEqual(c,r,s)})}selectCoinSetWithCombinedBalanceGreaterThanOrEqual(e,t){return Be(this,arguments,function*(n,r,i=Qu,s=[]){const a=(yield this.getCoins(n,i)).data.map(u=>u.coinObjectId),c=yield this.getObjectBatch(a);return yield vt.selectCoinSetWithCombinedBalanceGreaterThanOrEqual(c,r,s)})}getObject(e){return Be(this,null,function*(){try{if(!e||!Jc(es(e)))throw new Error("Invalid Sui Object id");return yield this.client.requestWithType("sui_getObject",[e],r0,this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching object info: ${t} for id ${e}`)}})}getObjectRef(e){return Be(this,null,function*(){const t=yield this.getObject(e);return vh(t)})}getObjectBatch(e){return Be(this,null,function*(){try{const t=e.map(n=>{if(!n||!Jc(es(n)))throw new Error(`Invalid Sui Object id ${n}`);return{method:"sui_getObject",args:[n]}});return yield this.client.batchRequestWithType(t,r0,this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching object info: ${t} for ids [${e}]`)}})}getTransactions(e,t=null,n=null,r="descending"){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getTransactions",[e,t,n,r==="descending"],i0,this.options.skipDataValidation)}catch(i){throw new Error(`Error getting transactions for query: ${i} for query ${e}`)}})}getTransactionsForObject(e,t=!0){return Be(this,null,function*(){const n=[{method:"sui_getTransactions",args:[{InputObject:e},null,null,t]},{method:"sui_getTransactions",args:[{MutatedObject:e},null,null,t]}];try{if(!e||!Jc(es(e)))throw new Error("Invalid Sui Object id");const r=yield this.client.batchRequestWithType(n,i0,this.options.skipDataValidation);return[...r[0].data,...r[1].data]}catch(r){throw new Error(`Error getting transactions for object: ${r} for id ${e}`)}})}getTransactionsForAddress(e,t=!0){return Be(this,null,function*(){const n=[{method:"sui_getTransactions",args:[{ToAddress:e},null,null,t]},{method:"sui_getTransactions",args:[{FromAddress:e},null,null,t]}];try{if(!e||!gi(ci(e)))throw new Error("Invalid Sui address");const r=yield this.client.batchRequestWithType(n,i0,this.options.skipDataValidation);return[...r[0].data,...r[1].data]}catch(r){throw new Error(`Error getting transactions for address: ${r} for id ${e}`)}})}getTransactionWithEffects(e){return Be(this,null,function*(){try{if(!Tg(e))throw new Error("Invalid Transaction digest");return yield this.client.requestWithType("sui_getTransaction",[e],K0,this.options.skipDataValidation)}catch(t){throw new Error(`Error getting transaction with effects: ${t} for digest ${e}`)}})}getTransactionWithEffectsBatch(e){return Be(this,null,function*(){try{const t=e.map(n=>{if(!Tg(n))throw new Error(`Invalid Transaction digest ${n}`);return{method:"sui_getTransaction",args:[n]}});return yield this.client.batchRequestWithType(t,K0,this.options.skipDataValidation)}catch(t){throw new Error(`Error getting transaction effects: ${t} for digests [${e}]`)}})}executeTransaction(e,t,n="WaitForEffectsCert"){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_executeTransactionSerializedSig",[typeof e=="string"?e:_s(e),t,n],Ck,this.options.skipDataValidation)}catch(r){throw new Error(`Error executing transaction with request type: ${r}`)}})}getTotalTransactionNumber(){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getTotalTransactionNumber",[],he(),this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching total transaction number: ${e}`)}})}getTransactionDigestsInRange(e,t){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getTransactionsInRange",[e,t],xk,this.options.skipDataValidation)}catch(n){throw new Error(`Error fetching transaction digests in range: ${n} for range ${e}-${t}`)}})}getReferenceGasPrice(){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getReferenceGasPrice",[],he(),this.options.skipDataValidation)}catch(e){throw new Error(`Error getting the reference gas price ${e}`)}})}getDelegatedStakes(e){return Be(this,null,function*(){try{if(!e||!gi(ci(e)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getDelegatedStakes",[e],Se(Qk),this.options.skipDataValidation)}catch(t){throw new Error(`Error in getDelegatedStake: ${t}`)}})}getValidators(){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getValidators",[],Se(Ih),this.options.skipDataValidation)}catch(e){throw new Error(`Error in getValidators: ${e}`)}})}getSuiSystemState(){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getSuiSystemState",[],cC,this.options.skipDataValidation)}catch(e){throw new Error(`Error in getSuiSystemState: ${e}`)}})}getEvents(e,t,n,r="descending"){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getEvents",[e,t,n,r==="descending"],ZB,this.options.skipDataValidation)}catch(i){throw new Error(`Error getting events for query: ${i} for query ${e}`)}})}subscribeEvent(e,t){return Be(this,null,function*(){return this.wsClient.subscribeEvent(e,t)})}unsubscribeEvent(e){return Be(this,null,function*(){return this.wsClient.unsubscribeEvent(e)})}devInspectTransaction(e,t,n=null,r=null){return Be(this,null,function*(){try{let i;return typeof t=="string"?i=t:t instanceof Uint8Array?i=_s(t):i=_s(yield new WC(this).serializeToBytesWithoutGasInfo(e,t)),yield this.client.requestWithType("sui_devInspectTransaction",[e,i,n,r],wk,this.options.skipDataValidation)}catch(i){throw new Error(`Error dev inspect transaction with request type: ${i}`)}})}dryRunTransaction(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_dryRunTransaction",[_s(e)],Ic,this.options.skipDataValidation)}catch(t){throw new Error(`Error dry running transaction with request type: ${t}`)}})}getDynamicFields(e,t=null,n=null){return Be(this,null,function*(){try{if(!e||!Jc(es(e)))throw new Error("Invalid Sui Object id");return yield this.client.requestWithType("sui_getDynamicFields",[e,t,n],IC,this.options.skipDataValidation)}catch(r){throw new Error(`Error getting dynamic fields with request type: ${r} for parent_object_id: ${e}, cursor: ${t} and limit: ${n}.`)}})}getDynamicFieldObject(e,t){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getDynamicFieldObject",[e,t],r0,this.options.skipDataValidation)}catch(n){throw new Error(`Error getting dynamic field object with request type: ${n} for parent_object_id: ${e} and name: ${t}.`)}})}getLatestCheckpointSequenceNumber(){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],he(),this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching latest checkpoint sequence number: ${e}`)}})}getCheckpointSummary(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointSummary",[e],Ug,this.options.skipDataValidation)}catch(t){throw new Error(`Error getting checkpoint summary with request type: ${t} for sequence number: ${e}.`)}})}getCheckpointSummaryByDigest(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointSummaryByDigest",[e],Ug,this.options.skipDataValidation)}catch(t){throw new Error(`Error getting checkpoint summary with request type: ${t} for digest: ${e}.`)}})}getCheckpointContents(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointContents",[e],Og,this.options.skipDataValidation)}catch(t){throw new Error(`Error getting checkpoint contents with request type: ${t} for sequence number: ${e}.`)}})}getCheckpointContentsByDigest(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointContentsByDigest",[e],Og,this.options.skipDataValidation)}catch(t){throw new Error(`Error getting checkpoint summary with request type: ${t} for digest: ${e}.`)}})}getCommitteeInfo(e){return Be(this,null,function*(){try{return yield this.client.requestWithType("sui_getCommitteeInfo",[e],iC)}catch(t){throw new Error(`Error getCommitteeInfo : ${t}`)}})}};ci("0x5");function ZC(e){return e.startsWith("0x")?e:`0x${e}`}function kn(e){var t;let n=e.replace(/\s/g,"");const r=n.match(/(<.+>)$/),i=(t=r==null?void 0:r[0])==null?void 0:t.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(i)return n=n.slice(0,n.indexOf("<")),{...kn(n),type_arguments:[...i]};const s=n.split("::"),o={full_address:n,address:s[2]==="SUI"?"0x2":es(s[0]),module:s[1],name:s[2],type_arguments:[]};return o.full_address=`${o.address}::${o.module}::${o.name}`,o}function YC(e,t,n){const r=kn(e).name,i=kn(t).name;return`${r}-${i}[${n}]`}function qg(e){const t=xh(e),n=kn(t),r=gd(e),i={poolAddress:pd(e),poolType:t,coinTypeA:n.type_arguments[0],coinTypeB:n.type_arguments[1],coinAmountA:r.coin_a,coinAmountB:r.coin_b,current_sqrt_price:r.current_sqrt_price,current_tick_index:Number(BigInt.asIntN(32,BigInt(r.current_tick_index.fields.bits)).toString()),fee_growth_global_a:r.fee_growth_global_a,fee_growth_global_b:r.fee_growth_global_b,fee_protocol_coin_a:r.fee_protocol_coin_a,fee_protocol_coin_b:r.fee_protocol_coin_b,fee_rate:r.fee_rate,is_pause:r.is_pause,liquidity:r.liquidity,positionIndex:r.position_index,positions_handle:r.positions.fields.id.id,protocol_fee_rate:r.protocol_fee_rate,rewarder_infos:r.rewarder_infos,rewarder_last_updated_time:r.rewarder_last_updated_time,tickSpacing:r.tick_spacing,ticks_handle:r.ticks.fields.id.id,uri:r.uri,rewarder_balances:r.rewarder_balances.fields.id.id,name:""};return i.name=YC(i.coinTypeA,i.coinTypeB,i.tickSpacing),i}function Dg(e){const t=xh(e),n=gd(e),r={amount_owed:0,growth_inside:0};let i=[r,r,r];return n.rewarder_infos.length>0&&(i=n.rewarder_infos),{pos_object_id:pd(e),type:t,uri:n.url,liquidity:n.liquidity,tick_lower_index:BigInt.asIntN(32,BigInt(n.tick_lower_index.fields.bits)).toString(),tick_upper_index:BigInt.asIntN(32,BigInt(n.tick_upper_index.fields.bits)).toString(),fee_growth_inside_a:n.fee_growth_inside_a,fee_owed_a:n.fee_owed_a,fee_growth_inside_b:n.fee_growth_inside_b,fee_owed_b:n.fee_owed_b,index:n.index,pool:n.pool,name:n.name,reward_amount_owed_0:i[0].amount_owed,reward_amount_owed_1:i[1].amount_owed,reward_amount_owed_2:i[2].amount_owed,reward_growth_inside_0:i[0].growth_inside,reward_growth_inside_1:i[1].growth_inside,reward_growth_inside_2:i[2].growth_inside}}function a0(e){const n=gd(e).value.fields.value.fields;return{objectId:pd(e),index:BigInt.asIntN(32,BigInt(n.index.fields.bits)).toString(),sqrtPrice:new C(n.sqrt_price),liquidityNet:new C(n.liquidity_net.fields.bits),liquidityGross:new C(n.liquidity_gross),feeGrowthOutsideA:new C(n.fee_growth_outside_a),feeGrowthOutsideB:new C(n.fee_growth_outside_b),rewardersGrowthOutside:n.rewarders_growth_outside}}function JC(e){return{objectId:"",index:BigInt.asIntN(32,BigInt(e.index.fields.bits)).toString(),sqrtPrice:new C(e.sqrt_price),liquidityNet:new C(e.liquidity_net.fields.bits),liquidityGross:new C(e.liquidity_gross),feeGrowthOutsideA:new C(e.fee_growth_outside_a),feeGrowthOutsideB:new C(e.fee_growth_outside_b),rewardersGrowthOutside:e.rewarders_growth_outside}}var Xi="pool_script",Y2="fetcher_script",_u=2500,el=15e3,QC=/^(.+)::i32::I32 {bits: (.+)u32}$/,eR=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}creatPoolTransactionPayload(e,t=el){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=n.config;if(r===null)throw Error("eventConfig is null");const i=r.global_config_id,s=r.pools_id,o=e.amount_a>0&&e.amount_b>0,a=[e.coinTypeA,e.coinTypeB],c=o?[s,i,e.tick_spacing.toString(),e.initialize_sqrt_price,e.uri,e.coin_object_ids_a,e.coin_object_ids_b,BigInt.asUintN(32,BigInt(e.tick_lower)).toString(),BigInt.asUintN(32,BigInt(e.tick_upper)).toString(),e.amount_a.toString(),e.amount_b.toString(),e.fix_amount_a]:[s,i,e.tick_spacing,e.initialize_sqrt_price,e.uri];return{packageObjectId:n.cetus_integrate,module:Xi,function:o?"create_and_add_liquidity_fix_token":"create_pool",gasBudget:t,typeArguments:a,arguments:c}}async fetchTicks(e){let t=[],n=0,r=!1;const i=512;for(;;){const s=await this.getTicks({pool_id:e.pool_id,coinTypeA:e.coinTypeA,coinTypeB:e.coinTypeB,tick_idx:n,limit:i,tick_flag:r});if(t=[...t,...s],s.length<i)break;r=!0,n=Number(s[s.length-1].index)}return t}async getTicks(e){var t;const{modules:n,simulationAccount:r}=this.sdk.sdkOptions.networkOptions,i=[],s=[e.coinTypeA,e.coinTypeB],o=[e.pool_id,e.tick_flag,e.tick_idx.toString(),e.limit.toString()],a={packageObjectId:n.cetus_integrate,module:Y2,function:"fetch_ticks",gasBudget:1e4,typeArguments:s,arguments:o};return console.log("payload: ",a),(t=(await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:a})).effects.events)==null||t.forEach(u=>{"moveEvent"in u&&kn(u.moveEvent.type).name==="FetchTicksResultEvent"&&(console.log("data: ",u.moveEvent.fields.ticks),u.moveEvent.fields.ticks.forEach(l=>{i.push(JC(l.fields))}))}),i}async fetchTicksByRpc(e){let t=[],n=null;const r=512;for(;;){const i=[],s=await this.sdk.fullClient.getDynamicFields(e,n,r);if(n=s.nextCursor,s.data.forEach(o=>{if(kn(o.objectType).module==="dl_list_table"){const a=o.name.match(QC);a?i.push({index:BigInt.asIntN(32,BigInt(a[2])).toString(),objectId:o.objectId}):console.log(`transform fail:  ${o} `)}}),t=[...t,...await this.getTicksByRpc(i.map(o=>o.objectId))],n===null||s.data.length<r)break}return t}async getTicksByRpc(e){const t=[],n=await this.sdk.fullClient.getObjectBatch(e);for(const r of n)t.push(a0(r));return t}async getTickDataByIndex(e,t){const r=`${this.sdk.sdkOptions.networkOptions.modules.integer_mate}::i32::I32 {bits: ${BigInt.asUintN(32,BigInt(t)).toString()}u32}`,i=await this.sdk.fullClient.getDynamicFieldObject(e,r);return a0(i)}async getTickDataByObjectId(e){const t=await this.sdk.fullClient.getObject(e);return a0(t)}},tR=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}createAddLiquidityTransactionPayload(e,t=el){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=!("delta_liquidity"in e),i=e.is_open,s=r?i?"open_and_add_liquidity_fix_token":"add_liquidity_fix_token":i?"open_and_add_liquidity":"add_liquidity",o=[e.coinTypeA,e.coinTypeB],a=BigInt.asUintN(32,BigInt(e.tick_lower)).toString(),c=BigInt.asUintN(32,BigInt(e.tick_upper)).toString(),u=r?i?[e.pool_id,e.coin_object_ids_a,e.coin_object_ids_b,a,c,e.amount_a.toString(),e.amount_b.toString(),e.fix_amount_a]:[e.pool_id,e.pos_id,e.coin_object_ids_a,e.coin_object_ids_b,e.amount_a.toString(),e.amount_b.toString(),e.fix_amount_a]:i?[e.pool_id,e.coin_object_ids_a,e.coin_object_ids_b,a,c,e.delta_liquidity]:[e.pool_id,e.pos_id,e.coin_object_ids_a,e.coin_object_ids_b,e.delta_liquidity];return{packageObjectId:n.cetus_integrate,module:Xi,function:s,gasBudget:t,typeArguments:o,arguments:u}}removeLiquidityTransactionPayload(e,t=el){const{modules:n}=this.sdk.sdkOptions.networkOptions,r="delta_liquidity"in e;let i="remove_liquidity";r||(i=["remove_position","remove_position_for_one","remove_position_for_two","remove_position_for_three"][e.coin_types.length-2]);const o=[...e.coin_types],a=r?[e.pool_id,e.pos_id,e.delta_liquidity,e.min_amount_a,e.min_amount_b]:[e.pool_id,e.pos_id,e.min_amount_a,e.min_amount_b];return{packageObjectId:n.cetus_integrate,module:Xi,function:i,gasBudget:t,typeArguments:o,arguments:a}}closePositionTransactionPayload(e,t=_u){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=[e.coinTypeA,e.coinTypeB],i=[e.pool_id,e.pos_id];return{packageObjectId:n.cetus_integrate,module:Xi,function:"close_position",gasBudget:t,typeArguments:r,arguments:i}}openPositionTransactionPayload(e,t=_u){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=[e.coinTypeA,e.coinTypeB],i=BigInt.asUintN(32,BigInt(e.tick_lower)).toString(),s=BigInt.asUintN(32,BigInt(e.tick_upper)).toString(),o=[e.pool_id,i,s];return{packageObjectId:n.cetus_integrate,module:Xi,function:"open_position",gasBudget:t,typeArguments:r,arguments:o}}collectFeeTransactionPayload(e,t=_u){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=[e.coinTypeA,e.coinTypeB],i=[e.pool_id,e.pos_id];return{packageObjectId:n.cetus_integrate,module:Xi,function:"collect_fee",gasBudget:t,typeArguments:r,arguments:i}}},J2=class{constructor(e,t=0){this.overdueTime=t,this.value=e}getCacheData(){return this.value===null?null:this.overdueTime===0?this.value:Date.parse(new Date().toString())>this.overdueTime?null:this.value}},nR="0x2::coin::Coin",rR=/^0x2::coin::Coin<(.+)>$/,tu=1e3,iR=500,sR=100,Lg=100,on=class{static getCoinTypeArg(e){const t=e.type.match(rR);return t?t[1]:null}static isSUI(e){const t=on.getCoinTypeArg(e);return t?on.getCoinSymbol(t)==="SUI":!1}static getCoinSymbol(e){return e.substring(e.lastIndexOf(":")+1)}static getBalance(e){return BigInt(e.fields.balance)}static totalBalance(e,t){let n=BigInt(0);return e.forEach(r=>{t===r.coinAddress&&(n+=BigInt(r.balance))}),n}static getID(e){return e.fields.id.id}static getCoinTypeFromArg(e){return`${nR}<${e}>`}static getFaucetCoins(e){const{events:t}=e.effects,n=[];return t==null||t.forEach(r=>{if("moveEvent"in r){const{type:i}=r.moveEvent;if(kn(i).name==="InitEvent"){const s=r.moveEvent.fields;n.push({transactionModule:r.moveEvent.transactionModule,address:s.address,suplyID:s.suplyID,decimals:s.decimals})}}}),n.forEach(r=>{t==null||t.forEach(i=>{if("moveEvent"in i){const{type:s}=i.moveEvent,o=kn(s);if(o.name==="CurrencyCreated"&&r.transactionModule===i.moveEvent.transactionModule){const{fields:a}=i.moveEvent;r.address=o.type_arguments[0],r.decimals=a.decimals}}})}),n}static async transferCoin(e,t,n,r,i){const s=await on.selectCoin(e,t,n,i);return e.transferObject({objectId:s,gasBudget:sR,recipient:r})}static async transferSui(e,t,n,r,i){const s=await on.prepareCoinWithEnoughBalance(e,t,n+BigInt(Lg),i);return e.transferSui({suiObjectId:on.getID(s),gasBudget:Lg,recipient:r,amount:Number(n)})}static getSuiMoveObjects(e,t){const n=on.getCoinTypeFromArg(e),r=[];return t.forEach(i=>{"type"in i.data&&i.data.type===n&&r.push(i.data)}),r}static getCoinAssets(e,t){const n=[];return t.forEach(r=>{r.coinAddress===e&&n.push(r)}),n}static async selectCoinAssets(e,t,n,r){if(t.length===0)throw new Error("Insufficient balance");return on.isSuiCoin(t[0].coinAddress)?[await on.selectCoinAsset(e,t,n,r)]:on.selectCoinObjectIdGreaterThanOrEqual(t,n)}static async selectSuiCoinAssets(e,t,n,r,i){if(this.totalBalance(n,"0x2::sui::SUI")<r)throw new Error("Insufficient balance");const s=await t.getAddress(),o=await i.fullClient.devInspectTransaction(s,{kind:"moveCall",data:e}),{gasUsed:a}=o.effects,c=a.computationCost+a.storageCost-a.storageRebate;let u=on.selectCoinAssetGreaterThanOrEqual(n,r);console.log("amountCoins: ",u);const l=on.selectCoinAssetGreaterThanOrEqual(n,BigInt(c),u.map(h=>h.coinObjectId));if(l.length===0){r-=BigInt(c),await t.paySui({inputCoins:n.map(y=>y.coinObjectId),recipients:[s],amounts:[c],gasBudget:tu}),n=await i.Resources.getOwnerCoinAssets(s,"0x2::sui::SUI");const h=this.totalBalance(n,"0x2::sui::SUI")-BigInt(c);h<r&&(r=h)}if(l.length>1){await t.paySui({inputCoins:n.map(y=>y.coinObjectId),recipients:[s],amounts:[c],gasBudget:tu}),n=await i.Resources.getOwnerCoinAssets(s,"0x2::sui::SUI");const h=this.totalBalance(n,"0x2::sui::SUI")-BigInt(c);h<r&&(r=h)}let d="";if(l.length===1)d=l[0].coinObjectId;else{for(const h of n)h.balance===BigInt(c)&&(d=h.coinObjectId);u=on.selectCoinAssetGreaterThanOrEqual(n,r,[d])}if(d.length===0)throw new Error("Insufficient balance");return{amount:r,amountCoins:u.map(h=>h.coinObjectId),gasCoinId:d}}static isSuiCoin(e){return kn(e).name==="SUI"}static async selectCoinAsset(e,t,n,r){const i=await on.prepareCoinAssetWithEnoughBalance(e,t,n,r),s=i.coinObjectId,{balance:o}=i;if(o===n)return s;if(o>n)return await e.splitCoin({coinObjectId:s,gasBudget:tu,splitAmounts:[Number(o-n)]}),s;throw new Error("Insufficient balance")}static async selectCoin(e,t,n,r){const i=await on.prepareCoinWithEnoughBalance(e,t,n,r),s=on.getID(i),o=on.getBalance(i);if(o===n)return s;if(o>n)return await e.splitCoin({coinObjectId:s,gasBudget:tu,splitAmounts:[Number(o-n)]}),s;throw new Error("Insufficient balance")}static async prepareCoinWithEnoughBalance(e,t,n,r){var i;t.sort((a,c)=>on.getBalance(a)-on.getBalance(c)>0?1:-1);const s=t.find(a=>on.getBalance(a)>=n);if(s)return s;const o=t[t.length-1];for(let a=t.length-2;a>0;a-=1){await e.mergeCoin({primaryCoin:on.getID(o),coinToMerge:on.getID(t[a]),gasBudget:iR});const c=await r.fullClient.getObject(on.getID(o));if(Number((i=vt.getBalance(c))==null?void 0:i.toString())>=n)return o}return o}static async prepareCoinAssetWithEnoughBalance(e,t,n,r){var i;const s=on.isSuiCoin(t[0].coinAddress);t.sort((d,h)=>d.balance-h.balance>0?1:-1);const o=t.find(d=>d.balance>=n);if(o)return o;const a=on.selectCoinAssetGreaterThanOrEqual(t,n),c=a.map(d=>d.coinObjectId);if(s)return await e.payAllSui({inputCoins:c,recipient:await e.getAddress(),gasBudget:1e3}),a[0];const u=await e.pay({inputCoins:c,recipients:[await e.getAddress()],amounts:[Number(n)],gasBudget:1e3}),l=Rk(u);if(l!==void 0&&l.created!==void 0){const d=l.created[0].reference.objectId,h=await r.fullClient.getObject(d),y=Number((i=vt.getBalance(h))==null?void 0:i.toString());return{coinAddress:"",coinObjectId:d,balance:BigInt(y)}}throw new Error("prepareCoinAssetWithEnoughBalance fail #{mergeCoinIds} ")}static selectCoinObjectIdGreaterThanOrEqual(e,t,n=[]){return on.selectCoinAssetGreaterThanOrEqual(e,t,n).map(r=>r.coinObjectId)}static selectCoinAssetGreaterThanOrEqual(e,t,n=[]){const r=on.sortByBalanceDes(e.filter(a=>!n.includes(a.coinObjectId))),i=on.calculateTotalBalance(r);if(i<t)return[];if(i===t)return r;let s=BigInt(0);const o=[];for(;s<i;){const a=t-s,c=r.find(l=>l.balance>=a);if(c){o.push(c);break}const u=r.pop();u.balance>0&&(o.push(u),s+=u.balance)}return on.sortByBalance(o)}static sortByBalance(e){return e.sort((t,n)=>t.balance<n.balance?-1:t.balance>n.balance?1:0)}static sortByBalanceDes(e){return e.sort((t,n)=>t.balance>n.balance?-1:t.balance<n.balance?0:1)}static calculateTotalBalance(e){return e.reduce((t,n)=>t+n.balance,BigInt(0))}},oR=5*60*1e3,eo=24*60*60*1e3;function Hg(e){return Date.parse(new Date().toString())+e}var aR=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getSuiTransactionResponse(e,t=!1){const n=`${e}_getSuiTransactionResponse`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=await this._sdk.fullClient.getTransactionWithEffects(e);return this.updateCache(n,i,eo),i}async getFaucetEvent(e,t,n=!0){const r=`${e}_${t}_getFaucetEvent`,i=this._cache[r];if(i!==void 0&&i.getCacheData()&&!n)return i.value;const s=(await this._sdk.fullClient.getEvents({MoveEvent:`${e}::faucet::FaucetEvent`},null,null)).data;let o={id:"",time:0};return s.forEach(a=>{const c=a.event;if(ZC(t)===c.moveEvent.sender){const{fields:u}=a.event.moveEvent,l={id:u.id,time:Number(u.time)},d=o.time;d>0?l.time>d&&(o=l):o=l}}),o.time>0?(this.updateCache(r,o,eo),o):null}async getInitEvent(e=!1){const t=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,n=`${t}_getInitEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=await this._sdk.fullClient.getObject(t),s=k2(i),o=(await this._sdk.fullClient.getEvents({Transaction:s},null,null)).data,a={};return o.length>0&&(o.forEach(c=>{if("moveEvent"in c.event){const{fields:u}=c.event.moveEvent;switch(c.event.moveEvent.type){case`${t}::config::InitConfigEvent`:a.initConfigEvent=u;break;case`${t}::partner::InitPartnerEvent`:a.initPartnerEvent=u;break;case`${t}::factory::InitFactoryEvent`:a.initFactoryEvent=u;break}}}),this.updateCache(n,a,eo)),a}async getCreatePartnerEvent(e=!1){const t=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,n=`${t}_getInitEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=(await this._sdk.fullClient.getEvents({MoveEvent:`${t}::partner::CreatePartnerEvent`},null,null)).data,s=[];return i.length>0&&(i.forEach(o=>{"moveEvent"in o.event&&s.push(o.event.moveEvent.fields)}),this.updateCache(n,s,eo)),s}async getPoolImmutables(e=[],t=0,n=100,r=!1){const i=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,s=`${i}_getInitPoolEvent`,o=this._cache[s],a=[],c=[];if(o!==void 0&&o.getCacheData()&&!r&&a.push(...o.value),a.length===0)try{(await this._sdk.fullClient.getEvents({MoveEvent:`${i}::factory::CreatePoolEvent`},null,null)).data.forEach(d=>{if("moveEvent"in d.event){const{fields:h}=d.event.moveEvent;a.push({poolAddress:h.id,tickSpacing:h.tick_spacing,coinTypeA:kn(h.coin_type_a).full_address,coinTypeB:kn(h.coin_type_b).full_address})}}),this.updateCache(s,a,eo)}catch(l){console.log("getPoolImmutables",l)}const u=e.length>0;for(let l=0;l<a.length;l+=1){const d=a[l];if(!(u&&!e.includes(d.poolAddress))){if(!u){const h=Number(l);if(h<t||h>=t+n)continue}c.push(d)}}return c}async getPools(e=[],t=0,n=100){const r=[];let i=[];e.length>0?i=[...e]:(await this.getPoolImmutables([],t,n,!1)).forEach(a=>{i.push(a.poolAddress)});const s=await this.sdk.fullClient.getObjectBatch(i);for(const o of s){const a=qg(o);r.push(a);const c=`${a.poolAddress}_getPoolObject`;this.updateCache(c,a,eo)}return r}async getPool(e,t=!0){const n=`${e}_getPoolObject`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=await this._sdk.fullClient.getObject(e),s=qg(i);return this.updateCache(n,s),s}async getPositionList(e,t=[]){const n=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,r=[],i=await this._sdk.fullClient.getObjectsOwnedByAddress(e),s=[];i.forEach(c=>{kn(c.type).full_address===`${n}::pool::Position`&&s.push(c.objectId)});const o=t.length>0,a=await this.sdk.fullClient.getObjectBatch(s);for(const c of a)if(c.status==="Exists"){const u=Dg(c);o?t.includes(u.pool)&&r.push(u):r.push(u)}return r}async getPosition(e){const t=await this.sdk.fullClient.getObject(e);if(t.status==="Exists")return Dg(t)}async getOwnerCoinAssets(e,t){const n=[];let r=null;for(;;){const i=await(t?this._sdk.fullClient.getCoins(e,t,r,null):this._sdk.fullClient.getAllCoins(e,r,null));if(i.data.forEach(s=>{n.push({coinAddress:s.coinType,coinObjectId:s.coinObjectId,balance:BigInt(s.balance)})}),r=i.nextCursor,r===null)break}return n}async getSuiObjectOwnedByAddress(e){const t=[],r=(await this._sdk.fullClient.getObjectsOwnedByAddress(e)).map(s=>s.objectId);return(await this._sdk.fullClient.getObjectBatch(r)).forEach(s=>{const o=Ec(s);if(o){const a=o.data,c=on.getCoinTypeArg(a),u=vt.getBalance(a),l={coinAddress:c,balance:u,...o};t.push(l)}}),t}updateCache(e,t,n=oR){let r=this._cache[e];r?(r.overdueTime=Hg(n),r.value=t):r=new J2(t,Hg(n)),this._cache[e]=r}};We.config({precision:64,rounding:We.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var Tr=We,Pn=class extends Error{constructor(e,t){super(e),this.message=e,this.errorCode=t}static isClmmpoolsErrorCode(e,t){return e instanceof Pn&&e.errorCode===t}},qt=new C(0),Co=new C(1),yd=new C(2);yd.pow(new C(128));var tl=yd.pow(new C(64)).sub(Co),cR=yd.pow(new C(128)).sub(Co),Et=class{static toX64_BN(e){return e.mul(new C(2).pow(new C(64)))}static toX64_Decimal(e){return e.mul(Tr.pow(2,64))}static toX64(e){return new C(e.mul(Tr.pow(2,64)).floor().toFixed())}static fromX64(e){return new Tr(e.toString()).mul(Tr.pow(2,-64))}static fromX64_Decimal(e){return e.mul(Tr.pow(2,-64))}static fromX64_BN(e){return e.div(new C(2).pow(new C(64)))}static shiftRightRoundUp(e){let t=e.shrn(64);return e.mod(tl).gt(qt)&&(t=t.add(Co)),t}static divRoundUp(e,t){return e.mod(t).eq(qt)?e.div(t):e.div(t).add(new C(1))}static subUnderflowU128(e,t){return e.lt(t)?e.sub(t).add(cR):e.sub(t)}static checkUnsignedSub(e,t){const n=e.sub(t);if(n.isNeg())throw new Pn("Unsigned integer sub overflow","UnsignedIntegerOverflow");return n}static checkMul(e,t,n){const r=e.mul(t);if(this.isOverflow(r,n))throw new Pn("Multiplication overflow","MultiplicationOverflow");return r}static checkMulDivFloor(e,t,n,r){if(n.eq(qt))throw new Pn("Devide by zero","DivideByZero");const i=e.mul(t).div(n);if(this.isOverflow(i,r))throw new Pn("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivCeil(e,t,n,r){if(n.eq(qt))throw new Pn("Devide by zero","DivideByZero");const i=e.mul(t).add(n.sub(Co)).div(n);if(this.isOverflow(i,r))throw new Pn("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivRound(e,t,n,r){if(n.eq(qt))throw new Pn("Devide by zero","DivideByZero");const i=e.mul(t.add(n.shrn(1))).div(n);if(this.isOverflow(i,r))throw new Pn("Multiplication div overflow","MulDivOverflow");return i}static checkMulShiftRight(e,t,n,r){const i=e.mul(t).div(new C(2).pow(new C(n)));if(this.isOverflow(i,r))throw new Pn("Multiplication shift right overflow","MulShiftRightOverflow");return i}static checkMulShiftRight64RoundUpIf(e,t,n,r){const i=e.mul(t),o=r&&i.and(tl).gt(qt)?i.shrn(64).add(Co):i.shrn(64);if(this.isOverflow(o,n))throw new Pn("Multiplication shift right overflow","MulShiftRightOverflow");return o}static checkMulShiftLeft(e,t,n,r){const i=e.mul(t).shln(n);if(this.isOverflow(i,r))throw new Pn("Multiplication shift left overflow","MulShiftLeftOverflow");return i}static checkDivRoundUpIf(e,t,n){if(t.eq(qt))throw new Pn("Devide by zero","DivideByZero");return n?this.divRoundUp(e,t):e.div(t)}static isOverflow(e,t){return e.gte(yd.pow(new C(t)))}},zg=443636,Fg=-443636,md="79226673515401279992447579055",wd="4295048016",go=new C(1e6),uR=class{static getMinIndex(e){return Fg+Math.abs(Fg)%e}static getMaxIndex(e){return zg-zg%e}};function lR(e,t){const n=Math.abs(e)%t;return e>0?n>t/2?e+t-n:e-n:n>t/2?e-t+n:e+n}function dR(e,t,n,r,i,s){const o=e.rewarder_infos,a=[];for(let c=0;c<o.length;c+=1){let u=s[c];t!==null&&(Number(e.current_tick_index)<r?u=s[c].sub(new C(t.rewardersGrowthOutside[c])):u=t.rewardersGrowthOutside[c]);let l=new C(0);n!==null&&(Number(e.current_tick_index)>=i?l=s[c].sub(new C(n.rewardersGrowthOutside[c])):l=n.rewardersGrowthOutside[c]);const d=Et.subUnderflowU128(Et.subUnderflowU128(new C(s[c]),new C(u)),new C(l));a.push(d)}return a}var fR=class{constructor(e){this._sdk=e,this.growthGlobal=[qt,qt,qt]}get sdk(){return this._sdk}async emissionsEveryDay(e){const n=(await this.sdk.Resources.getPool(e)).rewarder_infos;if(!n)return null;const r=[];for(const i of n){const s=Et.fromX64(new C(i.emissions_per_second));r.push({emissions:Math.floor(s.toNumber()*60*60*24),coin_address:i.coin_name})}return r}async updatePoolRewarder(e,t){const n=await this.sdk.Resources.getPool(e),r=n.rewarder_last_updated_time;if(n.rewarder_last_updated_time=t.toString(),Number(n.liquidity)===0||t.eq(new C(r)))return n;const i=t.div(new C(1e3)).sub(new C(r)).add(new C(15)),s=n.rewarder_infos;for(let o=0;o<s.length;o+=1){const a=s[o],c=Et.checkMulDivFloor(i,new C(a.emissions_per_second),new C(n.liquidity),128);this.growthGlobal[o]=new C(a.growth_global).add(new C(c))}return n}async posRewardersAmount(e,t){const n=Date.parse(new Date().toString()),r=await this.updatePoolRewarder(e,new C(n)),i=await this.sdk.Resources.getPosition(t);if(i===void 0)return[];const s=r.ticks_handle,o=await this.sdk.Pool.getTickDataByIndex(s,i.tick_lower_index),a=await this.sdk.Pool.getTickDataByIndex(s,i.tick_upper_index);return await this.posRewardersAmountInternal(r,i,o,a)}async poolRewardersAmount(e,t){const n=Date.parse(new Date().toString()),r=await this.updatePoolRewarder(t,new C(n)),i=await this.sdk.Resources.getPositionList(e,[t]),s=await this.getPoolLowerAndUpperTicks(r.ticks_handle,i),o=[qt,qt,qt];for(let a=0;a<i.length;a+=1){const c=await this.posRewardersAmountInternal(r,i[a],s[0][a],s[1][a]);for(let u=0;u<3;u+=1)o[u]=o[u].add(c[u].amount_owed)}return o}posRewardersAmountInternal(e,t,n,r){const i=parseInt(t.tick_lower_index,10),s=parseInt(t.tick_upper_index,10),o=dR(e,n,r,i,s,this.growthGlobal),a=[],c=[];if(o.length>0){const u=Et.subUnderflowU128(o[0],new C(t.reward_growth_inside_0)),l=Et.checkMulShiftRight(new C(t.liquidity),u,64,256);a.push(o[0]),c.push({amount_owed:new C(t.reward_amount_owed_0).add(l),coin_address:e.rewarder_infos[0].coin_name})}if(o.length>1){const u=Et.subUnderflowU128(o[1],new C(t.reward_growth_inside_1)),l=Et.checkMulShiftRight(new C(t.liquidity),u,64,256);a.push(o[1]),c.push({amount_owed:new C(t.reward_amount_owed_1).add(l),coin_address:e.rewarder_infos[1].coin_name})}if(o.length>2){const u=Et.subUnderflowU128(o[2],new C(t.reward_growth_inside_2)),l=Et.checkMulShiftRight(new C(t.liquidity),u,64,256);a.push(o[2]),c.push({amount_owed:new C(t.reward_amount_owed_2).add(l),coin_address:e.rewarder_infos[2].coin_name})}return c}async getPoolLowerAndUpperTicks(e,t){const n=[],r=[];for(const i of t){const s=await this.sdk.Pool.getTickDataByIndex(e,i.tick_lower_index),o=await this.sdk.Pool.getTickDataByIndex(e,i.tick_upper_index);n.push(s),r.push(o)}return[n,r]}collectRewarderTransactionPayload(e,t=_u){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=["collect_rewarder","collect_rewarder_for_two","collect_rewarder_for_three"],i=[...e.coinType],s=[e.pool_id,e.pos_id];return{packageObjectId:n.cetus_integrate,module:Xi,function:r[e.coinType.length-2],gasBudget:t,typeArguments:i,arguments:s}}},hR=14,pR="59543866431248",gR="184467440737095516",yR="15793534762490258745";function mR(e,t,n){const r=e.toTwos(n).shln(t);return r.imaskn(n+1),r.fromTwos(n)}function Ct(e,t,n){const r=e.toTwos(n).shrn(t);return r.imaskn(n-t+1),r.fromTwos(n-t)}function wR(e){let t;return e&1?t=new C("79232123823359799118286999567"):t=new C("79228162514264337593543950336"),e&2&&(t=Ct(t.mul(new C("79236085330515764027303304731")),96,256)),e&4&&(t=Ct(t.mul(new C("79244008939048815603706035061")),96,256)),e&8&&(t=Ct(t.mul(new C("79259858533276714757314932305")),96,256)),e&16&&(t=Ct(t.mul(new C("79291567232598584799939703904")),96,256)),e&32&&(t=Ct(t.mul(new C("79355022692464371645785046466")),96,256)),e&64&&(t=Ct(t.mul(new C("79482085999252804386437311141")),96,256)),e&128&&(t=Ct(t.mul(new C("79736823300114093921829183326")),96,256)),e&256&&(t=Ct(t.mul(new C("80248749790819932309965073892")),96,256)),e&512&&(t=Ct(t.mul(new C("81282483887344747381513967011")),96,256)),e&1024&&(t=Ct(t.mul(new C("83390072131320151908154831281")),96,256)),e&2048&&(t=Ct(t.mul(new C("87770609709833776024991924138")),96,256)),e&4096&&(t=Ct(t.mul(new C("97234110755111693312479820773")),96,256)),e&8192&&(t=Ct(t.mul(new C("119332217159966728226237229890")),96,256)),e&16384&&(t=Ct(t.mul(new C("179736315981702064433883588727")),96,256)),e&32768&&(t=Ct(t.mul(new C("407748233172238350107850275304")),96,256)),e&65536&&(t=Ct(t.mul(new C("2098478828474011932436660412517")),96,256)),e&131072&&(t=Ct(t.mul(new C("55581415166113811149459800483533")),96,256)),e&262144&&(t=Ct(t.mul(new C("38992368544603139932233054999993551")),96,256)),Ct(t,32,256)}function _R(e){const t=Math.abs(e);let n;return t&1?n=new C("18445821805675392311"):n=new C("18446744073709551616"),t&2&&(n=Ct(n.mul(new C("18444899583751176498")),64,256)),t&4&&(n=Ct(n.mul(new C("18443055278223354162")),64,256)),t&8&&(n=Ct(n.mul(new C("18439367220385604838")),64,256)),t&16&&(n=Ct(n.mul(new C("18431993317065449817")),64,256)),t&32&&(n=Ct(n.mul(new C("18417254355718160513")),64,256)),t&64&&(n=Ct(n.mul(new C("18387811781193591352")),64,256)),t&128&&(n=Ct(n.mul(new C("18329067761203520168")),64,256)),t&256&&(n=Ct(n.mul(new C("18212142134806087854")),64,256)),t&512&&(n=Ct(n.mul(new C("17980523815641551639")),64,256)),t&1024&&(n=Ct(n.mul(new C("17526086738831147013")),64,256)),t&2048&&(n=Ct(n.mul(new C("16651378430235024244")),64,256)),t&4096&&(n=Ct(n.mul(new C("15030750278693429944")),64,256)),t&8192&&(n=Ct(n.mul(new C("12247334978882834399")),64,256)),t&16384&&(n=Ct(n.mul(new C("8131365268884726200")),64,256)),t&32768&&(n=Ct(n.mul(new C("3584323654723342297")),64,256)),t&65536&&(n=Ct(n.mul(new C("696457651847595233")),64,256)),t&131072&&(n=Ct(n.mul(new C("26294789957452057")),64,256)),t&262144&&(n=Ct(n.mul(new C("37481735321082")),64,256)),n}var Jt=class{static priceToSqrtPriceX64(e,t,n){return Et.toX64(e.mul(Tr.pow(10,n-t)).sqrt())}static sqrtPriceX64ToPrice(e,t,n){return Et.fromX64(e).pow(2).mul(Tr.pow(10,t-n))}static tickIndexToSqrtPriceX64(e){return e>0?new C(wR(e)):new C(_R(e))}static sqrtPriceX64ToTickIndex(e){if(e.gt(new C(md))||e.lt(new C(wd)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const t=e.bitLength()-1,n=new C(t-64),r=mR(n,32,128);let i=new C("8000000000000000","hex"),s=0,o=new C(0),a=t>=64?e.shrn(t-63):e.shln(63-t);for(;i.gt(new C(0))&&s<hR;){a=a.mul(a);const b=a.shrn(127);a=a.shrn(63+b.toNumber()),o=o.add(i.mul(b)),i=i.shrn(1),s+=1}const c=o.shrn(32),l=r.add(c).mul(new C(pR)),d=Ct(l.sub(new C(gR)),64,128).toNumber(),h=Ct(l.add(new C(yR)),64,128).toNumber();return d===h?d:Jt.tickIndexToSqrtPriceX64(h).lte(e)?h:d}static tickIndexToPrice(e,t,n){return Jt.sqrtPriceX64ToPrice(Jt.tickIndexToSqrtPriceX64(e),t,n)}static priceToTickIndex(e,t,n){return Jt.sqrtPriceX64ToTickIndex(Jt.priceToSqrtPriceX64(e,t,n))}static priceToInitializableTickIndex(e,t,n,r){return Jt.getInitializableTickIndex(Jt.priceToTickIndex(e,t,n),r)}static getInitializableTickIndex(e,t){return e-e%t}static getNextInitializableTickIndex(e,t){return Jt.getInitializableTickIndex(e,t)+t}static getPrevInitializableTickIndex(e,t){return Jt.getInitializableTickIndex(e,t)-t}};function bR(e){const t=[];for(const n of e){const r={objectId:n.objectId,index:Number(BigInt.asIntN(32,BigInt(n.index)).toString()),sqrtPrice:n.sqrtPrice,liquidityNet:new C(BigInt.asIntN(32,BigInt(n.liquidityNet.toString())).toString()),liquidityGross:n.liquidityGross,feeGrowthOutsideA:n.feeGrowthOutsideA,feeGrowthOutsideB:n.feeGrowthOutsideB,rewardersGrowthOutside:[new C(n.rewardersGrowthOutside[0]),new C(n.rewardersGrowthOutside[1]),new C(n.rewardersGrowthOutside[2])]};t.push(r)}return t}function nu(e,t){return{pair:`${e.toUpperCase()}-${t.toUpperCase()}`,reversePair:`${t.toUpperCase()}-${e.toUpperCase()}`}}function vR(e){if(e.length===1)return{maxPrice:e[0],index:0};let t=e[0],n=0;for(let r=0;r<e.length;r+=1)t.lt(e[r])&&(n=r,t=e[r]);return{maxPrice:t,index:n}}var xR=class{constructor(e){this.priceProviders=[],this.pathProviders=[],this.coinProviders=[],this.graph=new mw,this._rates=new Map,this._coinSymbolMapping=new Map,this._coinAddressMapping=new Map,this.poolMapping=new Map,this._sdk=e}get sdk(){return this._sdk}getPoolAddressAndDirection(e,t){const{pair:n,reversePair:r}=nu(e,t);let i=this.poolMapping.get(n);if(i!==void 0)return{address:i,direction:!0};if(i=this.poolMapping.get(r),i!==void 0)return{address:i,direction:!1}}async setCoinList(e){e.forEach(t=>{const n={address:t.address,symbol:t.symbol,decimals:t.decimals};this._coinSymbolMapping.set(t.symbol,n),this._coinAddressMapping.set(t.address,n)})}async loadGraph(){for(const e of this.pathProviders){const{paths:t}=e;for(let n=0;n<t.length;n+=1){let r,i;this.graph.getVertexByKey(t[n].base)===void 0?r=new Ru(t[n].base):r=this.graph.getVertexByKey(t[n].base),this.graph.getVertexByKey(t[n].quote)===void 0?i=new Ru(t[n].quote.toUpperCase()):i=this.graph.getVertexByKey(t[n].quote),this.graph.addEdge(new yw(r,i));const s=this._coinSymbolMapping.get(t[n].base),o=this._coinSymbolMapping.get(t[n].quote);if(s!==void 0&&o!==void 0){const a=nu(t[n].base,t[n].quote).pair;this.poolMapping.set(a,t[n].address)}}}return this}addPathProvider(e){return this.pathProviders.push(e),this}addPriceProvider(e){return this.priceProviders.push(e),this}addCoinProvider(e){return this.coinProviders.push(e),this}tokenInfo(e){return this._coinAddressMapping.has(e)?this._coinAddressMapping.get(e):this._coinSymbolMapping.get(e)}async price(e,t){var n,r,i;const s=this.tokenInfo(e),o=this.tokenInfo(t);if(s===void 0||o===void 0)return;const a=this.graph.getVertexByKey(s.symbol),c=this.graph.getVertexByKey(o.symbol),u=this.graph.findAllPath(a,c),l=Array.from(u),d=[];for(const U of l)for(let B=0;B<U.length-1;B+=1){const v=U[B].value.toString(),_=U[B+1].value.toString(),S=(n=this.getPoolAddressAndDirection(v,_))==null?void 0:n.address;S!==void 0&&d.push(S)}await this._updatePoolInfo(d);const h=[],y=[];for(const U of l){const B=this._price(U);y.push(B.nodes),h.push(B.maxPrice)}const b=vR(h),A=[],I=[];for(let U=0;U<l[b.index].length-1;U+=1){const B=l[b.index][U].value.toString(),v=l[b.index][U+1].value.toString(),_=(r=this.getPoolAddressAndDirection(B,v))==null?void 0:r.address,S=(i=this.getPoolAddressAndDirection(B,v))==null?void 0:i.direction;_!==void 0&&S!==void 0&&(A.push(_),I.push(S))}return{maxIndex:b.index,maxPrice:b.maxPrice,nodes:y,pools:A,directions:I}}async _updatePoolInfo(e){for(const t of e){const n=await this._sdk.Resources.getPool(t),r=this.tokenInfo(n.coinTypeA),i=this.tokenInfo(n.coinTypeB),{pair:s}=nu(r.symbol,i.symbol),o=Jt.sqrtPriceX64ToPrice(new C(n.current_sqrt_price),r.decimals,i.decimals);this._rates.set(s,o)}}_price(e){let t=new We(1);const n=[];for(let r=0;r<e.length-1;r+=1){const i=e[r].value.toString(),s=e[r+1].value.toString();n.push(i),yu(i!==void 0&&s!==void 0);const o=this._directPrice(i,s);console.log("t",o==null?void 0:o.maxPrice.toString()),yu(o!==void 0),t=t.mul(o.maxPrice),console.log("m",t.toString())}return n.push(e[e.length-1].value.toString()),{maxPrice:t,nodes:n}}_directPrice(e,t){const n=[e,t],{pair:r,reversePair:i}=nu(e,t);if(this._rates.has(r)){const s=this._rates.get(r);return s===void 0?void 0:{maxPrice:s,nodes:n}}if(this._rates.has(i)){const s=this._rates.get(i);return yu(s!==void 0),{maxPrice:new We(1).div(s),nodes:n}}}},Z0=class{static getDefaultSqrtPriceLimit(e){return new C(e?wd:md)}static getDefaultOtherAmountThreshold(e){return e?qt:tl}};function Q2(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e),s=n.mul(i).shln(64),o=e.mul(t),a=s.div(o),c=s.mod(o);return r&&!c.eq(qt)?a.add(new C(1)):a}function e_(e,t,n,r){const i=e.gt(t)?e.sub(t):t.sub(e);if(n.eq(qt)||i.eq(qt))return qt;const s=n.mul(i),a=r&&s.and(tl).gt(qt)?s.shrn(64).add(Co):s.shrn(64);if(Et.isOverflow(a,64))throw new Pn("Result large than u64 max","IntegerDowncastOverflow");return a}function t_(e,t,n,r){if(n.eq(qt))return e;const i=Et.checkMulShiftLeft(e,t,64,256),s=t.shln(64),o=Et.checkMul(e,n,256);if(!r&&s.lte(o))throw new Pn("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const a=r?Et.checkDivRoundUpIf(i,s.add(o),!0):Et.checkDivRoundUpIf(i,s.sub(o),!0);if(a.lt(new C(wd)))throw new Pn("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(a.gt(new C(md)))throw new Pn("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return a}function n_(e,t,n,r){const i=Et.checkDivRoundUpIf(n.shln(64),t,!r),s=r?e.add(i):e.sub(i);if(s.lt(new C(wd))||s.gt(new C(md)))throw new Pn("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return s}function SR(e,t,n,r){return r?t_(e,t,n,!0):n_(e,t,n,!0)}function AR(e,t,n,r){return r?n_(e,t,n,!1):t_(e,t,n,!1)}function jg(e,t,n,r){return r?Q2(t,e,n,!0):e_(e,t,n,!0)}function Gg(e,t,n,r){return r?e_(t,e,n,!1):Q2(e,t,n,!1)}function TR(e,t,n,r,i,s){if(n===qt)return{amountIn:qt,amountOut:qt,nextSqrtPrice:t,feeAmount:qt};const o=e.gte(t);let a,c,u,l;if(s){const d=Et.checkMulDivFloor(r,Et.checkUnsignedSub(go,i),go,64),h=jg(e,t,n,o);h.gt(d)?(a=d,l=Et.checkUnsignedSub(r,d),u=SR(e,n,d,o)):(a=h,l=Et.checkMulDivCeil(a,i,go.sub(i),64),u=t),c=Gg(e,u,n,o)}else{const d=Gg(e,t,n,o);d.gt(r)?(c=r,u=AR(e,n,r,o)):(c=d,u=t),a=jg(e,u,n,o),l=Et.checkMulDivCeil(a,i,go.sub(i),64)}return{amountIn:a,amountOut:c,nextSqrtPrice:u,feeAmount:l}}function ER(e,t,n,r,i){let s=n,o=r.liquidity,{currentSqrtPrice:a}=r;const c={amountIn:qt,amountOut:qt,feeAmount:qt,refAmount:qt,nextSqrtPrice:qt,crossTickNum:0};let u,l;const d=Z0.getDefaultSqrtPriceLimit(e);for(const h of i){if(e&&r.currentTickIndex<Number(h.index)||!e&&r.currentTickIndex>Number(h.index)||h===null)continue;e&&d.gt(h.sqrtPrice)||!e&&d.lt(h.sqrtPrice)?u=d:u=h.sqrtPrice;const y=TR(a,u,o,s,r.feeRate,t);if(y.amountIn.eq(qt)||(s=t?s.sub(y.amountIn.add(y.feeAmount)):s.sub(y.amountOut)),c.amountIn=c.amountIn.add(y.amountIn),c.amountOut=c.amountOut.add(y.amountOut),c.feeAmount=c.feeAmount.add(y.feeAmount),y.nextSqrtPrice.eq(h.sqrtPrice)?(l=e?h.liquidityNet.mul(new C(-1)):h.liquidityNet,o=l.gt(qt)?o.add(l):o.sub(l.abs()),a=h.sqrtPrice):a=y.nextSqrtPrice,c.crossTickNum+=1,s.eq(qt))break}return c.amountIn=c.amountIn.add(c.feeAmount),c.nextSqrtPrice=a,c}function yo(e,t,n){const r=C.min(e,t),i=C.max(e,t),s=Et.fromX64_BN(n.mul(i).mul(r)),o=i.sub(r);return s.div(o)}function mo(e,t,n){const r=C.min(e,t),s=C.max(e,t).sub(r);return n.shln(64).div(s)}var oo=class{static updateFeeRate(e,t,n,r,i){const s=Et.checkMulDivCeil(t,new C(r),go,64),o=n===0?qt:Et.checkMulDivFloor(t,new C(n),go,64),a=t.mul(s).mul(o);if(i?e.feeProtocolCoinA=e.feeProtocolCoinA.add(s):e.feeProtocolCoinB=e.feeProtocolCoinB.add(s),a.eq(qt)||e.liquidity.eq(qt))return{refFee:o,clmm:e};const c=a.shln(64).div(e.liquidity);return i?e.feeGrowthGlobalA=e.feeGrowthGlobalA.add(c):e.feeGrowthGlobalB=e.feeGrowthGlobalB.add(c),{refFee:o,clmm:e}}static getCoinAmountFromLiquidity(e,t,n,r,i){const s=new Tr(e.toString()),o=new Tr(t.toString()),a=new Tr(n.toString()),c=new Tr(r.toString());let u,l;return t.lt(n)?(u=Et.toX64_Decimal(s).mul(c.sub(a)).div(a.mul(c)),l=new Tr(0)):t.lt(r)?(u=Et.toX64_Decimal(s).mul(c.sub(o)).div(o.mul(c)),l=Et.fromX64_Decimal(s.mul(o.sub(a)))):(u=new Tr(0),l=Et.fromX64_Decimal(s.mul(c.sub(a)))),i?{coinA:new C(u.ceil().toString()),coinB:new C(l.ceil().toString())}:{coinA:new C(u.floor().toString()),coinB:new C(l.floor().toString())}}static estimateLiquidityFromcoinAmounts(e,t,n,r){if(t>n)throw new Error("lower tick cannot be greater than lower tick");const i=Jt.sqrtPriceX64ToTickIndex(e),s=Jt.tickIndexToSqrtPriceX64(t),o=Jt.tickIndexToSqrtPriceX64(n);if(i<t)return yo(s,o,r.coinA);if(i>=n)return mo(o,s,r.coinB);const a=yo(e,o,r.coinA),c=mo(e,s,r.coinB);return C.min(a,c)}static estLiquidityAndcoinAmountFromOneAmounts(e,t,n,r,i,s,o){const a=Jt.sqrtPriceX64ToTickIndex(o),c=Jt.tickIndexToSqrtPriceX64(e),u=Jt.tickIndexToSqrtPriceX64(t);let l;if(a<=e){if(!r)throw new Error("lower tick cannot calculate liquidity by coinB");l=yo(c,u,n)}else if(a>=t){if(r)throw new Error("upper tick cannot calculate liquidity by coinA");l=mo(u,c,n)}else r?l=yo(o,u,n):l=mo(o,c,n);const d=oo.getCoinAmountFromLiquidity(l,o,c,u,i),h=d.coinA.mul(new C(1+s)),y=d.coinB.mul(new C(1+s));return{tokenMaxA:h,tokenMaxB:y,liquidityAmount:l}}},IR=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async preswap(e){var t;const{modules:n,simulationAccount:r}=this.sdk.sdkOptions.networkOptions,i=[e.coinTypeA,e.coinTypeB],s=[e.pool.poolAddress,e.a2b,e.by_amount_in,e.amount],o={packageObjectId:n.cetus_integrate,module:Y2,function:"calculate_swap_result",typeArguments:i,arguments:s},a=await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:o});console.log("preswap###simulateRes####",a);const c=(t=a.effects.events)==null?void 0:t.filter(u=>"moveEvent"in u?kn(u.moveEvent.type).name==="CalculatedSwapResultEvent":!1);return c.length===0?null:this.transformSwapData(e,c[0].moveEvent.fields.data.fields)}transformSwapData(e,t){const n=Jt.sqrtPriceX64ToPrice(new C(e.pool.current_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),r=Jt.sqrtPriceX64ToPrice(new C(t.after_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),i=Math.abs(n-r)/n*100;return{estimatedAmountIn:t.amount_in&&t.fee_amount?new C(t.amount_in).add(new C(t.fee_amount)).toString():"",estimatedAmountOut:t.amount_out,estimatedEndSqrtPrice:t.after_sqrt_price,estimatedFeeAmount:t.fee_amount,isExceed:t.is_exceed,amount:e.amount,aToB:e.a2b,byAmountIn:e.by_amount_in,priceImpactPct:i}}calculateRates(e){const{currentPool:t}=e,n={coinA:t.coinTypeA,coinB:t.coinTypeB,currentSqrtPrice:new C(t.current_sqrt_price),currentTickIndex:Number(t.current_tick_index),feeGrowthGlobalA:new C(t.fee_growth_global_a),feeGrowthGlobalB:new C(t.fee_growth_global_b),feeProtocolCoinA:new C(t.fee_protocol_coin_a),feeProtocolCoinB:new C(t.fee_protocol_coin_b),feeRate:new C(t.fee_rate),liquidity:new C(t.liquidity),tickIndexes:[],tickSpacing:Number(t.tickSpacing),ticks:[],collection_name:""};let r;e.a2b?r=e.swapTicks.sort((d,h)=>Number(h.index)-Number(d.index)):r=e.swapTicks.sort((d,h)=>Number(d.index)-Number(h.index));const i=ER(e.a2b,e.byAmountIn,e.amount,n,r);let s=!1;e.byAmountIn?s=i.amountIn.lt(e.amount):s=i.amountOut.lt(e.amount);const o=Z0.getDefaultSqrtPriceLimit(e.a2b);e.a2b&&i.nextSqrtPrice.lt(o)&&(s=!0),!e.a2b&&i.nextSqrtPrice.gt(o)&&(s=!0);let a=0;i.crossTickNum>6&&i.crossTickNum<40&&(a=22e3*(i.crossTickNum-6)),i.crossTickNum>40&&(s=!0);const c=Jt.sqrtPriceX64ToPrice(n.currentSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),u=Jt.sqrtPriceX64ToPrice(i.nextSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),l=Math.abs(c-u)/c*100;return{estimatedAmountIn:i.amountIn,estimatedAmountOut:i.amountOut,estimatedEndSqrtPrice:i.nextSqrtPrice,estimatedFeeAmount:i.feeAmount,isExceed:s,extraComputeLimit:a,amount:e.amount,aToB:e.a2b,byAmountIn:e.byAmountIn,priceImpactPct:l}}createSwapTransactionPayload(e,t=el){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=Z0.getDefaultSqrtPriceLimit(e.a2b),i=[e.coinTypeA,e.coinTypeB];if(n.swap_partner.length===0)throw Error("Please configure swap_partner");const s=[e.pool_id,n.swap_partner,e.coin_object_ids_a,e.coin_object_ids_b,e.a2b,e.by_amount_in,e.amount,e.amount_limit,r.toString()];return{packageObjectId:n.cetus_integrate,module:Xi,function:"swap_with_partner",gasBudget:t,typeArguments:i,arguments:s}}},BR=5*60*1e3,c0=24*60*60*1e3;function Wg(e){return Date.parse(new Date().toString())+e}var kR=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getAllRegisteredTokenList(e=!1){return await this.factchTokenList("",e)}async getOwnerTokenList(e="",t=!1){return await this.factchTokenList(e,t)}async getAllRegisteredPoolList(e=!1){return await this.factchPoolList("",e)}async getOwnerPoolList(e="",t=!1){return await this.factchPoolList(e,t)}async getWarpPoolList(e=!1){return await this.factchWarpPoolList("","",e)}async getOwnerWarpPoolList(e="",t="",n=!1){return await this.factchWarpPoolList(e,t,n)}async getSpecifyTokenListByCache(e){const t="getAllRegisteredTokenList",n=this.getCacheData(t),r=[];if(n!==null){const i=n;for(const s of e)for(const o of i)if(s===o.address){r.push(o);continue}}return r}async factchTokenList(e="",t=!1){var n;const{simulationAccount:r,token:i}=this.sdk.sdkOptions.networkOptions,s="getAllRegisteredTokenList";if(!t){const h=this.getCacheData(s);if(h!==null)return h}const o=e.length>0,a=[],c=o?[i.config.coin_registry_id,e]:[i.config.coin_registry_id],u={packageObjectId:i.token_deployer,module:"coin_list",function:o?"fetch_full_list":"fetch_all_registered_coin_info",gasBudget:1e4,typeArguments:a,arguments:c},l=await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:u});if("Err"in l.results)throw new Error(l.results.Err);const d=[];return(n=l.effects.events)==null||n.forEach(h=>{"moveEvent"in h&&kn(h.moveEvent.type).full_address===`${i.token_deployer}::coin_list::FetchCoinListEvent`&&h.moveEvent.fields.full_list.fields.value_list.forEach(b=>{d.push(this.transformData(b.fields,!1))})}),this.updateCache(s,d,c0),d}async factchPoolList(e="",t=!1){var n;const{simulationAccount:r,token:i}=this.sdk.sdkOptions.networkOptions,s="getAllRegisteredPoolList";if(!t){const h=this.getCacheData(s);if(h!==null)return h}const o=e.length>0,a=[],c=o?[i.config.pool_registry_id,e]:[i.config.pool_registry_id],u={packageObjectId:i.token_deployer,module:"lp_list",function:o?"fetch_full_list":"fetch_all_registered_coin_info",gasBudget:1e4,typeArguments:a,arguments:c};console.log("payload: ",u);const l=await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:u});if("Err"in l.results)throw new Error(l.results.Err);const d=[];return(n=l.effects.events)==null||n.forEach(h=>{"moveEvent"in h&&kn(h.moveEvent.type).full_address===`${i.token_deployer}::lp_list::FetchPoolListEvent`&&h.moveEvent.fields.full_list.fields.value_list.forEach(b=>{d.push(this.transformData(b.fields,!0))})}),this.updateCache(s,d,c0),d}async factchWarpPoolList(e="",t="",n=!1){const r=await this.factchPoolList(e,n);if(r.length===0)return[];const i=await this.factchTokenList(t,n),s=[];for(const o of r){for(const a of i)a.address===o.coin_a_address&&(o.coinA=a),a.address===o.coin_b_address&&(o.coinB=a);s.push(o)}return s}async getTokenConfigEvent(e=!1){const t=this._sdk.sdkOptions.networkOptions.token.token_deployer,n=`${t}_getTokenConfigEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=await this._sdk.fullClient.getObject(t),s=k2(i),o=(await this._sdk.fullClient.getEvents({Transaction:s},null,null)).data,a={coin_registry_id:"",pool_registry_id:"",coin_list_owner:"",pool_list_owner:""};return o.length>0&&o.forEach(c=>{if("newObject"in c.event){const{objectType:u,objectId:l}=c.event.newObject,d=kn(u);if(d.full_address===`${t}::core::Registry`)switch(d.type_arguments[1]){case`${t}::coin_list::CoinInfo`:a.coin_registry_id=l;break;case`${t}::lp_list::PoolInfo`:a.pool_registry_id=l;break}else if(d.full_address===`${t}::core::List`)switch(d.type_arguments[0]){case`${t}::coin_list::CoinKey`:a.coin_list_owner=l;break;case`${t}::lp_list::PoolKey`:a.pool_list_owner=l;break}}}),a.coin_registry_id.length>0&&this.updateCache(n,a,c0),a}transformData(e,t){const n={...e};if(t?(n.coin_a_address=kn(n.coin_a_address).full_address,n.coin_b_address=kn(n.coin_b_address).full_address):n.address=kn(n.address).full_address,e.extensions){const r=e.extensions.fields.contents;for(const i of r){const{key:s}=i.fields;let{value:o}=i.fields;if(s==="labels")try{o=JSON.parse(decodeURIComponent(B0.decode(o)))}catch{}n[s]=o}delete n.extensions}return n}updateCache(e,t,n=BR){let r=this._cache[e];r?(r.overdueTime=Wg(n),r.value=t):r=new J2(t,Wg(n)),this._cache[e]=r}getCacheData(e){const t=this._cache[e];return t!==void 0&&t.getCacheData()?t.value:null}},CR=class{constructor(e){this._sdkOptions=e,this._fullClient=new XC(new kh({fullnode:e.fullRpcUrl,faucet:e.fullRpcUrl})),this._swap=new IR(this),this._resources=new aR(this),this._pool=new eR(this),this._position=new tR(this),this._rewarder=new fR(this),this._router=new xR(this),this._token=new kR(this)}get Swap(){return this._swap}get fullClient(){return this._fullClient}get Resources(){return this._resources}get sdkOptions(){return this._sdkOptions}get Pool(){return this._pool}get Position(){return this._position}get Rewarder(){return this._rewarder}get Router(){return this._router}get Token(){return this._token}};function mr(e){return We.isDecimal(e)?e:new We(e===void 0?0:e)}new C(365);new C(24);new C(3600);new C(.5);function RR(e,t,n,r){const i=Math.max(e,n),o=Math.min(t,r)-i,a=t-e,c=r-n,u=new We(a.toString()),l=new We(c.toString()),d=new We(o.toString());let h=new We("0");return o<0?h=new We("0"):a===o?h=l.div(d):c===o?h=d.div(u):h=d.mul(d).div(l).div(u),h}function PR(e,t,n){let r=new C(0),i=new C(0);Number(e.current_tick_index)<Number(t.index)?(r=Et.subUnderflowU128(new C(e.fee_growth_global_a),new C(t.feeGrowthOutsideA)),i=Et.subUnderflowU128(new C(e.fee_growth_global_b),new C(t.feeGrowthOutsideB))):(r=new C(t.feeGrowthOutsideA),i=new C(t.feeGrowthOutsideB));let s=new C(0),o=new C(0);Number(e.current_tick_index)<Number(n.index)?(s=new C(n.feeGrowthOutsideA),o=new C(n.feeGrowthOutsideB)):(s=Et.subUnderflowU128(new C(e.fee_growth_global_a),new C(n.feeGrowthOutsideA)),o=Et.subUnderflowU128(new C(e.fee_growth_global_b),new C(n.feeGrowthOutsideB)));const a=Et.subUnderflowU128(Et.subUnderflowU128(new C(e.fee_growth_global_a),r),s),c=Et.subUnderflowU128(Et.subUnderflowU128(new C(e.fee_growth_global_b),i),o);return{fee_growth_inside_a:a,fee_growth_inside_b:c}}function UR(e,t,n){const r=Et.subUnderflowU128(t,new C(e.fee_growth_inside_a)),i=new C(e.liquidity).mul(r).shrn(64),s=Et.subUnderflowU128(n,new C(e.fee_growth_inside_b)),o=new C(e.liquidity).mul(s).shrn(64),a=new C(e.fee_owed_a).add(i),c=new C(e.fee_owed_b).add(o);return{feeOwedA:a,feeOwedB:c}}function OR(e){const{fee_growth_inside_a:t,fee_growth_inside_b:n}=PR(e.clmmpool,e.tickLower,e.tickUpper);return UR(e.position,t,n)}function MR(e){const t={fullRpcUrl:Ze[e||"Sui"].rpcUrl,faucetURL:Ze[e||"Sui"].rpcUrl,networkOptions:{simulationAccount:{address:Ze[e||"Sui"].simulationAccount},token:{token_deployer:Ze[e||"Sui"].TokenDeployer,config:Ze[e||"Sui"].tokenConfig},modules:{cetus_clmm:Ze[e||"Sui"].cetusClmm,cetus_integrate:Ze[e||"Sui"].cetusIntegrate,integer_mate:Ze[e||"Sui"].integerMate,swap_partner:Ze[e||"Sui"].swapPartner,config:{global_config_id:Ze[e||"Sui"].initEventConfig.initConfigEvent.global_config_id,pools_id:Ze[e||"Sui"].initEventConfig.initFactoryEvent.pools_id}}}};console.log("defaultNetworkOptions####",t);const n=Kg(new CR(t)),r=Cw(),i=u0(()=>r),s=Xg(),o=u0(()=>s),{$notify:a}=wo(),c=G=>{const{$notify:D}=wo();D.success({key:G.hash+"loading",icon:wt("img",{class:{"notify-icon":!0,"loading-animate":!0},src:o.value.theme=="default"?"/image/img-loading@2x.png":"/sui-image/img-loading.png"}),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:G.title},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:wr.global.t("newAdd.confirmingTransaction")},null),wt("a",{href:`https://explorer.sui.io/transaction/${window.encodeURIComponent(G.hash)}?network=${Ze[e||"Sui"].network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:0,class:"ant-notification-copy ant-notification-swap"})},u=G=>{a.success({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-icon-change1"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${G.title} `+wr.global.t("newAdd.success")},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:G.desc},null),wt("a",{href:`https://explorer.sui.io/transaction/${window.encodeURIComponent(G.hash)}?network=${Ze[e||"Sui"].network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:4.5,class:"ant-notification-copy ant-notification-swap"})},l=G=>{a.error({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${G} `+wr.global.t("newAdd.failed")},null)]),description:wr.global.t("newAdd.somethingWrong"),duration:4.5,class:"ant-notification-copy ant-notification-error"})},d=async(G,D=!1)=>{var Z,Q,se;const{$notify:V}=wo();try{console.log("0310###watchTransaction###start###",new Date().getTime());const ie=await Oa(2e3);console.log("0310###watchTransaction###tosleep##end###",new Date().getTime());const ae=await n.Resources.getSuiTransactionResponse(G.hash);if(((Q=(Z=ae==null?void 0:ae.effects)==null?void 0:Z.status)==null?void 0:Q.status)==="success"){V.close(G.hash+"loading"),u(G);const Ce={walletAddress:r.address,chainName:"Sui",...G,...ae,date:new Date().getTime()+6048e5};if(s.setTransactionList(Ce),D)if(console.log("0222###watchTransaction###isGetNftInfo true###res####",ae),ae.events){const xe=ae.events.filter(De=>De.type.includes("CreateTokenDataEvent"));return{status:!0,nftInfo:(se=xe==null?void 0:xe.moveEvent)==null?void 0:se.fields}}else return{status:!0,nftInfo:ae.effects.events};return!0}else{if(ae&&ae.effects&&ae.effects.status&&ae.effects.status.status!=="success")return V.close(G.hash+"loading"),l(G.title),!1;setTimeout(()=>d(G),3e3)}}catch(ie){return console.log("watchTransaction###error###",ie),V.close(G.hash+"loading"),V.error({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${G.title} Failed`},null)]),duration:4.5,description:"Something went wrong",class:"ant-notification-copy ant-notification-error"}),!0}},h=async(G,D=!1)=>{var Z,Q;await Oa(2e3);const V=await n.Resources.getSuiTransactionResponse(G.hash);if(((Q=(Z=V==null?void 0:V.effects)==null?void 0:Z.status)==null?void 0:Q.status)==="success"){a.close(G.hash+"loading"),u(G);const se={walletAddress:r.address,chainName:"Sui",...G,...V,date:new Date().getTime()+6048e5};s.setTransactionList(se)}},y=async(G,D)=>{var se,ie,ae,Ce,Ie,xe,De,Ee,Ue,Fe;const V=i.value.assets[G];if(!V)return[];console.log("0313###getCoinId####coinItem###",V);const Z=V.objects.filter(ke=>ke.balance&&ke.balance!=="0");console.log("0313###getCoinId####coinItemObjectList###",Z),console.log("0313###getCoinId####address###",G),console.log("0313###getCoinId####amount###",D);const Q=Z.reduce((ke,Te)=>Number(ke.balance)<Number(Te.balance)?Te:ke);if(console.log("0313###getCoinId####maxObject###",Q),mr(D).lte(mr(Q.balance))&&Z.length>1)return[(ae=(ie=(se=Q==null?void 0:Q.data)==null?void 0:se.fields)==null?void 0:ie.id)==null?void 0:ae.id];{const ke=[];if(G==="0x2::sui::SUI"){const Te=Z.sort((He,je)=>Number(He.balance)-Number(je.balance));let at=mr(0);for(let He=0;He<Te.length;He++){const je=Te[He];if(at.lte(mr(D)))ke.push((xe=(Ie=(Ce=je==null?void 0:je.data)==null?void 0:Ce.fields)==null?void 0:Ie.id)==null?void 0:xe.id),at=at.plus(mr(je.balance));else break}if(ke.length===Te.length){console.log("0313###getCoinId###need to split##newCoinObjects###",Te);const He=await b((Fe=(Ue=(Ee=(De=Te[Te.length-1])==null?void 0:De.data)==null?void 0:Ee.fields)==null?void 0:Ue.id)==null?void 0:Fe.id,Te[Te.length-1].balance);console.log("0313###getCoinId###splitId###",He)}return console.log("0313###getCoinId###",ke),ke}else return Z.forEach(Te=>{var at,He,je;ke.push((je=(He=(at=Te==null?void 0:Te.data)==null?void 0:at.fields)==null?void 0:He.id)==null?void 0:je.id)}),ke}},b=async(G,D)=>{var Z,Q;console.log("0313####splitCoinObject###coinID###",G),console.log("0313####splitCoinObject###amount###",D),console.log("0315###transferSui###data###",{suiObjectId:G,gasBudget:1e3,recipient:i.value.address,amount:5e4});const V={kind:"transferSui",data:{suiObjectId:G,gasBudget:1e3,recipient:i.value.address,amount:5e4}};try{const se=await i.value.currentWallet.signAndExecuteTransaction(V);console.log("0313###splitCoinObject###res###",se),console.log("0313###splitCoinObject###res###",(Z=se==null?void 0:se.effects)==null?void 0:Z.created);const ie=(Q=se==null?void 0:se.effects)==null?void 0:Q.events;for(let ae=0;ae<ie.length;ae++)if(ie[ae].coinBalanceChange.changeType==="Receive"&&ie[ae].coinBalanceChange.amount===5e4)return ie[ae].coinBalanceChange.coinObjectId;return""}catch(se){console.log("3013###splitCoinObject##error###",se)}return[]},A=async(G,D,V)=>{var ie,ae,Ce,Ie,xe,De,Ee,Ue,Fe,ke,Te,at,He,je,Vt,Ye,Rt,qn,Dt,zt,Kn,$t;const Z=i.value.address;let Q={};G!=="0x2::sui::SUI"?Q={kind:"pay",data:{inputCoins:D,recipients:[Z],amounts:[Number(V)],gasBudget:1e5}}:Q={kind:"payAllSui",data:{inputCoins:D,recipient:Z,gasBudget:1e3}};const se=await i.value.currentWallet.signAndExecuteTransaction(Q);if(((ae=(ie=se==null?void 0:se.effects)==null?void 0:ie.status)==null?void 0:ae.status)==="success"||((De=(xe=(Ie=(Ce=se==null?void 0:se.EffectsCert)==null?void 0:Ce.effects)==null?void 0:Ie.effects)==null?void 0:xe.status)==null?void 0:De.status)==="success")if(G!=="0x2::sui::SUI"){const Pt=((Fe=(Ue=(Ee=se==null?void 0:se.effects)==null?void 0:Ee.created[0])==null?void 0:Ue.reference)==null?void 0:Fe.objectId)||((je=(He=(at=(Te=(ke=se==null?void 0:se.EffectsCert)==null?void 0:ke.effects)==null?void 0:Te.effects)==null?void 0:at.created[0])==null?void 0:He.reference)==null?void 0:je.objectId);if(Pt)return Pt}else{const Pt=((Rt=(Ye=(Vt=se==null?void 0:se.effects)==null?void 0:Vt.mutated[0])==null?void 0:Ye.reference)==null?void 0:Rt.objectId)||(($t=(Kn=(zt=(Dt=(qn=se==null?void 0:se.EffectsCert)==null?void 0:qn.effects)==null?void 0:Dt.effects)==null?void 0:zt.mutated[0])==null?void 0:Kn.reference)==null?void 0:$t.objectId);if(Pt)return Pt}else{l("MergeCoin Error");return}},I=async G=>{try{r.setLoading(!0);const D=await n.Resources.getSuiObjectOwnedByAddress(G);console.log("0214###getAccount###list###",D);const V={};return D.forEach(Z=>{var Q,se;if(Z&&Z.coinAddress){const ie=Z?Z.balance.toString():"0",ae={...Z,balance:ie};V[Z.coinAddress]={...Z,balance:(Q=V[Z.coinAddress])!=null&&Q.balance?mr(ie).plus(V[Z.coinAddress].balance).toString():ie,objects:(se=V[Z.coinAddress])!=null&&se.objects?[...V[Z.coinAddress].objects,ae]:[ae]}}}),r.setAssets(V),r.setLoading(!1),V}catch{r.setLoading(!1)}},U=async()=>{const G=await n.Token.getAllRegisteredTokenList();return console.log("0309###tokenList###",G),G},B=async()=>{Ze[e||"Sui"].simulationAccount;try{const G=await n.Token.getOwnerWarpPoolList(Ze[e||"Sui"].tokenConfig.pool_list_owner,Ze[e||"Sui"].tokenConfig.coin_list_owner);return console.log("0309###lpList####",G),G}catch(G){console.log("0303###getLpList###err###",G)}},v=async(G=[])=>{const D=await n.Resources.getPools(G);if(console.log("0314###getPools###pools###",D),G.length===0){const V={};return D.forEach(Z=>{V[Z.poolAddress]={...Z,rate:mr(Z.fee_rate).div(Math.pow(10,6)).toString()}}),V}else return D},_=async G=>await n.Resources.getPool(G);return{setTransations:h,showTransitionPending:c,showTransitionSuccess:u,showTransitionError:l,watchTransaction:d,getCoinId:y,mergeCoinObject:A,getAccount:I,getTokenList:U,getLpList:B,getPools:v,getPool:_,mintCoin:G=>({kind:"moveCall",data:{packageObjectId:Ze[e||"Sui"].faucetObjectId,module:G.transactionModule,function:"faucet",typeArguments:[],gasBudget:1e3,arguments:[G.suplyID]}}),handleTx:G=>{let D;return G&&G.certificate&&G.certificate.transactionDigest?D={hash:G.certificate.transactionDigest}:G&&G.EffectsCert&&G.EffectsCert.certificate&&G.EffectsCert.certificate.transactionDigest&&(D={hash:G.EffectsCert.certificate.transactionDigest}),D},TickUtil:uR,TickMath:Jt,getNearestTickByTick:lR,getTicks:async G=>{try{console.log("0221###getTicks###pool###",G);const D=await n.Pool.fetchTicks({pool_id:G.poolAddress,coinTypeA:G.coinTypeA,coinTypeB:G.coinTypeB});return console.log("0221###getTicks####sui####",D),D}catch(D){console.log("getTicks Error###",D)}},getEstPositionAPRWithMulti:async(G,D,V,Z,Q,se,ie,ae,Ce,Ie,xe,De,Ee,Ue,Fe,ke,Te,at,He,je,Vt,Ye)=>await RR(G,D,V,Z),getCoinAmountFromLiquidity:G=>{const{pool:D,position:V,roundUp:Z}=G,Q=Number(V.tick_lower_index),se=Number(V.tick_upper_index),ie=Jt.tickIndexToSqrtPriceX64(Q),ae=Jt.tickIndexToSqrtPriceX64(se),Ce=oo.getCoinAmountFromLiquidity(new C(V.liquidity),new C(D.current_sqrt_price),ie,ae,Z),Ie=nr(Ce.coinA.toString(),D.coinA.decimals),xe=nr(Ce.coinB.toString(),D.coinB.decimals);return{coinaAmount:Ie,coinbAmount:xe}},estLiquidityAndcoinAmountFromOneAmounts:G=>{const{tokenA:D,tokenB:V,lowerTick:Z,upperTick:Q,coinAmount:se,iscoinA:ie,roundUp:ae,slippage:Ce,curSqrtPrice:Ie}=G,xe=oo.estLiquidityAndcoinAmountFromOneAmounts(Z,Q,se,ie,ae,Ce,Ie),De=D.decimals,Ee=V.decimals,{tokenMaxA:Ue,tokenMaxB:Fe,liquidityAmount:ke}=xe;return{tokenMaxAOrigin:Ue.toString(),tokenMaxBOrigin:Fe.toString(),tokenMaxA:nr(Ue.toString(),De),tokenMaxB:nr(Fe.toString(),Ee),liquidityAmount:ke}},getAddLiquidityTransactionPayload:async G=>{const{pool:D,amount:V,fix_amount_a:Z,roundUp:Q,tick_lower:se,tick_upper:ie,index:ae,slippage:Ce}=G;console.log(G,"===>params411");const Ie=await _(D.poolAddress);console.log("0220####newPool####",Ie);const xe=Z?rr(V,D.token_a.decimals):rr(V,D.token_b.decimals),De=Jt.sqrtPriceX64ToTickIndex(new C(Ie.current_sqrt_price));let Ee,Ue;if(De>se&&De<ie){const at=oo.estLiquidityAndcoinAmountFromOneAmounts(se,ie,new C(xe.toString()),Z,Q,Ce,new C(Ie.current_sqrt_price));Ee=Z?xe.toNumber():at.tokenMaxA.toNumber(),Ue=Z?at.tokenMaxB.toNumber():xe.toNumber()}else De>=ie?(Ee=0,Ue=xe.toNumber()):De<=se&&(Ee=xe.toNumber(),Ue=0);const Fe=Ee?await y(D.token_a.address,String(Ee)):[],ke=Ue?await y(D.token_b.address,String(Ue)):[];console.log("0220###coinXObjectId###",Fe),console.log("0220###coinYObjectId###",ke);const Te=n.Position.createAddLiquidityTransactionPayload({coinTypeA:D.token_a.address,coinTypeB:D.token_b.address,pool_id:D.poolAddress,coin_object_ids_a:Fe,coin_object_ids_b:ke,tick_lower:se,tick_upper:ie,fix_amount_a:Z,amount_a:Ee,amount_b:Ue,is_open:!ae,pos_id:ae});return console.log("0220###sui##getAddLiquidityTransactionPayload###",Te),{kind:"moveCall",data:Te}},getTickDataFromUrlData:bR,getPriceImpactPct:(G,D,V)=>{const Z=Jt.sqrtPriceX64ToPrice(new C(G.current_sqrt_price),G.coinA.decimals,G.coinB.decimals).toNumber(),Q=V?Z:1/Z,se=Math.abs(Q-Number(D))/Number(D)*100;return Number(dn(se,2))},preSwap:async G=>{const{pool:D,a2b:V,byAmountIn:Z,amount:Q}=G;console.log("0221###sui###preSwap###",G);const se=D.coinA.decimals,ie=D.coinB.decimals,ae=D!=null&&D.current_sqrt_price?D:await _(D.address);let Ce;V&&Z||!V&&!Z?Ce=rr(Q,se):Ce=rr(Q,ie);const Ie=await n.Swap.preswap({pool:ae,current_sqrt_price:ae.current_sqrt_price,coinTypeA:ae.coinTypeA,coinTypeB:ae.coinTypeB,decimalsA:se,decimalsB:ie,a2b:V,by_amount_in:Z,amount:Ce.toString()});return console.log("0221###sui###preSwap###result###",Ie),{...Ie,estimatedAmountIn:os(nr(Ie.estimatedAmountIn.toString(),V?se:ie),V?se:ie),estimatedAmountOut:os(nr(Ie.estimatedAmountOut.toString(),V?ie:se),V?ie:se),priceImpactPct:dn(Ie.priceImpactPct,2)}},getSwapTransactionPayload:async G=>{const{pool:D,a2b:V,byAmountIn:Z,amount:Q,slippage:se}=G,ie=D.poolAddress,ae=D.token_a.decimals,Ce=D.token_b.decimals;let Ie;V&&Z||!V&&!Z?Ie=rr(Q,ae):Ie=rr(Q,Ce);const xe=await n.Swap.preswap({pool:D,current_sqrt_price:D.current_sqrt_price,coinTypeA:D.coinTypeA,coinTypeB:D.coinTypeB,decimalsA:ae,decimalsB:Ce,a2b:V,by_amount_in:Z,amount:Ie.toString()});console.log("0221###sui###getSwapTransactionPayload###preSwapRes###",xe),console.log("0221###sui###getSwapTransactionPayload###preSwapRes.estimatedAmountOut###",xe.estimatedAmountOut.toString()),console.log("0221###sui###getSwapTransactionPayload###preSwapRes.estimatedAmountIn###",xe.estimatedAmountIn.toString());const De=mr(xe.estimatedAmountOut.toString()),Ee=mr(xe.estimatedAmountIn.toString()),Ue=Z?De.sub(De.mul(se)):Ee.add(Ee.mul(se));console.log("0221###sui###amountLimit####",Ue.toString());const Fe=V?await y(D.token_a.address,xe.amount.toString()):[],ke=V?[]:await y(D.token_b.address,xe.amount.toString());console.log("0221###sui###swap##params###",{pool_id:ie,coin_object_ids_a:V?Fe:[],coin_object_ids_b:V?[]:ke,a2b:xe.aToB,by_amount_in:xe.byAmountIn,amount:xe.amount.toString(),amount_limit:dn(Ue.toString(),0)||"",coinTypeA:D.token_a.address,coinTypeB:D.token_b.address});const Te=n.Swap.createSwapTransactionPayload({pool_id:ie,coin_object_ids_a:V?Fe:[],coin_object_ids_b:V?[]:ke,a2b:xe.aToB,by_amount_in:xe.byAmountIn,amount:xe.amount.toString(),amount_limit:dn(Ue.toString(),0)||"",coinTypeA:D.token_a.address,coinTypeB:D.token_b.address},2e4);return console.log("0221###sui###swap##result###",Te),{kind:"moveCall",data:Te}},getPositionList:async(G,D)=>{const V=Object.values(D).map(Q=>Q.poolAddress);console.log("0221###sui###getPositionList###account###",G),console.log("0221###sui###getPositionList###poolList###",V);const Z=await n.Resources.getPositionList(G,V);return console.log("0221###sui###getPositionList###list###",Z),Z},getTickDataByIndex:async(G,D)=>(console.log(G,D,"getTickDataByIndex"),await n.Pool.getTickDataByIndex(G,D)),getCollectFeesQuote:async G=>{console.log(G,"params====>");const{pool:D,position:V,tickLowerData:Z,tickUpperData:Q}=G,se=await _(D.poolAddress),ie=OR({clmmpool:se,position:V,tickLower:Z,tickUpper:Q}),ae=nr(ie.feeOwedA.toString(),D.token_a.decimals),Ce=nr(ie.feeOwedB.toString(),D.token_b.decimals);return console.log("0118###useApots###result.feeOwedA.toString()###",ie.feeOwedA.toString()),console.log("0118###useApots###result.feeOwedB.toString()###",ie.feeOwedB.toString()),console.log("0118###useApots###feeOwedA###",ae),console.log("0118###useApots###feeOwedB###",Ce),{feeOwedA:Number(ae)>99999999999||Number(ae)<0?"0":ae,feeOwedB:Number(Ce)>99999999999||Number(Ce)<0?"0":Ce}},getPosRewardersAmount:async G=>{console.log(JSON.stringify(G),"=====>params792");const{poolAddress:D,pos:V}=G;return await n.Rewarder.posRewardersAmount(D,V)},getNftHash:G=>G.pos_object_id,getPositionInfo:async(G,D,V,Z="")=>(console.log("0222###getPositionInfo###pool###",G),console.log("0222###getPositionInfo###pos###",Z),{...await n.Resources.getPosition(Z),tokenName:V,collectionName:D}),getRemoveLiquidityTransactionPayload:async G=>{const{pool:D,coinTypeA:V,coinTypeB:Z,coinTypeC:Q,coinTypeD:se,coinTypeE:ie,position:ae,delta_liquidity:Ce,rewards_num:Ie}=G,xe=await _(D.poolAddress),De={...D,...xe},Ee=Number(ae.tick_lower_index),Ue=Number(ae.tick_upper_index),Fe=Jt.tickIndexToSqrtPriceX64(Ee),ke=Jt.tickIndexToSqrtPriceX64(Ue),Te=oo.getCoinAmountFromLiquidity(Ce,new C(De.current_sqrt_price),Fe,ke,!0),at=mr(Te.coinA.toString()).mul(mr(1-G.slippage)),He=mr(Te.coinB.toString()).mul(mr(1-G.slippage)),Vt=[V,Z,Q,se,ie].filter(Rt=>!!Rt);let Ye;return Ce.toString()===ae.liquidity?Ye=await n.Position.removeLiquidityTransactionPayload({coin_types:Vt,min_amount_a:dn(at.toString(),0),min_amount_b:dn(He.toString(),0),pool_id:D.poolAddress,pos_id:G.position.pos_object_id}):Ye=await n.Position.removeLiquidityTransactionPayload({coin_types:Vt,delta_liquidity:Ce.toString(),min_amount_a:dn(at.toString(),0),min_amount_b:dn(He.toString(),0),pool_id:D.poolAddress,pos_id:G.position.pos_object_id}),console.log("0222###remove###result####",Ye),{kind:"moveCall",data:Ye}},getCollectRewarderTransactionPayload:G=>({kind:"moveCall",data:n.Rewarder.collectRewarderTransactionPayload({pool_id:G.pool_address,pos_id:G.pos_index,coinTypeA:G.coinTypeA,coinTypeB:G.coinTypeB,coinTypeC:G.coinTypeC})}),getCollectFeeTransactionPayload:async G=>{console.log("1130###getCollectFeeTransactionPayload###params",{pool:G.pool.poolAddress,coinTypeA:G.pool.token_a.address,coinTypeB:G.pool.token_b.address,pos_index:G.position.index});const D=await n.Position.collectFeeTransactionPayload({coinTypeA:G.pool.token_a.address,coinTypeB:G.pool.token_b.address,pool_id:G.pool.poolAddress,pos_id:G.position.pos_object_id});return console.log("1130###getCollectFeeTransactionPayload###result##",D),{kind:"moveCall",data:D}},getTokenListByCoinType:async()=>[],getPoolImmutables:async()=>await n.Resources.getPoolImmutables(),estimateLiquidityForCoinA:yo,estimateLiquidityForCoinB:mo,getCreatPoolTransactionPayload:async G=>{const{coinTypeA:D,coinTypeB:V,tick_lower:Z,tick_upper:Q,tick_spacing:se,initialize_sqrt_price:ie,max_amount_a:ae,max_amount_b:Ce,slippage:Ie,fix_amount_a:xe,decimalsA:De,decimalsB:Ee,liquidityInput:Ue}=G;console.log(G,"params===>");const Fe=xe?rr(ae,De):rr(Ce,Ee);console.log(Fe,"===>coinAmount");const ke=Jt.sqrtPriceX64ToTickIndex(new C(ie));let Te,at;const He=Jt.tickIndexToSqrtPriceX64(Z),je=Jt.tickIndexToSqrtPriceX64(Q);console.log(He,"===>minPriceX64"),console.log(je,"===>maxPriceX64");let Vt;ke>Z&&ke<Q?(Vt=oo.estLiquidityAndcoinAmountFromOneAmounts(Z,Q,new C(Fe.toString()),xe,!0,Ie,new C(ie)),Te=xe?Fe.toNumber():Vt.tokenMaxA.toNumber(),at=xe?Vt.tokenMaxB.toNumber():Fe.toNumber()):ke>=Q?(Vt=mo(He,je,new C(Fe.toString())),Te=new C(Ue.tokenMaxA*Math.pow(10,De)),at=new C(Ue.tokenMaxB*Math.pow(10,Ee))):ke<=Z&&(Vt=yo(He,je,new C(Fe.toString())),Te=new C(Ue.tokenMaxA*Math.pow(10,De)),at=new C(Ue.tokenMaxB*Math.pow(10,Ee)));const Ye=Te?await y(D,String(Te)):[],Rt=at?await y(V,String(at)):[];return console.log(JSON.stringify({tick_spacing:se,initialize_sqrt_price:new C(ie),uri:"",fix_amount_a:xe,coin_object_ids_a:Ye,coin_object_ids_b:Rt,amount_a:Te,amount_b:at,tick_lower:Z,tick_upper:Q,coinTypeA:D,coinTypeB:V}),"-------"),{kind:"moveCall",data:await n.Pool.creatPoolTransactionPayload({tick_spacing:se,initialize_sqrt_price:ie.toString(),uri:"",fix_amount_a:xe,coin_object_ids_a:Ye,coin_object_ids_b:Rt,amount_a:Te,amount_b:at,tick_lower:Z,tick_upper:Q,coinTypeA:D,coinTypeB:V})}},getTokenListByCoinTypes:async G=>{try{const D=await n.Token.getTokenListByCoinTypes([G]);return Object.values(D)}catch{return[]}}}}function Pr(e){let t={};return!e||e==="Aptos"?t=AE():t=MR(e),{...t}}const hn="0x6740d70296035d0345bed636a820af129f6ed422",Fi=[{address:"0x2::sui::SUI",bridge:"native",coingecko_id:"",decimals:9,logo_url:"",name:"SUI",official_symbol:"SUI",project_url:"",symbol:"SUI"},{address:`${hn}::btc::BTC`,bridge:"native",coingecko_id:"",decimals:8,logo_url:"https://archive.cetus.zone/assets/mainnet/0x8d87a65ba30e09357fa2edea2c80dbac296e5dec2b18287113500b902942929d::celer_coin_manager::WbtcCoin/icon.png",name:"BTC",official_symbol:"BTC",project_url:"",symbol:"BTC"},{address:`${hn}::eth::ETH`,bridge:"native",coingecko_id:"",decimals:8,logo_url:"https://archive.cetus.zone/assets/mainnet/0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::WETH/icon.png",name:"ETH",official_symbol:"ETH",project_url:"",symbol:"ETH"},{address:`${hn}::usdc::USDC`,bridge:"native",coingecko_id:"",decimals:6,logo_url:"https://archive.cetus.zone/assets/mainnet/0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC/icon.png",name:"USDC",official_symbol:"USDC",project_url:"",symbol:"USDC"},{address:`${hn}::usdt::USDT`,bridge:"native",coingecko_id:"",decimals:6,logo_url:"https://archive.cetus.zone/assets/mainnet/0x8d87a65ba30e09357fa2edea2c80dbac296e5dec2b18287113500b902942929d::celer_coin_manager::UsdtCoin/icon.png",name:"USDT",official_symbol:"USDT",project_url:"",symbol:"USDT"}];Fi.filter(e=>e.address===`${hn}::usdt::USDT`)[0],Fi.filter(e=>e.address===`${hn}::usdc::USDC`)[0],`${hn}`,`${hn}`,Fi.filter(e=>e.address===`${hn}::eth::ETH`)[0],Fi.filter(e=>e.address===`${hn}::usdc::USDC`)[0],`${hn}`,`${hn}`,Fi.filter(e=>e.address===`${hn}::busd::BTC`)[0],Fi.filter(e=>e.address===`${hn}::usdc::USDC`)[0],`${hn}`,`${hn}`,Fi.filter(e=>e.address==="0x2::sui::SUI")[0],Fi.filter(e=>e.address===`${hn}::usdc::USDC`)[0],`${hn}`;const $R=[{base_symbol:`${hn}::btc::BTC`,price:"175181.584616",quote_symbol:"USD"},{base_symbol:`${hn}::eth::ETH`,price:"1471.343485",quote_symbol:"USD"},{base_symbol:`${hn}::usdc::USDC`,price:"0.998772",quote_symbol:"USD"},{base_symbol:`${hn}::usdt::USDT`,price:"0.949513",quote_symbol:"USD"},{base_symbol:`${hn}::busd::BUSD`,price:"1",quote_symbol:"USD"},{base_symbol:"0x2::sui::SUI",price:"1",quote_symbol:"USD"}],IO=[{isProjectSide:!0,activity_duration:"7200",calmdown_duration:"7200",clmm_pool_address:"0x836bb00f14d001f6040f4b66ee36a6a764a44b2d18396f793bf6dfabd40375fa",coin_type_raise:"0x2::sui::SUI",coin_type_sale:"0x6740d70296035d0345bed636a820af129f6ed422::usdc::USDC",creator:"0xf514d44b5d4db9775c18e8cf07872e6e552fea6606ce6279ee4b8a4721a26931",cs_burn_cap:!1,cs_mint_cap:!1,end_activity_time:1676542817,end_calm_down_time:1676550017,end_settle_time:1676557217,fee_amount:"0",fee_rate:"0",has_whiteList:!0,initialize_price:.01,is_settle:!1,least_raise_rate:NaN,liquidity_rate:.5,locked_duration:"7200",pool_address:"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657333",pool_mode:"SoftHardCap",pool_status:"Upcoming",pool_type:"0xf85d392e74a995f2b67b966abde0af90df74ca1c5f35c144452c8815034180a4::fairlaunch::FairlaunchPool<0x53805e46b06878cfc5fb10d90a29f3cc95b956e7e525b48f0fdad63f7dfd9107::faucet::USDT, 0x79b03476801c0a917208733c27a0e086e6ad08ca9047a665d3d088c5709d57dc::faucet::TESTA>",price:.012,raise_coin_amount:"1200000000",raise_total:1e10,sale_coin_amount:0,sale_total:"10000000000",settle_duration:"7200",start_activity_time:"1676535617"},{isProjectSide:!1,activity_duration:"7200",calmdown_duration:"7200",clmm_pool_address:"0x836bb00f14d001f6040f4b66ee36a6a764a44b2d18396f793bf6dfabd40375fa",coin_type_raise:"0x2::sui::SUI",coin_type_sale:"0x6740d70296035d0345bed636a820af129f6ed422::usdc::USDC",creator:"0xf514d44b5d4db9775c18e8cf07872e6e552fea6606ce6279ee4b8a4721a26931",cs_burn_cap:!1,cs_mint_cap:!1,end_activity_time:1676542817,end_calm_down_time:1676550017,end_settle_time:1676557217,fee_amount:"0",fee_rate:"0",has_whiteList:!1,initialize_price:.01,is_settle:!1,least_raise_rate:NaN,liquidity_rate:.5,locked_duration:"7200",pool_address:"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657444",pool_mode:"SoftHardCap",pool_status:"Failed",pool_type:"0xf85d392e74a995f2b67b966abde0af90df74ca1c5f35c144452c8815034180a4::fairlaunch::FairlaunchPool<0x53805e46b06878cfc5fb10d90a29f3cc95b956e7e525b48f0fdad63f7dfd9107::faucet::USDT, 0x79b03476801c0a917208733c27a0e086e6ad08ca9047a665d3d088c5709d57dc::faucet::TESTA>",price:.012,raise_coin_amount:"1000000000000",raise_total:1e11,sale_coin_amount:1e5,sale_total:"10000000000",settle_duration:"7200",start_activity_time:"1676535617"},{isProjectSide:!1,activity_duration:"7200",calmdown_duration:"7200",clmm_pool_address:"0x836bb00f14d001f6040f4b66ee36a6a764a44b2d18396f793bf6dfabd40375fa",coin_type_raise:"0x2::sui::SUI",coin_type_sale:"0x6740d70296035d0345bed636a820af129f6ed422::usdc::USDC",creator:"0xf514d44b5d4db9775c18e8cf07872e6e552fea6606ce6279ee4b8a4721a26931",cs_burn_cap:!1,cs_mint_cap:!1,end_activity_time:1676542817,end_calm_down_time:1676550017,end_settle_time:1676557217,fee_amount:"0",fee_rate:"0",has_whiteList:!1,initialize_price:.01,is_settle:!1,least_raise_rate:NaN,liquidity_rate:.5,locked_duration:"7200",pool_address:"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657555",pool_mode:"SoftHardCap",pool_status:"Live",pool_type:"0xf85d392e74a995f2b67b966abde0af90df74ca1c5f35c144452c8815034180a4::fairlaunch::FairlaunchPool<0x53805e46b06878cfc5fb10d90a29f3cc95b956e7e525b48f0fdad63f7dfd9107::faucet::USDT, 0x79b03476801c0a917208733c27a0e086e6ad08ca9047a665d3d088c5709d57dc::faucet::TESTA>",price:.012,raise_coin_amount:"12000000000",raise_total:1e10,sale_coin_amount:1e5,sale_total:"10000000000",settle_duration:"7200",start_activity_time:"1676535617"}],BO=[{isProjectSide:!1,activity_duration:"7200",calmdown_duration:"7200",clmm_pool_address:"0x836bb00f14d001f6040f4b66ee36a6a764a44b2d18396f793bf6dfabd40375fa",coin_type_raise:"0x2::sui::SUI",coin_type_sale:"0x6740d70296035d0345bed636a820af129f6ed422::usdc::USDC",creator:"0xf514d44b5d4db9775c18e8cf07872e6e552fea6606ce6279ee4b8a4721a26931",cs_burn_cap:!1,cs_mint_cap:!1,end_activity_time:1676542817,end_calm_down_time:1676550017,end_settle_time:1676557217,fee_amount:"0",fee_rate:"0",has_whiteList:!1,initialize_price:.01,is_settle:!1,least_raise_rate:NaN,liquidity_rate:.5,locked_duration:"7200",pool_address:"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657111",pool_mode:"SoftHardCap",pool_status:"Upcoming",pool_type:"0xf85d392e74a995f2b67b966abde0af90df74ca1c5f35c144452c8815034180a4::fairlaunch::FairlaunchPool<0x53805e46b06878cfc5fb10d90a29f3cc95b956e7e525b48f0fdad63f7dfd9107::faucet::USDT, 0x79b03476801c0a917208733c27a0e086e6ad08ca9047a665d3d088c5709d57dc::faucet::TESTA>",price:.012,raise_coin_amount:"120000000",raise_total:1e8,sale_coin_amount:0,sale_total:"10000000000",settle_duration:"7200",start_activity_time:"1676535617"},{isProjectSide:!1,activity_duration:"7200",calmdown_duration:"7200",clmm_pool_address:"0x836bb00f14d001f6040f4b66ee36a6a764a44b2d18396f793bf6dfabd40375fa",coin_type_raise:"0x2::sui::SUI",coin_type_sale:"0x6740d70296035d0345bed636a820af129f6ed422::usdc::USDC",creator:"0xf514d44b5d4db9775c18e8cf07872e6e552fea6606ce6279ee4b8a4721a26931",cs_burn_cap:!1,cs_mint_cap:!1,end_activity_time:1676542817,end_calm_down_time:1676550017,end_settle_time:1676557217,fee_amount:"0",fee_rate:"0",has_whiteList:!1,initialize_price:.01,is_settle:!1,least_raise_rate:NaN,liquidity_rate:.5,locked_duration:"7200",pool_address:"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657222",pool_mode:"SoftHardCap",pool_status:"Failed",pool_type:"0xf85d392e74a995f2b67b966abde0af90df74ca1c5f35c144452c8815034180a4::fairlaunch::FairlaunchPool<0x53805e46b06878cfc5fb10d90a29f3cc95b956e7e525b48f0fdad63f7dfd9107::faucet::USDT, 0x79b03476801c0a917208733c27a0e086e6ad08ca9047a665d3d088c5709d57dc::faucet::TESTA>",price:.012,raise_coin_amount:"120000000",raise_total:1e8,sale_coin_amount:1e5,sale_total:"10000000000",settle_duration:"7200",start_activity_time:"1676535617"}],kO={req_id:"5e543e34-e4a7-4898-9abb-f55af5455eec",code:"OK",msg:"Success",data:{"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657333":{banner:["/sui-image/img-ban.png","/sui-image/img-ban.png"],introduction:"Unique Venture Clubs (Unique.vc) is a platform that enables individuals to quickly and securely create or join on-chain investment clubs where they can pool and manage assets with others. ",website:"https://www.baidu.com",tokenomics:"https://www.baidu.com",social_media:[{link:"https://www.baidu.com",name:"twitter"},{link:"https://www.baidu.com",name:"telegram"},{link:"https://www.baidu.com",name:"discord"},{link:"https://www.baidu.com",name:"medium"},{link:"https://www.baidu.com",name:"reddit"}],project_details:"PHAgY2xhc3M9InRva2VuLWludHJvZHVjdGlvbi10aXRsZSI+RmVhdHVyZXM8L3A+CiAgICAgIDxwIAogICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiCiAgICAgID4gVGhlIGN1cnJlbnQgZmVhdHVyZXMgaW5jbHVkZTogIDxici8+CiAgICAgICAg4oCiIHZhcmlhYmxlIHJhdGUgYmFzZWQgb24gdXRpbGl6YXRpb24gcmF0aW8gb2YgdGhlIHBvb2wgIDxici8+CiAgICAgICAg4oCiIGNyb3NzLWNvbGxhdGVyYWwgd2l0aCB1cCB0byA5IGFzc2V0cyB0aGF0IGNhbiBiZSB1c2VkIGFzIGNvbGxhdGVyYWwgZm9yIGEgZ2l2ZW4gbG9hbiAgPGJyLz4KICAgICAgICDigKIgZmxhc2ggbG9hbi4KICAgICAgPC9wPgogICAgICA8aW1nIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnQtcGljIgogICAgICAgIHNyYz0iL2ltYWdlL0xhdW5jaHBvb2xzL0IvaW1nX2xhdW5jaHBvb2xzUHJvamVjdGluZm9CMi5wbmciIAogICAgICAgIGFsdD0iIgogICAgICA+CiAgICAgIDxwIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGl0bGUiPlByb2plY3QgVGltZWxpbmU8L3A+CiAgICAgIDxwIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGV4dCIgCiAgICAgID4g4oCiIElETyBvbiBTb2xhbml1bSBpbiBlYXJseSBBdWd1c3QgIDxici8+CiAgICAgICAg4oCiIExpcXVpZGl0eSBNaW5pbmcgc3RhcnRpbmcgaW4gdGhlIG1pZGRsZSBvZiBBdWd1c3QgIDxici8+CiAgICAgICAg4oCiIEludGVncmF0ZSB3aXRoIG90aGVyIHByb2plY3RzICA8YnIvPgogICAgICAgIOKAoiBJbXBsZW1lbnQgZ292ZXJuYW5jZSBtb2R1bGUgc28gdG9rZW4gaG9sZGVycyBjYW4gZGVjaWRlIG9uIHRoZSBmdXR1cmUgZGlyZWN0aW9uIG9mIHRoZSBwcm90b2NvbHMgIDxici8+CiAgICAgICAg4oCiIFN0YXJ0IHdvcmtpbmcgb24gRml4ZWQgUmF0ZSBMZW5kaW5nIFByb2dyYW0gaW4gU2VwdGVtYmVyLjxici8+CiAgICAgIDwvcD4KICAgICAgPGltZyAKICAgICAgICBjbGFzcz0idG9rZW4taW50LXBpYyIKICAgICAgICBzcmM9Ii9pbWFnZS9MYXVuY2hwb29scy9CL2ltZ19sYXVuY2hwb29sc1Byb2plY3RpbmZvQjQucG5nIiAKICAgICAgICBhbHQ9IiIKICAgICAgPgogICAgICA8cCBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRpdGxlIj5UZWFtPC9wPgogICAgICA8cCAKICAgICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiIAogICAgICA+IE91ciBjb3JlIGNvbnRyaWJ1dG9ycyBhcmUgYSB0ZWFtIG9mIGNsb3NlLWtuaXQgZW5naW5lZXJzIHdpdGggYmFja2dyb3VuZHMgZnJvbSBHb29nbGUsIEZhY2Vib29rLCBhbmQgTWljcm9zb2Z0IGFuZCB3aG8gaGF2ZSBjb250cmlidXRlZCBvcGVuIHNvdXJjZSBjb2RlIGZvciBTZXJ1bSBhbmQgU29sYW5hLiAKICAgICAgPC9wPgogICAgICA8aW1nIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnQtcGljIgogICAgICAgIHNyYz0iL2ltYWdlL0xhdW5jaHBvb2xzL0IvaW1nX2xhdW5jaHBvb2xzUHJvamVjdGluZm9CNS5wbmciIAogICAgICAgIGFsdD0iIgogICAgICA+CiAgICAgIDxwIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGl0bGUiPlRva2Vubm9taWNzPC9wPgogICAgICA8cCAKICAgICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiIAogICAgICA+IFRvdGFsIFN1cHBseTogMTAwIG1pbGxpb24gIDxici8+CiAgICAgICAg4oCiIEVjb3N5c3RlbTogMzMlICA8YnIvPgogICAgICAgIOKAoiBMaXF1aWRpdHkgSW5jZW50aXZlczogMzElLiAgPGJyLz4KICAgICAgICDigKIgVGVhbTogMjAlICA8YnIvPgogICAgICAgIOKAoiBGdW5kIHJhaXNpbmc6IDEwJSAgPGJyLz4KICAgICAgICDigKIgSW5pdGlhbCBMaXF1aWRpdHk6IDQlICA8YnIvPgogICAgICAgIOKAoiBBZHZpc29yczogMiUgCiAgICAgIDwvcD4KICAgICAgPGltZyAKICAgICAgICBjbGFzcz0idG9rZW4taW50LXBpYyIKICAgICAgICBzcmM9Ii9pbWFnZS9MYXVuY2hwb29scy9CL2ltZ19sYXVuY2hwb29sc1Byb2plY3RpbmZvQjYucG5nIiAKICAgICAgICBhbHQ9IiIKICAgICAgPg=="},"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657444":{banner:["/sui-image/img-ban.png","/sui-image/img-ban.png"],introduction:"Unique Venture Clubs (Unique.vc) is a platform that enables individuals to quickly and securely create or join on-chain investment clubs where they can pool and manage assets with others. ",website:"https://www.baidu.com",tokenomics:"https://www.baidu.com",social_media:[{link:"https://www.baidu.com",name:"twitter"},{link:"https://www.baidu.com",name:"telegram"},{link:"https://www.baidu.com",name:"discord"},{link:"https://www.baidu.com",name:"medium"},{link:"https://www.baidu.com",name:"reddit"}],project_details:"PHAgY2xhc3M9InRva2VuLWludHJvZHVjdGlvbi10aXRsZSI+RmVhdHVyZXM8L3A+CiAgICAgIDxwIAogICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiCiAgICAgID4gVGhlIGN1cnJlbnQgZmVhdHVyZXMgaW5jbHVkZTogIDxici8+CiAgICAgICAg4oCiIHZhcmlhYmxlIHJhdGUgYmFzZWQgb24gdXRpbGl6YXRpb24gcmF0aW8gb2YgdGhlIHBvb2wgIDxici8+CiAgICAgICAg4oCiIGNyb3NzLWNvbGxhdGVyYWwgd2l0aCB1cCB0byA5IGFzc2V0cyB0aGF0IGNhbiBiZSB1c2VkIGFzIGNvbGxhdGVyYWwgZm9yIGEgZ2l2ZW4gbG9hbiAgPGJyLz4KICAgICAgICDigKIgZmxhc2ggbG9hbi4KICAgICAgPC9wPgogICAgICA8aW1nIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnQtcGljIgogICAgICAgIHNyYz0iL2ltYWdlL0xhdW5jaHBvb2xzL0IvaW1nX2xhdW5jaHBvb2xzUHJvamVjdGluZm9CMi5wbmciIAogICAgICAgIGFsdD0iIgogICAgICA+CiAgICAgIDxwIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGl0bGUiPlByb2plY3QgVGltZWxpbmU8L3A+CiAgICAgIDxwIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGV4dCIgCiAgICAgID4g4oCiIElETyBvbiBTb2xhbml1bSBpbiBlYXJseSBBdWd1c3QgIDxici8+CiAgICAgICAg4oCiIExpcXVpZGl0eSBNaW5pbmcgc3RhcnRpbmcgaW4gdGhlIG1pZGRsZSBvZiBBdWd1c3QgIDxici8+CiAgICAgICAg4oCiIEludGVncmF0ZSB3aXRoIG90aGVyIHByb2plY3RzICA8YnIvPgogICAgICAgIOKAoiBJbXBsZW1lbnQgZ292ZXJuYW5jZSBtb2R1bGUgc28gdG9rZW4gaG9sZGVycyBjYW4gZGVjaWRlIG9uIHRoZSBmdXR1cmUgZGlyZWN0aW9uIG9mIHRoZSBwcm90b2NvbHMgIDxici8+CiAgICAgICAg4oCiIFN0YXJ0IHdvcmtpbmcgb24gRml4ZWQgUmF0ZSBMZW5kaW5nIFByb2dyYW0gaW4gU2VwdGVtYmVyLjxici8+CiAgICAgIDwvcD4KICAgICAgPGltZyAKICAgICAgICBjbGFzcz0idG9rZW4taW50LXBpYyIKICAgICAgICBzcmM9Ii9pbWFnZS9MYXVuY2hwb29scy9CL2ltZ19sYXVuY2hwb29sc1Byb2plY3RpbmZvQjQucG5nIiAKICAgICAgICBhbHQ9IiIKICAgICAgPgogICAgICA8cCBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRpdGxlIj5UZWFtPC9wPgogICAgICA8cCAKICAgICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiIAogICAgICA+IE91ciBjb3JlIGNvbnRyaWJ1dG9ycyBhcmUgYSB0ZWFtIG9mIGNsb3NlLWtuaXQgZW5naW5lZXJzIHdpdGggYmFja2dyb3VuZHMgZnJvbSBHb29nbGUsIEZhY2Vib29rLCBhbmQgTWljcm9zb2Z0IGFuZCB3aG8gaGF2ZSBjb250cmlidXRlZCBvcGVuIHNvdXJjZSBjb2RlIGZvciBTZXJ1bSBhbmQgU29sYW5hLiAKICAgICAgPC9wPgogICAgICA8aW1nIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnQtcGljIgogICAgICAgIHNyYz0iL2ltYWdlL0xhdW5jaHBvb2xzL0IvaW1nX2xhdW5jaHBvb2xzUHJvamVjdGluZm9CNS5wbmciIAogICAgICAgIGFsdD0iIgogICAgICA+CiAgICAgIDxwIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGl0bGUiPlRva2Vubm9taWNzPC9wPgogICAgICA8cCAKICAgICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiIAogICAgICA+IFRvdGFsIFN1cHBseTogMTAwIG1pbGxpb24gIDxici8+CiAgICAgICAg4oCiIEVjb3N5c3RlbTogMzMlICA8YnIvPgogICAgICAgIOKAoiBMaXF1aWRpdHkgSW5jZW50aXZlczogMzElLiAgPGJyLz4KICAgICAgICDigKIgVGVhbTogMjAlICA8YnIvPgogICAgICAgIOKAoiBGdW5kIHJhaXNpbmc6IDEwJSAgPGJyLz4KICAgICAgICDigKIgSW5pdGlhbCBMaXF1aWRpdHk6IDQlICA8YnIvPgogICAgICAgIOKAoiBBZHZpc29yczogMiUgCiAgICAgIDwvcD4KICAgICAgPGltZyAKICAgICAgICBjbGFzcz0idG9rZW4taW50LXBpYyIKICAgICAgICBzcmM9Ii9pbWFnZS9MYXVuY2hwb29scy9CL2ltZ19sYXVuY2hwb29sc1Byb2plY3RpbmZvQjYucG5nIiAKICAgICAgICBhbHQ9IiIKICAgICAgPg=="},"0x851625ca4956ea39f55032b01522d1b6f3ca80af809dfb4c509324924fd06657555":{banner:["/sui-image/img-ban.png","/sui-image/img-ban.png"],introduction:"Unique Venture Clubs (Unique.vc) is a platform that enables individuals to quickly and securely create or join on-chain investment clubs where they can pool and manage assets with others. ",website:"https://www.baidu.com",tokenomics:"https://www.baidu.com",social_media:[{link:"https://www.baidu.com",name:"twitter"},{link:"https://www.baidu.com",name:"telegram"},{link:"https://www.baidu.com",name:"discord"},{link:"https://www.baidu.com",name:"medium"},{link:"https://www.baidu.com",name:"reddit"}],project_details:"PHAgY2xhc3M9InRva2VuLWludHJvZHVjdGlvbi10aXRsZSI+RmVhdHVyZXM8L3A+CiAgICAgIDxwIAogICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiCiAgICAgID4gVGhlIGN1cnJlbnQgZmVhdHVyZXMgaW5jbHVkZTogIDxici8+CiAgICAgICAg4oCiIHZhcmlhYmxlIHJhdGUgYmFzZWQgb24gdXRpbGl6YXRpb24gcmF0aW8gb2YgdGhlIHBvb2wgIDxici8+CiAgICAgICAg4oCiIGNyb3NzLWNvbGxhdGVyYWwgd2l0aCB1cCB0byA5IGFzc2V0cyB0aGF0IGNhbiBiZSB1c2VkIGFzIGNvbGxhdGVyYWwgZm9yIGEgZ2l2ZW4gbG9hbiAgPGJyLz4KICAgICAgICDigKIgZmxhc2ggbG9hbi4KICAgICAgPC9wPgogICAgICA8aW1nIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnQtcGljIgogICAgICAgIHNyYz0iL2ltYWdlL0xhdW5jaHBvb2xzL0IvaW1nX2xhdW5jaHBvb2xzUHJvamVjdGluZm9CMi5wbmciIAogICAgICAgIGFsdD0iIgogICAgICA+CiAgICAgIDxwIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGl0bGUiPlByb2plY3QgVGltZWxpbmU8L3A+CiAgICAgIDxwIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGV4dCIgCiAgICAgID4g4oCiIElETyBvbiBTb2xhbml1bSBpbiBlYXJseSBBdWd1c3QgIDxici8+CiAgICAgICAg4oCiIExpcXVpZGl0eSBNaW5pbmcgc3RhcnRpbmcgaW4gdGhlIG1pZGRsZSBvZiBBdWd1c3QgIDxici8+CiAgICAgICAg4oCiIEludGVncmF0ZSB3aXRoIG90aGVyIHByb2plY3RzICA8YnIvPgogICAgICAgIOKAoiBJbXBsZW1lbnQgZ292ZXJuYW5jZSBtb2R1bGUgc28gdG9rZW4gaG9sZGVycyBjYW4gZGVjaWRlIG9uIHRoZSBmdXR1cmUgZGlyZWN0aW9uIG9mIHRoZSBwcm90b2NvbHMgIDxici8+CiAgICAgICAg4oCiIFN0YXJ0IHdvcmtpbmcgb24gRml4ZWQgUmF0ZSBMZW5kaW5nIFByb2dyYW0gaW4gU2VwdGVtYmVyLjxici8+CiAgICAgIDwvcD4KICAgICAgPGltZyAKICAgICAgICBjbGFzcz0idG9rZW4taW50LXBpYyIKICAgICAgICBzcmM9Ii9pbWFnZS9MYXVuY2hwb29scy9CL2ltZ19sYXVuY2hwb29sc1Byb2plY3RpbmZvQjQucG5nIiAKICAgICAgICBhbHQ9IiIKICAgICAgPgogICAgICA8cCBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRpdGxlIj5UZWFtPC9wPgogICAgICA8cCAKICAgICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiIAogICAgICA+IE91ciBjb3JlIGNvbnRyaWJ1dG9ycyBhcmUgYSB0ZWFtIG9mIGNsb3NlLWtuaXQgZW5naW5lZXJzIHdpdGggYmFja2dyb3VuZHMgZnJvbSBHb29nbGUsIEZhY2Vib29rLCBhbmQgTWljcm9zb2Z0IGFuZCB3aG8gaGF2ZSBjb250cmlidXRlZCBvcGVuIHNvdXJjZSBjb2RlIGZvciBTZXJ1bSBhbmQgU29sYW5hLiAKICAgICAgPC9wPgogICAgICA8aW1nIAogICAgICAgIGNsYXNzPSJ0b2tlbi1pbnQtcGljIgogICAgICAgIHNyYz0iL2ltYWdlL0xhdW5jaHBvb2xzL0IvaW1nX2xhdW5jaHBvb2xzUHJvamVjdGluZm9CNS5wbmciIAogICAgICAgIGFsdD0iIgogICAgICA+CiAgICAgIDxwIGNsYXNzPSJ0b2tlbi1pbnRyb2R1Y3Rpb24tdGl0bGUiPlRva2Vubm9taWNzPC9wPgogICAgICA8cCAKICAgICAgICBjbGFzcz0idG9rZW4taW50cm9kdWN0aW9uLXRleHQiIAogICAgICA+IFRvdGFsIFN1cHBseTogMTAwIG1pbGxpb24gIDxici8+CiAgICAgICAg4oCiIEVjb3N5c3RlbTogMzMlICA8YnIvPgogICAgICAgIOKAoiBMaXF1aWRpdHkgSW5jZW50aXZlczogMzElLiAgPGJyLz4KICAgICAgICDigKIgVGVhbTogMjAlICA8YnIvPgogICAgICAgIOKAoiBGdW5kIHJhaXNpbmc6IDEwJSAgPGJyLz4KICAgICAgICDigKIgSW5pdGlhbCBMaXF1aWRpdHk6IDQlICA8YnIvPgogICAgICAgIOKAoiBBZHZpc29yczogMiUgCiAgICAgIDwvcD4KICAgICAgPGltZyAKICAgICAgICBjbGFzcz0idG9rZW4taW50LXBpYyIKICAgICAgICBzcmM9Ii9pbWFnZS9MYXVuY2hwb29scy9CL2ltZ19sYXVuY2hwb29sc1Byb2plY3RpbmZvQjYucG5nIiAKICAgICAgICBhbHQ9IiIKICAgICAgPg=="}}},CO=Y0("pool",{state:()=>({tokens:[],tokensObj:{},newTokens:[],newTokenObj:{},tokensNameObj:{},pools:[],poolsObj:{},myPositions:[],addressLpTokens:{},addressTokens:{},currentPositionLoading:!1,myPositionsLoading:!0,poolsLoading:!0,RATES:{},currentPositionInfo:{},poolConfigList:[],feeOwedObj:{},rewarderObj:{},chinaTokens:[],chinaTokensObj:{},getPoolInfoSuccess:!1,recommendRangesObj:{},allTokenObj:{},isTokenLoading:!0,poolPriceConfigObj:{},defaultPoolInfo:{}}),actions:{async setPoolsObj(e){this.poolsObj=e},async setChainPoolConfigList(e){this.poolConfigList=e,this.pools=e},async setPoolConfigList(e){const n=await Pr(e).getLpList(),r=[];n.forEach(i=>{r.push({...i,token_a:{...i.coinA,logoURI:i.coinA.logo_url},token_b:{...i.coinB,logoURI:i.coinB.logo_url},isFarming:i.is_display_rewarder&&(i.rewarder_display1||i.rewarder_display2||i.rewarder_display3),chain:e==="Aptos"?"aptos":"sui"})}),console.log("0314###setPoolConfigList####list###",r),this.poolConfigList=r},async newSetPools1(e,t){this.poolsLoading=!0,this.getPoolInfoSuccess=!1,this.poolsObj={};const n=Pr(t),r=this;e&&e.length>0&&e.forEach(async(i,s)=>{(function(o,a){setTimeout(async function(){const c=await n.getPools([a.address]);r.poolsObj[c[0].poolAddress]={...a,...c[0],fee:c[0].fee_rate/1e6},r.addressLpTokens=r.poolsObj,r.poolsLoading=!1,Object.values(r.poolsObj).length==r.poolConfigList.length&&(r.getPoolInfoSuccess=!0,console.log(r.getPoolInfoSuccess,"===>>_this.getPoolInfoSuccess "),console.log(r.poolsObj,"==>_this.poolsObj"))},1e3*o)})(s,i)})},async getRecommendRanges(e){var n;let t=null;if(e&&e.includes("Sui")?t=await $fetch(`${Ze[e].api}/v2/sui/liquidity/recommend_ranges`):t=await $fetch(`${Ze.Aptos.api}/v2/liquidity/recommend_ranges`),(n=t==null?void 0:t.data)!=null&&n.list){const r=Object.fromEntries(t.data.list.map((i,s)=>[i.address,i]));this.recommendRangesObj=r}else this.recommendRangesObj={}},async setPriceConfig(e){let t={};e&&e.includes("Sui")?t=await $fetch(`${Ze[e].api}/v2/sui/liquidity/recommend_ranges`):t=await $fetch(`${Ze.Aptos.api}/v2/liquidity/recommend_ranges`);const n=Object.fromEntries(t.data.list.map((r,i)=>[r.address,r]));this.poolPriceConfigObj=n},async newSetPools(e,t){this.poolsLoading=!0,this.getPoolInfoSuccess=!1,this.poolsObj={};const n=Pr(t);if(e&&e.length>0){for(let r=0;r<e.length;r++){const i=e[r],s=await n.getPools([i.address]);this.defaultPoolInfo[s[0].poolAddress]=s[0],this.poolsObj[s[0].poolAddress]={...i,...s[0],fee:s[0].fee_rate/1e6},this.addressLpTokens=this.poolsObj,this.poolsLoading=!1,await Oa(500)}this.getPoolInfoSuccess=!0}},async setSinglePool(e,t,n){const i=await Pr(n).getPool(e.address),s={...e,...i,fee:i.fee_rate/1e6,priceConfigObj:t.recommend_ranges||{},type:t.type||""};this.poolsObj[e.address]=s,this.addressLpTokens[e.address]=s},async setPools(e,t){console.log("0116####setPools###poolConfigList###",e),this.poolsLoading=!0;let n={};console.log("0216###getPools###chainName####",t),t&&t.includes("Sui")?n=await $fetch(`${Ze[t].api}/v2/sui/liquidity/recommend_ranges`):n=await $fetch(`${Ze.Aptos.api}/v2/liquidity/recommend_ranges`);const r=Object.fromEntries(n.data.list.map((l,d)=>[l.address,l])),s=(e||this.poolConfigList).map(l=>({...l,token_a:l.coinA,token_b:l.coinB,priceConfigObj:r&&r[l.address]&&r[l.address].recommend_ranges,type:r&&r[l.address]&&r[l.address].type}))||[],a=await Pr(t).getPools();console.log("1221###poolsObj####",a);const c=[],u={};console.log(s,"===>basePoolList"),s.forEach(l=>{const d=a[l.address]||{};console.log(a[l.address],"===poolsObj[item.address]");const h={...l,...d,fee:d.rate*100,tickSpacing:Number(d.tickSpacing)};c.push(h),u[kw(d.poolAddress)]=h}),this.pools=c,this.poolsObj=u,console.log(c,"====>result"),Object.fromEntries(c.map(l=>[l.poolAddress,l])),this.addressLpTokens=u,this.poolsLoading=!1,c.length<=0&&this.setMyPositionsLoading(!1)},async updateCurrentPools(e,t){const n=Pr(t),r=this.poolsObj[e];if(r){let i={};t&&t.includes("Sui")?i=await n.getPool(r.poolAddress):i=await n.getPoolState(r.poolAddress,r.poolType,!1);const s={...this.poolsObj},o={...s[e],...i};s[e]={...o},this.poolsObj=s}},async setTokens(e){const t=[],r=await Pr(e).getTokenList();console.log(r,"res====>"),r.forEach(i=>{t.push({...i,logoURI:i.logo_url,chain:e.toLowerCase()})}),this.tokens=t,this.tokensObj=Object.fromEntries(t.map((i,s)=>[i.address,i])),this.tokensNameObj=Object.fromEntries(t.map((i,s)=>[i.address,i])),this.newTokenObj=Object.fromEntries(t.map((i,s)=>[i.address,i])),this.isTokenLoading=!1,this.newTokens=t},async setChinaTokens(e){const n=await Pr(e).getTokenListByCoinType();console.log(n,"chinares===>");const r=[];n.forEach(i=>{r.push({...i,logoURI:e=="Aptos"?"https://archive.cetus.zone/assets/image/default1.png":"https://archive.cetus.zone/assets/image/default2.png",logo_url:e=="Aptos"?"https://archive.cetus.zone/assets/image/default1.png":"https://archive.cetus.zone/assets/image/default2.png"})}),this.chinaTokens=r,this.chinaTokensObj=Object.fromEntries(r.map((i,s)=>[i.address,i]))},setCurrentPositionLoading(e){this.currentPositionLoading=e},setMyPositionsLoading(e){this.myPositionsLoading=e},async setRates(e){let t={};if(e&&e.includes("Sui"))try{t=await $fetch(`${Ze.Sui.api}/v2/sui/price`)}catch(r){console.log("sui pric api error ###",r),t={data:{prices:$R}}}else t=await $fetch(`${Ze.Aptos.api}/v2/price`);const n=t.data.prices||[];this.RATES=Object.fromEntries(n.map(r=>[r.base_symbol=="0x0000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":r.base_symbol,{...r,base_symbol:r.base_symbol=="0x0000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":r.base_symbol}])),console.log(this.RATES,"===>this.RATES")},async getMyPositons(e,t,n){this.setMyPositionsLoading(!0);const r=Pr(n),i=await r.getPositionList(e,t)||[];i.length<1&&this.setMyPositionsLoading(!1);const s=[];i.forEach(a=>{const c=this.poolsObj[a.pool];let u,l,d,h="",y,b,A,I;if(a.liquidity&&a.liquidity!=="0"&&c){const U={creator:a.creator,collection:a.collection,name:a.name};n==="Aptos"?I=r.getNftHash(U):I=r.getNftHash(a);const B=c.token_a.decimals,v=c.token_b.decimals;d=os(r.TickMath.sqrtPriceX64ToPrice(c.current_sqrt_price,B,v).toString(),6),u=r.TickMath.tickIndexToPrice(Number(a.tick_lower_index),B,v).toString(),l=r.TickMath.tickIndexToPrice(Number(a.tick_upper_index),B,v).toString();const _=r.getCoinAmountFromLiquidity({pool:c,position:a,roundUp:!0}),S=_.coinaAmount,$=_.coinbAmount,F=Number($)+Number(S)*Number(d),W=(Number(d)/F*100).toFixed(0),Y=($/F*100).toFixed(0);c.isPause?h="Closed":Number(d)>=Number(u)&&Number(d)<=Number(l)?h="Active":(Number(d)>Number(l)||Number(d)<Number(u))&&(h="Inactive"),console.log("0323###this.tokensObj####",this.tokensObj),console.log("0323###this.tokensObj[poolInfo.token_a.address]####",this.tokensObj[c.token_a.address]),console.log("0323###poolInfo.token_a.address####",c.token_a.address),console.log("0323###poolInfo.token_b.address####",c.token_b.address),s.push({...a,...c,token_a:{...c.token_a,...this.tokensObj[c.token_a.address],logoURI:this.tokensObj[c.token_a.address].logo_url},token_b:{...c.token_b,...this.tokensObj[c.token_b.address],logoURI:this.tokensObj[c.token_b.address].logo_url},tokenARates:y,tokenBRates:b,amountA:S,amountB:$,fromPercent:W,toPercent:Y,amountUSD:A,tokenName:a.tokenName||a.name,currentStatus:h,positionLiquidity:a.liquidity,nftHash:I,currentPrice:dn(d,12),minPrice:dn(u,12),maxPrice:dn(l,12)})}});const o=s.sort((a,c)=>c.amountUSD-a.amountUSD);this.myPositions=o,this.setMyPositionsLoading(!1),this.getPendingFees(o,n),this.getRewarder(o,n),console.log(o,"===>this.myPositions")},async setCurrentPositionInfo(e,t,n,r,i=""){const s=Pr(r);console.log("0309###setCurrentPositionInfo###addressLpTokens####",this.addressLpTokens),console.log("0309###setCurrentPositionInfo###poolAddress####",e);const o=this.addressLpTokens&&this.addressLpTokens[e];console.log("0309###setCurrentPositionInfo###poolInfoOld####",o);const a=await s.getPool(e);console.log("0309###setCurrentPositionInfo###poolInfoNew####",a);const c={...o,...a},u=await s.getPositionInfo(c,t,n,i);if(u&&c){let l,d,h,y="",b,A,I,U,B,v,_,S=0,$=0,F;const W={creator:u.pool,collection:u.collectionName,name:u.name};if(r==="Aptos"?F=s.getNftHash(W):F=s.getNftHash(u),c){try{const p=await s.getTickDataByIndex(c.ticks_handle,Number(u.tick_lower_index)),w=await s.getTickDataByIndex(c.ticks_handle,Number(u.tick_upper_index)),k=await s.getCollectFeesQuote({pool:c,position:u,tickLowerData:p,tickUpperData:w});k&&(S=Number(k.feeOwedA),$=Number(k.feeOwedB))}catch(p){console.log("0314###getCollectFeesQuote###error####",p)}console.log("0309###setCurrentPositionInfo###poolInfo###",c);const Y=c.token_a.decimals,J=c.token_b.decimals;h=os(s.TickMath.sqrtPriceX64ToPrice(c.current_sqrt_price,Y,J).toString(),6),l=s.TickMath.tickIndexToPrice(Number(u.tick_lower_index),Y,J).toString(),d=s.TickMath.tickIndexToPrice(Number(u.tick_upper_index),Y,J).toString(),b=u.tick_lower_index,A=u.tick_upper_index;const N=s.getCoinAmountFromLiquidity({pool:c,position:u,roundUp:!0});v=N.coinaAmount,_=N.coinbAmount;const H=Number(_)+Number(v)*Number(h),E=(Number(v)*Number(h)/H*100).toFixed(0),f=(Number(_/Number(H))*100).toFixed(0);c.isPause?y="Closed":Number(h)>=Number(l)&&Number(h)<=Number(d)?y="Active":(Number(h)>Number(d)||Number(h)<Number(l))&&(y="Inactive"),this.setCurrentPositionLoading(!1),this.currentPositionInfo={...u,poolInfo:c,token_a:{...c.token_a,...this.tokensObj[c.token_a.address]},token_b:{...c.token_b,...this.tokensObj[c.token_b.address]},current_tick_index:c.current_tick_index,current_sqrt_price:c.current_sqrt_price,tickSpacing:c.tickSpacing,fee:c.fee,poolAddress:c.poolAddress,address:c.address,is_display_rewarder:c.is_display_rewarder,nftHash:F,feeOwedA:S,feeOwedB:$,currentStatus:y,amountA:v,amountB:_,tokenARates:I,tokenBRates:U,amountUSD:B,currentPrice:dn(h,12),minPrice:dn(l,12),minTick:dn(b,12),maxTick:dn(A,12),maxPrice:dn(d,12),fromPercent:E,toPercent:f,tokenName:u.tokenName||u.name},console.log("positionInfo.value",this.currentPositionInfo)}}},async getPendingFees(e,t){var i,s;const n=this.RATES,r=Pr(t);console.log("0302###getPendingFees####result###",e);for(let o=0;o<e.length;o++){const a=e[o],c=await r.getPool(a.poolAddress);if(c){const u=await r.getTickDataByIndex(c.ticks_handle,Number(a.tick_lower_index)),l=await r.getTickDataByIndex(c.ticks_handle,Number(a.tick_upper_index));console.log("0323####getPendingFees###pool###",c),console.log("0323####getPendingFees###positionItem.collection###",a.collection),console.log("0323####getPendingFees###positionItem.tokenName###",a.tokenName),console.log("0323####getPendingFees###positionItem###",a);const d=t==="Aptos"?"":a.pos_object_id,h=await r.getPositionInfo(c,a.collection,a.tokenName,d),y={...c,token_a:this.tokensObj&&this.tokensObj[c.coinTypeA]||this.chinaTokensObj&&this.chinaTokensObj[c.coinTypeA],token_b:this.tokensObj&&this.tokensObj[c.coinTypeB]||this.chinaTokensObj&&this.chinaTokensObj[c.coinTypeB]};console.log("0302###positionInfo",h),console.log(c,"pool====>654");const b=await r.getCollectFeesQuote({pool:y,position:h,tickLowerData:u,tickUpperData:l}),A=[],I=Number(b.feeOwedA),U=Number(b.feeOwedB);let B,v,_;n&&n[y.token_a.address]&&n[y.token_b.address]?(v=I*((i=n[y.token_a.address])==null?void 0:i.price),_=U*((s=n[y.token_b.address])==null?void 0:s.price),B=v+_):B="--",A.push({amount:I,amountUSD:v,...y.token_a,logoURI:y.token_a.logo_url},{amount:U,amountUSD:_,...y.token_b,logoURI:y.token_b.logo_url}),this.feeOwedObj[a.tokenName]={feesResult:A,feeOwed:B},console.log(this.feeOwedObj,"===>this.feeOwedObj"),await Oa(1e3)}}},async getRewarder(e,t){const n=Pr(t),r=this;console.log(e,"===>results");for(let i=0;i<e.length;i++)if(e[i].rewarder_infos&&e[i].rewarder_infos.length>0){const s=e[i];console.log(i,"i===>"),console.log(s,"===>positionItem"),console.log(s.ticks_handle,"===>positionItem.ticks_handle"),console.log(s.tick_lower_index,"===>positionItem.tick_lower_index"),console.log(s.tick_upper_index,"===>positionItem.tick_upper_index");const o=await n.getTickDataByIndex(s.ticks_handle,Number(s.tick_lower_index)),a=await n.getTickDataByIndex(s.ticks_handle,Number(s.tick_upper_index)),c=await n.getPosRewardersAmount({poolAddress:s.poolAddress,positionName:s.tokenName,tickLowerData:o,tickUpperData:a});console.log(c,"rewarderInfo===>");const u=[];let l=0;c.forEach((d,h)=>{var y;if(s[`rewarder_display${h+1}`]){const b=r.newTokenObj[d.coin_address].decimals,A=r.newTokenObj[d.coin_address],I=Number(d.amount_owed.toString())>99999999999999?0:Number(d.amount_owed.toString()),U=dn(I/Math.pow(10,b),b);console.log(d.amount_owed.toString(),"===>element.amount_owed.toString()");const B=(y=r.RATES[d.coin_address])==null?void 0:y.price;console.log(B,"price===>"),console.log(U,"==>amount");const v=Number(U)*B;l+=v,u.push({...d,...A,amount:U,amountUSD:v,amount_owed:d.amount_owed.toString(),rewarder_display:s[`rewarder_display${h+1}`]}),r.rewarderObj[s.tokenName]={pendingRewarderArr:u.filter(_=>_.rewarder_display),pendingRewarderView:Number(dn(l,2)),pendingRewarder:l}}}),console.log(r.rewarderObj,"===>_this.rewarderObj"),await Oa(1e3)}},setAllTokenObj(e){console.log(e,"===>allTokenObj"),this.allTokenObj=e}}});function RO(e){return new URL(e,import.meta.url).href}export{Yg as A,w2 as B,gs as C,We as D,rB as E,eB as F,Tt as G,Zs as H,TO as I,Mw as J,bs as K,AO as L,ad as M,L7 as N,po as O,Jf as P,Us as Q,_t as R,hE as S,Mt as T,IO as U,BO as V,kO as W,Ze as _,Xg as a,Pr as b,wO as c,C as d,O0 as e,dn as f,os as g,gE as h,RO as i,Cw as j,_O as k,vO as l,lo as m,SO as n,uo as o,nr as p,bO as q,AE as r,yO as s,xO as t,CO as u,rr as v,ht as w,mO as x,Zu as y,LU as z};
