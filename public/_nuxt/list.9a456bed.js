import{P as te}from"./pool-position-tab.989c1347.js";import{u as le,P as se}from"./pool-filter-block.db2ca38b.js";import{R as w,A as ae,P as ie}from"./apr-tips.13c8106c.js";import{u as ne}from"./useToken.5d35fd1e.js";import{u as U}from"./filter-pool-by-coin.ea1d9835.js";import{u as re}from"./stats.af88a2c7.js";import{c as ue,G}from"./pool.bc7b9a37.js";import{u as ce}from"./useStatsData.d7d18154.js";import{R as de,T as pe,a as ve}from"./to-add.7d85f108.js";import{N as me,T as fe}from"./no-data.0fa7238f.js";import{a as _e,r as H,m as u,D as he,y as X,M as ge,o as g,f as F,i as s,w as J,h as n,v as D,x as K,c as Q,F as Pe,p as be,k as ye,e as Y}from"./entry.8a717f77.js";import"./index.601bad75.js";import"./decimal.765d8738.js";import"./select-tab.8ab08586.js";import"./icon-selected_3x.09e9a6f0.js";import"./useSDK.18fd38bc.js";import"./decimal.a2826370.js";import"./token-warning.ef52baec.js";import"./coin-img.57ce3dd8.js";import"./icon_autopools_2x.865a003a.js";import"./token-warning_2x.3b853c19.js";import"./import-icon.de3e6c66.js";/* empty css              */import"./nuxt-link.d4010784.js";import"./icon_farms_2x.e25e4eed.js";import"./farms.bc955321.js";import"./icon_autopools_2x.4d4e9258.js";import"./icon_fee_2x.3add16fa.js";import"./icon_rewards_2x.4ac0be83.js";import"./coin-select.820658b8.js";/* empty css              */import"./img-no-Positions_2x.4e567c5d.js";import"./img-no-Positions_2x.a8fa131c.js";import"./formatter.bc01beb1.js";/* empty css              */import"./index.5b44d27d.js";const V=P=>(be("data-v-badd1ede"),P=P(),ye(),P),Se={key:0,class:"virtual-table"},Ae=V(()=>n("th",null,"Pools",-1)),Le=V(()=>n("th",null,"Mining Rewards",-1)),ke=V(()=>n("th",null,"Actions",-1)),Te={class:"action"},xe=_e({__name:"pool-list-table",setup(P){const{getPoolList:I}=le(),{getStatusData:L}=ce(),d=H([]),b=u(()=>d.value.map(i=>Object.assign({},{random:Math.random()},i))),{getTokenList:R,getToken:k}=ne(),y=U(),f=u(()=>y),W=u(()=>f.value.poolList),B=u(()=>f.value.isAllPool),S=u(()=>f.value.incentiveTypeList),N=u(()=>f.value.selectLabel),a=u(()=>f.value.filterPoolCoinList),Z=re(),ee=u(()=>Z),E=u(()=>ee.value.poolsStatsObj),q=async(r,i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,i);let A=[];for(let e=0;e<i.length;e++){const o=i[e],m=r[o.address],_=await k(i[e].displayTokenAAddress),h=await k(i[e].displayTokenBAddress),C=[];_!=null&&_.labels&&C.push(..._.labels),h!=null&&h.labels&&C.push(...h.labels);let j=!1,$=!1;m&&m.stableFarming&&m.stableFarming.length>0&&(j=!0),m&&m.autoPool&&m.autoPool.clmm_pool&&($=!0);const z={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...m,tokenA:_,tokenB:h,labels:[...new Set(C)],isFarming:j,isVaults:$};(!B.value&&_.is_trusted&&h.is_trusted||B.value)&&A.push(z)}let c=[];S.value.length>0?A.forEach(e=>{(S.value.includes("Mining")&&e.haveMining||S.value.includes("Farming")&&e.isFarming||S.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&c.push(e)}):c=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",c);let t=[];N.value!=="All"?c.forEach(e=>{e.labels.includes(N.value)&&t.push(e)}):t=c;let x=[];a.value&&a.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",a.value.length),t.forEach(e=>{a.value.length==2&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&(a.value[1]==e.displayTokenAAddress||a.value[1]==e.displayTokenBAddress)&&x.push(e),a.value.length==1&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&x.push(e)})):x=t;let p=x,v=[];l.value.label=="Volume (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.volume24-e.volume24):p.sort((e,o)=>e.volume24-o.volume24)),l.value.label=="Liquidity"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.tvl-e.tvl):p.sort((e,o)=>e.tvl-o.tvl)),l.value.label=="Fees (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.fees24-e.fees24):p.sort((e,o)=>e.fees24-o.fees24)),l.value.label=="APR (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.totalApr-e.totalApr):p.sort((e,o)=>e.totalApr-o.totalApr)),y.setPoolListNum(v&&v.length),d.value=v,y.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",v)},l=H({label:"Volume (24H)",sort:"desc"}),T=r=>{l.value=r,q(E.value,W.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",l.value)},M=u(()=>f.value.isPoolLoading);he(()=>[E.value,W.value,B.value,S.value,N.value,a.value],([r,i])=>{r&&!ue(r)&&i&&i.length>0&&q(r,i)},{immediate:!0});const O=H(null);X(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),I(),R(),L(),window.scroller=O.value});const oe=[{title:"Pools",hasSort:!1,tdWidth:"370px"},{title:"Liquidity",hasSort:!0,tdWidth:"150px"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px"},{title:"Actions",hasSort:!1,tdWidth:"180px"}];return(r,i)=>{const A=ie,c=ge("RecycleScroller");return g(),F(Pe,null,[M.value?K("",!0):(g(),F("table",Se,[s(c,{ref_key:"scroller",ref:O,class:"scroller",items:b.value,"item-size":80,"page-mode":"","key-field":"address"},{before:J(()=>[n("thead",null,[Ae,s(w,{label:"Liquidity","sort-info":l.value,onSort:T},null,8,["sort-info"]),s(w,{label:"Volume (24H)","sort-info":l.value,onSort:T},null,8,["sort-info"]),s(w,{label:"Fees (24H)","sort-info":l.value,onSort:T},null,8,["sort-info"]),Le,s(w,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":l.value,onSort:T},null,8,["sort-info"]),ke])]),default:J(({item:t})=>[(g(),F("tr",{key:t.address},[n("td",null,[s(A,{"pool-info":t},null,8,["pool-info"])]),n("td",null,D(t.tvlDisplay||"--"),1),n("td",null,D(t.volume24Display||"--"),1),n("td",null,D(t.fees24Display||"--"),1),n("td",null,[s(de,{"reward-list":t.miningRewardList||[]},null,8,["reward-list"])]),n("td",null,[s(ae,{"pool-info":t},null,8,["pool-info"])]),n("td",null,[n("div",Te,[s(pe,{"from-coin-address":t.tokenAAddress,"to-coin-address":t.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),s(ve,{"pool-address":t.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])])),!M.value&&d.value&&d.value.length==0?(g(),Q(me,{key:1,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):M.value?(g(),Q(fe,{key:2,columns:oe,"data-source-length":10})):K("",!0)],64)}}});const we=Y(xe,[["__scopeId","data-v-badd1ede"]]);const Fe={class:"pools-list-container"},Ie={__name:"list",setup(P){const I=[{label:"Mining"},{label:"Farming"},{label:"No incentives"}],L=U();return X(()=>{const d=G("pools-Sui-selectall");d&&L.setIsAllPool(d);const b=G("selectIncentiveTypeList");b&&L.setIncentiveTypeList(b)}),(d,b)=>{const R=te,k=se,y=we;return g(),F("div",Fe,[s(R),s(k,{"dropdown-checkbox-options":I}),s(y)])}}},mo=Y(Ie,[["__scopeId","data-v-32288740"]]);export{mo as default};
