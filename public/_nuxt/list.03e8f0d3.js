import{_ as lo}from"./pool-position-tab.9b379d1c.js";import{P as so}from"./pool-filter-block.3d493c6e.js";import{R as N,a as ao,A as io,T as no,b as ro,P as uo}from"./to-add.9b08f885.js";import{u as co}from"./useToken.ab6b508c.js";import{u as Q}from"./pool.8bdf5f5c.js";import{u as po}from"./stats.c0e2187a.js";import{c as M,s as vo}from"./common.99f6d7f1.js";import{H as mo,T as fo}from"./h5-table-card.600cb005.js";import{S as ho}from"./sui-no-data.d9049d6e.js";import{u as X}from"./token.315c02f4.js";import{a as _o,r as B,m as c,A as D,q as Y,l as go,o as b,f as C,h as a,i,c as J,w as K,x as I,G as Po,p as bo,k as So,e as Lo,s as Ao}from"./entry.92a44973.js";import"./index.67028433.js";import"./decimal.765d8738.js";import{u as yo}from"./usePoolList.2fee8ab4.js";import"./select-tab.c941830c.js";import"./index.10ebf49c.js";import"./decimal.a2826370.js";import"./filter-pool-by-coin.c02003d6.js";import"./coin-select.6614f843.js";import"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./icon-tooltip.5a0d3de6.js";import"./token-warning_2x.5cf0c53a.js";import"./img-no-Positions_2x.c2442fe2.js";import"./img-no-Positions_2x.14d6d680.js";import"./coin-img-warning.efeac0c8.js";import"./coin-img.583f1db5.js";import"./is-all-pool.d9c777a6.js";/* empty css              */import"./icon-selected_3x.873560ed.js";import"./address-copy-link.9717a112.js";import"./nuxt-link.f367cc68.js";import"./icon_farms_2x.512f425b.js";import"./farms.cfadf0b9.js";import"./icon_autopools_2x.4661f41f.js";import"./icon_autopools_2x.59e54b36.js";import"./icon_fee_2x.0ae0d6d3.js";import"./icon_rewards_2x.35ce3e8a.js";import"./fetchFun.ff4aae28.js";import"./useSDK.f5ab4705.js";import"./index.d50865f3.js";const E=S=>(bo("data-v-c278ce0b"),S=S(),So(),S),ko={class:"h5-table"},To={class:"pc-table"},wo={key:1,class:"virtual-table"},xo=E(()=>a("th",null,"Pool",-1)),No=E(()=>a("th",null,"Mining Rewards",-1)),Bo=E(()=>a("th",null,"Actions",-1)),Co={class:"action"},Fo=_o({__name:"pool-list-table",setup(S){const p=B([]),T=c(()=>p.value.map(u=>Object.assign({},{random:Math.random()},u)));D(()=>T.value,r=>{console.log("pool-list-table è™šæ‹Ÿdom list: ",r)});const{getTokenList:V,getToken:w}=co(),L=Q(),n=c(()=>L),F=c(()=>(console.log("ğŸš€ ~ poolList ~ suiPool.value.poolList:",n.value.poolList),n.value.poolList)),A=c(()=>n.value.isAllPool),f=c(()=>n.value.incentiveTypeList),y=c(()=>n.value.selectLabel),d=c(()=>n.value.filterPoolCoinList),Z=po(),W=c(()=>Z),$=c(()=>W.value.poolsStatsObj),oo=c(()=>W.value.isStatsApiError),q=async(r,u)=>{console.log("ğŸš€ğŸš€ğŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,u);let h=[];for(let o=0;o<u.length;o++){const e=u[o],_=r[e.address],g=await w(u[o].displayTokenAAddress),P=await w(u[o].displayTokenBAddress),R=[];g!=null&&g.labels&&R.push(...g.labels),P!=null&&P.labels&&R.push(...P.labels);let O=!1,G=!1;_&&_.stableFarming&&_.stableFarming.length>0&&(O=!0),_&&_.autoPool&&_.autoPool.clmm_pool&&(G=!0);const U={...e,tvl:0,fees24:0,totalApr:0,volume24:0,..._,tokenA:g,tokenB:P,labels:[...new Set(R)],isFarming:O,isVaults:G};(!A.value&&g.is_trusted&&P.is_trusted||A.value)&&h.push(U)}let s=[];f.value.length>0?h.forEach(o=>{(f.value.includes("Mining")&&o.haveMining||f.value.includes("Farming")&&o.isFarming||f.value.includes("No incentives")&&!o.haveMining&&!o.isFarming)&&s.push(o)}):s=[],console.log("ğŸš€ğŸš€ğŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",s);let l=[];y.value!=="All"?s.forEach(o=>{o.labels.includes(y.value)&&l.push(o)}):l=s;let x=[];d.value&&d.value.length>0?(console.log("ğŸš€ğŸš€ğŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",d.value.length),l.forEach(o=>{d.value.length==2&&(d.value[0]==o.displayTokenAAddress||d.value[0]==o.displayTokenBAddress)&&(d.value[1]==o.displayTokenAAddress||d.value[1]==o.displayTokenBAddress)&&x.push(o),d.value.length==1&&(d.value[0]==o.displayTokenAAddress||d.value[0]==o.displayTokenBAddress)&&x.push(o)})):x=l;let v=x,m=[];t.value.label=="Volume (24H)"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.volume24-o.volume24):v.sort((o,e)=>o.volume24-e.volume24)),t.value.label=="Liquidity"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.tvl-o.tvl):v.sort((o,e)=>o.tvl-e.tvl)),t.value.label=="Fees (24H)"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.fees24-o.fees24):v.sort((o,e)=>o.fees24-e.fees24)),t.value.label=="APR (24H)"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.totalApr-o.totalApr):v.sort((o,e)=>o.totalApr-e.totalApr)),L.setPoolListNum(m&&m.length),p.value=m,L.setPoolListLoading(!1),console.log("ğŸš€ğŸš€ğŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",m)},t=B({label:"Volume (24H)",sort:"desc"}),k=r=>{t.value=r,q($.value,F.value),console.log("ğŸš€ğŸš€ğŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",t.value)},H=c(()=>(console.log("ğŸš€ğŸš€ğŸš€ ~ file: pool-list-table.vue:265 ~ isPoolLoading ~ suiPool.value.isPoolLoading:",n.value.isPoolLoading),n.value.isPoolLoading)),eo=X(),to=c(()=>eo.allTokensObj);D(()=>[$.value,F.value,oo.value,to.value,A.value,f.value,y.value,d.value],([r,u,h,s])=>{console.log("ğŸš€ ~ watch ~ poolsStatsObj:",u,r,s),(r&&!M(r)||h)&&u&&u.length>0&&s&&!M(s)&&(console.log("ğŸš€ğŸš€ğŸš€ ~ file: pool-list-table.vue:276 ~ buildPoolList:",s),q(r,u))},{immediate:!0});const j=B(null);Y(()=>{console.log("ğŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),window.scroller=j.value});const z=[{title:"Pools",hasSort:!1,tdWidth:"370px",isNotShowTitle:!0,component:"pool-name-block"},{title:"Liquidity",hasSort:!0,tdWidth:"150px",value:"tvlDisplay"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px",value:"volume24Display"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px",value:"fees24Display"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px",component:"reward-coin"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px",component:"apr-tips"},{title:"Actions",hasSort:!1,tdWidth:"180px",isNotShowTitle:!0,component:"swap-add"}];return(r,u)=>{const h=uo,s=go("RecycleScroller");return b(),C("div",null,[a("div",ko,[i(mo,{"h5-title":"Pools","page-name":"pools","key-field":"poolAddress","sort-info":t.value,"item-size":325,"data-source-length":10,loading:H.value,columns:z,"data-source":p.value,"card-action":"swap-add",onChangeSort:k},null,8,["sort-info","loading","data-source"])]),a("div",To,[H.value?(b(),J(fo,{key:0,columns:z,"data-source-length":10})):(b(),C("table",wo,[i(s,{ref_key:"scroller",ref:j,class:"scroller",items:T.value,"item-size":86,"key-field":"address","page-mode":"",full:"",page:"",prerender:20,buffer:500},{before:K(()=>[a("thead",null,[xo,i(N,{label:"Liquidity","sort-info":t.value,onSort:k},null,8,["sort-info"]),i(N,{label:"Volume (24H)","sort-info":t.value,onSort:k},null,8,["sort-info"]),i(N,{label:"Fees (24H)","sort-info":t.value,onSort:k},null,8,["sort-info"]),No,i(N,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":t.value,onSort:k},null,8,["sort-info"]),Bo])]),default:K(({item:l})=>[(b(),C("tr",{key:l.address},[a("td",null,[i(h,{"pool-info":l},null,8,["pool-info"])]),a("td",null,I(l.tvlDisplay||"$0"),1),a("td",null,I(l.volume24Display||"$0"),1),a("td",null,I(l.fees24Display||"$0"),1),a("td",null,[i(ao,{"reward-list":l.miningRewardList||[]},null,8,["reward-list"])]),a("td",null,[i(io,{"pool-info":l},null,8,["pool-info"])]),a("td",null,[a("div",Co,[i(no,{"from-coin-address":l.tokenAAddress,"to-coin-address":l.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),i(ro,{"pool-address":l.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])]))]),!H.value&&p.value&&p.value.length==0?(b(),J(ho,{key:0,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):Po("",!0)])}}});const Ho=Lo(Fo,[["__scopeId","data-v-c278ce0b"]]),Ro={class:"pools-list-container"},Ae={__name:"list",setup(S){const p=Q(),T=B(!1),{getPoolList:V}=yo(),w=X(),L=c(()=>w.allTokensObj);return Y(async()=>{await vo(1e3),T.value=!0}),D(()=>L.value,n=>{console.log("ğŸš€ğŸš€ğŸš€ ~ file: list.vue:47 ~ watch ~ allTokensObj:",n),n&&!M(n)&&V()}),Ao(()=>{p.setIncentiveTypeList(""),p.setPoolListNum(""),p.setIsAllPool(!0),p.setLabel("All"),p.setFilterPoolCoinList([])}),(n,F)=>{const A=lo,f=so,y=Ho;return b(),C("div",Ro,[i(A,{"current-tab":"Pools"}),i(f),i(y)])}}};export{Ae as default};
