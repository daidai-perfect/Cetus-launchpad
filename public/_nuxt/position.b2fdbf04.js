import{_ as Le}from"./pool-position-tab.83fba420.js";import{a as V,e as W,o as t,f as i,h as o,F as ee,E as te,c as de,G as S,i as $,a4 as je,S as Ce,p as se,k as ne,m as g,x as r,r as C,A as z,u as p,D,l as Z,w as G,y as ae,P as Re,z as _e,b as Se,q as Pe,C as Ue,a0 as De,I as x,t as Be,V as Fe,B as Ee,j as we}from"./entry.602fc024.js";import"./index.d1010198.js";import{u as me,a as ke,b as Ge}from"./index.d55db9e8.js";import{u as He}from"./notifi.7fd69f13.js";import{a as w,d as U,o as ce,b as $e,c as ue,i as Me,g as qe,e as ze,B as Ae}from"./common.22b46d4a.js";import{u as Ve,c as We}from"./index.eee0c4a2.js";import{i as oe}from"./import-icon.de3e6c66.js";import{T as Je}from"./total-position.e4768885.js";import{C as be}from"./coin-img.95686f0d.js";import{T as ye}from"./token-warning-new.dca57a59.js";/* empty css              */import"./decimal.a2826370.js";import{u as Ke}from"./farms.661f5979.js";import{D as re}from"./decimal.765d8738.js";import{_ as Te}from"./icon_farms_2x.3ce86248.js";import{_ as Qe}from"./icon_rewards_2x.385242c7.js";import{_ as Xe}from"./coin-select.9046e9d6.js";import{_ as Ye}from"./img-no-Positions_2x.928c764d.js";import{_ as Ze}from"./img-no-Positions_2x.c3ea922a.js";import{_ as xe}from"./img-connect-wallet_2x.7ad70e09.js";import{_ as eo}from"./img-connect-wallet_2x.cadd6aea.js";import"./pool.b9493042.js";import"./select-tab.0b673412.js";import"./useWhale.302914ff.js";/* empty css              *//* empty css              */import"./coin-pair-name.77be38a0.js";import"./token-warning.a096d55a.js";import"./no-data.a7689dc2.js";import"./token.1916166b.js";/* empty css              */import"./icon-tooltip.c6f793ea.js";import"./token-warning_2x.9f7b2962.js";const oo=V({props:{loading:{type:Boolean,required:!0},source:{type:String,default:""}},setup(e){return{positionList:[{},{},{}]}}});const so=e=>(se("data-v-ef7f0692"),e=e(),ne(),e),no={class:"new-pool-position-list"},to={class:"position-list"},ao={class:"name-price"},io={class:"symbol-name"},lo={class:"avatar-box"},ro={class:"name-box"},uo={class:"price-other-info"},co={class:"new-my-position-item"},mo={class:"card-content"},po={class:"pos-name"},vo={class:"bottom-info"},go={class:"pos-valid-range"},fo={class:"info-block"},ho={class:"info-block"},_o={class:"info-block"},ko=so(()=>o("div",{class:"info-block"},null,-1));function $o(e,a,b,I,y,h){const m=je,s=Ce;return t(),i("div",no,[o("div",to,[(t(!0),i(ee,null,te(e.positionList,(d,l)=>(t(),i("div",{key:l,class:"item-box"},[o("div",ao,[o("div",io,[o("div",lo,[e.loading?(t(),de(m,{key:0,active:"",size:"large",paragraph:!1,class:"upgrade-avatar-skeleton"})):S("",!0),e.loading?(t(),de(m,{key:1,active:"",size:"large",paragraph:!1,class:"upgrade-avatar-skeleton"})):S("",!0)]),o("div",ro,[$(s,{class:"upgrade-text-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"]),$(s,{class:"upgrade-title-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])])]),o("div",uo,[o("span",null,[$(s,{class:"upgrade-long-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])])])]),o("div",co,[o("div",mo,[o("div",po,[$(s,{class:"upgrade-text-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])]),o("div",vo,[o("div",go,[$(s,{class:"upgrade-long-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])]),o("div",fo,[$(s,{class:"upgrade-text-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"]),$(s,{class:"upgrade-title-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])]),o("div",ho,[$(s,{class:"upgrade-text-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"]),$(s,{class:"upgrade-title-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])]),o("div",_o,[$(s,{class:"upgrade-text-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"]),$(s,{class:"upgrade-title-skeleton",loading:e.loading,active:"",paragraph:!1},null,8,["loading"])]),ko])])])]))),128))])])}const Ne=W(oo,[["render",$o],["__scopeId","data-v-ef7f0692"]]),Io={class:"pool-symbol-name-block"},wo={class:"coin-info-fee"},bo={class:"coin-logo"},yo={class:"logo-token-warning"},Co={class:"logo-token-warning"},Ro={class:"symbol-label"},So={class:"pool-name"},Po={class:"pool-fee"},Uo={class:"name"},Ao=V({__name:"pool-symbol-name-block",props:{poolInfo:{type:Object,default:()=>({})}},setup(e){const a=e,b=g(()=>{var y,h,m,s;return console.log("ðŸš€ ~ tokenA ~ props.poolInfo?.is_forward:props.poolInfoprops.poolInfo",(y=a.poolInfo)==null?void 0:y.is_forward),(h=a.poolInfo)!=null&&h.is_forward?(m=a.poolInfo)==null?void 0:m.token_a:(s=a.poolInfo)==null?void 0:s.token_b}),I=g(()=>{var y,h,m,s;return console.log("ðŸš€ ~ tokenA ~ props.poolInfo?.is_forward:props.poolInfoprops.poolInfo",(y=a.poolInfo)==null?void 0:y.is_forward),(h=a.poolInfo)!=null&&h.is_forward?(s=a.poolInfo)==null?void 0:s.token_b:(m=a.poolInfo)==null?void 0:m.token_a});return console.log(b.value,I.value,a.poolInfo,"props.poolInfoprops.poolInfo"),(y,h)=>{var m,s,d,l,_,A;return t(),i("div",Io,[o("div",wo,[o("div",bo,[o("div",yo,[$(be,{url:(m=b.value)==null?void 0:m.logo_url,size:"36px"},null,8,["url"]),$(ye,{token:b.value,"style-params":{width:"16px",height:"16px"}},null,8,["token"])]),o("div",Co,[$(be,{url:(s=I.value)==null?void 0:s.logo_url,size:"36px"},null,8,["url"]),$(ye,{token:I.value,"style-params":{width:"16px",height:"16px"}},null,8,["token"])]),o("div",Ro,[o("div",So,[o("span",null,r((d=b.value)==null?void 0:d.symbol)+"Â -Â ",1),o("span",null,r((l=I.value)==null?void 0:l.symbol),1),o("div",Po,r(e.poolInfo.fee*100)+"%",1)]),o("div",Uo,[o("span",null,r((_=b.value)==null?void 0:_.name)+"Â -Â ",1),o("span",null,r((A=I.value)==null?void 0:A.name),1)])])])])])}}});const To=W(Ao,[["__scopeId","data-v-fc1c80c7"]]),No=V({props:{poolInfo:{type:Object,default:()=>null}},setup(e){const a=C(),b=C(),I=g(()=>{var l;return(l=e.poolInfo)==null?void 0:l.needReverse}),y=me(),h=g(()=>y),m=g(()=>h.value.currentExplorer),s=g(()=>h.value.theme),d=C(!0);return z(()=>[e.poolInfo],([l])=>{l&&(a.value=l.token_a,b.value=l.token_b)},{immediate:!0}),{needReverse:I,theme:s,indexStore:y,direct:d,addCommom:w,decimalUi:U,fromCoin:a,toCoin:b,getExplorerUrl:ce,currentExplorer:m}}});const Oe=e=>(se("data-v-453d5c59"),e=e(),ne(),e),Oo={class:"pos-current-price"},Lo={class:"left"},jo=Oe(()=>o("span",{class:"tit"},"Current Price",-1)),Do={key:0},Bo={class:"value"},Fo={class:"text"},Eo={key:1},Go={class:"value"},Ho={class:"text"},Mo={class:"coin-rate"},qo=Oe(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_swap_change"})],-1)),zo=[qo];function Vo(e,a,b,I,y,h){var m,s,d,l;return t(),i("div",Oo,[o("div",Lo,[jo,(e.needReverse?!e.direct:e.direct)?(t(),i("div",Do,[o("span",Bo,r(("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.poolInfo.currentPrice,6))),1),o("span",Fo,r((m=e.toCoin)==null?void 0:m.symbol)+" per "+r((s=e.fromCoin)==null?void 0:s.symbol),1)])):(t(),i("div",Eo,[o("span",Go,r(("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.poolInfo.currentPriceReverse,6))),1),o("span",Ho,r((d=e.fromCoin)==null?void 0:d.symbol)+" per "+r((l=e.toCoin)==null?void 0:l.symbol),1)]))]),o("div",Mo,[o("div",{onClick:a[0]||(a[0]=_=>e.direct=!e.direct)},zo)])])}const Wo=W(No,[["render",Vo],["__scopeId","data-v-453d5c59"]]),Jo=V({props:{poolInfo:{type:Object,default:()=>({})},usePropsDirect:{type:Boolean,require:!1,default:!1},propDirect:{type:Boolean,require:!1,default:!1}},setup(e,a){const b=C(!0),I=C(e.usePropsDirect),y=C(e.propDirect);z(()=>e.propDirect,d=>{y.value=d},{immediate:!0});const h=C(),m=C();return z(()=>e.poolInfo,d=>{d&&!ue(d)&&(d.maxPrice!=="âˆž"&&(h.value=new re(1).div(new re(d.maxPrice)).toString()),d.minPrice>0&&(m.value=new re(1).div(new re(d.minPrice)).toString()))},{immediate:!0}),{sFixD:$e,direct:b,isUsepropsDirect:I,propsDirect:y,clickChange:()=>{b.value=!b.value,I.value&&a.emit("clickChange")},minPriceResever:h,maxPriceResever:m,decimalUi:U,addCommom:w}}});const Ko=e=>(se("data-v-a48f2308"),e=e(),ne(),e),Qo={class:"new-range"},Xo={class:"left"},Yo={key:0},Zo={class:"num"},xo={class:"num"},es={class:"per"},os={key:1},ss={class:"num"},ns={class:"num"},ts={class:"per"},as=Ko(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_swap_change"})],-1)),is=[as];function ls(e,a,b,I,y,h){var m,s,d,l;return t(),i("div",Qo,[o("div",Xo,[(e.isUsepropsDirect?e.propsDirect:e.direct)?(t(),i("p",Yo,[o("span",Zo,r(("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.poolInfo.minPrice,6)))+"Â -Â ",1),o("span",xo,r(("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.poolInfo.maxPrice,6)))+"Â ",1),o("span",es,r((m=e.poolInfo.coinB)==null?void 0:m.symbol)+" per "+r((s=e.poolInfo.coinA)==null?void 0:s.symbol),1)])):(t(),i("p",os,[o("span",ss,r(e.poolInfo.maxPrice!=="âˆž"?("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.minPriceResever,6)):"0")+"Â -Â ",1),o("span",ns,r(e.poolInfo.minPrice>0?("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.maxPriceResever,6)):"âˆž")+"Â ",1),o("span",ts,r((d=e.poolInfo.coinA)==null?void 0:d.symbol)+" per "+r((l=e.poolInfo.coinB)==null?void 0:l.symbol),1)]))]),o("div",{class:"icon-change",onClick:a[0]||(a[0]=D(()=>e.clickChange(),["stop"]))},is)])}const rs=W(Jo,[["render",ls],["__scopeId","data-v-a48f2308"]]),ds=V({components:{NewFarmsRange:rs},props:{poolInfo:{type:Object,default:()=>({})}},setup(){const e=C(!0);return{sFixD:$e,direct:e}}});const us=e=>(se("data-v-a77b0590"),e=e(),ne(),e),cs={class:"status-box"},ms=["src"],ps={class:"status-text"},vs={class:"right"},gs=us(()=>o("div",{class:"title"},"Price Range",-1));function fs(e,a,b,I,y,h){var d;const m=Re,s=Z("NewFarmsRange");return t(),i("div",{class:ae(["pos-valid-range",((d=e.poolInfo)==null?void 0:d.currentStatus)=="Active"?"active-pos-valid-range":"inactive-pos-valid-range"])},[$(m,{placement:"top","arrow-point-at-center":"","overlay-class-name":"ant-tooltip-text-color"},{title:G(()=>{var l;return[o("span",null,r(e.$t("tips.statusblocktips",{word:((l=e.poolInfo)==null?void 0:l.currentStatus)==="Active"?"within":"out of"})),1)]}),default:G(()=>{var l,_,A;return[o("div",cs,[(l=e.poolInfo)!=null&&l.currentStatus?(t(),i("img",{key:0,src:((_=e.poolInfo)==null?void 0:_.currentStatus)=="Active"?"/sui-image/icon_pos_active@2x.png":"/sui-image/img_inactive@2x.png",alt:""},null,8,ms)):S("",!0),o("span",ps,r((A=e.poolInfo)==null?void 0:A.currentStatus),1)])]}),_:1}),o("div",vs,[gs,$(s,{"pool-info":e.poolInfo},null,8,["pool-info"])])],2)}const hs=W(ds,[["render",fs],["__scopeId","data-v-a77b0590"]]),_s=V({components:{PosValidRange:hs},props:{pItem:{type:Object,required:!0}},setup(e){const a=g(()=>{var n,c;return((n=e.pItem)==null?void 0:n.nftHash)||((c=e.pItem)==null?void 0:c.id)}),{t:b}=_e(),I=Se(),y=me(),h=g(()=>y);g(()=>h.value.chainName?Ge(h.value.chainName):{});const m=ke(),s=g(()=>m),d=()=>{m.setPositionDetailCurrentTab("increase"),h.value.chainName==="Aptos"?I.push(`/new-position-detail?collect=${e.pItem.collectionName}&&token=${e.pItem.tokenName}&&address=${e.pItem.pool}`):e.pItem.positionSource=="clmm"?I.push(`/new-position-detail?collect=${e.pItem.collectionName}&&token=${e.pItem.tokenName}&&address=${e.pItem.pool}&pos=${e.pItem.pos_object_id}`):I.push(`/new-position-detail?position_nft_id=${e.pItem.id}&positionSource=farming`)},l=g(()=>s.value.allTokenObj&&e.pItem.token_a.address&&s.value.allTokenObj[e.pItem.token_a.address]&&s.value.allTokenObj[e.pItem.token_a.address].logo_url),_=g(()=>s.value.allTokenObj&&e.pItem.token_b.address&&s.value.allTokenObj[e.pItem.token_b.address]&&s.value.allTokenObj[e.pItem.token_b.address].logo_url),A=g(()=>s.value.feeOwedObj[e.pItem.tokenName]&&s.value.feeOwedObj[e.pItem.tokenName].feeOwed),k=g(()=>s.value.feeOwedObj[e.pItem.tokenName]&&s.value.feeOwedObj[e.pItem.tokenName].feesResult),O=g(()=>s.value.rewarderObj[e.pItem.tokenName]&&s.value.rewarderObj[e.pItem.tokenName].pendingRewarder||0),P=g(()=>s.value.rewarderObj[e.pItem.tokenName]&&s.value.rewarderObj[e.pItem.tokenName].pendingRewarderView||0),v=g(()=>s.value.rewarderObj[e.pItem.tokenName]&&s.value.rewarderObj[e.pItem.tokenName].pendingRewarderArr),L=g(()=>s.value.rewarderObj[e.pItem.tokenName]&&s.value.rewarderObj[e.pItem.tokenName].farmingRewardList),B=C(0),F=C();z(()=>s.value.RATES,n=>{n&&(F.value=n)},{immediate:!0});const ie=n=>{var c;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((c=s.value.tokensObj[n==null?void 0:n.address])==null?void 0:c.logo_url)||(h.value.theme==="default"?oe("/image/coins/unknown.png"):oe("/image/coins/sui-unknown.png"))},ge=g(()=>s.value.tokensObj);Pe(()=>{fe(e.pItem.minPrice,e.pItem.maxPrice)});const le=C("--"),fe=(n,c)=>{n!=="0"&&c!=="âˆž"?le.value=$e(1/(1-Number((n/c)**.25)),2)+"x":le.value="1x"};C(30);const N=C(null),H=g(()=>{var n,c,f,R,T,j,E,K,Q,X,Y,Ie;return N.value?N.value.is_display_rewarder?(n=N.value)!=null&&n.aprPercentageTotal?((c=N.value)==null?void 0:c.aprPercentageTotal)>1e4?">10,000":((f=N.value)==null?void 0:f.aprPercentageTotal)<.01&&((R=N.value)==null?void 0:R.aprPercentageTotal)>0?"<0.01":w((T=N.value)==null?void 0:T.aprPercentageTotal,2):(j=N.value)!=null&&j.rewardAprList?"0":"--":(E=N.value)!=null&&E.aprFee?((K=N.value)==null?void 0:K.aprFee)>1e4?">10,000":((Q=N.value)==null?void 0:Q.aprFee)<.01&&((X=N.value)==null?void 0:X.aprFee)>0?"<0.01":w((Y=N.value)==null?void 0:Y.aprFee,2):(Ie=N.value)!=null&&Ie.rewardAprList?"0":"--":"--"}),M=Ke(),q=g(()=>M),he=g(()=>q.value.farmsPoolObj),u=g(()=>h.value.currentExplorer);return{nftHash:a,currentExplorer:u,getExplorerUrl:ce,aprNum:H,lever:le,tokensObj:ge,showNum:Me,fromCoinUrl:l,toCoinUrl:_,decimalFormat:qe,clickDetails:d,t:b,addCommom:w,importIcon:oe,router:I,store:h,pendingRewarder:O,pendingFees:A,pendingRewarderArr:v,pendingFeesArr:k,checkNullObj:ue,fixD:ze,decimalUi:U,pendingRewarderView:P,aprAmount:B,getCoinIcon:ie,Decimal:re,farmsPoolObj:he,farmingRewardList:L,formatCurrency:Ae}}});const J=e=>(se("data-v-d406004e"),e=e(),ne(),e),ks={class:"card-content"},$s={class:"pos-name"},Is={class:"pos"},ws=J(()=>o("span",{class:"tit"},"NFT ID",-1)),bs={class:"val"},ys={class:"address"},Cs={key:0,class:"tit"},Rs=["href"],Ss=J(()=>o("use",{"xlink:href":"#icon-icon_copy2"},null,-1)),Ps=[Ss],Us=["href"],As=J(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_link"})],-1)),Ts=[As],Ns={class:"bottom-info"},Os={class:"info-block-container"},Ls={class:"range-box"},js={class:"label"},Ds={class:"text"},Bs={key:0,class:"hover-rewarder"},Fs={class:"rewarder-info"},Es={class:"left-rewarder"},Gs={alt:""},Hs={class:"right-rewarder"},Ms={class:"amount"},qs={key:0,class:"amount-usd"},zs={key:1,class:"amount-usd"},Vs={class:"rewarder-info"},Ws={class:"left-rewarder"},Js={alt:""},Ks={class:"right-rewarder"},Qs={class:"amount"},Xs={key:0,class:"amount-usd"},Ys={key:1,class:"amount-usd"},Zs={class:"label"},xs={key:0,class:"text"},en={key:1,class:"text"},on={class:"hover-rewarder"},sn={class:"left-rewarder"},nn={alt:""},tn={class:"right-rewarder"},an={class:"amount"},ln={class:"amount-usd"},rn={key:2,class:"text"},dn={class:"label-box"},un={key:0,class:"text"},cn={class:"img-text"},mn={key:0,class:"label"},pn=J(()=>o("img",{class:"img-default",src:Te,alt:""},null,-1)),vn=[pn],gn={key:1,class:"label"},fn=J(()=>o("img",{class:"img-default",src:Qe,alt:""},null,-1)),hn=[fn],_n={class:"hover-rewarder"},kn=J(()=>o("div",{class:"title"},"Mining Rewards",-1)),$n={class:"left-rewarder"},In={alt:""},wn={class:"right-rewarder"},bn={class:"amount"},yn={class:"amount-usd"},Cn=J(()=>o("div",{class:"title"},"Farming Rewards",-1)),Rn={class:"left-rewarder"},Sn={alt:""},Pn={class:"right-rewarder"},Un={class:"amount"},An={class:"amount-usd"},Tn={key:1,class:"text"},Nn=J(()=>o("div",{class:"more-box"},[o("div",{class:"more"},[o("span",null,"Manage"),o("svg",{class:"arrow-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_arrow"})])])],-1));function On(e,a,b,I,y,h){var _,A,k,O,P;const m=Z("PosValidRange"),s=Re,d=Ce,l=Ue("image");return t(),i("div",{class:"new-my-position-item",onClick:a[7]||(a[7]=(...v)=>e.clickDetails&&e.clickDetails(...v))},[o("div",ks,[o("div",$s,[o("div",Is,[ws,o("span",bs,r(e.pItem.tokenName.split("|")[1]),1)]),o("div",ys,[e.nftHash?(t(),i("span",Cs,"Address")):S("",!0),e.nftHash?(t(),i("a",{key:1,class:"val",target:"_blank",href:("getExplorerUrl"in e?e.getExplorerUrl:p(ce))(e.currentExplorer,"nftAddress",e.nftHash),onClick:a[0]||(a[0]=D(()=>{},["stop"]))}," Â "+r((_=e.nftHash)==null?void 0:_.substr(0,4))+" ... "+r((k=e.nftHash)==null?void 0:k.substr(((A=e.nftHash)==null?void 0:A.length)-4,4))+"Â  ",9,Rs)):S("",!0),e.nftHash?(t(),i("svg",{key:2,class:"icon","aria-hidden":"true",onClick:a[1]||(a[1]=D(v=>e.store.copy(e.nftHash),["stop"]))},Ps)):S("",!0),o("a",{class:"h5-link-icon",href:("getExplorerUrl"in e?e.getExplorerUrl:p(ce))(e.currentExplorer,"nftAddress",e.nftHash),target:"_blank",onClick:a[2]||(a[2]=D(()=>{},["stop"]))},Ts,8,Us)])]),o("div",Ns,[o("div",Os,[o("div",{class:"info-block",onClick:a[3]||(a[3]=D(()=>{},["stop"]))},[o("div",Ls,[$(m,{"pool-info":{...e.pItem,minPrice:e.pItem.needReverse?e.pItem.maxPrice==="âˆž"?"0":("decimalUi"in e?e.decimalUi:p(U))(new e.Decimal(1).div(e.pItem.maxPrice).toString(),6):("decimalUi"in e?e.decimalUi:p(U))(e.pItem.minPrice,6),maxPrice:(e.pItem.needReverse?e.pItem.minPrice.indexOf("+")>-1||e.pItem.minPrice=="0":e.pItem.maxPrice.indexOf("+")>-1||e.pItem.maxPrice==="âˆž")?"âˆž":e.pItem.needReverse?("decimalUi"in e?e.decimalUi:p(U))(1/e.pItem.minPrice,6):("decimalUi"in e?e.decimalUi:p(U))(e.pItem.maxPrice,6)}},null,8,["pool-info"])])]),o("div",{class:ae(["info-block cursor-block",e.pItem.amountUSD=="--"||Number(e.pItem.amountUSD)==0?"block-none":""]),onClick:a[4]||(a[4]=D(()=>{},["stop"]))},[o("div",js,r(e.$t("common.liquidity")),1),o("div",Ds,[$(s,{"overlay-class-name":"position-tooltip"},{title:G(()=>[e.pItem.amountUSD>0?(t(),i("div",Bs,[o("div",Fs,[o("div",Es,[x(o("img",Gs,null,512),[[l,e.getCoinIcon(e.pItem.needReverse?e.pItem.token_b:e.pItem.token_a)]]),o("span",null,r(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1)]),o("div",Hs,[o("div",Ms,r(e.pItem.needReverse?("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.pItem.amountB,e.pItem.token_b.decimals)):("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.pItem.amountA,e.pItem.token_a.decimals))),1),e.pItem.needReverse?(t(),i("div",zs,r(e.pItem.tokenBRates==0?"$0":e.pItem.tokenBRates>.01?"$"+("addCommom"in e?e.addCommom:p(w))(e.pItem.tokenBRates,2):"<$0.01"),1)):(t(),i("div",qs,r(e.pItem.tokenARates==0?"$0":e.pItem.tokenARates>.01?"$"+("addCommom"in e?e.addCommom:p(w))(e.pItem.tokenARates,2):"<$0.01"),1))])]),o("div",Vs,[o("div",Ws,[x(o("img",Js,null,512),[[l,e.getCoinIcon(e.pItem.needReverse?e.pItem.token_a:e.pItem.token_b)]]),o("span",null,r(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol),1)]),o("div",Ks,[o("div",Qs,r(e.pItem.needReverse?("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.pItem.amountA,e.pItem.token_a.decimals)):("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.pItem.amountB,e.pItem.token_b.decimals))),1),e.pItem.needReverse?(t(),i("div",Ys,r(e.pItem.tokenARates==0?"$0":e.pItem.tokenARates>.01?"$"+("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.pItem.tokenARates,2)):"<$0.01"),1)):(t(),i("div",Xs,r(e.pItem.tokenBRates==0?"$0":e.pItem.tokenBRates>.01?"$"+("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(e.pItem.tokenBRates,2)):"<$0.01"),1))])])])):S("",!0)]),default:G(()=>[o("span",null," $"+r(e.pItem.amountUSD=="--"?"--":Number(e.pItem.amountUSD)==0?0:Number(e.pItem.amountUSD)<.01?"<0.01":("addCommom"in e?e.addCommom:p(w))(e.pItem.amountUSD,2)),1)]),_:1})])],2),o("div",{class:ae(["info-block cursor-block",e.pendingFees==0?"block-none":""]),onClick:a[5]||(a[5]=D(()=>{},["stop"]))},[o("div",Zs,r(e.$t("newAdd.pendingFees")),1),e.pendingFees==="--"?(t(),i("div",xs,"$ --")):isNaN(e.pendingFees)?(t(),i("div",rn,[$(d,{class:"upgrade-reward-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),i("div",en,[$(s,{"overlay-class-name":"position-tooltip"},{title:G(()=>[o("div",on,[(t(!0),i(ee,null,te(e.pendingFeesArr,v=>(t(),i("div",{key:v,class:"rewarder-info"},[o("div",sn,[x(o("img",nn,null,512),[[l,e.getCoinIcon(v)]]),o("span",null,r(v.symbol),1)]),o("div",tn,[o("div",an,r(Number(v.amount)==0?0:("formatCurrency"in e?e.formatCurrency:p(Ae))(v.amount,v.decimals,!0,!1,!1)),1),o("div",ln,r(Number(v.amountUSD)==0?"$0":Number(v.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:p(w))(v.amountUSD,2):"<$0.01"),1)])]))),128))])]),default:G(()=>[o("span",null,r(e.pendingFees==0?"$0":e.pendingFees<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:p(w))(e.pendingFees,2)),1)]),_:1})]))],2),e.pItem.is_display_rewarder&&((O=e.pItem)!=null&&O.rewarder_infos)&&!("checkNullObj"in e?e.checkNullObj:p(ue))((P=e.pItem)==null?void 0:P.rewarder_infos)&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0||e.pItem.rewards&&e.pItem.rewards.length>0?(t(),i("div",{key:0,class:ae(["info-block cursor-block",[e.pendingRewarder==0&&e.pItem.rewards&&e.pItem.rewards.length==0?"block-none ":"",Number(e.pendingRewarder)==0?" block-none-reward":""].join(",")]),onClick:a[6]||(a[6]=D(()=>{},["stop"]))},[o("div",dn,[o("span",null,r(e.$t("newAdd.pendingRewards")),1)]),e.pendingRewarder||e.pendingRewarder==0||e.pItem.farmingRewardTotalUsd?(t(),i("div",un,[$(s,{"overlay-class-name":"position-tooltip"},De({default:G(()=>{var v,L;return[o("div",cn,[e.pItem.rewards&&e.pItem.rewards.length>0?(t(),i("div",mn,vn)):S("",!0),e.pItem.is_display_rewarder&&((v=e.pItem)!=null&&v.rewarder_infos)&&!("checkNullObj"in e?e.checkNullObj:p(ue))((L=e.pItem)==null?void 0:L.rewarder_infos)&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0?(t(),i("div",gn,hn)):S("",!0),o("span",null,r(e.pendingRewarder+e.pItem.farmingRewardTotalUsd>0&&e.pendingRewarder+e.pItem.farmingRewardTotalUsd>.01?`$${("addCommom"in e?e.addCommom:p(w))(e.pendingRewarder+e.pItem.farmingRewardTotalUsd,2)}`:e.pendingRewarder+e.pItem.farmingRewardTotalUsd>0&&e.pendingRewarder+e.pItem.farmingRewardTotalUsd<=.01?"<$0.01":"$0"),1)])]}),_:2},[e.pendingRewarder>0?{name:"title",fn:G(()=>[o("div",_n,[kn,(t(!0),i(ee,null,te(e.pendingRewarderArr,v=>(t(),i("div",{key:v,class:"rewarder-info"},[o("div",$n,[x(o("img",In,null,512),[[l,e.getCoinIcon(v)]]),o("span",null,r(v.symbol),1)]),o("div",wn,[o("div",bn,r(("addCommom"in e?e.addCommom:p(w))(("decimalUi"in e?e.decimalUi:p(U))(v.amount,v.decimals))),1),o("div",yn,r(Number(v.amountUSD)==0?"$0":Number(v.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:p(w))(v.amountUSD,2):"<$0.01"),1)])]))),128)),e.pItem.rewards&&e.pItem.rewards.length>0?(t(),i(ee,{key:0},[Cn,(t(!0),i(ee,null,te(e.pItem.rewards,v=>(t(),i("div",{key:v,class:"rewarder-info"},[o("div",Rn,[x(o("img",Sn,null,512),[[l,e.getCoinIcon(v)]]),o("span",null,r(v.symbol),1)]),o("div",Pn,[o("div",Un,r(("decimalUi"in e?e.decimalUi:p(U))(v.amount,v.decimals)),1),o("div",An,r(Number(v.rewarderAmountUsd)==0?"$0":Number(v.rewarderAmountUsd)>.01?"$"+("addCommom"in e?e.addCommom:p(w))(v.rewarderAmountUsd,2):"<$0.01"),1)])]))),128))],64)):S("",!0)])]),key:"0"}:void 0]),1024)])):(t(),i("div",Tn,[$(d,{class:"upgrade-reward-skeleton",loading:!0,active:"",paragraph:!1})]))],2)):S("",!0)])])]),Nn])}const Ln=W(_s,[["render",On],["__scopeId","data-v-d406004e"]]),jn=V({setup(){const{t:e,locale:a}=_e(),b=me(),I=g(()=>b),y=ke(),h=g(()=>y),m=k=>{var O;return(k==null?void 0:k.logoURI)||(k==null?void 0:k.logo_url)||((O=h.value.tokensObj[k==null?void 0:k.address])==null?void 0:O.logo_url)||(I.value.theme==="default"?oe("/image/coins/unknown.png"):oe("/image/coins/sui-unknown.png"))},s=C(!1),d=C(null),l=C(null);return{pools:h,getCoinIcon:m,isOpenTokenSelect:s,toDelectToken:k=>{s.value=!1,k=="first"&&(d.value=l.value),l.value=null},toSelectToken:k=>{d.value?l.value=k:d.value=k,s.value=!1},firstToken:d,lastToken:l,t:e,addCommom:w}}});const pe=e=>(se("data-v-9235e3bc"),e=e(),ne(),e),Dn={class:"token-select-input-box"},Bn=pe(()=>o("div",{class:"icon-box"},[o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_search"})])],-1)),Fn=pe(()=>o("span",null,"Filter by token",-1)),En=[Bn,Fn],Gn={key:0,class:"item"},Hn={alt:""},Mn={key:0,class:"pool-warning"},qn=pe(()=>o("use",{"xlink:href":"#icon-a-icon-Shutdown"},null,-1)),zn=[qn],Vn={key:1,class:"item"},Wn={alt:""},Jn={key:0,class:"pool-warning"},Kn=pe(()=>o("use",{"xlink:href":"#icon-a-icon-Shutdown"},null,-1)),Qn=[Kn];function Xn(e,a,b,I,y,h){var d,l,_,A,k,O;const m=Xe,s=Ue("image");return t(),i("div",Dn,[o("div",{class:"search-input",onClick:a[2]||(a[2]=P=>e.firstToken&&e.lastToken?"":e.isOpenTokenSelect=!e.isOpenTokenSelect)},[o("div",null,[o("div",{class:ae(["placeholder",e.firstCoin&&e.lastCoin?"notAllowed":""])},En,2),e.firstToken?(t(),i("div",Gn,[x(o("img",Hn,null,512),[[s,e.getCoinIcon(e.firstToken)]]),(l=(d=e.pools)==null?void 0:d.tokensObj[e.firstToken.address])!=null&&l.isSelfBuilt?(t(),i("div",Mn)):S("",!0),o("span",null,r((_=e.firstToken)==null?void 0:_.symbol),1),(t(),i("svg",{class:"icon modal-icon-close","aria-hidden":"true",onClick:a[0]||(a[0]=D(P=>e.toDelectToken("first"),["stop"]))},zn))])):S("",!0),e.lastToken?(t(),i("div",Vn,[x(o("img",Wn,null,512),[[s,e.getCoinIcon(e.lastToken)]]),(k=(A=e.pools)==null?void 0:A.tokensObj[e.lastToken.address])!=null&&k.isSelfBuilt?(t(),i("div",Jn)):S("",!0),o("span",null,r((O=e.lastToken)==null?void 0:O.symbol),1),(t(),i("svg",{class:"icon modal-icon-close","aria-hidden":"true",onClick:a[1]||(a[1]=D(P=>e.toDelectToken("last"),["stop"]))},Qn))])):S("",!0)])]),e.isOpenTokenSelect?(t(),de(m,{key:0,"existing-coins":"","last-select-coin":e.firstToken&&e.firstToken.address||"","is-allow-ban":!0,onOnSelect:e.toSelectToken,onOnClose:a[3]||(a[3]=P=>e.isOpenTokenSelect=!1)},null,8,["last-select-coin","onOnSelect"])):S("",!0)])}const Yn=W(jn,[["render",Xn],["__scopeId","data-v-9235e3bc"]]),Zn=V({components:{TotalPosition:Je,PoolSymbolNameBlock:To,PositionLoading:Ne,NewMyPositionItem:Ln,PosCurrentPrice:Wo,SelectInput:Yn},setup(){const e=C(!1),{t:a}=_e(),b=C(["position"]),I=Se(),y=C(""),h=me(),m=g(()=>h),s=g(()=>m.value.chainName?We[m.value.chainName]:{});let d=C([]);const l=ke(),_=g(()=>l),A=Ve(),k=g(()=>A);C(!0);const O=C("TVL"),P=()=>{e.value=!0,d.value=[],k.value.address&&(l.setPools(ie.value.poolConfigList,m.value.chainName),l.getMyPositons(k.value.address,_.value.poolsObj,m.value.chainName)),setTimeout(()=>{e.value=!1},1e3)},v=g(()=>{const u=Array.from(new Set(_.value.poolConfigList.flatMap(n=>!(n!=null&&n.category)||(n==null?void 0:n.category)==""?"All":n==null?void 0:n.category)));return console.log(u,"newArr"),u.length<=1?[]:u});z(()=>m.value.isRefresh,u=>{var n,c,f,R;u&&((R=(f=(c=(n=I==null?void 0:I.currentRoute)==null?void 0:n.value)==null?void 0:c.name)==null?void 0:f.split("-"))==null?void 0:R[1])=="position"&&P()}),Pe(()=>{d.value=[],l.setMyPositionsLoading(!0)}),Be(()=>{k.value.connected||(d.value=[])});const L=()=>{e.value=!0;let u=[];_.value.myPositions.forEach(c=>{var K,Q,X,Y;let f=c.positionSource=="farming",R,T;const j=c.amountA*((K=_.value.RATES[c.token_a.address])==null?void 0:K.price),E=c.amountB*((Q=_.value.RATES[c.token_b.address])==null?void 0:Q.price);(X=_.value.RATES[c.token_a.address])!=null&&X.price&&((Y=_.value.RATES[c.token_b.address])!=null&&Y.price)?(R=j+E,T=j+E):(R=" --",T=0),console.log(_.value.currentPoolTab,"##pools.value.currentPoolTab"),u.push({...c,amountUSD:R,amountUSDOrigin:T,tokenARates:j,tokenBRates:E,isStableFarming:f})});const n={};u.forEach(c=>{n[c.address]?n[c.address].positionList.push(c):(n[c.address]={},n[c.address].poolInfo=c,n[c.address].positionList=[c])}),d.value=Object.values(n)||[],console.log(d.value,"list.value========>")};z(()=>[_.value.myPositions,_.value.RATES],([u,n])=>{u&&n&&(console.log("0605==>updateLpList9099999"),L())},{immediate:!0}),z(()=>[k.value.address,_.value.poolConfigList,_.value.poolsObj,m.value.chainName],([u,n,c,f])=>{var R,T,j;u&&n&&n.length>0&&f&&(f!=null&&f.toLowerCase().includes((R=n[0])==null?void 0:R.chain))&&!ue(c)&&(f==="Aptos"?n.length===Object.values(c).length:(j=(T=Object.values(c)[0])==null?void 0:T.chain)!=null&&j.includes("sui"))&&(console.log(c,n,"0605==>getMyPositons9099999"),l.getMyPositons(k.value.address,c,f))},{immediate:!0,deep:!0}),z(()=>k.value.address,u=>{u||l.setMyPositions()},{immediate:!0});const B=He(),F=g(()=>B),ie=g(()=>l),ge=async u=>{await B.getSourceGroups();const n=F.value.sourceGroups&&F.value.sourceGroups.length>0&&F.value.sourceGroups[0]&&F.value.sourceGroups[0].sources||[];console.log(n,"####source"),console.log(u,"###myPositions");for(let c=0;c<n.length;c++){const{pool_address:f,position_index:R}=JSON.parse(n[c].blockchainAddress);let T=!1,j;for(let E=0;E<u.length;E++){const{poolAddress:K,index:Q,positionSource:X,name:Y}=u[E];f==K&&Number(X=="clmm"?Q:Y.split("-")[1])==Number(R)&&(T=!0),j={pool_address:f,position_index:R}}T||await B.subscribePosition(j,"",!1,!1)}},le=async()=>{await B.getSourceGroups();const u=F.value.sourceGroups&&F.value.sourceGroups.length>0&&F.value.sourceGroups[0]&&F.value.sourceGroups[0].sources||[];for(let n=0;n<u.length;n++){const{pool_address:c,position_index:f}=JSON.parse(u[n].blockchainAddress),{name:R}=u[n],T={pool_address:c,position_index:f};await B.subscribePosition(T,R,!1,!1)}},fe=g(()=>ie.value.myPositionsLoading);z(()=>ie.value.myPositions,(u,n)=>{s.value.hasNotifi&&(u&&u.length>0&&n&&n.length!==u.length?ge(u):u&&u.length==0&&!fe.value&&le())},{immediate:!0});const N=u=>{var n;return(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((n=_.value.tokensObj[u==null?void 0:u.address])==null?void 0:n.logo_url)||(m.value.theme==="default"?oe("/image/coins/unknown.png"):oe("/image/coins/sui-unknown.png"))},H=C(null),M=g(()=>H.value&&H.value.firstToken?H.value.firstToken:null),q=g(()=>H.value&&H.value.lastToken?H.value.lastToken:null),he=g(()=>{let u=[];u=d.value;const n=u.filter((f,R)=>M.value&&q.value?f.poolInfo.coinA.address==M.value.address&&f.poolInfo.coinB.address==q.value.address||f.poolInfo.coinA.address==q.value.address&&f.poolInfo.coinB.address==M.value.address:M.value?f.poolInfo.coinA.address.toLowerCase()==M.value.address.toLowerCase()||f.poolInfo.coinB.address.toLowerCase()==M.value.address.toLowerCase():q.value?f.poolInfo.coinA.address.toLowerCase()==q.value.address.toLowerCase()||f.poolInfo.coinB.address.toLowerCase()==q.value.address.toLowerCase():u);if(!_.value.myPositionsLoading){const f=n.map(R=>R==null?void 0:R.positionList).flat();console.log("ðŸš€ ~ showList ~ arr:",f),h.setPositiomAmount(f.length),l.setPositionShowList(f)}return n.filter((f,R)=>{var T;return((T=f.positionList)==null?void 0:T.length)>0})});return Fe(()=>{h.setPositiomAmount("--"),l.setPositionShowList([])}),{tabArr:v,showList:he,childTokenSelectRef:H,firstToken:M,lastToken:q,getCoinIcon:N,selectValue:O,t:a,pools:_,store:m,wallet:k,list:d,clickRefresh:P,refresh:e,current:b,router:I,searchKey:y}}});const ve=e=>(se("data-v-434c2333"),e=e(),ne(),e),xn={class:"new-position-list-container"},et={class:"filter-refresh"},ot={class:"icon-box"},st=ve(()=>o("use",{"xlink:href":"#icon-icon_refresh"},null,-1)),nt=[st],tt={class:"position-card-top"},at={key:0,class:"upgrade-loading"},it={key:1,class:"position-list"},lt={class:"name-price"},rt={class:"price-other-info"},dt={class:"farm-create"},ut=ve(()=>o("img",{class:"img-default",src:Te,alt:""},null,-1)),ct=ve(()=>o("span",null,"Farm",-1)),mt=ve(()=>o("svg",{class:"arrow-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_arrow"})],-1)),pt=[ut,ct,mt],vt={key:2,class:"no-data"},gt={key:0,src:Ye,alt:""},ft={key:1,src:Ze,alt:""},ht={key:3,class:"no-data"},_t={key:0,src:xe,alt:""},kt={key:1,src:eo,alt:""};function $t(e,a,b,I,y,h){const m=Le,s=Z("SelectInput"),d=Z("TotalPosition"),l=Ne,_=Z("PoolSymbolNameBlock"),A=Z("PosCurrentPrice"),k=Ee,O=Z("NewMyPositionItem");return t(),i("div",xn,[$(m,{"current-tab":"Positions"}),o("div",et,[$(s,{ref:"childTokenSelectRef"},null,512),o("div",{class:"refresh-icon",onClick:a[0]||(a[0]=(...P)=>e.clickRefresh&&e.clickRefresh(...P))},[o("div",ot,[(t(),i("svg",{class:ae(["icon",{refresh:e.isRefresh}]),"aria-hidden":"true"},nt,2))])])]),o("div",tt,[e.wallet&&e.wallet.address?(t(),de(d,{key:0})):S("",!0)]),e.pools.myPositionsLoading&&e.wallet.connected?(t(),i("div",at,[$(l,{loading:e.pools.myPositionsLoading,type:"position"},null,8,["loading"])])):S("",!0),e.showList&&e.showList.length>0&&e.wallet.connected&&!e.pools.myPositionsLoading?(t(),i("div",it,[(t(!0),i(ee,null,te(e.showList,P=>{var v;return t(),i("div",{key:(v=P.poolInfo)==null?void 0:v.address,class:"item-box"},[o("div",lt,[$(_,{"pool-info":P.poolInfo},null,8,["pool-info"]),o("div",rt,[$(A,{"pool-info":P.poolInfo},null,8,["pool-info"]),o("div",dt,[P.poolInfo.isStableFarming?(t(),i("div",{key:0,class:"farming-logo",onClick:a[1]||(a[1]=D(L=>e.$router.push("/farms"),["stop"]))},pt)):S("",!0),$(k,{class:"ghost-btn create",onClick:L=>{var B;return e.$router.push(`/liquidity/deposit?poolAddress=${(B=P.poolInfo)==null?void 0:B.poolAddress}`)}},{default:G(()=>[we("Create new position")]),_:2},1032,["onClick"])])])]),(t(!0),i(ee,null,te(P.positionList,L=>(t(),de(O,{key:L==null?void 0:L.name,"p-item":L},null,8,["p-item"]))),128))])}),128))])):S("",!0),e.showList&&e.showList.length<=0&&!e.pools.myPositionsLoading&&e.wallet.connected?(t(),i("div",vt,[e.store.theme=="default"?(t(),i("img",gt)):(t(),i("img",ft)),o("span",null,r(e.$t("common.noLiquidityPositions")),1)])):S("",!0),e.wallet.connected?S("",!0):(t(),i("div",ht,[e.store.theme=="default"?(t(),i("img",_t)):(t(),i("img",kt)),$(k,{class:"connect-wallet",onClick:a[2]||(a[2]=P=>e.wallet.setIsShowWalletModal(!0))},{default:G(()=>[we(r(e.$t("button.connectWallet")),1)]),_:1})]))])}const oa=W(Zn,[["render",$t],["__scopeId","data-v-434c2333"]]);export{oa as default};
