import{a as De,r as y,m as w,q as bt,A as ae,e as ze,o as r,f as l,I as oi,M as ri,h as a,N as Bt,x as o,u as L,G as p,c as Je,p as kt,k as ht,O as Gt,L as ct,i as oe,w as Ye,y as tt,S as ai,K as si,l as Pe,B as Dt,j as ut,F as Ke,E as Ot,z as zt,s as Et,Y as Ht,P as Kt,b as Jt,$ as li,a5 as ui,a0 as ci}from"./entry.4704f58e.js";/* empty css              */import{positionError as mt,fromCoin as H,toCoin as E,tickList as dt,currentPrice as pt,currentPriceReverse as Nt,direction as Te,currentPriceTab as se,defaultMinPrice as Ft,defaultMaxPrice as Ut,minPrice as Z,maxPrice as j,toggle as Yt,isStableFarmingRange as Fe,isInputTotalAmount as Xe,priceConfigObj as lt,fromCoinAmount as V,toCoinAmount as x,fixedFromCoin as Ue,resetTickList as Xt,resetData as di}from"./data.d65f2693.js";import{g as mi,n as jt,d as F,a as ie,c as ge,b as Qt,s as vi,p as Wt}from"./common.b5864f99.js";import{i as vt}from"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import{u as Qe,b as yt,a as ft}from"./index.55827d77.js";import{T as At,g as fi,b as Le,c as gi,u as pi}from"./index.1b83cc3f.js";import"./decimal.a2826370.js";import{s as $t,m as bi,l as ki,b as hi,a as yi}from"./transform.c672907f.js";import{D as k}from"./decimal.765d8738.js";import"./index.e26dfffd.js";/* empty css              */import{C as Ci}from"./coin-img.f7c54220.js";import{u as Lt}from"./farms.c60f0187.js";import{_ as Vt}from"./icon_farms_2x.3df44aba.js";import{_ as Pi}from"./coin-select.3c71b024.js";import{_ as Si}from"./viewDetail.67877346.js";import{I as Ii}from"./icon-slippage.2cc88851.js";import{I as Ti,N as wi,a as _i}from"./input-lock.a32de271.js";import{I as xt}from"./icon-tooltip.d7656d2a.js";import{C as ei}from"./coin-img-warning.c9081ca1.js";import{_ as Ai}from"./deposit-ratio.14099f0a.js";import{u as ti}from"./notifi.95559429.js";import{T as $i}from"./token-input-block.8f89b200.js";import{_ as Ni}from"./lock.35e1d915.js";import"./token-warning_2x.879a5b90.js";import"./img-no-Positions_2x.83ab4f9e.js";import"./img-no-Positions_2x.c9a83710.js";import"./status-block.89c74f06.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./swap-setting.befbdd76.js";import"./icon-error_2x.048650ab.js";import"./token.bcdd7e0b.js";import"./useWhale.3a593a54.js";import"./token-dropdown-select.5bc6484f.js";import"./useDebounceFunction.fcb46106.js";function Zt(e,u,q){const _=new k(10).pow(u-q);return new k(1.0001).pow(e).mul(_)}const Li=De({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""},zoom:{type:Number,default:1}},setup(e,u){const q=y(""),_=y(""),$=w(()=>{var i,h,v,U,B,G;return(i=e.poolInfo)!=null&&i.current_sqrt_price&&((h=e.poolInfo)!=null&&h.coinA)&&((v=e.poolInfo)!=null&&v.coinB)?s.sqrtPriceX64ToPrice((U=e.poolInfo)==null?void 0:U.current_sqrt_price,(B=e.poolInfo)==null?void 0:B.coinA.decimals,(G=e.poolInfo)==null?void 0:G.coinB.decimals).toString():"0"}),R=w(()=>{let i=0;return e.direction?i=(Number(e.minPrice)/Number($.value)-1)*100:i=(Number(e.minPrice)/Number(1/Number($.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),c=w(()=>{let i=0;return e.direction?i=(Number(e.maxPrice)/Number($.value)-1)*100:i=(Number(e.maxPrice)/Number(1/Number($.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),S=Qe(),f=w(()=>S),X=w(()=>f.value.chainName?yt(f.value.chainName):{}),{TickMath:s,getNearestTickByTick:N}=X.value,M=(i=[])=>{let h=6;const v=Math.abs(Number(i[0])-Number(i[i.length-1]));return v>=6?h=0:v>=1?h=1:v>=.1?h=2:v>=.01?h=3:v>=.001?h=4:v>=1e-4?h=5:v>=1e-5?h=6:v>=1e-6?h=7:v>=1e-7&&(h=8),h},K=(i,h=1)=>{if(i&&i.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const v=Number(e.poolInfo.current_tick_index);let U=v+100*h,B=v-100*h,G,C;if(e.maxPrice==="âˆž")C=X.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?C=s.priceToTickIndex(new k(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):C=s.priceToTickIndex(new k(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{C=443636}if(e.minPrice==="0")G=X.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?G=s.priceToTickIndex(new k(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):G=s.priceToTickIndex(new k(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{G=-443636}let Y=0;if(e.currentPriceTab!=="full range"){if(v>=G&&v<=C){const Q=v-G,pe=C-v;Y=Math.max(Math.abs(Q),Math.abs(pe))}else v<G?Y=Math.abs(C-v):Y=Math.abs(v-G);U=v+Y+100*h,B=v-Y-100*h}else{const Q=(Math.abs(v)>5e3,2e4);U=v+Q*h,B=v-Q*h}B<-443636&&(B=-443636),U>443636&&(U=443636);const P=new k(i.liquidity).div(Math.pow(10,8)).toString(),A=e.tickList,D=[],ue=[];let z={};for(let Q=0;Q<A.length;Q++){if(z=A[Q],z.index<=v&&z.index>=B){if(D.length<1&&Q!==0){const pe=A[Q-1];D.unshift({...pe,index:B,source:"left"})}D.unshift(z)}else if(z.index>v&&z.index<=U&&(ue.push(z),D.length<1&&Q!==0)){const pe=A[Q-1];D.push({...pe,index:B,source:"left"})}if(z.index>U){const pe=A[Q];if(ue.push({...pe,index:U,source:"right"}),D.length<1&&Q!==0){const it=A[Q-1];D.push({...it,index:B,source:"left"})}break}}let ne="0";for(let Q=D.length-1;Q>=0;Q--)ne=new k(ne).plus(new k(D[Q].liquidityNet.toString()).div(Math.pow(10,8))).toString(),D[Q].liquityAmount=ne;let ee=P;for(let Q=0;Q<ue.length;Q++)ee=new k(ee).plus(new k(ue[Q].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ue[Q].liquityAmount=ee;let ce=[];const re=A&&A.length>0?{index:v,liquityAmount:Number(P)}:{index:v,liquityAmount:0};(D.length>0||ue.length>0)&&(ce=[...D.reverse(),re,...ue],e.direction||(ce=ce.reverse()));const Be=[];A.forEach(Q=>{Be.push({...Q,liquidityGross:Q.liquidityGross.toString(),liquidityNet:Q.liquidityNet.toString()})}),g(ce,B,U,G,C,v)}};let J=y(!1);const T=y(!1);bt(()=>{const i=document.body.clientWidth;T.value=!0,i<750?J.value=!1:J.value=!0,window.onresize=()=>{document.body.clientWidth<750?J.value=!1:J.value=!0,K(e.poolInfo,e.zoom)}});const g=(i,h,v,U,B,G)=>{let C,Y;e.direction?(C=Number(e.before7dContractPriceLowest)!==0?s.priceToTickIndex(new k(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",Y=Number(e.before7dContractPriceHighest)!==0?s.priceToTickIndex(new k(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(C=Number(e.before7dContractPriceLowest)!==0?s.priceToTickIndex(new k(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",Y=Number(e.before7dContractPriceHighest)!==0?s.priceToTickIndex(new k(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const P={top:30,right:35,bottom:20,left:80};let A,D;J.value?(A=528-P.left-P.right,D=220-P.top-P.bottom):(A=340-P.left-P.right,D=205-P.top-P.bottom);const ue=v-h,z=parseInt(String(ue/4));let ne=[h+z/4,h+z,h+2*z,v-z,v-z/4];const ee=h,ce=v,re=A/(ce-ee);e.currentPriceTab==="full range"&&(ne=[h,h+2*z,v]);const Be=ne.map(d=>e.direction?Zt(d,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new k(1).div(Zt(d,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),Q=M(Be);$t("#chart").selectAll("*").remove();const pe=$t("#chart").attr("width",A+P.left+P.right).attr("height",D+P.top+P.bottom).append("g").attr("transform",`translate(${P.left},${P.right})`),it=bi(i,function(d){return Number(Math.abs(d.liquityAmount))})||0,Oe=ki().range([0,D]).domain([it,0]);hi().rangeRound([0,A]).padding(.1);const at=pe.append("g").attr("id","barsBox").selectAll("rect").data(i).enter().append("rect");f.value.theme=="default"?at.attr("x",function(d,m){return m===0?0:e.direction?Math.abs(d.index-ee)*re:Math.abs(ce-d.index)*re}).attr("y",function(d,m){return e.direction?m===i.length-1?0:Oe(d.liquityAmount):m===i.length-1?0:Oe(i[m+1].liquityAmount)}).attr("width",function(d,m){return m===0&&i.length===1&&d.liquityAmount>0?A:(e.direction,m!==i.length-1?Math.abs(i[m+1].index-d.index)*re:0)}).attr("height",function(d,m){return m===0&&i.length===1&&d.liquityAmount>0?D:e.direction?m===i.length-1?0:D-Oe(d.liquityAmount):m===i.length-1?0:D-Oe(i[m+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):at.attr("x",function(d,m){return m===0?0:e.direction?Math.abs(d.index-ee)*re:Math.abs(ce-d.index)*re}).attr("y",function(d,m){return e.direction?m===i.length-1?0:Oe(Math.abs(d.liquityAmount)):m===i.length-1?0:Oe(Math.abs(i[m+1].liquityAmount))}).attr("width",function(d,m){return m===0&&i.length===1&&d.liquityAmount>0?A:(e.direction,m!==i.length-1?Math.abs(i[m+1].index-d.index)*re:0)}).attr("height",function(d,m){if(m===0&&i.length===1&&d.liquityAmount>0)return D;if(e.direction)return m===i.length-1?0:Number(d.liquityAmount)?D-Oe(Math.abs(d.liquityAmount)):0;{if(m===i.length-1)return 0;const me=D-Oe(Math.abs(i[m+1].liquityAmount));return Number(i[m+1].liquityAmount)?me:0}}).attr("fill",function(d,m){return"#417494"}).attr("class","bars").attr("stroke-width",1).attr("stroke",function(d,m){return"#417494"});const Ee=pe.append("g");Ee.append("line").attr("x1",0).attr("y1",155).attr("x2",A).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const st=Ee.append("g");let de=0;if(e.direction){for(let d=0;d<ne.length;d++){const m=F(Be[d],Q)||"0";Be.push(m);const me=Math.abs(ne[d]-ee)*re;let ve=0;for(let be=0;be<m.length;be++)m[be]==="1"?ve+=4.02:m[be]==="."?ve+=2.64:m[be]==="7"?ve+=5.48:ve+=6;st.append("text").text(m).attr("x",me-ve/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}de=Math.abs(G-ee)*re}else{for(let d=ne.length-1;d>=0;d--){const m=F(Be[d],Q)||0;Be.push(m);const me=Math.abs(ne[d]-ce)*re;let ve=0;for(let be=0;be<m.length;be++)m[be]==="1"?ve+=4.02:m[be]==="."?ve+=2.64:m[be]==="7"?ve+=5.48:ve+=6;st.append("text").text(m).attr("x",me-ve/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}de=Math.abs(G-ce)*re}(f.value.theme=="default"?pe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):pe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+de+", 0)");let He,We,Ve,qe;e.direction?(He=U<ee?-100:parseInt(String(Math.abs(U-ee)*re)),We=B<ee?-100:parseInt(String(Math.abs(B-ee)*re)),Ve=C<ee?-100:Math.abs(C-ee)*re,qe=Y<ee?-100:Math.abs(Y-ee)*re):(We=U<ee?-100:Math.abs(ce-U)*re,He=B<ee?-100:Math.abs(ce-B)*re,qe=C>ce?-100:Math.abs(ce-C)*re,Ve=Y>ce?-100:Math.abs(ce-Y)*re),e.minPrice==="0"&&(He=0),e.maxPrice==="âˆž"&&(We=A),J.value?q.value=A-He+94+"px":q.value=A-He+87+"px",_.value=We+98+"px",C&&Ve<A&&pe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Ve+", 0)"),Y&&qe<A&&pe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+qe+", 0)");const t=pe.append("g").attr("id","left-handle"),b=pe.append("g").attr("id","right-handle");f.value.theme=="default"?(t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),t.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(-1, 20) rotate(180)"),t.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),t.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),b.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),b.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(1, 0)"),b.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),b.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),t.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(-1, 24) rotate(180)"),t.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),t.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),b.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),b.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(1, 0)"),b.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),b.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),t.attr("transform","translate("+He+", 0)"),b.attr("transform","translate("+We+", 0)");const W=yi().extent([[0,0],[A,D]]).handleSize(30).on("end",te);pe.append("g").attr("class","brush").call(W).call(W.move,[He,We]);function te(d){if(!d.sourceEvent||!d.selection)return;t.attr("transform","translate("+d.selection[0]+", 0)"),b.attr("transform","translate("+d.selection[1]+", 0)"),J.value,q.value=A-d.selection[0]+87+"px",_.value=d.selection[1]+74+"px";let m,me,ve=0,be=0;e.direction?(ve=N(parseInt(String(d.selection[0]/re+ee)),Number(e.poolInfo.tickSpacing)),m=s.tickIndexToPrice(ve,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),be=N(parseInt(String(d.selection[1]/re+ee)),Number(e.poolInfo.tickSpacing)),me=s.tickIndexToPrice(be,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(be=N(ce-d.selection[0]/re,Number(e.poolInfo.tickSpacing)),m=1/s.tickIndexToPrice(be,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ve=N(ce-d.selection[1]/re,Number(e.poolInfo.tickSpacing)),me=1/s.tickIndexToPrice(ve,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),u.emit("onChangeMinPrice",String(F(String(m),6))),u.emit("onChangeMaxPrice",String(F(String(me),6)))}f.value.theme=="default"?$t(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):$t(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};return y(""),ae(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.zoom,e.tickList],([i,h,v,U,B,G])=>{i&&h&&v&&(i!=null&&i.liquidity)&&K(i,B)},{immediate:!0}),{store:f,loading:T,rangeSizeLower:R,rangeSizeUpper:c,rangeSizeLowerPosition:q,rangeSizeUpperPosition:_,decimalFormat:mi,numberformat:jt}}});const qi=e=>(kt("data-v-86a71c8c"),e=e(),ht(),e),Mi={class:"chart-box"},Ri={class:"chart"},Fi=qi(()=>a("svg",{id:"chart"},null,-1));function Ui(e,u,q,_,$,R){const c=Gt;return r(),l("div",Mi,[oi(a("div",Ri,[e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(r(),l("div",{key:0,class:"range-size range-size-lower",style:Bt({right:e.rangeSizeLowerPosition})},o(("numberformat"in e?e.numberformat:L(jt))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):p("",!0),e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(r(),l("div",{key:1,class:"range-size range-size-upper",style:Bt({left:e.rangeSizeUpperPosition})},o(("numberformat"in e?e.numberformat:L(jt))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):p("",!0),Fi],512),[[ri,!e.chartLoading]]),e.chartLoading?(r(),Je(c,{key:0})):p("",!0)])}const Bi=ze(Li,[["render",Ui],["__scopeId","data-v-86a71c8c"]]),Oi=De({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,u){const q=y(""),_=y("");let $=y(""),R=y("");const c=ct(),S=Qe(),f=w(()=>S),X=w(()=>f.value.chainName?yt(f.value.chainName):{}),s=()=>{var i,h,v,U;if(!(Number.isNaN(q.value)||Number(q.value)!==0&&!q.value||!e.poolInfo.tickSpacing))try{const{TickUtil:B,TickMath:G,getNearestTickByTick:C}=X.value,Y=G.priceToTickIndex(new k(q.value.toString()),(i=T.value.token_a)==null?void 0:i.decimals,(h=T.value.token_b)==null?void 0:h.decimals),P=C(Y,Number(T.value.tickSpacing),!0);let A;if(A=G.tickIndexToPrice(P+Number(T.value.tickSpacing),(v=T.value.token_a)==null?void 0:v.decimals,(U=T.value.token_b)==null?void 0:U.decimals),e.pType=="Min"&&Number(A.toString())>Number(R.value.toString()))return;const D=A.toString();u.emit("onInput",D)}catch{u.emit("onInput","")}},N=()=>{var i,h,v,U;try{if(Number.isNaN(q.value)||!q.value||!e.poolInfo.tickSpacing)return;const{TickUtil:B,TickMath:G,getNearestTickByTick:C}=X.value,Y=G.priceToTickIndex(new k(q.value.toString()),(i=T.value.token_a)==null?void 0:i.decimals,(h=T.value.token_b)==null?void 0:h.decimals),P=C(Y,Number(T.value.tickSpacing),!0);let A;A=G.tickIndexToPrice(P-Number(T.value.tickSpacing),(v=T.value.token_a)==null?void 0:v.decimals,(U=T.value.token_b)==null?void 0:U.decimals);const D=A.toString();if(e.pType=="Max"&&Number(A)<Number($.value))return;u.emit("onInput",D)}catch{u.emit("onInput","")}},M=i=>{let h=i.toString().replace(/[^\d.]/g,"");const v=/^\d+(\.\d+)?$/;h.split(".").length>2&&!v.exec(h)&&(h=h.substr(0,h.length-1)),_.value=String(h)},K=i=>{if(i&&i!=="0"&&i!=="âˆž"){q.value=i;const v=i.toString().split(".")[1];_.value=i!=="0"&&i!=="âˆž"&&v&&v.length>6?F(i.toString(),6):i.toString()}else(i=="0"||i=="âˆž"||c.query.action)&&(_.value=i)},J=i=>{var C,Y,P,A;const{TickUtil:h,TickMath:v,getNearestTickByTick:U}=X.value,B=i.target.value;let G;if(B==="0"){G=-443636,u.emit("onInput","0");return}else if(B!=="0"&&B){const D=v.priceToTickIndex(new k(B),(C=T.value.token_a)==null?void 0:C.decimals,(Y=T.value.token_b)==null?void 0:Y.decimals);G=U(Number(D),Number(T.value.tickSpacing),!0);const ue=v.tickIndexToPrice(new k(G),(P=T.value.token_a)==null?void 0:P.decimals,(A=T.value.token_b)==null?void 0:A.decimals);K(ue.toString()),u.emit("onInput",ue.toString())}else u.emit("onInput")};ae(()=>e.defaultMinPrice,(i,h)=>{i!==h&&($.value=e.defaultMinPrice)},{immediate:!0}),ae(()=>e.defaultMaxPrice,(i,h)=>{i!==h&&(R.value=e.defaultMaxPrice)},{immediate:!0}),ae(()=>[e.inputValue,c.query.action],([i])=>{K(i)},{immediate:!0});const T=y({});ae(()=>e.poolInfo,(i,h)=>{i&&(T.value=i)},{immediate:!0});const g=y("");return ae(()=>e.currentPriceTab,i=>{g.value=i},{immediate:!0}),{addPrice:s,minusPrice:N,oValue:_,changeValue:M,isDisabled:g,route:c,onBlur:J}}});const ji={class:"set-price-item"},Di={class:"title"},zi={class:"input-box"},Ei={key:0,class:"minus-btn"},Hi={key:1,class:"plus-btn"};function Xi(e,u,q,_,$,R){const c=si,S=ai;return r(),l("div",ji,[a("div",Di,o(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),oe(S,{loading:e.loading,active:"",paragraph:!1},{default:Ye(()=>[a("div",zi,[e.currentPriceTab!=="full range"?(r(),l("a",Ei,[a("div",{class:tt(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:u[0]||(u[0]=(...f)=>e.minusPrice&&e.minusPrice(...f))},"-",2)])):p("",!0),oe(c,{id:"pValu",value:e.oValue,"onUpdate:value":u[1]||(u[1]=f=>e.oValue=f),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:u[2]||(u[2]=f=>e.changeValue(f.target.value)),onBlur:u[3]||(u[3]=f=>e.onBlur(f))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(r(),l("a",Hi,[a("div",{class:tt(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:u[4]||(u[4]=(...f)=>e.addPrice&&e.addPrice(...f))},"+",2)])):p("",!0)])]),_:1},8,["loading"]),a("p",{class:tt(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},o(e.toCoin&&e.toCoin.symbol)+" per "+o(e.fromCoin&&e.fromCoin.symbol),3)])}const Wi=ze(Oi,[["render",Xi],["__scopeId","data-v-5a4a8bf8"]]),Zi=De({components:{SuiLiquiditySetPrice:Wi},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,u){let q=y(""),_=y(""),$=y(),R=y(!1),c=y(!1);const S=y({}),f=Qe(),X=w(()=>f);bt(()=>{q.value=e.min,_.value=e.max}),ae(()=>e.currentPriceTab,(g,i)=>{g!==i&&($.value=e.currentPriceTab)},{immediate:!0}),ae(()=>e.min,(g,i)=>{g!==i&&(q.value=g)}),ae(()=>e.max,(g,i)=>{g!==i&&(_.value=g)}),ae(()=>e.poolInfo,(g,i)=>{g&&(S.value=g)},{immediate:!0});const s=y("");ae(()=>e.intPrice,g=>{s.value=g},{immediate:!0,deep:!0});const N=g=>{q.value=g,u.emit("onChangeMinPrice",g)},M=g=>{_.value=g,u.emit("onChangeMaxPrice",g)};ae(R,(g,i)=>{g!==i&&u.emit("onChangeFullRange",g)});const K=()=>{q.value=e.defaultMinPrice,_.value=e.defaultMaxPrice,c.value=!1,R.value=!1},J=()=>{c.value=!1,q.value="0",_.value="âˆž"};return ae(R,(g,i)=>{g!==i&&u.emit("onChangeFullRange",g)}),{store:X,changeMinPrice:N,changeMaxPrice:M,importIcon:vt,resetPrice:K,changeShowUnderStand:()=>{R.value=!R.value,R.value?c.value=!0:K(),c.value||(q.value=e.defaultMinPrice,_.value=e.defaultMaxPrice)},showUnderStand:c,minPrice:q,maxPrice:_,understand:J,isRadio:R,initPirce:s}}});const Gi={class:"set-price"},Ki={class:"card-container"},Ji={key:0,class:"card"},Yi={key:1,class:"understand"},Qi={class:"left"},Vi={class:"right"};function xi(e,u,q,_,$,R){const c=Pe("SuiLiquiditySetPrice"),S=Dt;return r(),l("div",Gi,[a("div",Ki,[e.showUnderStand?(r(),l("div",Yi,[a("div",Qi,[a("p",null,o(e.$t("common.lowerEfficiency")),1),a("p",null,o(e.$t("common.lowerEfficiencyTips")),1)]),a("div",Vi,[oe(S,{onClick:e.understand},{default:Ye(()=>[ut(o(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(r(),l("div",Ji,[oe(c,{value:e.minPrice,"onUpdate:value":u[0]||(u[0]=f=>e.minPrice=f),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),oe(c,{value:e.maxPrice,"onUpdate:value":u[1]||(u[1]=f=>e.maxPrice=f),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const en=ze(Zi,[["render",xi],["__scopeId","data-v-6fa4beef"]]),tn=De({components:{CoinImage:Ci},props:{rectangleTabList:{type:Object,default:()=>null},currentRectangleTab:{type:String,default:()=>""}},setup(e){const u=e.rectangleTabList;return{activeIndex:y(0),list:u}}});const nn={class:"rectangle-tab"},on=["onClick"];function rn(e,u,q,_,$,R){const c=Pe("CoinImage");return r(),l("div",nn,[(r(!0),l(Ke,null,Ot(e.list,(S,f)=>(r(),l("div",{key:S.link,class:tt(e.activeIndex==f?"tab-active tab":"tab"),onClick:()=>{e.$emit("clickTab",S),e.activeIndex=f}},[S.logo?(r(),Je(c,{key:0,url:S.logo,size:e.logoSize||"16px"},null,8,["url","size"])):p("",!0),a("span",null,o(S.label),1)],10,on))),128))])}const an=ze(tn,[["render",rn],["__scopeId","data-v-1558c80e"]]),sn=De({components:{SuiLiquidityD3Chart:Bi,RectangleTab:an,SuiLiquidityPrice:en},setup(){var qe;const{t:e,locale:u}=zt(),q=y("liquidity"),_=Qe(),$=w(()=>_),R=w(()=>$.value.chainName),c=ft(),S=w(()=>c),f=w(()=>$.value.chainName?yt($.value.chainName):{});bt(()=>{mt.value=!1});const X=ct(),s=w(()=>{let t=null;for(let b=0;b<S.value.poolConfigList.length;b++){const W=S.value.poolConfigList[b];W.address==X.query.poolAddress&&(t=W)}return t}),N=w(()=>{let t=null;console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:481 ~ constpoolInfo:any=computed ~ pools.value.poolsObj:",S.value.poolsObj);for(const b in S.value.poolsObj){const W=S.value.poolsObj[b];W.address==X.query.poolAddress&&(t=W)}return t}),M=y(),K=y(!0),J=async(t,b)=>{var W,te,d,m,me,ve,be,nt,Ze,ot,St,It;if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:497 ~ watchPoolInfo ~ pool:",t),t&&(H.value=t.needReverse?t.token_b:t.token_a,E.value=t.needReverse?t.token_a:t.token_b),b&&t.current_tick_index){K.value=!0,dt.value=[],g.value=[],Fe.value=!1;const Tt=t.token_a.decimals,wt=t.token_b.decimals;pt.value=At.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((W=t==null?void 0:t.object)==null?void 0:W.current_sqrt_price),Tt,wt).toString(),Nt.value=new k(1).div(At.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((te=t==null?void 0:t.object)==null?void 0:te.current_sqrt_price),Tt,wt)).toString(),M.value=t.needReverse,((m=(d=t==null?void 0:t.token_a)==null?void 0:d.address)==null?void 0:m.toLowerCase())===((be=(ve=(me=H)==null?void 0:me.value)==null?void 0:ve.address)==null?void 0:be.toLowerCase())&&((Ze=(nt=t==null?void 0:t.token_b)==null?void 0:nt.address)==null?void 0:Ze.toLowerCase())===((It=(St=(ot=E)==null?void 0:ot.value)==null?void 0:St.address)==null?void 0:It.toLowerCase())?Te.value=!0:Te.value=!1;let qt={poolAddress:t.address,coinTypeA:t.coin_a_address,coinTypeB:t.coin_b_address};const{list:Mt,address:n}=await f.value.getTicks(qt);dt.value=Mt&&n==t.address?f.value.getTickDataFromUrlData(Mt):[],t!=null&&t.current_tick_index&&(h(t),K.value=!1)}},T=t=>{var te,d;const b=t.token_a.decimals,W=t.token_b.decimals;pt.value=At.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((te=t==null?void 0:t.object)==null?void 0:te.current_sqrt_price),b,W).toString(),Nt.value=new k(1).div(At.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((d=t==null?void 0:t.object)==null?void 0:d.current_sqrt_price),b,W)).toString()},g=y([]),i=y(),h=async t=>{const b=t.token_a.decimals,W=t.token_b.decimals;let te=S.value.poolPriceConfigObj&&S.value.poolPriceConfigObj[t.address]&&S.value.poolPriceConfigObj[t.address].recommend_ranges||{};const d=S.value.poolPriceConfigObj&&S.value.poolPriceConfigObj[t.address]&&S.value.poolPriceConfigObj[t.address].type||"";let m,me;const ve=fi(t.current_tick_index,t.tickSpacing);i.value=t.current_tick_index,m=ve-Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3),me=ve+Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3);const be=f.value.TickMath.tickIndexToPrice(m,b,W).toString(),nt=f.value.TickMath.tickIndexToPrice(me,b,W).toString();te["full range"]={lower:f.value.TickUtil.getMinIndex(Number(N.value.tickSpacing)),upper:f.value.TickUtil.getMaxIndex(Number(N.value.tickSpacing))},te.custom={lower:m,upper:me,minPrice:be,maxPrice:nt};const Ze=[];for(let ot in te)te[ot]&&Ze.push({...te[ot],key:ot});d&&Ze&&Ze.length>2?t.isSelfBuilt?se.value="custom":d=="stable"?se.value="suggested":se.value="passive":se.value="custom",g.value=Ze||{},lt.value=te,B({key:se.value,...te[se.value]})},v=y(""),U=y(""),B=t=>{se.value=t.key.toLowerCase();const b=N.value.token_a.decimals,W=N.value.token_b.decimals,{lower:te,upper:d}=t;Xe.value=!1;const m=f.value.TickMath.tickIndexToPrice(te,b,W).toString(),me=f.value.TickMath.tickIndexToPrice(d,b,W).toString();if(t.key=="full range"){v.value=te,U.value=d,G();return}Te.value?(Ft.value=String(m),Z.value=String(m),Ut.value=String(me),j.value=String(me),v.value=te,U.value=d):(Ft.value=new k(1).div(new k(me)).toString(),Z.value=new k(1).div(new k(me)).toString(),Ut.value=new k(1).div(new k(m)).toString(),j.value=new k(1).div(new k(m)).toString(),v.value=f.value.TickMath.priceToTickIndex(new k(1/Number(me)),b,W),U.value=f.value.TickMath.priceToTickIndex(new k(1/Number(m)),b,W))},G=t=>{Z.value="0",j.value="âˆž"};ae(()=>N.value,(t,b)=>{(!b&&t&&!ge(t)||b&&t&&(!(b!=null&&b.current_tick_index)||(b==null?void 0:b.address)!==(t==null?void 0:t.address)))&&J(t,!b||!(b!=null&&b.current_tick_index)||(b==null?void 0:b.address)!==(t==null?void 0:t.address)),t&&!ge(t)&&T(t),t||(dt.value=[])},{immediate:!0}),Et(()=>{H.value=y(),E.value=y(),dt.value=[]}),ae(()=>s.value,(t,b)=>{t&&c.setSinglePool(t,{},R.value)},{immediate:!0});const C=t=>{if(R.value=="Sui")switch(t){case"passive":return"/sui-image/icon_ conservative@2x.png";case"active":return"/sui-image/icon_active@2x.png";case"full range":return"/sui-image/icon_fullrange@2x.png";case"custom":return"/sui-image/icon_costom@2x.png";case"suggested":return"/sui-image/icon_stabel@2x.png"}else switch(t){case"passive":return"/image/icon_ conservative@2x.png";case"active":return"/image/icon_active@2x.png";case"full range":return"/image/icon_fullrange@2x.png";case"custom":return"/image/icon_costom@2x.png";case"suggested":return"/image/icon_stabel@2x.png"}},Y=t=>{switch(t){case"suggested":return e("newAdd.suggested");case"active":return e("newAdd.active");case"passive":return e("newAdd.conservative");case"full range":return e("newAdd.fullRange");case"custom":return e("newAdd.custom")}},P=t=>{var W,te;const b=S.value.poolPriceConfigObj&&S.value.poolPriceConfigObj[(W=N.value)==null?void 0:W.address]&&S.value.poolPriceConfigObj[(te=N.value)==null?void 0:te.address].type||"";if(g.value.length>2)if(b=="unstable")switch(t){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(t){case"suggested":return{top:"25%"};case"full range":return{top:"49%"};case"custom":return{top:"75%"}}else if(b=="unstable")switch(t){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(t){case"full range":return{top:"35%"};case"custom":return{top:"60%"}}},A=y(1),D=()=>{const t=A.value/2;A.value=t},ue=()=>{const t=A.value*2;A.value=t},z=w(()=>{var t,b,W;return!N.value||ge($.value.addressHistTokens)||!$.value.addressHistTokens[(t=N.value)==null?void 0:t.poolAddress]?null:Object.fromEntries((W=$.value.addressHistTokens[(b=N.value)==null?void 0:b.poolAddress])==null?void 0:W.data.map(te=>[te.key,te.value]))}),ne=y(30),ee=y("30D"),ce=w(()=>Te.value?z.value&&F(ne.value==7?z.value.before_7_d_contract_price_lowest:ne.value==24?z.value.before_24_h_contract_price_lowest:z.value.before_30_d_contract_price_lowest,6)||0:z.value&&F(new k(1).div(ne.value==7?z.value.before_7_d_contract_price_highest:ne.value==24?z.value.before_24_h_contract_price_highest:z.value.before_30_d_contract_price_highest).toString(),6)||0),re=w(()=>Te.value?z.value&&F(ne.value==7?z.value.before_7_d_contract_price_highest:ne.value==24?z.value.before_24_h_contract_price_highest:z.value.before_30_d_contract_price_highest,6)||0:(z.value&&F(1/Number(ne.value==7?z.value.before_7_d_contract_price_lowest:ne.value==24?z.value.before_24_h_contract_price_lowest:z.value.before_30_d_contract_price_lowest),6))==1/0?0:z.value&&F(1/Number(ne.value==7?z.value.before_7_d_contract_price_lowest:ne.value==24?z.value.before_24_h_contract_price_lowest:z.value.before_30_d_contract_price_lowest),6)||0),Be=w(()=>{const t=Number(Z.value),b=Number(j.value);if(Z.value=="0"&&j.value=="âˆž"||se.value=="full range")return"1x";if(Z.value==j.value||se.value=="full range")return"--";if(Z.value&&j.value&&Z.value!=="0"&&j.value!=="âˆž"){const W=Qt(1/(1-Number((t/b)**.25)),2);return Number(W)>0?W+"x":"--"}else return 1}),Q=w(()=>{var t,b,W,te,d,m;return((t=H.value)==null?void 0:t.isSelfBuilt)||((b=E.value)==null?void 0:b.isSelfBuilt)||((te=S.value.tokensObj[(W=H.value)==null?void 0:W.address])==null?void 0:te.isSelfBuilt)||((m=S.value.tokensObj[(d=E.value)==null?void 0:d.address])==null?void 0:m.isSelfBuilt)}),pe=(t,b)=>{t!==Z.value&&se.value=="full range"?B({key:"custom",...g.value.custom}):se.value!=="full range"&&se.value!=="custom"?(se.value="custom",Z.value=t):Z.value=t,de.value&&(Fe.value?(Te.value&&Z.value!==de.value.minPrice&&(Fe.value=!1),!Te.value&&Number(Z.value)!==1/Number(de.value.maxPrice)&&(Fe.value=!1)):(Te.value&&Z.value==de.value.minPrice&&j.value==de.value.maxPrice&&(Fe.value=!0),!Te.value&&Number(Z.value)==1/Number(de.value.maxPrice)&&Number(j.value)==1/Number(de.value.minPrice)&&(Fe.value=!0)))},it=(t,b)=>{t!==j.value&&se.value=="full range"?B({key:"custom",...g.value.custom}):se.value!=="full range"&&se.value!=="custom"?(se.value="custom",t=="0"?j.value="âˆž":j.value=t):t=="0"?j.value="âˆž":j.value=t,de.value&&(Fe.value?(Te.value&&j.value!==de.value.maxPrice&&(Fe.value=!1),!Te.value&&Number(j.value)!==1/Number(de.value.minPrice)&&(Fe.value=!1)):(Te.value&&Z.value==de.value.minPrice&&j.value==de.value.maxPrice&&(Fe.value=!0),!Te.value&&Number(Z.value)==1/Number(de.value.maxPrice)&&Number(j.value)==1/Number(de.value.minPrice)&&(Fe.value=!0)))},Oe=t=>{var b;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:1215 ~ getCoinIcon ~ info:",t),(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((b=S.value.tokensObj[t==null?void 0:t.address])==null?void 0:b.logo_url)||($.value.theme==="default"?vt("/image/coins/unknown.png"):vt("/image/coins/sui-unknown.png"))},gt=t=>{switch(t){case"active":return e("newAdd.activeTips");case"passive":return e("newAdd.passiveTips");case"full range":return e("newAdd.fullRangTips");case"suggested":return e("newAdd.suggestedTips");case"custom":return e("newAdd.customTips")}},at=[{label:"24H",value:24},{label:"7D",value:7},{label:"30D",value:30}],Ee=Lt(),st=w(()=>Ee),de=w(()=>{var t;return st.value.farmsPoolObj[(t=N==null?void 0:N.value)==null?void 0:t.address]}),Pt=w(()=>S.value.poolPriceConfigObj);ae(()=>[Fe.value,N.value,g.value,Pt.value,de.value,Te.value],(t,b)=>{var W,te;if(t[0]&&t[4]&&!ge(t[4]))se.value="custom",Z.value=t[5]?t[4].minPrice:String(1/t[4].maxPrice),j.value=t[5]?t[4].maxPrice:String(1/t[4].minPrice);else if(t[1]&&!ge(t[1])&&t[2]&&!ge(t[2])&&t[3]&&!ge(t[3])&&t[4]&&!ge(t[4])){t[3]&&t[3][(W=t[1])==null?void 0:W.address]&&t[3][(te=t[1])==null?void 0:te.address].type;const d=t[2].filter(m=>m.key===(t[2].length==4?"passive":"suggested"));d!=null&&d[0]&&(!b||b[0]!==t[0])&&B({...d[0]})}},{immediate:!0});const He=w(()=>S.value.poolsLoading),We=w(()=>{var t,b,W,te,d,m;return[{label:(t=H.value)==null?void 0:t.symbol,value:(b=H.value)==null?void 0:b.address,logo:(W=H.value)==null?void 0:W.logo_url},{label:(te=E.value)==null?void 0:te.symbol,value:(d=E.value)==null?void 0:d.address,logo:(m=E.value)==null?void 0:m.logo_url}]});return{currentRectangleTab:y((qe=H.value)==null?void 0:qe.address),rectangleTabList:We,positionError:mt,getCoinIcon:Oe,chainName:R,store:$,currentTab:q,currentPrice:pt,currentPriceReverse:Nt,fromCoin:H,toCoin:E,direction:Te,needReverse:M,addCommom:ie,decimalUi:F,priceTabList:g,currentPriceTab:se,sliderStyle:P,poolInfo:N,tickList:dt,getPriceTabImage:C,getPriceTabText:Y,defaultMinPrice:Ft,defaultMaxPrice:Ut,minPrice:Z,maxPrice:j,currentTick:i,chartLoading:K,zoomOut:D,zoomIn:ue,zoom:A,priceTab:B,before7dContractPriceLowest:ce,before7dContractPriceHighest:re,aprRewardsTime:ee,lever:Be,aprRewardsParameter:ne,isSelfBuilt:Q,priceRangeChangeMin:pe,priceRangeChangeMax:it,toggle:Yt,getPirceTabTips:gt,timeList:at,farmsPoolInfo:de,checkNullObj:ge,isStableFarmingRange:Fe,poolsLoading:He}}});const ln={class:"sui-liquidity-left"},un=a("span",{class:"selectRange"},"Select Range",-1),cn={class:"range-top"},dn={class:"price-tab-list"},mn=["onClick"],vn={class:"block"},fn=["src"],gn={class:"price-leverage"},pn={key:0,class:"tab-box"},bn={class:"price-info"},kn={class:"left"},hn={class:"current-price"},yn=a("div",{class:"current-price-title"},"Current Price",-1),Cn={key:0,class:"from-pre-to"},Pn={class:"right"},Sn={class:"chart-box"},In={class:"leverage"},Tn={class:"right-time"},wn={key:0,class:"day-7-price-range"},_n=a("i",null,null,-1),An={class:"gray"},$n={class:"time-list"},Nn=["onClick"],Ln={class:"range pc-range"},qn={key:0,class:"position-tips"},Mn=["src"],Rn={class:"error"},Fn={key:1,class:"stable-farming-range pc-stable-farming-range"},Un={class:"value"},Bn=a("img",{src:Vt},null,-1),On=a("span",{class:"text"},"Farm rewards rangeï¼š",-1),jn={class:"text"},Dn={class:"check-box-active plus-switch plus-liquidity-switch"};function zn(e,u,q,_,$,R){var N,M,K,J;const c=Kt,S=Pe("RectangleTab"),f=Pe("SuiLiquidityD3Chart"),X=Pe("SuiLiquidityPrice"),s=Ht;return r(),l("div",ln,[un,a("div",cn,[a("div",dn,[(r(!0),l(Ke,null,Ot(e.priceTabList,T=>(r(),l("div",{key:T.key,class:tt(["price-tab-item",e.currentPriceTab==T.key?"price-tab-item-active":""]),onClick:g=>e.priceTab(T)},[oe(c,{placement:"bottom","arrow-point-at-center":""},{title:Ye(()=>[ut(o(e.getPirceTabTips(T.key)),1)]),default:Ye(()=>[a("div",vn,[a("img",{src:e.getPriceTabImage(T.key),alt:""},null,8,fn),a("span",null,o(e.getPriceTabText(T.key)),1)])]),_:2},1024)],10,mn))),128))]),a("div",gn,[e.fromCoin&&e.toCoin?(r(),l("div",pn,[oe(S,{"current-rectangle-tab":e.currentRectangleTab,"rectangle-tab-list":e.rectangleTabList,onClickTab:u[0]||(u[0]=T=>{e.toggle()})},null,8,["current-rectangle-tab","rectangle-tab-list"])])):p("",!0),a("div",bn,[a("div",kn,[a("div",hn,[yn,a("div",null,[a("span",null,o(e.poolInfo?e.direction?("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,6)):("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(r(),l("span",Cn,o((N=e.toCoin)==null?void 0:N.symbol)+" per "+o((M=e.fromCoin)==null?void 0:M.symbol),1)):p("",!0)])])]),a("div",Pn,[e.currentTab=="liquidity"?(r(),l("div",{key:0,class:"zoom-out",onClick:u[1]||(u[1]=(...T)=>e.zoomOut&&e.zoomOut(...T))}," + ")):p("",!0),e.currentTab=="liquidity"?(r(),l("div",{key:1,class:"zoom-in",onClick:u[2]||(u[2]=(...T)=>e.zoomIn&&e.zoomIn(...T))}," - ")):p("",!0)])]),a("div",Sn,[e.poolInfo?(r(),Je(f,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direction,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,zoom:e.zoom,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","zoom","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):p("",!0),a("div",In,[a("div",Tn,[a("div",null,[e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),l("div",wn,[_n,a("span",An,o(e.aprRewardsParameter==7?"7D":e.aprRewardsParameter==24?"24H":"30D")+" Price Range",1),a("span",null,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.before7dContractPriceLowest,6)))+" - "+o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.before7dContractPriceHighest,6))),1)])):p("",!0)]),a("div",$n,[(r(!0),l(Ke,null,Ot(e.timeList,T=>(r(),l("div",{key:T.value,class:tt(["time-item",T.value==e.aprRewardsParameter?"time-item-active":""]),onClick:g=>e.aprRewardsParameter=T.value},o(T.label),11,Nn))),128))])])])])])]),a("div",{class:tt(["apr-and-price",e.positionError&&e.poolInfo?"padding-apr-and-price":""])},[a("div",Ln,[oe(X,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direction,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice"]),e.positionError&&e.poolInfo?(r(),l("div",qn,[a("img",{src:("importIcon"in e?e.importIcon:L(vt))("/image/icon-tips-error@2x.png"),alt:""},null,8,Mn),a("p",Rn,o(e.$t("tips.positionError")),1)])):p("",!0),e.farmsPoolInfo&&!("checkNullObj"in e?e.checkNullObj:L(ge))(e.farmsPoolInfo)&&e.fromCoin&&e.toCoin?(r(),l("div",Fn,[a("div",Un,[Bn,On,ut(" "+o(("decimalUi"in e?e.decimalUi:L(F))(e.direction?e.farmsPoolInfo.minPrice:1/e.farmsPoolInfo.maxPrice,6))+" - "+o(("decimalUi"in e?e.decimalUi:L(F))(e.direction?e.farmsPoolInfo.maxPrice:1/e.farmsPoolInfo.minPrice,6))+" ",1),a("div",jn,"Â Â "+o((K=e.toCoin)==null?void 0:K.symbol)+" per "+o((J=e.fromCoin)==null?void 0:J.symbol),1)]),a("div",Dn,[oe(s,{class:"liquidity-switch",checked:e.isStableFarmingRange,onClick:u[3]||(u[3]=T=>e.isStableFarmingRange=!e.isStableFarmingRange)},null,8,["checked"])])])):p("",!0)])],2)])}const En=ze(sn,[["render",zn]]),Hn=De({components:{IconSlippage:Ii,IconRefresh:Ti},props:{poolInfo:{type:Object,default:()=>({})}},setup(e,u){const q=y(!1),_=y(null),$=y(0);let R=y(!1);const c=y(20),S=ft(),f=Qe(),X=y(!1);bt(()=>{}),Et(()=>{clearInterval(_.value)});const s=()=>{R.value=!1,_.value=setInterval(()=>{var g;X.value||$.value<c.value&&($.value+=1,$.value===c.value&&(R.value=!0,(g=e==null?void 0:e.poolInfo)!=null&&g.poolAddress&&S.updateCurrentPools(e.poolInfo.poolAddress,f.chainName),$.value=0,setTimeout(()=>{R.value=!1},1e3)))},1e3)},N=w(()=>f.slippage),M=()=>{u.emit("clearAll")},K=()=>{R.value||(R.value=!0,$.value=0,u.emit("clickRefresh"),setTimeout(()=>{R.value=!1,s()},1e3))};ae(()=>e.poolInfo,g=>{g&&!_.value&&s()},{immediate:!0});const J=Jt(),T=ct();return{refresh:R,clickRefresh:K,isShowSwapSetting:q,countdown:$,autoRefreshTime:c,slippage:N,clearAll:M,checkNullObj:ge,router:J,route:T}}});const Xn=e=>(kt("data-v-47ca611f"),e=e(),ht(),e),Wn={class:"title"},Zn=Xn(()=>a("div",{class:"left"},[a("span",null,"Deposit Amounts")],-1)),Gn={key:0,class:"deposit-progress"};function Kn(e,u,q,_,$,R){const c=Pe("IconSlippage"),S=Pe("IconRefresh");return r(),l("div",Wn,[Zn,a("div",{class:tt(["right",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[oe(c),e.route.name!=="liquidity-create"?(r(),l("div",Gn,[oe(S,{refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["refresh","onClickRefresh"])])):p("",!0)],2)])}const Jn=ze(Hn,[["render",Kn],["__scopeId","data-v-47ca611f"]]),Yn=De({components:{IconTooltip:xt,CoinImgWarning:ei},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const u=ft(),q=w(()=>u),_=Qe(),$=w(()=>_),R=ct(),c=w(()=>{let M=null;if(R.name=="liquidity-create")M=e.createPoolInfo;else for(const K in q.value.poolsObj){const J=q.value.poolsObj[K];J.address==R.query.poolAddress&&(M=J)}return M}),S=w(()=>$.value.chainName?yt($.value.chainName):{}),f=w(()=>$.value.slippage),X=y(),s=y(),N=async()=>{var ue;if(!e.minPrice&&!e.maxPrice)return;console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:170 ~ getRatio ~ poolInfo.value:",c.value);const{TickUtil:M,TickMath:K,getNearestTickByTick:J}=S.value,T=c.value.token_a.decimals,g=c.value.token_b.decimals;let i,h,v,U,B,G,C,Y=1,P=1;const A=c.value.current_tick_index;let D=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[c.value.address]&&q.value.poolPriceConfigObj[c.value.address].recommend_ranges||{};if(c.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&c.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?C=!0:C=!1,e.minPrice==="0"&&e.maxPrice==="âˆž")v=M.getMinIndex(c.value.tickSpacing),U=M.getMaxIndex(c.value.tickSpacing);else if(e.currentPriceTab=="custom"){C?(i=e.minPrice,h=e.maxPrice):(i=e.maxPrice!=="âˆž"?new k(1).div(e.maxPrice).toString():1/0,h=new k(1).div(e.minPrice).toString());try{B=K.priceToTickIndex(new k(i),T,g)}catch{B=-443636}try{G=K.priceToTickIndex(new k(h),T,g)}catch{G=443636}i==0&&(B=-443636),v=J(B,Number(c.value.tickSpacing),!0),U=J(G,Number(c.value.tickSpacing),!0)}else v=D&&D[e.currentPriceTab]&&D[e.currentPriceTab].lower,U=D&&D[e.currentPriceTab]&&D[e.currentPriceTab].upper;if(e.maxPrice==="âˆž"||A>=v&&A<=U){let z;if(e.fixedFromCoin){const ce=new k(Number(e.fromCoinAmount)==0?1:e.fromCoinAmount).mul(Math.pow(10,e.fromCoin.decimals)).toString();z=new Le(ce)}else{const ce=new k(Number(e.toCoinAmount)==0?1:e.toCoinAmount).mul(Math.pow(10,e.toCoin.decimals)).toString();z=new Le(ce)}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:262 ~ getRatio ~ poolInfo.value.current_sqrt_price:",c.value.current_sqrt_price),((ue=c==null?void 0:c.value)==null?void 0:ue.current_sqrt_price)<=0)return!1;const{tokenMaxA:ne,tokenMaxB:ee}=await S.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:c.value.token_a,tokenB:c.value.token_b,lowerTick:v,upperTick:U,coinAmount:z,iscoinA:C?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(f.value)/100,curSqrtPrice:new Le(c.value.current_sqrt_price)});C?e.fixedFromCoin?(P=Number(ee)>0?ee:"",Y=Number(ne)>0?ne:""):(Y=Number(ne)>0?ne:"",P=Number(ee)>0?ee:""):(e.fixedFromCoin,P=ne,Y=ee)}else A>U?C?(P=1,Y=0):(Y=1,P=0):A<v&&(C?(P=0,Y=1):(P=1,Y=0));if(e.minPrice=="0"&&e.maxPrice=="âˆž")X.value=50,s.value=50;else{const z=Y?Number(Y):0,ne=P?Number(P):0,ee=new k(ne).add(new k(C?new k(z*e.currentPrice):new k(z*e.currentPriceReverse))),ce=F(new k(z).mul(new k(C?e.currentPrice:e.currentPriceReverse)).div(ee).mul(100).toNumber().toFixed(2),2),re=F(new k(ne).div(ee).mul(100).toNumber().toFixed(2),2);X.value=ce,s.value=re}};return ae(()=>[c.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([M,K,J,T,g])=>{K&&J&&M&&!ge(M)&&(K!=="0"||J!=="0")?N():(X.value="",s.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:X,toCoinRatio:s}}});const Qn={class:"deposit-ratio"},Vn={class:"deposit-ratio-text"},xn=a("span",null,"Deposit Ratio",-1),eo={class:"deposit-ratio-content"},to={class:"coin-ratio"},io={class:"coin-a-ratio"},no={class:"coin-b-ratio"};function oo(e,u,q,_,$,R){var f,X;const c=Pe("IconTooltip"),S=Pe("CoinImgWarning");return r(),l("div",Qn,[a("div",Vn,[xn,oe(c,{type:"depositRatio","xlink-href":"#icon-icon_tips"})]),a("div",eo,[a("div",to,[a("div",io,[oe(S,{"token-info":e.fromCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),a("span",null,o((f=e.fromCoin)==null?void 0:f.symbol),1),a("span",null,o(e.fromCoinRatio)+"%",1)]),a("div",no,[oe(S,{"token-info":e.toCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),a("span",null,o((X=e.toCoin)==null?void 0:X.symbol),1),a("span",null,o(e.toCoinRatio)+"%",1)])])])])}const ro=ze(Yn,[["render",oo]]),ao=De({components:{Modal:li,CoinImgWarning:ei,NewStatusBlock:wi},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"11111111111"},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(e,u){const{t:q}=zt(),_=w(()=>{var P,A,D;return((P=e==null?void 0:e.poolInfo)==null?void 0:P.needReverse)||((D=(A=e==null?void 0:e.poolInfo)==null?void 0:A.poolInfo)==null?void 0:D.needReverse)}),$=ft(),R=w(()=>$),c=Qe(),S=w(()=>c),f=P=>{var A;return(P==null?void 0:P.logoURI)||(P==null?void 0:P.logo_url)||((A=R.value.tokensObj[P==null?void 0:P.address])==null?void 0:A.logo_url)||(S.value.theme==="default"?vt("/image/coins/unknown.png"):vt("/image/coins/sui-unknown.png"))},X=y(!1),s=y(!0);function N(){s.value=!s.value}const M=w(()=>S.value.slippage),K=ti(),J=w(()=>K),T=w(()=>J.value.status),g=w(()=>S.value.chainName),i=w(()=>gi[g.value].hasNotifi),h=ct(),v=y(!1),U=y(""),B=y(""),G=y(""),C=y("");return bt(()=>{U.value=String(F(String(e.minPrice),6)),B.value=String(F(String(e.maxPrice),6)),G.value=e.currentPrice,C.value=e.currentPriceReverse,e.isIncrease&&(U.value=_.value?String(F(String(1/e.maxPrice),6)):String(F(String(e.minPrice),6)),B.value=_.value?String(F(String(1/e.minPrice),6)):String(F(String(e.maxPrice),6)),G.value=_.value?e.currentPriceReverse:e.currentPrice,C.value=_.value?e.currentPrice:e.currentPriceReverse)}),ae(s,P=>{!e.isIncrease&&P||e.isIncrease&&!_.value&&P?(U.value=String(F(String(e.minPrice),6)),B.value=String(F(String(e.maxPrice),6))):!e.isIncrease&&!P||e.isIncrease&&!_.value&&!P?(U.value=String(F(String(1/Number(e.maxPrice)),6)),B.value=String(F(String(1/Number(e.minPrice)),6))):e.isIncrease&&_.value&&(e.currentDirect?P:!P)?(U.value=String(F(String(1/Number(e.maxPrice)),6)),B.value=String(F(String(1/Number(e.minPrice)),6))):e.isIncrease&&_.value&&(e.currentDirect?!P:P)&&(U.value=String(F(String(e.minPrice),6)),B.value=String(F(String(e.maxPrice),6))),G.value=e.currentPrice,C.value=e.currentPriceReverse}),{needReverse:_,getCoinIcon:f,addCommom:ie,rateChange:X,changeDirect:N,direct:s,t:q,slippage:M,notifiStatus:T,hasNotifi:i,route:h,checked:v,min:U,max:B,decimalUi:F,clickSubmit:()=>{e.isIncrease?u.emit("toAdd"):e.title==ui.global.t("newAdd.preview")?u.emit("createPool"):u.emit("toAdd",v.value&&T.value=="authenticated")}}}});const Ct=e=>(kt("data-v-6f7ddbb0"),e=e(),ht(),e),so=Ct(()=>a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),lo={class:"modal-content"},uo={class:"pool-info"},co={class:"left"},mo={class:"pool-name"},vo={class:"right"},fo={class:"coin-info"},go={class:"from-coin-info"},po={class:"left"},bo={class:"coin-amount"},ko={class:"coin-symbol"},ho={class:"right"},yo={class:"to-coin-info"},Co={class:"left"},Po={class:"coin-amount"},So={class:"coin-symbol"},Io={class:"right"},To={class:"select-range"},wo=Ct(()=>a("div",{class:"select-range-title"},"Selected Range",-1)),_o={class:"price-conent"},Ao={class:"current-price"},$o={class:"left"},No={key:0,class:"current-price-title"},Lo={key:1,class:"current-price-title"},qo={key:0,class:"a2b"},Mo={key:0},Ro={key:1},Fo={key:2},Uo={key:3},Bo={key:4},Oo={key:5},jo={key:6},Do={key:7},zo={key:1,class:"a2b"},Eo={key:0},Ho={key:1},Xo={key:2},Wo={key:3},Zo={key:4},Go={key:5},Ko={key:6},Jo={key:7},Yo={key:2,class:"a2b"},Qo={key:0},Vo={key:1},xo={key:2},er={key:3},tr={key:3,class:"a2b"},ir={key:0},nr={key:1},or={key:2},rr={key:3},ar={key:0,class:"a2b"},sr={key:0},lr={key:1},ur={key:2},cr={key:3},dr={key:4},mr={key:5},vr={key:6},fr={key:7},gr={key:1,class:"a2b"},pr={key:0},br={key:1},kr={key:2},hr={key:3},yr={key:4},Cr={key:5},Pr={key:6},Sr={key:7},Ir={class:"right"},Tr=Ct(()=>a("use",{"xlink:href":"#icon-icon_swap2"},null,-1)),wr=[Tr],_r={class:"price-range-block-content"},Ar={class:"price-range-block"},$r={class:"price-item"},Nr={class:"title"},Lr={class:"price"},qr={key:0,class:"text"},Mr={key:1,class:"text"},Rr={key:0,class:"text"},Fr={key:1,class:"text"},Ur={key:0,class:"text"},Br={key:1,class:"text"},Or={class:"price-item"},jr={class:"title"},Dr={class:"price"},zr={key:0,class:"text"},Er={key:1,class:"text"},Hr={key:0,class:"text"},Xr={key:1,class:"text"},Wr={key:0,class:"text"},Zr={key:1,class:"text"},Gr={class:"deposit-ratio-content"},Kr={key:0,class:"range-alerts"},Jr={class:"range-alerts-top"},Yr=Ct(()=>a("div",{class:"title"}," Range alerts for this position ",-1)),Qr=Ct(()=>a("div",{class:"range-alerts-bottom"}," Subscribe to receive alerts on email, SMS, or Telegram when the price for this pool moves out of your selected range. ",-1));function Vr(e,u,q,_,$,R){const c=Pe("CoinImgWarning"),S=Pe("NewStatusBlock"),f=Ai,X=Ht,s=Dt,N=Pe("Modal");return r(),Je(N,{width:"440px",visible:!0,footer:null,title:e.title,onCancel:u[2]||(u[2]=M=>e.$emit("onClose"))},{closeIcon:Ye(()=>[so]),default:Ye(()=>{var M,K,J,T,g,i,h,v,U,B;return[a("div",lo,[a("div",uo,[a("div",co,[oe(c,{"token-info":(M=e.poolInfo)==null?void 0:M.token_a,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),oe(c,{"token-info":(K=e.poolInfo)==null?void 0:K.token_b,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),a("div",mo,[a("span",null,o(e.needReverse?(i=(g=e.poolInfo)==null?void 0:g.token_b)==null?void 0:i.symbol:(T=(J=e.poolInfo)==null?void 0:J.token_a)==null?void 0:T.symbol)+"Â -Â  ",1),a("span",null,o(e.needReverse?(B=(U=e.poolInfo)==null?void 0:U.token_a)==null?void 0:B.symbol:(v=(h=e.poolInfo)==null?void 0:h.token_b)==null?void 0:v.symbol),1)])]),a("div",vo,[ut(" Fee tier "),a("span",null,o(e.poolInfo&&e.poolInfo.fee*100)+"%",1)])]),a("div",fo,[a("div",go,[a("div",po,[a("div",bo,o(("addCommom"in e?e.addCommom:L(ie))(e.fromCoinAmount)||0),1),a("div",ko,o(e.fromCoin&&e.fromCoin.symbol),1)]),a("div",ho,[oe(c,{"token-info":e.fromCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])]),a("div",yo,[a("div",Co,[a("div",Po,o(("addCommom"in e?e.addCommom:L(ie))(e.toCoinAmount)||0),1),a("div",So,o(e.toCoin&&e.toCoin.symbol),1)]),a("div",Io,[oe(c,{"token-info":e.toCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])])]),a("div",To,[wo,e.title!==e.$t("newAdd.preview")?(r(),Je(S,{key:0,"position-info":e.showFromCoinLock||e.showToCoinLock?{positionStatus:"Active"}:{positionStatus:"Inactive"}},null,8,["position-info"])):p("",!0)]),a("div",_o,[a("div",Ao,[a("div",$o,[e.title!==e.$t("newAdd.preview")?(r(),l("div",No,"Current Price")):(r(),l("div",Lo,"Initial Price")),e.isCreate?(r(),l(Ke,{key:3},[!e.isIncrease&&!e.needReverse?(r(),l("div",ar,[e.direct&&e.currentDirect?(r(),l("span",sr,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",lr,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",ur,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",cr,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",dr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",mr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",vr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",fr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):!e.isIncrease&&e.needReverse?(r(),l("div",gr,[e.direct&&e.currentDirect?(r(),l("span",pr,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",br,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",kr,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",hr,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",yr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",Cr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",Pr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",Sr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):p("",!0)],64)):(r(),l(Ke,{key:2},[!e.isIncrease&&!e.needReverse?(r(),l("div",qo,[e.direct&&e.currentDirect?(r(),l("span",Mo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",Ro,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",Fo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",Uo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",Bo,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",Oo,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",jo,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",Do,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):!e.isIncrease&&e.needReverse?(r(),l("div",zo,[e.direct&&e.currentDirect?(r(),l("span",Eo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",Ho,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",Xo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.toCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",Wo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",Zo,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",Go,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",Ko,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",Jo,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):p("",!0),e.isIncrease&&!e.needReverse?(r(),l("div",Yo,[e.direct?(r(),l("span",Qo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.toCoin.decimals))),1)):(r(),l("span",Vo,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,6))),1)),e.direct?(r(),l("div",er,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):(r(),l("div",xo,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1))])):p("",!0),e.isIncrease&&e.needReverse?(r(),l("div",tr,[e.direct?(r(),l("span",ir,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPriceReverse,e.fromCoin.decimals))),1)):(r(),l("span",nr,o(("addCommom"in e?e.addCommom:L(ie))(("decimalUi"in e?e.decimalUi:L(F))(e.currentPrice,e.toCoin.decimals))),1)),e.direct?(r(),l("div",or,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):(r(),l("div",rr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1))])):p("",!0)],64))]),a("div",Ir,[(r(),l("svg",{class:"icon icon-up","aria-hidden":"true",onClick:u[0]||(u[0]=(...G)=>e.changeDirect&&e.changeDirect(...G))},wr))])]),a("div",_r,[a("div",Ar,[a("div",$r,[a("div",Nr,o(e.$t("common.minPrice")),1),a("p",Lr,o(("addCommom"in e?e.addCommom:L(ie))(e.min)),1),!e.isIncrease&&!e.direct?(r(),l("div",qr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(r(),l("div",Mr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.isIncrease&&e.needReverse?(r(),l(Ke,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Rr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Fr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)],64)):p("",!0),e.isIncrease&&!e.needReverse?(r(),l(Ke,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Ur,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Br,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0)],64)):p("",!0)]),a("div",Or,[a("div",jr,o(e.$t("common.maxPrice")),1),a("p",Dr,o(e.maxPrice.indexOf("âˆž")>-1||e.maxPrice.indexOf("+")>-1?"âˆž":("addCommom"in e?e.addCommom:L(ie))(e.max)),1),!e.isIncrease&&!e.direct?(r(),l("div",zr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(r(),l("div",Er,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.isIncrease&&e.needReverse?(r(),l(Ke,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Hr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Xr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)],64)):p("",!0),e.isIncrease&&!e.needReverse?(r(),l(Ke,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Wr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Zr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0)],64)):p("",!0)])])])]),a("div",Gr,[e.poolInfo?(r(),Je(f,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"position-total-amount":e.positionTotalAmount,"tick-lower":e.tickLower,"tick-upper":e.tickUpper},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount","position-total-amount","tick-lower","tick-upper"])):p("",!0)])]),e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(r(),l("div",Kr,[a("div",Jr,[Yr,oe(X,{class:"range-alerts-switch",checked:e.checked,onClick:u[1]||(u[1]=G=>e.checked=!e.checked)},null,8,["checked"])]),Qr])):p("",!0),oe(s,{class:"big-btn modal-bottom-btn",style:Bt(e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?{bottom:"-172px"}:{bottom:"-65px"}),onClick:e.clickSubmit},{default:Ye(()=>[ut(o(e.isIncrease?"Increase Liquidity":e.title==e.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["style","onClick"])]}),_:1},8,["title"])}const xr=ze(ao,[["render",Vr],["__scopeId","data-v-6f7ddbb0"]]),ea=De({components:{IconTooltip:xt},props:{lever:{type:String,default:""}},setup(){return{}}});const ta=e=>(kt("data-v-0923a380"),e=e(),ht(),e),ia={class:"lever"},na={class:"left"},oa=ta(()=>a("span",{class:"lever-title"},"Leverage",-1)),ra={class:"lever-text"};function aa(e,u,q,_,$,R){const c=Pe("IconTooltip");return r(),l("div",ia,[a("div",na,[oa,oe(c,{type:"leverage","xlink-href":"#icon-icon_tips"})]),a("div",ra,o(e.lever),1)])}const sa=ze(ea,[["render",aa],["__scopeId","data-v-0923a380"]]),la=De({props:{poolInfo:{type:Object,default:()=>({})},isActive:{type:Boolean,default:!0}},setup(e,u){const q=Lt();w(()=>q);const _=y(!1),$=y(),R=y(!0),c=Qe(),S=w(()=>c),f=w(()=>S.value.newTopPoolsObj),X=N=>{var J,T,g,i;const M=N[(J=e==null?void 0:e.poolInfo)==null?void 0:J.poolAddress]||{};let K=0;M&&!ge(M)&&((g=(T=M==null?void 0:M.stable_farming)==null?void 0:T.stable_rewarder)==null||g.forEach(h=>{h.amount_second>0&&(K+=h.amount_second)}),K>0?(_.value=!0,$.value={id:M.stable_farming.stable_farming_pool,clmm_pool_id:(i=e==null?void 0:e.poolInfo)==null?void 0:i.poolAddress},u.emit("sendFarmsPoolInfo",R.value&&e.isActive?$.value:"")):(_.value=!1,u.emit("sendFarmsPoolInfo","")))};return ae(()=>[f.value,e.poolInfo],([N,M])=>{N&&!ge(N)&&M&&!ge(M)&&X(N)},{immediate:!0}),ae(()=>[e.isActive,R.value,$.value],([N,M,K])=>{u.emit("sendFarmsPoolInfo",M&&e.isActive?K:"")},{immediate:!0}),{isShowAutoStake:_,changeIsOpen:()=>{R.value=!R.value,u.emit("sendFarmsPoolInfo",R.value&&e.isActive?$.value:"")},isOpen:R}}});const ua=e=>(kt("data-v-489098d8"),e=e(),ht(),e),ca={key:0,class:"farms-auto-stake"},da=ua(()=>a("div",{class:"icon-desc"},[a("img",{class:"farms-icon",src:Vt,alt:""}),a("div",{class:"desc"},"Automatically stake your position into the farm to enjoy higher yield.")],-1)),ma={class:"switch-box"},va={key:0,class:"check-box-active plus-switch plus-liquidity-switch"},fa={class:"check-box-active plus-switch plus-liquidity-switch"};function ga(e,u,q,_,$,R){const c=Ht,S=Kt;return e.isShowAutoStake?(r(),l("div",ca,[da,a("div",ma,[e.isActive?(r(),l("div",va,[oe(c,{class:"liquidity-switch",checked:e.isOpen,onClick:e.changeIsOpen},null,8,["checked","onClick"])])):(r(),Je(S,{key:1,"overlay-style":{"min-width":"200px"},"overlay-class-name":"ant-tooltip-text-color"},ci({default:Ye(()=>[a("div",fa,[oe(c,{class:"liquidity-switch",checked:!1,onClick:()=>{}})])]),_:2},[e.isActive?void 0:{name:"title",fn:Ye(()=>[ut("Farming rewards only available for active positions.")]),key:"0"}]),1024))])])):p("",!0)}const pa=ze(la,[["render",ga],["__scopeId","data-v-489098d8"]]),ba=De({components:{SuiLiquidityTitle:Jn,SuiLiquidityDepositRatio:ro,InputLock:_i,SuiAddOrCreate:xr,SuiFarmsAutoStake:pa,TokenInputBlock:$i,SuiLiquidityLever:sa},setup(){const{t:e,locale:u}=zt(),q=Qe(),_=w(()=>q),$=w(()=>_.value.chainName),R=ft(),c=w(()=>R),S=pi(),f=w(()=>S),X=ct(),s=w(()=>{let n=null;for(const I in c.value.poolsObj){const O=c.value.poolsObj[I];O.address==X.query.poolAddress&&(n=O)}return console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:272 ~ constpoolInfo:any=computed ~ info:",n),n}),N=y(!1),M=y(!1),K=w(()=>_.value.theme),J=async(n,I)=>{H.value=n.needReverse?n.token_b:n.token_a,E.value=n.needReverse?n.token_a:n.token_b,V.value="",x.value=""},T=w(()=>f.value.assets&&H.value&&f.value.assets[H.value.address]?Wt(f.value.assets[H.value.address].balance,H.value.decimals):"0"),g=w(()=>f.value.assets&&E.value&&f.value.assets[E.value.address]?Wt(f.value.assets[E.value.address].balance,E.value.decimals):"0"),i=y(),h=y(),v=y(),U=y(!1),B=n=>{var I,O,he,le;i.value=n,n==="fromCoin"?(h.value=((I=E.value)==null?void 0:I.address)||"",v.value=X.query.actions=="new-position"?(O=H.value)==null?void 0:O.address:s.value.needReverse?s.value.token_b.address:s.value.token_a.address):(h.value=((he=H.value)==null?void 0:he.address)||"",v.value=X.query.actions=="new-position"?(le=E.value)==null?void 0:le.address:s.value.needReverse?s.value.token_a.address:s.value.token_b.address),U.value=!0},G=n=>{var he,le,we,_e,ye,Se,Ie,Ae;const I=s.value.needReverse?s.value.token_b:s.value.token_a,O=s.value.needReverse?s.value.token_a:s.value.token_b;i.value==="fromCoin"?(((he=H.value)==null?void 0:he.address)===(I==null?void 0:I.address)||!((le=H.value)!=null&&le.address)?(E.value&&n.address.toLowerCase()===((we=E)==null?void 0:we.value.address.toLowerCase())&&(E.value=null),H.value=n):(H.value&&n.address.toLowerCase()===((_e=H)==null?void 0:_e.value.address.toLowerCase())&&(H.value=null),E.value=n),X.query.action||(X.query.fee="")):((ye=E.value)==null?void 0:ye.address)===(O==null?void 0:O.address)||!((Se=E.value)!=null&&Se.address)?(H.value&&n.address.toLowerCase()===((Ie=H)==null?void 0:Ie.value.address.toLowerCase())&&(H.value=null),E.value=n):(E.value&&n.address.toLowerCase()===((Ae=E)==null?void 0:Ae.value.address.toLowerCase())&&(E.value=null),H.value=n),U.value=!1},C=w(()=>_.value.chainName?yt(_.value.chainName):{}),Y=w(()=>_.value.slippage),P=y(),A=async()=>{var je,Ne,Me,xe;if(Xe.value||!Z.value&&!j.value)return!1;if(!V.value&&!x.value&&!Z.value&&!j.value)return;const n=s.value||{};if(ge(n))return;const{TickUtil:I,TickMath:O,getNearestTickByTick:he}=C.value,le=n==null?void 0:n.token_a.decimals,we=n==null?void 0:n.token_b.decimals;let _e,ye,Se,Ie,Ae,$e,Ge,rt,Ce=n==null?void 0:n.current_tick_index;if(!Ce)return;let fe;if(n.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&n.token_b.address.toLowerCase()===E.value.address.toLowerCase()?fe=!0:fe=!1,Z.value==="0"&&j.value==="âˆž")Se=I.getMinIndex(Number(n.tickSpacing)),Ie=I.getMaxIndex(Number(n.tickSpacing)),Ae=O.tickIndexToSqrtPriceX64(Se),$e=O.tickIndexToSqrtPriceX64(Ie);else if(se.value=="custom"){fe?(_e=Z.value,ye=j.value):(_e=j.value!=="âˆž"?new k(1).div(j.value).toString():1/0,ye=new k(1).div(Z.value).toString());try{Ge=new k(_e).equals(new k(0))?-443636:O.priceToTickIndex(new k(_e),le,we)}catch{Ge=-443636}try{rt=O.priceToTickIndex(new k(ye),le,we)}catch{rt=443636}Se=he(Ge,Number(n.tickSpacing),!0),Ie=he(rt,Number(n.tickSpacing),!0);try{Ae=O.priceToSqrtPriceX64(new k(_e),le,we)}catch{(ye===1/0||ye==="âˆž")&&(Ae=O.tickIndexToSqrtPriceX64(I.getMinIndex(Number(n.tickSpacing))))}try{$e=O.priceToSqrtPriceX64(new k(ye),le,we)}catch{(ye===1/0||ye==="âˆž")&&($e=O.tickIndexToSqrtPriceX64(I.getMaxIndex(Number(n.tickSpacing))))}}else Se=(je=lt.value[se.value])==null?void 0:je.lower,Ie=(Ne=lt.value[se.value])==null?void 0:Ne.upper,Ae=O.tickIndexToSqrtPriceX64(Se),$e=O.tickIndexToSqrtPriceX64(Ie);if(j.value!=="âˆž"&&Se>=Ie){console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:639 ~ updateAmounts ~",j.value!=="âˆž"&&Se>=Ie),N.value=!0,V.value="",M.value=!0,x.value="";return}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:708 ~ updateAmounts ~ currentTickIndex:",Ce),j.value==="âˆž"||Ce>=Se&&Ce<Ie){N.value=!1,M.value=!1;let ke;if(V.value||x.value){if(Ue.value){const Rt=new k(V.value).mul(Math.pow(10,H.value.decimals)).toString();ke=new Le(Rt)}else{const Rt=new k(x.value).mul(Math.pow(10,E.value.decimals)).toString();ke=new Le(Rt)}O.tickIndexToSqrtPriceX64(s.value.current_tick_index);const{liquidityAmount:Re,tokenMaxA:et,tokenMaxB:_t,tokenMaxAOrigin:ii,tokenMaxBOrigin:ni}=C.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:n.token_a,tokenB:n.token_b,lowerTick:Se,upperTick:Ie,coinAmount:ke,iscoinA:fe?Ue.value:!Ue.value,roundUp:!0,slippage:Number(Y.value)/100,curSqrtPrice:new Le(s.value.current_sqrt_price)});P.value={liquidityAmount:Re,tokenMaxA:et,tokenMaxB:_t,tokenMaxAOrigin:ii,tokenMaxBOrigin:ni},fe?Ue.value?x.value=Number(_t)>0?_t:"":V.value=Number(et)>0?et:"":Ue.value?x.value=et:V.value=_t}}else if(Ce>=Ie){if(fe?V.value="":x.value="",N.value=fe,M.value=!fe,V.value||x.value){let ke;if(fe){const Re=new k(x.value).mul(Math.pow(10,(Me=E.value)==null?void 0:Me.decimals)).toString();ke=new Le(Re),P.value={liquidityAmount:C.value.estimateLiquidityForCoinB(Ae,$e,ke),tokenMaxA:0,tokenMaxB:x.value}}else{const Re=new k(V.value).mul(Math.pow(10,(xe=H.value)==null?void 0:xe.decimals)).toString();ke=new Le(Re),P.value={liquidityAmount:C.value.estimateLiquidityForCoinB(Ae,$e,ke),tokenMaxA:0,tokenMaxB:V.value}}}}else if(Ce<Se){if(N.value=!fe,M.value=fe,fe?x.value="":V.value="",V.value||x.value){let ke;if(fe){const Re=new k(V.value).mul(Math.pow(10,H.value.decimals)).toString();ke=new Le(Re),P.value={liquidityAmount:C.value.estimateLiquidityForCoinA(Ae,$e,ke),tokenMaxA:V.value,tokenMaxB:0}}else{const Re=new k(x.value).mul(Math.pow(10,E.value.decimals)).toString();ke=new Le(Re),P.value={liquidityAmount:C.value.estimateLiquidityForCoinA(Ae,$e,ke),tokenMaxA:x.value,tokenMaxB:0}}}}else N.value=!0,console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:783 ~ updateAmounts ~ showFromCoinLock.value:",N.value),V.value="",M.value=!0,x.value=""};ae(()=>s.value,(n,I)=>{(!I&&n&&!ge(n)||I&&n&&I.address!==n.address)&&J(n,!I||n.address!==I.address),n&&!ge(n)&&A()},{immediate:!0}),ae(V,(n,I)=>{n==""&&Ue.value&&(x.value=""),n&&Ue.value&&!Xe.value&&A()}),ae(x,(n,I)=>{n==""&&!Ue.value&&(V.value=""),n&&!Ue.value&&!Xe.value&&A()}),ae(()=>Te.value,(n,I)=>{A()}),ae(()=>[H.value,E.value],([n,I])=>{n&&I&&(N.value=!1,M.value=!1)});const D=y("--"),ue=w(()=>c.value.RATES),z=()=>{const n=ue.value&&ue.value[H.value.address]&&ue.value[H.value.address].price,I=ue.value&&ue.value[E.value.address]&&ue.value[E.value.address].price;if(n&&I){const O=new k(V.value>0?V.value:0).mul(n),he=new k(x.value>0?x.value:0).mul(I),le=O.add(he).toNumber();D.value=le>0&&le<.01?"<$0.01":"$"+ie(le,2)}else D.value="--"};ae(()=>[V.value,x.value,Xe.value],([n,I,O])=>{(n||I)&&!O?z():(!n||!I)&&!O&&(D.value="--")},{immediate:!0});const ne=y(),ee=async()=>{var fe,je;if(!Z.value&&!j.value)return!1;if(!V.value&&!x.value&&!Z.value&&!j.value)return;const n=s.value;if(ge(n))return;const{TickUtil:I,TickMath:O,getNearestTickByTick:he}=C.value,le=n==null?void 0:n.token_a.decimals,we=n==null?void 0:n.token_b.decimals;let _e,ye,Se,Ie,Ae,$e,Ge;if(n.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&n.token_b.address.toLowerCase()===E.value.address.toLowerCase()?Ge=!0:Ge=!1,Z.value==="0"&&j.value==="âˆž")Se=I.getMinIndex(Number(n.tickSpacing)),Ie=I.getMaxIndex(Number(n.tickSpacing));else if(se.value=="custom"){Ge?(_e=Number(Z.value),ye=Number(j.value)):(_e=new k(1).div(j.value).toString(),ye=new k(1).div(Z.value).toString());try{Ae=_e==0?-443636:O.priceToTickIndex(new k(_e),le,we)}catch{Ae=-443636}try{$e=O.priceToTickIndex(new k(ye),le,we)}catch{$e=443636}Se=he(Ae,Number(n.tickSpacing),!0),Ie=he($e,Number(n.tickSpacing),!0)}else Se=(fe=lt.value[se.value])==null?void 0:fe.lower,Ie=(je=lt.value[se.value])==null?void 0:je.upper;const rt=ue.value[n==null?void 0:n.token_a.address].price,Ce=ue.value[n==null?void 0:n.token_b.address].price;Te.value?new Le(n.current_sqrt_price):new Le(1/n.current_sqrt_price);try{const{amountA:Ne,amountB:Me,tokenAmountsInfo:xe}=await C.value.estCoinAmountsFromTotalAmount({lowerTick:Se,upperTick:Ie,decimalsA:le,decimalsB:we,curSqrtPrice:new Le(n.current_sqrt_price),totalAmount:D.value.replace(/[^\d.]/g,""),tokenPriceA:rt,tokenPriceB:Ce});ne.value=xe,n.needReverse?Te.value?(V.value=Ne,x.value=Me):(V.value=Me,x.value=Ne):(V.value=Ne,x.value=Me)}catch(Ne){console.log(Ne,"e===>")}};ae([Z,j],([n,I])=>{Xe.value?Xe.value&&ee():A(),I!=="âˆž"&&Number(n)!==0&&Number(I)!==0&&Number(n)>=Number(I)?mt.value=!0:mt.value=!1,Number(n)==0&&Number(I)==0&&pt.value&&(mt.value=!0)},{deep:!0,immediate:!0});const ce=n=>{const I=n.replace(/[^\d.]/g,""),O="$"+ie(I);Xe.value=!0,D.value=O,I>0?ee():(V.value="",x.value="")},re=y(!1),{setTransactionTxid:Be,setTransactionDesc:Q,setIsShowWaiting:pe,setIsShowSuccess:it,setPositiomNum:Oe,setIsShowRejected:gt}=q,at=ti(),Ee=w(()=>c.value.currentPositionInfo),st=y(!1),de=y(!0),Pt=Lt(),He=w(()=>Pt),We=w(()=>He.value.farmsPoolObj);ae(()=>[We.value,s.value],([n,I])=>{n&&!ge(n)&&I&&!ge(I)&&(n[I.address]||(de.value=!1))},{immediate:!0});const Ve=y(),qe=y(),t=n=>{Ve.value=n,n?de.value=!0:de.value=!1},b=async(n,I,O,he)=>{try{I=="farming"?await c.value.setCurrentPositionInfo("","","","Sui",O,"farming"):await c.value.setCurrentPositionInfo(n,"","",$.value,he),await vi(3e3),de.value?await at.subscribePosition({pool_address:Ee.value.clmm_pool_id,position_index:Ee.value.name.split("-")[1]},Ee.value.clmm_position_id):await at.subscribePosition({pool_address:Ee.value.poolAddress,position_index:Ee.value.index},Ee.value.nftHash)}catch(le){console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1151 ~ notifiSubscribePosition ~ error:",le)}},W=async n=>{var Ae,$e,Ge,rt;re.value=!1,c.value.currentPositionInfo={},Be(""),Q(e("tips.increaseLiquiditySuccess",{from:N.value?"":`${ie(V.value)} ${(Ae=H.value)==null?void 0:Ae.symbol}`,and:!N.value&&!M.value?"and":"",to:M.value?"":`${ie(x.value)} ${($e=E.value)==null?void 0:$e.symbol}`})),pe(!0);const I=Te.value?Ue.value:!Ue.value;let O,he,le,we,_e,ye;const Se=s.value.token_a.decimals,Ie=s.value.token_b.decimals;if(Z.value==="0"&&j.value==="âˆž")le=C.value.TickUtil.getMinIndex(Number(s.value.tickSpacing)),we=C.value.TickUtil.getMaxIndex(Number(s.value.tickSpacing));else if(se.value=="custom"){Te.value?(O=Z.value,he=j.value):(O=new k(1).div(j.value).toString(),he=new k(1).div(Z.value).toString());try{_e=O==0?C.value.TickUtil.getMinIndex(Number(s.value.tickSpacing)):C.value.TickMath.priceToTickIndex(new k(O),Se,Ie)}catch{_e=C.value.TickUtil.getMinIndex(Number(s.value.tickSpacing))}try{ye=C.value.TickMath.priceToTickIndex(new k(he),Se,Ie)}catch{ye=C.value.TickUtil.getMaxIndex(Number(s.value.tickSpacing))}le=C.value.getNearestTickByTick(_e,Number(s.value.tickSpacing),!0),we=C.value.getNearestTickByTick(ye,Number(s.value.tickSpacing),!0)}else le=lt.value[se.value].lower,we=lt.value[se.value].upper;try{let Ce;Xe.value?Ce=await C.value.getCreateAddLiquidityPayload({pool:s.value,curSqrtPrice:new Le(s.value.current_sqrt_price),tickLower:le,tickUpper:we,slippage:Number(Y.value)/100,tokenAmounts:ne.value}):Ce=await C.value.getAddLiquidityTransactionPayload({pool:{poolAddress:s.value.poolAddress,token_a:s.value.token_a,token_b:s.value.token_b},amount:Ue.value?V.value:x.value,fix_amount_a:I,tick_lower:le,tick_upper:we,index:0,slippage:Number(Y.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new Le(s.value.current_sqrt_price),farmPoolInfo:Ve.value});let fe;if($.value==="Aptos")fe=await f.value.currentWallet.signAndSubmitTransaction(Ce);else{const je=await C.value.signAndExecuteTransactionBlock(f.value.currentWallet,Ce==null?void 0:Ce.txb,Ce==null?void 0:Ce.payloadParams);fe=C.value.handleTx(je)}if(console.log("0410###tx###",fe),fe&&fe.hash){Be(fe.hash),pe(!1),it(!0);let je;s.value.needReverse?s.value.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===E.value.address.toLowerCase()?je=!1:je=!0:s.value.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===E.value.address.toLowerCase()?je=!0:je=!1;const Ne={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:N.value?"":`${ie(V.value)} ${(Ge=H.value)==null?void 0:Ge.symbol}`,and:!N.value&&!M.value?"and":"",to:M.value?"":`${ie(x.value)} ${(rt=E.value)==null?void 0:rt.symbol}`}),hash:fe.hash,tit:"Position Created",icon:"icon-icon-Position-Created"};$.value!=="Aptos"&&(Ne.res=fe.res),C.value.showTransitionPending(Ne),console.log(Ne,"toAdd params###");const Me=await C.value.watchTransaction(Ne,!0);if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1295 ~ toAdd ~ watchInfo:",Me),Me.status){it(!1),c.value.setCurrentPositionLoading(!0);let xe,ke;$.value==="Aptos"?qe.value={token_a:s.value.token_a,token_b:s.value.token_b,minPrice:Z.value,maxPrice:j.value,pool:s.value.address,collection:Me.nftInfo[0].data.id.collection,tokenName:Me.nftInfo[0].data.name}:(ke=Me.nftInfo,console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1319 ~ toAdd ~ nftInfo:",ke),de.value?(Me.res.events.forEach(et=>{et.type.indexOf("::pool::DepositEvent")>-1&&(xe=et.parsedJson.wrapped_position_id)}),qe.value={token_a:s.value.needReverse?s.value.token_b:s.value.token_a,token_b:s.value.needReverse?s.value.token_a:s.value.token_b,minPrice:Z.value,maxPrice:j.value,id:xe,clmm_pool_id:s.value.address,pool:s.value.address}):qe.value={token_a:s.value.needReverse?s.value.token_b:s.value.token_a,token_b:s.value.needReverse?s.value.token_a:s.value.token_b,minPrice:Z.value,maxPrice:j.value,pos_object_id:ke.position,pool:s.value.address},console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1389 ~ toAdd ~ positionInfoDetail:",qe.value)),st.value=!0;const Re=s.value.poolAddress;setTimeout(()=>{if(n){const et=xe?"farming":"clmm";console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1400 ~ setTimeout ~ poolInfo.value.poolAddress:",Re),b(Re,et,xe,ke==null?void 0:ke.position)}},3e3),setTimeout(()=>{R.updateCurrentPools(Re,$.value),C.value.getAccount(f.value.address)},3e3),setTimeout(async()=>{Xt(C,s)},7e3)}Oe()}else pe(!1),gt(!0);V.value="",x.value=""}catch(Ce){V.value="",x.value="",console.log("0330###Add liquidity Error###",Ce),pe(!1),gt(!0)}},te=w(()=>!!(!V.value&&!x.value||Number(V.value)>Number(T.value)||Number(x.value)>Number(g.value)||m.value!==e("button.addLiquidity")&&m.value!==e("newAdd.preview")||s.value&&s.value&&s.value.is_pause||Number(V.value)<=0&&Number(x.value)<=0||!N.value&&Number(V.value)==0||!M.value&&Number(x.value)==0)),d=w(()=>!H.value||!E.value),m=w(()=>s.value&&s.value.is_pause?"Pool Closed":!H.value||!E.value||d.value?e("modal.selectTokenModalTitle"):Number(V.value)>Number(T.value)?e("button.insufficientBalance",{name:H.value.symbol}):Number(x.value)>Number(g.value)?e("button.insufficientBalance",{name:E.value.symbol}):!Number(V.value)&&!Number(x.value)?e("button.enterAmount"):j.value!=="âˆž"&&Number(Z.value)>=Number(j.value)?e("newAdd.invalidRange"):e("button.addLiquidity")),me=y({}),ve=y({}),be=y(!1),nt=(n,I)=>{const O=localStorage.getItem(n.address);console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1518 ~ getTokenSource ~ coinLocak:",O,n),n!=null&&n.isSelfBuilt&&!O&&(I=="fromCoin"&&(me.value=n),I=="toCoin"&&(ve.value=n),be.value=!0)};ae(()=>[H.value,E.value],([n,I])=>{n&&!ge(n)&&nt(n,"fromCoin"),I&&!ge(I)&&nt(I,"toCoin")},{immediate:!0});const Ze=Jt(),ot=()=>{$.value!=="Aptos"?Ze.push("/pool/list"):Ze.push("/pools")},St=n=>{Xe.value,W(n)},It=()=>{X.query.action!=="create-pool"&&X.query.actions!=="new-position"&&(Xt(C,s),A(),f.value.address&&C.value.getAccount(f.value.address),R.updateCurrentPools(s.value.poolAddress,$.value)),R.setPoolConfigList($.value,_.value.filterCoinsObj)},Tt=w(()=>{var O,he,le,we,_e,ye;const n=(le=ue.value[(he=(O=H)==null?void 0:O.value)==null?void 0:he.address])==null?void 0:le.price,I=(ye=ue.value[(_e=(we=E)==null?void 0:we.value)==null?void 0:_e.address])==null?void 0:ye.price;return!!(n&&I)});ae(()=>[X,c.value.tokensObj],([n,I])=>{var O;I&&!ge(I)&&(E.value||(E.value=c.value.tokensObj[(O=n==null?void 0:n.query)==null?void 0:O.toCoin]))},{immediate:!0,deep:!0});const wt=y(!0),qt=y(!1);return{lever:w(()=>{const n=Number(Z.value),I=Number(j.value);if(Z.value=="0"&&j.value=="âˆž"||se.value=="full range")return"1x";if(Z.value==j.value||se.value=="full range")return"--";if(Z.value&&j.value&&Z.value!=="0"&&j.value!=="âˆž"){const O=Qt(1/(1-Number((n/I)**.25)),2);return Number(O)>0?O+"x":"--"}else return 1}),isAddCardTopPadding:wt,isAddCardBottomPadding:qt,positionError:mt,decimalUi:F,poolInfo:s,fromCoinAmount:V,toCoinAmount:x,fromCoin:H,toCoin:E,theme:K,showFromCoinLock:N,showToCoinLock:M,fromCoinBlance:T,toCoinBlance:g,fixedFromCoin:Ue,openCoinSelect:B,currentCoinKey:i,existingCoins:h,lastSelectCoin:v,showCoinSelect:U,onCoinSelect:G,liquidityTotalAmount:D,toggle:Yt,onInput:ce,isInputTotalAmount:Xe,isViewDetail:st,addLiquidityBtnDisabled:te,addLiquidityBtnText:m,isShowTokenWarning:be,chainName:$,closeTokenWarning:ot,warningFromCoin:me,warningToCoin:ve,isShowLiquidityModal:re,currentPrice:pt,currentPriceReverse:Nt,currentPriceTab:se,minPrice:Z,maxPrice:j,toAdd:W,direction:Te,wallet:f,getAddLiquidityType:St,clickRefresh:It,isShowtotalAmount:Tt,isAutoStakeFarming:de,farmPoolInfo:Ve,getFarmsPoolInfo:t,positionInfoDetail:qe,getTokenSource:nt}}});const ka={class:"sui-liquidity-right-box"},ha={class:"sui-liquidity-right"},ya={class:"deposit-title"},Ca={key:0,class:"create-pool-lock"},Pa=a("img",{src:Ni,alt:""},null,-1),Sa=[Pa],Ia={key:0,class:"from-lock"},Ta={key:1,class:"to-lock"},wa=a("div",{class:"exchange-new"},[a("svg",{class:"icon icon-down","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_add1"})])],-1),_a=[wa],Aa={class:"show-info"},$a={key:0,class:"total-amount"},Na=a("span",null,"Total Amount",-1);function La(e,u,q,_,$,R){const c=Pe("SuiLiquidityTitle"),S=Pe("TokenInputBlock"),f=Pe("InputLock"),X=Pe("SuiLiquidityDepositRatio"),s=Pe("SuiLiquidityLever"),N=Dt,M=Pi,K=Si,J=Pe("SuiAddOrCreate"),T=Pe("SuiFarmsAutoStake");return r(),l("div",ka,[a("div",ha,[a("div",ya,[oe(c,{"pool-info":e.poolInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"])]),e.positionError?(r(),l("div",Ca,Sa)):p("",!0),a("div",{class:tt(["card-container",[e.isAddCardTopPadding?"input-block-add-top":"",e.isAddCardBottomPadding?"input-block-add-bottom":""]])},[oe(S,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":u[0]||(u[0]=g=>e.fromCoinAmount=g),"input-value":e.fromCoinAmount,"token-info":e.fromCoin||null,"has-arrow":!1,onOnInput:u[1]||(u[1]=g=>{e.fromCoinAmount=g,e.fixedFromCoin=!0,e.isInputTotalAmount=!1}),onOnFocus:u[2]||(u[2]=()=>{e.isAddCardTopPadding=!0,e.isAddCardBottomPadding=!1})},null,8,["modelValue","input-value","token-info"]),oe(S,{modelValue:e.toCoinAmount,"onUpdate:modelValue":u[3]||(u[3]=g=>e.toCoinAmount=g),"input-value":e.toCoinAmount,"token-info":e.toCoin||null,"has-arrow":!1,onOnInput:u[4]||(u[4]=g=>{e.toCoinAmount=g,e.fixedFromCoin=!1,e.isInputTotalAmount=!1}),onOnFocus:u[5]||(u[5]=()=>{e.isAddCardTopPadding=!1,e.isAddCardBottomPadding=!0})},null,8,["modelValue","input-value","token-info"]),e.showFromCoinLock&&!e.positionError?(r(),l("div",Ia,[oe(f,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])])):p("",!0),e.showToCoinLock&&!e.positionError?(r(),l("div",Ta,[oe(f,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])])):p("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(r(),l("div",{key:2,class:"new-sui-exchange to-add-logo",onClick:u[6]||(u[6]=(...g)=>e.toggle&&e.toggle(...g))},_a)):p("",!0)],2),a("div",Aa,[e.isShowtotalAmount?(r(),l("div",$a,[Na,a("span",null,o(e.liquidityTotalAmount),1)])):p("",!0),oe(X,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.currentPriceTab,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"]),oe(s,{lever:e.lever},null,8,["lever"])]),oe(N,{class:"big-btn",disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,onClick:u[7]||(u[7]=g=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:Ye(()=>[ut(o(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),e.showCoinSelect?(r(),Je(M,{key:1,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:u[8]||(u[8]=g=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):p("",!0),e.isViewDetail?(r(),Je(K,{key:2,"pool-info":e.poolInfo,"farm-pool-info":e.farmPoolInfo,"position-info":e.positionInfoDetail,"is-auto-stake-farming":e.isAutoStakeFarming,onOnClose:u[9]||(u[9]=g=>e.isViewDetail=!1)},null,8,["pool-info","farm-pool-info","position-info","is-auto-stake-farming"])):p("",!0),e.isShowLiquidityModal?(r(),Je(J,{key:3,"pool-info":e.poolInfo,title:e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,onToAdd:e.getAddLiquidityType,onOnClose:u[10]||(u[10]=g=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onToAdd"])):p("",!0)]),oe(T,{"pool-info":e.poolInfo,"is-active":!e.showFromCoinLock&&!e.showToCoinLock,"is-auto-stake-farming":e.isAutoStakeFarming,onSendFarmsPoolInfo:e.getFarmsPoolInfo},null,8,["pool-info","is-active","is-auto-stake-farming","onSendFarmsPoolInfo"])])}const qa=ze(ba,[["render",La]]),Ma=De({components:{SuiLiquidityLeft:En,SuiLiquidityRight:qa},setup(){const e=Lt(),u=w(()=>e),q=w(()=>u.value.farmsPoolObj);Et(()=>{di(),R.setPoolsLoading(!0)}),ae(()=>q.value,c=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: deposit.vue:41 ~ watch ~ newVal:",c),c&&ge(c)&&e.getFarmsPoolList(!0)},{immediate:!0});const _=ct(),$=Qe();w(()=>$);const R=ft();return{tickList:dt,route:_}}});const Ra={key:0,class:"loading-spin-liquidity loading-global"},Fa={class:"privide-liquidity"};function Ua(e,u,q,_,$,R){var X,s;const c=Gt,S=Pe("SuiLiquidityLeft"),f=Pe("SuiLiquidityRight");return r(),l(Ke,null,[!e.tickList&&((s=(X=e.route)==null?void 0:X.query)!=null&&s.poolAddress)?(r(),l("div",Ra,[oe(c)])):p("",!0),a("div",Fa,[oe(S),oe(f)])],64)}const Ps=ze(Ma,[["render",Ua],["__scopeId","data-v-8173f726"]]);export{Ps as default};
