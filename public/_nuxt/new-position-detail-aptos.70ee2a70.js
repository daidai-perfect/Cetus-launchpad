import{_ as Xo}from"./back.ed01dacc.js";import{_ as Yo}from"./swap-setting.16836ae6.js";import{u as Xe,a as Ve,b as xe,c as zo}from"./index.46f67f5f.js";import{a as Ye,r as T,m as b,e as ze,o as g,f as S,h as o,x as E,c as Ne,G as de,p as to,k as io,s as Co,A as ye,b as ao,i as le,y as co,q as So,I as Pe,M as $o,L as mo,C as bo,u as z,j as me,w as Be,P as Po,z as go,a1 as Go,a2 as Ge,a3 as Jo,a6 as wo,N as _o,F as Ze,E as oo,B as ro,S as Qo,fg as Ko,fi as Zo,D as To,Y as Vo,O as xo}from"./entry.41ea690b.js";import{c as ve,g as en,n as on,d as ke,a as J,o as ho,b as Me,i as $e,p as yo}from"./common.2aa2b559.js";import{_ as vo}from"./token-warning.3add7d92.js";import{_ as No}from"./status-block.ef2e5142.js";import{s as lo,m as nn,l as tn,b as an,a as sn}from"./transform.c672907f.js";import"./decimal.a2826370.js";import{D as p}from"./decimal.765d8738.js";import{l as ln,a as rn}from"./linearClosed.d07a7d12.js";/* empty css              */import{i as no}from"./import-icon.de3e6c66.js";import"./index.4014d28e.js";import{u as uo,b as qe,n as Ro,m as Oo,T as Io,C as un}from"./index.e4df0a82.js";import{_ as fo}from"./assets-card.8d0f837f.js";import{_ as dn}from"./coin-lock.295765ef.js";import{_ as cn}from"./new-add-or-create.e922cf19.js";import{_ as mn,a as vn}from"./icon-Add-Liquidity_2x.0acb06cb.js";/* empty css              */import{u as qo}from"./notifi.70321ead.js";import{_ as fn}from"./apr-tips.d5e13123.js";import{u as Bo}from"./farms.53913d54.js";/* empty css              *//* empty css              *//* empty css              */import"./icon-error_2x.afe4a211.js";import"./useDebounceFunction.eab2bf30.js";import"./img-lock_2x.a28135f4.js";import"./img-lock_2x.682803c5.js";import"./deposit-ratio.c1856f66.js";import"./useWhale.63a5ed1d.js";import"./icon_fee_2x.7369e888.js";import"./icon_rewards_2x.f8638727.js";const pn=Ye({setup(){const e=Xe(),u=T(!1),l=b(()=>e);return{slippage:b(()=>l.value.slippage),isShowSwapSetting:u}}});const hn=e=>(to("data-v-82585f8b"),e=e(),io(),e),bn=hn(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1));function gn(e,u,l,c,Z,$){const O=Yo;return g(),S("div",{class:"slippage-icon",onClick:u[1]||(u[1]=v=>e.isShowSwapSetting=!0)},[bn,o("span",null,E(e.slippage)+"%",1),e.isShowSwapSetting?(g(),Ne(O,{key:0,onOnClose:u[0]||(u[0]=v=>e.isShowSwapSetting=!1)})):de("",!0)])}const kn=ze(pn,[["render",gn],["__scopeId","data-v-82585f8b"]]),wn=Ye({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,u){const l=T(!1),c=T(null),Z=T(0),$=T(20),O=Ve(),v=Xe(),n=T(!1);Co(()=>{clearInterval(c.value)});const m=()=>{c.value=setInterval(()=>{var Q;n.value||Z.value<$.value&&(Z.value+=1,Z.value===$.value&&((Q=e==null?void 0:e.poolInfo)!=null&&Q.poolAddress&&O.updateCurrentPools(e.poolInfo.poolAddress,v.chainName),Z.value=0))},1e3)},k=b(()=>v.slippage),r=()=>{u.emit("clearAll")},C=T(!1),F=()=>{Z.value=0,C.value=!0,u.emit("clickRefresh"),setTimeout(()=>{C.value=!1},1e3)};ye(()=>e.poolInfo,Q=>{Q&&!c.value&&m()},{immediate:!0});const re=ao(),se=b(()=>v.chainName);return{clickRefresh:F,isShowSwapSetting:l,countdown:Z,autoRefreshTime:$,slippage:k,clearAll:r,checkNullObj:ve,router:re,loading:n,chainName:se,refresh:C}}});const _n=e=>(to("data-v-ca768f9b"),e=e(),io(),e),yn={class:"new-position-title"},In={class:"left"},An={class:"right"},Cn=_n(()=>o("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Sn=[Cn];function $n(e,u,l,c,Z,$){const O=Xo,v=kn;return g(),S("div",yn,[o("div",In,[le(O)]),o("div",An,[le(v),(g(),S("svg",{"aria-hidden":"true",class:co(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:u[0]||(u[0]=(...n)=>e.clickRefresh&&e.clickRefresh(...n))},Sn,2))])])}const Lo=ze(wn,[["render",$n],["__scopeId","data-v-ca768f9b"]]);function Ao(e,u,l){const c=new p(10).pow(u-l);return new p(1.0001).pow(e).mul(c)}const Pn=Ye({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,u){const l=T(1),c=T(""),Z=T(""),$=b(()=>{var t,y,d;return r.sqrtPriceX64ToPrice((t=e.poolInfo)==null?void 0:t.current_sqrt_price,(y=e.poolInfo)==null?void 0:y.coinA.decimals,(d=e.poolInfo)==null?void 0:d.coinB.decimals).toString()}),O=b(()=>{let t=0;return e.direction?t=(Number(e.minPrice)/Number($.value)-1)*100:t=(Number(e.minPrice)/Number(1/Number($.value))-1)*100,t=t>0&&t<.1?.1:t,t=t<0&&t>-.1?-.1:t,t}),v=b(()=>{let t=0;return e.direction?t=(Number(e.maxPrice)/Number($.value)-1)*100:t=(Number(e.maxPrice)/Number(1/Number($.value))-1)*100,t=t>0&&t<.1?.1:t,t=t<0&&t>-.1?-.1:t,t}),n=Xe(),m=b(()=>n),k=b(()=>m.value.chainName?xe(m.value.chainName):{}),{TickMath:r,getNearestTickByTick:C}=k.value,F=()=>{const t=l.value/2;l.value=t,Q(e.poolInfo,t)},re=()=>{const t=l.value*2;l.value=t,Q(e.poolInfo,t)},se=(t=[])=>{let y=6;const d=Math.abs(Number(t[0])-Number(t[t.length-1]));return d>=6?y=0:d>=1?y=1:d>=.1?y=2:d>=.01?y=3:d>=.001?y=4:d>=1e-4?y=5:d>=1e-5?y=6:d>=1e-6?y=7:d>=1e-7&&(y=8),y},Q=(t,y=1)=>{if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-position-chart.vue:189 ~ dataProcessing ~ zooms:",y),t&&t.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const d=Number(e.poolInfo.current_tick_index);let h=d+100*y,i=d-100*y,oe,K;if(e.maxPrice==="âˆž")K=k.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?K=r.priceToTickIndex(new p(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):K=r.priceToTickIndex(new p(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{K=443636}if(e.minPrice==="0")oe=k.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?oe=r.priceToTickIndex(new p(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):oe=r.priceToTickIndex(new p(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{oe=-443636}let ne=0;if(e.currentPriceTab!=="full range"){if(d>=oe&&d<=K){const L=d-oe,ge=K-d;ne=Math.max(Math.abs(L),Math.abs(ge))}else d<oe?ne=Math.abs(K-d):ne=Math.abs(d-oe);h=d+ne+20*y,i=d-ne-20*y}else{const L=(Math.abs(d)>5e3,2e4);h=d+L*y,i=d-L*y}i<-443636&&(i=-443636),h>443636&&(h=443636);const W=new p(t.liquidity).div(Math.pow(10,8)).toString(),_=e.tickList,q=[],P=[];let H={};for(let L=0;L<_.length;L++){if(H=_[L],H.index<=d&&H.index>=i){if(q.length<1&&L!==0){const ge=_[L-1];q.unshift({...ge,index:i})}q.unshift(H)}else if(H.index>d&&H.index<=h&&(P.push(H),q.length<1&&L!==0)){const ge=_[L-1];q.push({...ge,index:i})}if(H.index>h){const ge=_[L];if(P.push({...ge,index:h}),q.length<1&&L!==0){const Ie=_[L-1];q.push({...Ie,index:i})}break}}let x="0";for(let L=q.length-1;L>=0;L--)x=new p(x).plus(new p(q[L].liquidityNet.toString()).div(Math.pow(10,8))).toString(),q[L].liquityAmount=x;let G=W;for(let L=0;L<P.length;L++)G=new p(G).plus(new p(P[L].liquidityNet.toString()).div(Math.pow(10,8))).toString(),P[L].liquityAmount=G;let te=[];const V=_&&_.length>0?{index:d,liquityAmount:Number(W)}:{index:d,liquityAmount:0};(q.length>0||P.length>0)&&(te=[...q.reverse(),V,...P],e.direction||(te=te.reverse()));const be=[];_.forEach(L=>{be.push({...L,liquidityGross:L.liquidityGross.toString(),liquidityNet:L.liquidityNet.toString()})}),console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-position-chart.vue:384 ~ dataProcessing ~ tickMin, tickMax, minPriceTick, maxPriceTick:",i,h,oe,K,d),w(te,i,h,oe,K,d)}};let f=T(!0);So(()=>{document.body.clientWidth<750?f.value=!1:f.value=!0,window.onresize=()=>{document.body.clientWidth<750?f.value=!1:f.value=!0,Q(e.poolInfo,l.value)}});const w=(t,y,d,h,i,oe)=>{let K,ne;e.direction?(K=e.before7dContractPriceLowest?r.priceToTickIndex(new p(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ne=e.before7dContractPriceHighest?r.priceToTickIndex(new p(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(K=e.before7dContractPriceLowest?r.priceToTickIndex(new p(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ne=e.before7dContractPriceHighest?r.priceToTickIndex(new p(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const W={top:30,right:35,bottom:20,left:55};let _,q;f.value,_=340-W.left-W.right,q=205-W.top-W.bottom;const P=d-y,H=parseInt(String(P/4));let x=[y+H/4,y+H,y+2*H,d-H,d-H/4];const G=y,te=d,V=_/(te-G);e.currentPriceTab==="full range"&&(x=[y,y+2*H,d]);const be=x.map(N=>e.direction?Ao(N,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new p(1).div(Ao(N,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString());se(be),lo("#chart").selectAll("*").remove();const L=lo("#chart").attr("width",_+W.left+W.right).attr("height",q+W.top+W.bottom).append("g").attr("transform",`translate(${W.left},${W.right})`),ge=nn(t,function(N){return Number(Math.abs(N.liquityAmount))})||0,Ie=tn().range([0,q]).domain([ge,0]);an().rangeRound([0,_]).padding(.1);const Ue=L.append("g").attr("id","barsBox").selectAll("rect").data(t).enter().append("rect");m.value.theme=="default"?Ue.attr("x",function(N,M){return M===0?0:e.direction?Math.abs(N.index-G)*V:Math.abs(te-N.index)*V}).attr("y",function(N,M){return e.direction?M===t.length-1?0:Ie(N.liquityAmount):M===t.length-1?0:Ie(t[M+1].liquityAmount)}).attr("width",function(N,M){return M===0&&t.length===1&&N.liquityAmount>0?_:(e.direction,M!==t.length-1?Math.abs(t[M+1].index-N.index)*V:0)}).attr("height",function(N,M){return M===0&&t.length===1&&N.liquityAmount>0?q:e.direction?M===t.length-1?0:q-Ie(N.liquityAmount):M===t.length-1?0:q-Ie(t[M+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):Ue.attr("x",function(N,M){return M===0?0:e.direction?Math.abs(N.index-G)*V:Math.abs(te-N.index)*V}).attr("y",function(N,M){return e.direction?M===t.length-1?0:Ie(Math.abs(N.liquityAmount)):M===t.length-1?0:Ie(Math.abs(t[M+1].liquityAmount))}).attr("width",function(N,M){return M===0&&t.length===1&&N.liquityAmount>0?_:(e.direction,M!==t.length-1?Math.abs(t[M+1].index-N.index)*V:0)}).attr("height",function(N,M){if(M===0&&t.length===1&&N.liquityAmount>0)return q;if(e.direction)return M===t.length-1?0:Number(N.liquityAmount)?q-Ie(Math.abs(N.liquityAmount)):0;{if(M===t.length-1)return 0;const ce=q-Ie(Math.abs(t[M+1].liquityAmount));return Number(t[M+1].liquityAmount)?ce:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const Se=L.append("g");Se.append("line").attr("x1",0).attr("y1",155).attr("x2",_).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D"),Se.append("g");let a=0;e.direction?a=Math.abs(oe-G)*V:a=Math.abs(oe-te)*V,(m.value.theme=="default"?L.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):L.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+a+", 0)"),lo("#triangle").attr("width",8).attr("height",4);let I=[[0,0],[4,4],[8,0]],U=ln().x(function(N){return N[0]}).y(function(N){return N[1]}).curve(rn);const j=a-4;L.append("path").attr("d",U(I)).style("fill",m.value.theme=="default"?"#68FFD8":"#76C8FF").attr("transform","translate("+j+", 0)");let D,X,ee,ue;e.direction?(D=h<G?-100:parseInt(String(Math.abs(h-G)*V)),X=i<G?-100:parseInt(String(Math.abs(i-G)*V)),ee=K<G?-100:Math.abs(K-G)*V,ue=ne<G?-100:Math.abs(ne-G)*V):(X=h<G?-100:Math.abs(te-h)*V,D=i<G?-100:Math.abs(te-i)*V,ue=K<G?-100:Math.abs(te-K)*V,ee=ne<G?-100:Math.abs(te-ne)*V),e.minPrice==="0"&&(D=0),e.maxPrice==="âˆž"&&(X=_),f.value?c.value=_-D+60+"px":c.value=_-D+52+"px",Z.value=X+74+"px",K&&ee<_&&L.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+ee+", 0)"),ne&&ue<_&&L.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+ue+", 0)");const fe=sn().extent([[0,0],[_,q]]).handleSize(30).on("end",we);L.append("g").attr("class","brush").call(fe).call(fe.move,[D,X]);function we(N){if(!N.sourceEvent||!N.selection)return;f.value?c.value=_-N.selection[0]+60+"px":c.value=_-N.selection[0]+52+"px",Z.value=N.selection[1]+74+"px";let M,ce,pe=0,A=0;e.direction?(pe=C(parseInt(String(N.selection[0]/V+G)),Number(e.poolInfo.tickSpacing)),M=r.tickIndexToPrice(pe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),A=C(parseInt(String(N.selection[1]/V+G)),Number(e.poolInfo.tickSpacing)),ce=r.tickIndexToPrice(A,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(A=C(te-N.selection[0]/V,Number(e.poolInfo.tickSpacing)),M=1/r.tickIndexToPrice(A,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),pe=C(te-N.selection[1]/V,Number(e.poolInfo.tickSpacing)),ce=1/r.tickIndexToPrice(pe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),u.emit("onChangeMinPrice",String(ke(String(M),6))),u.emit("onChangeMaxPrice",String(ke(String(ce),6)))}m.value.theme=="default"?lo(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):lo(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","rgba(255,255,255,0.7)")};T(""),ye(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.tickList],([t,y,d,h,i])=>{t&&y&&d&&h&&i&&i.length>0&&Q(t,l.value)},{immediate:!0});const B=T(!0);return ye(()=>e.chartLoading,(t,y)=>{t!==y&&(B.value=t)},{immediate:!0,deep:!0}),{store:m,loading:B,zoomOut:F,zoomIn:re,rangeSizeLower:O,rangeSizeUpper:v,rangeSizeLowerPosition:c,rangeSizeUpperPosition:Z,decimalFormat:en,numberformat:on}}});const Tn=e=>(to("data-v-992b1bf2"),e=e(),io(),e),Nn={class:"chart-box"},Rn={class:"chart"},On=Tn(()=>o("svg",{id:"chart"},null,-1)),qn=[On];function Bn(e,u,l,c,Z,$){return g(),S("div",Nn,[Pe(o("div",Rn,qn,512),[[$o,!e.loading]])])}const Uo=ze(Pn,[["render",Bn],["__scopeId","data-v-992b1bf2"]]),Ln=Ye({components:{StatusBlock:No,NewPositionChart:Uo,TokenWarning:vo},setup(e){const u=T(),l=T(),c=b(()=>{var d,h;return(h=(d=r.value)==null?void 0:d.poolInfo)==null?void 0:h.needReverse}),Z=Xe(),$=b(()=>Z),O=b(()=>$.value.currentExplorer),v=b(()=>$.value.theme),n=b(()=>$.value.chainName),m=Ve(),k=b(()=>m),r=T({}),C=mo();ye(()=>[k.value.currentPositionInfo,n.value],([d,h])=>{var i;(h=="Aptos"&&d||h=="Sui"&&d&&(d==null?void 0:d.nftHash)==((i=C==null?void 0:C.query)==null?void 0:i.pos))&&(r.value=d,u.value=r.value.token_a,l.value=r.value.token_b)},{immediate:!0});const F=d=>{var h;return(d==null?void 0:d.logoURI)||(d==null?void 0:d.logo_url)||((h=k.value.tokensObj[d==null?void 0:d.address])==null?void 0:h.logo_url)||(v.value==="default"?no("/image/coins/unknown.png"):no("/image/coins/sui-unknown.png"))},re=b(()=>n.value?xe(n.value):{}),se=T([]),Q=async d=>{const{list:h}=await re.value.getTicks(d),i=h?re.value.getTickDataFromUrlData(h):[];se.value=i};ye(()=>[r.value,k.value.poolsObj],([d,h])=>{d&&!ve(d)&&d.poolInfo&&h&&!ve(h)&&Q(h[d.poolAddress])},{immediate:!0});const f=T(!0),w=(d,h)=>d!=="0"&&h!=="âˆž"?Me(1/(1-Number((d/h)**.25)),2)+"x":"1x",B=b(()=>r.value.minPrice&&r.value.maxPrice?w(r.value.minPrice,r.value.maxPrice):"--"),t=b(()=>r.value.maxPrice!=="âˆž"?new p(1).div(new p(r.value.maxPrice)).toString():"âˆž"),y=b(()=>r.value.minPrice>0?new p(1).div(new p(r.value.minPrice)).toString():"0");return{needReverse:c,getCoinIcon:F,theme:v,indexStore:Z,direct:f,addCommom:J,decimalUi:ke,tickList:se,positionInfo:r,fromCoin:u,toCoin:l,getExplorerUrl:ho,lever:B,currentExplorer:O,minPriceResever:t,maxPriceResever:y}}}),Un=""+globalThis.__publicAssetsURL("image/aptos-price.png"),Mn=""+globalThis.__publicAssetsURL("sui-image/sui-price.png"),jn=""+globalThis.__publicAssetsURL("image/icon-arrow@2x.png"),Dn=""+globalThis.__publicAssetsURL("sui-image/icon-arrow@2x.png");const Je=e=>(to("data-v-bcbcfa2a"),e=e(),io(),e),En={class:"new-position-info"},Fn={class:"pool-info"},Wn={class:"left"},Hn={class:"coin-a"},Xn={alt:""},Yn={class:"coin-b"},zn={alt:""},Gn={class:"position-name"},Jn=["href"],Qn=Je(()=>o("use",{"xlink:href":"#icon-icon_copy1"},null,-1)),Kn=[Qn],Zn={key:0,class:"pool-fee"},Vn=Je(()=>o("span",null,"Fee tier",-1)),xn={class:"right"},et={class:"h5-pool-info"},ot={class:"coin-info"},nt={class:"coin-a"},tt={alt:""},it={class:"coin-b"},at={alt:""},st={class:"position-name"},lt=["href"],rt=Je(()=>o("use",{"xlink:href":"#icon-icon_copy1"},null,-1)),ut=[rt],dt={key:0,class:"pool-fee"},ct={class:"price-info"},mt={class:"price-and-chart"},vt={class:"left"},ft={class:"current-price"},pt=Je(()=>o("span",null,"Current Price",-1)),ht={class:"coin-rate"},bt=Je(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),gt=Je(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),kt=[bt,gt],wt={key:0},_t={key:1},yt={key:0,class:"position-range"},It=Je(()=>o("div",{class:"position-range-title"},"Position Range",-1)),At={key:0},Ct={key:1},St={key:2,src:Un,alt:""},$t={key:3,src:Mn,alt:""},Pt={key:4},Tt={key:5},Nt={key:1,class:"position-range position-range-warp"},Rt={key:0,class:"position-range-title"},Ot={key:1,class:"position-range-title"},qt={key:2},Bt={key:3},Lt={class:"price-img"},Ut={key:0,src:jn,alt:""},Mt={key:1,src:Dn,alt:""},jt={key:4},Dt={key:5},Et={class:"lever"},Ft={class:"lever-title"},Wt=Je(()=>o("div",null,[o("span",null," Leverage "),o("svg",{"aria-hidden":"true",class:"icon"},[o("use",{"xlink:href":"#icon-icon-tips1"})])],-1)),Ht={class:"lever-text"},Xt={class:"right"},Yt=Je(()=>o("div",{class:"chat-mask"},null,-1));function zt(e,u,l,c,Z,$){var r,C,F,re,se,Q,f,w,B,t,y,d,h,i,oe,K,ne,W,_,q,P,H,x,G,te,V,be,L,ge,Ie;const O=vo,v=No,n=Po,m=Uo,k=bo("image");return g(),S("div",En,[o("div",Fn,[o("div",Wn,[o("div",Hn,[Pe(o("img",Xn,null,512),[[k,e.needReverse?e.getCoinIcon(e.positionInfo.token_b):e.getCoinIcon(e.positionInfo.token_a)]]),le(O,{address:e.needReverse?(re=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:re.address:(C=(r=e.positionInfo)==null?void 0:r.token_a)==null?void 0:C.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Yn,[Pe(o("img",zn,null,512),[[k,e.needReverse?e.getCoinIcon(e.positionInfo.token_a):e.getCoinIcon(e.positionInfo.token_b)]]),le(O,{address:e.needReverse?(w=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:w.address:(Q=(se=e.positionInfo)==null?void 0:se.token_b)==null?void 0:Q.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Gn,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:z(ho))(e.currentExplorer,"nftAddress",e.positionInfo.nftHash||e.positionInfo.id),target:"_blank"},E((t=(B=e.positionInfo)==null?void 0:B.name)==null?void 0:t.split("|")[1]),9,Jn)]),(g(),S("svg",{class:"copy-icon","aria-hidden":"true",onClick:u[0]||(u[0]=Le=>e.indexStore.copy(e.positionInfo.nftHash||e.positionInfo.id))},Kn)),e.positionInfo.fee?(g(),S("div",Zn,[Vn,me(" "+E(e.positionInfo.fee*100)+"% ",1)])):de("",!0)]),o("div",xn,[le(v,{"current-status":(y=e.positionInfo)==null?void 0:y.currentStatus},null,8,["current-status"])])]),o("div",et,[o("div",null,[o("div",ot,[o("div",nt,[Pe(o("img",tt,null,512),[[k,e.needReverse?e.getCoinIcon(e.positionInfo.token_b):e.getCoinIcon(e.positionInfo.token_a)]]),le(O,{address:e.needReverse?(oe=(i=e.positionInfo)==null?void 0:i.token_b)==null?void 0:oe.address:(h=(d=e.positionInfo)==null?void 0:d.token_a)==null?void 0:h.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",it,[Pe(o("img",at,null,512),[[k,e.needReverse?e.getCoinIcon(e.positionInfo.token_a):e.getCoinIcon(e.positionInfo.token_b)]]),le(O,{address:e.needReverse?(_=(W=e.positionInfo)==null?void 0:W.token_a)==null?void 0:_.address:(ne=(K=e.positionInfo)==null?void 0:K.token_b)==null?void 0:ne.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])])]),o("div",st,[o("div",null,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:z(ho))(e.currentExplorer,"nftAddress",e.positionInfo.nftHash||e.positionInfo.id),target:"_blank"},E((P=(q=e.positionInfo)==null?void 0:q.name)==null?void 0:P.split("|")[1]),9,lt),(g(),S("svg",{class:"copy-icon","aria-hidden":"true",onClick:u[1]||(u[1]=Le=>e.indexStore.copy(e.positionInfo.nftHash||e.positionInfo.id))},ut))]),e.positionInfo.fee?(g(),S("div",dt,E(e.positionInfo.fee*100)+"% ",1)):de("",!0)])]),le(v,{"current-status":(H=e.positionInfo)==null?void 0:H.currentStatus},null,8,["current-status"])]),o("div",ct,[o("div",mt,[o("div",vt,[o("div",ft,[o("div",null,[pt,o("div",ht,[o("div",{onClick:u[2]||(u[2]=Le=>e.direct=!e.direct)},kt)])]),(e.needReverse?!e.direct:e.direct)?(g(),S("div",wt,[me(E(("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.currentPrice,6)))+" Â  ",1),o("span",null,E((x=e.toCoin)==null?void 0:x.symbol)+" per "+E((G=e.fromCoin)==null?void 0:G.symbol),1)])):(g(),S("div",_t,[me(E(("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.currentPriceReverse,6)))+" Â  ",1),o("span",null,E((te=e.fromCoin)==null?void 0:te.symbol)+" per "+E((V=e.toCoin)==null?void 0:V.symbol),1)]))]),e.positionInfo.minPrice&&e.positionInfo.minPrice.length<9&&e.positionInfo.maxPrice&&e.positionInfo.maxPrice.length?(g(),S("div",yt,[It,o("div",null,[(e.needReverse?!e.direct:e.direct)?(g(),S("div",At,[me(E(("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.minPrice,6)))+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(g(),S("div",Ct,[me(E(((be=e.positionInfo)==null?void 0:be.minPrice)!=="0"?("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(1/e.positionInfo.minPrice,6)):0)+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)])),e.theme=="default"?(g(),S("img",St)):(g(),S("img",$t)),(e.needReverse?!e.direct:e.direct)?(g(),S("div",Pt,[me(E(((L=e.positionInfo)==null?void 0:L.maxPrice)!=="âˆž"?("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.maxPrice,6)):"âˆž")+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(g(),S("div",Tt,[me(E(((ge=e.positionInfo)==null?void 0:ge.maxPrice)!=="âˆž"?("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(1/e.positionInfo.maxPrice,6)):"âˆž")+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)]))])])):(g(),S("div",Nt,[(e.needReverse?!e.direct:e.direct)?(g(),S("span",Rt," Position Range ")):(g(),S("span",Ot," Position Range ")),(e.needReverse?!e.direct:e.direct)?(g(),S("div",qt,[me(E(("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.minPrice,6)))+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(g(),S("div",Bt,[me(E(e.positionInfo.maxPrice!=="âˆž"?("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.maxPriceResever,6)):"âˆž")+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)])),o("div",Lt,[e.theme=="default"?(g(),S("img",Ut)):(g(),S("img",Mt))]),(e.needReverse?!e.direct:e.direct)?(g(),S("div",jt,[me(E(e.positionInfo.maxPrice!=="âˆž"?("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.maxPrice,6)):"âˆž")+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(g(),S("div",Dt,[me(E(((Ie=e.positionInfo)==null?void 0:Ie.minPrice)!=="0"?("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.positionInfo.minPriceResever,6)):0)+" ",1),o("span",null,E(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1),me(" Â  ")]))])),o("div",Et,[o("div",Ft,[le(n,{"overlay-class-name":"lever-tooltip"},{title:Be(()=>[me("This parameter indicates the concentration rate of your liquidity relative to a full range position.")]),default:Be(()=>[Wt]),_:1})]),o("div",Ht,E(e.lever),1)])]),o("div",Xt,[le(m,{"pool-info":e.positionInfo.poolInfo,"tick-list":e.tickList,"min-price":e.needReverse?e.minPriceResever:e.positionInfo.minPrice,"max-price":e.needReverse?e.maxPriceResever:e.positionInfo.maxPrice,direction:!e.needReverse,"current-price-tab":"custom","chart-loading":!1},null,8,["pool-info","tick-list","min-price","max-price","direction"]),Yt])])])])}const Mo=ze(Ln,[["render",zt],["__scopeId","data-v-bcbcfa2a"]]),Gt=Ye({components:{TokenWarning:vo},setup(e,u){const{t:l}=go(),{$notify:c}=Go(),Z=Xe(),$=b(()=>Z),O=Ve(),v=b(()=>O),n=T({}),m=T({}),k=T({}),r=b(()=>$.value.chainName),C=b(()=>r.value?xe(r.value):{}),F=mo(),re=T(!1),se=async(a=null)=>{var U,j;const s=a||n.value,I=v.value.addressLpTokens[s.poolAddress];if(I){const D=await C.value.getTickDataByIndex(I.ticks_handle||((U=s==null?void 0:s.poolInfo)==null?void 0:U.ticks_handle),Number(s.tick_lower_index)),X=await C.value.getTickDataByIndex(I.ticks_handle||((j=s==null?void 0:s.poolInfo)==null?void 0:j.ticks_handle),Number(s.tick_upper_index));let ee={};r.value==="Aptos"?ee=await C.value.getPosRewardersAmount({poolAddress:h.currentRoute.value.query.address,positionName:h.currentRoute.value.query.token,tickLowerData:D,tickUpperData:X}):ee=await C.value.fetchPosRewardersAmount({poolAddress:s.poolAddress,positionId:s.pos_object_id||s.clmm_position_id,coinTypeA:s.coin_type_a||s.coinTypeA,coinTypeB:s.coin_type_b||s.coinTypeB,rewarderInfo:s.poolInfo.rewarder_infos});const ue=[];let fe=new p(0);ee.forEach((we,N)=>{var A,Y;const M=(A=v.value.tokensObj[we.coin_address])==null?void 0:A.decimals,ce=we.amount_owed.toString();let pe=new p(ce).div(Math.pow(10,M)).toString();if(r.value=="Aptos"&&Number(pe)>999999999&&(pe="0"),s.poolInfo[`rewarder_display${N+1}`]||Number(pe)>0){const R=v.value.tokensObj[we.coin_address],ae=((Y=v.value.RATES[we.coin_address])==null?void 0:Y.price)||0,ie=new p(pe).mul(ae).toString();fe=new p(fe).plus(ie),ue.push({...we,...R,amount:Number(pe)>0?pe:0,amountUSD:Number(ie)>0?$e(ie,2):0,amountUSDText:ie})}}),i.value=ue}};ye(()=>[v.value.currentPositionInfo,r.value],([a,s])=>{var I;s=="Aptos"&&a?(n.value=a,m.value=a==null?void 0:a.token_a,k.value=a==null?void 0:a.token_b):s=="Sui"&&a&&(a==null?void 0:a.nftHash)==((I=F==null?void 0:F.query)==null?void 0:I.pos)&&(n.value=a,m.value=a==null?void 0:a.token_a,k.value=a==null?void 0:a.token_b,re.value=!1)},{immediate:!0}),ye(()=>[n.value,v.value.addressLpTokens],([a,s])=>{!ve(a)&&!ve(s)&&se(a)},{immediate:!0});const Q=b(()=>{var a,s,I,U,j,D,X,ee;if(n.value&&!ve(n.value)&&v.value.RATES){const ue=n.value.amountA*((s=v.value.RATES[(a=n.value)==null?void 0:a.token_a.address])==null?void 0:s.price),fe=n.value.amountB*((U=v.value.RATES[(I=n.value)==null?void 0:I.token_b.address])==null?void 0:U.price);if((D=v.value.RATES[(j=n.value)==null?void 0:j.token_a.address])!=null&&D.price&&((ee=v.value.RATES[(X=n.value)==null?void 0:X.token_b.address])!=null&&ee.price)){const we=Number(ue+fe);return we>0&&we<.01?"<0.01":J(Me(ue+fe,2),2)}else return" --"}else return" --"}),f=b(()=>{var a,s;return(s=(a=n.value)==null?void 0:a.poolInfo)==null?void 0:s.needReverse}),w=b(()=>v.value.RATES),B=b(()=>{var a,s;if(w.value&&m.value&&k.value&&!ve(w.value)&&!ve(m.value)&&!ve(k.value)){const I=[],U=Number(n.value.feeOwedA)||0,j=Number(n.value.feeOwedB)||0,D=new p(U).mul(((a=w.value[m.value.address])==null?void 0:a.price)||0),X=new p(j).mul(((s=w.value[k.value.address])==null?void 0:s.price)||0);return I.push({amount:U,amountUSD:D.toString()},{amount:j,amountUSD:X.toString()}),I}return[]}),t=b(()=>{var s,I;let a=new p(0);return(s=B==null?void 0:B.value)==null||s.forEach(U=>{a=a.add(new p(U.amount))}),r.value=="Sui"&&((I=i==null?void 0:i.value)==null||I.forEach(U=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-position-liquidity.vue:622 ~ canClaimYield ~ ele:",U),a=a.add(new p(U.amount))})),a.toNumber()}),y=b(()=>{var s,I;let a=new p(0);return(s=B==null?void 0:B.value)==null||s.forEach(U=>{a=a.add(new p(U.amountUSD))}),r.value=="Sui"&&((I=i==null?void 0:i.value)==null||I.forEach(U=>{a=a.add(new p(U.amountUSDText))})),a.toNumber()}),d=b(()=>{var s;let a=new p(0);return(s=i.value)==null||s.forEach(I=>{a=a.add(new p(I.amountUSDText))}),a.toNumber()}),h=ao(),i=T([]),{setIsShowSuccess:oe,setIsShowRejected:K,setIsShowWaiting:ne,setTransactionDesc:W,setTransactionTxid:_}=Z,q=uo(),P=b(()=>q),H=async()=>{re.value=!0;let a={coinTypeA:n.value.poolInfo.coinTypeA,coinTypeB:n.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:n.value.poolAddress,pos_index:n.value.index,rewarder_nums:i.value.length,collect_fee:!0};a.coinTypeC=i.value[0]?i.value[0].coin_address:"",a.coinTypeD=i.value[1]?i.value[1].coin_address:"",a.coinTypeE=i.value[2]?i.value[2].coin_address:"",ne(!0),W();try{let s;if(r.value==="Aptos"){const I=await C.value.getCollectRewarderTransactionPayload(a);s=await P.value.currentWallet.signAndSubmitTransaction(I)}else{a.pos_index=n.value.pos_object_id;const I=await C.value.getCollectRewarderTransactionPayload(a,n.value),U=await C.value.signAndExecuteTransactionBlock(P.value.currentWallet,I.txb,I.payloadParams);s=C.value.handleTx(U)}if(s&&s.hash){_(s.hash),ne(!1),oe(!0);const I={title:"Claim",desc:"",hash:s.hash,tit:"Rewards Claimed",icon:"icon-icon-Removed"};r.value!=="Aptos"&&(I.res=s.res),C.value.showTransitionPending(I),await C.value.watchTransaction(I)&&(u.emit("getDetails"),setTimeout(()=>{C.value.getAccount(P.value.address)},3e3))}else console.log("0310###toClaimRewards###else###"),ne(!1),K(!0),re.value=!1}catch(s){ne(!1),K(!0),re.value=!1,console.log(s,"error===>")}},x=T(!1),G=async()=>{x.value=!0;const a=i.value;let s={coinTypeA:n.value.poolInfo.coinTypeA,coinTypeB:n.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:n.value.poolAddress,pos_index:n.value.index,rewarder_nums:a.length};s.coinTypeC=a[0]?a[0].coin_address:"",s.coinTypeD=a[1]?a[1].coin_address:"",s.coinTypeE=a[2]?a[2].coin_address:"";try{let I;if(r.value==="Aptos"){const U=await C.value.getCollectRewarderTransactionPayload(s);I=await P.value.currentWallet.signAndSubmitTransaction(U)}else{s.pos_index=n.value.pos_object_id;const U=await C.value.getCollectRewarderTransactionPayload(s),j=await C.value.signAndExecuteTransactionBlock(P.value.currentWallet,U.txb,U.payloadParams);I=C.value.handleTx(j)}if(I&&I.hash){_(I.hash),ne(!1),oe(!0);const U=a[0].amount+a[0].symbol,j=s.coinTypeD?" and "+a[1].amount+a[1].symbol:"",D=s.coinTypeE?" and "+a[2].amount+a[2].symbol:"",X={title:"Claim",desc:"",hash:I.hash,tit:"Rewards Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:a[0].address,numa:`+ ${Number(a[0].amount)}`,logoa:v.value.tokensObj&&a[0]&&a[0].address&&v.value.tokensObj[a[0].address]&&v.value.tokensObj[a[0].address].logoURI,tokenb:a[1]&&a[1].address,numb:s.coinTypeD?`+ ${Number(a[1].amount)}`:"",logob:s.coinTypeD?v.value.tokensObj&&a[1]&&a[1].address&&v.value.tokensObj[a[1].address]&&v.value.tokensObj[a[1].address].logoURI:"",tokenc:a[2]&&a[2].address,numc:s.coinTypeE?`+ ${Number(a[2].amount)}`:"",logoc:s.coinTypeE?v.value.tokensObj&&a[2]&&a[2].address&&v.value.tokensObj[a[2].address]&&v.value.tokensObj[a[2].address].logoURI:""},text:U+j+D};r.value!=="Aptos"&&(X.res=I.res),C.value.showTransitionPending(X),await C.value.watchTransaction(X)&&setTimeout(()=>{u.emit("getDetails"),C.value.getAccount(P.value.address)},3e3)}else console.log("0310###toClaimRewards###else###"),ne(!1),K(!0);x.value=!1}catch(I){console.log("0310###collectRewarderParams Error###",I),x.value=!1,ne(!1),K(!0)}},te=b(()=>v.value.positionDetailCurrentTab),V=b(()=>{var I,U,j,D,X,ee;const a=ke(f.value?(U=n.value)==null?void 0:U.amountB:(I=n.value)==null?void 0:I.amountA,f.value?(ee=(X=n.value)==null?void 0:X.token_b)==null?void 0:ee.decimals:(D=(j=n.value)==null?void 0:j.token_a)==null?void 0:D.decimals),s=f.value?v.value.positionActionAmount.toCoinAmount||0:v.value.positionActionAmount.fromCoinAmount||0;if(te.value=="increase")return s?new p(a).add(new p(s)).toString():"";if(s){const ue=new p(a).minus(new p(s)).toString();return ue<0?"0":String(ue)}else return""}),be=b(()=>{var I,U,j,D,X,ee;const a=ke(f.value?(U=n.value)==null?void 0:U.amountA:(I=n.value)==null?void 0:I.amountB,f.value?(ee=(X=n.value)==null?void 0:X.token_a)==null?void 0:ee.decimals:(D=(j=n.value)==null?void 0:j.token_b)==null?void 0:D.decimals),s=f.value?v.value.positionActionAmount.fromCoinAmount||0:v.value.positionActionAmount.toCoinAmount||0;if(te.value=="increase")return s?new p(a).add(new p(s)).toString():"";if(s){const ue=new p(a).minus(new p(s)).toString();return ue<0?"0":String(ue)}else return""}),L=b(()=>f.value?v.value.positionActionAmount.toCoinAmount:v.value.positionActionAmount.fromCoinAmount),ge=b(()=>f.value?v.value.positionActionAmount.fromCoinAmount:v.value.positionActionAmount.toCoinAmount),Ie=a=>{var s;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((s=v.value.tokensObj[a==null?void 0:a.address])==null?void 0:s.logo_url)||($.value.theme==="default"?no("/image/coins/unknown.png"):no("/image/coins/sui-unknown.png"))},Le=b(()=>{var D,X,ee,ue,fe,we,N,M,ce,pe,A,Y;const{fromCoinAmount:a,toCoinAmount:s}=v.value.positionActionAmount,I=v.value.positionDetailCurrentTab,U=ke(f.value?(X=n.value)==null?void 0:X.amountB:(D=n.value)==null?void 0:D.amountA,f.value?(we=(fe=n.value)==null?void 0:fe.token_b)==null?void 0:we.decimals:(ue=(ee=n.value)==null?void 0:ee.token_a)==null?void 0:ue.decimals),j=ke(f.value?(M=n.value)==null?void 0:M.amountA:(N=n.value)==null?void 0:N.amountB,f.value?(Y=(A=n.value)==null?void 0:A.token_a)==null?void 0:Y.decimals:(pe=(ce=n.value)==null?void 0:ce.token_b)==null?void 0:pe.decimals);return r.value=="Sui"||I=="remove"&&r.value=="Aptos"&&a==U&&s==j}),Ue=async()=>{re.value=!0;const a=J(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${$e(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`,s=J(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${$e(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`;W(l("newAdd.claimWaitingText",{from:f.value?s:a,and:J(n.value.feeOwedA,n.value.token_a.decimals)==0||J(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and",to:f.value?a:s})),ne(!0);let I;const U={pool:n.value.poolInfo,position:n.value};try{const j=await C.value.getCollectFeeTransactionPayload(U);if(r.value==="Aptos")I=await P.value.currentWallet.signAndSubmitTransaction(j);else{const D=await C.value.signAndExecuteTransactionBlock(P.value.currentWallet,j);I=C.value.handleTx(D)}if(I){_(I.hash),ne(!1),oe(!0);const D={title:"Claim",desc:"",hash:I.hash,tit:"Fees Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:`${n.value.token_a.address}`,numa:J(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${$e(n.value.feeOwedA,n.value.token_a.decimals)}`,logoa:J(n.value.feeOwedA,n.value.token_a.decimals)==0?"":v.value.tokensObj&&n.value&&n.value.token_a.address&&v.value.tokensObj[n.value.token_a.address]&&v.value.tokensObj[n.value.token_a.address].logoURI,tokenb:`${n.value.token_b.address}`,numb:J(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${$e(n.value.feeOwedB,n.value.token_b.decimals)}`,logob:J(n.value.feeOwedB,n.value.token_b.decimals)==0?"":v.value.tokensObj&&n.value&&n.value.token_b.address&&v.value.tokensObj[n.value.token_b.address]&&v.value.tokensObj[n.value.token_b.address].logoURI},text:`Claim ${J(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${$e(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`}  
              ${J(n.value.feeOwedA,n.value.token_a.decimals)==0||J(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and"} ${J(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${$e(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`}

            `};r.value!=="Aptos"&&(D.res=I.res),C.value.showTransitionPending(D);const X=await C.value.watchTransaction(D);console.log("0310##toClaim###transitionStatus####",X),X&&setTimeout(()=>{u.emit("getDetails")},1e3)}else ne(!1),K(!0),c.error({icon:Ge("svg",{class:{icon:!0},"aria-hidden":!0},[Ge("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:Ge("div",{class:"notification-title"},[Ge("span",{innerHTML:wo.global.t("newAdd.claimFailed")},null)]),description:l("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});re.value=!1,console.log("claim####test###",I)}catch(j){console.log("claim###error####",j),re.value=!1,ne(!1),K(!0),c.error({icon:Ge("svg",{class:{icon:!0},"aria-hidden":!0},[Ge("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:Ge("div",{class:"notification-title"},[Ge("span",{innerHTML:wo.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:l("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},Se=Ge(Jo,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});return{amountUSD:Q,needReverse:f,decimalUi:ke,pendingFees:B,positionInfo:n,pendingRewarderArr:i,pendingYieldAmount:y,toClaim:Ue,claimAll:H,fromCoin:m,toCoin:k,showNum:$e,claimLoading:re,addCommom:J,afterBase:V,afterQuote:be,fromCoinAmount:L,toCoinAmount:ge,checkNullObj:ve,getCoinIcon:Ie,chainName:r,isShowAfterAmount:Le,pendingRewarderAmount:d,toClaimRewards:G,rewarderLoading:x,indicator:Se,canClaimYield:t}}});const Jt={class:"liquidity-card"},Qt={class:"liquidity-title"},Kt={class:"liquidity-usd"},Zt=o("span",null,"Liquidity",-1),Vt={class:"liquidity-ratio"},xt={class:"coin-ratio"},ei={class:"coin-a-ratio"},oi={class:"coin-b-ratio"},ni={class:"ratio-progress"},ti={class:"base-quote-num"},ii={class:"base-coin-num"},ai=o("span",null,"Base",-1),si={alt:""},li={key:0,class:"after"},ri={class:"quote-coin-num"},ui=o("span",null,"Quote",-1),di={alt:""},ci={key:0,class:"after"},mi={class:"pending-yield"},vi={class:"left"},fi={class:"pending-yield-title"},pi={key:0,class:"after"},hi={class:"right"},bi={class:"fees-rewards"},gi={class:"fees-rewards-item"},ki=o("span",null,"Fees",-1),wi={key:0,class:"after"},_i=o("span",null,"Fees",-1),yi={key:0,class:"after"},Ii=o("span",null,"Mining Rewards",-1),Ai={style:{"margin-top":"5px"}},Ci={alt:""},Si=o("span",null,"Mining Rewards",-1),$i={alt:""},Pi={key:0,class:"after"},Ti={key:0,class:"pending-yield"},Ni={class:"left"},Ri=o("div",{class:"pending-yield-title"},"Pending rewards",-1),Oi={key:0,class:"after"},qi={class:"right"},Bi={key:1,class:"fees-rewards"},Li={class:"fees-rewards-item"},Ui=o("span",null,"Mining Rewards",-1),Mi={alt:""},ji={key:0,class:"after"};function Di(e,u,l,c,Z,$){var k,r,C,F,re,se,Q,f,w,B,t,y,d,h,i,oe,K,ne,W,_,q,P,H,x,G,te,V,be,L,ge,Ie,Le,Ue,Se,a,s,I,U,j,D,X,ee,ue,fe,we,N,M,ce,pe,A,Y,R,ae,ie,_e,Te,Ce,Re,De,Ee,Qe,Oe,je,Fe,We,Ke,Ae;const O=vo,v=ro,n=Qo,m=bo("image");return g(),S("div",Jt,[o("div",Qt,[o("div",Kt,[Zt,o("div",null,"$"+E(e.amountUSD),1)]),o("div",Vt,[o("div",xt,[o("div",ei,[o("span",null,E(e.needReverse?(r=e.toCoin)==null?void 0:r.symbol:(k=e.fromCoin)==null?void 0:k.symbol),1),me(" "+E(e.needReverse?(F=e.positionInfo)==null?void 0:F.toPercent:(C=e.positionInfo)==null?void 0:C.fromPercent)+"% ",1)]),o("div",oi,[o("span",null,E(e.needReverse?(se=e.fromCoin)==null?void 0:se.symbol:(re=e.toCoin)==null?void 0:re.symbol),1),me(" "+E(e.needReverse?(f=e.positionInfo)==null?void 0:f.fromPercent:(Q=e.positionInfo)==null?void 0:Q.toPercent)+"% ",1)])]),o("div",ni,[o("div",{class:"from-percent",style:_o({width:e.needReverse?((B=e.positionInfo)==null?void 0:B.toPercent)+"%":((w=e.positionInfo)==null?void 0:w.fromPercent)+"%"})},null,4),o("div",{class:"to-percent",style:_o({width:e.needReverse?((y=e.positionInfo)==null?void 0:y.fromPercent)+"%":((t=e.positionInfo)==null?void 0:t.toPercent)+"%"})},null,4)])])]),o("div",ti,[o("div",ii,[ai,o("div",null,[Pe(o("img",si,null,512),[[m,(e.needReverse?(h=e.toCoin)==null?void 0:h.logo_url:(d=e.fromCoin)==null?void 0:d.logo_url)||e.getCoinIcon(e.needReverse?(oe=e.positionInfo)==null?void 0:oe.token_b:(i=e.positionInfo)==null?void 0:i.token_a)]]),le(O,{address:e.needReverse?(_=(W=e.positionInfo)==null?void 0:W.token_b)==null?void 0:_.address:(ne=(K=e.positionInfo)==null?void 0:K.token_a)==null?void 0:ne.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),o("span",null,E(("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.needReverse?(P=e.positionInfo)==null?void 0:P.amountB:(q=e.positionInfo)==null?void 0:q.amountA,e.needReverse?(te=(G=e.positionInfo)==null?void 0:G.token_b)==null?void 0:te.decimals:(x=(H=e.positionInfo)==null?void 0:H.token_a)==null?void 0:x.decimals))),1)]),e.afterBase&&!("checkNullObj"in e?e.checkNullObj:z(ve))(e.positionInfo)?(g(),S("div",li,E(("addCommom"in e?e.addCommom:z(J))(e.afterBase))+" after ",1)):de("",!0)]),o("div",ri,[ui,o("div",null,[Pe(o("img",di,null,512),[[m,(e.needReverse?(be=e.fromCoin)==null?void 0:be.logo_url:(V=e.toCoin)==null?void 0:V.logo_url)||e.getCoinIcon(e.needReverse?(ge=e.positionInfo)==null?void 0:ge.token_a:(L=e.positionInfo)==null?void 0:L.token_b)]]),le(O,{address:e.needReverse?(Se=(Ue=e.positionInfo)==null?void 0:Ue.token_a)==null?void 0:Se.address:(Le=(Ie=e.positionInfo)==null?void 0:Ie.token_b)==null?void 0:Le.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),o("span",null,E(("addCommom"in e?e.addCommom:z(J))(("decimalUi"in e?e.decimalUi:z(ke))(e.needReverse?(s=e.positionInfo)==null?void 0:s.amountA:(a=e.positionInfo)==null?void 0:a.amountB,e.needReverse?(D=(j=e.positionInfo)==null?void 0:j.token_a)==null?void 0:D.decimals:(U=(I=e.positionInfo)==null?void 0:I.token_b)==null?void 0:U.decimals))),1)]),e.afterQuote&&!("checkNullObj"in e?e.checkNullObj:z(ve))(e.positionInfo)?(g(),S("div",ci,E(("addCommom"in e?e.addCommom:z(J))(e.afterQuote))+" after ",1)):de("",!0)])]),o("div",mi,[o("div",vi,[o("div",fi,E(e.chainName=="Sui"?"Pending Yield":"Pending fees"),1),o("div",null,[me(" $"+E(e.pendingYieldAmount>0&&e.pendingYieldAmount<.01?"<0.01":("addCommom"in e?e.addCommom:z(J))(e.pendingYieldAmount,2))+" ",1),e.pendingYieldAmount>0?(g(),S("span",pi,"$0 after")):de("",!0)])]),o("div",hi,[le(v,{class:"claim-all",loading:e.claimLoading,disabled:e.claimLoading||e.canClaimYield==0,onClick:u[0]||(u[0]=he=>e.chainName=="Sui"?e.claimAll():e.toClaim())},{default:Be(()=>[me("Claim")]),_:1},8,["loading","disabled"])])]),o("div",bi,[o("div",gi,[o("div",null,[ki,o("div",null,[Pe(o("img",null,null,512),[[m,(e.needReverse?(ee=e.toCoin)==null?void 0:ee.logo_url:(X=e.fromCoin)==null?void 0:X.logo_url)||e.getCoinIcon(e.needReverse?(fe=e.positionInfo)==null?void 0:fe.token_b:(ue=e.positionInfo)==null?void 0:ue.token_a)]]),le(O,{address:e.needReverse?(ce=(M=e.positionInfo)==null?void 0:M.token_b)==null?void 0:ce.address:(N=(we=e.positionInfo)==null?void 0:we.token_a)==null?void 0:N.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),o("span",null,E(e.needReverse?("showNum"in e?e.showNum:z($e))(e.positionInfo.feeOwedB,(R=(Y=e.positionInfo)==null?void 0:Y.token_b)==null?void 0:R.decimals):("showNum"in e?e.showNum:z($e))(e.positionInfo.feeOwedA,(A=(pe=e.positionInfo)==null?void 0:pe.token_a)==null?void 0:A.decimals)),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:z(ve))(e.positionInfo)&&e.isShowAfterAmount?(g(),S("div",wi," 0 after ")):de("",!0)]),o("div",null,[_i,o("div",null,[Pe(o("img",null,null,512),[[m,(e.needReverse?(ie=e.fromCoin)==null?void 0:ie.logo_url:(ae=e.toCoin)==null?void 0:ae.logo_url)||e.getCoinIcon(e.needReverse?(Te=e.positionInfo)==null?void 0:Te.token_a:(_e=e.positionInfo)==null?void 0:_e.token_b)]]),le(O,{address:e.needReverse?(Ee=(De=e.positionInfo)==null?void 0:De.token_a)==null?void 0:Ee.address:(Re=(Ce=e.positionInfo)==null?void 0:Ce.token_b)==null?void 0:Re.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),o("span",null,E(e.needReverse?("showNum"in e?e.showNum:z($e))(e.positionInfo.feeOwedA,(Fe=(je=e.positionInfo)==null?void 0:je.token_a)==null?void 0:Fe.decimals):("showNum"in e?e.showNum:z($e))(e.positionInfo.feeOwedB,(Oe=(Qe=e.positionInfo)==null?void 0:Qe.token_b)==null?void 0:Oe.decimals)),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:z(ve))(e.positionInfo)&&e.isShowAfterAmount?(g(),S("div",yi," 0 after ")):de("",!0)]),e.chainName=="Sui"?(g(),S(Ze,{key:0},[e.pendingRewarderArr.length==0&&((Ae=(Ke=(We=e.positionInfo)==null?void 0:We.poolInfo)==null?void 0:Ke.rewarderInfo)==null?void 0:Ae.length)>0?(g(!0),S(Ze,{key:0},oo(e.positionInfo.poolInfo.rewarderInfo,he=>(g(),S("div",{key:he.coinAddress},[Ii,o("div",Ai,[Pe(o("img",Ci,null,512),[[m,e.getCoinIcon({address:he.coinAddress})]]),le(O,{address:he.coinAddress,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),le(n,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])]))),128)):de("",!0),(g(!0),S(Ze,null,oo(e.pendingRewarderArr,he=>(g(),S("div",{key:he},[Si,o("div",null,[Pe(o("img",$i,null,512),[[m,he.logo_url]]),le(O,{address:he.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),o("span",null,E(he.amount>0?("showNum"in e?e.showNum:z($e))(he.amount,he.decimals):0),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:z(ve))(e.positionInfo)&&e.isShowAfterAmount?(g(),S("div",Pi," 0 after ")):de("",!0)]))),128))],64)):de("",!0)])]),e.chainName=="Aptos"&&e.pendingRewarderAmount>0?(g(),S("div",Ti,[o("div",Ni,[Ri,o("div",null,[me(" $"+E(e.pendingRewarderAmount>0&&e.pendingRewarderAmount<.01?"<0.01":("addCommom"in e?e.addCommom:z(J))(e.pendingRewarderAmount,2))+" ",1),e.pendingRewarderAmount>0?(g(),S("span",Oi,"$0 after")):de("",!0)])]),o("div",qi,[le(v,{class:"claim-all",loading:e.rewarderLoading,disabled:e.rewarderLoading||e.pendingRewarderAmount==0,onClick:e.toClaimRewards},{default:Be(()=>[me("Claim")]),_:1},8,["loading","disabled","onClick"])])])):de("",!0),e.chainName=="Aptos"&&e.pendingRewarderAmount>0?(g(),S("div",Bi,[o("div",Li,[(g(!0),S(Ze,null,oo(e.pendingRewarderArr,he=>(g(),S("div",{key:he},[Ui,o("div",null,[Pe(o("img",Mi,null,512),[[m,he.logo_url]]),le(O,{address:he.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),o("span",null,E(he.amount),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:z(ve))(e.positionInfo)&&e.isShowAfterAmount?(g(),S("div",ji," 0 after ")):de("",!0)]))),128))])])):de("",!0)])}const jo=ze(Gt,[["render",Di]]),Ei=Ye({components:{AssetsCard:fo},setup(e,u){const l=T(""),c=T(""),Z=Xe(),$=b(()=>Z),O=b(()=>$.value.theme),v=Ve(),n=b(()=>v),m=T(!1),k=T(!1),r=T(!0),C=b(()=>$.value.chainName),F=b(()=>C.value?xe(C.value):{}),re=uo(),se=b(()=>re),Q=b(()=>$.value.slippage),f=T(),w=T(),B=b(()=>se.value.assets&&f.value&&se.value.assets[f.value.address]?yo(se.value.assets[f.value.address].balance,f.value.decimals):0),t=b(()=>se.value.assets&&w.value&&se.value.assets[w.value.address]?yo(se.value.assets[w.value.address].balance,w.value.decimals):0),y=s=>{s==="fromCoin"?(r.value=!0,C.value==="Aptos"?l.value=B.value>0?f.value.symbol=="APT"?new p(Number(B.value)).sub(new p(.1)).lt(new p(0))?"0":new p(Number(B.value)).sub(new p(.1)).toString():String(B.value):"":l.value=B.value>0?f.value.symbol=="SUI"?new p(Number(B.value)).sub(new p(.05)).lt(new p(0))?"0":new p(Number(B.value)).sub(new p(.05)).toString():String(B.value):""):(r.value=!1,C.value==="Aptos"?c.value=t.value>0?w.value.symbol=="APT"?new p(Number(t.value)).sub(new p(.1)).lt(new p(0))?"0":new p(Number(t.value)).sub(new p(.1)).toString():String(t.value):"":c.value=t.value>0?w.value.symbol=="SUI"?new p(Number(t.value)).sub(new p(.05)).lt(new p(0))?"0":new p(Number(t.value)).sub(new p(.05)).toString():String(t.value):"")},d=s=>{s==="fromCoin"?(r.value=!0,l.value=Me(new p(Number(B.value)).div(2).toString(),f.value.decimals).toString()):(r.value=!1,c.value=Me(new p(Number(t.value)).div(2).toString(),w.value.decimals).toString())},h=T({}),i=T(!0),oe=T({}),K=T(),ne=T(),W=()=>{var M;if(!h.value||!l.value&&!c.value)return;const{TickMath:s,TickUtil:I}=F.value;let U=h.value.minPrice,j=h.value.maxPrice.indexOf("+")>0?"âˆž":h.value.maxPrice,D=Number(h.value.tick_lower_index),X=Number(h.value.tick_upper_index);const ee=Number(h.value.current_tick_index);let ue,fe,we=Number(U).toString(),N=h.value.maxPrice.indexOf("+")>0||h.value.maxPrice==="âˆž"?"âˆž":Number(j);if(we=="0"&&N=="âˆž"?(D=Number(h.value.tick_lower_index),X=Number(h.value.tick_upper_index)):(ue=s.priceToSqrtPriceX64(new p(U),f.value.decimals,w.value.decimals),fe=s.priceToSqrtPriceX64(new p(j),f.value.decimals,w.value.decimals)),K.value=D,ne.value=X,j!=="âˆž"&&D>=X){m.value=!0,l.value="",k.value=!0,c.value="";return}if(j=="âˆž"||ee>=D&&ee<X){m.value=!1,k.value=!1;let ce;if(l.value||c.value){if(r.value){const ie=new p(l.value).mul(Math.pow(10,f.value.decimals)).toString();ce=new qe(ie)}else{const ie=new p(c.value).mul(Math.pow(10,w.value.decimals)).toString();ce=new qe(ie)}const{liquidityAmount:pe,tokenMaxA:A,tokenMaxB:Y,tokenMaxAOrigin:R,tokenMaxBOrigin:ae}=F.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:f.value,tokenB:w.value,lowerTick:D,upperTick:X,coinAmount:ce,iscoinA:i.value?r.value:!r.value,roundUp:!0,slippage:Number(Q.value)/100,curSqrtPrice:new qe(h.value.current_sqrt_price)});oe.value={liquidityAmount:pe,tokenMaxA:A,tokenMaxB:Y,tokenMaxAOrigin:R,tokenMaxBOrigin:ae},i.value?r.value?c.value=Number(Y)>0?Y:"":l.value=Number(A)>0?A:"":r.value?c.value=A:l.value=Y}}else if(ee>=X){if(l.value="",m.value=!0,k.value=!1,l.value||c.value){let ce;const pe=new p(c.value).mul(Math.pow(10,(M=w.value)==null?void 0:M.decimals)).toString();ce=new qe(pe),oe.value={liquidityAmount:Ro(ue,fe,ce),tokenMaxA:0,tokenMaxB:c.value}}}else if(ee<D){if(m.value=!1,k.value=!0,c.value="",l.value||c.value){let ce;const pe=new p(l.value).mul(Math.pow(10,f.value.decimals)).toString();ce=new qe(pe),oe.value={liquidityAmount:Oo(ue,fe,ce),tokenMaxA:l.value,tokenMaxB:0}}}else m.value=!0,l.value="",k.value=!0,c.value="";v.setPositionActionAmount({fromCoinAmount:l,toCoinAmount:c})};ye(()=>n.value.currentPositionInfo,s=>{if(s&&!ve(s)){h.value=s,f.value=h.value.token_a,w.value=h.value.token_b;let I=Number(h.value.tick_lower_index),U=Number(h.value.tick_upper_index);const j=Number(h.value.current_tick_index);(s.maxPrice.indexOf("+")>0||s.maxPrice==="âˆž"?"âˆž":s.maxPrice)=="âˆž"||j>=I&&j<U?(m.value=!1,k.value=!1):j>=U?(l.value="",m.value=!0,k.value=!1):j<I?(m.value=!1,k.value=!0,c.value=""):(m.value=!0,l.value="",k.value=!0,c.value=""),W()}},{immediate:!0}),ye(l,(s,I)=>{s&&W(),s==""&&(c.value="")}),ye(c,(s,I)=>{s&&W(),s==""&&(l.value="")});const _=b(()=>{var s,I;return(I=(s=h.value)==null?void 0:s.poolInfo)==null?void 0:I.needReverse}),q=b(()=>n.value.RATES),P=b(()=>{var X,ee,ue,fe;const s=((ee=q.value[(X=f.value)==null?void 0:X.address])==null?void 0:ee.price)||0,I=((fe=q.value[(ue=w.value)==null?void 0:ue.address])==null?void 0:fe.price)||0,U=new p(s).mul(new p(l.value||0)),j=new p(I).mul(new p(c.value||0)),D=U.add(j);return D.toNumber()?D.toNumber()>0&&D.toNumber()>.01?J(D.toString(),2):"<0.01":"--"}),H=T(!1),{t:x,locale:G}=go(),te=b(()=>{const s=Number(l.value)>Number(B.value),I=Number(c.value)>Number(t.value);return!l.value&&!c.value?x("button.enterAmount"):s?x("button.insufficientBalance",{name:f.value.symbol}):I?x("button.insufficientBalance",{name:w.value.symbol}):x("newAdd.addMore")}),V=b(()=>{const s=Number(l.value)>Number(B.value),I=Number(c.value)>Number(t.value);return!!(!l.value&&!c.value||s||I)}),{setIsShowSuccess:be,setIsShowRejected:L,setIsShowWaiting:ge,setTransactionDesc:Ie,setTransactionTxid:Le,setPositiomNum:Ue}=Z,Se=T(!1);return{theme:O,showFromCoinLock:m,showToCoinLock:k,toCoinAmount:c,fromCoinAmount:l,fromCoinBlance:B,toCoinBlance:t,fromCoin:f,toCoin:w,maxBtnSelect:y,halfBtnSelect:d,fixedFromCoin:r,needReverse:_,totalAmount:P,wallet:se,addLiquidityBtnText:te,isShowLiquidityModal:H,indexStore:Z,positionInfo:h,actionLoading:Se,toAdd:async()=>{var X,ee,ue,fe,we,N,M,ce,pe,A,Y,R;H.value=!1,Se.value=!0,Le("");const s=m.value?"":`${l.value} ${(X=f.value)==null?void 0:X.symbol}`,I=k.value?"":`${c.value} ${(ee=w.value)==null?void 0:ee.symbol}`;Ie(x("tips.increaseLiquiditySuccess",{from:_.value?I:s,and:!m.value&&!k.value?"and":"",to:_.value?s:I})),ge(!0);const U=r.value,j=h.value.poolInfo.rewarder_infos;let D={};D.coinTypeC=j[0]?j[0].coinAddress:"",D.coinTypeD=j[1]?j[1].coinAddress:"",D.coinTypeE=j[2]?j[2].coinAddress:"";try{const ae=await F.value.getAddLiquidityTransactionPayload({pool:{poolAddress:h.value.poolAddress,token_a:h.value.token_a,token_b:h.value.token_b},amount:U?oe.value.tokenMaxA:oe.value.tokenMaxB,fix_amount_a:U,tick_lower:K.value,tick_upper:ne.value,index:C.value==="Aptos"?h.value.index:h.value.pos_object_id,slippage:Number(Q.value)/100,roundUp:!0,collect_fee:!0,...D,curSqrtPrice:new qe(h==null?void 0:h.value.poolInfo.current_sqrt_price),positionInfo:h});let ie;if(C.value==="Aptos")ie=await se.value.currentWallet.signAndSubmitTransaction(ae);else{const _e=await F.value.signAndExecuteTransactionBlock(se.value.currentWallet,ae==null?void 0:ae.txb,ae==null?void 0:ae.payloadParams);ie=F.value.handleTx(_e)}if(console.log("toAdd###tx###",ie),ie&&ie.hash){Le(ie.hash),ge(!1),be(!0);const _e={title:"Supplied",desc:x("tips.addLiquiditySuccessText",{from:m.value?"":`${_.value?c.value:l.value} ${_.value?(fe=w==null?void 0:w.value)==null?void 0:fe.symbol:(ue=f.value)==null?void 0:ue.symbol}`,and:!m.value&&!k.value?"and":"",to:k.value?"":`${_.value?l.value:c.value} ${_.value?(N=f==null?void 0:f.value)==null?void 0:N.symbol:(we=w.value)==null?void 0:we.symbol}`}),hash:ie.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",tokenInfo:{tokena:_.value?`${(ce=w.value)==null?void 0:ce.address}`:`${(M=f.value)==null?void 0:M.address}`,numa:_.value?`- ${c.value}`:`- ${l.value}`,logoa:_.value?n.value.tokensObj&&w.value&&w.value.address&&n.value.tokensObj[w.value.address]&&n.value.tokensObj[w.value.address].logoURI:n.value.tokensObj&&f.value&&f.value.address&&n.value.tokensObj[f.value.address]&&n.value.tokensObj[f.value.address].logoURI,tokenb:_.value?`${(A=f.value)==null?void 0:A.address}`:`${(pe=w.value)==null?void 0:pe.address}`,numb:_.value?`- ${l.value}`:`- ${c.value}`,logob:_.value?n.value.tokensObj&&f.value&&f.value.address&&n.value.tokensObj[f.value.address]&&n.value.tokensObj[f.value.address].logoURI:n.value.tokensObj&&w.value&&w.value.address&&n.value.tokensObj[w.value.address]&&n.value.tokensObj[w.value.address].logoURI},text:`Deopsit ${m.value?"":`${l.value} ${(Y=f.value)==null?void 0:Y.symbol}`} ${!m.value&&!k.value?"and":""} ${k.value?"":`${c.value} ${(R=w.value)==null?void 0:R.symbol}`}`};C.value!=="Aptos"&&(_e.res=ie.res),F.value.showTransitionPending(_e),await F.value.watchTransaction(_e)&&setTimeout(()=>{u.emit("getDetails"),F.value.getAccount(se.value.address)},1e3),Ue()}else ge(!1),L(!0);l.value="",c.value="",Se.value=!1}catch(ae){l.value="",c.value="",console.log("addError###",ae),Se.value=!1,ge(!1),L(!0)}},addLiquidityBtnDisabled:V,poolStore:v}}});const Fi={class:"new-position-asset"},Wi={class:"add-or-remove"},Hi={class:"liquidity-action-tab"},Xi=o("div",{class:"increase tab-active"}," Increase ",-1),Yi={class:"card-item"},zi={class:"card-item"},Gi={key:0,class:"add",src:mn},Ji={key:1,class:"add",src:vn},Qi={class:"total-amount"},Ki=o("span",null,"Total Amount",-1);function Zi(e,u,l,c,Z,$){var k;const O=fo,v=dn,n=ro,m=cn;return g(),S("div",Fi,[o("div",Wi,[o("div",Hi,[Xi,o("div",{class:"remove",onClick:u[0]||(u[0]=r=>e.poolStore.setPositionDetailCurrentTab("remove"))}," Remove ")]),o("div",{class:co(e.needReverse?"card-container reverse":"card-container")},[o("div",Yi,[le(O,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":u[1]||(u[1]=r=>e.fromCoinAmount=r),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:u[2]||(u[2]=r=>e.maxBtnSelect("fromCoin")),onOnHalf:u[3]||(u[3]=r=>e.halfBtnSelect("fromCoin")),onOnInput:u[4]||(u[4]=r=>{e.fromCoinAmount=r}),onOnFocus:u[5]||(u[5]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(g(),Ne(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])):de("",!0)]),o("div",zi,[le(O,{modelValue:e.toCoinAmount,"onUpdate:modelValue":u[6]||(u[6]=r=>e.toCoinAmount=r),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:u[7]||(u[7]=r=>e.maxBtnSelect("toCoin")),onOnHalf:u[8]||(u[8]=r=>e.halfBtnSelect("toCoin")),onOnInput:u[9]||(u[9]=r=>{e.toCoinAmount=r}),onOnFocus:u[10]||(u[10]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(g(),Ne(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])):de("",!0)]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme=="default"?(g(),S("img",Gi)):de("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(g(),S("img",Ji)):de("",!0)],2),o("div",Qi,[Ki,o("span",null,"$"+E(e.totalAmount),1)])]),e.wallet.connected?(g(),Ne(n,{key:0,class:"big-btn liquidity-btn",disabled:e.addLiquidityBtnDisabled,loading:e.actionLoading,onClick:u[11]||(u[11]=r=>e.isShowLiquidityModal=!0)},{default:Be(()=>[o("span",null,E(e.addLiquidityBtnText),1)]),_:1},8,["disabled","loading"])):(g(),Ne(n,{key:1,class:"big-btn",onClick:u[12]||(u[12]=r=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:Be(()=>[o("span",null,E(e.$t("button.connectWallet")),1)]),_:1})),e.isShowLiquidityModal?(g(),Ne(m,{key:2,title:e.$t("button.increase"),"is-increase":!0,"from-coin":e.needReverse?e.toCoin:e.fromCoin,"to-coin":e.needReverse?e.fromCoin:e.toCoin,"from-coin-amount":e.needReverse?e.toCoinAmount:e.fromCoinAmount,"to-coin-amount":e.needReverse?e.fromCoinAmount:e.toCoinAmount,"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice,"current-price":e.positionInfo.currentPrice,"current-price-reverse":1/e.positionInfo.currentPrice,"pool-info":(k=e.positionInfo)==null?void 0:k.poolInfo,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"position-total-amount":e.positionInfo.totalAmountUSD,"fixed-from-coin":!0,"tick-lower":e.positionInfo.tick_lower_index,"tick-upper":e.positionInfo.tick_upper_index,"current-price-tab":"custom",onToAdd:e.toAdd,onOnClose:u[13]||(u[13]=r=>e.isShowLiquidityModal=!1)},null,8,["title","from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","show-from-coin-lock","show-to-coin-lock","position-total-amount","tick-lower","tick-upper","onToAdd"])):de("",!0)])}const Do=ze(Ei,[["render",Zi]]),Vi=Ye({components:{AssetsCard:fo},setup(e,u){const l=T(""),c=T(""),Z=Xe(),$=b(()=>Z),O=b(()=>$.value.theme),v=Ve(),n=b(()=>v),m=T(!1),k=T(!1),r=T(!0),C=b(()=>$.value.chainName),F=b(()=>C.value?xe(C.value):{}),re=uo(),se=b(()=>re),Q=b(()=>$.value.slippage),f=T(),w=T(),B=b(()=>{var A,Y;return(Y=(A=i.value)==null?void 0:A.poolInfo)==null?void 0:Y.needReverse}),t=b(()=>{var A;return ke(i==null?void 0:i.value.amountA,(A=i==null?void 0:i.value.token_a)==null?void 0:A.decimals)}),y=b(()=>{var A;return ke(i==null?void 0:i.value.amountB,(A=i==null?void 0:i.value.token_b)==null?void 0:A.decimals)}),d=A=>{A==="fromCoin"?(r.value=!0,_.value||(C.value==="Aptos"||console.log(t.value,"213===>"),l.value=String(t.value))):(r.value=!1,_.value||(C.value,c.value=String(y.value))),P.value=100,x({value:1})},h=A=>{A==="fromCoin"?(r.value=!0,l.value=Me(new p(Number(t.value)).div(2).toString(),f.value.decimals).toString()):(r.value=!1,c.value=Me(new p(Number(y.value)).div(2).toString(),w.value.decimals).toString()),_.value=!1},i=T({}),oe=T(!0),K=T({}),ne=T(),W=T(),_=T(!0),q=()=>{var Qe;if(_.value||!i.value||!l.value&&!c.value||Number(l.value)>Number(t.value)||Number(c.value)>Number(y.value))return;if(l.value==t.value&&c.value==y.value){P.value=100,x({value:1}),_.value=!0;return}const{TickMath:A,TickUtil:Y}=F.value;let R=i.value.minPrice,ae=i.value.maxPrice.indexOf("+")>0?"âˆž":i.value.maxPrice,ie=Number(i.value.tick_lower_index),_e=Number(i.value.tick_upper_index);const Te=Number(i.value.current_tick_index);let Ce,Re,De=Number(R).toString(),Ee=i.value.maxPrice.indexOf("+")>0||i.value.maxPrice==="âˆž"?"âˆž":Number(ae);if(De=="0"&&Ee=="âˆž"?(ie=Number(i.value.tick_lower_index),_e=Number(i.value.tick_upper_index)):(Ce=A.priceToSqrtPriceX64(new p(R),f.value.decimals,w.value.decimals),Re=A.priceToSqrtPriceX64(new p(ae),f.value.decimals,w.value.decimals)),ne.value=ie,W.value=_e,ae!=="âˆž"&&ie>=_e){m.value=!0,l.value="",k.value=!0,c.value="";return}if(ae=="âˆž"||Te>=ie&&Te<_e){m.value=!1,k.value=!1;let Oe;if(l.value||c.value){if(r.value){const he=new p(l.value).mul(Math.pow(10,f.value.decimals)).toString();Oe=new qe(he)}else{const he=new p(c.value).mul(Math.pow(10,w.value.decimals)).toString();Oe=new qe(he)}const{liquidityAmount:je,tokenMaxA:Fe,tokenMaxB:We,tokenMaxAOrigin:Ke,tokenMaxBOrigin:Ae}=F.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:f.value,tokenB:w.value,lowerTick:ie,upperTick:_e,coinAmount:Oe,iscoinA:oe.value?r.value:!r.value,roundUp:C.value!="Sui",slippage:Number(Q.value)/100,curSqrtPrice:new qe(i.value.current_sqrt_price)});K.value={liquidityAmount:je,tokenMaxA:Fe,tokenMaxB:We,tokenMaxAOrigin:Ke,tokenMaxBOrigin:Ae},oe.value?r.value?c.value=Number(We)>0?We:"":l.value=Number(Fe)>0?Fe:"":r.value?c.value=Fe:l.value=We}}else if(Te>=_e){if(l.value="",m.value=!0,k.value=!1,l.value||c.value){let Oe;const je=new p(c.value).mul(Math.pow(10,(Qe=w.value)==null?void 0:Qe.decimals)).toString();Oe=new qe(je),K.value={liquidityAmount:Ro(Ce,Re,Oe),tokenMaxA:0,tokenMaxB:c.value}}}else if(Te<ie){if(m.value=!1,k.value=!0,c.value="",l.value||c.value){let Oe;const je=new p(l.value).mul(Math.pow(10,f.value.decimals)).toString();Oe=new qe(je),K.value={liquidityAmount:Oo(Ce,Re,Oe),tokenMaxA:l.value,tokenMaxB:0}}}else m.value=!0,k.value=!0;_.value=!1,P.value=new p(K.value.liquidityAmount.toString()).div(i.value.liquidity).mul(100).toNumber().toFixed(2),H.value=K.value.liquidityAmount,v.setPositionActionAmount({fromCoinAmount:l,toCoinAmount:c})},P=T(0),H=T("0"),x=A=>{if(console.log("setPercent isSlider.value: ",_.value),!_.value)return;_.value=!0;const Y=i.value.token_a.decimals,R=i.value.token_b.decimals,ae=i.value.tick_lower_index,ie=i.value.tick_upper_index,_e=Io.tickIndexToSqrtPriceX64(ae),Te=Io.tickIndexToSqrtPriceX64(ie);let Ce="";A.value!==1?Ce=new p(i.value.liquidity).mul(A.value).toString():Ce=i.value.liquidity,Ce=Me(Ce,0)||"0",H.value=Ce;const Re=un.getCoinAmountFromLiquidity(new qe(Ce),new qe(i.value.current_sqrt_price),_e,Te,C.value!="Sui"),De=new p(Re.coinA.toString()).div(Math.pow(10,Y)).toString(),Ee=new p(Re.coinB.toString()).div(Math.pow(10,R)).toString();l.value=Number(De)>0?De:"",c.value=Number(Ee)>0?Ee:"",v.setPositionActionAmount({fromCoinAmount:l,toCoinAmount:c})};ye(()=>n.value.currentPositionInfo,A=>{if(A&&!ve(A)){i.value=A,f.value=i.value.token_a,w.value=i.value.token_b,x({value:P.value/100});let Y=Number(i.value.tick_lower_index),R=Number(i.value.tick_upper_index);const ae=Number(i.value.current_tick_index);(A.maxPrice.indexOf("+")>0||A.maxPrice==="âˆž"?"âˆž":A.maxPrice)=="âˆž"||ae>=Y&&ae<R?(m.value=!1,k.value=!1):ae>=R?(l.value="",m.value=!0,k.value=!1):ae<Y?(m.value=!1,k.value=!0,c.value=""):(m.value=!0,l.value="",k.value=!0,c.value=""),q()}},{immediate:!0}),ye(l,(A,Y)=>{A&&q(),A==""&&(c.value="",P.value=0)}),ye(c,(A,Y)=>{A&&q(),A==""&&(l.value="",P.value=0)});const G=b(()=>n.value.RATES),te=b(()=>{var _e,Te,Ce,Re;const A=((Te=G.value[(_e=f.value)==null?void 0:_e.address])==null?void 0:Te.price)||0,Y=((Re=G.value[(Ce=w.value)==null?void 0:Ce.address])==null?void 0:Re.price)||0,R=new p(A).mul(new p(l.value||0)),ae=new p(Y).mul(new p(c.value||0)),ie=R.add(ae);return J(ie.toString(),2)}),V=T(!1),{t:be,locale:L}=go(),ge=b(()=>{const A=Number(l.value)>Number(t.value),Y=Number(c.value)>Number(y.value);return!l.value&&!c.value?be("button.enterAmount"):A||Y?"Invalid Amount":be("button.remove")}),Ie=b(()=>{const A=Number(l.value)>Number(t.value),Y=Number(c.value)>Number(y.value);return!!(!l.value&&!c.value||A||Y)}),{setIsShowSuccess:Le,setIsShowRejected:Ue,setIsShowWaiting:Se,setTransactionDesc:a,setTransactionTxid:s,setPositiomNum:I,setTransactionDescText:U}=Z,j=T(!1);ye(P,Ko((A,Y)=>{A!==Y&&(Number(A)>100?P.value=100:A&&i.value?(P.value=A,x({value:P.value/100})):(l.value="",c.value=""))},300)),ye(Q,A=>{A&&i.value&&x({value:P.value/100})});const D=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],X=qo(),ee=b(()=>X),ue=b(()=>ee.value.status),fe=T(!1),we=A=>{A.sources.forEach(R=>{const{pool_address:ae,position_index:ie}=JSON.parse(R.blockchainAddress);ae==i.value.poolAddress&&Number(ie)==Number(i.value.index)&&(fe.value=!0)})},N=async()=>{await X.getSources();let A;ee.value.allSources.forEach(Y=>{const{pool_address:R,position_index:ae}=JSON.parse(Y.blockchainAddress);R==i.value.poolAddress&&ae==i.value.index&&(A=Y.id)}),X.deleteSource(A)};ye(()=>[ee.value.sourceGroups,i.value],([A,Y])=>{A&&A.sources&&A.sources.length>0&&Y&&!ve(Y)&&we(A)},{immediate:!0,deep:!0});const M=ao(),ce=mo();return{theme:O,showFromCoinLock:m,showToCoinLock:k,toCoinAmount:c,fromCoinAmount:l,fromCoinBlance:t,toCoinBlance:y,fromCoin:f,toCoin:w,maxBtnSelect:d,halfBtnSelect:h,fixedFromCoin:r,needReverse:B,totalAmount:te,wallet:se,addLiquidityBtnText:ge,isShowLiquidityModal:V,indexStore:Z,positionInfo:i,actionLoading:j,addLiquidityBtnDisabled:Ie,sliderVal:P,ratioArr:D,setPercent:x,poolStore:v,isSlider:_,toRemove:async()=>{var ie,_e,Te,Ce,Re,De,Ee,Qe,Oe,je,Fe,We,Ke;j.value=!0,s("");const A=J(l.value,f.value.decimals)==0?"":`${ke(l.value,f.value.decimals)} ${f.value.symbol}`,Y=J(c.value,w.value.decimals)==0?"":`${ke(c.value,w.value.decimals)} ${w.value.symbol}`;a(be("tips.removeLiquidiyText",{from:B.value?Y:A,and:J(l.value,f.value.decimals)==0||J(c.value,w.value.decimals)==0?"":"and",to:B.value?A:Y})),Se(!0);const R=i.value.poolInfo.rewarder_infos,ae=R&&R.length>0&&C.value=="Sui"||R&&R.length>0&&P.value==100?be("modal.removeLiquidityText1"):be("modal.removeLiquidityText2");U(ae);try{let Ae={};Ae={pool:{...i.value.poolInfo,coinA:i.value.token_a,coinB:i.value.token_b},coinTypeA:i.value.poolInfo.coinTypeA,coinTypeB:i.value.poolInfo.coinTypeB,position:i.value,delta_liquidity:P.value==100?new qe(i.value.liquidity):new qe(Me(H.value,0)),slippage:Number(Q.value),rewards_num:R.length,positionInfo:i.value},Ae.coinTypeC=R[0]?R[0].coinAddress:"",Ae.coinTypeD=R[1]?R[1].coinAddress:"",Ae.coinTypeE=R[2]?R[2].coinAddress:"";const he=await F.value.getRemoveLiquidityTransactionPayload(Ae);let He;if(C.value==="Aptos")He=await se.value.currentWallet.signAndSubmitTransaction(he);else{const so=await F.value.signAndExecuteTransactionBlock(se.value.currentWallet,he.txb,he==null?void 0:he.payloadParams);He=F.value.handleTx(so),console.log("0331###remove###tx####",He)}if(He&&He.hash){s(He.hash),Se(!1),Le(!0);const so={title:be("common.removeLiquidity"),desc:"",hash:He.hash,descTransactions:`Remove ${l.value} ${(ie=f.value)==null?void 0:ie.symbol} and ${c.value} ${(_e=w.value)==null?void 0:_e.symbol} 
             from the pool`,sender:se.value.address,chainName:C.value,tit:"Liquidity Removed",icon:"icon-icon-Removed",tokenInfo:{tokena:B.value?`${(Ce=w.value)==null?void 0:Ce.address}`:`${(Te=f.value)==null?void 0:Te.address}`,numa:B.value?`+ ${c.value}`:`+ ${l.value}`,logoa:B.value?n.value.tokensObj&&w.value&&w.value.address&&n.value.tokensObj[w.value.address]&&n.value.tokensObj[w.value.address].logoURI:n.value.tokensObj&&f.value&&f.value.address&&n.value.tokensObj[f.value.address]&&n.value.tokensObj[f.value.address].logoURI,tokenb:B.value?`${(Re=f.value)==null?void 0:Re.address}`:`${(De=w.value)==null?void 0:De.address}`,numb:B.value?`+ ${l.value}`:`+ ${c.value}`,logob:B.value?n.value.tokensObj&&f.value&&f.value.address&&n.value.tokensObj[f.value.address]&&n.value.tokensObj[f.value.address].logoURI:n.value.tokensObj&&w.value&&w.value.address&&n.value.tokensObj[w.value.address]&&n.value.tokensObj[w.value.address].logoURI},text:`Withdraw ${l.value} ${(Ee=f.value)==null?void 0:Ee.symbol} and ${c.value} ${(Qe=w.value)==null?void 0:Qe.symbol}`};C.value!=="Aptos"&&(so.res=He.res),F.value.showTransitionPending(so);const ko=await F.value.watchTransaction(so);if(R.value&&R.value.length>0&&(Number((Oe=R[0])==null?void 0:Oe.amount)!==0||Ae.coinTypeD&&Number((je=R[1])==null?void 0:je.amount)!==0||Ae.coinTypeE&&Number((Fe=R[2])==null?void 0:Fe.amount)!==0)){const po={title:be("common.removeLiquidity"),desc:"",hash:He.hash,tit:"Rewards Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:R[0].symbol,numa:`+ ${Number(R[0].amount)}`,logoa:n.value.tokensObj&&R[0]&&R[0].address&&n.value.tokensObj[R[0].address]&&n.value.tokensObj[R[0].address].logoURI,tokenb:Ae.coinTypeD?R[1].symbol:"",numb:Ae.coinTypeD?`+ ${Number(R[1].amount)}`:"",logob:Ae.coinTypeD?n.value.tokensObj&&R[1]&&R[1].address&&n.value.tokensObj[R[1].address]&&n.value.tokensObj[R[1].address].logoURI:"",tokenc:Ae.coinTypeE?R[2].symbol:"",numc:Ae.coinTypeE?`+ ${Number(R[2].amount)}`:"",logoc:Ae.coinTypeE?n.value.tokensObj&&R[2]&&R[2].address&&n.value.tokensObj[R[2].address]&&n.value.tokensObj[R[2].address].logoURI:""},text:`Withdraw ${l.value} ${(We=f.value)==null?void 0:We.symbol} and ${c.value} ${(Ke=w.value)==null?void 0:Ke.symbol}`},Ho=await F.value.setTransations(po)}if($e(i.value.feeOwedA,i.value.token_a.decimals)!==0||$e(i.value.feeOwedB,i.value.token_b.decimals)!==0){const po={title:"Claim",desc:"",hash:He.hash,chainName:C.value,tit:"Fees Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:`${i.value.token_a.symbol}`,numa:J(i.value.feeOwedA,i.value.token_a.decimals)==0?"":`+ ${$e(i.value.feeOwedA,i.value.token_a.decimals)}`,logoa:J(i.value.feeOwedA,i.value.token_a.decimals)==0?"":n.value.tokensObj&&i.value&&i.value.token_a.address&&n.value.tokensObj[i.value.token_a.address]&&n.value.tokensObj[i.value.token_a.address].logoURI,tokenb:`${i.value.token_b.symbol}`,numb:J(i.value.feeOwedB,i.value.token_b.decimals)==0?"":`+ ${$e(i.value.feeOwedB,i.value.token_b.decimals)}`,logob:J(i.value.feeOwedB,i.value.token_b.decimals)==0?"":n.value.tokensObj&&i.value&&i.value.token_b.address&&n.value.tokensObj[i.value.token_b.address]&&n.value.tokensObj[i.value.token_b.address].logoURI}},Ho=await F.value.setTransations(po)}ko&&Number(P.value)==100&&ue.value=="authenticated"&&fe.value&&(await X.subscribePosition({pool_address:i.value.poolAddress,position_index:i.value.index},i.value.nftHash,!1),N()),ko&&(l.value="",c.value="",setTimeout(()=>{Number(P.value)!==100&&u.emit("getDetails")},3e3),setTimeout(()=>{Number(P.value)!==100&&u.emit("getDetails")},6e3),Number(P.value)==100&&ce.name=="new-position-detail"&&(C.value==="Aptos"?M.push("/position"):M.push("/pool/position")),P.value=0)}else Se(!1),Ue(!0);j.value=!1}catch(Ae){console.log("Remove error",Ae),j.value=!1,Se(!1),Ue(!0)}},sFixD:Me}}});const xi={class:"new-position-asset"},ea={class:"add-or-remove"},oa={class:"liquidity-action-tab"},na=o("div",{class:"remove tab-active"},"Remove",-1),ta={class:"card-item"},ia={key:0,class:"assets-card-mask"},aa={class:"card-item"},sa={key:0,class:"assets-card-mask"},la={class:"remove-ratio"},ra=o("div",{class:"remove-ratio-title"},"Amount",-1),ua={class:"remove-ratio-select"},da={key:0,class:"ratio"},ca={key:1,class:"ratio"},ma={class:"ratio-list"},va=["onClick"];function fa(e,u,l,c,Z,$){const O=fo,v=Zo,n=ro;return g(),S("div",xi,[o("div",ea,[o("div",oa,[o("div",{class:"increase",onClick:u[0]||(u[0]=m=>e.poolStore.setPositionDetailCurrentTab("increase"))}," Increase "),na]),o("div",{class:co(e.needReverse?"card-container reverse":"card-container")},[o("div",ta,[le(O,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":u[1]||(u[1]=m=>e.fromCoinAmount=m),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,havehalf:!1,"amount-leabl":"Available",onOnMax:u[2]||(u[2]=m=>e.maxBtnSelect("fromCoin")),onOnHalf:u[3]||(u[3]=m=>e.halfBtnSelect("fromCoin")),onOnInput:u[4]||(u[4]=m=>{e.fromCoinAmount=m,e.fixedFromCoin=!0,e.isSlider=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.fromCoinBlance==0?(g(),S("div",ia)):de("",!0)]),o("div",aa,[le(O,{modelValue:e.toCoinAmount,"onUpdate:modelValue":u[5]||(u[5]=m=>e.toCoinAmount=m),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,havehalf:!1,"amount-leabl":"Available",onOnMax:u[6]||(u[6]=m=>e.maxBtnSelect("toCoin")),onOnHalf:u[7]||(u[7]=m=>e.halfBtnSelect("toCoin")),onOnInput:u[8]||(u[8]=m=>{e.toCoinAmount=m,e.fixedFromCoin=!1,e.isSlider=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.toCoinBlance==0?(g(),S("div",sa)):de("",!0)])],2),o("div",la,[ra,o("div",ua,[Number(e.fromCoinBlance)>=Number(e.fromCoinAmount)&&Number(e.toCoinBlance)>=Number(e.toCoinAmount)?(g(),S("div",da,E(e.sliderVal>0&&Number(("sFixD"in e?e.sFixD:z(Me))(e.sliderVal,2))<.01?"<0.01":("sFixD"in e?e.sFixD:z(Me))(e.sliderVal,2))+"% ",1)):(g(),S("div",ca," -- ")),o("div",ma,[(g(!0),S(Ze,null,oo(e.ratioArr,(m,k)=>(g(),S("div",{key:k,class:co(["ratio-item",e.sliderVal==m.value?"ratio-item-active":""]),onClick:()=>{e.isSlider=!0,e.sliderVal=m.value}},E(m.name),11,va))),128))])]),le(v,{value:e.sliderVal,"onUpdate:value":u[9]||(u[9]=m=>e.sliderVal=m)},null,8,["value"])])]),e.wallet.connected?(g(),Ne(n,{key:0,class:"big-btn liquidity-btn",loading:e.actionLoading,disabled:e.addLiquidityBtnDisabled,onClick:e.toRemove},{default:Be(()=>[o("span",null,E(e.addLiquidityBtnText),1)]),_:1},8,["loading","disabled","onClick"])):(g(),Ne(n,{key:1,class:"big-btn",onClick:u[10]||(u[10]=m=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:Be(()=>[o("span",null,E(e.$t("button.connectWallet")),1)]),_:1}))])}const Eo=ze(Vi,[["render",fa]]),pa=Ye({setup(){const e=Ve(),u=b(()=>e),l=Bo(),c=b(()=>l),Z=ao(),$=b(()=>u.value.currentPositionInfo),O=T(),v=W=>{var _;return((_=u.value.tokensObj[W])==null?void 0:_.logo_url)||no("/image/coins/sui-unknown.png")},n=zo("Sui"),m=T(),k=async W=>{m.value=0;try{const _=await n.calculateFarmingRewards([{pool_id:W.pool_id,position_nft_id:W.id}]),q=[];let P=new p(0);_[W.id].forEach((H,x)=>{var V;const G=(V=u.value.tokensObj[H.rewarder_type])==null?void 0:V.decimals;let te=new p(H.rewarder_amount).div(Math.pow(10,G)).toString();Number(te)>0&&C.value.rewarders[x]&&(P=P.add(te),q.push({...H,rewarderAmount:te,rewarderAmountPer:te}))}),m.value=P,O.value=q}catch(_){console.log(_,"getRewarder")}},r=b(()=>c.value.farmsPoolObj),C=b(()=>r.value[$.value.poolAddress]);ye(()=>[$.value,r.value,C.value],([W,_,q])=>{var P;!ve(W)&&W.positionSource=="farming"&&!ve(q)?k(W):!ve(_)&&!ve(W)&&(O.value=(P=_[W.poolAddress])==null?void 0:P.rewarders)},{immediate:!0});const F=uo(),re=b(()=>F),se=Xe(),Q=xe("Sui"),{setIsShowSuccess:f,setIsShowRejected:w,setIsShowWaiting:B,setTransactionDesc:t,setTransactionTxid:y}=se,d=T(!1),h=async()=>{d.value=!0,y(""),t("Claim rewards"),B(!0);const W={pool_id:$.value.pool_id,position_nft_id:$.value.id};try{const _=await n.harvestFarms(W),q=await Q.signAndExecuteTransactionBlock(re.value.currentWallet,_.txb,_.payloadParams);console.log("0221###sui swap res###",q);let P=Q.handleTx(q);if(P&&P.hash){y(P.hash),B(!1),f(!0);let H={title:"Claim",res:P.res,hash:P.hash};Q.showTransitionPending(H),await Q.watchTransaction(H)&&setTimeout(()=>{k($.value),Q.getAccount(re.value.address)},2e3)}else B(!1),w(!0);d.value=!1}catch(_){console.log("farmsDeposit error",_),B(!1),w(!0),d.value=!1}},i=async()=>{d.value=!0,y(""),t(`Unstake ${$.value.name}`),B(!0);const W=$.value.pool_id,_=$.value.id;try{const q=await n.farmsWithdraw(W,_),P=await Q.signAndExecuteTransactionBlock(re.value.currentWallet,q.txb,q.payloadParams);console.log("0221###sui swap res###",P);let H=Q.handleTx(P);if(H&&H.hash){y(H.hash),B(!1),f(!0);let x={res:H.res,title:"Unstake",hash:H.hash};Q.showTransitionPending(x),await Q.watchTransaction(x)&&setTimeout(()=>{Z.replace(`/new-position-detail?token=${$.value.tokenName}&address=${$.value.clmm_pool_id}&pos=${$.value.clmm_position_id}`),u.value.setCurrentPositionInfo($.value.clmm_pool_id,"",$.value.tokenName,"Sui",$.value.clmm_position_id),m.value=0,d.value=!1},2e3)}else B(!1),w(!0)}catch(q){console.log("farmsDeposit error",q),B(!1),w(!0),d.value=!1}},oe=async()=>{d.value=!0,y(""),t(`Stake ${$.value.name}`),B(!0);const W={clmm_pool_id:$.value.poolAddress,clmm_position_id:$.value.pos_object_id,coinTypeA:$.value.coin_type_a,coinTypeB:$.value.coin_type_b},_=r.value[$.value.poolAddress].id;try{const q=await n.farmsDeposit(W,_),P=await Q.signAndExecuteTransactionBlock(re.value.currentWallet,q.txb,q.payloadParams);console.log("0221###sui swap res###",P);let H=Q.handleTx(P);if(H&&H.hash){y(H.hash),B(!1),f(!0);let x={res:H.res,title:"Staked",hash:H.hash};Q.showTransitionPending(x);const G=await Q.watchTransaction(x,!0);let te;G!=null&&G.status&&setTimeout(async()=>{var V,be;(be=(V=G==null?void 0:G.res)==null?void 0:V.events)==null||be.forEach(L=>{L.type.indexOf("::pool::DepositEvent")>-1&&(te=L.parsedJson.wrapped_position_id)}),Z.replace(`/new-position-detail?position_nft_id=${te}&positionSource=farming`),await u.value.setCurrentPositionInfo("","","","Sui",te,"farming"),d.value=!1},2e3)}else B(!1),w(!0)}catch(q){console.log("farmsDeposit error",q),B(!1),w(!0),d.value=!1}},K=b(()=>se),ne=b(()=>K.value.addressLpTokens);return{getCoinIcon:v,rewardList:O,sFixD:Me,addCommom:J,claim:h,unStake:i,loading:d,totalRewardAmount:m,currentPositionInfo:$,stake:oe,farmsPoolObj:r,addressLpTokens:ne,farmsPoolInfo:C}}});const eo=e=>(to("data-v-b105cc87"),e=e(),io(),e),ha={key:0,class:"farms-position-detail"},ba={class:"farms-top"},ga=eo(()=>o("div",{class:"left"},[o("div",{class:"title"},"Farming"),o("div",{class:"desc"},"Stake Position to Earn")],-1)),ka={class:"right"},wa={class:"apr"},_a={class:"apr-tips-box"},ya=eo(()=>o("span",null,"View",-1)),Ia=eo(()=>o("svg",{class:"arrow-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_arrow"})],-1)),Aa=[ya,Ia],Ca={class:"farms-bottom"},Sa=eo(()=>o("div",{class:"title"},"Farming Rewards",-1)),$a={key:0,class:"reward-list"},Pa={key:0,class:"rewards-item-bg"},Ta={class:"rewards-item-box"},Na={alt:""},Ra={key:1},Oa={class:"rewards-item-bg"},qa={class:"rewards-item-box"},Ba={alt:""},La=eo(()=>o("span",null,"0",-1)),Ua={key:1,class:"reward-list"},Ma={key:0,class:"rewards-item-bg"},ja={class:"rewards-item-box"},Da={alt:""},Ea=eo(()=>o("span",null,"0",-1)),Fa={key:1},Wa={class:"rewards-item-bg"},Ha={class:"rewards-item-box"},Xa={alt:""},Ya=eo(()=>o("span",null,"0",-1)),za={class:"actions-box"};function Ga(e,u,l,c,Z,$){var k,r,C;const O=fn,v=ro,n=Po,m=bo("image");return e.farmsPoolObj&&e.farmsPoolObj[e.currentPositionInfo.poolAddress]&&e.farmsPoolObj[e.currentPositionInfo.poolAddress].status=="Live"||e.currentPositionInfo.positionSource=="farming"?(g(),S("div",ha,[o("div",ba,[ga,o("div",ka,[o("div",wa,[me(" APRÂ  "),o("span",null,[me(E(("addCommom"in e?e.addCommom:z(J))(((k=e.farmsPoolInfo)==null?void 0:k.total_apr)*100,2))+"%Â  ",1),o("div",_a,[le(O,{"l-item":e.farmsPoolInfo,"rewarder-info":(C=(r=e.farmsPoolInfo)==null?void 0:r.rewarder)==null?void 0:C.rewardList},null,8,["l-item","rewarder-info"])])])]),o("div",{class:"view",onClick:u[0]||(u[0]=F=>e.$router.push("/farms"))},Aa)])]),o("div",Ca,[Sa,e.rewardList&&e.rewardList.length>0?(g(),S("div",$a,[(g(!0),S(Ze,null,oo(e.rewardList,F=>(g(),S("div",{key:F,class:"rewards-item"},[e.currentPositionInfo.positionSource=="farming"?(g(),S("div",Pa,[o("div",Ta,[Pe(o("img",Na,null,512),[[m,e.getCoinIcon(F.rewarder_type)]]),o("span",null,E(("addCommom"in e?e.addCommom:z(J))(F.rewarderAmount||0)),1)])])):(g(),S("div",Ra,[o("div",Oa,[o("div",qa,[Pe(o("img",Ba,null,512),[[m,e.getCoinIcon(F.reward_coin)]]),La])])]))]))),128))])):(g(),S("div",Ua,[(g(!0),S(Ze,null,oo(e.currentPositionInfo.rewards,F=>(g(),S("div",{key:F,class:"rewards-item"},[e.currentPositionInfo.positionSource=="farming"?(g(),S("div",Ma,[o("div",ja,[Pe(o("img",Da,null,512),[[m,e.getCoinIcon(F.rewarder_type)]]),Ea])])):(g(),S("div",Fa,[o("div",Wa,[o("div",Ha,[Pe(o("img",Xa,null,512),[[m,e.getCoinIcon(F.reward_coin)]]),Ya])])]))]))),128))])),o("div",za,[e.currentPositionInfo&&e.currentPositionInfo.positionSource=="farming"?(g(),Ne(v,{key:0,class:"unstake-btn",loading:e.loading,onClick:e.unStake},{default:Be(()=>[me("Unstake")]),_:1},8,["loading","onClick"])):de("",!0),e.currentPositionInfo&&e.currentPositionInfo.positionSource=="clmm"&&e.currentPositionInfo.currentStatus!=="Active"?(g(),Ne(n,{key:1},{title:Be(()=>[me("Farming rewards are only available for active positions.")]),default:Be(()=>[le(v,{class:"unstake-btn",loading:e.loading,disabled:!0,onClick:e.stake},{default:Be(()=>[me("Stake")]),_:1},8,["loading","onClick"])]),_:1})):e.currentPositionInfo&&e.currentPositionInfo.positionSource=="clmm"?(g(),Ne(v,{key:2,class:"unstake-btn",loading:e.loading,onClick:e.stake},{default:Be(()=>[me("Stake")]),_:1},8,["loading","onClick"])):de("",!0),le(v,{class:"unstake-btn btn-margin",loading:e.loading,disabled:e.totalRewardAmount==0||e.currentPositionInfo&&e.currentPositionInfo.positionSource!=="farming",onClick:To(e.claim,["stop"])},{default:Be(()=>[me("â†‘ Claim")]),_:1},8,["loading","disabled","onClick"])])])])):de("",!0)}const Fo=ze(pa,[["render",Ga],["__scopeId","data-v-b105cc87"]]),Ja=Ye({props:{positionInfo:{type:Object,default:()=>({})}},setup(e){const u=qo(),l=b(()=>u),c=b(()=>l.value.status),Z=Xe(),$=T(!1);ye(()=>c.value,m=>{m=="authenticated",$.value=!1},{immediate:!0});const O=T(!1),v=async()=>{O.value=!O.value;const m={pool_address:e.positionInfo.poolAddress||e.positionInfo.clmm_pool_id,position_index:e.positionInfo.index||e.positionInfo.name.split("-")[1]},k=e.positionInfo.clmm_position_id||e.positionInfo.nftHash;try{await u.subscribePosition(m,k,O.value)}catch{O.value=!O.value}},n=m=>{const k=m.sources;console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-position-notifi.vue:172 ~ getPositionNotifiStatus ~ sources:",k),O.value=k.some(r=>JSON.parse(r.blockchainAddress).pool_address==e.positionInfo.poolAddress&&Number(JSON.parse(r.blockchainAddress).position_index)==(Number(e.positionInfo.index)||Number(e.positionInfo.name.split("-")[1])))};return ao(),ye(()=>[l.value.sourceGroups,e.positionInfo],([m,k])=>{O.value=!1,m&&m.length>0&&m[0]&&k&&!ve(k)&&(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-position-notifi.vue:206 ~ setup ~ getPositionNotifiStatus:"),n(m[0]))},{immediate:!0,deep:!0}),{importIcon:no,isShowSetUp:$,changeSwitch:v,checked:O,notifiStatus:c,store:Z}}});const Qa=e=>(to("data-v-1a37a36d"),e=e(),io(),e),Ka={class:"range-alerts"},Za={class:"range-alerts-top"},Va={class:"title"},xa=Qa(()=>o("div",{class:"title-all"},[o("span",{class:"Range"},"Range Alerts")],-1)),es={key:1,class:"h5-switch-box"},os={class:"range-alerts-bottom"},ns={key:0,class:"pc-switch-box"};function ts(e,u,l,c,Z,$){const O=ro,v=Vo;return g(),S("div",Ka,[o("div",Za,[o("div",Va,[xa,e.isShowSetUp||e.notifiStatus!=="authenticated"?(g(),Ne(O,{key:0,class:"range-alerts-button",onClick:u[0]||(u[0]=To(n=>e.store.setIsShowNotifi(!0),["stop"]))},{default:Be(()=>[me(" Set up ")]),_:1})):de("",!0),!e.isShowSetUp&&e.notifiStatus=="authenticated"?(g(),S("div",es,[le(v,{class:"range-alerts-switch",checked:e.checked,disabled:e.notifiStatus!=="authenticated",onChange:e.changeSwitch},null,8,["checked","disabled","onChange"])])):de("",!0)])]),o("div",os,[me(" Receive alerts via Telegram, SMS, or email when this position goes out of range. "),!e.isShowSetUp&&e.notifiStatus=="authenticated"?(g(),S("div",ns,[le(v,{class:"range-alerts-switch",checked:e.checked,disabled:e.notifiStatus!=="authenticated",onChange:e.changeSwitch},null,8,["checked","disabled","onChange"])])):de("",!0)])])}const Wo=ze(Ja,[["render",ts],["__scopeId","data-v-1a37a36d"]]),is=Ye({components:{NewPositionTitle:Lo,NewPositionInfo:Mo,NewPositionLiquidity:jo,NewPositionAssetAdd:Do,NewPositionAssetRemove:Eo,NewPositionNotifi:Wo,FarmsPositionDetail:Fo},setup(){const e=T(),u=T(),l=T(),c=Xe(),Z=b(()=>c),$=b(()=>Z.value.chainName),O=Ve(),v=b(()=>O),n=Bo(),m=b(()=>n),k=ao();So(()=>{e.value={},O.setPositionActionAmount({fromCoinAmount:"",toCoinAmount:""}),v.value.setCurrentPositionLoading(!0)});const r=async()=>{v.value.setCurrentPositionLoading(!0);const t=k.currentRoute.value.query.token||"",y=k.currentRoute.value.query.collect||"",d=k.currentRoute.value.query.address||"",h=k.currentRoute.value.query.pos||"",i=k.currentRoute.value.query.id||"",oe=k.currentRoute.value.query.positionSource||"",K=k.currentRoute.value.query.position_nft_id||"";$.value==="Aptos"?t&&y&&d&&v.value.setCurrentPositionInfo(d,y,t,$.value):t&&d&&h?v.value.setCurrentPositionInfo(d,y,t,$.value,h):i&&!oe?v.value.setCurrentPositionInfo("","","",$.value,i):v.value.setCurrentPositionInfo("","","",$.value,K,oe)};ye(()=>v.value.poolConfigObj,t=>{t&&!ve(t)&&r()},{immediate:!0});const C=b(()=>v.value.currentPositionLoading),F=b(()=>{var y,d,h;const t=((h=(d=(y=k==null?void 0:k.currentRoute)==null?void 0:y.value)==null?void 0:d.query)==null?void 0:h.address)||"";return t&&v.value.addressLpTokens&&!ve(v.value.addressLpTokens)&&v.value.addressLpTokens[t]?v.value.addressLpTokens[t]:null});ye(()=>F.value,(t,y)=>{t&&!ve(t)&&(e.value=t),t&&!ve(t)&&t.current_sqrt_price!==(y==null?void 0:y.current_sqrt_price)&&r()},{immediate:!0});const re=mo();ye(()=>[v.value.currentPositionInfo,$.value],([t,y])=>{var d;(y=="Aptos"&&t||y=="Sui"&&t&&(t==null?void 0:t.nftHash)==((d=re==null?void 0:re.query)==null?void 0:d.pos))&&(e.value=t,u.value=e.value.token_a,l.value=e.value.token_b)},{immediate:!0});const se=b(()=>v.value.positionDetailCurrentTab),Q=uo(),f=b(()=>Q);b(()=>Z.value.theme);const w=b(()=>$.value?xe($.value):{}),B=()=>{r(),f.value.address&&w.value.getAccount(f.value.address)};return ye(()=>e.value,t=>{var y,d,h,i;((t==null?void 0:t.positionSource)==="farming"||(y=t==null?void 0:t.poolInfo)!=null&&y.stable_farming)&&!((h=(d=m==null?void 0:m.value)==null?void 0:d.farmsPoolObj)!=null&&h[t==null?void 0:t.poolAddress])&&!((i=m==null?void 0:m.value)!=null&&i.farmsPoolListLoading)&&m.value.getFarmsPoolList(!1)},{deep:!0}),Co(()=>{O.clearCurrentPositionInfo()}),{positionInfo:e,fromCoin:u,toCoin:l,getDetails:r,currentPositionLoading:C,positionDetailCurrentTab:se,clickRefresh:B,chainName:$}}});const as={class:"new-position-detail"},ss={class:"new-position-content"},ls={class:"left"},rs={class:"right"},us={class:"loading-global"};function ds(e,u,l,c,Z,$){const O=Lo,v=Mo,n=jo,m=Do,k=Eo,r=Fo,C=Wo,F=xo;return g(),S("div",as,[le(O,{onClickRefresh:e.clickRefresh},null,8,["onClickRefresh"]),o("div",ss,[o("div",ls,[le(v),le(n,{class:"pc-module",onGetDetails:e.getDetails},null,8,["onGetDetails"])]),o("div",rs,[e.positionDetailCurrentTab=="increase"?(g(),Ne(m,{key:0,onGetDetails:e.getDetails},null,8,["onGetDetails"])):(g(),Ne(k,{key:1,onGetDetails:e.getDetails},null,8,["onGetDetails"])),le(n,{class:"h5-module",onGetDetails:e.getDetails},null,8,["onGetDetails"]),e.chainName=="Sui"?(g(),Ne(r,{key:2})):de("",!0),e.positionInfo&&e.positionInfo.minPrice!=="0"&&e.positionInfo.maxPrice!=="âˆž"&&e.chainName=="Sui"?(g(),Ne(C,{key:3,"position-info":e.positionInfo},null,8,["position-info"])):de("",!0)])]),Pe(o("div",us,[le(F)],512),[[$o,e.currentPositionLoading]])])}const Ys=ze(is,[["render",ds],["__scopeId","data-v-a79de095"]]);export{Ys as default};
