import{s as Me,q as G,d as J,c as Z,a as Y,o as x,p as he,h as j,b as Ve,v as ie,w as le,x as ze}from"./common.0baf15f1.js";import{a as ce,r as w,m as $,q as be,A as ee,s as Oe,v as Fe,a1 as Ye,e as ue,o as i,f as c,h as o,F as K,E as Q,u as b,c as Pe,x as m,i as L,G as q,O as ke,y as H,p as de,k as me,S as Je,l as X,N as _e,L as We,V as He,j as ge,I as ne,M as ae}from"./entry.af131d02.js";/* empty css              */import{u as pe,a as we,b as Ge}from"./index.13e4bb7a.js";import{c as $e,u as Ke}from"./index.3cb79861.js";import{i as ye}from"./import-icon.de3e6c66.js";import"./index.f8a9ad90.js";import"./index.bafd247a.js";import{l as Qe}from"./lodash.9f64ff97.js";import{f as Xe}from"./formatter.558e164a.js";import{A as Ze}from"./address-copy-link.6a681e17.js";import{C as xe}from"./coin-img-warning.be0e8e46.js";import{I as eo}from"./icon-refresh.b3568cd4.js";import{g as oo}from"./common-fun.221de317.js";import{C as to}from"./coin-img.e4c80830.js";import{_ as so}from"./img-no-Positions_2x.dd7a6eaf.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./install.9091cb7e.js";import"./token.58d9b51a.js";import"./precision.c92e897d.js";var re=(e=>(e.D="day",e.W="wek",e.M="mon",e))(re||{}),Ie=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(Ie||{}),W=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(W||{}),Ce=(e=>(e[e.D=6]="D",e[e.W=8]="W",e[e.M=12]="M",e))(Ce||{}),De=(e=>(e[e.D=4]="D",e[e.W=8]="W",e[e.M=12]="M",e))(De||{});const no=ce({props:{address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const A=["D","W","M"],f=w("vol"),F=[{label:"Volume",value:"vol"},{label:"TVL",value:"tvl"},{label:"Fees",value:"fee"}],u=w(""),h=w("D"),T=w("--"),I=pe(),d=w(),k=w(),s=w(!0),N=$(()=>I),D=r=>{switch(r){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},a=$(()=>$e[N.value.chainName]),l=w(!1);be(async()=>{window.addEventListener("resize",E),U(),await Me(1e3),l.value=!0}),ee(()=>[e.poolInfo,f.value],([r,t])=>{if(!Z(r)){let n;t=="vol"?n=Number(r.vol):t=="tvl"?n=Number(r.liqidity):n=Number(r.fee_24_h),T.value=Number(n)==0?"$0":Number(n)!==0&&Number(n)<.01?"$<0.01":"$"+Y(n,2)}},{immediate:!0});const v=async()=>{const r=f.value=="tvl"?"pure_tvl":f.value;s.value=!0;try{const t=Ie[h.value],{data:n}=e.address!==""?await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${r}&limit=${t}&address=${e.poolInfo.address}`).then(y=>y.json()):await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${r}&limit=${t}`).then(y=>y.json());console.log("ðŸš€ ~ getHistogram ~ data:",n);const _=n.list.map(y=>y.num),g=n.list.map(y=>y.date);d.value=_,k.value=g,C(_,g,t),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(t){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",t)}},p=w(),C=(r,t,n)=>{const _=document.getElementById("echartsBox"),g=Fe(_);p.value=g;let y={animation:!1,tooltip:{trigger:"axis",position:function(R,S,z,P,oe){return[R[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",formatter:function(R){V(R)},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#456D89"}}},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:t.reverse(),inverse:!0,axisLabel:{interval:parseInt(Number(r.length)/15),formatter:(R,S)=>{const z=G(Date.parse(R)-288e5,"YMD")||"";let P,oe=z.slice(5,7),se=W[Number(oe)];return h.value=="M"?P=se:P=z.slice(8,10),`${P}`}}},yAxis:{show:!1,max:function(R){return Math.ceil(R.max)}},series:[{data:r.reverse(),inverse:!0,type:f.value=="tvl"?"line":"bar",symbol:"none",itemStyle:{normal:{barBorderRadius:[6,6,0,0],color:"#72C1F7"}},areaStyle:{color:new Ye(0,0,0,1,[{offset:0,color:"rgba(0, 128, 255, 0.3)"},{offset:1,color:"rgba(0, 128, 255, 0)"}])},barWidth:M.value?Ce[h.value]:De[h.value]}],grid:{left:5,top:5,bottom:20,right:5}};s.value=!1,y&&g.setOption(y),g&&g.resize(),g.on("globalout",R=>{let S;f.value=="vol"?S=Number(e.poolInfo.vol):f.value=="tvl"?S=Number(e.poolInfo.liqidity):S=Number(e.poolInfo.fee_24_h),T.value=Number(S)==0?"$0":Number(S)!==0&&Number(S)<.01?"$<0.01":"$"+Y(S,2),U()})};ee(()=>[h.value,f.value],([r,t])=>{(r||t)&&v()},{immediate:!0});const M=w(!0),E=Qe.debounce(()=>{document.body.clientWidth>750?M.value=!0:M.value=!1,!d.value&&!k.value?v():p.value&&p.value.resize()},300);Oe(()=>{window.removeEventListener("resize",E)});const U=()=>{const r=G(Date.parse(new Date().toUTCString()),"YMD")||"";let t=r.slice(5,7),n=W[Number(t)];const _=r.slice(8,10),g=n,y=r.slice(0,4);u.value=g+"&nbsp;"+_+",&nbsp;"+y+"&nbsp;(UTC)"},V=r=>{T.value=Xe(r[0].value,2);const t=Date.parse(r[0].axisValue),n=new Date(t);n.setDate(n.getDate()+7);const _=new Date(t);_.setDate(_.getDate()+31);const g=n.toUTCString(),y=_.toUTCString(),R=G(Date.parse(y),"YMD")||"",S=G(Date.parse(new Date().toUTCString()),"YMD")||"",z=Date.parse(g)>Date.parse(new Date().toUTCString())?G(Date.parse(new Date().toUTCString()),"YMD")||"":G(Date.parse(g),"YMD")||"";let P=S.slice(5,7),oe=W[Number(P)];const se=S.slice(8,10),Se=oe,Ae=S.slice(0,4);let ve=r[0].axisValue.slice(5,7),Te=W[Number(ve)];const fe=r[0].axisValue.slice(8,10),te=Te,Ne=r[0].axisValue.slice(0,4);let Le=z.slice(5,7),Ue=W[Number(Le)];const Re=z.slice(8,10),qe=Ue,Be=z.slice(0,4),Ee=W[Number(ve)+1],je=R.slice(0,4);h.value=="D"?u.value=te+"&nbsp;"+fe+",&nbsp;"+Ne+"&nbsp;(UTC)":h.value=="W"?u.value=fe+"&nbsp;"+te+"-"+Re+"&nbsp;"+qe+"&nbsp;,&nbsp;"+Be+"&nbsp;(UTC)":u.value=Date.parse(y)>=Date.parse(new Date().toUTCString())?te+"&nbsp;01-"+Se+"&nbsp;"+se+",&nbsp;"+Ae+"&nbsp;(UTC)":te+"&nbsp;01-"+Ee+"&nbsp;01,&nbsp;"+je+"&nbsp;(UTC)"};return{mode:f,showTime:u,showValue:T,modeList:F,timeList:A,isChartLoading:s,getModeLabel:D,decimalUi:J,checkNullObj:Z,store:N,currentTimeTab:h}}});const ao=e=>(de("data-v-6a183892"),e=e(),me(),e),io={class:"sui-chart-container"},lo={class:"chart-tab"},ro={class:"mode-list"},co=["onClick"],uo={class:"time-list"},mo=["onClick"],po={class:"echarts-content"},vo={class:"echarts-content-top"},fo={key:1},ho=["innerHTML"],_o={key:0,class:"echarts-content-bottom echarts-content-bottom-isChartLoading"},go=ao(()=>o("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function yo(e,A,f,F,u,h){const T=Je,I=ke;return i(),c("div",io,[o("div",lo,[o("div",ro,[(i(!0),c(K,null,Q(e.modeList,d=>(i(),c("div",{key:d,class:H(["title",e.mode==d.value?"title-active":""]),onClick:k=>e.mode=d.value},m(d.label),11,co))),128))]),o("div",uo,[(i(!0),c(K,null,Q(e.timeList,d=>(i(),c("div",{key:d,class:H(["time-item",d==e.currentTimeTab?"time-item-active":""]),onClick:k=>e.currentTimeTab=d},m(d),11,mo))),128))])]),o("div",po,[o("div",vo,[("checkNullObj"in e?e.checkNullObj:b(Z))(e.poolInfo||{})?(i(),Pe(T,{key:0,class:"upgrade-text-skeleton","is-chart-loading":!0,active:"",paragraph:!1})):(i(),c("p",fo,m(e.showValue||"--"),1)),o("span",{innerHTML:e.showTime},null,8,ho)]),e.isChartLoading?(i(),c("div",_o,[L(I)])):q("",!0),go])])}const bo=ue(no,[["render",yo],["__scopeId","data-v-6a183892"]]),ko=ce({components:{CoinImgWarning:xe,AddressCopyLink:Ze,IconRefresh:eo},props:{address:{type:String,required:!1,default:""},refresh:{type:Boolean,required:!0,default:!1},poolInfo:{type:Object,required:!1,default:()=>({})},poolMoreInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const A=pe(),f=$(()=>A),F=$(()=>f.value.currentExplorer),u=we(),h=$(()=>u),T=$(()=>{var l,v,p,C;let a;return f.value.chainName=="Sui"?a=e.poolInfo&&e.poolInfo.object&&((l=e.poolInfo)==null?void 0:l.object.coin_a):a=e.poolMoreInfo&&((v=e.poolMoreInfo)==null?void 0:v.coinAmountA),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinA)&&((C=e.poolInfo)==null?void 0:C.coinA.decimals))}),I=$(()=>{var l,v,p,C;let a;return a=e.poolInfo&&((l=e.poolInfo)==null?void 0:l.object)&&((v=e.poolInfo)==null?void 0:v.object.coin_b),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinB)&&((C=e.poolInfo)==null?void 0:C.coinB.decimals))}),d=$(()=>{var a,l;if(h.value.RATES){const v=j(T.value),p=j(((l=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinA)&&e.poolInfo.coinA.address])==null?void 0:l.price)||0);return v.mul(p).toString()}else return"--"}),k=$(()=>{var a,l,v;if(h.value.RATES){const p=j(I.value),C=j(((v=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinB)&&((l=e.poolInfo)==null?void 0:l.coinB.address)])==null?void 0:v.price)||0);return p.mul(C).toString()}else return"--"}),s=w(),N=w(),D=(a,l)=>{var V,r;console.log(a,l,"###usdA usdB");const v=[];let p=j(0);const C=j(a).plus(j(l));[{amount:a,name:"usdA"},{amount:l,name:"usdB"}].forEach(t=>{const n=t.amount,_=j(n).gt(0)?j(n).div(C).mul(100).toString():0,g=Ve(_,2);p=p.plus(g);const y=g.split(".");v.push({value:g,decimal:y[1],name:t.name})});let E=j(100).minus(p).toNumber();const U=v.sort((t,n)=>Number(n.decimal)-Number(t.decimal));if(E&&p.gt(0))for(let t=0;t<U.length&&E;t++)U[t].value=j(U[t].value).plus(.01).toString(),E=j(E).minus(.01).toNumber();s.value=(V=U.find(t=>t.name=="usdA"))==null?void 0:V.value,N.value=(r=U.find(t=>t.name=="usdB"))==null?void 0:r.value};return ee(()=>[d.value,k.value],([a,l])=>{a&&l&&D(a,l)},{immediate:!0}),{amountAUSD:d,amountBUSD:k,amountA:T,amountB:I,tokena_ratio:s,tokenb_ratio:N,store:f,currentExplorer:F,getExplorerUrl:x}}});const O=e=>(de("data-v-d1651522"),e=e(),me(),e),wo={class:"composition-info-box"},$o={class:"info-box"},Io={class:"info-tit"},Co=O(()=>o("span",null,"Pool Info",-1)),Do={class:"info-detail"},So={class:"item"},Ao=O(()=>o("p",null,"Pool Address",-1)),To={class:"item"},No=O(()=>o("p",null,"Pool ID",-1)),Lo={class:"item"},Uo=O(()=>o("p",null,"Tick Spacing",-1)),Ro={class:"item"},qo=O(()=>o("p",null,"Fee Tier",-1)),Bo={key:0},Eo={key:1},jo={class:"composition-box"},Mo=O(()=>o("div",{class:"info-tit"},[o("span",null,"Pool Composition")],-1)),Vo={class:"coin-a-ratio"},zo={class:"ratio-progress"},Oo={class:"coin-b-ratio"},Fo={class:"item"},Yo={class:"row"},Po={class:"left"},Jo={class:"right"},Wo={class:"row"},Ho=O(()=>o("div",{class:"left"},"Amount",-1)),Go={class:"right"},Ko={class:"row"},Qo=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),Xo={class:"right"},Zo={class:"item"},xo={class:"row"},et={class:"left"},ot={class:"right"},tt={class:"row"},st=O(()=>o("div",{class:"left"},"Amount",-1)),nt={class:"right"},at={class:"row"},it=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),lt={class:"right"};function rt(e,A,f,F,u,h){var k,s,N,D,a,l,v,p,C,M,E,U,V,r,t,n,_,g,y,R,S,z;const T=X("IconRefresh"),I=X("AddressCopyLink"),d=X("CoinImgWarning");return i(),c("div",wo,[o("div",$o,[o("div",Io,[Co,L(T,{refresh:e.refresh,onClickRefresh:A[0]||(A[0]=P=>e.$emit("clickRefresh"))},null,8,["refresh"])]),o("div",Do,[o("div",So,[Ao,L(I,{address:(k=e.poolInfo)==null?void 0:k.address,"current-explorer-type":"poolAddress"},null,8,["address"])]),o("div",To,[No,o("span",null,"#"+m(e.poolInfo&&e.poolInfo.object&&((s=e.poolInfo)==null?void 0:s.object.index)),1)]),o("div",Lo,[Uo,o("span",null,m(e.poolInfo&&((N=e.poolInfo)==null?void 0:N.tick_spacing)),1)]),o("div",Ro,[qo,("checkNullObj"in e?e.checkNullObj:b(Z))(e.poolInfo||{})?(i(),c("span",Bo,"--%")):(i(),c("span",Eo,m(e.poolInfo&&((D=e.poolInfo)==null?void 0:D.fee)*100)+"%",1))])])]),o("div",jo,[Mo,o("div",{class:H(["liquidity-ratio",(a=e.poolInfo)!=null&&a.needReverse?"liquidity-ratio-reserve":""])},[o("div",Vo,[L(d,{"token-info":(l=e.poolInfo)==null?void 0:l.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m((p=(v=e.poolInfo)==null?void 0:v.coinA)==null?void 0:p.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:b(J))(e.tokena_ratio,2))+"%",1)]),o("div",zo,[o("div",{class:"from-percent",style:_e({width:e.tokena_ratio+"%"})},null,4),o("div",{class:"to-percent",style:_e({width:e.tokenb_ratio+"%"})},null,4)]),o("div",Oo,[L(d,{"token-info":(C=e.poolInfo)==null?void 0:C.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m((E=(M=e.poolInfo)==null?void 0:M.coinB)==null?void 0:E.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:b(J))(e.tokenb_ratio,2))+"%",1)])],2),o("div",{class:H(["bottom",(U=e.poolInfo)!=null&&U.needReverse?"bottom-reserve":""])},[o("div",Fo,[o("div",Yo,[o("div",Po,[L(d,{"token-info":(V=e.poolInfo)==null?void 0:V.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinA&&e.poolInfo.coinA.symbol),1)]),o("div",Jo,[L(I,{address:(t=(r=e.poolInfo)==null?void 0:r.coinA)==null?void 0:t.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",Wo,[Ho,o("div",Go,m(("addCommom"in e?e.addCommom:b(Y))(("decimalUi"in e?e.decimalUi:b(J))(e.amountA,(_=(n=e.poolInfo)==null?void 0:n.coinA)==null?void 0:_.decimals))),1)]),o("div",Ko,[Qo,o("div",Xo,"$"+m(("addCommom"in e?e.addCommom:b(Y))(("decimalUi"in e?e.decimalUi:b(J))(e.amountAUSD,2))),1)])]),o("div",Zo,[o("div",xo,[o("div",et,[L(d,{"token-info":(g=e.poolInfo)==null?void 0:g.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinB&&e.poolInfo.coinB.symbol),1)]),o("div",ot,[L(I,{address:(R=(y=e.poolInfo)==null?void 0:y.coinB)==null?void 0:R.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",tt,[st,o("div",nt,m(("addCommom"in e?e.addCommom:b(Y))(("decimalUi"in e?e.decimalUi:b(J))(e.amountA,(z=(S=e.poolInfo)==null?void 0:S.coinB)==null?void 0:z.decimals))),1)]),o("div",at,[it,o("div",lt,"$"+m(("addCommom"in e?e.addCommom:b(Y))(("decimalUi"in e?e.decimalUi:b(J))(e.amountBUSD,2))),1)])])],2)])])}const ct=ue(ko,[["render",rt],["__scopeId","data-v-d1651522"]]),ut=ce({components:{AnalyticsChart:bo,CompositionInfo:ct,CoinImg:to},setup(){const e=w(!0),A=w(!1),f=w([]),F=pe(),u=$(()=>F),h=Ke();$(()=>h);const T=we(),I=$(()=>T),d=We();$(()=>$e[u.value.chainName]);const k=$(()=>u.value.chainName),s=w(0),N=()=>{A.value=!0,s.value=s.value+1,u.value.getTransactionList(k.value,d.query.poolAddress,s.value)},D=w(!1),a=()=>{D.value=!0,e.value=!0,f.value=[],I.value.setPoolConfigList(u.value.chainName,u.value.filterCoinsObj),u.value.getTransactionList(k.value,d.query.poolAddress,0),F.getStatsData(u.value.chainName,u.value.filterCoinsObj),setTimeout(()=>{D.value=!1},1e3)},l=$(()=>{const t=d.query.poolAddress;return I.value.poolConfigObj[t]}),v=w({}),p=$(()=>oo(l.value,I,u));ee(()=>d,t=>{e.value=!0,f.value=[],u.value.getTransactionList(k.value,d.query.poolAddress,0)},{immediate:!0,deep:!0});const C=Ge(u.value.chainName),M=$(()=>u.value.isShowLoadMore);ee(()=>[u.value.liquiditytransactionList,l.value,M.value],async([t,n,_])=>{n&&(u.value.chainName&&u.value.chainName.includes("Aptos")&&(v.value=await C.getPool(n==null?void 0:n.address)),t?(f.value=t,e.value=!1,A.value=!1):_==!1&&(f.value=[],e.value=!1,A.value=!1))},{immediate:!0,deep:!0}),be(()=>{e.value=!0}),He(()=>{u.value.setClearLiquiditytransactionList()});const E=t=>{var _;let n;return(t==null?void 0:t.address)=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?n="0x2::sui::SUI":n=t==null?void 0:t.address,(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((_=I.value.tokensObj[n])==null?void 0:_.logo_url)||(t==null?void 0:t.url)||(u.value.theme==="default"?ye("/image/coins/unknown.png"):ye("/image/coins/sui-unknown.png"))},U=t=>{switch(t){case"add_liquidity_event":return"Add liquidity";case"swap_event":return"Swap";case"remove_liquidity_event":return"Remove liquidity";case"collect_reward_event":return"Claim Rewards";case"collect_fee_event":return"Claim Fees"}},V=$(()=>u.value.currentExplorer);return{clickRow:t=>{const n=x(V.value,"tx",t.tx);window.open(n,"_blank")},isShowLoadMore:M,formatNumberDecimal:ie,getTimeDifferenceString:le,isTracitionLoading:A,poolStatsInfo:p,chainName:k,loadMore:N,poolMoreInfo:v,addCommom:Y,route:d,poolInfo:l,getType:U,getCoinIcon:E,transactionList:f,refresh:D,clickRefresh:a,checkNullObj:Z,store:u,isLoading:e,getSuicanExplorerUrl:ze,getExplorerUrl:x,currentExplorer:V}}});const B=e=>(de("data-v-2661e708"),e=e(),me(),e),dt={class:"analytics-container"},mt={class:"poolInfo"},pt={class:"transactions"},vt=B(()=>o("div",{class:"page-tit"},"Transactions",-1)),ft={class:"table-info table-transactions"},ht=B(()=>o("thead",{class:"table-header"},[o("tr",{class:"table-tr"},[o("th",null,"Event"),o("th",null,"Amounts"),o("th",null,"Transactions"),o("th",null,"Time")])],-1)),_t={key:0,class:"loading-global"},gt={key:1,class:"table-body"},yt=["onClick"],bt={key:0,class:"icon swap-icon","aria-hidden":"true"},kt=B(()=>o("use",{"xlink:href":"#icon-icon_swap3"},null,-1)),wt=[kt],$t={key:1,class:"icon add-icon","aria-hidden":"true"},It=B(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),Ct=[It],Dt={key:2,class:"icon remove-icon","aria-hidden":"true"},St=B(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),At=[St],Tt={key:0,class:"jiantou"},Nt=["href"],Lt={key:2,class:"noData"},Ut=B(()=>o("img",{src:so},null,-1)),Rt={class:"h5-table-info h5-transactions-table-info"},qt={class:"row"},Bt=B(()=>o("div",{class:"left"},"Event",-1)),Et={class:"right"},jt={key:0,class:"icon swap-icon","aria-hidden":"true"},Mt=B(()=>o("use",{"xlink:href":"#icon-tx_swap"},null,-1)),Vt=[Mt],zt={key:1,class:"icon add-icon","aria-hidden":"true"},Ot=B(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),Ft=[Ot],Yt={key:2,class:"icon remove-icon","aria-hidden":"true"},Pt=B(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),Jt=[Pt],Wt={class:"row"},Ht=B(()=>o("div",{class:"left"},"Amounts",-1)),Gt={class:"right"},Kt={key:0,class:"jiantou"},Qt={class:"row"},Xt=B(()=>o("div",{class:"left"},"Transactions",-1)),Zt={class:"right"},xt=["href"],es={class:"row"},os=B(()=>o("div",{class:"left"},"Time (UTC)",-1)),ts={class:"right"},ss={key:0,class:"load-more"};function ns(e,A,f,F,u,h){const T=X("AnalyticsChart"),I=X("CompositionInfo"),d=ke,k=X("CoinImg");return i(),c("div",dt,[o("div",mt,[L(T,{"pool-info":e.poolStatsInfo,address:e.route.query.poolAddress},null,8,["pool-info","address"]),L(I,{"pool-more-info":e.poolMoreInfo,"pool-info":e.poolInfo,refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["pool-more-info","pool-info","refresh","onClickRefresh"])]),o("div",pt,[vt,o("div",ft,[o("table",{class:H(["table",e.transactionList&&e.transactionList.length>0?"":"no-date-table"])},[ht,e.isTracitionLoading?(i(),c("div",_t,[L(d)])):q("",!0),e.transactionList&&e.transactionList.length>0?(i(),c("tbody",gt,[(i(!0),c(K,null,Q(e.transactionList,(s,N)=>{var D;return i(),c("tr",{key:N,class:"table-tr",onClick:a=>e.clickRow(s)},[o("td",null,[s.type=="swap_event"?(i(),c("svg",bt,wt)):q("",!0),s.type=="add_liquidity_event"?(i(),c("svg",$t,Ct)):q("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(i(),c("svg",Dt,At)):q("",!0),ge(" "+m(e.getType(s.type)),1)]),o("td",null,[o("div",{class:H(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((D=e.poolInfo)!=null&&D.needReverse)?"reserve-item-box":""])},[(i(!0),c(K,null,Q(s.items,(a,l)=>ne((i(),c("div",{key:l,class:"item"},[L(k,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:b(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:b(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1),s.type=="swap_event"?(i(),c("p",Tt,"â†’")):q("",!0)])),[[ae,Number(a.amount)!==0]])),128))],2)]),o("td",null,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:b(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,Nt)]),o("td",null,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:b(le))(Date.parse(s.block_time))),1)],8,yt)}),128))])):q("",!0),e.transactionList&&e.transactionList.length<=0&&!e.isLoading?(i(),c("div",Lt,[Ut,o("p",null,m(e.$t("newAdd.noTransactions")),1)])):q("",!0)],2)]),o("div",Rt,[(i(!0),c(K,null,Q(e.transactionList,(s,N)=>{var D;return ne((i(),c("div",{key:N,class:"card"},[o("div",qt,[Bt,o("div",Et,[s.type=="swap_event"?(i(),c("svg",jt,Vt)):q("",!0),s.type=="add_liquidity_event"?(i(),c("svg",zt,Ft)):q("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(i(),c("svg",Yt,Jt)):q("",!0),ge(" "+m(e.getType(s.type)),1)])]),o("div",Wt,[Ht,o("div",Gt,[o("div",{class:H(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((D=e.poolInfo)!=null&&D.needReverse)?"reserve-item-box":""])},[(i(!0),c(K,null,Q(s.items,(a,l)=>ne((i(),c("div",{key:l,class:"item"},[o("div",null,[o("div",null,[L(k,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:b(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:b(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1)]),s.type=="swap_event"?(i(),c("p",Kt,"â†’")):q("",!0)])])),[[ae,Number(a.amount)!==0]])),128))],2)])]),o("div",Qt,[Xt,o("div",Zt,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:b(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,xt)])]),o("div",es,[os,o("div",ts,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:b(le))(Date.parse(s.block_time))),1)])])),[[ae,e.transactionList&&e.transactionList.length>0]])}),128))]),e.transactionList&&e.transactionList.length>=10&&!e.isLoading&&e.isShowLoadMore?(i(),c("div",ss,[o("span",{onClick:A[0]||(A[0]=s=>e.loadMore())},"Load More")])):q("",!0)])])}const Ss=ue(ut,[["render",ns],["__scopeId","data-v-2661e708"]]);export{Ss as default};
