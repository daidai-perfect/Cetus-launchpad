import{_ as Ae,C as Ie,u as Te,M as ue,a as ce,b as ke,c as $e,d as Ne,e as Oe,f as Ee,g as Me,h as Be,i as Re,j as Le,k as We}from"./global.9ceb7e51.js";import{a as me,Y as je,l as qe,r as S,m as C,a1 as De,N as Pe,a2 as R,e as fe,M as he,q as He,o as u,c as I,w as J,h as p,v as z,f as N,F as Fe,s as Ue,t as ze,u as Ke,i as K,j as Ge,B as Qe,E as Ye,y as de,D as $,b as Ze,C as Je,T as Xe,x as b,z as X,fj as Ve,p as xe,k as et}from"./entry.604b55fb.js";import{i as ve}from"./import-icon.de3e6c66.js";import{u as ge,g as x,c as tt}from"./index.5d1ebf04.js";import{u as Se,a as ee,b as G,o as ot,z as pe}from"./pool.1cf61252.js";import{a as st}from"./data.712deea2.js";import{_ as nt}from"./term-and-conditions.3ac1291c.js";import{u as at}from"./useTheme.a765d36a.js";import{u as lt}from"./notifi.366b3bc7.js";import"./img-no-Positions_2x.19e86b6e.js";import"./img-no-Positions_2x.37f35379.js";/* empty css              */import"./index.61d934d1.js";import"./icon-selected_3x.09e9a6f0.js";import"./nuxt-link.dd9e618f.js";import"./launchpad.e78cec51.js";/* empty css              */import"./decimal.0bdeb344.js";import"./bignumber.266e6c56.js";import"./useWhale.b025b714.js";const it=me({components:{Modal:je},setup(){const{t:e,locale:o}=qe(),l=S(!1),a=Se(),_=ee(),j=ee(),T=C(()=>j),L=A=>{const g=A.address||`${x.Aptos.faucetObjectId}::coin::${A.name}`;return a.tokensObj&&a.tokensObj[g]?a.tokensObj[g].logoURI:""},h=C(()=>T.value.chainName!=="Aptos"?st:[{symbol:"USDT",name:"CetusUSDT",num:"200",amount:"200000000"},{symbol:"USDC",name:"CetusUSDC",num:"200",amount:"200000000"},{symbol:"ETH",name:"CetusETH",num:"0.1",amount:"100000000"},{symbol:"BTC",name:"CetusBTC",num:"0.01",amount:"10000000"}]),s=C(()=>Object.fromEntries(h.value.map(A=>[A.symbol,A]))),{$notify:E}=De(),D=ge(),k=C(()=>D),{setIsShowSuccess:i,setIsShowRejected:P,setIsShowWaiting:M,setTransactionDesc:w,setTransactionTxid:y}=_,v=S(!1),B=S(!1),c=S(""),Y=async A=>{const g=G(T.value.chainName);if(!k.value.connected)k.value.setIsShowWalletModal(!0);else{B.value=!0,y(""),w(""),M(!0),c.value=A.symbol;try{const q=g.mintCoin(A);let O;if(T.value.chainName==="Aptos")O=await k.value.currentWallet.signAndSubmitTransaction(q);else{const W=await g.signAndExecuteTransactionBlock(k.value.currentWallet,q);O=g.handleTx(W)}if(O){v.value=!1,y(O.hash),M(!1),i(!0);const W={title:"Request Coins",desc:"",hash:O.hash,icon:"icon-icon-Increased",tit:"Request Coins",tokenInfo:{tokena:c.value,numa:`+ ${s.value[c.value].num}`,logoa:a.tokensObj&&a.tokensObj[A.address].logoURI},text:""};T.value.chainName!=="Aptos"&&(W.res=O.res),g.showTransitionPending(W),await g.watchTransaction(W)&&setTimeout(()=>{g.getAccount(k.value.address)},1e3)}else M(!1),E.error({icon:R("svg",{class:{icon:!0},"aria-hidden":!0},[R("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:R("div",{class:"notification-title"},[R("span",{innerHTML:"Request Coins Failed"},null)]),description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});B.value=!1}catch(q){B.value=!1,M(!1),console.log("mint coin error###",q),E.error({icon:R("svg",{class:{icon:!0},"aria-hidden":!0},[R("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:R("div",{class:"notification-title"},[R("span",{innerHTML:"Request Coins Failed"},null)]),duration:4.5,description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}}};S(0),S(0);const H=S("--"),te=S("--"),Z=S("--");Pe(async()=>{k.value.address&&T.value.chainName!=="Aptos"&&(v.value=!0)});const F=S("0");return{t:e,storeCounter:T,wallet:k,importIcon:ve,list:h,requestError:l,start:v,hour:H,min:te,sec:Z,loading:B,aptosBalance:F,toMintCoin:Y,currentCoin:c,getCoinIcon:L}}}),rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAR23aI5H0hshDAAAAIElEQVQoz2NggII0AQZUMCpAsUCoAwP1gTFBa5WoaC0ASoUK6Z2VFk8AAAAASUVORK5CYII=";const ut=p("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[p("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),ct={class:"request-title"},dt={class:"top"},pt={class:"left"},mt={key:0,src:rt,alt:""},ft={key:1,src:Ae,alt:""},ht={class:"right"},vt={class:"bottom"},gt={class:"img-name"},St={alt:""};function wt(e,o,l,a,_,j){const T=Qe,L=he("Modal"),h=He("image");return u(),I(L,{width:440,visible:!0,class:"request-modal",title:e.$t("common.requestCoins"),footer:null,centered:"",onCancel:o[0]||(o[0]=s=>e.$emit("onClose"))},{closeIcon:J(()=>[ut]),default:J(()=>[p("div",ct,z(e.t("newAdd.youNeedSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"Sui"})),1),p("div",dt,[p("div",pt,[e.storeCounter.theme=="default"?(u(),N("img",mt)):(u(),N("img",ft))]),p("div",ht,z(e.t("newAdd.toGetSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"SUI"})),1)]),p("div",vt,[(u(!0),N(Fe,null,Ue(e.list,s=>(u(),N("div",{key:s.symbol,class:"item"},[p("div",gt,[ze(p("img",St,null,512),[[h,e.getCoinIcon(s)||("importIcon"in e?e.importIcon:Ke(ve))(`/image/coins/${s.symbol.toLowerCase()}.png`)]]),p("span",null,"Â Â "+z(s.symbol)+" ",1)]),K(T,{class:"mint-coin-btn",loading:e.loading&&s.symbol===e.currentCoin,onClick:E=>e.toMintCoin(s)},{default:J(()=>[Ge(z(e.$t("button.request")),1)]),_:2},1032,["loading","onClick"])]))),128))])]),_:1},8,["title"])}const yt=fe(it,[["render",wt]]);var Ct=globalThis&&globalThis.__classPrivateFieldSet||function(e,o,l,a,_){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?e!==o||!_:!o.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?_.call(e,l):_?_.value=l:o.set(e,l),l},_t=globalThis&&globalThis.__classPrivateFieldGet||function(e,o,l,a){if(l==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?e!==o||!a:!o.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?a:l==="a"?a.call(e):a?a.value:o.get(e)},Q;function bt(e){const o=({register:l})=>l(e);try{window.dispatchEvent(new At(o))}catch(l){console.error(`wallet-standard:register-wallet event could not be dispatched
`,l)}try{window.addEventListener("wallet-standard:app-ready",({detail:l})=>o(l))}catch(l){console.error(`wallet-standard:app-ready event listener could not be added
`,l)}}class At extends Event{constructor(o){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Q.set(this,void 0),Ct(this,Q,o,"f")}get detail(){return _t(this,Q,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Q=new WeakMap;const V="default-layout",It=me({components:{CHead:Ie},setup(){var se,ne,ae,le,ie,re;const e=S(!1),o=Ye(),l=at(),a=ge(),_=Te(),j=S(!_.isInitialized(V));de(()=>{var f;const n=G("Sui").getFullClient(),r=new ue("cetus",n,((f=x.Sui)==null?void 0:f.network)==="testnet"?"sui:testnet":"sui:mainnet");bt(r)});const{connect:T,disconnect:L}=ce(),h=ee(),s=C(()=>h),E=C(()=>s.value.chainName?x[s.value.chainName]:{});let D=S(!1);const k=()=>{h.setTransactionDescText(""),h.setIsShowWaiting(!1)},i=C(()=>a);let P=S(null);$(()=>[i.value.address,s.value.chainName],([t,n])=>{if(t&&n){const r=G(n);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:209 ~ watch ~ is connect wallet:",n),r.getAccount(t,!0)}},{immediate:!0});const M=()=>{const t=ce(),n=localStorage.getItem("chainName"),r=localStorage.getItem(`cetus-${n}-current-wallet`),f=localStorage.getItem(`cetus-${n}-wallet-icon-name`),m=localStorage.getItem(`cetus-${n}-current-suiwallet`);ue.inMSafeWallet()?t.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):r?t.connect(r,f,n,"",m):n&&n.toLowerCase().includes("sui")&&t.disconnect(),P.value=window.setInterval(async()=>{if(i.value.address&&!i.value.loading&&i.value&&i.value.address&&i.value.countdown<i.value.autoRefreshTime&&(a.setCountdown(i.value.countdown+1),i.value.countdown===i.value.autoRefreshTime))try{await G(s.value.chainName).getAccount(i.value.address)}catch(d){console.log(d,"errorBalance")}},1e4)};$(()=>s.value.theme,t=>{const n=t==="sui2"?"sui":t;document.getElementsByTagName("body")[0].className=`theme-${n}`,t&&!_.isInitialized(V)&&(M(),setTimeout(()=>{j.value=!1,_.setLayoutInitialized(V)},1e3))},{immediate:!0});const w=Se(),y=C(()=>w);(se=window==null?void 0:window.aptos)!=null&&se.onNetworkChange&&((ne=window==null?void 0:window.aptos)==null||ne.onNetworkChange(t=>{a.setNetwork(t.networkName)})),(ae=window==null?void 0:window.martian)!=null&&ae.onNetworkChange&&((le=window==null?void 0:window.martian)==null||le.onNetworkChange(t=>a.setNetwork(t))),(ie=window==null?void 0:window.pontem)!=null&&ie.onNetworkChange&&((re=window==null?void 0:window.pontem)==null||re.onNetworkChange(t=>{a.setNetwork(t.name)}));const v=Ze(),B=C(()=>y.value.chainName=="Aptos"?s.value.collectTokenListAptos:s.value.collectTokenListSui);$(()=>[y.value.tokens,B.value],([t,n])=>{if(t&&t.length>0&&n&&n.length==0){const r=y.value.chainName=="Aptos"?pe("collectTokenListAptos1"):pe("collectTokenListSui");if(r&&r.length>0)s.value.setCollectTokenList(r,y.value.chainName);else{const f=t.filter(m=>m.suggested_priority&&m.suggested_priority>0).sort((m,d)=>Number(d.suggested_priority)-Number(m.suggested_priority));s.value.setCollectTokenList(f,y.value.chainName)}}},{immediate:!0}),de(()=>{var r,f;h.getFrontConfig();const t=JSON.parse(localStorage.getItem("importTokenList")||"[]")||[];if(h.setImportTokenList(t),o&&o.query&&o.query.source)l.seleteDefaultTheme();else{const m=(r=o==null?void 0:o.query)==null?void 0:r.chain,d=(f=o==null?void 0:o.query)==null?void 0:f.network,U=m||localStorage.getItem("theme");!U||U&&U.includes("sui")?d==="testnet"||U==="sui2"?l.selectSui2Theme():l.selectSuiTheme():l.seleteDefaultTheme()}const n=localStorage.getItem("chainName");window.setInterval(()=>{w.setRates(s.value.chainName),o.name!=="swap"&&h.getStatsData(s.value.chainName,s.value.filterCoinsObj)},12e4),document.addEventListener("click",()=>{s.value.setIsShowMore(!1),s.value.setOpenMore(!1),s.value.setOpenSwitchLang(!1),s.value.setOpenH5Icon(!1),s.value.setOpenSwitchChain(!1),s.value.setIsShowSetting(!1),s.value.setIsIdoOpenTerm(!1),s.value.setIsOpenExplorer(!1),s.value.setIsShowNotifi(!1),s.value.setIsShowHeaderMore(!1),s.value.setIsShowHeaderEarn(!1),i.value.setIsShowWalletCard(!1)}),window.addEventListener("updateExplorer",m=>{const d=localStorage.getItem(`${n}-currentExplorerUrl`);h.setCurrentExplorer(d)})}),Je(()=>{document.removeEventListener("click",()=>{s.value.setOpenH5Icon(!1),s.value.setOpenSwitchChain(!1),s.value.setOpenMore(!1),s.value.setIsShowMore(!1),s.value.setOpenSwitchLang(!1),s.value.setIsShowSetting(!1),s.value.setIsIdoOpenTerm(!1),s.value.setIsOpenExplorer(!1),s.value.setIsShowNotifi(!1),s.value.setIsShowHeaderMore(!1),s.value.setIsShowHeaderEarn(!1),i.value.setIsShowWalletCard(!1)})}),$(()=>s.value.chainName,(t,n)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:395 ~ setup ~ newValue:",t),t&&t!==n&&(w.setTokens(t),w.setRates(t),w.getRecommendRanges(t))},{immediate:!0}),$(()=>[s.value.chainName,s.value.filterCoinsObj],(t,n)=>{t&&n&&t[0]&&t[0]!==n[0]&&(n[1]&&tt(n[1])||!n[0]&&!n[1])&&h.getStatsData(t[0],t[1])},{immediate:!0}),$(()=>[s.value.chainName,s.value.filterCoinsObj,o.name,y.value.poolConfigList],([t,n,r,f])=>{n&&t&&(r!=="stats"||t=="Aptos")&&f&&f.length==0&&w.setPoolConfigList(s.value.chainName,n,t=="Aptos")}),Xe(()=>{window.clearInterval(P)});const c=()=>{a.setIsShowWalletModal(!1),L()},Y=()=>{a.setSwitchWallet(!0)},H=S(!1);localStorage.getItem("isFirstAccess")||(H.value=!0);const Z=()=>{localStorage.setItem("isFirstAccess",!0),H.value=!1},F=lt(),A=C(()=>F),g=C(()=>h),q=()=>{if(g.value.chainName==="Aptos"){const t=i.value.currentWallet.publicAccount,n=t.address,r=t.publicKey;A.value.initNotifi(n,r,g.value.chainName)}else A.value.initNotifi(i.value.address,i.value.address,g.value.chainName)};$(()=>[g.value.chainName,i.value.address],([t,n])=>{E.value.hasNotifi&&(n?q():F.setNotifiStatus("logOut")),t==="Sui"&&o.name=="pool"&&v.push("/pool/list"),t==="Aptos"&&o.name=="pool"&&v.push("/pools"),t==="Aptos"&&o.name=="pool-vaults"&&v.replace("/pools"),t==="Aptos"&&(o.path.includes("/launchpad")||o.path.includes("/xcetus")||o.path.includes("/pool/list")||o.path.includes("/pool/vaults")||o.path.includes("/vaults")||o.path.includes("/farms"))&&(console.log("ðŸš€ ~ setup ~ newChainName:",t),v.push("/pools")),t==="Aptos"&&o.path.includes("/limit")&&v.push("/swap"),t==="Aptos"&&o.path.includes("/pool/position")&&v.push("/pools"),t==="Sui"&&o.path.includes("/pools")&&v.push("/pool/list"),o.name=="liquidity"&&v.push("/liquidity/deposit"),t==="Sui"&&o.name=="position"&&v.push("/pool/list")},{immediate:!0});const O=C(()=>y.value.poolListPageSize),W=C(()=>g.value.poolAmount),oe=()=>{if(!o.name.includes("stats")){e.value=!1;return}const t=document.querySelector(".new-sui-stats-container-bg");t&&(t.scrollTop>0?e.value=!0:e.value=!1,Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight&&20+O.value<W.value&&w.setPageSize(20+O.value))},ye=()=>{const t=document.querySelector(".new-sui-stats-container-bg");t&&t.scrollTo({top:0,behavior:"smooth"})},Ce=t=>{let n={};const r=t.filter(m=>!m.is_pause),f={};for(let m=0;m<r.length;m++){const d=r[m];if(!n[d.routerSymbol]){n[d.routerSymbol]=d,f[d.routerSymbol]={base:d.token_a.address,quote:d.token_b.address,addressMap:new Map([[d.fee_rate,d.address]])};continue}n[d.routerSymbol]&&f[d.routerSymbol].addressMap.set(d.fee_rate,d.address)}return{paths:Object.values(f)}},_e=ot();$(()=>[y.value.openPool],async([t])=>{if(t&&t.length>0){const n=Ce(t);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:695 ~ paths:",n),_e.setPoolListGroupByTokenAB(n==null?void 0:n.paths)}},{immediate:!0}),$(()=>[y.value.poolConfigList,s.value.chainName],([t,n],[r,f])=>{var m;t.length!==r.length&&n&&n.toLowerCase().includes((m=t[0])==null?void 0:m.chain)&&(w.setPools(t,n),n=="Aptos"&&w.getTokensObj(t,n))}),$(()=>s.value.chainName,t=>{t=="Sui"&&w.getTokensObj([],"Sui")},{immediate:!0});const be=C(()=>s.value.chainName);return{handleScroll:oe,scrollToTop:ye,showScrollTop:e,isRequestCoins:D,config:E,store:s,wallet:i,onSwitch:Y,onDisconnect:c,isLoading:j,closeTerm:Z,showTerm:H,closeWaitingModal:k,chainName:be}}}),we=e=>(xe("data-v-0c649198"),e=e(),et(),e),Tt={key:0,class:"scroll-top-svg"},kt=we(()=>p("use",{"xlink:href":"#icon-icon_top"},null,-1)),$t=[kt],Nt={key:1,class:"web-loading-box"},Ot={key:2,class:"default-container"},Et={class:"body-container"},Mt={key:0,class:"launchpad-banner"},Bt=we(()=>p("div",{class:"center"},[p("div",{class:"center-text"},[p("p",null,"Cetus Launchpad"),p("span",null,"Discover gems on Sui")])],-1)),Rt=[Bt];function Lt(e,o,l,a,_,j){const T=ke,L=he("c-head"),h=Ve,s=yt,E=$e,D=Ne,k=Oe,i=Ee,P=nt,M=Me,w=Be,y=Re,v=Le,B=We;return u(),N("div",null,[e.showScrollTop&&e.$route.name!=="swap"?(u(),N("div",Tt,[(u(),N("svg",{"aria-hidden":"true",class:"scrollTop",onClick:o[0]||(o[0]=(...c)=>e.scrollToTop&&e.scrollToTop(...c))},$t))])):b("",!0),e.isLoading?(u(),N("div",Nt,[K(T)])):(u(),N("div",Ot,[p("div",{class:X(["header-container",e.$route.name==="stats"&&e.chainName=="Sui"?"sui-stats-header":""])},[K(L)],2),p("div",Et,[p("div",{ref:"scrollContainer",class:X(e.$route.name.indexOf("403")>=0?"body-container-denied body-container-bg":e.$route.name==="stats"&&e.chainName=="Sui"?"new-sui-stats-container-bg":"body-container-bg"),onScroll:o[1]||(o[1]=(...c)=>e.handleScroll&&e.handleScroll(...c))},[e.$route.name==="launchpad"?(u(),N("div",Mt,Rt)):b("",!0),p("div",{class:X(["body-container-con",[e.$route.name==="launchpad"||e.$route.name.includes("upgrade-pools")||e.$route.name.includes("pool-list")||e.$route.name.includes("pool-position")||e.$route.name.includes("pool-vaults")?"launchpad-body-container-con":e.$route.name.indexOf("403")>=0?"delMargin":"",e.$route.name==="farms"||e.$route.name==="vaults"?"farms-body-container":""].join("")])},[K(h)],2)],34)]),e.isRequestCoins?(u(),I(s,{key:0,onOnClose:o[2]||(o[2]=c=>e.isRequestCoins=!1)})):b("",!0),e.store&&e.store.isShowSuccess?(u(),I(E,{key:1,onOnClose:o[3]||(o[3]=c=>e.store.setIsShowSuccess(!1))})):b("",!0),e.store&&e.store.isShowRejected?(u(),I(D,{key:2,onOnClose:o[4]||(o[4]=c=>e.store.setIsShowRejected(!1))})):b("",!0),e.store&&e.store.isShowWaiting?(u(),I(k,{key:3,onOnClose:e.closeWaitingModal},null,8,["onOnClose"])):b("",!0),e.wallet&&e.wallet.isShowWalletModal?(u(),I(i,{key:4,onOnDisconnect:o[5]||(o[5]=c=>e.onDisconnect()),onOnSwitch:o[6]||(o[6]=c=>e.onSwitch()),onOnClose:o[7]||(o[7]=c=>e.wallet.setIsShowWalletModal(!1))})):b("",!0),e.showTerm?(u(),I(P,{key:5,onClose:e.closeTerm},null,8,["onClose"])):b("",!0),e.store&&e.store.isShowSettingH5?(u(),I(M,{key:6,onOnClose:o[8]||(o[8]=c=>e.store.setIsShowSettingH5(!1))})):b("",!0),e.store&&e.store.isShowBuyCrypto?(u(),I(w,{key:7,onOnClose:o[9]||(o[9]=c=>e.store.setIsShowBuyCrypto(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoKODO?(u(),I(y,{key:8,onOnClose:o[10]||(o[10]=c=>e.store.setIsShowBuyCryptoKODO(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoConfirm?(u(),I(v,{key:9,onClose:o[11]||(o[11]=c=>e.store.setIsShowBuyCryptoConfirm(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoSelect?(u(),I(B,{key:10,onClose:o[12]||(o[12]=c=>e.store.setIsShowBuyCryptoSelect(!1))})):b("",!0)]))])}const oo=fe(It,[["render",Lt],["__scopeId","data-v-0c649198"]]);export{oo as default};
