import{s as Me,q as Q,d as W,c as Z,a as Y,o as x,p as he,h as E,b as Ve,v as ie,w as le,x as ze}from"./common.2aa2b559.js";import{a as ce,r as w,m as I,q as ye,A as ee,s as Oe,v as Fe,a5 as Ye,e as ue,o as l,f as c,h as o,F as G,E as K,u as y,c as Pe,x as m,i as L,G as j,O as ke,y as P,p as de,k as me,S as Je,l as X,N as _e,L as We,V as He,j as ge,I as ne,M as ae}from"./entry.41ea690b.js";/* empty css              */import{u as pe,a as $e,b as Ge}from"./index.46f67f5f.js";import{c as we,u as Ke}from"./index.e4df0a82.js";import{i as be}from"./import-icon.de3e6c66.js";import"./index.4014d28e.js";import"./index.24f699f7.js";import{l as Qe}from"./lodash.6a5443fc.js";import{f as Xe}from"./formatter.622c02db.js";import{A as Ze}from"./address-copy-link.6a135741.js";import{C as xe}from"./coin-img-warning.89bc8123.js";import{I as eo}from"./icon-refresh.b0624677.js";import{g as oo}from"./common-fun.5b7ba461.js";import{C as to}from"./coin-img.fde2782e.js";import{_ as so}from"./img-no-Positions_2x.9614cdf7.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./install.b71f8b16.js";import"./token.a65c225b.js";import"./precision.c92e897d.js";var re=(e=>(e.D="day",e.W="wek",e.M="mon",e))(re||{}),Ie=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(Ie||{}),H=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(H||{}),Ce=(e=>(e[e.D=6]="D",e[e.W=8]="W",e[e.M=12]="M",e))(Ce||{}),De=(e=>(e[e.D=4]="D",e[e.W=8]="W",e[e.M=12]="M",e))(De||{});const no=ce({props:{address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const T=["D","W","M"],f=w("vol"),F=[{label:"Volume",value:"vol"},{label:"TVL",value:"tvl"},{label:"Fees",value:"fee"}],d=w(""),h=w("D"),A=w("--"),C=pe(),i=w(),k=w(),s=w(!0),N=I(()=>C),S=r=>{switch(r){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},a=I(()=>we[N.value.chainName]),u=w(!1);ye(async()=>{window.addEventListener("resize",B),R(),await Me(1e3),u.value=!0}),ee(()=>[e.poolInfo,f.value],([r,t])=>{if(!Z(r)){console.log("ðŸš€ ~ watch ~ poolInfo:",r);let n;t=="vol"?n=r.vol:t=="tvl"?n=r.liqidity:n=r.fee_24_h,A.value=n=="--"||!n||Number(n)==0?"$0":Number(n)!==0&&Number(n)<.01?"<$0.01":"$"+Y(n,2)}},{immediate:!0});const v=async()=>{const r=f.value=="tvl"?"pure_tvl":f.value;s.value=!0;try{const t=Ie[h.value],{data:n}=e.address!==""?await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${r}&limit=${t}&address=${e.poolInfo.address}`).then(b=>b.json()):await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${r}&limit=${t}`).then(b=>b.json());console.log("ðŸš€ ~ getHistogram ~ data:",n);const _=n.list.map(b=>b.num),g=n.list.map(b=>b.date);i.value=_,k.value=g,D(_,g,t),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(t){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",t)}},p=w(),D=(r,t,n)=>{const _=document.getElementById("echartsBox"),g=Fe(_);p.value=g;let b={animation:!1,tooltip:{trigger:"axis",position:function(q,$,z,J,oe){return[q[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",formatter:function(q){V(q)},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#456D89"}}},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:t.reverse(),inverse:!0,axisLabel:{interval:parseInt(Number(r.length)/15),formatter:(q,$)=>{const z=Q(Date.parse(q)-288e5,"YMD")||"";let J,oe=z.slice(5,7),se=H[Number(oe)];return h.value=="M"?J=se:J=z.slice(8,10),`${J}`}}},yAxis:{show:!1,max:function(q){return Math.ceil(q.max)}},series:[{data:r.reverse(),inverse:!0,type:f.value=="tvl"?"line":"bar",symbol:"none",itemStyle:{normal:{barBorderRadius:[6,6,0,0],color:"#72C1F7"}},areaStyle:{color:new Ye(0,0,0,1,[{offset:0,color:"rgba(0, 128, 255, 0.3)"},{offset:1,color:"rgba(0, 128, 255, 0)"}])},barWidth:M.value?Ce[h.value]:De[h.value]}],grid:{left:5,top:5,bottom:20,right:5}};s.value=!1,b&&g.setOption(b),g&&g.resize(),g.on("globalout",q=>{let $;f.value=="vol"?$=Number(e.poolInfo.vol):f.value=="tvl"?$=Number(e.poolInfo.liqidity):$=Number(e.poolInfo.fee_24_h),A.value=$=="--"||!$||Number($)==0?"$0":Number($)!==0&&Number($)<.01?"<$0.01":"$"+Y($,2),R()})};ee(()=>[h.value,f.value],([r,t])=>{(r||t)&&v()},{immediate:!0});const M=w(!0),B=Qe.debounce(()=>{document.body.clientWidth>750?M.value=!0:M.value=!1,!i.value&&!k.value?v():p.value&&p.value.resize()},300);Oe(()=>{window.removeEventListener("resize",B)});const R=()=>{const r=Q(Date.parse(new Date().toUTCString()),"YMD")||"";let t=r.slice(5,7),n=H[Number(t)];const _=r.slice(8,10),g=n,b=r.slice(0,4);d.value=g+"&nbsp;"+_+",&nbsp;"+b+"&nbsp;(UTC)"},V=r=>{A.value="$"+Xe(r[0].value,2);const t=Date.parse(r[0].axisValue),n=new Date(t);n.setDate(n.getDate()+7);const _=new Date(t);_.setDate(_.getDate()+31);const g=n.toUTCString(),b=_.toUTCString(),q=Q(Date.parse(b),"YMD")||"",$=Q(Date.parse(new Date().toUTCString()),"YMD")||"",z=Date.parse(g)>Date.parse(new Date().toUTCString())?Q(Date.parse(new Date().toUTCString()),"YMD")||"":Q(Date.parse(g),"YMD")||"";let J=$.slice(5,7),oe=H[Number(J)];const se=$.slice(8,10),Se=oe,Te=$.slice(0,4);let ve=r[0].axisValue.slice(5,7),Ae=H[Number(ve)];const fe=r[0].axisValue.slice(8,10),te=Ae,Ne=r[0].axisValue.slice(0,4);let Le=z.slice(5,7),Ue=H[Number(Le)];const Re=z.slice(8,10),qe=Ue,Be=z.slice(0,4),Ee=H[Number(ve)+1],je=q.slice(0,4);h.value=="D"?d.value=te+"&nbsp;"+fe+",&nbsp;"+Ne+"&nbsp;(UTC)":h.value=="W"?d.value=fe+"&nbsp;"+te+"-"+Re+"&nbsp;"+qe+"&nbsp;,&nbsp;"+Be+"&nbsp;(UTC)":d.value=Date.parse(b)>=Date.parse(new Date().toUTCString())?te+"&nbsp;01-"+Se+"&nbsp;"+se+",&nbsp;"+Te+"&nbsp;(UTC)":te+"&nbsp;01-"+Ee+"&nbsp;01,&nbsp;"+je+"&nbsp;(UTC)"};return{mode:f,showTime:d,showValue:A,modeList:F,timeList:T,isChartLoading:s,getModeLabel:S,decimalUi:W,checkNullObj:Z,store:N,currentTimeTab:h}}});const ao=e=>(de("data-v-90137fb9"),e=e(),me(),e),io={class:"sui-chart-container"},lo={class:"chart-tab"},ro={class:"mode-list"},co=["onClick"],uo={class:"time-list pc-time-tab"},mo=["onClick"],po={class:"echarts-content"},vo={class:"echarts-content-top"},fo={key:1},ho=["innerHTML"],_o={class:"time-list h5-time-tab"},go=["onClick"],bo={key:0,class:"echarts-content-bottom echarts-content-bottom-isChartLoading"},yo=ao(()=>o("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function ko(e,T,f,F,d,h){const A=Je,C=ke;return l(),c("div",io,[o("div",lo,[o("div",ro,[(l(!0),c(G,null,K(e.modeList,i=>(l(),c("div",{key:i,class:P(["title",e.mode==i.value?"title-active":""]),onClick:k=>e.mode=i.value},m(i.label),11,co))),128))]),o("div",uo,[(l(!0),c(G,null,K(e.timeList,i=>(l(),c("div",{key:i,class:P(["time-item",i==e.currentTimeTab?"time-item-active":""]),onClick:k=>e.currentTimeTab=i},m(i),11,mo))),128))])]),o("div",po,[o("div",vo,[("checkNullObj"in e?e.checkNullObj:y(Z))(e.poolInfo||{})?(l(),Pe(A,{key:0,class:"upgrade-text-skeleton","is-chart-loading":!0,active:"",paragraph:!1})):(l(),c("p",fo,m(e.showValue),1)),o("span",{innerHTML:e.showTime},null,8,ho),o("div",_o,[(l(!0),c(G,null,K(e.timeList,i=>(l(),c("div",{key:i,class:P(["time-item",i==e.currentTimeTab?"time-item-active":""]),onClick:k=>e.currentTimeTab=i},m(i),11,go))),128))])]),e.isChartLoading?(l(),c("div",bo,[L(C)])):j("",!0),yo])])}const $o=ue(no,[["render",ko],["__scopeId","data-v-90137fb9"]]),wo=ce({components:{CoinImgWarning:xe,AddressCopyLink:Ze,IconRefresh:eo},props:{address:{type:String,required:!1,default:""},refresh:{type:Boolean,required:!0,default:!1},poolInfo:{type:Object,required:!1,default:()=>({})},poolMoreInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const T=pe(),f=I(()=>T),F=I(()=>f.value.currentExplorer),d=$e(),h=I(()=>d),A=I(()=>{var u,v,p,D;let a;return f.value.chainName=="Sui"?a=e.poolInfo&&e.poolInfo.object&&((u=e.poolInfo)==null?void 0:u.object.coin_a):a=e.poolMoreInfo&&((v=e.poolMoreInfo)==null?void 0:v.coinAmountA),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinA)&&((D=e.poolInfo)==null?void 0:D.coinA.decimals))}),C=I(()=>{var u,v,p,D;let a;return a=e.poolInfo&&((u=e.poolInfo)==null?void 0:u.object)&&((v=e.poolInfo)==null?void 0:v.object.coin_b),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinB)&&((D=e.poolInfo)==null?void 0:D.coinB.decimals))}),i=I(()=>{var a,u;if(h.value.RATES){const v=E(A.value),p=E(((u=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinA)&&e.poolInfo.coinA.address])==null?void 0:u.price)||0);return v.mul(p).toString()}else return"--"}),k=I(()=>{var a,u,v;if(h.value.RATES){const p=E(C.value),D=E(((v=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinB)&&((u=e.poolInfo)==null?void 0:u.coinB.address)])==null?void 0:v.price)||0);return p.mul(D).toString()}else return"--"}),s=w(),N=w(),S=(a,u)=>{var V,r;console.log(a,u,"###usdA usdB");const v=[];let p=E(0);const D=E(a).plus(E(u));[{amount:a,name:"usdA"},{amount:u,name:"usdB"}].forEach(t=>{const n=t.amount,_=E(n).gt(0)?E(n).div(D).mul(100).toString():0,g=Ve(_,2);p=p.plus(g);const b=g.split(".");v.push({value:g,decimal:b[1],name:t.name})});let B=E(100).minus(p).toNumber();const R=v.sort((t,n)=>Number(n.decimal)-Number(t.decimal));if(B&&p.gt(0))for(let t=0;t<R.length&&B;t++)R[t].value=E(R[t].value).plus(.01).toString(),B=E(B).minus(.01).toNumber();s.value=(V=R.find(t=>t.name=="usdA"))==null?void 0:V.value,N.value=(r=R.find(t=>t.name=="usdB"))==null?void 0:r.value};return ee(()=>[i.value,k.value],([a,u])=>{a&&u&&S(a,u)},{immediate:!0}),{amountAUSD:i,amountBUSD:k,amountA:A,amountB:C,tokena_ratio:s,tokenb_ratio:N,store:f,currentExplorer:F,getExplorerUrl:x}}});const O=e=>(de("data-v-2c98a68d"),e=e(),me(),e),Io={class:"composition-info-box"},Co={class:"info-box"},Do={class:"info-tit"},So=O(()=>o("span",null,"Pool Info",-1)),To={class:"info-detail"},Ao={class:"item"},No=O(()=>o("p",null,"Pool Address",-1)),Lo={class:"item"},Uo=O(()=>o("p",null,"Pool ID",-1)),Ro={class:"item"},qo=O(()=>o("p",null,"Tick Spacing",-1)),Bo={class:"item"},Eo=O(()=>o("p",null,"Fee Tier",-1)),jo={key:0},Mo={key:1},Vo={class:"composition-box"},zo=O(()=>o("div",{class:"info-tit"},[o("span",null,"Pool Composition")],-1)),Oo={class:"coin-a-ratio"},Fo={class:"name-ratio"},Yo={class:"coin-b-ratio"},Po={class:"name-ratio"},Jo={class:"item"},Wo={class:"row"},Ho={class:"left"},Go={class:"right"},Ko={class:"row"},Qo=O(()=>o("div",{class:"left"},"Amount",-1)),Xo={class:"right"},Zo={class:"row"},xo=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),et={class:"right"},ot={class:"item"},tt={class:"row"},st={class:"left"},nt={class:"right"},at={class:"row"},it=O(()=>o("div",{class:"left"},"Amount",-1)),lt={class:"right"},rt={class:"row"},ct=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),ut={class:"right"};function dt(e,T,f,F,d,h){var k,s,N,S,a,u,v,p,D,M,B,R,V,r,t,n,_,g,b,q,$,z;const A=X("IconRefresh"),C=X("AddressCopyLink"),i=X("CoinImgWarning");return l(),c("div",Io,[o("div",Co,[o("div",Do,[So,L(A,{refresh:e.refresh,onClickRefresh:T[0]||(T[0]=J=>e.$emit("clickRefresh"))},null,8,["refresh"])]),o("div",To,[o("div",Ao,[No,L(C,{address:(k=e.poolInfo)==null?void 0:k.address,"current-explorer-type":"poolAddress"},null,8,["address"])]),o("div",Lo,[Uo,o("span",null,"#"+m(e.poolInfo&&e.poolInfo.object&&((s=e.poolInfo)==null?void 0:s.object.index)),1)]),o("div",Ro,[qo,o("span",null,m(e.poolInfo&&((N=e.poolInfo)==null?void 0:N.tick_spacing)),1)]),o("div",Bo,[Eo,("checkNullObj"in e?e.checkNullObj:y(Z))(e.poolInfo||{})?(l(),c("span",jo,"--%")):(l(),c("span",Mo,m(e.poolInfo&&((S=e.poolInfo)==null?void 0:S.fee)*100)+"%",1))])])]),o("div",Vo,[zo,o("div",{class:P(["liquidity-ratio",(a=e.poolInfo)!=null&&a.needReverse?"liquidity-ratio-reserve":""])},[o("div",Oo,[L(i,{"token-info":(u=e.poolInfo)==null?void 0:u.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("div",Fo,[o("span",null,m((p=(v=e.poolInfo)==null?void 0:v.coinA)==null?void 0:p.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:y(W))(e.tokena_ratio,2))+"%",1)])]),o("div",{class:P(["ratio-progress",Number(e.tokena_ratio)==0&&Number(e.tokenb_ratio)==0?"null-progress":""])},[o("div",{class:"from-percent",style:_e({width:e.tokena_ratio+"%"})},null,4),o("div",{class:"to-percent",style:_e({width:e.tokenb_ratio+"%"})},null,4)],2),o("div",Yo,[L(i,{"token-info":(D=e.poolInfo)==null?void 0:D.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("div",Po,[o("span",null,m((B=(M=e.poolInfo)==null?void 0:M.coinB)==null?void 0:B.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:y(W))(e.tokenb_ratio,2))+"%",1)])])],2),o("div",{class:P(["bottom",(R=e.poolInfo)!=null&&R.needReverse?"bottom-reserve":""])},[o("div",Jo,[o("div",Wo,[o("div",Ho,[L(i,{"token-info":(V=e.poolInfo)==null?void 0:V.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinA&&e.poolInfo.coinA.symbol),1)]),o("div",Go,[L(C,{address:(t=(r=e.poolInfo)==null?void 0:r.coinA)==null?void 0:t.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",Ko,[Qo,o("div",Xo,m(("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountA,(_=(n=e.poolInfo)==null?void 0:n.coinA)==null?void 0:_.decimals))),1)]),o("div",Zo,[xo,o("div",et,m(Number(e.amountAUSD)>0&&Number(e.amountAUSD)<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountAUSD,2))),1)])]),o("div",ot,[o("div",tt,[o("div",st,[L(i,{"token-info":(g=e.poolInfo)==null?void 0:g.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinB&&e.poolInfo.coinB.symbol),1)]),o("div",nt,[L(C,{address:(q=(b=e.poolInfo)==null?void 0:b.coinB)==null?void 0:q.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",at,[it,o("div",lt,m(("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountA,(z=($=e.poolInfo)==null?void 0:$.coinB)==null?void 0:z.decimals))),1)]),o("div",rt,[ct,o("div",ut,m(Number(e.amountBUSD)>0&&Number(e.amountBUSD)<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountBUSD,2))),1)])])],2)])])}const mt=ue(wo,[["render",dt],["__scopeId","data-v-2c98a68d"]]),pt=ce({components:{AnalyticsChart:$o,CompositionInfo:mt,CoinImg:to},setup(){const e=w(!0),T=w(!1),f=w([]),F=pe(),d=I(()=>F),h=Ke();I(()=>h);const A=$e(),C=I(()=>A),i=We();I(()=>we[d.value.chainName]);const k=I(()=>d.value.chainName),s=w(0),N=()=>{T.value=!0,s.value=s.value+1,d.value.getTransactionList(k.value,i.query.poolAddress,s.value)},S=w(!1),a=()=>{S.value=!0,e.value=!0,f.value=[],C.value.setPoolConfigList(d.value.chainName,d.value.filterCoinsObj),d.value.getTransactionList(k.value,i.query.poolAddress,0),F.getStatsData(d.value.chainName,d.value.filterCoinsObj),setTimeout(()=>{S.value=!1},1e3)},u=I(()=>{const t=i.query.poolAddress;return C.value.poolConfigObj[t]}),v=w({}),p=I(()=>oo(u.value,C,d));ee(()=>i,t=>{e.value=!0,f.value=[],d.value.getTransactionList(k.value,i.query.poolAddress,0)},{immediate:!0,deep:!0});const D=Ge(d.value.chainName),M=I(()=>d.value.isShowLoadMore);ee(()=>[d.value.liquiditytransactionList,u.value,M.value],async([t,n,_])=>{n&&(d.value.chainName&&d.value.chainName.includes("Aptos")&&(v.value=await D.getPool(n==null?void 0:n.address)),t?(f.value=t,e.value=!1,T.value=!1):_==!1&&(f.value=[],e.value=!1,T.value=!1))},{immediate:!0,deep:!0}),ye(()=>{e.value=!0}),He(()=>{d.value.setClearLiquiditytransactionList()});const B=t=>{var _;let n;return(t==null?void 0:t.address)=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?n="0x2::sui::SUI":n=t==null?void 0:t.address,(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((_=C.value.tokensObj[n])==null?void 0:_.logo_url)||(t==null?void 0:t.url)||(d.value.theme==="default"?be("/image/coins/unknown.png"):be("/image/coins/sui-unknown.png"))},R=t=>{switch(t){case"add_liquidity_event":return"Add liquidity";case"swap_event":return"Swap";case"remove_liquidity_event":return"Remove liquidity";case"collect_reward_event":return"Claim Rewards";case"collect_fee_event":return"Claim Fees"}},V=I(()=>d.value.currentExplorer);return{clickRow:t=>{const n=x(V.value,"tx",t.tx);window.open(n,"_blank")},isShowLoadMore:M,formatNumberDecimal:ie,getTimeDifferenceString:le,isTracitionLoading:T,poolStatsInfo:p,chainName:k,loadMore:N,poolMoreInfo:v,addCommom:Y,route:i,poolInfo:u,getType:R,getCoinIcon:B,transactionList:f,refresh:S,clickRefresh:a,checkNullObj:Z,store:d,isLoading:e,getSuicanExplorerUrl:ze,getExplorerUrl:x,currentExplorer:V}}});const U=e=>(de("data-v-e4a51902"),e=e(),me(),e),vt={class:"analytics-container"},ft={class:"poolInfo"},ht={class:"transactions"},_t=U(()=>o("div",{class:"page-tit"},"Transactions",-1)),gt={class:"table-info table-transactions"},bt=U(()=>o("thead",{class:"table-header"},[o("tr",{class:"table-tr"},[o("th",null,"Event"),o("th",null,"Amounts"),o("th",null,"Transactions"),o("th",null,"Time")])],-1)),yt={key:0,class:"table-body"},kt=["onClick"],$t={key:0,class:"icon swap-icon","aria-hidden":"true"},wt=U(()=>o("use",{"xlink:href":"#icon-icon_swap3"},null,-1)),It=[wt],Ct={key:1,class:"icon add-icon","aria-hidden":"true"},Dt=U(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),St=[Dt],Tt={key:2,class:"icon remove-icon","aria-hidden":"true"},At=U(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),Nt=[At],Lt={key:0,class:"jiantou"},Ut=["href"],Rt={key:1,class:"noData"},qt=U(()=>o("img",{src:so},null,-1)),Bt={class:"h5-table-info h5-transactions-table-info"},Et={class:"row"},jt=U(()=>o("div",{class:"left"},"Event",-1)),Mt={class:"right"},Vt={key:0,class:"icon swap-icon","aria-hidden":"true"},zt=U(()=>o("use",{"xlink:href":"#icon-icon_swap3"},null,-1)),Ot=[zt],Ft={key:1,class:"icon add-icon","aria-hidden":"true"},Yt=U(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),Pt=[Yt],Jt={key:2,class:"icon remove-icon","aria-hidden":"true"},Wt=U(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),Ht=[Wt],Gt={class:"row"},Kt=U(()=>o("div",{class:"left"},"Amounts",-1)),Qt={class:"right"},Xt={class:"row"},Zt=U(()=>o("div",{class:"left"},"Transactions",-1)),xt={class:"right"},es=["href"],os={class:"row"},ts=U(()=>o("div",{class:"left"},"Time (UTC)",-1)),ss={class:"right"},ns={key:0,class:"loading-transaction"},as=U(()=>o("span",null,"Loading more...",-1)),is={key:1,class:"load-more"};function ls(e,T,f,F,d,h){const A=X("AnalyticsChart"),C=X("CompositionInfo"),i=X("CoinImg"),k=ke;return l(),c("div",vt,[o("div",ft,[L(A,{"pool-info":e.poolStatsInfo,address:e.route.query.poolAddress},null,8,["pool-info","address"]),L(C,{"pool-more-info":e.poolMoreInfo,"pool-info":e.poolInfo,refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["pool-more-info","pool-info","refresh","onClickRefresh"])]),o("div",ht,[_t,o("div",gt,[o("table",{class:P(["table",e.transactionList&&e.transactionList.length>0?"":"no-date-table"])},[bt,e.transactionList&&e.transactionList.length>0?(l(),c("tbody",yt,[(l(!0),c(G,null,K(e.transactionList,(s,N)=>{var S;return l(),c("tr",{key:N,class:"table-tr",onClick:a=>e.clickRow(s)},[o("td",null,[s.type=="swap_event"?(l(),c("svg",$t,It)):j("",!0),s.type=="add_liquidity_event"?(l(),c("svg",Ct,St)):j("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(l(),c("svg",Tt,Nt)):j("",!0),ge(" "+m(e.getType(s.type)),1)]),o("td",null,[o("div",{class:P(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((S=e.poolInfo)!=null&&S.needReverse)?"reserve-item-box":""])},[(l(!0),c(G,null,K(s.items,(a,u)=>ne((l(),c("div",{key:u,class:"item"},[L(i,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:y(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:y(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1),s.type=="swap_event"?(l(),c("p",Lt,"â†’")):j("",!0)])),[[ae,Number(a.amount)!==0]])),128))],2)]),o("td",null,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:y(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,Ut)]),o("td",null,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:y(le))(Date.parse(s.block_time))),1)],8,kt)}),128))])):j("",!0),e.transactionList&&e.transactionList.length<=0&&!e.isLoading?(l(),c("div",Rt,[qt,o("p",null,m(e.$t("newAdd.noTransactions")),1)])):j("",!0)],2)]),o("div",Bt,[(l(!0),c(G,null,K(e.transactionList,(s,N)=>{var S;return ne((l(),c("div",{key:N,class:"card"},[o("div",Et,[jt,o("div",Mt,[s.type=="swap_event"?(l(),c("svg",Vt,Ot)):j("",!0),s.type=="add_liquidity_event"?(l(),c("svg",Ft,Pt)):j("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(l(),c("svg",Jt,Ht)):j("",!0),ge(" "+m(e.getType(s.type)),1)])]),o("div",Gt,[Kt,o("div",Qt,[o("div",{class:P(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((S=e.poolInfo)!=null&&S.needReverse)?"reserve-item-box":""])},[(l(!0),c(G,null,K(s.items,(a,u)=>ne((l(),c("div",{key:u,class:"item"},[o("div",null,[o("div",null,[L(i,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:y(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:y(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1)])])])),[[ae,Number(a.amount)!==0]])),128))],2)])]),o("div",Xt,[Zt,o("div",xt,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:y(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,es)])]),o("div",os,[ts,o("div",ss,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:y(le))(Date.parse(s.block_time))),1)])])),[[ae,e.transactionList&&e.transactionList.length>0]])}),128))]),e.isTracitionLoading?(l(),c("div",ns,[L(k),as])):j("",!0),!e.isTracitionLoading&&e.transactionList&&e.transactionList.length>=10&&!e.isLoading&&e.isShowLoadMore?(l(),c("div",is,[o("span",{onClick:T[0]||(T[0]=s=>e.loadMore())},"Load More")])):j("",!0)])])}const Ns=ue(pt,[["render",ls],["__scopeId","data-v-e4a51902"]]);export{Ns as default};
