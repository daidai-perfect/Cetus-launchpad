import{_ as ua}from"./refresh-icon.37477296.js";import{_ as ia}from"./assets-card.40a74922.js";import{_ as ra,a as va,b as da}from"./new-swap-confirm.332640d6.js";import{_ as ma}from"./network-tips.1d14afb1.js";import{_ as ca}from"./coin-select.8148b4c0.js";import{_ as pa}from"./swap-setting.119c673d.js";import{_ as fa}from"./token-warning-modal.2b038ba9.js";import{u as ga,i as eo,a as wa,d as pe,b as B,s as Ve,g as ue,e as Le,c as De,h as be,Z as Ca}from"./index.972d2d7e.js";import{a as ha,b as ba,a2 as Sa,a3 as Aa,l as ka,m as y,r,y as ya,C as Na,D as Q,a7 as So,e as Ia,M as Ao,q as Oa,o as h,f as I,h as v,F as _e,s as Ta,j as ie,v as R,i as X,w as x,x as M,z as H,c as P,t as Ee,u as ee,L as Ma,J as $a,B as Ra,p as Ua,k as Fa,W as Pa,S as Ba}from"./entry.8daddd9b.js";import"./index.081f2cdc.js";/* empty css              *//* empty css              *//* empty css              */import{i as xe}from"./import-icon.de3e6c66.js";import{a as ja,u as La,o as Da,b as Ea,p as ko}from"./pool.029ead56.js";import{D as c}from"./decimal.0bdeb344.js";import{A as qa,R as Wa,c as Te,u as Ha}from"./confetti.module.521a5866.js";import{_ as za}from"./limit-beta.65e30508.js";import{_ as Ja}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./token-warning.be305078.js";/* empty css              */import"./useDebounceFunction.8bb816ee.js";import"./install.6e3cb109.js";import"./token-warning_2x.59c79289.js";import"./img-no-Positions_2x.ccebd9be.js";import"./img-no-Positions_2x.d8dabdcd.js";import"./icon-error_2x.969c27bd.js";import"./icon-selected_3x.873560ed.js";import"./coin-img.7227b549.js";const Ka=ha({components:{AggregatorSettingModal:qa,RouterModal:Wa},setup(){const e=ba(),g=Sa(Aa,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:J,locale:yo}=ka(),L=ja(),re=La(),t=y(()=>re);let oe=r(!1),ae=r(!0),Me=r(!1),qe=r(!1),Se=r(!1),Y=r(!1);const fe=r("fromCoin"),Ae=r(""),ke=r(""),$e=r(!1),m=r(!0),Re=r(!1),$=r(!1),K=r(!1),i=r(""),u=r(""),ge=r(20),D=r(0),b=r(null),V=r(!1),ye=y(()=>L.slippage),S=y(()=>L.chainName),E=y(()=>S.value?Ea(S.value):{}),_=y(()=>Ha()),n=r(),s=r(),We=y(()=>ue&&ue[S.value]&&ue[S.value].hasRouter),oo=y(()=>re.getPoolInfoSuccess),No=y(()=>{var o;return w.value&&((o=w.value)!=null&&o.is_pause)?"Pool Closed":!n.value||!s.value?J("modal.selectTokenModalTitle"):!Number(i.value)&&!Number(u.value)?J("button.enterAmount"):!We.value&&!w.value&&oo.value?"Pool Not Found":We.value&&Ce.value?"No Available Route":V.value?J("button.insufficientLiquidity"):Number(i.value)>Number(W.value)?J("button.insufficientBalance",{name:n.value.symbol}):J("button.swap")}),Io=o=>{var l,a,p,d;fe.value=o,o==="fromCoin"?(Ae.value=((l=s.value)==null?void 0:l.address)||"",ke.value=((a=n.value)==null?void 0:a.address)||""):(Ae.value=((p=n.value)==null?void 0:p.address)||"",ke.value=((d=s.value)==null?void 0:d.address)||""),$e.value=!0},He=r({}),ze=r({}),Oo=o=>{fe.value==="fromCoin"?(He.value=o,Ge(o)):(ze.value=o,Ge(o))},To=o=>{o==="fromCoin"?(m.value=!0,S.value==="Aptos"?i.value=W.value>0?n.value.symbol=="APT"?new c(Number(W.value)).sub(new c(.1)).lt(new c(0))?"0":new c(Number(W.value)).sub(new c(.1)).toString():String(W.value):"":i.value=W.value>0?n.value.symbol=="SUI"?new c(Number(W.value)).sub(new c(.05)).lt(new c(0))?"0":new c(Number(W.value)).sub(new c(.05)).toString():String(W.value):""):(m.value=!1,S.value==="Aptos"?u.value=z.value>0?s.value.symbol=="APT"?new c(Number(z.value)).sub(new c(.1)).lt(new c(0))?"0":new c(Number(z.value)).sub(new c(.1)).toString():String(z.value):"":u.value=z.value>0?s.value.symbol=="SUI"?new c(Number(z.value)).sub(new c(.05)).lt(new c(0))?"0":new c(Number(z.value)).sub(new c(.05)).toString():String(z.value):"")},Mo=o=>{o==="fromCoin"?(m.value=!0,i.value=W.value>0?Ve(new c(Number(W.value)).div(2).toString(),n.value.decimals).toString():""):(m.value=!1,u.value=z.value>0?Ve(new c(Number(z.value)).div(2).toString(),s.value.decimals).toString():"")},Je=r(!1);ya(()=>{ao(),window.addEventListener("updateSwapParams",o=>{Je.value=!Je.value})}),Na(()=>{clearInterval(b.value)});const Ke=y(()=>L),ve=async o=>{S.value=="Aptos"?$o(o):Xe()},Ze=()=>{ae.value||!w.value&&!We.value||(clearInterval(b.value),re.setPoolConfigList(Ke.value.chainName,Ke.value.filterCoinsObj),D.value=0,ae.value=!0,w.value&&re.updateCurrentPools(w.value.poolAddress,S.value),le.value||ve(m.value?i.value:u.value),q.value.address&&E.value.getAccount(q.value.address),L.getStatsData(S.value,Ke.value.filterCoinsObj),setTimeout(()=>{ae.value=!1,ao()},1e3))},ao=()=>{b.value=setInterval(()=>{ae.value=!1,Re.value||D.value<ge.value&&(D.value+=1,D.value===ge.value&&(S.value=="Aptos"?(w.value&&w.value.poolAddress&&re.updateCurrentPools(w.value.poolAddress,S.value),Ze()):Y.value||Ze(),D.value=0,ae.value=!0))},1e3)};Q(m,So((o,l)=>{m.value=o},500));const de=r(!1);Q(i,(o,l)=>{o&&o!==0&&m.value&&(D.value=0,Be(ve(o),800)),o==""&&m.value&&(u.value="")}),Q(u,(o,l)=>{o&&o!==0&&!m.value&&(D.value=0,Be(ve(o),800)),o==""&&!m.value&&(i.value="")});const Ue=r(1e-4),Fe=async o=>{let l=o;if(S.value==="Aptos"&&!l.current_sqrt_price&&i.value&&u.value){const a=await E.value.getPools([l.address]);a&&a[0]&&(l={...o,...a[0],fee:Number(a[0].fee_rate)/1e6})}if(l.current_sqrt_price&&i.value&&u.value){const p=(n.value.address===l.coinA.address&&s.value.address===l.coinB.address?0:1)==0,d=new c(i.value),A=new c(u.value),k=d.sub(d.mul(new c(l.fee))),f=A.div(k);return E.value.getPriceImpactPct(l,f.toString(),p)}return"--"},no=r(0),so=r(0),lo=r(),we=r({}),$o=async o=>{if(w.value&&(le.value=!0,!(m.value&&Number(i.value)==0)&&!(!m.value&&Number(u.value)==0))){if(n.value&&s.value&&(i.value||u.value)){$.value=!0,K.value=!0,V.value=!1;const l=n.value.address===w.value.coinA.address&&s.value.address===w.value.coinB.address?0:1;try{let a=await E.value.preSwap({pool:w.value,a2b:l==0,byAmountIn:m.value,amount:m.value?i.value:u.value});V.value=a==null?void 0:a.isExceed,lo.value=a==null?void 0:a.estimatedFeeAmount,m.value?(u.value=a.estimatedAmountOut,se.value=(Number(a.estimatedAmountOut)/o).toString(),ne.value=(o/Number(a.estimatedAmountOut)).toString()):(i.value=a.estimatedAmountIn,se.value=(o/Number(a.estimatedAmountIn)).toString(),ne.value=(Number(a.estimatedAmountIn)/o).toString()),no.value=new c(u.value).div(i.value).toString(),so.value=new c(i.value).div(u.value).toString(),Ue.value=S.value=="Aptos"?await Fe(w.value):await Fe(we.value||w.value),$.value=!1,K.value=!1}catch(a){console.log("pre swap error1",a),$.value=!1,K.value=!1}}else m.value?u.value="":i.value="",$.value=!1,K.value=!1;le.value=!1}},Ro=ga(),q=y(()=>Ro),Uo=r({}),ne=r(""),se=r(""),W=y(()=>q.value.assets&&n.value&&q.value.assets[n.value.address]?ko(q.value.assets[n.value.address].balance,n.value.decimals):0),z=y(()=>q.value.assets&&s.value&&q.value.assets[s.value.address]?ko(q.value.assets[s.value.address].balance,s.value.decimals):0);Q(()=>t.value.tokensObj,async o=>{if(o&&!De(o)){const l=e?e.currentRoute.value.query.to:"",a=e?e.currentRoute.value.query.from:"";a?n.value=o[a]||await E.value.getTokenBySymbol(o,a):!a&&!n.value&&(n.value=o[ue[S.value].swapDefaultPair.fromCoin]),l?s.value=o[l]||await E.value.getTokenBySymbol(o,l):!l&&!s.value&&(s.value=o[ue[S.value].swapDefaultPair.toCoin],console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1014 ~ setup ~ newValue:",o),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1014 ~ setup ~ onfig[chainName.value].swapDefaultPair.toCoin:",ue[S.value].swapDefaultPair.toCoin)),!a&&l&&(n.value="")}},{immediate:!0});const w=y(()=>{var o,l,a,p,d;if(n.value&&s.value){let A=null,k={};if(Object.values(t.value.poolConfigList).forEach(C=>{var N,O,T,F;(C.coinA.address.toUpperCase()===((N=n.value.address)==null?void 0:N.toUpperCase())&&C.coinB.address.toUpperCase()===((O=s.value.address)==null?void 0:O.toUpperCase())||C.coinB.address.toUpperCase()===((T=n.value.address)==null?void 0:T.toUpperCase())&&C.coinA.address.toUpperCase()===((F=s.value.address)==null?void 0:F.toUpperCase()))&&(k[C.address]={...C})}),S.value=="Aptos"&&t.value.poolsObj&&!De(t.value.poolsObj))for(const C in t.value.poolsObj){const N=t.value.poolsObj[C];(N.token_a.address.toUpperCase()===((o=n.value.address)==null?void 0:o.toUpperCase())&&N.token_b.address.toUpperCase()===((l=s.value.address)==null?void 0:l.toUpperCase())||N.token_b.address.toUpperCase()===((a=n.value.address)==null?void 0:a.toUpperCase())&&N.token_a.address.toUpperCase()===((p=s.value.address)==null?void 0:p.toUpperCase()))&&(k[N.address]={...N})}const f=Object.values(k).sort((C,N)=>C.fee-N.fee);for(let C=0;C<f.length;C++)if(!((d=f[C])!=null&&d.is_pause)){A=f[C];break}return A&&!De(A)?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1094 ~ poolInfo ~ info:",A),A):null}return null}),to=r(!0),uo=r(!1),Fo=async o=>{o&&S.value=="Aptos"&&(ve(m.value?i.value:u.value),uo.value=!0,o.coinA.symbol.toLowerCase()===n.value.symbol.toLowerCase()&&o.coinB.symbol.toLowerCase()===s.value.symbol.toLowerCase()?to.value=!0:to.value=!1,V.value=!1)};Q(()=>w.value,(o,l)=>{o&&(!l||o.address!==l.address||o.current_sqrt_price!==l.current_sqrt_price)&&Fo(o)},{immediate:!0,deep:!0});const Po=y(()=>t.value.tokensObj&&n.value&&n.value.address&&t.value.tokensObj[n.value.address]&&t.value.tokensObj[n.value.address].logoURI),Bo=y(()=>t.value.tokensObj&&s.value&&s.value.address&&t.value.tokensObj[s.value.address]&&t.value.tokensObj[s.value.address].logoURI),jo=y(()=>S.value==="Aptos"?t.value.tokensObj&&n.value&&n.value.address&&t.value.tokensObj[n.value.address]&&t.value.tokensObj[n.value.address].coingecko_id||null:t.value.tokensObj&&n.value&&n.value.address||null),Lo=y(()=>S.value==="Aptos"?t.value.tokensObj&&s.value&&s.value.address&&t.value.tokensObj[s.value.address]&&t.value.tokensObj[s.value.address].coingecko_id||null:t.value.tokensObj&&s.value&&s.value.address||null),Do=y(()=>{var o,l,a,p,d,A,k,f,C,N,O,T,F;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1222 ~ formCoinMarket ~ pools?.value?.tokensObj:",(o=t==null?void 0:t.value)==null?void 0:o.tokensObj),(p=(a=t==null?void 0:t.value)==null?void 0:a.tokensObj[(l=n==null?void 0:n.value)==null?void 0:l.address])!=null&&p.pyth_id&&((k=(A=t==null?void 0:t.value)==null?void 0:A.tokensObj[(d=n==null?void 0:n.value)==null?void 0:d.address])==null?void 0:k.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(N=(C=t==null?void 0:t.value)==null?void 0:C.tokensObj[(f=n==null?void 0:n.value)==null?void 0:f.address])!=null&&N.coingecko_id?"coingecko":(F=(T=t==null?void 0:t.value)==null?void 0:T.tokensObj[(O=n==null?void 0:n.value)==null?void 0:O.address])!=null&&F.birdeyeid?"birdeye":null}),Eo=y(()=>{var o,l,a,p,d,A,k,f,C,N,O,T;return(a=(l=t==null?void 0:t.value)==null?void 0:l.tokensObj[(o=s==null?void 0:s.value)==null?void 0:o.address])!=null&&a.pyth_id&&((A=(d=t==null?void 0:t.value)==null?void 0:d.tokensObj[(p=s==null?void 0:s.value)==null?void 0:p.address])==null?void 0:A.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(C=(f=t==null?void 0:t.value)==null?void 0:f.tokensObj[(k=s==null?void 0:s.value)==null?void 0:k.address])!=null&&C.coingecko_id?"coingecko":(T=(O=t==null?void 0:t.value)==null?void 0:O.tokensObj[(N=s==null?void 0:s.value)==null?void 0:N.address])!=null&&T.birdeyeid?"birdeye":null}),qo=y(()=>{var p,d;const o=new c(i.value),l=new c(S.value=="Aptos"?(p=w==null?void 0:w.value)==null?void 0:p.fee:(d=we==null?void 0:we.value)==null?void 0:d.fee),a=o.mul(l).toString();return Number(a)<1/Math.pow(10,n.value.decimals)?`<${new c(1).div(new c(Math.pow(10,n.value.decimals))).toString()}`:Ve(a,n.value.decimals)}),{setIsShowSuccess:Wo,setIsShowRejected:io,setIsShowWaiting:Pe,setTransactionDesc:Ho,setTransactionTxid:ro}=L,zo=async()=>{var l,a,p,d,A,k,f,C,N;Y.value=!1,$.value=!0,clearInterval(Ie),window.clearInterval(Ie),ro(""),Ho(J("tips.swapping",{from:`${B(i.value)} ${(l=n.value)==null?void 0:l.symbol}`,to:`${B(u.value)} ${(a=s.value)==null?void 0:a.symbol}`})),Pe(!0);let o;S.value=="Aptos"&&(o=n.value.address===w.value.token_a.address&&s.value.address===w.value.token_b.address?0:1);try{let O;if(S.value=="Aptos")O=await E.value.getSwapTransactionPayload({pool:w.value,a2b:o==0,byAmountIn:m.value,amount:m.value?i.value:u.value,slippage:Number(ye.value)/100});else{const F=m.value,te=Number(ye.value)/100;O=await((p=_==null?void 0:_.value)==null?void 0:p.getRouterSwapPayload(U.value,F,te,n,s))}console.log("0221####swap###swapPayload###",O);let T;if(S.value==="Aptos")T=await q.value.currentWallet.signAndSubmitTransaction(O);else{const F=await E.value.signAndExecuteTransactionBlock(q.value.currentWallet,O);console.log("0221###sui swap res###",F),T=E.value.handleTx(F),console.log("0221###swap###sui##tx###",T)}if(T&&T.hash){ro(T.hash),Pe(!1),Wo(!0);const F={title:J("tips.swap"),desc:J("tips.swapSuccessText",{from:`${B(i.value)} ${(d=n.value)==null?void 0:d.symbol}`,to:`${B(u.value)} ${(A=s.value)==null?void 0:A.symbol}`}),hash:T.hash,tit:"Swap",type:"liquidity",action:"swap",isHaveSui:n.value.address==ue[S.value].currentChainTokenAddress||s.value.address==ue[S.value].currentChainTokenAddress,icon:"icon-icon-swap1",tokenInfo:{tokena:`${(k=n.value)==null?void 0:k.address}`,numa:`- ${i.value}`,logoa:t.value.tokensObj&&n.value&&n.value.address&&t.value.tokensObj[n.value.address]&&t.value.tokensObj[n.value.address].logoURI,tokenb:`${(f=s.value)==null?void 0:f.address}`,numb:`+ ${u.value}`,logob:t.value.tokensObj&&s.value&&s.value.address&&t.value.tokensObj[s.value.address]&&t.value.tokensObj[s.value.address].logoURI},text:`Pay ${i.value} ${(C=n.value)==null?void 0:C.symbol} to receive ${u.value} ${(N=s.value)==null?void 0:N.symbol}`};S.value!=="Aptos"&&(F.res=T.res),E.value.showTransitionPending(F);const te=await E.value.watchTransaction(F);console.log("0221###swap###transitionStatus####",te),te&&setTimeout(()=>{S.value=="Aptos"&&re.updateCurrentPools(w.value.poolAddress,S.value),E.value.getAccount(q.value.address)},1e3)}else Pe(!1),io(!0);i.value="",u.value="",$.value=!1}catch(O){i.value="",u.value="",console.log("Swap Error###",O),$.value=!1,Pe(!1),io(!0)}},Jo=o=>{var l;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((l=t.value.tokensObj[o==null?void 0:o.address])==null?void 0:l.logo_url)||(L.theme==="default"?xe("/image/coins/unknown.png"):xe("/image/coins/sui-unknown.png"))},vo=r([]);Q(()=>[n.value,s.value,t.value.poolConfigList],([o,l,a])=>{if(a&&a.length>0&&o&&l){const p=[];a.forEach(d=>{var A,k,f,C;(d.coinA.address.toUpperCase()===((A=o.address)==null?void 0:A.toUpperCase())&&d.coinB.address.toUpperCase()===((k=l.address)==null?void 0:k.toUpperCase())||d.coinB.address.toUpperCase()===((f=o.address)==null?void 0:f.toUpperCase())&&d.coinA.address.toUpperCase()===((C=l.address)==null?void 0:C.toUpperCase()))&&(d!=null&&d.is_pause||p.push(d.address))}),vo.value=p}},{immediate:!0});const Ge=o=>{console.log("ðŸš€ ~ getTokenSource ~ token:",o);const l=L.importTokenListObj;console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1499 ~ getTokenSource ~ !importTokenListObj?.hasOwnProperty(token?.address):",!(l!=null&&l.hasOwnProperty(o==null?void 0:o.address))),o!=null&&o.isSelfBuilt&&!(l!=null&&l.hasOwnProperty(o==null?void 0:o.address))?Qe.value=!0:(fe.value==="fromCoin"?(i.value="",s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null),n.value=o):(n.value&&(u.value="",o.address.toLowerCase()===(n==null?void 0:n.value.address.toLowerCase())&&(n.value=null)),s.value=o),mo())},Qe=r(!1),mo=()=>{ze.value={},He.value={},Qe.value=!1},Ko=y(()=>L.isShowRouterModal),Ne=r([]),co=r(""),Zo=r(!1),po=Da();y(()=>po);const Ce=r(!1),U=r({}),Go=r(""),Qo=r(),le=r(!1),Xe=async o=>{var l,a;if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1954 ~ getSuiAmount ~ getSuiAmount:"),le.value=!0,n.value&&s.value&&(Number(i.value)>0&&m.value||Number(u.value)>0&&!m.value)){console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1954 ~ getSuiAmount ~ getSuiAmount:1"),(!i.value&&u.value||i.value&&!u.value)&&($.value=!0),ne.value="",se.value="",de.value=!0,Ce.value=!1;let p;w.value&&(p=n.value.address===w.value.coinA.address&&s.value.address===w.value.coinB.address?0:1);try{let d;if(m.value){const C=new c(i.value).mul(Math.pow(10,n.value.decimals)).toString();d=new Le(C)}else{const C=new c(u.value).mul(Math.pow(10,s.value.decimals)).toString();d=new Le(C)}const A=Number(ye.value)/100,k=w.value?{poolAddresses:vo.value,coinTypeA:w.value.coin_a_address,coinTypeB:w.value.coin_b_address,decimalsA:w.value.coinA.decimals,decimalsB:w.value.coinB.decimals,a2b:p==0,byAmountIn:m.value,amount:d.toString()}:"";console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1827 ~ setup ~ fromCoin:",n),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1827 ~ setup ~ toCoin:",s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1827 ~ setup ~ coinAmount:",d),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1827 ~ setup ~ fixedFromCoin.value:",m.value);const f=await((l=_==null?void 0:_.value)==null?void 0:l.getFindRouter(n,s,d.toString(),m.value,A,w.value?k:""));if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1827 ~ setup ~ swapRouter:",f),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1827 ~ setup ~ swapRouter JSON:",JSON.stringify(f,null,2)),!f||!(f!=null&&f.routes)||((a=f==null?void 0:f.routes)==null?void 0:a.length)==0){$.value=!1,Ce.value=!0,de.value=!1,le.value=!1,U.value={},Ne.value=[],i.value?u.value="":i.value="";return}if(f.fromCoinAddress!==n.value.address||f.toCoinAddress!==s.value.address){console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1861 ~ getSuiAmount ~",f.fromCoinAddress!==n.value.address||f.toCoinAddress!==s.value.address),U.value={},Ne.value=[];return}f?(U.value=f,Ne.value=f.routes,V.value=!1,m.value?i.value&&(u.value=new c(f.amountOut).div(new c(Math.pow(10,s.value.decimals))).toString()):u.value&&(i.value=new c(f.amountIn).div(new c(Math.pow(10,n.value.decimals))).toString()),console.log(u.value,"###toCoinAmount.value"),ne.value=B(pe(new c(i.value).div(new c(u.value).toString()),n.value.decimals)),se.value=B(pe(new c(u.value).div(i.value).toString(),s.value.decimals)),$.value=!1,Ce.value=!1,de.value=!1):($.value=!1,Ce.value=!0,de.value=!1)}catch(d){console.log("pre swap error2",d),$.value=!1,de.value=!1,le.value=!1}}else m.value?u.value="":i.value="",$.value=!1,de.value=!1;le.value=!1,console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1926 ~ getSuiAmount ~ isRoutrProgress.value:",le.value)},me=r(!1),fo=async o=>{var l;try{let a;if(m.value){const A=new c(i.value).mul(Math.pow(10,n.value.decimals)).toString();a=new Le(A)}else{const A=new c(u.value).mul(Math.pow(10,s.value.decimals)).toString();a=new Le(A)}const p=Number(ye.value)/100,d=await((l=_==null?void 0:_.value)==null?void 0:l.getFindRouter(n,s,a.toString(),m.value,p,""));if(d){U.value=d,Ne.value=d.routes,V.value=!1,co.value=d.amountIn,ne.value=B(pe(new c(i.value).div(new c(u.value).toString()),n.value.decimals)),se.value=B(pe(new c(u.value).div(i.value).toString(),s.value.decimals));const A=new c(d.amountOut).div(new c(Math.pow(10,s.value.decimals))).toString(),k=new c(d.amountIn).div(new c(Math.pow(10,n.value.decimals))).toString();m.value?u.value!==A&&(me.value=!0,u.value=A):i.value!==k&&(me.value=!0,i.value=k)}}catch(a){console.log("pre swap error3",a)}},Xo=async o=>{if(n.value&&s.value&&(i.value||u.value)){const l=n.value.address===w.value.coinA.address&&s.value.address===w.value.coinB.address?0:1;try{let a=await E.value.preSwap({pool:w.value,a2b:l==0,byAmountIn:m.value,amount:m.value?i.value:u.value});V.value=a==null?void 0:a.isExceed,lo.value=a==null?void 0:a.estimatedFeeAmount,m.value?(se.value=(Number(a.estimatedAmountOut)/a.estimatedAmountIn).toString(),ne.value=(a.estimatedAmountIn/Number(a.estimatedAmountOut)).toString()):(se.value=(Number(a.estimatedAmountOut)/Number(a.estimatedAmountIn)).toString(),ne.value=(Number(a.estimatedAmountIn)/Number(a.estimatedAmountOut)).toString()),m.value?u.value!==a.estimatedAmountOut&&(me.value=!0,u.value=a.estimatedAmountOut):i.value!==a.estimatedAmountIn&&(me.value=!0,i.value=a.estimatedAmountIn),Ue.value=S.value=="Aptos"?await Fe(w.value):await Fe(we.value||w.value),$.value=!1,K.value=!1}catch(a){console.log("pre swap error4",a),$.value=!1,K.value=!1}}else $.value=!1,K.value=!1};let Ie=r(null);Q(()=>Y.value,o=>{o?Ie.value=setInterval(()=>{S.value=="Aptos"?Xo(m.value):fo(m.value)},3e3):(clearInterval(Ie.value),window.clearInterval(Ie.value))},{immediate:!0}),Q(()=>Je.value,o=>{(Number(i.value)>0||Number(u.value)>0)&&ve(m.value?i.value:u.value)},{immediate:!0});const Yo=y(()=>po),go=y(()=>Yo.value.isInitRouter);Q(()=>go.value,o=>{o||(D.value=0,ve(m.value?i.value:u.value))},{immediate:!0});function Be(o,l=500){let a=null;return function(...p){clearTimeout(a),a=setTimeout(()=>{o.call(this,...p)},l)}}Q(()=>[n.value,s.value],([o,l])=>{if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2181 ~ setup ~ fromCoin && toCoin:",o&&l),o&&l&&(D.value=0,Be(ve(m.value?i.value:u.value))),o||l){console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:1965 ~ setup ~ fromCoin:",o);const a=`/swap?from=${o==null?void 0:o.address}&to=${l==null?void 0:l.address}`;e.push(a)}},{immediate:!0,deep:!0});const Vo=Be(wo);function wo(){const o=n.value;n.value=s.value,s.value=o,oe.value=!0,ce.value?m.value=!0:m.value=!m.value,m.value?(i.value=u.value,u.value=""):(u.value=i.value,i.value=""),setTimeout(()=>{oe.value=!1},300)}const _o=()=>{me.value=!1},xo=()=>{Y.value=!1,me.value=!1},ea=[{label:"Swap",link:"/swap"},{label:"Limit",link:"/limit"}],oa=r("Swap"),Co=r(!1),Ye=y(()=>{var o,l,a,p,d,A,k,f,C,N,O,T,F;try{if((o=n==null?void 0:n.value)!=null&&o.address&&((l=s==null?void 0:s.value)!=null&&l.address)&&(U!=null&&U.value)&&!De(U==null?void 0:U.value)){const te=be((a=U==null?void 0:U.value)==null?void 0:a.amountIn).div(Math.pow(10,(p=n.value)==null?void 0:p.decimals)),ta=be((d=U==null?void 0:U.value)==null?void 0:d.amountOut).div(Math.pow(10,(A=s.value)==null?void 0:A.decimals)),Oe=be(ta).div(te);console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2259 ~ suiPriceImpact ~ currentSwapRate:",Oe==null?void 0:Oe.toString());const Z=(C=(k=t==null?void 0:t.value)==null?void 0:k.RATES)==null?void 0:C[(f=n==null?void 0:n.value)==null?void 0:f.address];console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2259 ~ suiPriceImpact ~ fromCoinRate:",Z);const G=(T=(N=t==null?void 0:t.value)==null?void 0:N.RATES)==null?void 0:T[(O=s==null?void 0:s.value)==null?void 0:O.address];if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2259 ~ suiPriceImpact ~ toCoinRate:",G),!(Z!=null&&Z.price)||!(G!=null&&G.price)||be(Z==null?void 0:Z.price).lte(0)||be(G==null?void 0:G.price).lte(0))throw Error("rate invalid");const je=be(Z==null?void 0:Z.price).div(G==null?void 0:G.price);console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2259 ~ suiPriceImpact ~ marketRate:",je==null?void 0:je.toString());const he=Oe.minus(je).div(Oe).mul(100);return console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2259 ~ suiPriceImpact ~ result:",he==null?void 0:he.toString()),Ca((F=he==null?void 0:he.abs())==null?void 0:F.toString(),2)}return}catch(te){return console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2271 ~ suiPriceImpact ~ error:",te),"Incalculable"}}),aa=y(()=>(S==null?void 0:S.value)==="Aptos"?Ue.value:Ye==null?void 0:Ye.value),ce=r(!0),na=y(()=>L.liquiditySourceList),sa=o=>{console.log("ðŸš€ ~ modalConfirm ~ result121:",o),o&&o.length>0?o.every(a=>a.name=="Cetus"?!0:a.status==="close")?ce.value=!1:ce.value=!0:ce.value=!1,Co.value=!1},la=y(()=>L.includeRoutes),ho=o=>{ce.value=!ce.value,console.log("ðŸš€ ~ clickChecked ~ checked:",o);const l=la.value,a=na.value;a.forEach(p=>{o?p.status="open":p.name!=="Cetus"?p.status="close":p.status="open"}),console.log("ðŸš€ ~ //clickCheckedresult ~ arr:",a,l),L.setAggregatorSetting(a,l)},bo=()=>{const o=window.innerWidth,l=window.innerHeight,a=document.getElementById("plusModeSwitch"),p=a==null?void 0:a.getBoundingClientRect(),d=p==null?void 0:p.left,A=p==null?void 0:p.top;console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2299 ~ triggerConfettiAnimation ~ x:",d),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2299 ~ triggerConfettiAnimation ~ y:",A),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2299 ~ triggerConfettiAnimation ~ viewportWidth:",o),console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2299 ~ triggerConfettiAnimation ~ viewportHeight:",l);const k=2,f=Te.shapeFromText({text:"ðŸŸ¢",scalar:k}),C=Te.shapeFromText({text:"ðŸ”µ",scalar:k}),N=Te.shapeFromText({text:"ðŸ’š",scalar:k}),O=Te.shapeFromText({text:"ðŸ’™",scalar:k});Te({particleCount:40,spread:60,shapes:[f,C,N,O],scalar:k,origin:{x:d/o,y:A*1.2/l}})};return{modalConfirm:sa,clickChecked:ho,currentTradeTab:oa,plusChecked:ce,closeSwapConfirmModal:xo,updateAccept:_o,clickExchange:wo,debounceClickExchange:Vo,closeTokenWarning:mo,isShowTokenWarning:Qe,getTokenSource:Ge,hasPool:uo,getPoolInfoSuccess:oo,halfBtnSelect:Mo,formCoinId:jo,toCoinId:Lo,formCoinMarket:Do,toCoinMarket:Eo,fromCoinUrl:Po,toCoinUrl:Bo,t:J,indicator:g,wallet:q,currentLpInfo:Uo,fixD:eo,decimalFormat:wa,impact:Ue,oneFromAmount:ne,oneToAmount:se,importIcon:xe,clickRefresh:Ze,refresh:ae,change:oe,isShowAddress:Me,isShowSwapSetting:qe,fromCoin:n,toCoin:s,slippage:ye,openCoinSelect:Io,onCoinSelect:Oo,existingCoins:Ae,lastSelectCoin:ke,currentCoinKey:fe,showCoinSelect:$e,fromCoinAmount:i,toCoinAmount:u,maxBtnSelect:To,fixedFromCoin:m,swapBtnText:No,toSwap:zo,loading:Re,swaping:$,autoRefreshTime:ge,countdown:D,marketTimer:b,rateChange:Se,isSwapConfirmMpdal:Y,fromCoinBlance:W,toCoinBlance:z,poolInfo:w,chainName:S,swapRouterLoading:de,formatFee:qo,calculating:K,currentRate:no,currentRateReverse:so,getCoinIcon:Jo,toAddLiquidiPoolInfo:we,decimalUi:pe,warningToCoin:ze,warningFromCoin:He,isShowRouterModal:Ko,toSwapLoading:Zo,insufficientLiquidity:V,routerPool:Ne,routerTotalAmounts:co,store:L,suiPreSwapdata:U,suiSwapFee:Qo,suiSwapFeeUi:Go,addCommom:B,debounce:So,notFoundRouter:Ce,getSuiAmountAccept:fo,isShowAccept:me,getSuiAmount:Xe,tradeTabList:ea,isInitSwapRouter:go,isShowAggregatorModal:Co,priceImpact:aa,triggerConfettiAnimation:bo,handleSwitchPlusMode:o=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: swap.vue:2264 ~ handleSwitchPlusMode ~ value:",o),i.value="",u.value="",o&&bo(),ho(o),setTimeout(()=>{Xe()},500)}}}});const j=e=>(Ua("data-v-8e43aad6"),e=e(),Fa(),e),Za={class:"swap-container"},Ga={class:"left"},Qa=["onClick"],Xa={key:0,src:za,class:"beta",alt:""},Ya={class:"right title-right"},Va=j(()=>v("div",{class:"price-reference-text"}," The Plus Mode will aggregate external liquidity sources ",-1)),_a={key:0,class:H("icon-bg plus-switch")},xa=j(()=>v("p",null,[v("span",null,"Plus Mode"),ie(" ðŸ”¥")],-1)),en={class:"setting-right"},on=j(()=>v("div",{class:"new-style-tooltip-text"},"Swap Settings",-1)),an=j(()=>v("svg",{"aria-hidden":"true",class:"icon"},[v("use",{"xlink:href":"#icon-icon_set"})],-1)),nn=[an],sn=j(()=>v("div",{class:"new-style-tooltip-text"},"Slippage Settings",-1)),ln=j(()=>v("svg",{class:"icon","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-icon_verticalslider"})],-1)),tn={class:"swap-card"},un={class:"card-container"},rn=j(()=>v("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),vn=[rn],dn={key:1,class:"induction"},mn={key:0,class:"exchange-rate-btn"},cn={key:0},pn={key:0},fn={key:0},gn={key:1},wn={key:0},Cn=j(()=>v("div",null,[v("svg",{class:"icon icon-up","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),hn=j(()=>v("div",null,[v("svg",{class:"icon icon-down","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),bn=[Cn,hn],Sn={class:"item"},An={class:"induction-text"},kn={key:0,class:"icon","aria-hidden":"true"},yn=j(()=>v("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Nn=[yn],In={class:"item"},On={class:"induction-text"},Tn={key:0,class:"induction-value"},Mn={class:"item"},$n={class:"induction-text"},Rn={key:0,class:"induction-value"},Un={key:0,class:"icon","aria-hidden":"true"},Fn=j(()=>v("use",{"xlink:href":"#icon-icon-swap"},null,-1)),Pn=[Fn],Bn={key:2,class:"token-info-container"},jn={class:"token-info-title"},Ln=j(()=>v("span",{class:"coingecko"},"Price Reference",-1)),Dn=j(()=>v("div",{class:"price-reference-text"}," The following price is only an external reference from 3rd party data providers, which does not reflect actual data on Cetus. ",-1)),En=j(()=>v("svg",{class:"icon","aria-hidden":"true"},[v("use",{"xlink:href":"#icon-icon_tips"})],-1));function qn(e,g,J,yo,L,re){var ge,D;const t=Pa,oe=Ma,ae=ua,Me=ia,qe=ra,Se=$a,Y=Ba,fe=Ra,Ae=ma,ke=ca,$e=pa,m=va,Re=fa,$=Ao("RouterModal"),K=da,i=Ao("AggregatorSettingModal"),u=Oa("image");return h(),I("div",Za,[v("div",{class:H(e.chainName=="Sui"?"sui-title swap-title":"swap-title")},[v("div",Ga,[e.chainName=="Sui"?(h(!0),I(_e,{key:0},Ta(e.tradeTabList,b=>(h(),I("div",{key:b,class:H(["trade-tab",e.currentTradeTab==b.label?"trade-tab-active":""]),onClick:V=>e.$router.push(b.link)},[ie(R(b.label)+" ",1),b.label=="Limit"?(h(),I("img",Xa)):M("",!0)],10,Qa))),128)):(h(),I(_e,{key:1},[ie(R(e.$t("menu.swap")),1)],64))]),v("div",Ya,[X(oe,{"overlay-class-name":"price-impact-tooltip"},{title:x(()=>[Va]),default:x(()=>[e.chainName=="Sui"?(h(),I("div",_a,[xa,X(t,{id:"plusModeSwitch",class:"liquidity-switch",checked:e.plusChecked,onClick:g[0]||(g[0]=b=>{e.handleSwitchPlusMode(b)})},null,8,["checked"])])):M("",!0)]),_:1}),v("div",en,[e.chainName=="Sui"?(h(),I("div",{key:0,class:"aggregator-setting",onClick:g[1]||(g[1]=b=>e.isShowAggregatorModal=!0)},[X(oe,{"overlay-class-name":"new-style-tooltip"},{title:x(()=>[on]),default:x(()=>[v("div",{class:H(e.chainName=="Sui"?"icon-bg":"")},nn,2)]),_:1})])):M("",!0),X(oe,{"overlay-class-name":"new-style-tooltip"},{title:x(()=>[sn]),default:x(()=>[v("div",{class:"slippage-icon",onClick:g[2]||(g[2]=b=>e.isShowSwapSetting=!0)},[v("div",{class:H(e.chainName=="Sui"?"icon-bg":"")},[ln,v("span",null,R(e.slippage)+"%",1)],2)])]),_:1}),v("div",{class:H(e.chainName=="Sui"?"icon-bg":"")},[X(ae,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])],2)])])],2),v("div",tn,[v("div",un,[v("div",{class:H(["card-item",!e.fixedFromCoin&&e.swapRouterLoading?"card-item-mask":""])},[X(Me,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":g[3]||(g[3]=b=>e.fromCoinAmount=b),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From","swap-loading":!e.fixedFromCoin&&e.swapRouterLoading,onOnMax:g[4]||(g[4]=b=>e.maxBtnSelect("fromCoin")),onOnHalf:g[5]||(g[5]=b=>e.halfBtnSelect("fromCoin")),onOnInput:g[6]||(g[6]=b=>{e.fromCoinAmount=b,e.fixedFromCoin=!0}),onOnSelect:g[7]||(g[7]=b=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address","swap-loading"])],2),v("div",{class:H(["card-item",e.fixedFromCoin&&e.swapRouterLoading?"card-item-mask":""])},[X(Me,{modelValue:e.toCoinAmount,"onUpdate:modelValue":g[8]||(g[8]=b=>e.toCoinAmount=b),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",havehalf:!1,"input-disabled":e.chainName!=="Aptos"&&e.plusChecked,"swap-loading":e.fixedFromCoin&&e.swapRouterLoading,onOnInput:g[9]||(g[9]=b=>{e.toCoinAmount=b,e.fixedFromCoin=!1}),onOnSelect:g[10]||(g[10]=b=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address","input-disabled","swap-loading"])],2),v("img",{class:H(e.change?"gang animationex":"gang"),src:Ja,alt:""},null,2),v("div",{class:H(["exchange",e.chainName=="Sui"?"sui-exchange":""]),onClick:g[11]||(g[11]=(...b)=>e.debounceClickExchange&&e.debounceClickExchange(...b))},[(h(),I("svg",{class:H(e.change?"icon animationex":"icon"),"aria-hidden":"true"},vn,2))],2)]),e.chainName=="Sui"&&!e.notFoundRouter&&e.fromCoin&&e.toCoin?(h(),P(qe,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"form-coin-market":e.formCoinMarket,"to-coin-market":e.toCoinMarket,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.priceImpact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata,"sui-swap-fee":e.suiSwapFeeUi,"swap-router-loading":e.swapRouterLoading},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","form-coin-market","to-coin-market","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata","sui-swap-fee","swap-router-loading"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(h(),I("div",dn,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(h(),I("div",mn,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(h(),I("span",gn,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(h(),I("span",wn,[Ee(v("img",null,null,512),[[u,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),ie(" 1 "+R(e.toCoin.symbol)+" â‰ˆ ",1),Ee(v("img",null,null,512),[[u,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),v("span",null,R(("addCommom"in e?e.addCommom:ee(B))(("decimalUi"in e?e.decimalUi:ee(pe))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),ie(" Â "+R(e.fromCoin.symbol),1)])):(h(),P(Se,{key:1,indicator:e.indicator},null,8,["indicator"]))])):M("",!0):(h(),I("span",cn,[Ee(v("img",null,null,512),[[u,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),ie(" 1 "+R(e.fromCoin.symbol)+" â‰ˆ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(h(),I("span",pn,[Ee(v("img",null,null,512),[[u,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),e.calculating?M("",!0):(h(),I("span",fn,R(("addCommom"in e?e.addCommom:ee(B))(("decimalUi"in e?e.decimalUi:ee(pe))(e.currentRate,e.toCoin.decimals))),1)),e.calculating?(h(),P(Se,{key:1,indicator:e.indicator},null,8,["indicator"])):M("",!0),ie(" Â "+R(e.toCoin.symbol),1)])):(h(),P(Se,{key:1,indicator:e.indicator},null,8,["indicator"]))])),v("div",{class:"icon-change",onClick:g[12]||(g[12]=b=>e.rateChange=!e.rateChange)},bn)])):M("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(h(),I(_e,{key:1},[v("div",Sn,[v("div",An,R(e.$t("common.priceImpact")),1),e.swaping?(h(),P(Y,{key:1,paragraph:!1,active:""})):(h(),I("div",{key:0,class:H(["induction-value",Number(e.impact)<1?"impact-s":Number(e.impact)<10&&Number(e.impact)>1?"impact-w":"impact-e"])},[ie(R(Number(e.impact)<.01?"<0.01":Number(e.impact)>100?"100":e.impact)+"% ",1),e.impact>=10?(h(),I("svg",kn,Nn)):M("",!0)],2))]),v("div",In,[v("div",On,R(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(h(),P(Y,{key:1,paragraph:!1,active:""})):(h(),I("div",Tn,R(e.fixedFromCoin?("addCommom"in e?e.addCommom:ee(B))(("fixD"in e?e.fixD:ee(eo))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:ee(B))(("fixD"in e?e.fixD:ee(eo))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+R(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),v("div",Mn,[v("div",$n,R(e.$t("common.fee")),1),e.swaping?(h(),P(Y,{key:1,paragraph:!1,active:""})):(h(),I("div",Rn,R(("addCommom"in e?e.addCommom:ee(B))(e.formatFee,e.fromCoin.decimals))+" "+R(e.fromCoin.symbol)+" ("+R(e.chainName=="Aptos"?e.poolInfo.fee*100:((ge=e.toAddLiquidiPoolInfo)==null?void 0:ge.fee)*100)+"%) ",1))])],64)):M("",!0)])):M("",!0)]),X(fe,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((D=e.poolInfo)==null?void 0:D.is_pause)||e.swapRouterLoading:!1,class:"big-btn",loading:e.swaping,onClick:g[13]||(g[13]=b=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:x(()=>[e.wallet.connected?(h(),I("svg",Un,Pn)):M("",!0),v("span",null,R(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),X(Ae),e.showCoinSelect?(h(),P(ke,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,"have-import-btn":!0,onOnSelect:e.onCoinSelect,onOnClose:g[14]||(g[14]=b=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):M("",!0),e.isShowSwapSetting?(h(),P($e,{key:1,onOnClose:g[15]||(g[15]=b=>e.isShowSwapSetting=!1)})):M("",!0),e.chainName&&(e.formCoinMarket||e.toCoinMarket)?(h(),I("div",Bn,[v("div",jn,[Ln,X(oe,{"overlay-class-name":"price-impact-tooltip",placement:"top","arrow-point-at-center":""},{title:x(()=>[Dn]),default:x(()=>[En]),_:1})]),e.fromCoin&&e.formCoinMarket?(h(),P(m,{key:0,id:e.formCoinId,coin:e.fromCoin,market:e.formCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):M("",!0),e.toCoin&&e.toCoinMarket?(h(),P(m,{key:1,id:e.toCoinId,coin:e.toCoin,market:e.toCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):M("",!0)])):M("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(h(),P(Re,{key:3,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,"is-import-modal":!0,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):M("",!0),e.isShowRouterModal?(h(),P($,{key:4,"sui-pre-swapdata":e.suiPreSwapdata,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,onOnClose:g[16]||(g[16]=b=>e.store.setIsShowRouterModal(!1))},null,8,["sui-pre-swapdata","from-coin","to-coin","from-coin-amount","to-coin-amount"])):M("",!0),e.isSwapConfirmMpdal?(h(),P(K,{key:5,"sui-pre-swapdata":e.suiPreSwapdata,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,slippage:e.slippage,impact:e.priceImpact,"fixed-from-coin":e.fixedFromCoin,fee:e.chainName=="Sui"?e.suiSwapFeeUi:e.poolInfo.fee,"format-fee":e.chainName=="Sui"?e.suiSwapFeeUi:e.formatFee,"is-show-accept":e.isShowAccept,"swap-loading":e.swapRouterLoading,"one-from-amount":e.oneFromAmount,"one-to-amount":e.oneToAmount,onOnClose:e.closeSwapConfirmModal,onToSwap:e.toSwap,onAccept:e.updateAccept},null,8,["sui-pre-swapdata","from-coin","to-coin","from-coin-amount","to-coin-amount","slippage","impact","fixed-from-coin","fee","format-fee","is-show-accept","swap-loading","one-from-amount","one-to-amount","onOnClose","onToSwap","onAccept"])):M("",!0),e.isShowAggregatorModal?(h(),P(i,{key:6,onClose:g[17]||(g[17]=b=>e.isShowAggregatorModal=!1),onModalConfirm:g[18]||(g[18]=b=>{e.modalConfirm(b)})})):M("",!0)])}const Cs=Ia(Ka,[["render",qn],["__scopeId","data-v-8e43aad6"]]);export{Cs as default};
