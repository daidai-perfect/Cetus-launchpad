import{_ as xe}from"./back.6cc714a1.js";import{_ as eo,a as oo,b as no}from"./claim-fees.0d45a68d.js";import{_ as so}from"./apr-tab.08c9bd69.js";import{_ as ao}from"./token-warning.87e6379b.js";import{_ as io}from"./apr-tips.1548b12b.js";import{u as to,a as lo,c as oe,f as ro,g as He,j as A,d as je,e as m,b as uo,k as Se,t as $e,D as be}from"./pool.8dc86d05.js";import{a as co,r as u,m as R,b as po,D as re,l as vo,a5 as mo,y as fo,N as go,a3 as Q,a6 as Ee,e as ko,q as ho,o as b,f as C,h as s,i as k,z as de,w as F,x as X,c as We,v as d,u as _,t as ie,G as bo,B as wo,S as Io,J as _o,j,F as yo,s as Ro,p as Co,k as Ao}from"./entry.e27424bb.js";/* empty css              *//* empty css              */import{i as Ne}from"./import-icon.de3e6c66.js";import{u as To,_ as Fe}from"./index.939d6d4b.js";import{p as Oo}from"./precision.a7a6c57b.js";import"./status-block.a4d69ded.js";/* empty css              */import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";/* empty css              */import"./notifi.fb4554e0.js";import"./index.950db488.js";const So=co({setup(){const e=u(!1),h=u(!1),ce=u(!1),Pe=u(!0),T=To(),f=R(()=>T),we=to(),P=u(""),H=u(""),ne=u(""),se=u(30),Ie=u("Estimated APR"),pe=u([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),te=u(!0),_e=o=>{console.log(o,"====>>>>item",o.num,se.value),se.value=o.num},ye=()=>{te.value=!te.value},i=R(()=>we),ve=R(()=>{var l,t,p,v;const o=n.value.feeOwedA*((l=i.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])==null?void 0:l.price),a=n.value.feeOwedB*((t=i.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])==null?void 0:t.price);return(p=i.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])!=null&&p.price&&((v=i.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])!=null&&v.price)?o+a:" --"}),n=u({}),r=po();function S(){r.push(`/remove-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}&pos=${n.value.pos_object_id}`)}function $(){r.push(`/increase-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}&pos=${n.value.pos_object_id}`)}const N=()=>{w(),ce.value=!0,setTimeout(()=>{ce.value=!1},1e3)},c=R(()=>f.value.chainName?lo(f.value.chainName):{}),w=async()=>{i.value.setCurrentPositionLoading(!0);const o=r.currentRoute.value.query.token||"",a=r.currentRoute.value.query.collect||"",l=r.currentRoute.value.query.address||"",t=r.currentRoute.value.query.pos||"",p=r.currentRoute.value.query.id||"";H.value=l,f.value.chainName==="Aptos"?o&&a&&l&&(P.value=a,ne.value=o,i.value.setCurrentPositionInfo(H.value,P.value,ne.value,f.value.chainName)):(console.log("0414###position-detail###id#####",p),console.log("0414###position-detail###name#####",o),console.log("0414###position-detail###pool_address#####",l),console.log("0414###position-detail###pos#####",t),o&&l&&t?(P.value=a,ne.value=o,i.value.setCurrentPositionInfo(l,P.value,ne.value,f.value.chainName,t)):p&&i.value.setCurrentPositionInfo("","","",f.value.chainName,p))},U=R(()=>{var a,l,t;const o=((t=(l=(a=r==null?void 0:r.currentRoute)==null?void 0:a.value)==null?void 0:l.query)==null?void 0:t.address)||"";return o&&i.value.addressLpTokens&&!oe(i.value.addressLpTokens)&&i.value.addressLpTokens[o]?i.value.addressLpTokens[o]:null});re(()=>U.value,(o,a)=>{console.log(o,"===>newVal"),o&&!oe(o)&&o.current_sqrt_price!==(a==null?void 0:a.current_sqrt_price)&&w()},{immediate:!0});const D=u(""),L=u(""),B=u(""),Y=(o,a)=>(console.log(o,a,"===>apr, rewarderApr"),o&&a?Oo.plus($e(o),$e(a)):o),M=o=>{let a=0;return o&&o.forEach(l=>{console.log(l,"===>ele"),a+=$e(String(l))}),String(a)},z=u(""),G=u("");re(()=>[f.value.newTopPoolsObj,n.value,se,f.value.statsData],([o,a])=>{if(console.log(o,"===>newTopPoolsObj"),o&&!oe(o)&&a&&!oe(a)){const l=a.poolAddress,t=o[l];console.log(t,"===>stats111"),t?(D.value=t&&t.apr_7day&&t.apr_7day.replace("%",""),console.log(t&&t.apr_7day&&t.apr_7day.replace("%",""),"stats && stats.apr_7day&&stats.apr_7day.replace('%', '')"),G.value=M(t&&(t==null?void 0:t.rewarder_apr)),z.value=Y(t&&(t==null?void 0:t.apr_7day),t&&M(t==null?void 0:t.rewarder_apr)),L.value=t&&Se(t==null?void 0:t.tvl_in_usd,2),B.value=t&&Se(t==null?void 0:t.vol_in_usd_24h,2)):(L.value=0,B.value=0,D.value="0")}},{immediate:!0,deep:!0});const Z=ro(),y=R(()=>Z),{t:q}=vo(),{$notify:J}=mo(),V=async()=>{e.value=!0,h.value=!1;const o=m(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${A(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`,a=m(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${A(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`;T.setTransactionDesc(q("newAdd.claimWaitingText",{from:Te.value?a:o,and:m(n.value.feeOwedA,n.value.token_a.decimals)==0||m(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and",to:Te.value?o:a})),T.setIsShowWaiting(!0);let l;const t={pool:n.value.poolInfo,position:n.value};try{const p=await c.value.getCollectFeeTransactionPayload(t);if(f.value.chainName==="Aptos")l=await y.value.currentWallet.signAndSubmitTransaction(p);else{const v=await y.value.currentWallet.signAndExecuteTransactionBlock(p);l=c.value.handleTx(v)}if(l){T.setTransactionTxid(l.hash),T.setIsShowWaiting(!1),T.setIsShowSuccess(!0);const v={title:"Claim",desc:"",hash:l.hash,tit:"Fees Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:`${n.value.token_a.address}`,numa:m(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${A(n.value.feeOwedA,n.value.token_a.decimals)}`,logoa:m(n.value.feeOwedA,n.value.token_a.decimals)==0?"":i.value.tokensObj&&n.value&&n.value.token_a.address&&i.value.tokensObj[n.value.token_a.address]&&i.value.tokensObj[n.value.token_a.address].logoURI,tokenb:`${n.value.token_b.address}`,numb:m(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${A(n.value.feeOwedB,n.value.token_b.decimals)}`,logob:m(n.value.feeOwedB,n.value.token_b.decimals)==0?"":i.value.tokensObj&&n.value&&n.value.token_b.address&&i.value.tokensObj[n.value.token_b.address]&&i.value.tokensObj[n.value.token_b.address].logoURI},text:`Claim ${m(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${A(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`}  
              ${m(n.value.feeOwedA,n.value.token_a.decimals)==0||m(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and"} ${m(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${A(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`}

            `};f.value.chainName!=="Aptos"&&(v.res=l.res),c.value.showTransitionPending(v);const g=await c.value.watchTransaction(v);console.log("0310##toClaim###transitionStatus####",g),g&&setTimeout(()=>{w()},1e3)}else T.setIsShowWaiting(!1),T.setIsShowRejected(!0),J.error({icon:Q("svg",{class:{icon:!0},"aria-hidden":!0},[Q("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:Q("div",{class:"notification-title"},[Q("span",{innerHTML:Ee.global.t("newAdd.claimFailed")},null)]),description:q("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});e.value=!1,console.log("claim####test###",l)}catch(p){console.log("claim###error####",p),e.value=!1,T.setIsShowWaiting(!1),T.setIsShowRejected(!0),J.error({icon:Q("svg",{class:{icon:!0},"aria-hidden":!0},[Q("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:Q("div",{class:"notification-title"},[Q("span",{innerHTML:Ee.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:q("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},E=u(""),W=u(""),x=()=>{E.value=n.value.token_b,W.value=n.value.token_a},me=async(o=null)=>{const a=o||n.value,l=i.value.addressLpTokens[r.currentRoute.value.query.address];console.log("0309###getRewarder###pools.value.addressLpTokens###",i.value.addressLpTokens),console.log("0309###getRewarder###pool###",l);const t=await c.value.getTickDataByIndex(l.ticks_handle,Number(a.tick_lower_index)),p=await c.value.getTickDataByIndex(l.ticks_handle,Number(a.tick_upper_index));let v={};ge.value==="Aptos"?v=await c.value.getPosRewardersAmount({poolAddress:r.currentRoute.value.query.address,positionName:r.currentRoute.value.query.token,tickLowerData:t,tickUpperData:p}):(console.log("0502###getPosRewardersAmount###",{poolAddress:r.currentRoute.value.query.address,pos:r.currentRoute.value.query.pos,positionHandle:l.position_manager.positions_handle}),console.log(a,"posInfo===>"),v=await c.value.fetchPosRewardersAmount({poolAddress:a.poolAddress,positionId:a.pos_object_id,coinTypeA:a.coin_type_a,coinTypeB:a.coin_type_b,rewarderInfo:a.poolInfo.rewarderInfo}));const g=[];let I=new be(0);v.forEach((O,ae)=>{var Be,qe;const ee=(Be=i.value.tokensObj[O.coin_address])==null?void 0:Be.decimals,le=O.amount_owed.toString();console.log("0604###rewarder###test###element###",O),console.log("0604###rewarder###test###element.amount_owed.toString()###",O.amount_owed.toString()),console.log("0604###rewarder###test###number###",le);const K=new be(le).div(Math.pow(10,ee)).toString();if(console.log("0604###rewarder###test###amount###",K),a.poolInfo[`rewarder_display${ae+1}`]||Number(K)>0){const Ze=i.value.tokensObj[O.coin_address];console.log(O.amount_owed.toString(),"===>element.amount_owed.toString()");const Ve=((qe=i.value.RATES[O.coin_address])==null?void 0:qe.price)||0,Oe=new be(K).mul(Ve).toString();I=new be(I).plus(Oe),g.push({...O,...Ze,amount:Number(K)>0?A(K,ee):0,amountUSD:Number(Oe)>0?A(Oe,2):0})}}),ke.value=g,console.log(g,"====>result722"),Ce.value=Number(I.toString()),Ue.value=Number(Se(I.toString(),2))};re(()=>i.value.currentPositionInfo,o=>{o&&(n.value=o,E.value=o==null?void 0:o.token_a,W.value=o==null?void 0:o.token_b)},{immediate:!0});const fe=R(()=>i.value.tokensObj&&n&&n.value.token_a&&n.value.token_a.address&&i.value.tokensObj[n.value.token_a.address]&&i.value.tokensObj[n.value.token_a.address].logoURI),Re=R(()=>i.value.tokensObj&&n&&n.value.token_b&&n.value.token_b.address&&i.value.tokensObj[n.value.token_b.address]&&i.value.tokensObj[n.value.token_b.address].logoURI),ge=R(()=>f.value.chainName),Me=R(()=>Fe[ge.value]),Ce=u(0),ke=u([]),Ue=u(0);fo(()=>{Ce.value=0,ke.value=[],Ue.value=0,i.value.setCurrentPositionLoading(!0),(r.currentRoute.value.query.id||"")&&w()});const{setIsShowSuccess:ze,setIsShowRejected:De,setIsShowWaiting:Ae,setTransactionDesc:jn,setTransactionTxid:Ge}=T,he=u(!1),Je=async()=>{console.log("0310###toClaimRewards##start###",n.value),he.value=!0;const o=ke.value;let a={coinTypeA:n.value.poolInfo.coinTypeA,coinTypeB:n.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:n.value.poolAddress,pos_index:n.value.index,rewarder_nums:o.length};a.coinTypeC=o[0]?o[0].coin_address:"",a.coinTypeD=o[1]?o[1].coin_address:"",a.coinTypeE=o[2]?o[2].coin_address:"",console.log(a,"===>collectRewarderParams");try{let l;if(f.value.chainName==="Aptos"){const t=await c.value.getCollectRewarderTransactionPayload(a);l=await y.value.currentWallet.signAndSubmitTransaction(t)}else{a.pos_index=n.value.pos_object_id;const t=await c.value.getCollectRewarderTransactionPayload(a),p=await y.value.currentWallet.signAndExecuteTransactionBlock(t);l=c.value.handleTx(p)}if(console.log("0310###toClaimRewards##tx###",l),l&&l.hash){Ge(l.hash),Ae(!1),ze(!0);const t=o[0].amount+o[0].symbol,p=a.coinTypeD?" and "+o[1].amount+o[1].symbol:"",v=a.coinTypeE?" and "+o[2].amount+o[2].symbol:"",g={title:"Claim",desc:"",hash:l.hash,tit:"Bonus Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:o[0].address,numa:`+ ${Number(o[0].amount)}`,logoa:i.value.tokensObj&&o[0]&&o[0].address&&i.value.tokensObj[o[0].address]&&i.value.tokensObj[o[0].address].logoURI,tokenb:o[1]&&o[1].address,numb:a.coinTypeD?`+ ${Number(o[1].amount)}`:"",logob:a.coinTypeD?i.value.tokensObj&&o[1]&&o[1].address&&i.value.tokensObj[o[1].address]&&i.value.tokensObj[o[1].address].logoURI:"",tokenc:o[2]&&o[2].address,numc:a.coinTypeE?`+ ${Number(o[2].amount)}`:"",logoc:a.coinTypeE?i.value.tokensObj&&o[2]&&o[2].address&&i.value.tokensObj[o[2].address]&&i.value.tokensObj[o[2].address].logoURI:""},text:t+p+v};f.value.chainName!=="Aptos"&&(g.res=l.res),c.value.showTransitionPending(g);const I=await c.value.watchTransaction(g);console.log("0310###toClaimRewards###transitionStatus###",I),I&&setTimeout(()=>{w(),c.value.getAccount(y.value.address)},3e3)}else console.log("0310###toClaimRewards###else###"),Ae(!1),De(!0);he.value=!1}catch(l){console.log("0310###collectRewarderParams Error###",l),he.value=!1,Ae(!1),De(!0)}},Le=u([]);re(()=>[n.value,i.value.addressLpTokens,i.value.tokensObj,f.value.newTopPoolsObj],([o,a,l,t])=>{if(!oe(o)&&!oe(a)&&!oe(l)){const p=o.address,v=a[p];let g=(v==null?void 0:v.rewarder_infos)||[];const I=t[p],O=[];console.log(g,"===>rewarderInfos"),g&&g.length>0&&(console.log("0511###rewarderArr###tokensObj###",l),g==null||g.forEach((ae,ee)=>{var le,K;v[`rewarder_display${ee+1}`]&&(console.log("0511###rewarderArr###ele###",ae),O.push({...ae,symbol:(le=l[ae.coinAddress])==null?void 0:le.symbol,rewarderApr:(I==null?void 0:I.rewarder_apr[ee])&&(I==null?void 0:I.rewarder_apr[ee].replace("%","")),logoUrl:(K=l[ae.coinAddress])==null?void 0:K.logoURI,rewarder_display:v[`rewarder_display${ee+1}`]}))}),Le.value=O,me(o))}},{immediate:!0,deep:!0});const Ke=u();re(()=>i.value.RATES,o=>{o&&(Ke.value=o)},{immediate:!0});const Te=R(()=>{var o,a;return(a=(o=n.value)==null?void 0:o.poolInfo)==null?void 0:a.needReverse}),Qe=R(()=>Fe[ge.value].hasNotifi),Xe=o=>{var a;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((a=i.value.tokensObj[o==null?void 0:o.address])==null?void 0:a.logo_url)||(f.value.theme==="default"?Ne("/image/coins/unknown.png"):Ne("/image/coins/sui-unknown.png"))},Ye=R(()=>i.value.tokensWarningObj);return go(()=>{y.value.connected||(f.value.theme==="default"?r.push("/position"):r.push("/pool/position"))}),{getExplorerUrl:He,hasNotifi:Qe,rewarderArr:Le,feeOwed:ve,config:Me,showNum:A,decimalUi:je,index:f,fromCoinUrl:fe,toCoinUrl:Re,toggle:x,fromCoin:E,toCoin:W,apr:D,liquidityTvl:L,vol24:B,addCommom:m,decimalFormat:uo,wallet:y,isLoading:e,toClaim:V,pools:i,positionInfo:n,importIcon:Ne,router:r,toRemove:S,toIncrease:$,isShowClaim:h,direct:Pe,refresh:ce,clickRefresh:N,pendingRewarderArr:ke,pendingRewarder:Ce,toClaimRewards:Je,rewarderLoading:he,aprRewardsParameter:se,aprRewardsDateList:pe,aprTab:_e,reviseValue:ye,label:te,aprTitle:Ie,aprTotal:z,rewardAprList:G,currentPoolInfo:U,chainName:ge,needReverse:Te,getCoinIcon:Xe,tokensWarningObj:Ye}}});const ue=e=>(Co("data-v-2fc7cc38"),e=e(),Ao(),e),$o={key:0,class:"position-detail-container"},No={class:"position-detail-header"},jo={class:"back-and-refresh"},Po=ue(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Uo=[Po],Do={class:"action-position"},Lo={class:"coin-pair"},Bo=ue(()=>s("use",{"xlink:href":"#icon-icon-copy"},null,-1)),qo=[Bo],Eo=["href"],Wo=ue(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),Fo=[Wo],Ho={class:"acton-btn-box"},Mo=ue(()=>s("svg",{"aria-hidden":"true",class:"action-icon"},[s("use",{"xlink:href":"#icon-icon-Reduction"})],-1)),zo=ue(()=>s("svg",{"aria-hidden":"true",class:"action-icon"},[s("use",{"xlink:href":"#icon-icon-add"})],-1)),Go={class:"position-content"},Jo={key:0,class:"pedding-fee range-alerts-all"},Ko={class:"pedding-fee"},Qo={class:"pedding-fee"},Xo={class:"top"},Yo={class:"left"},Zo={key:0,class:"bottom"},Vo={class:"token-a"},xo={key:0,class:"token-warning"},en={class:"token-b"},on={key:0,class:"token-warning"},nn={key:1,class:"pedding-fee"},sn={class:"top"},an={class:"left"},tn={class:"bottom"},ln={alt:""},rn={key:2,class:"poolInfo"},dn={class:"pool-info-title"},un={class:"currentPrice"},cn={key:0,class:"coin"},pn={key:1,class:"coin"},vn={class:"toggle"},mn={alt:""},fn={alt:""},gn={class:"info-block-container"},kn={class:"info-block"},hn={class:"leabl"},bn={class:"text"},wn={class:"apr-hover-content"},In={class:"info-block"},_n={class:"leabl"},yn={class:"text"},Rn={class:"info-block"},Cn={class:"leabl"},An={class:"text"},Tn={class:"info-block"},On={class:"leabl"},Sn={class:"text"},$n={class:"loading-global"};function Nn(e,h,ce,Pe,T,f){var ve,n;const we=xe,P=wo,H=Io,ne=eo,se=oo,Ie=so,pe=ao,te=io,_e=no,ye=_o,i=ho("image");return e.positionInfo?(b(),C("div",$o,[s("div",No,[s("div",jo,[k(we),(b(),C("svg",{"aria-hidden":"true",class:de(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:h[0]||(h[0]=(...r)=>e.clickRefresh&&e.clickRefresh(...r))},Uo,2))]),s("div",Do,[k(H,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:F(()=>{var r,S,$,N,c,w;return[s("div",Lo,[j(d(e.positionInfo.tokenName)+" ",1),(b(),C("svg",{class:"icon","aria-hidden":"true",onClick:h[1]||(h[1]=U=>e.index.copy(e.positionInfo.nftHash))},qo)),s("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:_(He))("nftAddress",e.positionInfo.nftHash),target:"_blank"},Fo,8,Eo)]),s("div",Ho,[k(P,{class:de(["remove-liquidity action-btn",(S=(r=e.positionInfo)==null?void 0:r.poolInfo)!=null&&S.is_pause?"text-default":""]),disabled:(N=($=e.positionInfo)==null?void 0:$.poolInfo)==null?void 0:N.is_pause,onClick:e.toRemove},{default:F(()=>[Mo,j(" "+d(e.$t("button.remove")),1)]),_:1},8,["class","disabled","onClick"]),k(P,{class:"increase-liquidity action-btn",disabled:(w=(c=e.positionInfo)==null?void 0:c.poolInfo)==null?void 0:w.is_pause,onClick:e.toIncrease},{default:F(()=>[zo,j(" "+d(e.$t("button.increase")),1)]),_:1},8,["disabled","onClick"])])]}),_:1},8,["loading"])])]),s("div",Go,[k(ne,{"position-info":e.positionInfo},null,8,["position-info"])]),e.hasNotifi?(b(),C("div",Jo,[k(se,{"position-info":e.positionInfo},null,8,["position-info"])])):X("",!0),s("div",Ko,[(b(),We(Ie,{key:0,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"position","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.positionInfo.poolInfo,"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice&&String(e.positionInfo.maxPrice).indexOf("+")>-1?"∞":e.positionInfo.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"]))]),s("div",Qo,[s("div",Xo,[s("div",Yo,[s("span",null,d(e.$t("newAdd.pendingFees")),1),s("p",null," $"+d(e.pools.currentPositionLoading||e.feeOwed=="--"?"--":Number(e.feeOwed)==0?0:Number(e.feeOwed)<.01?"<0.01":("addCommom"in e?e.addCommom:_(m))(e.feeOwed,2)),1)]),k(P,{class:"increase-liquidity action-btn",disabled:e.isLoading||!e.wallet.connected||!(Number(e.positionInfo&&e.positionInfo.feeOwedA)||Number(e.positionInfo&&e.positionInfo.feeOwedB))||e.positionInfo.poolInfo.is_pause,onClick:h[2]||(h[2]=r=>e.isShowClaim=!0)},{default:F(()=>[j(d(e.$t("common.claim")),1)]),_:1},8,["disabled"])]),k(H,{class:"pedding-fee-skeleton",loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:F(()=>{var r,S,$,N,c,w,U,D,L,B,Y,M,z,G,Z,y,q,J,V,E,W,x;return[e.positionInfo&&((r=e.positionInfo)!=null&&r.token_a)&&((S=e.positionInfo)!=null&&S.token_b)?(b(),C("div",Zo,[s("div",null,[s("div",Vo,[ie(s("img",null,null,512),[[i,(e.needReverse?e.toCoinUrl:e.fromCoinUrl)||e.getCoinIcon(e.needReverse?(N=e.positionInfo)==null?void 0:N.token_b:($=e.positionInfo)==null?void 0:$.token_a)]]),(e.needReverse?e.tokensWarningObj&&!e.tokensWarningObj[e.positionInfo.token_b.address]:e.tokensWarningObj&&!e.tokensWarningObj[e.positionInfo.token_a.address])?(b(),C("div",xo)):X("",!0)]),s("p",null,d(e.needReverse?("showNum"in e?e.showNum:_(A))(e.positionInfo.feeOwedB,(D=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:D.decimals):("showNum"in e?e.showNum:_(A))(e.positionInfo.feeOwedA,(w=(c=e.positionInfo)==null?void 0:c.token_a)==null?void 0:w.decimals)),1),s("span",null,d(e.needReverse?(M=(Y=e.positionInfo)==null?void 0:Y.token_b)==null?void 0:M.symbol:(B=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:B.symbol),1)]),s("div",null,[s("div",en,[ie(s("img",null,null,512),[[i,(e.needReverse?e.fromCoinUrl:e.toCoinUrl)||e.getCoinIcon(e.needReverse?(G=e.positionInfo)==null?void 0:G.token_a:(z=e.positionInfo)==null?void 0:z.token_b)]]),(e.needReverse?e.tokensWarningObj&&!e.tokensWarningObj[e.positionInfo.token_a.address]:e.tokensWarningObj&&!e.tokensWarningObj[e.positionInfo.token_b.address])?(b(),C("div",on)):X("",!0)]),s("p",null,d(e.needReverse?("showNum"in e?e.showNum:_(A))(e.positionInfo.feeOwedA,(J=(q=e.positionInfo)==null?void 0:q.token_a)==null?void 0:J.decimals):("showNum"in e?e.showNum:_(A))(e.positionInfo.feeOwedB,(y=(Z=e.positionInfo)==null?void 0:Z.token_b)==null?void 0:y.decimals)),1),s("span",null,d(e.needReverse?(x=(W=e.positionInfo)==null?void 0:W.token_a)==null?void 0:x.symbol:(E=(V=e.positionInfo)==null?void 0:V.token_b)==null?void 0:E.symbol),1)])])):X("",!0)]}),_:1},8,["loading"])]),e.positionInfo&&e.positionInfo.poolInfo&&e.positionInfo.poolInfo.rewarder_infos&&e.positionInfo.poolInfo.rewarder_infos.length>0&&e.positionInfo.poolInfo.is_display_rewarder&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0?(b(),C("div",nn,[s("div",sn,[s("div",an,[s("span",null,d(e.$t("newAdd.pendingRewards")),1),s("p",null," $"+d(e.pendingRewarder=="--"?"--":Number(e.pendingRewarder)==0?0:Number(e.pendingRewarder)<.01?"<0.01":("addCommom"in e?e.addCommom:_(m))(e.pendingRewarder,2)),1)]),k(P,{class:"increase-liquidity action-btn",disabled:e.rewarderLoading||!e.wallet.connected||e.pendingRewarder<=0||((n=(ve=e.positionInfo)==null?void 0:ve.poolInfo)==null?void 0:n.is_pause),loading:e.rewarderLoading,onClick:e.toClaimRewards},{default:F(()=>[j(d(e.$t("common.claim")),1)]),_:1},8,["disabled","loading","onClick"])]),k(H,{class:"pedding-fee-skeleton",loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:F(()=>[s("div",tn,[(b(!0),C(yo,null,Ro(e.pendingRewarderArr,r=>(b(),C("div",{key:r},[ie(s("img",ln,null,512),[[i,(r==null?void 0:r.logoURI)||e.getCoinIcon(r)]]),s("p",null,d(r.amount),1),s("span",null,d(r.symbol),1)]))),128))])]),_:1},8,["loading"])])):X("",!0),e.positionInfo&&e.positionInfo.poolInfo?(b(),C("div",rn,[s("div",dn,d(e.$t("newAdd.poolInfo")),1),s("div",un,[k(H,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:F(()=>{var r,S,$,N,c,w,U,D,L,B,Y,M,z,G,Z,y,q,J,V,E,W,x,me,fe;return[(e.needReverse?!e.direct:e.direct)?(b(),C("div",cn,[s("span",null,d(e.$t("common.currentPrice")),1),j(" "+d(("addCommom"in e?e.addCommom:_(m))(("decimalUi"in e?e.decimalUi:_(je))(e.positionInfo.currentPrice,6)))+" "+d((r=e.toCoin)==null?void 0:r.symbol)+" per "+d((S=e.fromCoin)==null?void 0:S.symbol),1)])):(b(),C("div",pn,[s("span",null,d(e.$t("common.currentPrice")),1),j(" "+d(("addCommom"in e?e.addCommom:_(m))(("decimalUi"in e?e.decimalUi:_(je))(1/e.positionInfo.currentPrice,6)))+" "+d(($=e.fromCoin)==null?void 0:$.symbol)+" per "+d((N=e.toCoin)==null?void 0:N.symbol),1)])),s("div",vn,[s("div",{class:de(e.direct?"item active-item":"item"),onClick:h[3]||(h[3]=Re=>e.direct=!0)},[ie(s("img",mn,null,512),[[i,(e.needReverse?e.toCoinUrl:e.fromCoinUrl)||e.getCoinIcon(e.needReverse?(w=e.positionInfo)==null?void 0:w.token_b:(c=e.positionInfo)==null?void 0:c.token_a)]]),j(" "+d(e.needReverse?(B=(L=e.positionInfo)==null?void 0:L.token_b)==null?void 0:B.symbol:(D=(U=e.positionInfo)==null?void 0:U.token_a)==null?void 0:D.symbol)+" ",1),k(pe,{address:e.needReverse?(G=(z=e.positionInfo)==null?void 0:z.token_b)==null?void 0:G.address:(M=(Y=e.positionInfo)==null?void 0:Y.token_a)==null?void 0:M.address,"style-params":{width:"8px",height:"8px",left:"18px",bottom:"4px"}},null,8,["address"])],2),s("div",{class:de(e.direct?"item ":"item active-item"),onClick:h[4]||(h[4]=Re=>e.direct=!1)},[ie(s("img",fn,null,512),[[i,(e.needReverse?e.fromCoinUrl:e.toCoinUrl)||e.getCoinIcon(e.needReverse?(y=e.positionInfo)==null?void 0:y.token_a:(Z=e.positionInfo)==null?void 0:Z.token_b)]]),j(" "+d(e.needReverse?(E=(V=e.positionInfo)==null?void 0:V.token_a)==null?void 0:E.symbol:(J=(q=e.positionInfo)==null?void 0:q.token_b)==null?void 0:J.symbol)+" ",1),k(pe,{address:e.needReverse?(fe=(me=e.positionInfo)==null?void 0:me.token_a)==null?void 0:fe.address:(x=(W=e.positionInfo)==null?void 0:W.token_b)==null?void 0:x.address,"style-params":{width:"8px",height:"8px",left:"18px",bottom:"4px"}},null,8,["address"])],2)])]}),_:1},8,["loading"])]),k(H,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:F(()=>[s("div",null,[s("div",gn,[s("div",kn,[s("div",hn,d(e.$t("common.apr")),1),s("div",bn,[j(d(e.aprTotal>0&&e.aprTotal<.01?"<0.01":e.aprTotal==0?0:("addCommom"in e?e.addCommom:_(m))(e.aprTotal,2))+"% ",1),s("div",wn,[k(te,{class:de(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":{apr:e.apr,rewarder_apr:e.rewardAprList,aprTotal:e.aprTotal,is_display_rewarder:e.positionInfo.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["class","l-item","rewarder-info"])])])]),s("div",In,[s("div",_n,d(e.$t("common.liquidity")),1),s("div",yn,"$"+d(("addCommom"in e?e.addCommom:_(m))(e.liquidityTvl,2)),1)]),s("div",Rn,[s("div",Cn,d(e.$t("common.volume24h")),1),s("div",An,"$"+d(("addCommom"in e?e.addCommom:_(m))(e.vol24,2)),1)]),s("div",Tn,[s("div",On,d(e.$t("newAdd.tickSpacing")),1),s("div",Sn,d(e.positionInfo.tickSpacing),1)])])])]),_:1},8,["loading"])])):X("",!0),e.isShowClaim?(b(),We(_e,{key:3,"is-loading":e.isLoading,"position-info":e.positionInfo,"need-reverse":e.needReverse,onOnClose:h[5]||(h[5]=r=>e.isShowClaim=!1),onToClaim:e.toClaim},null,8,["is-loading","position-info","need-reverse","onToClaim"])):X("",!0),ie(s("div",$n,[k(ye)],512),[[bo,e.pools.currentPositionLoading]])])):X("",!0)}const Vn=ko(So,[["render",Nn],["__scopeId","data-v-2fc7cc38"]]);export{Vn as default};
