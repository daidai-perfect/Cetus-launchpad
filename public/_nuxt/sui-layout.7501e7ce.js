import{u as I,C as j,a as q,b as F,c as P,e as K,f as U,g as z,h as G,i as J,j as Q,d as X,M as Y}from"./head.b6c39990.js";import{a as Z,E as V,m as g,y as ee,r as w,T as te,D as C,o as n,f as x,i as y,x as a,c as l,fh as oe,e as se}from"./entry.8a717f77.js";import{_ as ne}from"./term-and-conditions.4f59dd5f.js";import{a as ae,u as le,b as ue}from"./pool.bc7b9a37.js";import{u as re}from"./index.601bad75.js";import{u as ce}from"./useTheme.c1c002f0.js";import"./import-icon.de3e6c66.js";import"./img-no-Positions_2x.4b049fef.js";import"./img-no-Positions_2x.8920ea01.js";/* empty css              */import"./index.a8623c04.js";import"./icon-selected_3x.09e9a6f0.js";import"./nuxt-link.d4010784.js";import"./launchpad.db94346a.js";import"./vesrion-beta.8521d344.js";/* empty css              */import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./notifi.f4faad72.js";import"./useWhale.a8a561cc.js";import"./bignumber.266e6c56.js";const ie={class:"sui-default-container"},me={key:0,class:"web-loading-box"},ve=Z({__name:"sui-layout",setup(pe){const p=ce(),u=V(),f=ae(),e=g(()=>f);ee(()=>{var t,i;if(u&&u.query&&u.query.source)p.seleteDefaultTheme();else{const v=(t=u==null?void 0:u.query)==null?void 0:t.chain,m=(i=u==null?void 0:u.query)==null?void 0:i.network,r=v||localStorage.getItem("theme");!r||r&&r.includes("sui")?m==="testnet"||r==="sui2"?p.selectSui2Theme():p.selectSuiTheme():p.seleteDefaultTheme()}document.addEventListener("click",()=>{e.value.setIsShowMore(!1),e.value.setOpenMore(!1),e.value.setOpenSwitchLang(!1),e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),o.value.setIsShowWalletCard(!1)});const s=localStorage.getItem("chainName");window.addEventListener("updateExplorer",v=>{const m=localStorage.getItem(`${s}-currentExplorerUrl`);f.setCurrentExplorer(m)})});let h=w();const _=re(),o=g(()=>_),{connect:fe,disconnect:O}=I(),T=()=>{const s=I(),t=localStorage.getItem("chainName")||"",i=localStorage.getItem(`cetus-${t}-current-wallet`),v=localStorage.getItem(`cetus-${t}-wallet-icon-name`)||"",m=localStorage.getItem(`cetus-${t}-current-suiwallet`)||"";Y.inMSafeWallet()?s.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):i?s.connect(i,v,t,"",m):t&&t.toLowerCase().includes("sui")&&s.disconnect(),h.value=window.setInterval(async()=>{if(o.value.address&&!o.value.loading&&o.value&&o.value.address&&o.value.countdown<o.value.autoRefreshTime&&(_.setCountdown(o.value.countdown+1),o.value.countdown===o.value.autoRefreshTime))try{await ue(e.value.chainName).getAccount(o.value.address)}catch(r){console.log(r,"errorBalance")}},1e4)};te(()=>{document.removeEventListener("click",()=>{e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setOpenMore(!1),e.value.setIsShowMore(!1),e.value.setOpenSwitchLang(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),o.value.setIsShowWalletCard(!1)}),window.clearInterval(h.value)});const k=()=>{_.setIsShowWalletModal(!1),O()},B=()=>{_.setSwitchWallet(!0)},d=w(!0);C(()=>e.value.theme,s=>{const t=s==="sui2"?"sui":s;document.getElementsByTagName("body")[0].className=`theme-${t}`,s&&(T(),d.value=!0,setTimeout(()=>{d.value=!1},1e3))},{immediate:!0});const S=w(!1);localStorage.getItem("isFirstAccess")||(S.value=!0);const M=()=>{localStorage.setItem("isFirstAccess","true"),S.value=!1},W=()=>{f.setTransactionDescText(""),f.setIsShowWaiting(!1)},N=le();return C(()=>e.value.chainName,(s,t)=>{s&&s!==t&&N.setTokens(s)},{immediate:!0}),(s,t)=>{const i=q,v=oe,m=F,r=P,$=X,E=K,H=ne,L=U,D=z,b=G,A=J,R=Q;return n(),x("div",ie,[y(j),d.value?(n(),x("div",me,[y(i)])):a("",!0),y(v),e.value&&e.value.isShowSuccess?(n(),l(m,{key:1,onOnClose:t[0]||(t[0]=c=>e.value.setIsShowSuccess(!1))})):a("",!0),e.value&&e.value.isShowRejected?(n(),l(r,{key:2,onOnClose:t[1]||(t[1]=c=>e.value.setIsShowRejected(!1))})):a("",!0),e.value&&e.value.isShowWaiting?(n(),l($,{key:3,onOnClose:W})):a("",!0),o.value&&o.value.isShowWalletModal?(n(),l(E,{key:4,onOnDisconnect:t[2]||(t[2]=c=>k()),onOnSwitch:t[3]||(t[3]=c=>B()),onOnClose:t[4]||(t[4]=c=>o.value.setIsShowWalletModal(!1))})):a("",!0),S.value?(n(),l(H,{key:5,onClose:M})):a("",!0),e.value&&e.value.isShowSettingH5?(n(),l(L,{key:6,onOnClose:t[5]||(t[5]=c=>e.value.setIsShowSettingH5(!1))})):a("",!0),e.value&&e.value.isShowBuyCrypto?(n(),l(D,{key:7,onOnClose:t[6]||(t[6]=c=>e.value.setIsShowBuyCrypto(!1))})):a("",!0),e.value&&e.value.isShowBuyCryptoKODO?(n(),l(b,{key:8,onOnClose:t[7]||(t[7]=c=>e.value.setIsShowBuyCryptoKODO(!1))})):a("",!0),e.value&&e.value.isShowBuyCryptoConfirm?(n(),l(A,{key:9,onClose:t[8]||(t[8]=c=>e.value.setIsShowBuyCryptoConfirm(!1))})):a("",!0),e.value&&e.value.isShowBuyCryptoSelect?(n(),l(R,{key:10,onClose:t[9]||(t[9]=c=>e.value.setIsShowBuyCryptoSelect(!1))})):a("",!0)])}}});const be=se(ve,[["__scopeId","data-v-7ac46937"]]);export{be as default};
