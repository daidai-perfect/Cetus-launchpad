import{a as k,r as u,l as f,q as m,e as I,o as p,f as v,c as b,a0 as y,w as g,j as S,h as d,A as O,x as P,P as w,p as F,k as C}from"./entry.bbec17f0.js";/* empty css              */import{u as L}from"./farms.89ba0e1b.js";import{c as B}from"./pool.652e8f54.js";const j=k({props:{poolInfo:{type:Object,default:()=>({})},isActive:{type:Boolean,default:!0}},setup(e,o){const l=L(),r=u(!1),a=u(),t=u(!0),c=f(()=>l),i=f(()=>c.value.farmsPoolList.filter(s=>s.status=="Live"));m(()=>e.poolInfo,s=>{s&&!B(s)&&l.getFarmsPoolList()},{immediate:!0});const A=s=>{const n=s.filter(_=>_.status=="Live"&&_.clmm_pool_id==e.poolInfo.poolAddress);n&&n.length>0&&(r.value=!0,a.value=n[0],o.emit("sendFarmsPoolInfo",t.value&&e.isActive?a.value:"")),console.log(n,"##isFarmingPool")};return m(()=>i.value,s=>{s&&s.length>0&&A(s)},{immediate:!0}),m(()=>e.isActive,s=>{console.log(e.isActive,"##props.isActive"),s||o.emit("sendFarmsPoolInfo",t.value&&e.isActive?a.value:"")},{immediate:!0}),{isShowAutoStake:r,changeIsOpen:()=>{t.value=!t.value,o.emit("sendFarmsPoolInfo",t.value&&e.isActive?a.value:"")},isOpen:t}}}),N=""+globalThis.__publicAssetsURL("sui-image/farming_huo.png"),T=""+globalThis.__publicAssetsURL("sui-image/farming-auto-open.png"),$=""+globalThis.__publicAssetsURL("sui-image/farmimg-auto-close.png");const h=e=>(F("data-v-efb1489e"),e=e(),C(),e),R={key:0,class:"farms-auto-stake"},U=h(()=>d("img",{class:"farms-icon",src:N,alt:""},null,-1)),V=h(()=>d("div",{class:"desc"},"Automatically stake your position into the farming pool to enjoy more rewards",-1)),q=["disabled"];function z(e,o,l,r,a,t){const c=w;return e.isShowAutoStake?(p(),v("div",R,[U,V,e.isOpen&&e.isActive?(p(),v("img",{key:0,class:"close-auto",src:T,alt:"",onClick:o[0]||(o[0]=(...i)=>e.changeIsOpen&&e.changeIsOpen(...i))})):(p(),b(c,{key:1},y({default:g(()=>[d("img",{class:O(["close-auto",e.isActive?"":"disabled-auto"]),disabled:!e.isActive,src:$,alt:"",onClick:o[1]||(o[1]=(...i)=>e.changeIsOpen&&e.changeIsOpen(...i))},null,10,q)]),_:2},[e.isActive?void 0:{name:"title",fn:g(()=>[S("Farming rewards only available for active positions.")]),key:"0"}]),1024))])):P("",!0)}const K=I(j,[["render",z],["__scopeId","data-v-efb1489e"]]);export{K as _};
