import{u as X,a as N,C as Y,b as Z,c as V,d as ee,f as te,g as oe,h as se,i as ne,j as ae,k as le,e as ue,M as re}from"./global.5f5f7cf7.js";import{a as ie,E as ce,m as I,r as p,y as me,T as ve,D as C,b as pe,o as n,f as w,x as l,h as B,i as x,c as r,fj as fe}from"./entry.cdbcbba2.js";import{_ as de}from"./term-and-conditions.21822ca8.js";import{a as Se,u as _e,b as we}from"./pool.7ae7ea5c.js";import{u as he}from"./index.8618889b.js";import{u as ye}from"./useTheme.81022a06.js";import"./import-icon.de3e6c66.js";import"./img-no-Positions_2x.121b85cd.js";import"./img-no-Positions_2x.9f630283.js";/* empty css              */import"./index.0004aaf7.js";import"./icon-selected_3x.09e9a6f0.js";import"./nuxt-link.6e17d4bc.js";import"./launchpad.5c5d9360.js";/* empty css              */import"./decimal.0bdeb344.js";import"./notifi.9a734c6a.js";import"./useWhale.7195a404.js";import"./bignumber.266e6c56.js";const ge={key:0,class:"scroll-top-svg"},Ie=B("use",{"xlink:href":"#icon-icon_top"},null,-1),Ce=[Ie],xe={key:0,class:"web-loading-box"},h="sui-layout",Ge=ie({__name:"sui-layout",setup(Oe){const d=ye(),a=ce(),f=Se(),e=I(()=>f),S=X(),y=p(null),W=p(!1),O=p(!1),M=()=>{if(y.value){const{scrollTop:o,scrollHeight:t,clientHeight:i}=y.value;W.value=o+i>=t,O.value=o>0}},$=()=>{const o=document.querySelector(".sui-default-container");o&&o.scrollTo({top:0,behavior:"smooth"})};me(()=>{var t,i;if(S.isInitialized(h)||f.getFrontConfig(),a&&a.query&&a.query.source)d.seleteDefaultTheme();else{const v=(t=a==null?void 0:a.query)==null?void 0:t.chain,m=(i=a==null?void 0:a.query)==null?void 0:i.network,c=v||localStorage.getItem("theme");!c||c&&c.includes("sui")?m==="testnet"||c==="sui2"?d.selectSui2Theme():d.selectSuiTheme():d.seleteDefaultTheme()}document.addEventListener("click",()=>{e.value.setIsShowMore(!1),e.value.setOpenMore(!1),e.value.setOpenSwitchLang(!1),e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),s.value.setIsShowWalletCard(!1)});const o=localStorage.getItem("chainName");window.addEventListener("updateExplorer",v=>{const m=localStorage.getItem(`${o}-currentExplorerUrl`);f.setCurrentExplorer(m)})});let T=p();const _=he(),s=I(()=>_),{connect:Te,disconnect:E}=N(),H=()=>{const o=N(),t=localStorage.getItem("chainName")||"",i=localStorage.getItem(`cetus-${t}-current-wallet`),v=localStorage.getItem(`cetus-${t}-wallet-icon-name`)||"",m=localStorage.getItem(`cetus-${t}-current-suiwallet`)||"";re.inMSafeWallet()?o.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):i?o.connect(i,v,t,"",m):t&&t.toLowerCase().includes("sui")&&o.disconnect(),T.value=window.setInterval(async()=>{if(s.value.address&&!s.value.loading&&s.value&&s.value.address&&s.value.countdown<s.value.autoRefreshTime&&(_.setCountdown(s.value.countdown+1),s.value.countdown===s.value.autoRefreshTime))try{await we(e.value.chainName).getAccount(s.value.address)}catch(c){console.log(c,"errorBalance")}},1e4)};ve(()=>{document.removeEventListener("click",()=>{e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setOpenMore(!1),e.value.setIsShowMore(!1),e.value.setOpenSwitchLang(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),s.value.setIsShowWalletCard(!1)}),window.clearInterval(T.value)});const b=()=>{_.setIsShowWalletModal(!1),E()},L=()=>{_.setSwitchWallet(!0)},k=p(!S.isInitialized(h));C(()=>e.value.theme,o=>{const t=o==="sui2"?"sui":o;document.getElementsByTagName("body")[0].className=`theme-${t}`,o&&!S.isInitialized(h)&&(H(),setTimeout(()=>{k.value=!1,S.setLayoutInitialized(h)},1e3))},{immediate:!0});const g=p(!1);localStorage.getItem("isFirstAccess")||(g.value=!0);const A=()=>{localStorage.setItem("isFirstAccess","true"),g.value=!1},D=()=>{f.setTransactionDescText(""),f.setIsShowWaiting(!1)},R=_e();C(()=>e.value.chainName,(o,t)=>{o&&o!==t&&R.setTokens(o)},{immediate:!0});const j=pe(),q=I(()=>e.value.chainName?q[e.value.chainName]:{});return C(()=>[e.value.chainName,s.value.address],([o,t])=>{o==="Aptos"&&(a.path.includes("/pool/list")||a.path.includes("/pool/position")||a.name=="pool")&&j.push("/pools")},{immediate:!0}),(o,t)=>{const i=Z,v=fe,m=V,c=ee,F=ue,z=te,P=de,K=oe,U=se,G=ne,J=ae,Q=le;return n(),w("div",null,[O.value?(n(),w("div",ge,[(n(),w("svg",{"aria-hidden":"true",class:"scrollTop",onClick:$},Ce))])):l("",!0),B("div",{ref_key:"scrollContainer",ref:y,class:"sui-default-container",onScroll:t[10]||(t[10]=u=>M())},[x(Y),k.value?(n(),w("div",xe,[x(i)])):l("",!0),x(v),e.value&&e.value.isShowSuccess?(n(),r(m,{key:1,onOnClose:t[0]||(t[0]=u=>e.value.setIsShowSuccess(!1))})):l("",!0),e.value&&e.value.isShowRejected?(n(),r(c,{key:2,onOnClose:t[1]||(t[1]=u=>e.value.setIsShowRejected(!1))})):l("",!0),e.value&&e.value.isShowWaiting?(n(),r(F,{key:3,onOnClose:D})):l("",!0),s.value&&s.value.isShowWalletModal?(n(),r(z,{key:4,onOnDisconnect:t[2]||(t[2]=u=>b()),onOnSwitch:t[3]||(t[3]=u=>L()),onOnClose:t[4]||(t[4]=u=>s.value.setIsShowWalletModal(!1))})):l("",!0),g.value?(n(),r(P,{key:5,onClose:A})):l("",!0),e.value&&e.value.isShowSettingH5?(n(),r(K,{key:6,onOnClose:t[5]||(t[5]=u=>e.value.setIsShowSettingH5(!1))})):l("",!0),e.value&&e.value.isShowBuyCrypto?(n(),r(U,{key:7,onOnClose:t[6]||(t[6]=u=>e.value.setIsShowBuyCrypto(!1))})):l("",!0),e.value&&e.value.isShowBuyCryptoKODO?(n(),r(G,{key:8,onOnClose:t[7]||(t[7]=u=>e.value.setIsShowBuyCryptoKODO(!1))})):l("",!0),e.value&&e.value.isShowBuyCryptoConfirm?(n(),r(J,{key:9,onClose:t[8]||(t[8]=u=>e.value.setIsShowBuyCryptoConfirm(!1))})):l("",!0),e.value&&e.value.isShowBuyCryptoSelect?(n(),r(Q,{key:10,onClose:t[9]||(t[9]=u=>e.value.setIsShowBuyCryptoSelect(!1))})):l("",!0)],544)])}}});export{Ge as default};
