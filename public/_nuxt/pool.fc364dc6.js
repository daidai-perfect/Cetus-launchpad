import{e as $,m as y,o as l,f as i,h as t,x as S,i as v,S as L,p as F,k as N,a as Q,r as d,A as I,q as W,s as X,u as Y,F as Z,E as M,y as ee,v as te,l as se}from"./entry.c4f565bb.js";import"./index.083526b9.js";import{u as z}from"./stats.ccd5ea4d.js";import"./index.124c42d7.js";import{u as oe}from"./index.c16364fc.js";import{c as ae}from"./index.4eaea48a.js";import{l as le}from"./lodash.4a9a2c58.js";import{c as C}from"./common.bd99f06c.js";import{f as ie}from"./formatter.7a396de0.js";import"./install.71e3e947.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";const D=e=>(F("data-v-da9173fd"),e=e(),N(),e),ce={class:"pool-list-stats-info"},ne=D(()=>t("div",{class:"concentrate-pools"},"Concentrated Pools",-1)),re={class:"tvl-vol"},ue={class:"tvl"},_e=D(()=>t("div",{class:"title"},"Total Value Locked",-1)),de={key:0,class:"text"},ve={key:1,class:"text"},pe={class:"vol"},me=D(()=>t("div",{class:"title"},"Cumulative Volume",-1)),fe={key:0,class:"text"},ge={key:1,class:"text"},ye={__name:"pool-list-stats-info",setup(e){const a=z(),p=y(()=>a),u=y(()=>(console.log("ðŸš€ ~ overallStatistics ~ overallStatistics:",p.value.overallStatistics),p.value.overallStatistics));return(m,f)=>{const c=L;return l(),i("div",ce,[ne,t("div",re,[t("div",ue,[t("div",null,[_e,u.value.totalValueLockedDisplay?(l(),i("div",de,"$"+S(u.value.totalValueLockedDisplay),1)):(l(),i("div",ve,[v(c,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])]),t("div",pe,[t("div",null,[me,u.value.cumulativeVolumeDisplay?(l(),i("div",fe,"$"+S(u.value.cumulativeVolumeDisplay),1)):(l(),i("div",ge,[v(c,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])])])])}}},he=$(ye,[["__scopeId","data-v-da9173fd"]]),A=e=>(F("data-v-9e3954ec"),e=e(),N(),e),Se={class:"pool-list-chart-container"},xe={class:"chart-top"},ke={class:"trading-vol"},$e=A(()=>t("div",{class:"title"},"Trading Volume (24H)",-1)),De={key:0,class:"text"},we={key:1,class:"text"},be={class:"time-list"},Ve=["onClick"],Ie=A(()=>t("div",{class:"chart-content"},[t("div",{id:"stats-chart",class:"stats-chart"})],-1));var B=(e=>(e.D="day",e.W="wek",e.M="mon",e))(B||{}),E=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(E||{}),J=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(J||{}),R=(e=>(e[e.D=8]="D",e[e.W=8]="W",e[e.M=12]="M",e))(R||{}),T=(e=>(e[e.D=8]="D",e[e.W=8]="W",e[e.M=12]="M",e))(T||{});const Ce=Q({__name:"pool-list-chart",setup(e){const a=d("D"),p=["D","W","M"],u=oe();y(()=>u);const m=d(),f=d(),c=d(""),O=z(),U=y(()=>O),h=y(()=>U.value.overallStatistics);I(()=>[h.value],([s])=>{C(s)||(c.value=s.volInUsd24hSumV1)},{immediate:!0});const w=async()=>{try{const s=E[a.value],{data:n}=await fetch(`${ae.Sui.api}/v2/sui/histogram?date_type=${B[a.value]}&typ=vol&limit=${s}`).then(o=>o.json()),g=n.list.map(o=>o.num),r=n.list.map(o=>o.date);m.value=g,f.value=r,H(g,r,s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(s){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",s)}},x=d(),H=(s,n,g)=>{const r=document.getElementById("stats-chart"),o=te(r);x.value=o;let V={tooltip:{trigger:"axis",backgroundColor:"#28353F",borderColor:"transparent",formatter:function(_){let j=_[0].axisValue.slice(5,7),q=J[Number(j)];const G=_[0].axisValue.slice(8,10),K=q,P=_[0].axisValue.slice(0,4);return c.value=ie(_[0].value,2),"&nbsp;&nbsp;&nbsp;"+G+"&nbsp;"+K+"&nbsp;"+P+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#76C8FF"}}},xAxis:{show:!1,type:"category",data:n},yAxis:{show:!1,max:function(_){return _.max}},series:[{data:s,type:"bar",itemStyle:{normal:{barBorderRadius:4,color:"#72C1F7"}},barWidth:k.value?R[a.value]:T[a.value]}],grid:{left:0,right:0,top:0,bottom:0}};V&&o.setOption(V),o&&o.resize(),o.on("globalout",_=>{c.value=h.value&&h.value.volInUsd24hSumV1})};I(()=>a.value,(s,n)=>{(!n||s!==n)&&w()},{immediate:!0});const k=d(!0),b=le.debounce(()=>{document.body.clientWidth>750?k.value=!0:k.value=!1,!m.value&&!f.value?w():x.value&&x.value.resize()},300);return W(()=>{window.addEventListener("resize",b)}),X(()=>{window.removeEventListener("resize",b)}),(s,n)=>{const g=L;return l(),i("div",Se,[t("div",xe,[t("div",ke,[$e,Y(C)(h.value)?(l(),i("div",we,[v(g,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])):(l(),i("div",De," $"+S(c.value===""?"--":Number(c.value)==0?0:c.value),1))]),t("div",be,[(l(),i(Z,null,M(p,r=>t("div",{key:r,class:ee(["time-item",r==a.value?"time-item-active":""]),onClick:o=>a.value=r},S(r),11,Ve)),64))])]),Ie])}}});const Le=$(Ce,[["__scopeId","data-v-9e3954ec"]]);const Fe={class:"pool-container pageHaveRadiusSkeleton"},Ne={class:"pool-container-top-bg"},ze={class:"pool-container-top"},Ae={__name:"pool",setup(e){return(a,p)=>{const u=he,m=Le,f=se("router-view");return l(),i("div",Fe,[t("div",Ne,[t("div",ze,[v(u),v(m)]),v(f)])])}}},Pe=$(Ae,[["__scopeId","data-v-dbed9dac"]]);export{Pe as default};
