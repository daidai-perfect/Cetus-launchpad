import{C as wi}from"./coin-img.4bdff3b2.js";import{a as vn,r as pt,e as mn,M as rn,o as ge,f as xe,h as U,c as St,x as Ut,j as Ln,v as be,p as wn,k as Mn,ae as Br,m as ze,af as vo,D as ln,q as mo,w as Pt,u as un,i as Ve,F as Tn,s as En,t as wo,Y as Mi,L as Mo,W as yo,B as Ao,l as _o,a2 as bo,a3 as Sn,y as Co,z as So}from"./entry.d2fe8287.js";import{$ as Io,a0 as To,a1 as Eo,a2 as Oo,a3 as ko,a4 as Bo,a5 as No,a6 as Ro,a7 as Fo,a8 as Lo,a9 as Po,aa as Uo,ab as Do,ac as jo,ad as qo,ae as Wo,af as Nr,ag as On,ah as Zo,ai as Vo,aj as zo,ak as Rr,al as $o,am as Fr,an as yn,ao as Lr,ap as yi,aq as Pn,ar as Ho,as as Yo,at as wr,au as xo,av as Ko,aw as Go,ax as Xo,ay as Jo,az as Qo,aA as es,aB as ts,aC as ns,aD as rs,aE as is,aF as os,g as At,u as ss,e as Mt,h as it,s as as,aG as ri,b as Mr,aH as Ai,aI as ls}from"./index.3377e62e.js";import{D as _i}from"./decimal.0bdeb344.js";/* empty css              *//* empty css              */import{n as qt,r as bi,a as zn,q as us,b as cs,j as Ci}from"./pool.b77853f9.js";const Si="â€¦";function hs(e){if(e.length<=6)return e;const t=e.startsWith("0x")?2:0;return`0x${e.slice(t,t+4)}${Si}${e.slice(-4)}`}function fs(e){return`${e.slice(0,10)}${Si}`}const ds=Object.freeze(Object.defineProperty({__proto__:null,MIST_PER_SUI:Io,MOVE_STDLIB_ADDRESS:To,SUI_ADDRESS_LENGTH:Eo,SUI_CLOCK_OBJECT_ID:Oo,SUI_DECIMALS:ko,SUI_FRAMEWORK_ADDRESS:Bo,SUI_SYSTEM_ADDRESS:No,SUI_SYSTEM_MODULE_NAME:Ro,SUI_SYSTEM_STATE_OBJECT_ID:Fo,SUI_TYPE_ARG:Lo,formatAddress:hs,formatDigest:fs,fromB64:Po,fromHEX:Uo,isValidSuiAddress:Do,isValidSuiNSName:jo,isValidSuiObjectId:qo,isValidTransactionDigest:Wo,normalizeStructTag:Nr,normalizeSuiAddress:On,normalizeSuiNSName:Zo,normalizeSuiObjectId:Vo,parseStructTag:zo,toB64:Rr,toHEX:$o},Symbol.toStringTag,{value:"Module"}));var Ii=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},$e=(e,t,n)=>(Ii(e,t,"read from private field"),n?n.call(e):t.get(e)),Ti=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},gs=(e,t,n,i)=>(Ii(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Rt,Ge;class Ei{async getObject(t){const[n,i]=await Promise.all([this.get("OwnedObject",t),this.get("SharedOrImmutableObject",t)]);return n??i??null}async getObjects(t){return Promise.all([...t.map(n=>this.getObject(n))])}async addObject(t){return t.owner?await this.set("OwnedObject",t.objectId,t):await this.set("SharedOrImmutableObject",t.objectId,t),t}async addObjects(t){await Promise.all(t.map(async n=>this.addObject(n)))}async deleteObject(t){await Promise.all([this.delete("OwnedObject",t),this.delete("SharedOrImmutableObject",t)])}async deleteObjects(t){await Promise.all(t.map(n=>this.deleteObject(n)))}async getMoveFunctionDefinition(t){const n=`${On(t.package)}::${t.module}::${t.function}`;return this.get("MoveFunction",n)}async addMoveFunctionDefinition(t){const n=On(t.package),i=`${n}::${t.module}::${t.function}`,o={...t,package:n};return await this.set("MoveFunction",i,o),o}async deleteMoveFunctionDefinition(t){const n=`${On(t.package)}::${t.module}::${t.function}`;await this.delete("MoveFunction",n)}async getCustom(t){return this.get("Custom",t)}async setCustom(t,n){return this.set("Custom",t,n)}async deleteCustom(t){return this.delete("Custom",t)}}class ps extends Ei{constructor(){super(...arguments),Ti(this,Rt,{OwnedObject:new Map,SharedOrImmutableObject:new Map,MoveFunction:new Map,Custom:new Map})}async get(t,n){return $e(this,Rt)[t].get(n)??null}async set(t,n,i){$e(this,Rt)[t].set(n,i)}async delete(t,n){$e(this,Rt)[t].delete(n)}async clear(t){if(t)$e(this,Rt)[t].clear();else for(const n of Object.values($e(this,Rt)))n.clear()}}Rt=new WeakMap;class Oi{constructor({cache:t=new ps}){Ti(this,Ge,void 0),gs(this,Ge,t)}asPlugin(){return async(t,n,i)=>{const o=t.inputs.filter(c=>c.UnresolvedObject).map(c=>c.UnresolvedObject.objectId),l=(await $e(this,Ge).getObjects(o)).filter(c=>c!==null),a=new Map(l.map(c=>[c.objectId,c]));for(const c of t.inputs){if(!c.UnresolvedObject)continue;const g=a.get(c.UnresolvedObject.objectId);g&&(g.initialSharedVersion&&!c.UnresolvedObject.initialSharedVersion?c.UnresolvedObject.initialSharedVersion=g.initialSharedVersion:(g.version&&!c.UnresolvedObject.version&&(c.UnresolvedObject.version=g.version),g.digest&&!c.UnresolvedObject.digest&&(c.UnresolvedObject.digest=g.digest)))}await Promise.all(t.commands.map(async c=>{if(c.MoveCall){const g=await this.getMoveFunctionDefinition({package:c.MoveCall.package,module:c.MoveCall.module,function:c.MoveCall.function});g&&(c.MoveCall._argumentTypes=g.parameters)}})),await i(),await Promise.all(t.commands.map(async c=>{var g;(g=c.MoveCall)!=null&&g._argumentTypes&&await $e(this,Ge).addMoveFunctionDefinition({package:c.MoveCall.package,module:c.MoveCall.module,function:c.MoveCall.function,parameters:c.MoveCall._argumentTypes})}))}}async clear(){await $e(this,Ge).clear()}async getMoveFunctionDefinition(t){return $e(this,Ge).getMoveFunctionDefinition(t)}async getObjects(t){return $e(this,Ge).getObjects(t)}async deleteObjects(t){return $e(this,Ge).deleteObjects(t)}async clearOwnedObjects(){await $e(this,Ge).clear("OwnedObject")}async clearCustom(){await $e(this,Ge).clear("Custom")}async getCustom(t){return $e(this,Ge).getCustom(t)}async setCustom(t,n){return $e(this,Ge).setCustom(t,n)}async deleteCustom(t){return $e(this,Ge).deleteCustom(t)}async applyEffects(t){if(!t.V2)throw new Error(`Unsupported transaction effects version ${t.$kind}`);const{lamportVersion:n,changedObjects:i}=t.V2,o=[],l=[];i.map(async([a,c])=>{var g;if(c.outputState.NotExist)await $e(this,Ge).deleteObject(a);else if(c.outputState.ObjectWrite){const[v,A]=c.outputState.ObjectWrite;l.push({objectId:a,digest:v,version:n,owner:A.AddressOwner??A.ObjectOwner??null,initialSharedVersion:((g=A.Shared)==null?void 0:g.initialSharedVersion)??null})}}),await Promise.all([$e(this,Ge).addObjects(l),$e(this,Ge).deleteObjects(o)])}}Ge=new WeakMap;var ki=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ii=(e,t,n)=>(ki(e,t,"read from private field"),n?n.call(e):t.get(e)),vs=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ms=(e,t,n,i)=>(ki(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),on;class Bi{constructor({client:t,...n}){vs(this,on,void 0),ms(this,on,t),this.cache=new Oi(n)}async reset(){await this.cache.clearOwnedObjects(),await this.cache.clearCustom()}async buildTransaction({transaction:t,...n}){return t.addBuildPlugin(this.cache.asPlugin()),t.build({client:ii(this,on),...n})}async executeTransaction({transaction:t,options:n,...i}){const o=Fr(t)?await this.buildTransaction({transaction:t}):t,l=await ii(this,on).executeTransactionBlock({...i,transactionBlock:o,options:{...n,showRawEffects:!0}});if(l.rawEffects){const a=yn.TransactionEffects.parse(Uint8Array.from(l.rawEffects));await this.applyEffects(a)}return l}async signAndExecuteTransaction({options:t,transaction:n,...i}){n.setSenderIfNotSet(i.signer.toSuiAddress());const o=await this.buildTransaction({transaction:n}),{signature:l}=await i.signer.signTransaction(o);return await this.executeTransaction({transaction:o,signature:l,options:t})}async applyEffects(t){await this.cache.applyEffects(t)}}on=new WeakMap;var ws=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},lt=(e,t,n)=>(ws(e,t,"read from private field"),n?n.call(e):t.get(e)),Ni=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},_t,Ft;class Ri{constructor(){Ni(this,_t,[])}async runTask(t){return new Promise((n,i)=>{lt(this,_t).push(()=>{t().finally(()=>{lt(this,_t).shift(),lt(this,_t).length>0&&lt(this,_t)[0]()}).then(n,i)}),lt(this,_t).length===1&&lt(this,_t)[0]()})}}_t=new WeakMap;class Ms{constructor(t){Ni(this,Ft,[]),this.activeTasks=0,this.maxTasks=t}runTask(t){return new Promise((n,i)=>{this.activeTasks<this.maxTasks?(this.activeTasks++,t().finally(()=>{lt(this,Ft).length>0?lt(this,Ft).shift()():this.activeTasks--}).then(n,i)):lt(this,Ft).push(()=>{t().finally(()=>{lt(this,Ft).length>0?lt(this,Ft).shift()():this.activeTasks--}).then(n,i)})})}}Ft=new WeakMap;var Pr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Xe=(e,t,n)=>(Pr(e,t,"read from private field"),n?n.call(e):t.get(e)),yt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},sn=(e,t,n,i)=>(Pr(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),ys=(e,t,n)=>(Pr(e,t,"access private method"),n),kn,an,ht,Un,Yt,yr,Bn,Ar,Fi;class As{constructor({signer:t,...n}){yt(this,Ar),yt(this,kn,new Ri),yt(this,an,void 0),yt(this,ht,void 0),yt(this,Un,void 0),yt(this,Yt,null),yt(this,yr,async i=>{if(!i.V2)return;const o=Ur(i).ref;o?Xe(this,ht).cache.setCustom("gasCoin",o):Xe(this,ht).cache.deleteCustom("gasCoin")}),yt(this,Bn,async i=>{const o=await Xe(this,ht).cache.getCustom("gasCoin"),l=Lr.from(i);return o&&l.setGasPayment([o]),l.setSenderIfNotSet(Xe(this,an).toSuiAddress()),Xe(this,ht).buildTransaction({transaction:l})}),sn(this,an,t),sn(this,Un,n.client),sn(this,ht,new Bi({client:n.client,cache:n.cache}))}async applyEffects(t){return Promise.all([Xe(this,yr).call(this,t),Xe(this,ht).cache.applyEffects(t)])}async buildTransaction(t){return Xe(this,kn).runTask(()=>Xe(this,Bn).call(this,t))}resetCache(){return Promise.all([Xe(this,ht).reset(),ys(this,Ar,Fi).call(this)])}executeTransaction(t){return Xe(this,kn).runTask(async()=>{const n=Fr(t)?await Xe(this,Bn).call(this,t):t,{signature:i}=await Xe(this,an).signTransaction(n),o=await Xe(this,ht).executeTransaction({signature:i,transaction:n}).catch(async c=>{throw await this.resetCache(),c}),l=Uint8Array.from(o.rawEffects),a=yn.TransactionEffects.parse(l);return await this.applyEffects(a),sn(this,Yt,o.digest),{digest:o.digest,effects:Rr(l)}})}}kn=new WeakMap;an=new WeakMap;ht=new WeakMap;Un=new WeakMap;Yt=new WeakMap;yr=new WeakMap;Bn=new WeakMap;Ar=new WeakSet;Fi=async function(){Xe(this,Yt)&&(await Xe(this,Un).waitForTransaction({digest:Xe(this,Yt)}),sn(this,Yt,null))};function Ur(e){if(!e.V2)throw new Error("Unexpected effects version");const t=e.V2.changedObjects[e.V2.gasObjectIndex];if(!t)throw new Error("Gas object not found in effects");const[n,{outputState:i}]=t;if(!i.ObjectWrite)throw new Error("Unexpected gas object state");const[o,l]=i.ObjectWrite;return{ref:{objectId:n,digest:o,version:e.V2.lamportVersion},owner:l.AddressOwner||l.ObjectOwner}}var Dr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},W=(e,t,n)=>(Dr(e,t,"read from private field"),n?n.call(e):t.get(e)),ye=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},_e=(e,t,n,i)=>(Dr(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),oi=(e,t,n,i)=>({set _(o){_e(e,t,o,n)},get _(){return W(e,t,i)}}),ot=(e,t,n)=>(Dr(e,t,"access private method"),n),Tt,ft,Dn,hn,cn,fn,jn,xt,tt,Et,jt,Dt,jr,Nn,dn,Vt,Gt,gt,_r,Li,br,Pi,Xt,gn,$n,qr,Wr,Ui,Hn,Cr,Zr,Di;const nn={coinBatchSize:20,initialCoinBalance:200000000n,minimumCoinBalance:50000000n,maxPoolSize:50,epochBoundaryWindow:1e3};class _s{constructor(t){ye(this,_r),ye(this,br),ye(this,Xt),ye(this,$n),ye(this,Wr),ye(this,Hn),ye(this,Zr),ye(this,Tt,void 0),ye(this,ft,void 0),ye(this,Dn,void 0),ye(this,hn,void 0),ye(this,cn,void 0),ye(this,fn,void 0),ye(this,jn,void 0),ye(this,xt,void 0),ye(this,tt,void 0),ye(this,Et,[]),ye(this,jt,void 0),ye(this,Dt,new Map),ye(this,jr,new Ri),ye(this,Nn,void 0),ye(this,dn,null),ye(this,Vt,null),ye(this,Gt,0),ye(this,gt,null),_e(this,Tt,t.signer),_e(this,ft,t.client),_e(this,Dn,t.coinBatchSize??nn.coinBatchSize),_e(this,hn,t.initialCoinBalance??nn.initialCoinBalance),_e(this,cn,t.minimumCoinBalance??nn.minimumCoinBalance),_e(this,jn,t.defaultGasBudget??W(this,cn)),_e(this,fn,t.epochBoundaryWindow??nn.epochBoundaryWindow),_e(this,xt,t.maxPoolSize??nn.maxPoolSize),_e(this,jt,new Bi({client:t.client,cache:t.cache})),_e(this,Nn,new Ms(W(this,xt))),_e(this,tt,t.sourceCoins?new Map(t.sourceCoins.map(n=>[n,null])):null)}resetCache(){return _e(this,gt,null),ot(this,Xt,gn).call(this,()=>W(this,jt).reset())}async executeTransaction(t){const{promise:n,resolve:i,reject:o}=bs(),l=await ot(this,_r,Li).call(this,t),a=()=>{W(this,Nn).runTask(()=>ot(this,br,Pi).call(this,t,l).then(i,o))},c=new Set;return l.forEach(g=>{W(this,Dt).get(g)?(c.add(g),W(this,Dt).get(g).push(()=>{c.delete(g),c.size===0&&a()})):W(this,Dt).set(g,[])}),c.size===0&&a(),n}}Tt=new WeakMap;ft=new WeakMap;Dn=new WeakMap;hn=new WeakMap;cn=new WeakMap;fn=new WeakMap;jn=new WeakMap;xt=new WeakMap;tt=new WeakMap;Et=new WeakMap;jt=new WeakMap;Dt=new WeakMap;jr=new WeakMap;Nn=new WeakMap;dn=new WeakMap;Vt=new WeakMap;Gt=new WeakMap;gt=new WeakMap;_r=new WeakSet;Li=async function(e){const t=new Set;let n=!1;return e.addSerializationPlugin(async(i,o,l)=>{await l(),!n&&(n=!0,i.inputs.forEach(a=>{var c,g,v,A,_;(g=(c=a.Object)==null?void 0:c.ImmOrOwnedObject)!=null&&g.objectId?t.add(a.Object.ImmOrOwnedObject.objectId):(A=(v=a.Object)==null?void 0:v.Receiving)!=null&&A.objectId?t.add(a.Object.Receiving.objectId):(_=a.UnresolvedObject)!=null&&_.objectId&&!a.UnresolvedObject.initialSharedVersion&&t.add(a.UnresolvedObject.objectId)}))}),await e.prepareForSerialization({client:W(this,ft)}),t};br=new WeakSet;Pi=async function(e,t){var i;let n;try{e.setSenderIfNotSet(W(this,Tt).toSuiAddress()),await W(this,jr).runTask(async()=>{const _=e.getData();_.gasData.price||e.setGasPrice(await ot(this,Hn,Cr).call(this)),_.gasData.budget||e.setGasBudget(W(this,jn)),await ot(this,Xt,gn).call(this),n=await ot(this,Wr,Ui).call(this),oi(this,Gt)._++,e.setGasPayment([{objectId:n.id,version:n.version,digest:n.digest}]),await W(this,jt).buildTransaction({transaction:e,onlyTransactionKind:!0})});const o=await e.build({client:W(this,ft)}),{signature:l}=await W(this,Tt).signTransaction(o),a=await W(this,jt).executeTransaction({transaction:o,signature:l,options:{showEffects:!0}}),c=Uint8Array.from(a.rawEffects),g=yn.TransactionEffects.parse(c),v=Ur(g),A=(i=g.V2)==null?void 0:i.gasUsed;if(n&&A&&v.owner===W(this,Tt).toSuiAddress()){const _=BigInt(A.computationCost)+BigInt(A.storageCost)+BigInt(A.storageCost)-BigInt(A.storageRebate);let b=!1;new yi(e.getData()).mapArguments(S=>(S.$kind==="GasCoin"&&(b=!0),S)),!b&&n.balance>=W(this,cn)?W(this,Et).push({id:v.ref.objectId,version:v.ref.version,digest:v.ref.digest,balance:n.balance-_}):(W(this,tt)||_e(this,tt,new Map),W(this,tt).set(v.ref.objectId,v.ref))}return _e(this,dn,a.digest),{digest:a.digest,effects:Rr(c)}}catch(o){throw n&&(W(this,tt)||_e(this,tt,new Map),W(this,tt).set(n.id,null)),await ot(this,Xt,gn).call(this,async()=>{await Promise.all([W(this,jt).cache.deleteObjects([...t]),ot(this,$n,qr).call(this)])}),o}finally{t.forEach(o=>{const l=W(this,Dt).get(o);l&&l.length>0?l.shift()():l&&W(this,Dt).delete(o)}),oi(this,Gt)._--}};Xt=new WeakSet;gn=async function(e){W(this,Vt)&&await W(this,Vt),_e(this,Vt,(e==null?void 0:e().then(()=>{_e(this,Vt,null)},()=>{}))??null)};$n=new WeakSet;qr=async function(){const e=W(this,dn);e&&(_e(this,dn,null),await W(this,ft).waitForTransaction({digest:e}))};Wr=new WeakSet;Ui=async function(){if(W(this,Et).length===0&&W(this,Gt)<=W(this,xt)&&await ot(this,Zr,Di).call(this),W(this,Et).length===0)throw new Error("No coins available");return W(this,Et).shift()};Hn=new WeakSet;Cr=async function(){if((W(this,gt)?W(this,gt).expiration-W(this,fn)-Date.now():0)>0)return W(this,gt).price;if(W(this,gt)){const n=Math.max(W(this,gt).expiration+W(this,fn)-Date.now(),1e3);await new Promise(i=>setTimeout(i,n))}const t=await W(this,ft).getLatestSuiSystemState();return _e(this,gt,{price:BigInt(t.referenceGasPrice),expiration:Number.parseInt(t.epochStartTimestampMs,10)+Number.parseInt(t.epochDurationMs,10)}),ot(this,Hn,Cr).call(this)};Zr=new WeakSet;Di=async function(){var v;const e=Math.min(W(this,Dn),W(this,xt)-(W(this,Et).length+W(this,Gt))+1);if(e===0)return;const t=new Lr,n=W(this,Tt).toSuiAddress();if(t.setSender(n),W(this,tt)){const A=[],_=[];for(const[b,S]of W(this,tt))S?A.push(S):_.push(b);if(_.length>0){const b=await W(this,ft).multiGetObjects({ids:_});A.push(...b.filter(S=>S.data!==null).map(({data:S})=>({objectId:S.objectId,version:S.version,digest:S.digest})))}t.setGasPayment(A),_e(this,tt,new Map)}const i=new Array(e).fill(W(this,hn)),o=t.splitCoins(t.gas,i),l=[];for(let A=0;A<i.length;A++)l.push(o[A]);t.transferObjects(l,n),await ot(this,Xt,gn).call(this,()=>ot(this,$n,qr).call(this));const a=await W(this,ft).signAndExecuteTransaction({transaction:t,signer:W(this,Tt),options:{showRawEffects:!0}}),c=yn.TransactionEffects.parse(Uint8Array.from(a.rawEffects));(v=c.V2)==null||v.changedObjects.forEach(([A,{outputState:_}],b)=>{var S;b===((S=c.V2)==null?void 0:S.gasObjectIndex)||!_.ObjectWrite||W(this,Et).push({id:A,version:c.V2.lamportVersion,digest:_.ObjectWrite[0],balance:BigInt(W(this,hn))})}),W(this,tt)||_e(this,tt,new Map);const g=Ur(c).ref;W(this,tt).set(g.objectId,g),await W(this,ft).waitForTransaction({digest:a.digest})};function bs(){let e,t;return{promise:new Promise((i,o)=>{e=i,t=o}),resolve:e,reject:t}}const qn="CoinWithBalance",si=Nr("0x2::sui::SUI");function Cs({type:e=si,balance:t,useGasCoin:n=!0}){return i=>{i.addIntentResolver(qn,Is);const o=e==="gas"?e:Nr(e);return i.add(Pn.Intent({name:qn,inputs:{},data:{type:o===si&&n?"gas":o,balance:BigInt(t)}}))}}const Ss=xo({type:Ko(),balance:Go()});async function Is(e,t,n){var v,A;const i=new Set,o=new Map;if(!e.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const _ of e.commands)if(_.$kind==="$Intent"&&_.$Intent.name===qn){const{type:b,balance:S}=Ho(Ss,_.$Intent.data);b!=="gas"&&i.add(b),o.set(b,(o.get(b)??0n)+S)}const l=new Set;for(const _ of e.inputs)(v=_.Object)!=null&&v.ImmOrOwnedObject&&l.add(_.Object.ImmOrOwnedObject.objectId),(A=_.UnresolvedObject)!=null&&A.objectId&&l.add(_.UnresolvedObject.objectId);const a=new Map,c=Yo(t);await Promise.all([...i].map(async _=>{a.set(_,await Ts({coinType:_,balance:o.get(_),client:c,owner:e.sender,usedIds:l}))}));const g=new Map;g.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[_,b]of e.commands.entries()){if(b.$kind!=="$Intent"||b.$Intent.name!==qn)continue;const{type:S,balance:E}=b.$Intent.data,B=[];if(!g.has(S)){const[C,...j]=a.get(S).map(I=>e.addInput("object",wr.ObjectRef({objectId:I.coinObjectId,digest:I.digest,version:I.version})));j.length>0&&B.push(Pn.MergeCoins(C,j)),g.set(S,C)}B.push(Pn.SplitCoins(g.get(S),[e.addInput("pure",wr.Pure(yn.u64().serialize(E)))])),e.replaceCommand(_,B),e.mapArguments(C=>C.$kind==="Result"&&C.Result===_?{$kind:"NestedResult",NestedResult:[_+B.length-1,0]}:C)}return n()}async function Ts({coinType:e,balance:t,client:n,owner:i,usedIds:o}){let l=t;const a=[];return c();async function c(g=null){const{data:v,hasNextPage:A,nextCursor:_}=await n.getCoins({owner:i,coinType:e,cursor:g}),b=v.sort((S,E)=>Number(BigInt(E.balance)-BigInt(S.balance)));for(const S of b){if(o.has(S.coinObjectId))continue;const E=BigInt(S.balance);if(a.push(S),l-=E,l<=0)return a}if(A)return c(_);throw new Error(`Not enough coins of type ${e} to satisfy requested balance`)}}const Es=Object.freeze(Object.defineProperty({__proto__:null,AsyncCache:Ei,Commands:Pn,Inputs:wr,ObjectCache:Oi,ParallelTransactionExecutor:_s,SerialTransactionExecutor:As,Transaction:Lr,TransactionDataBuilder:yi,UpgradePolicy:Xo,coinWithBalance:Cs,getPureBcsSchema:Jo,isTransaction:Fr,normalizedTypeToMoveTypeSignature:Qo},Symbol.toStringTag,{value:"Module"}));function Os(e){switch(e){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${e}`)}}const ks=Object.freeze(Object.defineProperty({__proto__:null,JsonRpcError:es,SuiClient:ts,SuiHTTPStatusError:ns,SuiHTTPTransport:rs,SuiHTTPTransportError:is,getFullnodeUrl:Os,isSuiClient:os},Symbol.toStringTag,{value:"Module"})),Bs=vn({components:{CoinImg:wi},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},oneToAmount:{type:String,default:()=>""},oneFromAmount:{type:String,default:()=>""}},setup(e){return{rateChange:pt(!1)}}});const ji=e=>(wn("data-v-bf80ed04"),e=e(),Mn(),e),Ns={class:"swap-rate"},Rs={key:0},Fs={class:"after-amount"},Ls={key:1},Ps={class:"after-amount"},Us=ji(()=>U("svg",{class:"icon icon-up","aria-hidden":"true"},[U("use",{"xlink:href":"#icon-exchange_up1"})],-1)),Ds=ji(()=>U("svg",{class:"icon icon-down","aria-hidden":"true"},[U("use",{"xlink:href":"#icon-exchange_down1"})],-1)),js=[Us,Ds];function qs(e,t,n,i,o,l){var c,g,v,A,_,b,S,E,B,C,j,I;const a=rn("CoinImg");return ge(),xe("div",Ns,[e.rateChange?(ge(),xe("span",Ls,[U("span",Ps,[(S=e.toCoin)!=null&&S.address?(ge(),St(a,{key:0,url:(E=e.toCoin)==null?void 0:E.logoURI,size:"16px"},null,8,["url"])):Ut("",!0),Ln(" 1 "+be((B=e.toCoin)==null?void 0:B.symbol)+" â‰ˆ "+be(e.oneFromAmount==1/0?0:e.oneFromAmount)+" "+be((C=e.fromCoin)==null?void 0:C.symbol)+"Â  ",1),(j=e.fromCoin)!=null&&j.address?(ge(),St(a,{key:1,url:(I=e.fromCoin)==null?void 0:I.logoURI,size:"16px"},null,8,["url"])):Ut("",!0)])])):(ge(),xe("span",Rs,[U("span",Fs,[(c=e.fromCoin)!=null&&c.address?(ge(),St(a,{key:0,url:(g=e.fromCoin)==null?void 0:g.logoURI,size:"16px"},null,8,["url"])):Ut("",!0),Ln("Â 1 "+be((v=e.fromCoin)==null?void 0:v.symbol)+" â‰ˆ "+be(e.oneToAmount==1/0?0:e.oneToAmount)+" "+be((A=e.toCoin)==null?void 0:A.symbol)+"Â  ",1),(_=e.toCoin)!=null&&_.address?(ge(),St(a,{key:1,url:(b=e.toCoin)==null?void 0:b.logoURI,size:"16px"},null,8,["url"])):Ut("",!0)])])),U("div",{class:"right",onClick:t[0]||(t[0]=T=>e.rateChange=!e.rateChange)},js)])}const qc=mn(Bs,[["render",qs],["__scopeId","data-v-bf80ed04"]]);async function Wc(e,t){var o,l,a;const n=e==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":e,i=`${At.Sui.api}/v2/sui/coin/kline?coin_address=${n}&interval=day&market=${t}`;try{const c=await $fetch(i);return{price:((l=(o=c==null?void 0:c.data)==null?void 0:o.list)==null?void 0:l.reverse())||[],daily_rate:(a=c==null?void 0:c.data)==null?void 0:a.daily_rate.replace("%","")}}catch{return{price:[],daily_rate:""}}}async function Zc(e){try{const{prices:t}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=7&interval=daily`,{headers:{Connection:"keep-alive",Accept:"*/*"}}),i=(await $fetch(`https://api.coingecko.com/api/v3/coins/markets?ids=${e}&vs_currency=usd&price_change_percentage=24h`,{headers:{Connection:"keep-alive",Accept:"*/*"}}))[0].price_change_percentage_24h,o=[];return t.forEach(l=>{o.push({price:new _i(l[1]).toString(),timestamp:l[0]})}),{price:o,daily_rate:i}}catch{return{price:[],daily_rate:""}}}const Ws=Br(ks),Zs=Br(ds),Vs=Br(Es);var zs=Ws,Vr=Zs,qi=Vs,$s=Object.create,zr=Object.defineProperty,Hs=Object.defineProperties,Ys=Object.getOwnPropertyDescriptor,xs=Object.getOwnPropertyDescriptors,Wi=Object.getOwnPropertyNames,ai=Object.getOwnPropertySymbols,Ks=Object.getPrototypeOf,Zi=Object.prototype.hasOwnProperty,Gs=Object.prototype.propertyIsEnumerable,li=(e,t,n)=>t in e?zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xs=(e,t)=>{for(var n in t||(t={}))Zi.call(t,n)&&li(e,n,t[n]);if(ai)for(var n of ai(t))Gs.call(t,n)&&li(e,n,t[n]);return e},Js=(e,t)=>Hs(e,xs(t)),Qs=(e=>typeof qt<"u"?qt:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof qt<"u"?qt:t)[n]}):e)(function(e){if(typeof qt<"u")return qt.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),ea=(e,t)=>function(){return t||(0,e[Wi(e)[0]])((t={exports:{}}).exports,t),t.exports},ta=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wi(t))!Zi.call(e,o)&&o!==n&&zr(e,o,{get:()=>t[o],enumerable:!(i=Ys(t,o))||i.enumerable});return e},Yn=(e,t,n)=>(n=e!=null?$s(Ks(e)):{},ta(!e||!e.__esModule?zr(n,"default",{value:e,enumerable:!0}):n,e)),Ye=(e,t,n)=>new Promise((i,o)=>{var l=g=>{try{c(n.next(g))}catch(v){o(v)}},a=g=>{try{c(n.throw(g))}catch(v){o(v)}},c=g=>g.done?i(g.value):Promise.resolve(g.value).then(l,a);c((n=n.apply(e,t)).next())}),xn=ea({"node_modules/bn.js/lib/bn.js"(e,t){(function(n,i){function o(w,r){if(!w)throw new Error(r||"Assertion failed")}function l(w,r){w.super_=r;var u=function(){};u.prototype=r.prototype,w.prototype=new u,w.prototype.constructor=w}function a(w,r,u){if(a.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((r==="le"||r==="be")&&(u=r,r=10),this._init(w||0,r||10,u||"be"))}typeof n=="object"?n.exports=a:i.BN=a,a.BN=a,a.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Qs("buffer").Buffer}catch{}a.isBN=function(r){return r instanceof a?!0:r!==null&&typeof r=="object"&&r.constructor.wordSize===a.wordSize&&Array.isArray(r.words)},a.max=function(r,u){return r.cmp(u)>0?r:u},a.min=function(r,u){return r.cmp(u)<0?r:u},a.prototype._init=function(r,u,d){if(typeof r=="number")return this._initNumber(r,u,d);if(typeof r=="object")return this._initArray(r,u,d);u==="hex"&&(u=16),o(u===(u|0)&&u>=2&&u<=36),r=r.toString().replace(/\s+/g,"");var M=0;r[0]==="-"&&(M++,this.negative=1),M<r.length&&(u===16?this._parseHex(r,M,d):(this._parseBase(r,u,M),d==="le"&&this._initArray(this.toArray(),u,d)))},a.prototype._initNumber=function(r,u,d){r<0&&(this.negative=1,r=-r),r<67108864?(this.words=[r&67108863],this.length=1):r<4503599627370496?(this.words=[r&67108863,r/67108864&67108863],this.length=2):(o(r<9007199254740992),this.words=[r&67108863,r/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},a.prototype._initArray=function(r,u,d){if(o(typeof r.length=="number"),r.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(r.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var y,f,h=0;if(d==="be")for(M=r.length-1,y=0;M>=0;M-=3)f=r[M]|r[M-1]<<8|r[M-2]<<16,this.words[y]|=f<<h&67108863,this.words[y+1]=f>>>26-h&67108863,h+=24,h>=26&&(h-=26,y++);else if(d==="le")for(M=0,y=0;M<r.length;M+=3)f=r[M]|r[M+1]<<8|r[M+2]<<16,this.words[y]|=f<<h&67108863,this.words[y+1]=f>>>26-h&67108863,h+=24,h>=26&&(h-=26,y++);return this._strip()};function g(w,r){var u=w.charCodeAt(r);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;o(!1,"Invalid character in "+w)}function v(w,r,u){var d=g(w,u);return u-1>=r&&(d|=g(w,u-1)<<4),d}a.prototype._parseHex=function(r,u,d){this.length=Math.ceil((r.length-u)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var y=0,f=0,h;if(d==="be")for(M=r.length-1;M>=u;M-=2)h=v(r,u,M)<<y,this.words[f]|=h&67108863,y>=18?(y-=18,f+=1,this.words[f]|=h>>>26):y+=8;else{var p=r.length-u;for(M=p%2===0?u+1:u;M<r.length;M+=2)h=v(r,u,M)<<y,this.words[f]|=h&67108863,y>=18?(y-=18,f+=1,this.words[f]|=h>>>26):y+=8}this._strip()};function A(w,r,u,d){for(var M=0,y=0,f=Math.min(w.length,u),h=r;h<f;h++){var p=w.charCodeAt(h)-48;M*=d,p>=49?y=p-49+10:p>=17?y=p-17+10:y=p,o(p>=0&&y<d,"Invalid character"),M+=y}return M}a.prototype._parseBase=function(r,u,d){this.words=[0],this.length=1;for(var M=0,y=1;y<=67108863;y*=u)M++;M--,y=y/u|0;for(var f=r.length-d,h=f%M,p=Math.min(f,f-h)+d,s=0,m=d;m<p;m+=M)s=A(r,m,m+M,u),this.imuln(y),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(h!==0){var L=1;for(s=A(r,m,r.length,u),m=0;m<h;m++)L*=u;this.imuln(L),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},a.prototype.copy=function(r){r.words=new Array(this.length);for(var u=0;u<this.length;u++)r.words[u]=this.words[u];r.length=this.length,r.negative=this.negative,r.red=this.red};function _(w,r){w.words=r.words,w.length=r.length,w.negative=r.negative,w.red=r.red}if(a.prototype._move=function(r){_(r,this)},a.prototype.clone=function(){var r=new a(null);return this.copy(r),r},a.prototype._expand=function(r){for(;this.length<r;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{a.prototype.inspect=b}else a.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(r,u){r=r||10,u=u|0||1;var d;if(r===16||r==="hex"){d="";for(var M=0,y=0,f=0;f<this.length;f++){var h=this.words[f],p=((h<<M|y)&16777215).toString(16);y=h>>>24-M&16777215,M+=2,M>=26&&(M-=26,f--),y!==0||f!==this.length-1?d=S[6-p.length]+p+d:d=p+d}for(y!==0&&(d=y.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(r===(r|0)&&r>=2&&r<=36){var s=E[r],m=B[r];d="";var L=this.clone();for(L.negative=0;!L.isZero();){var P=L.modrn(m).toString(r);L=L.idivn(m),L.isZero()?d=P+d:d=S[s-P.length]+P+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var r=this.words[0];return this.length===2?r+=this.words[1]*67108864:this.length===3&&this.words[2]===1?r+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-r:r},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(r,u){return this.toArrayLike(c,r,u)}),a.prototype.toArray=function(r,u){return this.toArrayLike(Array,r,u)};var C=function(r,u){return r.allocUnsafe?r.allocUnsafe(u):new r(u)};a.prototype.toArrayLike=function(r,u,d){this._strip();var M=this.byteLength(),y=d||Math.max(1,M);o(M<=y,"byte array longer than desired length"),o(y>0,"Requested array length <= 0");var f=C(r,y),h=u==="le"?"LE":"BE";return this["_toArrayLike"+h](f,M),f},a.prototype._toArrayLikeLE=function(r,u){for(var d=0,M=0,y=0,f=0;y<this.length;y++){var h=this.words[y]<<f|M;r[d++]=h&255,d<r.length&&(r[d++]=h>>8&255),d<r.length&&(r[d++]=h>>16&255),f===6?(d<r.length&&(r[d++]=h>>24&255),M=0,f=0):(M=h>>>24,f+=2)}if(d<r.length)for(r[d++]=M;d<r.length;)r[d++]=0},a.prototype._toArrayLikeBE=function(r,u){for(var d=r.length-1,M=0,y=0,f=0;y<this.length;y++){var h=this.words[y]<<f|M;r[d--]=h&255,d>=0&&(r[d--]=h>>8&255),d>=0&&(r[d--]=h>>16&255),f===6?(d>=0&&(r[d--]=h>>24&255),M=0,f=0):(M=h>>>24,f+=2)}if(d>=0)for(r[d--]=M;d>=0;)r[d--]=0},Math.clz32?a.prototype._countBits=function(r){return 32-Math.clz32(r)}:a.prototype._countBits=function(r){var u=r,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},a.prototype._zeroBits=function(r){if(r===0)return 26;var u=r,d=0;return u&8191||(d+=13,u>>>=13),u&127||(d+=7,u>>>=7),u&15||(d+=4,u>>>=4),u&3||(d+=2,u>>>=2),u&1||d++,d},a.prototype.bitLength=function(){var r=this.words[this.length-1],u=this._countBits(r);return(this.length-1)*26+u};function j(w){for(var r=new Array(w.bitLength()),u=0;u<r.length;u++){var d=u/26|0,M=u%26;r[u]=w.words[d]>>>M&1}return r}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(r+=d,d!==26)break}return r},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()},a.prototype.fromTwos=function(r){return this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(r){for(;this.length<r.length;)this.words[this.length++]=0;for(var u=0;u<r.length;u++)this.words[u]=this.words[u]|r.words[u];return this._strip()},a.prototype.ior=function(r){return o((this.negative|r.negative)===0),this.iuor(r)},a.prototype.or=function(r){return this.length>r.length?this.clone().ior(r):r.clone().ior(this)},a.prototype.uor=function(r){return this.length>r.length?this.clone().iuor(r):r.clone().iuor(this)},a.prototype.iuand=function(r){var u;this.length>r.length?u=r:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&r.words[d];return this.length=u.length,this._strip()},a.prototype.iand=function(r){return o((this.negative|r.negative)===0),this.iuand(r)},a.prototype.and=function(r){return this.length>r.length?this.clone().iand(r):r.clone().iand(this)},a.prototype.uand=function(r){return this.length>r.length?this.clone().iuand(r):r.clone().iuand(this)},a.prototype.iuxor=function(r){var u,d;this.length>r.length?(u=this,d=r):(u=r,d=this);for(var M=0;M<d.length;M++)this.words[M]=u.words[M]^d.words[M];if(this!==u)for(;M<u.length;M++)this.words[M]=u.words[M];return this.length=u.length,this._strip()},a.prototype.ixor=function(r){return o((this.negative|r.negative)===0),this.iuxor(r)},a.prototype.xor=function(r){return this.length>r.length?this.clone().ixor(r):r.clone().ixor(this)},a.prototype.uxor=function(r){return this.length>r.length?this.clone().iuxor(r):r.clone().iuxor(this)},a.prototype.inotn=function(r){o(typeof r=="number"&&r>=0);var u=Math.ceil(r/26)|0,d=r%26;this._expand(u),d>0&&u--;for(var M=0;M<u;M++)this.words[M]=~this.words[M]&67108863;return d>0&&(this.words[M]=~this.words[M]&67108863>>26-d),this._strip()},a.prototype.notn=function(r){return this.clone().inotn(r)},a.prototype.setn=function(r,u){o(typeof r=="number"&&r>=0);var d=r/26|0,M=r%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<M:this.words[d]=this.words[d]&~(1<<M),this._strip()},a.prototype.iadd=function(r){var u;if(this.negative!==0&&r.negative===0)return this.negative=0,u=this.isub(r),this.negative^=1,this._normSign();if(this.negative===0&&r.negative!==0)return r.negative=0,u=this.isub(r),r.negative=1,u._normSign();var d,M;this.length>r.length?(d=this,M=r):(d=r,M=this);for(var y=0,f=0;f<M.length;f++)u=(d.words[f]|0)+(M.words[f]|0)+y,this.words[f]=u&67108863,y=u>>>26;for(;y!==0&&f<d.length;f++)u=(d.words[f]|0)+y,this.words[f]=u&67108863,y=u>>>26;if(this.length=d.length,y!==0)this.words[this.length]=y,this.length++;else if(d!==this)for(;f<d.length;f++)this.words[f]=d.words[f];return this},a.prototype.add=function(r){var u;return r.negative!==0&&this.negative===0?(r.negative=0,u=this.sub(r),r.negative^=1,u):r.negative===0&&this.negative!==0?(this.negative=0,u=r.sub(this),this.negative=1,u):this.length>r.length?this.clone().iadd(r):r.clone().iadd(this)},a.prototype.isub=function(r){if(r.negative!==0){r.negative=0;var u=this.iadd(r);return r.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(r),this.negative=1,this._normSign();var d=this.cmp(r);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,y;d>0?(M=this,y=r):(M=r,y=this);for(var f=0,h=0;h<y.length;h++)u=(M.words[h]|0)-(y.words[h]|0)+f,f=u>>26,this.words[h]=u&67108863;for(;f!==0&&h<M.length;h++)u=(M.words[h]|0)+f,f=u>>26,this.words[h]=u&67108863;if(f===0&&h<M.length&&M!==this)for(;h<M.length;h++)this.words[h]=M.words[h];return this.length=Math.max(this.length,h),M!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(r){return this.clone().isub(r)};function I(w,r,u){u.negative=r.negative^w.negative;var d=w.length+r.length|0;u.length=d,d=d-1|0;var M=w.words[0]|0,y=r.words[0]|0,f=M*y,h=f&67108863,p=f/67108864|0;u.words[0]=h;for(var s=1;s<d;s++){for(var m=p>>>26,L=p&67108863,P=Math.min(s,r.length-1),N=Math.max(0,s-w.length+1);N<=P;N++){var Z=s-N|0;M=w.words[Z]|0,y=r.words[N]|0,f=M*y+L,m+=f/67108864|0,L=f&67108863}u.words[s]=L|0,p=m|0}return p!==0?u.words[s]=p|0:u.length--,u._strip()}var T=function(r,u,d){var M=r.words,y=u.words,f=d.words,h=0,p,s,m,L=M[0]|0,P=L&8191,N=L>>>13,Z=M[1]|0,z=Z&8191,K=Z>>>13,le=M[2]|0,G=le&8191,te=le>>>13,ne=M[3]|0,re=ne&8191,ie=ne>>>13,Ke=M[4]|0,se=Ke&8191,ue=Ke>>>13,Qe=M[5]|0,pe=Qe&8191,ve=Qe>>>13,Nt=M[6]|0,fe=Nt&8191,me=Nt>>>13,wt=M[7]|0,we=wt&8191,Me=wt>>>13,at=M[8]|0,ae=at&8191,Q=at>>>13,oe=M[9]|0,ce=oe&8191,Ae=oe>>>13,nt=y[0]|0,de=nt&8191,Ce=nt>>>13,xr=y[1]|0,Se=xr&8191,Ie=xr>>>13,Kr=y[2]|0,Te=Kr&8191,Ee=Kr>>>13,Gr=y[3]|0,Oe=Gr&8191,ke=Gr>>>13,Xr=y[4]|0,Be=Xr&8191,Ne=Xr>>>13,Jr=y[5]|0,Re=Jr&8191,Fe=Jr>>>13,Qr=y[6]|0,Le=Qr&8191,Pe=Qr>>>13,ei=y[7]|0,Ue=ei&8191,De=ei>>>13,ti=y[8]|0,je=ti&8191,qe=ti>>>13,ni=y[9]|0,We=ni&8191,Ze=ni>>>13;d.negative=r.negative^u.negative,d.length=19,p=Math.imul(P,de),s=Math.imul(P,Ce),s=s+Math.imul(N,de)|0,m=Math.imul(N,Ce);var Jn=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,p=Math.imul(z,de),s=Math.imul(z,Ce),s=s+Math.imul(K,de)|0,m=Math.imul(K,Ce),p=p+Math.imul(P,Se)|0,s=s+Math.imul(P,Ie)|0,s=s+Math.imul(N,Se)|0,m=m+Math.imul(N,Ie)|0;var Qn=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,p=Math.imul(G,de),s=Math.imul(G,Ce),s=s+Math.imul(te,de)|0,m=Math.imul(te,Ce),p=p+Math.imul(z,Se)|0,s=s+Math.imul(z,Ie)|0,s=s+Math.imul(K,Se)|0,m=m+Math.imul(K,Ie)|0,p=p+Math.imul(P,Te)|0,s=s+Math.imul(P,Ee)|0,s=s+Math.imul(N,Te)|0,m=m+Math.imul(N,Ee)|0;var er=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(er>>>26)|0,er&=67108863,p=Math.imul(re,de),s=Math.imul(re,Ce),s=s+Math.imul(ie,de)|0,m=Math.imul(ie,Ce),p=p+Math.imul(G,Se)|0,s=s+Math.imul(G,Ie)|0,s=s+Math.imul(te,Se)|0,m=m+Math.imul(te,Ie)|0,p=p+Math.imul(z,Te)|0,s=s+Math.imul(z,Ee)|0,s=s+Math.imul(K,Te)|0,m=m+Math.imul(K,Ee)|0,p=p+Math.imul(P,Oe)|0,s=s+Math.imul(P,ke)|0,s=s+Math.imul(N,Oe)|0,m=m+Math.imul(N,ke)|0;var tr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(tr>>>26)|0,tr&=67108863,p=Math.imul(se,de),s=Math.imul(se,Ce),s=s+Math.imul(ue,de)|0,m=Math.imul(ue,Ce),p=p+Math.imul(re,Se)|0,s=s+Math.imul(re,Ie)|0,s=s+Math.imul(ie,Se)|0,m=m+Math.imul(ie,Ie)|0,p=p+Math.imul(G,Te)|0,s=s+Math.imul(G,Ee)|0,s=s+Math.imul(te,Te)|0,m=m+Math.imul(te,Ee)|0,p=p+Math.imul(z,Oe)|0,s=s+Math.imul(z,ke)|0,s=s+Math.imul(K,Oe)|0,m=m+Math.imul(K,ke)|0,p=p+Math.imul(P,Be)|0,s=s+Math.imul(P,Ne)|0,s=s+Math.imul(N,Be)|0,m=m+Math.imul(N,Ne)|0;var nr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(nr>>>26)|0,nr&=67108863,p=Math.imul(pe,de),s=Math.imul(pe,Ce),s=s+Math.imul(ve,de)|0,m=Math.imul(ve,Ce),p=p+Math.imul(se,Se)|0,s=s+Math.imul(se,Ie)|0,s=s+Math.imul(ue,Se)|0,m=m+Math.imul(ue,Ie)|0,p=p+Math.imul(re,Te)|0,s=s+Math.imul(re,Ee)|0,s=s+Math.imul(ie,Te)|0,m=m+Math.imul(ie,Ee)|0,p=p+Math.imul(G,Oe)|0,s=s+Math.imul(G,ke)|0,s=s+Math.imul(te,Oe)|0,m=m+Math.imul(te,ke)|0,p=p+Math.imul(z,Be)|0,s=s+Math.imul(z,Ne)|0,s=s+Math.imul(K,Be)|0,m=m+Math.imul(K,Ne)|0,p=p+Math.imul(P,Re)|0,s=s+Math.imul(P,Fe)|0,s=s+Math.imul(N,Re)|0,m=m+Math.imul(N,Fe)|0;var rr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(rr>>>26)|0,rr&=67108863,p=Math.imul(fe,de),s=Math.imul(fe,Ce),s=s+Math.imul(me,de)|0,m=Math.imul(me,Ce),p=p+Math.imul(pe,Se)|0,s=s+Math.imul(pe,Ie)|0,s=s+Math.imul(ve,Se)|0,m=m+Math.imul(ve,Ie)|0,p=p+Math.imul(se,Te)|0,s=s+Math.imul(se,Ee)|0,s=s+Math.imul(ue,Te)|0,m=m+Math.imul(ue,Ee)|0,p=p+Math.imul(re,Oe)|0,s=s+Math.imul(re,ke)|0,s=s+Math.imul(ie,Oe)|0,m=m+Math.imul(ie,ke)|0,p=p+Math.imul(G,Be)|0,s=s+Math.imul(G,Ne)|0,s=s+Math.imul(te,Be)|0,m=m+Math.imul(te,Ne)|0,p=p+Math.imul(z,Re)|0,s=s+Math.imul(z,Fe)|0,s=s+Math.imul(K,Re)|0,m=m+Math.imul(K,Fe)|0,p=p+Math.imul(P,Le)|0,s=s+Math.imul(P,Pe)|0,s=s+Math.imul(N,Le)|0,m=m+Math.imul(N,Pe)|0;var ir=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(ir>>>26)|0,ir&=67108863,p=Math.imul(we,de),s=Math.imul(we,Ce),s=s+Math.imul(Me,de)|0,m=Math.imul(Me,Ce),p=p+Math.imul(fe,Se)|0,s=s+Math.imul(fe,Ie)|0,s=s+Math.imul(me,Se)|0,m=m+Math.imul(me,Ie)|0,p=p+Math.imul(pe,Te)|0,s=s+Math.imul(pe,Ee)|0,s=s+Math.imul(ve,Te)|0,m=m+Math.imul(ve,Ee)|0,p=p+Math.imul(se,Oe)|0,s=s+Math.imul(se,ke)|0,s=s+Math.imul(ue,Oe)|0,m=m+Math.imul(ue,ke)|0,p=p+Math.imul(re,Be)|0,s=s+Math.imul(re,Ne)|0,s=s+Math.imul(ie,Be)|0,m=m+Math.imul(ie,Ne)|0,p=p+Math.imul(G,Re)|0,s=s+Math.imul(G,Fe)|0,s=s+Math.imul(te,Re)|0,m=m+Math.imul(te,Fe)|0,p=p+Math.imul(z,Le)|0,s=s+Math.imul(z,Pe)|0,s=s+Math.imul(K,Le)|0,m=m+Math.imul(K,Pe)|0,p=p+Math.imul(P,Ue)|0,s=s+Math.imul(P,De)|0,s=s+Math.imul(N,Ue)|0,m=m+Math.imul(N,De)|0;var or=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(or>>>26)|0,or&=67108863,p=Math.imul(ae,de),s=Math.imul(ae,Ce),s=s+Math.imul(Q,de)|0,m=Math.imul(Q,Ce),p=p+Math.imul(we,Se)|0,s=s+Math.imul(we,Ie)|0,s=s+Math.imul(Me,Se)|0,m=m+Math.imul(Me,Ie)|0,p=p+Math.imul(fe,Te)|0,s=s+Math.imul(fe,Ee)|0,s=s+Math.imul(me,Te)|0,m=m+Math.imul(me,Ee)|0,p=p+Math.imul(pe,Oe)|0,s=s+Math.imul(pe,ke)|0,s=s+Math.imul(ve,Oe)|0,m=m+Math.imul(ve,ke)|0,p=p+Math.imul(se,Be)|0,s=s+Math.imul(se,Ne)|0,s=s+Math.imul(ue,Be)|0,m=m+Math.imul(ue,Ne)|0,p=p+Math.imul(re,Re)|0,s=s+Math.imul(re,Fe)|0,s=s+Math.imul(ie,Re)|0,m=m+Math.imul(ie,Fe)|0,p=p+Math.imul(G,Le)|0,s=s+Math.imul(G,Pe)|0,s=s+Math.imul(te,Le)|0,m=m+Math.imul(te,Pe)|0,p=p+Math.imul(z,Ue)|0,s=s+Math.imul(z,De)|0,s=s+Math.imul(K,Ue)|0,m=m+Math.imul(K,De)|0,p=p+Math.imul(P,je)|0,s=s+Math.imul(P,qe)|0,s=s+Math.imul(N,je)|0,m=m+Math.imul(N,qe)|0;var sr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(sr>>>26)|0,sr&=67108863,p=Math.imul(ce,de),s=Math.imul(ce,Ce),s=s+Math.imul(Ae,de)|0,m=Math.imul(Ae,Ce),p=p+Math.imul(ae,Se)|0,s=s+Math.imul(ae,Ie)|0,s=s+Math.imul(Q,Se)|0,m=m+Math.imul(Q,Ie)|0,p=p+Math.imul(we,Te)|0,s=s+Math.imul(we,Ee)|0,s=s+Math.imul(Me,Te)|0,m=m+Math.imul(Me,Ee)|0,p=p+Math.imul(fe,Oe)|0,s=s+Math.imul(fe,ke)|0,s=s+Math.imul(me,Oe)|0,m=m+Math.imul(me,ke)|0,p=p+Math.imul(pe,Be)|0,s=s+Math.imul(pe,Ne)|0,s=s+Math.imul(ve,Be)|0,m=m+Math.imul(ve,Ne)|0,p=p+Math.imul(se,Re)|0,s=s+Math.imul(se,Fe)|0,s=s+Math.imul(ue,Re)|0,m=m+Math.imul(ue,Fe)|0,p=p+Math.imul(re,Le)|0,s=s+Math.imul(re,Pe)|0,s=s+Math.imul(ie,Le)|0,m=m+Math.imul(ie,Pe)|0,p=p+Math.imul(G,Ue)|0,s=s+Math.imul(G,De)|0,s=s+Math.imul(te,Ue)|0,m=m+Math.imul(te,De)|0,p=p+Math.imul(z,je)|0,s=s+Math.imul(z,qe)|0,s=s+Math.imul(K,je)|0,m=m+Math.imul(K,qe)|0,p=p+Math.imul(P,We)|0,s=s+Math.imul(P,Ze)|0,s=s+Math.imul(N,We)|0,m=m+Math.imul(N,Ze)|0;var ar=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(ar>>>26)|0,ar&=67108863,p=Math.imul(ce,Se),s=Math.imul(ce,Ie),s=s+Math.imul(Ae,Se)|0,m=Math.imul(Ae,Ie),p=p+Math.imul(ae,Te)|0,s=s+Math.imul(ae,Ee)|0,s=s+Math.imul(Q,Te)|0,m=m+Math.imul(Q,Ee)|0,p=p+Math.imul(we,Oe)|0,s=s+Math.imul(we,ke)|0,s=s+Math.imul(Me,Oe)|0,m=m+Math.imul(Me,ke)|0,p=p+Math.imul(fe,Be)|0,s=s+Math.imul(fe,Ne)|0,s=s+Math.imul(me,Be)|0,m=m+Math.imul(me,Ne)|0,p=p+Math.imul(pe,Re)|0,s=s+Math.imul(pe,Fe)|0,s=s+Math.imul(ve,Re)|0,m=m+Math.imul(ve,Fe)|0,p=p+Math.imul(se,Le)|0,s=s+Math.imul(se,Pe)|0,s=s+Math.imul(ue,Le)|0,m=m+Math.imul(ue,Pe)|0,p=p+Math.imul(re,Ue)|0,s=s+Math.imul(re,De)|0,s=s+Math.imul(ie,Ue)|0,m=m+Math.imul(ie,De)|0,p=p+Math.imul(G,je)|0,s=s+Math.imul(G,qe)|0,s=s+Math.imul(te,je)|0,m=m+Math.imul(te,qe)|0,p=p+Math.imul(z,We)|0,s=s+Math.imul(z,Ze)|0,s=s+Math.imul(K,We)|0,m=m+Math.imul(K,Ze)|0;var lr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(lr>>>26)|0,lr&=67108863,p=Math.imul(ce,Te),s=Math.imul(ce,Ee),s=s+Math.imul(Ae,Te)|0,m=Math.imul(Ae,Ee),p=p+Math.imul(ae,Oe)|0,s=s+Math.imul(ae,ke)|0,s=s+Math.imul(Q,Oe)|0,m=m+Math.imul(Q,ke)|0,p=p+Math.imul(we,Be)|0,s=s+Math.imul(we,Ne)|0,s=s+Math.imul(Me,Be)|0,m=m+Math.imul(Me,Ne)|0,p=p+Math.imul(fe,Re)|0,s=s+Math.imul(fe,Fe)|0,s=s+Math.imul(me,Re)|0,m=m+Math.imul(me,Fe)|0,p=p+Math.imul(pe,Le)|0,s=s+Math.imul(pe,Pe)|0,s=s+Math.imul(ve,Le)|0,m=m+Math.imul(ve,Pe)|0,p=p+Math.imul(se,Ue)|0,s=s+Math.imul(se,De)|0,s=s+Math.imul(ue,Ue)|0,m=m+Math.imul(ue,De)|0,p=p+Math.imul(re,je)|0,s=s+Math.imul(re,qe)|0,s=s+Math.imul(ie,je)|0,m=m+Math.imul(ie,qe)|0,p=p+Math.imul(G,We)|0,s=s+Math.imul(G,Ze)|0,s=s+Math.imul(te,We)|0,m=m+Math.imul(te,Ze)|0;var ur=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(ur>>>26)|0,ur&=67108863,p=Math.imul(ce,Oe),s=Math.imul(ce,ke),s=s+Math.imul(Ae,Oe)|0,m=Math.imul(Ae,ke),p=p+Math.imul(ae,Be)|0,s=s+Math.imul(ae,Ne)|0,s=s+Math.imul(Q,Be)|0,m=m+Math.imul(Q,Ne)|0,p=p+Math.imul(we,Re)|0,s=s+Math.imul(we,Fe)|0,s=s+Math.imul(Me,Re)|0,m=m+Math.imul(Me,Fe)|0,p=p+Math.imul(fe,Le)|0,s=s+Math.imul(fe,Pe)|0,s=s+Math.imul(me,Le)|0,m=m+Math.imul(me,Pe)|0,p=p+Math.imul(pe,Ue)|0,s=s+Math.imul(pe,De)|0,s=s+Math.imul(ve,Ue)|0,m=m+Math.imul(ve,De)|0,p=p+Math.imul(se,je)|0,s=s+Math.imul(se,qe)|0,s=s+Math.imul(ue,je)|0,m=m+Math.imul(ue,qe)|0,p=p+Math.imul(re,We)|0,s=s+Math.imul(re,Ze)|0,s=s+Math.imul(ie,We)|0,m=m+Math.imul(ie,Ze)|0;var cr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(cr>>>26)|0,cr&=67108863,p=Math.imul(ce,Be),s=Math.imul(ce,Ne),s=s+Math.imul(Ae,Be)|0,m=Math.imul(Ae,Ne),p=p+Math.imul(ae,Re)|0,s=s+Math.imul(ae,Fe)|0,s=s+Math.imul(Q,Re)|0,m=m+Math.imul(Q,Fe)|0,p=p+Math.imul(we,Le)|0,s=s+Math.imul(we,Pe)|0,s=s+Math.imul(Me,Le)|0,m=m+Math.imul(Me,Pe)|0,p=p+Math.imul(fe,Ue)|0,s=s+Math.imul(fe,De)|0,s=s+Math.imul(me,Ue)|0,m=m+Math.imul(me,De)|0,p=p+Math.imul(pe,je)|0,s=s+Math.imul(pe,qe)|0,s=s+Math.imul(ve,je)|0,m=m+Math.imul(ve,qe)|0,p=p+Math.imul(se,We)|0,s=s+Math.imul(se,Ze)|0,s=s+Math.imul(ue,We)|0,m=m+Math.imul(ue,Ze)|0;var hr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(hr>>>26)|0,hr&=67108863,p=Math.imul(ce,Re),s=Math.imul(ce,Fe),s=s+Math.imul(Ae,Re)|0,m=Math.imul(Ae,Fe),p=p+Math.imul(ae,Le)|0,s=s+Math.imul(ae,Pe)|0,s=s+Math.imul(Q,Le)|0,m=m+Math.imul(Q,Pe)|0,p=p+Math.imul(we,Ue)|0,s=s+Math.imul(we,De)|0,s=s+Math.imul(Me,Ue)|0,m=m+Math.imul(Me,De)|0,p=p+Math.imul(fe,je)|0,s=s+Math.imul(fe,qe)|0,s=s+Math.imul(me,je)|0,m=m+Math.imul(me,qe)|0,p=p+Math.imul(pe,We)|0,s=s+Math.imul(pe,Ze)|0,s=s+Math.imul(ve,We)|0,m=m+Math.imul(ve,Ze)|0;var fr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(fr>>>26)|0,fr&=67108863,p=Math.imul(ce,Le),s=Math.imul(ce,Pe),s=s+Math.imul(Ae,Le)|0,m=Math.imul(Ae,Pe),p=p+Math.imul(ae,Ue)|0,s=s+Math.imul(ae,De)|0,s=s+Math.imul(Q,Ue)|0,m=m+Math.imul(Q,De)|0,p=p+Math.imul(we,je)|0,s=s+Math.imul(we,qe)|0,s=s+Math.imul(Me,je)|0,m=m+Math.imul(Me,qe)|0,p=p+Math.imul(fe,We)|0,s=s+Math.imul(fe,Ze)|0,s=s+Math.imul(me,We)|0,m=m+Math.imul(me,Ze)|0;var dr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(dr>>>26)|0,dr&=67108863,p=Math.imul(ce,Ue),s=Math.imul(ce,De),s=s+Math.imul(Ae,Ue)|0,m=Math.imul(Ae,De),p=p+Math.imul(ae,je)|0,s=s+Math.imul(ae,qe)|0,s=s+Math.imul(Q,je)|0,m=m+Math.imul(Q,qe)|0,p=p+Math.imul(we,We)|0,s=s+Math.imul(we,Ze)|0,s=s+Math.imul(Me,We)|0,m=m+Math.imul(Me,Ze)|0;var gr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(gr>>>26)|0,gr&=67108863,p=Math.imul(ce,je),s=Math.imul(ce,qe),s=s+Math.imul(Ae,je)|0,m=Math.imul(Ae,qe),p=p+Math.imul(ae,We)|0,s=s+Math.imul(ae,Ze)|0,s=s+Math.imul(Q,We)|0,m=m+Math.imul(Q,Ze)|0;var pr=(h+p|0)+((s&8191)<<13)|0;h=(m+(s>>>13)|0)+(pr>>>26)|0,pr&=67108863,p=Math.imul(ce,We),s=Math.imul(ce,Ze),s=s+Math.imul(Ae,We)|0,m=Math.imul(Ae,Ze);var vr=(h+p|0)+((s&8191)<<13)|0;return h=(m+(s>>>13)|0)+(vr>>>26)|0,vr&=67108863,f[0]=Jn,f[1]=Qn,f[2]=er,f[3]=tr,f[4]=nr,f[5]=rr,f[6]=ir,f[7]=or,f[8]=sr,f[9]=ar,f[10]=lr,f[11]=ur,f[12]=cr,f[13]=hr,f[14]=fr,f[15]=dr,f[16]=gr,f[17]=pr,f[18]=vr,h!==0&&(f[19]=h,d.length++),d};Math.imul||(T=I);function O(w,r,u){u.negative=r.negative^w.negative,u.length=w.length+r.length;for(var d=0,M=0,y=0;y<u.length-1;y++){var f=M;M=0;for(var h=d&67108863,p=Math.min(y,r.length-1),s=Math.max(0,y-w.length+1);s<=p;s++){var m=y-s,L=w.words[m]|0,P=r.words[s]|0,N=L*P,Z=N&67108863;f=f+(N/67108864|0)|0,Z=Z+h|0,h=Z&67108863,f=f+(Z>>>26)|0,M+=f>>>26,f&=67108863}u.words[y]=h,d=f,f=M}return d!==0?u.words[y]=d:u.length--,u._strip()}function Y(w,r,u){return O(w,r,u)}a.prototype.mulTo=function(r,u){var d,M=this.length+r.length;return this.length===10&&r.length===10?d=T(this,r,u):M<63?d=I(this,r,u):M<1024?d=O(this,r,u):d=Y(this,r,u),d},a.prototype.mul=function(r){var u=new a(null);return u.words=new Array(this.length+r.length),this.mulTo(r,u)},a.prototype.mulf=function(r){var u=new a(null);return u.words=new Array(this.length+r.length),Y(this,r,u)},a.prototype.imul=function(r){return this.clone().mulTo(r,this)},a.prototype.imuln=function(r){var u=r<0;u&&(r=-r),o(typeof r=="number"),o(r<67108864);for(var d=0,M=0;M<this.length;M++){var y=(this.words[M]|0)*r,f=(y&67108863)+(d&67108863);d>>=26,d+=y/67108864|0,d+=f>>>26,this.words[M]=f&67108863}return d!==0&&(this.words[M]=d,this.length++),u?this.ineg():this},a.prototype.muln=function(r){return this.clone().imuln(r)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(r){var u=j(r);if(u.length===0)return new a(1);for(var d=this,M=0;M<u.length&&u[M]===0;M++,d=d.sqr());if(++M<u.length)for(var y=d.sqr();M<u.length;M++,y=y.sqr())u[M]!==0&&(d=d.mul(y));return d},a.prototype.iushln=function(r){o(typeof r=="number"&&r>=0);var u=r%26,d=(r-u)/26,M=67108863>>>26-u<<26-u,y;if(u!==0){var f=0;for(y=0;y<this.length;y++){var h=this.words[y]&M,p=(this.words[y]|0)-h<<u;this.words[y]=p|f,f=h>>>26-u}f&&(this.words[y]=f,this.length++)}if(d!==0){for(y=this.length-1;y>=0;y--)this.words[y+d]=this.words[y];for(y=0;y<d;y++)this.words[y]=0;this.length+=d}return this._strip()},a.prototype.ishln=function(r){return o(this.negative===0),this.iushln(r)},a.prototype.iushrn=function(r,u,d){o(typeof r=="number"&&r>=0);var M;u?M=(u-u%26)/26:M=0;var y=r%26,f=Math.min((r-y)/26,this.length),h=67108863^67108863>>>y<<y,p=d;if(M-=f,M=Math.max(0,M),p){for(var s=0;s<f;s++)p.words[s]=this.words[s];p.length=f}if(f!==0)if(this.length>f)for(this.length-=f,s=0;s<this.length;s++)this.words[s]=this.words[s+f];else this.words[0]=0,this.length=1;var m=0;for(s=this.length-1;s>=0&&(m!==0||s>=M);s--){var L=this.words[s]|0;this.words[s]=m<<26-y|L>>>y,m=L&h}return p&&m!==0&&(p.words[p.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(r,u,d){return o(this.negative===0),this.iushrn(r,u,d)},a.prototype.shln=function(r){return this.clone().ishln(r)},a.prototype.ushln=function(r){return this.clone().iushln(r)},a.prototype.shrn=function(r){return this.clone().ishrn(r)},a.prototype.ushrn=function(r){return this.clone().iushrn(r)},a.prototype.testn=function(r){o(typeof r=="number"&&r>=0);var u=r%26,d=(r-u)/26,M=1<<u;if(this.length<=d)return!1;var y=this.words[d];return!!(y&M)},a.prototype.imaskn=function(r){o(typeof r=="number"&&r>=0);var u=r%26,d=(r-u)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var M=67108863^67108863>>>u<<u;this.words[this.length-1]&=M}return this._strip()},a.prototype.maskn=function(r){return this.clone().imaskn(r)},a.prototype.iaddn=function(r){return o(typeof r=="number"),o(r<67108864),r<0?this.isubn(-r):this.negative!==0?this.length===1&&(this.words[0]|0)<=r?(this.words[0]=r-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(r),this.negative=1,this):this._iaddn(r)},a.prototype._iaddn=function(r){this.words[0]+=r;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},a.prototype.isubn=function(r){if(o(typeof r=="number"),o(r<67108864),r<0)return this.iaddn(-r);if(this.negative!==0)return this.negative=0,this.iaddn(r),this.negative=1,this;if(this.words[0]-=r,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},a.prototype.addn=function(r){return this.clone().iaddn(r)},a.prototype.subn=function(r){return this.clone().isubn(r)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(r,u,d){var M=r.length+d,y;this._expand(M);var f,h=0;for(y=0;y<r.length;y++){f=(this.words[y+d]|0)+h;var p=(r.words[y]|0)*u;f-=p&67108863,h=(f>>26)-(p/67108864|0),this.words[y+d]=f&67108863}for(;y<this.length-d;y++)f=(this.words[y+d]|0)+h,h=f>>26,this.words[y+d]=f&67108863;if(h===0)return this._strip();for(o(h===-1),h=0,y=0;y<this.length;y++)f=-(this.words[y]|0)+h,h=f>>26,this.words[y]=f&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(r,u){var d=this.length-r.length,M=this.clone(),y=r,f=y.words[y.length-1]|0,h=this._countBits(f);d=26-h,d!==0&&(y=y.ushln(d),M.iushln(d),f=y.words[y.length-1]|0);var p=M.length-y.length,s;if(u!=="mod"){s=new a(null),s.length=p+1,s.words=new Array(s.length);for(var m=0;m<s.length;m++)s.words[m]=0}var L=M.clone()._ishlnsubmul(y,1,p);L.negative===0&&(M=L,s&&(s.words[p]=1));for(var P=p-1;P>=0;P--){var N=(M.words[y.length+P]|0)*67108864+(M.words[y.length+P-1]|0);for(N=Math.min(N/f|0,67108863),M._ishlnsubmul(y,N,P);M.negative!==0;)N--,M.negative=0,M._ishlnsubmul(y,1,P),M.isZero()||(M.negative^=1);s&&(s.words[P]=N)}return s&&s._strip(),M._strip(),u!=="div"&&d!==0&&M.iushrn(d),{div:s||null,mod:M}},a.prototype.divmod=function(r,u,d){if(o(!r.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var M,y,f;return this.negative!==0&&r.negative===0?(f=this.neg().divmod(r,u),u!=="mod"&&(M=f.div.neg()),u!=="div"&&(y=f.mod.neg(),d&&y.negative!==0&&y.iadd(r)),{div:M,mod:y}):this.negative===0&&r.negative!==0?(f=this.divmod(r.neg(),u),u!=="mod"&&(M=f.div.neg()),{div:M,mod:f.mod}):this.negative&r.negative?(f=this.neg().divmod(r.neg(),u),u!=="div"&&(y=f.mod.neg(),d&&y.negative!==0&&y.isub(r)),{div:f.div,mod:y}):r.length>this.length||this.cmp(r)<0?{div:new a(0),mod:this}:r.length===1?u==="div"?{div:this.divn(r.words[0]),mod:null}:u==="mod"?{div:null,mod:new a(this.modrn(r.words[0]))}:{div:this.divn(r.words[0]),mod:new a(this.modrn(r.words[0]))}:this._wordDiv(r,u)},a.prototype.div=function(r){return this.divmod(r,"div",!1).div},a.prototype.mod=function(r){return this.divmod(r,"mod",!1).mod},a.prototype.umod=function(r){return this.divmod(r,"mod",!0).mod},a.prototype.divRound=function(r){var u=this.divmod(r);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(r):u.mod,M=r.ushrn(1),y=r.andln(1),f=d.cmp(M);return f<0||y===1&&f===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},a.prototype.modrn=function(r){var u=r<0;u&&(r=-r),o(r<=67108863);for(var d=(1<<26)%r,M=0,y=this.length-1;y>=0;y--)M=(d*M+(this.words[y]|0))%r;return u?-M:M},a.prototype.modn=function(r){return this.modrn(r)},a.prototype.idivn=function(r){var u=r<0;u&&(r=-r),o(r<=67108863);for(var d=0,M=this.length-1;M>=0;M--){var y=(this.words[M]|0)+d*67108864;this.words[M]=y/r|0,d=y%r}return this._strip(),u?this.ineg():this},a.prototype.divn=function(r){return this.clone().idivn(r)},a.prototype.egcd=function(r){o(r.negative===0),o(!r.isZero());var u=this,d=r.clone();u.negative!==0?u=u.umod(r):u=u.clone();for(var M=new a(1),y=new a(0),f=new a(0),h=new a(1),p=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++p;for(var s=d.clone(),m=u.clone();!u.isZero();){for(var L=0,P=1;!(u.words[0]&P)&&L<26;++L,P<<=1);if(L>0)for(u.iushrn(L);L-- >0;)(M.isOdd()||y.isOdd())&&(M.iadd(s),y.isub(m)),M.iushrn(1),y.iushrn(1);for(var N=0,Z=1;!(d.words[0]&Z)&&N<26;++N,Z<<=1);if(N>0)for(d.iushrn(N);N-- >0;)(f.isOdd()||h.isOdd())&&(f.iadd(s),h.isub(m)),f.iushrn(1),h.iushrn(1);u.cmp(d)>=0?(u.isub(d),M.isub(f),y.isub(h)):(d.isub(u),f.isub(M),h.isub(y))}return{a:f,b:h,gcd:d.iushln(p)}},a.prototype._invmp=function(r){o(r.negative===0),o(!r.isZero());var u=this,d=r.clone();u.negative!==0?u=u.umod(r):u=u.clone();for(var M=new a(1),y=new a(0),f=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var h=0,p=1;!(u.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(u.iushrn(h);h-- >0;)M.isOdd()&&M.iadd(f),M.iushrn(1);for(var s=0,m=1;!(d.words[0]&m)&&s<26;++s,m<<=1);if(s>0)for(d.iushrn(s);s-- >0;)y.isOdd()&&y.iadd(f),y.iushrn(1);u.cmp(d)>=0?(u.isub(d),M.isub(y)):(d.isub(u),y.isub(M))}var L;return u.cmpn(1)===0?L=M:L=y,L.cmpn(0)<0&&L.iadd(r),L},a.prototype.gcd=function(r){if(this.isZero())return r.abs();if(r.isZero())return this.abs();var u=this.clone(),d=r.clone();u.negative=0,d.negative=0;for(var M=0;u.isEven()&&d.isEven();M++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var y=u.cmp(d);if(y<0){var f=u;u=d,d=f}else if(y===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(M)},a.prototype.invm=function(r){return this.egcd(r).a.umod(r)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(r){return this.words[0]&r},a.prototype.bincn=function(r){o(typeof r=="number");var u=r%26,d=(r-u)/26,M=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=M,this;for(var y=M,f=d;y!==0&&f<this.length;f++){var h=this.words[f]|0;h+=y,y=h>>>26,h&=67108863,this.words[f]=h}return y!==0&&(this.words[f]=y,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(r){var u=r<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(r=-r),o(r<=67108863,"Number is too big");var M=this.words[0]|0;d=M===r?0:M<r?-1:1}return this.negative!==0?-d|0:d},a.prototype.cmp=function(r){if(this.negative!==0&&r.negative===0)return-1;if(this.negative===0&&r.negative!==0)return 1;var u=this.ucmp(r);return this.negative!==0?-u|0:u},a.prototype.ucmp=function(r){if(this.length>r.length)return 1;if(this.length<r.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var M=this.words[d]|0,y=r.words[d]|0;if(M!==y){M<y?u=-1:M>y&&(u=1);break}}return u},a.prototype.gtn=function(r){return this.cmpn(r)===1},a.prototype.gt=function(r){return this.cmp(r)===1},a.prototype.gten=function(r){return this.cmpn(r)>=0},a.prototype.gte=function(r){return this.cmp(r)>=0},a.prototype.ltn=function(r){return this.cmpn(r)===-1},a.prototype.lt=function(r){return this.cmp(r)===-1},a.prototype.lten=function(r){return this.cmpn(r)<=0},a.prototype.lte=function(r){return this.cmp(r)<=0},a.prototype.eqn=function(r){return this.cmpn(r)===0},a.prototype.eq=function(r){return this.cmp(r)===0},a.red=function(r){return new D(r)},a.prototype.toRed=function(r){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),r.convertTo(this)._forceRed(r)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(r){return this.red=r,this},a.prototype.forceRed=function(r){return o(!this.red,"Already a number in reduction context"),this._forceRed(r)},a.prototype.redAdd=function(r){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,r)},a.prototype.redIAdd=function(r){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,r)},a.prototype.redSub=function(r){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,r)},a.prototype.redISub=function(r){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,r)},a.prototype.redShl=function(r){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,r)},a.prototype.redMul=function(r){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.mul(this,r)},a.prototype.redIMul=function(r){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.imul(this,r)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(r){return o(this.red&&!r.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,r)};var $={k256:null,p224:null,p192:null,p25519:null};function H(w,r){this.name=w,this.p=new a(r,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var r=new a(null);return r.words=new Array(Math.ceil(this.n/13)),r},H.prototype.ireduce=function(r){var u=r,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var M=d<this.n?-1:u.ucmp(this.p);return M===0?(u.words[0]=0,u.length=1):M>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},H.prototype.split=function(r,u){r.iushrn(this.n,0,u)},H.prototype.imulK=function(r){return r.imul(this.k)};function q(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(q,H),q.prototype.split=function(r,u){for(var d=4194303,M=Math.min(r.length,9),y=0;y<M;y++)u.words[y]=r.words[y];if(u.length=M,r.length<=9){r.words[0]=0,r.length=1;return}var f=r.words[9];for(u.words[u.length++]=f&d,y=10;y<r.length;y++){var h=r.words[y]|0;r.words[y-10]=(h&d)<<4|f>>>22,f=h}f>>>=22,r.words[y-10]=f,f===0&&r.length>10?r.length-=10:r.length-=9},q.prototype.imulK=function(r){r.words[r.length]=0,r.words[r.length+1]=0,r.length+=2;for(var u=0,d=0;d<r.length;d++){var M=r.words[d]|0;u+=M*977,r.words[d]=u&67108863,u=M*64+(u/67108864|0)}return r.words[r.length-1]===0&&(r.length--,r.words[r.length-1]===0&&r.length--),r};function F(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(F,H);function R(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(R,H);function J(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(J,H),J.prototype.imulK=function(r){for(var u=0,d=0;d<r.length;d++){var M=(r.words[d]|0)*19+u,y=M&67108863;M>>>=26,r.words[d]=y,u=M}return u!==0&&(r.words[r.length++]=u),r},a._prime=function(r){if($[r])return $[r];var u;if(r==="k256")u=new q;else if(r==="p224")u=new F;else if(r==="p192")u=new R;else if(r==="p25519")u=new J;else throw new Error("Unknown prime "+r);return $[r]=u,u};function D(w){if(typeof w=="string"){var r=a._prime(w);this.m=r.p,this.prime=r}else o(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}D.prototype._verify1=function(r){o(r.negative===0,"red works only with positives"),o(r.red,"red works only with red numbers")},D.prototype._verify2=function(r,u){o((r.negative|u.negative)===0,"red works only with positives"),o(r.red&&r.red===u.red,"red works only with red numbers")},D.prototype.imod=function(r){return this.prime?this.prime.ireduce(r)._forceRed(this):(_(r,r.umod(this.m)._forceRed(this)),r)},D.prototype.neg=function(r){return r.isZero()?r.clone():this.m.sub(r)._forceRed(this)},D.prototype.add=function(r,u){this._verify2(r,u);var d=r.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},D.prototype.iadd=function(r,u){this._verify2(r,u);var d=r.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},D.prototype.sub=function(r,u){this._verify2(r,u);var d=r.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},D.prototype.isub=function(r,u){this._verify2(r,u);var d=r.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},D.prototype.shl=function(r,u){return this._verify1(r),this.imod(r.ushln(u))},D.prototype.imul=function(r,u){return this._verify2(r,u),this.imod(r.imul(u))},D.prototype.mul=function(r,u){return this._verify2(r,u),this.imod(r.mul(u))},D.prototype.isqr=function(r){return this.imul(r,r.clone())},D.prototype.sqr=function(r){return this.mul(r,r)},D.prototype.sqrt=function(r){if(r.isZero())return r.clone();var u=this.m.andln(3);if(o(u%2===1),u===3){var d=this.m.add(new a(1)).iushrn(2);return this.pow(r,d)}for(var M=this.m.subn(1),y=0;!M.isZero()&&M.andln(1)===0;)y++,M.iushrn(1);o(!M.isZero());var f=new a(1).toRed(this),h=f.redNeg(),p=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new a(2*s*s).toRed(this);this.pow(s,p).cmp(h)!==0;)s.redIAdd(h);for(var m=this.pow(s,M),L=this.pow(r,M.addn(1).iushrn(1)),P=this.pow(r,M),N=y;P.cmp(f)!==0;){for(var Z=P,z=0;Z.cmp(f)!==0;z++)Z=Z.redSqr();o(z<N);var K=this.pow(m,new a(1).iushln(N-z-1));L=L.redMul(K),m=K.redSqr(),P=P.redMul(m),N=z}return L},D.prototype.invm=function(r){var u=r._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},D.prototype.pow=function(r,u){if(u.isZero())return new a(1).toRed(this);if(u.cmpn(1)===0)return r.clone();var d=4,M=new Array(1<<d);M[0]=new a(1).toRed(this),M[1]=r;for(var y=2;y<M.length;y++)M[y]=this.mul(M[y-1],r);var f=M[0],h=0,p=0,s=u.bitLength()%26;for(s===0&&(s=26),y=u.length-1;y>=0;y--){for(var m=u.words[y],L=s-1;L>=0;L--){var P=m>>L&1;if(f!==M[0]&&(f=this.sqr(f)),P===0&&h===0){p=0;continue}h<<=1,h|=P,p++,!(p!==d&&(y!==0||L!==0))&&(f=this.mul(f,M[h]),p=0,h=0)}s=26}return f},D.prototype.convertTo=function(r){var u=r.umod(this.m);return u===r?u.clone():u},D.prototype.convertFrom=function(r){var u=r.clone();return u.red=null,u},a.mont=function(r){return new ee(r)};function ee(w){D.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ee,D),ee.prototype.convertTo=function(r){return this.imod(r.ushln(this.shift))},ee.prototype.convertFrom=function(r){var u=this.imod(r.mul(this.rinv));return u.red=null,u},ee.prototype.imul=function(r,u){if(r.isZero()||u.isZero())return r.words[0]=0,r.length=1,r;var d=r.imul(u),M=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=d.isub(M).iushrn(this.shift),f=y;return y.cmp(this.m)>=0?f=y.isub(this.m):y.cmpn(0)<0&&(f=y.iadd(this.m)),f._forceRed(this)},ee.prototype.mul=function(r,u){if(r.isZero()||u.isZero())return new a(0)._forceRed(this);var d=r.mul(u),M=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=d.isub(M).iushrn(this.shift),f=y;return y.cmp(this.m)>=0?f=y.isub(this.m):y.cmpn(0)<0&&(f=y.iadd(this.m)),f._forceRed(this)},ee.prototype.invm=function(r){var u=this.imod(r._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof t>"u"||t,e)}}),zt=9e15,kt=1e9,Sr="0123456789abcdef",Wn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Zn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ir={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-zt,maxE:zt,crypto:!1},Vi,vt,X=!0,Kn="[DecimalError] ",Ot=Kn+"Invalid argument: ",zi=Kn+"Precision limit exceeded",$i=Kn+"crypto unavailable",Hi="[object Decimal]",et=Math.floor,He=Math.pow,na=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ra=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ia=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Yi=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ct=1e7,x=7,oa=9007199254740991,sa=Wn.length-1,Tr=Zn.length-1,k={toStringTag:Hi};k.absoluteValue=k.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),V(e)};k.ceil=function(){return V(new this.constructor(this),this.e+1,2)};k.clampedTo=k.clamp=function(e,t){var n,i=this,o=i.constructor;if(e=new o(e),t=new o(t),!e.s||!t.s)return new o(NaN);if(e.gt(t))throw Error(Ot+t);return n=i.cmp(e),n<0?e:i.cmp(t)>0?t:new o(i)};k.comparedTo=k.cmp=function(e){var t,n,i,o,l=this,a=l.d,c=(e=new l.constructor(e)).d,g=l.s,v=e.s;if(!a||!c)return!g||!v?NaN:g!==v?g:a===c?0:!a^g<0?1:-1;if(!a[0]||!c[0])return a[0]?g:c[0]?-v:0;if(g!==v)return g;if(l.e!==e.e)return l.e>e.e^g<0?1:-1;for(i=a.length,o=c.length,t=0,n=i<o?i:o;t<n;++t)if(a[t]!==c[t])return a[t]>c[t]^g<0?1:-1;return i===o?0:i>o^g<0?1:-1};k.cosine=k.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+x,i.rounding=1,n=aa(i,Ji(i,n)),i.precision=e,i.rounding=t,V(vt==2||vt==3?n.neg():n,e,t,!0)):new i(1):new i(NaN)};k.cubeRoot=k.cbrt=function(){var e,t,n,i,o,l,a,c,g,v,A=this,_=A.constructor;if(!A.isFinite()||A.isZero())return new _(A);for(X=!1,l=A.s*He(A.s*A,1/3),!l||Math.abs(l)==1/0?(n=Je(A.d),e=A.e,(l=(e-n.length+1)%3)&&(n+=l==1||l==-2?"0":"00"),l=He(n,1/3),e=et((e+1)/3)-(e%3==(e<0?-1:2)),l==1/0?n="5e"+e:(n=l.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new _(n),i.s=A.s):i=new _(l.toString()),a=(e=_.precision)+3;;)if(c=i,g=c.times(c).times(c),v=g.plus(A),i=he(v.plus(A).times(c),v.plus(g),a+2,1),Je(c.d).slice(0,a)===(n=Je(i.d)).slice(0,a))if(n=n.slice(a-3,a+1),n=="9999"||!o&&n=="4999"){if(!o&&(V(c,e+1,0),c.times(c).times(c).eq(A))){i=c;break}a+=4,o=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(V(i,e+1,1),t=!i.times(i).times(i).eq(A));break}return X=!0,V(i,e,_.rounding,t)};k.decimalPlaces=k.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-et(this.e/x))*x,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};k.dividedBy=k.div=function(e){return he(this,new this.constructor(e))};k.dividedToIntegerBy=k.divToInt=function(e){var t=this,n=t.constructor;return V(he(t,new n(e),0,1,1),n.precision,n.rounding)};k.equals=k.eq=function(e){return this.cmp(e)===0};k.floor=function(){return V(new this.constructor(this),this.e+1,3)};k.greaterThan=k.gt=function(e){return this.cmp(e)>0};k.greaterThanOrEqualTo=k.gte=function(e){var t=this.cmp(e);return t==1||t===0};k.hyperbolicCosine=k.cosh=function(){var e,t,n,i,o,l=this,a=l.constructor,c=new a(1);if(!l.isFinite())return new a(l.s?1/0:NaN);if(l.isZero())return c;n=a.precision,i=a.rounding,a.precision=n+Math.max(l.e,l.sd())+4,a.rounding=1,o=l.d.length,o<32?(e=Math.ceil(o/3),t=(1/Xn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),l=Jt(a,1,l.times(t),new a(1),!0);for(var g,v=e,A=new a(8);v--;)g=l.times(l),l=c.minus(g.times(A.minus(g.times(A))));return V(l,a.precision=n,a.rounding=i,!0)};k.hyperbolicSine=k.sinh=function(){var e,t,n,i,o=this,l=o.constructor;if(!o.isFinite()||o.isZero())return new l(o);if(t=l.precision,n=l.rounding,l.precision=t+Math.max(o.e,o.sd())+4,l.rounding=1,i=o.d.length,i<3)o=Jt(l,2,o,o,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,o=o.times(1/Xn(5,e)),o=Jt(l,2,o,o,!0);for(var a,c=new l(5),g=new l(16),v=new l(20);e--;)a=o.times(o),o=o.times(c.plus(a.times(g.times(a).plus(v))))}return l.precision=t,l.rounding=n,V(o,t,n,!0)};k.hyperbolicTangent=k.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,he(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)};k.inverseCosine=k.acos=function(){var e,t=this,n=t.constructor,i=t.abs().cmp(1),o=n.precision,l=n.rounding;return i!==-1?i===0?t.isNeg()?ut(n,o,l):new n(0):new n(NaN):t.isZero()?ut(n,o+4,l).times(.5):(n.precision=o+6,n.rounding=1,t=t.asin(),e=ut(n,o+4,l).times(.5),n.precision=o,n.rounding=l,e.minus(t))};k.inverseHyperbolicCosine=k.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,X=!1,n=n.times(n).minus(1).sqrt().plus(n),X=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)};k.inverseHyperbolicSine=k.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,X=!1,n=n.times(n).plus(1).sqrt().plus(n),X=!0,i.precision=e,i.rounding=t,n.ln())};k.inverseHyperbolicTangent=k.atanh=function(){var e,t,n,i,o=this,l=o.constructor;return o.isFinite()?o.e>=0?new l(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=l.precision,t=l.rounding,i=o.sd(),Math.max(i,e)<2*-o.e-1?V(new l(o),e,t,!0):(l.precision=n=i-o.e,o=he(o.plus(1),new l(1).minus(o),n+e,1),l.precision=e+4,l.rounding=1,o=o.ln(),l.precision=e,l.rounding=t,o.times(.5))):new l(NaN)};k.inverseSine=k.asin=function(){var e,t,n,i,o=this,l=o.constructor;return o.isZero()?new l(o):(t=o.abs().cmp(1),n=l.precision,i=l.rounding,t!==-1?t===0?(e=ut(l,n+4,i).times(.5),e.s=o.s,e):new l(NaN):(l.precision=n+6,l.rounding=1,o=o.div(new l(1).minus(o.times(o)).sqrt().plus(1)).atan(),l.precision=n,l.rounding=i,o.times(2)))};k.inverseTangent=k.atan=function(){var e,t,n,i,o,l,a,c,g,v=this,A=v.constructor,_=A.precision,b=A.rounding;if(v.isFinite()){if(v.isZero())return new A(v);if(v.abs().eq(1)&&_+4<=Tr)return a=ut(A,_+4,b).times(.25),a.s=v.s,a}else{if(!v.s)return new A(NaN);if(_+4<=Tr)return a=ut(A,_+4,b).times(.5),a.s=v.s,a}for(A.precision=c=_+10,A.rounding=1,n=Math.min(28,c/x+2|0),e=n;e;--e)v=v.div(v.times(v).plus(1).sqrt().plus(1));for(X=!1,t=Math.ceil(c/x),i=1,g=v.times(v),a=new A(v),o=v;e!==-1;)if(o=o.times(g),l=a.minus(o.div(i+=2)),o=o.times(g),a=l.plus(o.div(i+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===l.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),X=!0,V(a,A.precision=_,A.rounding=b,!0)};k.isFinite=function(){return!!this.d};k.isInteger=k.isInt=function(){return!!this.d&&et(this.e/x)>this.d.length-2};k.isNaN=function(){return!this.s};k.isNegative=k.isNeg=function(){return this.s<0};k.isPositive=k.isPos=function(){return this.s>0};k.isZero=function(){return!!this.d&&this.d[0]===0};k.lessThan=k.lt=function(e){return this.cmp(e)<0};k.lessThanOrEqualTo=k.lte=function(e){return this.cmp(e)<1};k.logarithm=k.log=function(e){var t,n,i,o,l,a,c,g,v=this,A=v.constructor,_=A.precision,b=A.rounding,S=5;if(e==null)e=new A(10),t=!0;else{if(e=new A(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new A(NaN);t=e.eq(10)}if(n=v.d,v.s<0||!n||!n[0]||v.eq(1))return new A(n&&!n[0]?-1/0:v.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)l=!0;else{for(o=n[0];o%10===0;)o/=10;l=o!==1}if(X=!1,c=_+S,a=It(v,c),i=t?Vn(A,c+10):It(e,c),g=he(a,i,c,1),pn(g.d,o=_,b))do if(c+=10,a=It(v,c),i=t?Vn(A,c+10):It(e,c),g=he(a,i,c,1),!l){+Je(g.d).slice(o+1,o+15)+1==1e14&&(g=V(g,_+1,0));break}while(pn(g.d,o+=10,b));return X=!0,V(g,_,b)};k.minus=k.sub=function(e){var t,n,i,o,l,a,c,g,v,A,_,b,S=this,E=S.constructor;if(e=new E(e),!S.d||!e.d)return!S.s||!e.s?e=new E(NaN):S.d?e.s=-e.s:e=new E(e.d||S.s!==e.s?S:NaN),e;if(S.s!=e.s)return e.s=-e.s,S.plus(e);if(v=S.d,b=e.d,c=E.precision,g=E.rounding,!v[0]||!b[0]){if(b[0])e.s=-e.s;else if(v[0])e=new E(S);else return new E(g===3?-0:0);return X?V(e,c,g):e}if(n=et(e.e/x),A=et(S.e/x),v=v.slice(),l=A-n,l){for(_=l<0,_?(t=v,l=-l,a=b.length):(t=b,n=A,a=v.length),i=Math.max(Math.ceil(c/x),a)+2,l>i&&(l=i,t.length=1),t.reverse(),i=l;i--;)t.push(0);t.reverse()}else{for(i=v.length,a=b.length,_=i<a,_&&(a=i),i=0;i<a;i++)if(v[i]!=b[i]){_=v[i]<b[i];break}l=0}for(_&&(t=v,v=b,b=t,e.s=-e.s),a=v.length,i=b.length-a;i>0;--i)v[a++]=0;for(i=b.length;i>l;){if(v[--i]<b[i]){for(o=i;o&&v[--o]===0;)v[o]=ct-1;--v[o],v[i]+=ct}v[i]-=b[i]}for(;v[--a]===0;)v.pop();for(;v[0]===0;v.shift())--n;return v[0]?(e.d=v,e.e=Gn(v,n),X?V(e,c,g):e):new E(g===3?-0:0)};k.modulo=k.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?V(new i(n),i.precision,i.rounding):(X=!1,i.modulo==9?(t=he(n,e.abs(),0,3,1),t.s*=e.s):t=he(n,e,0,i.modulo,1),t=t.times(e),X=!0,n.minus(t))};k.naturalExponential=k.exp=function(){return Er(this)};k.naturalLogarithm=k.ln=function(){return It(this)};k.negated=k.neg=function(){var e=new this.constructor(this);return e.s=-e.s,V(e)};k.plus=k.add=function(e){var t,n,i,o,l,a,c,g,v,A,_=this,b=_.constructor;if(e=new b(e),!_.d||!e.d)return!_.s||!e.s?e=new b(NaN):_.d||(e=new b(e.d||_.s===e.s?_:NaN)),e;if(_.s!=e.s)return e.s=-e.s,_.minus(e);if(v=_.d,A=e.d,c=b.precision,g=b.rounding,!v[0]||!A[0])return A[0]||(e=new b(_)),X?V(e,c,g):e;if(l=et(_.e/x),i=et(e.e/x),v=v.slice(),o=l-i,o){for(o<0?(n=v,o=-o,a=A.length):(n=A,i=l,a=v.length),l=Math.ceil(c/x),a=l>a?l+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=v.length,o=A.length,a-o<0&&(o=a,n=A,A=v,v=n),t=0;o;)t=(v[--o]=v[o]+A[o]+t)/ct|0,v[o]%=ct;for(t&&(v.unshift(t),++i),a=v.length;v[--a]==0;)v.pop();return e.d=v,e.e=Gn(v,i),X?V(e,c,g):e};k.precision=k.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ot+e);return n.d?(t=xi(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};k.round=function(){var e=this,t=e.constructor;return V(new t(e),e.e+1,t.rounding)};k.sine=k.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+x,i.rounding=1,n=ua(i,Ji(i,n)),i.precision=e,i.rounding=t,V(vt>2?n.neg():n,e,t,!0)):new i(NaN)};k.squareRoot=k.sqrt=function(){var e,t,n,i,o,l,a=this,c=a.d,g=a.e,v=a.s,A=a.constructor;if(v!==1||!c||!c[0])return new A(!v||v<0&&(!c||c[0])?NaN:c?a:1/0);for(X=!1,v=Math.sqrt(+a),v==0||v==1/0?(t=Je(c),(t.length+g)%2==0&&(t+="0"),v=Math.sqrt(t),g=et((g+1)/2)-(g<0||g%2),v==1/0?t="5e"+g:(t=v.toExponential(),t=t.slice(0,t.indexOf("e")+1)+g),i=new A(t)):i=new A(v.toString()),n=(g=A.precision)+3;;)if(l=i,i=l.plus(he(a,l,n+2,1)).times(.5),Je(l.d).slice(0,n)===(t=Je(i.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!o&&t=="4999"){if(!o&&(V(l,g+1,0),l.times(l).eq(a))){i=l;break}n+=4,o=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(V(i,g+1,1),e=!i.times(i).eq(a));break}return X=!0,V(i,g,A.rounding,e)};k.tangent=k.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=he(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,V(vt==2||vt==4?n.neg():n,e,t,!0)):new i(NaN)};k.times=k.mul=function(e){var t,n,i,o,l,a,c,g,v,A=this,_=A.constructor,b=A.d,S=(e=new _(e)).d;if(e.s*=A.s,!b||!b[0]||!S||!S[0])return new _(!e.s||b&&!b[0]&&!S||S&&!S[0]&&!b?NaN:!b||!S?e.s/0:e.s*0);for(n=et(A.e/x)+et(e.e/x),g=b.length,v=S.length,g<v&&(l=b,b=S,S=l,a=g,g=v,v=a),l=[],a=g+v,i=a;i--;)l.push(0);for(i=v;--i>=0;){for(t=0,o=g+i;o>i;)c=l[o]+S[i]*b[o-i-1]+t,l[o--]=c%ct|0,t=c/ct|0;l[o]=(l[o]+t)%ct|0}for(;!l[--a];)l.pop();return t?++n:l.shift(),e.d=l,e.e=Gn(l,n),X?V(e,_.precision,_.rounding):e};k.toBinary=function(e,t){return $r(this,2,e,t)};k.toDecimalPlaces=k.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(rt(e,0,kt),t===void 0?t=i.rounding:rt(t,0,8),V(n,e+n.e+1,t))};k.toExponential=function(e,t){var n,i=this,o=i.constructor;return e===void 0?n=dt(i,!0):(rt(e,0,kt),t===void 0?t=o.rounding:rt(t,0,8),i=V(new o(i),e+1,t),n=dt(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};k.toFixed=function(e,t){var n,i,o=this,l=o.constructor;return e===void 0?n=dt(o):(rt(e,0,kt),t===void 0?t=l.rounding:rt(t,0,8),i=V(new l(o),e+o.e+1,t),n=dt(i,!1,e+i.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n};k.toFraction=function(e){var t,n,i,o,l,a,c,g,v,A,_,b,S=this,E=S.d,B=S.constructor;if(!E)return new B(S);if(v=n=new B(1),i=g=new B(0),t=new B(i),l=t.e=xi(E)-S.e-1,a=l%x,t.d[0]=He(10,a<0?x+a:a),e==null)e=l>0?t:v;else{if(c=new B(e),!c.isInt()||c.lt(v))throw Error(Ot+c);e=c.gt(t)?l>0?t:v:c}for(X=!1,c=new B(Je(E)),A=B.precision,B.precision=l=E.length*x*2;_=he(c,t,0,1,1),o=n.plus(_.times(i)),o.cmp(e)!=1;)n=i,i=o,o=v,v=g.plus(_.times(o)),g=o,o=t,t=c.minus(_.times(o)),c=o;return o=he(e.minus(n),i,0,1,1),g=g.plus(o.times(v)),n=n.plus(o.times(i)),g.s=v.s=S.s,b=he(v,i,l,1).minus(S).abs().cmp(he(g,n,l,1).minus(S).abs())<1?[v,i]:[g,n],B.precision=A,X=!0,b};k.toHexadecimal=k.toHex=function(e,t){return $r(this,16,e,t)};k.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:rt(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(X=!1,n=he(n,e,0,t,1).times(e),X=!0,V(n)):(e.s=n.s,n=e),n};k.toNumber=function(){return+this};k.toOctal=function(e,t){return $r(this,8,e,t)};k.toPower=k.pow=function(e){var t,n,i,o,l,a,c=this,g=c.constructor,v=+(e=new g(e));if(!c.d||!e.d||!c.d[0]||!e.d[0])return new g(He(+c,v));if(c=new g(c),c.eq(1))return c;if(i=g.precision,l=g.rounding,e.eq(1))return V(c,i,l);if(t=et(e.e/x),t>=e.d.length-1&&(n=v<0?-v:v)<=oa)return o=Ki(g,c,n,i),e.s<0?new g(1).div(o):V(o,i,l);if(a=c.s,a<0){if(t<e.d.length-1)return new g(NaN);if(e.d[t]&1||(a=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=a,c}return n=He(+c,v),t=n==0||!isFinite(n)?et(v*(Math.log("0."+Je(c.d))/Math.LN10+c.e+1)):new g(n+"").e,t>g.maxE+1||t<g.minE-1?new g(t>0?a/0:0):(X=!1,g.rounding=c.s=1,n=Math.min(12,(t+"").length),o=Er(e.times(It(c,i+n)),i),o.d&&(o=V(o,i+5,1),pn(o.d,i,l)&&(t=i+10,o=V(Er(e.times(It(c,t+n)),t),t+5,1),+Je(o.d).slice(i+1,i+15)+1==1e14&&(o=V(o,i+1,0)))),o.s=a,X=!0,g.rounding=l,V(o,i,l))};k.toPrecision=function(e,t){var n,i=this,o=i.constructor;return e===void 0?n=dt(i,i.e<=o.toExpNeg||i.e>=o.toExpPos):(rt(e,1,kt),t===void 0?t=o.rounding:rt(t,0,8),i=V(new o(i),e,t),n=dt(i,e<=i.e||i.e<=o.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};k.toSignificantDigits=k.toSD=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(rt(e,1,kt),t===void 0?t=i.rounding:rt(t,0,8)),V(new i(n),e,t)};k.toString=function(){var e=this,t=e.constructor,n=dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};k.truncated=k.trunc=function(){return V(new this.constructor(this),this.e+1,1)};k.valueOf=k.toJSON=function(){var e=this,t=e.constructor,n=dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Je(e){var t,n,i,o=e.length-1,l="",a=e[0];if(o>0){for(l+=a,t=1;t<o;t++)i=e[t]+"",n=x-i.length,n&&(l+=Ct(n)),l+=i;a=e[t],i=a+"",n=x-i.length,n&&(l+=Ct(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return l+a}function rt(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ot+e)}function pn(e,t,n,i){var o,l,a,c;for(l=e[0];l>=10;l/=10)--t;return--t<0?(t+=x,o=0):(o=Math.ceil((t+1)/x),t%=x),l=He(10,x-t),c=e[o]%l|0,i==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),a=n<4&&c==99999||n>3&&c==49999||c==5e4||c==0):a=(n<4&&c+1==l||n>3&&c+1==l/2)&&(e[o+1]/l/100|0)==He(10,t-2)-1||(c==l/2||c==0)&&(e[o+1]/l/100|0)==0:t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),a=(i||n<4)&&c==9999||!i&&n>3&&c==4999):a=((i||n<4)&&c+1==l||!i&&n>3&&c+1==l/2)&&(e[o+1]/l/1e3|0)==He(10,t-3)-1,a}function Rn(e,t,n){for(var i,o=[0],l,a=0,c=e.length;a<c;){for(l=o.length;l--;)o[l]*=t;for(o[0]+=Sr.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(o[i+1]===void 0&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}function aa(e,t){var n,i,o;if(t.isZero())return t;i=t.d.length,i<32?(n=Math.ceil(i/3),o=(1/Xn(4,n)).toString()):(n=16,o="2.3283064365386962890625e-10"),e.precision+=n,t=Jt(e,1,t.times(o),new e(1));for(var l=n;l--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}var he=function(){function e(i,o,l){var a,c=0,g=i.length;for(i=i.slice();g--;)a=i[g]*o+c,i[g]=a%l|0,c=a/l|0;return c&&i.unshift(c),i}function t(i,o,l,a){var c,g;if(l!=a)g=l>a?1:-1;else for(c=g=0;c<l;c++)if(i[c]!=o[c]){g=i[c]>o[c]?1:-1;break}return g}function n(i,o,l,a){for(var c=0;l--;)i[l]-=c,c=i[l]<o[l]?1:0,i[l]=c*a+i[l]-o[l];for(;!i[0]&&i.length>1;)i.shift()}return function(i,o,l,a,c,g){var v,A,_,b,S,E,B,C,j,I,T,O,Y,$,H,q,F,R,J,D,ee=i.constructor,w=i.s==o.s?1:-1,r=i.d,u=o.d;if(!r||!r[0]||!u||!u[0])return new ee(!i.s||!o.s||(r?u&&r[0]==u[0]:!u)?NaN:r&&r[0]==0||!u?w*0:w/0);for(g?(S=1,A=i.e-o.e):(g=ct,S=x,A=et(i.e/S)-et(o.e/S)),J=u.length,F=r.length,j=new ee(w),I=j.d=[],_=0;u[_]==(r[_]||0);_++);if(u[_]>(r[_]||0)&&A--,l==null?($=l=ee.precision,a=ee.rounding):c?$=l+(i.e-o.e)+1:$=l,$<0)I.push(1),E=!0;else{if($=$/S+2|0,_=0,J==1){for(b=0,u=u[0],$++;(_<F||b)&&$--;_++)H=b*g+(r[_]||0),I[_]=H/u|0,b=H%u|0;E=b||_<F}else{for(b=g/(u[0]+1)|0,b>1&&(u=e(u,b,g),r=e(r,b,g),J=u.length,F=r.length),q=J,T=r.slice(0,J),O=T.length;O<J;)T[O++]=0;D=u.slice(),D.unshift(0),R=u[0],u[1]>=g/2&&++R;do b=0,v=t(u,T,J,O),v<0?(Y=T[0],J!=O&&(Y=Y*g+(T[1]||0)),b=Y/R|0,b>1?(b>=g&&(b=g-1),B=e(u,b,g),C=B.length,O=T.length,v=t(B,T,C,O),v==1&&(b--,n(B,J<C?D:u,C,g))):(b==0&&(v=b=1),B=u.slice()),C=B.length,C<O&&B.unshift(0),n(T,B,O,g),v==-1&&(O=T.length,v=t(u,T,J,O),v<1&&(b++,n(T,J<O?D:u,O,g))),O=T.length):v===0&&(b++,T=[0]),I[_++]=b,v&&T[0]?T[O++]=r[q]||0:(T=[r[q]],O=1);while((q++<F||T[0]!==void 0)&&$--);E=T[0]!==void 0}I[0]||I.shift()}if(S==1)j.e=A,Vi=E;else{for(_=1,b=I[0];b>=10;b/=10)_++;j.e=_+A*S-1,V(j,c?l+j.e+1:l,a,E)}return j}}();function V(e,t,n,i){var o,l,a,c,g,v,A,_,b,S=e.constructor;e:if(t!=null){if(_=e.d,!_)return e;for(o=1,c=_[0];c>=10;c/=10)o++;if(l=t-o,l<0)l+=x,a=t,A=_[b=0],g=A/He(10,o-a-1)%10|0;else if(b=Math.ceil((l+1)/x),c=_.length,b>=c)if(i){for(;c++<=b;)_.push(0);A=g=0,o=1,l%=x,a=l-x+1}else break e;else{for(A=c=_[b],o=1;c>=10;c/=10)o++;l%=x,a=l-x+o,g=a<0?0:A/He(10,o-a-1)%10|0}if(i=i||t<0||_[b+1]!==void 0||(a<0?A:A%He(10,o-a-1)),v=n<4?(g||i)&&(n==0||n==(e.s<0?3:2)):g>5||g==5&&(n==4||i||n==6&&(l>0?a>0?A/He(10,o-a):0:_[b-1])%10&1||n==(e.s<0?8:7)),t<1||!_[0])return _.length=0,v?(t-=e.e+1,_[0]=He(10,(x-t%x)%x),e.e=-t||0):_[0]=e.e=0,e;if(l==0?(_.length=b,c=1,b--):(_.length=b+1,c=He(10,x-l),_[b]=a>0?(A/He(10,o-a)%He(10,a)|0)*c:0),v)for(;;)if(b==0){for(l=1,a=_[0];a>=10;a/=10)l++;for(a=_[0]+=c,c=1;a>=10;a/=10)c++;l!=c&&(e.e++,_[0]==ct&&(_[0]=1));break}else{if(_[b]+=c,_[b]!=ct)break;_[b--]=0,c=1}for(l=_.length;_[--l]===0;)_.pop()}return X&&(e.e>S.maxE?(e.d=null,e.e=NaN):e.e<S.minE&&(e.e=0,e.d=[0])),e}function dt(e,t,n){if(!e.isFinite())return Xi(e);var i,o=e.e,l=Je(e.d),a=l.length;return t?(n&&(i=n-a)>0?l=l.charAt(0)+"."+l.slice(1)+Ct(i):a>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(e.e<0?"e":"e+")+e.e):o<0?(l="0."+Ct(-o-1)+l,n&&(i=n-a)>0&&(l+=Ct(i))):o>=a?(l+=Ct(o+1-a),n&&(i=n-o-1)>0&&(l=l+"."+Ct(i))):((i=o+1)<a&&(l=l.slice(0,i)+"."+l.slice(i)),n&&(i=n-a)>0&&(o+1===a&&(l+="."),l+=Ct(i))),l}function Gn(e,t){var n=e[0];for(t*=x;n>=10;n/=10)t++;return t}function Vn(e,t,n){if(t>sa)throw X=!0,n&&(e.precision=n),Error(zi);return V(new e(Wn),t,1,!0)}function ut(e,t,n){if(t>Tr)throw Error(zi);return V(new e(Zn),t,n,!0)}function xi(e){var t=e.length-1,n=t*x+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Ct(e){for(var t="";e--;)t+="0";return t}function Ki(e,t,n,i){var o,l=new e(1),a=Math.ceil(i/x+4);for(X=!1;;){if(n%2&&(l=l.times(t),ci(l.d,a)&&(o=!0)),n=et(n/2),n===0){n=l.d.length-1,o&&l.d[n]===0&&++l.d[n];break}t=t.times(t),ci(t.d,a)}return X=!0,l}function ui(e){return e.d[e.d.length-1]&1}function Gi(e,t,n){for(var i,o=new e(t[0]),l=0;++l<t.length;)if(i=new e(t[l]),i.s)o[n](i)&&(o=i);else{o=i;break}return o}function Er(e,t){var n,i,o,l,a,c,g,v=0,A=0,_=0,b=e.constructor,S=b.rounding,E=b.precision;if(!e.d||!e.d[0]||e.e>17)return new b(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(X=!1,g=E):g=t,c=new b(.03125);e.e>-2;)e=e.times(c),_+=5;for(i=Math.log(He(2,_))/Math.LN10*2+5|0,g+=i,n=l=a=new b(1),b.precision=g;;){if(l=V(l.times(e),g,1),n=n.times(++A),c=a.plus(he(l,n,g,1)),Je(c.d).slice(0,g)===Je(a.d).slice(0,g)){for(o=_;o--;)a=V(a.times(a),g,1);if(t==null)if(v<3&&pn(a.d,g-i,S,v))b.precision=g+=10,n=l=c=new b(1),A=0,v++;else return V(a,b.precision=E,S,X=!0);else return b.precision=E,a}a=c}}function It(e,t){var n,i,o,l,a,c,g,v,A,_,b,S=1,E=10,B=e,C=B.d,j=B.constructor,I=j.rounding,T=j.precision;if(B.s<0||!C||!C[0]||!B.e&&C[0]==1&&C.length==1)return new j(C&&!C[0]?-1/0:B.s!=1?NaN:C?0:B);if(t==null?(X=!1,A=T):A=t,j.precision=A+=E,n=Je(C),i=n.charAt(0),Math.abs(l=B.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)B=B.times(e),n=Je(B.d),i=n.charAt(0),S++;l=B.e,i>1?(B=new j("0."+n),l++):B=new j(i+"."+n.slice(1))}else return v=Vn(j,A+2,T).times(l+""),B=It(new j(i+"."+n.slice(1)),A-E).plus(v),j.precision=T,t==null?V(B,T,I,X=!0):B;for(_=B,g=a=B=he(B.minus(1),B.plus(1),A,1),b=V(B.times(B),A,1),o=3;;){if(a=V(a.times(b),A,1),v=g.plus(he(a,new j(o),A,1)),Je(v.d).slice(0,A)===Je(g.d).slice(0,A))if(g=g.times(2),l!==0&&(g=g.plus(Vn(j,A+2,T).times(l+""))),g=he(g,new j(S),A,1),t==null)if(pn(g.d,A-E,I,c))j.precision=A+=E,v=a=B=he(_.minus(1),_.plus(1),A,1),b=V(B.times(B),A,1),o=c=1;else return V(g,j.precision=T,I,X=!0);else return j.precision=T,g;g=v,o+=2}}function Xi(e){return String(e.s*e.s/0)}function Or(e,t){var n,i,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;i++);for(o=t.length;t.charCodeAt(o-1)===48;--o);if(t=t.slice(i,o),t){if(o-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%x,n<0&&(i+=x),i<o){for(i&&e.d.push(+t.slice(0,i)),o-=x;i<o;)e.d.push(+t.slice(i,i+=x));t=t.slice(i),i=x-t.length}else i-=o;for(;i--;)t+="0";e.d.push(+t),X&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function la(e,t){var n,i,o,l,a,c,g,v,A;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Yi.test(t))return Or(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(ra.test(t))n=16,t=t.toLowerCase();else if(na.test(t))n=2;else if(ia.test(t))n=8;else throw Error(Ot+t);for(l=t.search(/p/i),l>0?(g=+t.slice(l+1),t=t.substring(2,l)):t=t.slice(2),l=t.indexOf("."),a=l>=0,i=e.constructor,a&&(t=t.replace(".",""),c=t.length,l=c-l,o=Ki(i,new i(n),l,l*2)),v=Rn(t,n,ct),A=v.length-1,l=A;v[l]===0;--l)v.pop();return l<0?new i(e.s*0):(e.e=Gn(v,A),e.d=v,X=!1,a&&(e=he(e,o,c*4)),g&&(e=e.times(Math.abs(g)<54?He(2,g):An.pow(2,g))),X=!0,e)}function ua(e,t){var n,i=t.d.length;if(i<3)return t.isZero()?t:Jt(e,2,t,t);n=1.4*Math.sqrt(i),n=n>16?16:n|0,t=t.times(1/Xn(5,n)),t=Jt(e,2,t,t);for(var o,l=new e(5),a=new e(16),c=new e(20);n--;)o=t.times(t),t=t.times(l.plus(o.times(a.times(o).minus(c))));return t}function Jt(e,t,n,i,o){var l,a,c,g,v=e.precision,A=Math.ceil(v/x);for(X=!1,g=n.times(n),c=new e(i);;){if(a=he(c.times(g),new e(t++*t++),v,1),c=o?i.plus(a):i.minus(a),i=he(a.times(g),new e(t++*t++),v,1),a=c.plus(i),a.d[A]!==void 0){for(l=A;a.d[l]===c.d[l]&&l--;);if(l==-1)break}l=c,c=i,i=a,a=l}return X=!0,a.d.length=A+1,a}function Xn(e,t){for(var n=e;--t;)n*=e;return n}function Ji(e,t){var n,i=t.s<0,o=ut(e,e.precision,1),l=o.times(.5);if(t=t.abs(),t.lte(l))return vt=i?4:1,t;if(n=t.divToInt(o),n.isZero())vt=i?3:2;else{if(t=t.minus(n.times(o)),t.lte(l))return vt=ui(n)?i?2:3:i?4:1,t;vt=ui(n)?i?1:4:i?3:2}return t.minus(o).abs()}function $r(e,t,n,i){var o,l,a,c,g,v,A,_,b,S=e.constructor,E=n!==void 0;if(E?(rt(n,1,kt),i===void 0?i=S.rounding:rt(i,0,8)):(n=S.precision,i=S.rounding),!e.isFinite())A=Xi(e);else{for(A=dt(e),a=A.indexOf("."),E?(o=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):o=t,a>=0&&(A=A.replace(".",""),b=new S(1),b.e=A.length-a,b.d=Rn(dt(b),10,o),b.e=b.d.length),_=Rn(A,10,o),l=g=_.length;_[--g]==0;)_.pop();if(!_[0])A=E?"0p+0":"0";else{if(a<0?l--:(e=new S(e),e.d=_,e.e=l,e=he(e,b,n,i,0,o),_=e.d,l=e.e,v=Vi),a=_[n],c=o/2,v=v||_[n+1]!==void 0,v=i<4?(a!==void 0||v)&&(i===0||i===(e.s<0?3:2)):a>c||a===c&&(i===4||v||i===6&&_[n-1]&1||i===(e.s<0?8:7)),_.length=n,v)for(;++_[--n]>o-1;)_[n]=0,n||(++l,_.unshift(1));for(g=_.length;!_[g-1];--g);for(a=0,A="";a<g;a++)A+=Sr.charAt(_[a]);if(E){if(g>1)if(t==16||t==8){for(a=t==16?4:3,--g;g%a;g++)A+="0";for(_=Rn(A,o,t),g=_.length;!_[g-1];--g);for(a=1,A="1.";a<g;a++)A+=Sr.charAt(_[a])}else A=A.charAt(0)+"."+A.slice(1);A=A+(l<0?"p":"p+")+l}else if(l<0){for(;++l;)A="0"+A;A="0."+A}else if(++l>g)for(l-=g;l--;)A+="0";else l<g&&(A=A.slice(0,l)+"."+A.slice(l))}A=(t==16?"0x":t==2?"0b":t==8?"0o":"")+A}return e.s<0?"-"+A:A}function ci(e,t){if(e.length>t)return e.length=t,!0}function ca(e){return new this(e).abs()}function ha(e){return new this(e).acos()}function fa(e){return new this(e).acosh()}function da(e,t){return new this(e).plus(t)}function ga(e){return new this(e).asin()}function pa(e){return new this(e).asinh()}function va(e){return new this(e).atan()}function ma(e){return new this(e).atanh()}function wa(e,t){e=new this(e),t=new this(t);var n,i=this.precision,o=this.rounding,l=i+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=ut(this,l,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?ut(this,i,o):new this(0),n.s=e.s):!e.d||t.isZero()?(n=ut(this,l,1).times(.5),n.s=e.s):t.s<0?(this.precision=l,this.rounding=1,n=this.atan(he(e,t,l,1)),t=ut(this,l,1),this.precision=i,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(he(e,t,l,1)),n}function Ma(e){return new this(e).cbrt()}function ya(e){return V(e=new this(e),e.e+1,2)}function Aa(e,t,n){return new this(e).clamp(t,n)}function _a(e){if(!e||typeof e!="object")throw Error(Kn+"Object expected");var t,n,i,o=e.defaults===!0,l=["precision",1,kt,"rounding",0,8,"toExpNeg",-zt,0,"toExpPos",0,zt,"maxE",0,zt,"minE",-zt,0,"modulo",0,9];for(t=0;t<l.length;t+=3)if(n=l[t],o&&(this[n]=Ir[n]),(i=e[n])!==void 0)if(et(i)===i&&i>=l[t+1]&&i<=l[t+2])this[n]=i;else throw Error(Ot+n+": "+i);if(n="crypto",o&&(this[n]=Ir[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error($i);else this[n]=!1;else throw Error(Ot+n+": "+i);return this}function ba(e){return new this(e).cos()}function Ca(e){return new this(e).cosh()}function Qi(e){var t,n,i;function o(l){var a,c,g,v=this;if(!(v instanceof o))return new o(l);if(v.constructor=o,hi(l)){v.s=l.s,X?!l.d||l.e>o.maxE?(v.e=NaN,v.d=null):l.e<o.minE?(v.e=0,v.d=[0]):(v.e=l.e,v.d=l.d.slice()):(v.e=l.e,v.d=l.d?l.d.slice():l.d);return}if(g=typeof l,g==="number"){if(l===0){v.s=1/l<0?-1:1,v.e=0,v.d=[0];return}if(l<0?(l=-l,v.s=-1):v.s=1,l===~~l&&l<1e7){for(a=0,c=l;c>=10;c/=10)a++;X?a>o.maxE?(v.e=NaN,v.d=null):a<o.minE?(v.e=0,v.d=[0]):(v.e=a,v.d=[l]):(v.e=a,v.d=[l]);return}else if(l*0!==0){l||(v.s=NaN),v.e=NaN,v.d=null;return}return Or(v,l.toString())}else if(g!=="string")throw Error(Ot+l);return(c=l.charCodeAt(0))===45?(l=l.slice(1),v.s=-1):(c===43&&(l=l.slice(1)),v.s=1),Yi.test(l)?Or(v,l):la(v,l)}if(o.prototype=k,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=_a,o.clone=Qi,o.isDecimal=hi,o.abs=ca,o.acos=ha,o.acosh=fa,o.add=da,o.asin=ga,o.asinh=pa,o.atan=va,o.atanh=ma,o.atan2=wa,o.cbrt=Ma,o.ceil=ya,o.clamp=Aa,o.cos=ba,o.cosh=Ca,o.div=Sa,o.exp=Ia,o.floor=Ta,o.hypot=Ea,o.ln=Oa,o.log=ka,o.log10=Na,o.log2=Ba,o.max=Ra,o.min=Fa,o.mod=La,o.mul=Pa,o.pow=Ua,o.random=Da,o.round=ja,o.sign=qa,o.sin=Wa,o.sinh=Za,o.sqrt=Va,o.sub=za,o.sum=$a,o.tan=Ha,o.tanh=Ya,o.trunc=xa,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return o.config(e),o}function Sa(e,t){return new this(e).div(t)}function Ia(e){return new this(e).exp()}function Ta(e){return V(e=new this(e),e.e+1,3)}function Ea(){var e,t,n=new this(0);for(X=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return X=!0,new this(1/0);n=t}return X=!0,n.sqrt()}function hi(e){return e instanceof An||e&&e.toStringTag===Hi||!1}function Oa(e){return new this(e).ln()}function ka(e,t){return new this(e).log(t)}function Ba(e){return new this(e).log(2)}function Na(e){return new this(e).log(10)}function Ra(){return Gi(this,arguments,"lt")}function Fa(){return Gi(this,arguments,"gt")}function La(e,t){return new this(e).mod(t)}function Pa(e,t){return new this(e).mul(t)}function Ua(e,t){return new this(e).pow(t)}function Da(e){var t,n,i,o,l=0,a=new this(1),c=[];if(e===void 0?e=this.precision:rt(e,1,kt),i=Math.ceil(e/x),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));l<i;)o=t[l],o>=429e7?t[l]=crypto.getRandomValues(new Uint32Array(1))[0]:c[l++]=o%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);l<i;)o=t[l]+(t[l+1]<<8)+(t[l+2]<<16)+((t[l+3]&127)<<24),o>=214e7?crypto.randomBytes(4).copy(t,l):(c.push(o%1e7),l+=4);l=i/4}else throw Error($i);else for(;l<i;)c[l++]=Math.random()*1e7|0;for(i=c[--l],e%=x,i&&e&&(o=He(10,x-e),c[l]=(i/o|0)*o);c[l]===0;l--)c.pop();if(l<0)n=0,c=[0];else{for(n=-1;c[0]===0;n-=x)c.shift();for(i=1,o=c[0];o>=10;o/=10)i++;i<x&&(n-=x-i)}return a.e=n,a.d=c,a}function ja(e){return V(e=new this(e),e.e+1,this.rounding)}function qa(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Wa(e){return new this(e).sin()}function Za(e){return new this(e).sinh()}function Va(e){return new this(e).sqrt()}function za(e,t){return new this(e).sub(t)}function $a(){var e=0,t=arguments,n=new this(t[e]);for(X=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return X=!0,V(n,this.precision,this.rounding)}function Ha(e){return new this(e).tan()}function Ya(e){return new this(e).tanh()}function xa(e){return V(e=new this(e),e.e+1,1)}k[Symbol.for("nodejs.util.inspect.custom")]=k.toString;k[Symbol.toStringTag]="Decimal";var An=k.constructor=Qi(Ir);Wn=new An(Wn);Zn=new An(Zn);var Fn=An,Ka="0x2::coin::Coin",Ga=/^0x2::coin::Coin<(.+)>$/,eo="0x2::sui::SUI",Xa="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",Lt=class bt{static getCoinTypeArg(t){const n=t.type.match(Ga);return n?n[1]:null}static isSUI(t){const n=bt.getCoinTypeArg(t);return n?bt.getCoinSymbol(n)==="SUI":!1}static getCoinSymbol(t){return t.substring(t.lastIndexOf(":")+1)}static getBalance(t){return BigInt(t.fields.balance)}static totalBalance(t,n){let i=BigInt(0);return t.forEach(o=>{n===o.coinAddress&&(i+=BigInt(o.balance))}),i}static getID(t){return t.fields.id.id}static getCoinTypeFromArg(t){return`${Ka}<${t}>`}static getCoinAssets(t,n){const i=[];return n.forEach(o=>{di(o.coinAddress)===di(t)&&i.push(o)}),i}static isSuiCoin(t){return Kt(t).full_address===eo}static selectCoinObjectIdGreaterThanOrEqual(t,n,i=[]){const o=bt.selectCoinAssetGreaterThanOrEqual(t,n,i),l=o.selectedCoins.map(g=>g.coinObjectId),a=o.remainingCoins,c=o.selectedCoins.map(g=>g.balance.toString());return{objectArray:l,remainCoins:a,amountArray:c}}static selectCoinAssetGreaterThanOrEqual(t,n,i=[]){const o=bt.sortByBalance(t.filter(v=>!i.includes(v.coinObjectId))),l=bt.calculateTotalBalance(o);if(l<n)return{selectedCoins:[],remainingCoins:o};if(l===n)return{selectedCoins:o,remainingCoins:[]};let a=BigInt(0);const c=[],g=[...o];for(;a<l;){const v=n-a,A=g.findIndex(b=>b.balance>=v);if(A!==-1){c.push(g[A]),g.splice(A,1);break}const _=g.pop();_.balance>0&&(c.push(_),a+=_.balance)}return{selectedCoins:bt.sortByBalance(c),remainingCoins:bt.sortByBalance(g)}}static sortByBalance(t){return t.sort((n,i)=>n.balance<i.balance?-1:n.balance>i.balance?1:0)}static sortByBalanceDes(t){return t.sort((n,i)=>n.balance>i.balance?-1:n.balance<i.balance?0:1)}static calculateTotalBalance(t){return t.reduce((n,i)=>n+i.balance,BigInt(0))}};function fi(e,...t){const n=Array.isArray(t[t.length-1])?t.pop():[];let o=[e,...t].filter(Boolean).join("::");return n&&n.length&&(o+=`<${n.join(", ")}>`),o}function Kt(e){var t;try{let n=e.replace(/\s/g,"");const i=n.match(/(<.+>)$/),o=(t=i==null?void 0:i[0])==null?void 0:t.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(o){n=n.slice(0,n.indexOf("<"));const g=Kt(n),v=Js(Xs({},g),{type_arguments:o.map(A=>Kt(A).source_address)});return v.type_arguments=v.type_arguments.map(A=>Lt.isSuiCoin(A)?A:Kt(A).source_address),v.source_address=fi(v.full_address,v.type_arguments),v}const l=n.split("::"),c={full_address:n,address:n===eo||n===Xa?"0x2":Vr.normalizeSuiObjectId(l[0]),module:l[1],name:l[2],type_arguments:[],source_address:""};return c.full_address=`${c.address}::${c.module}::${c.name}`,c.source_address=fi(c.full_address,c.type_arguments),c}catch{return{full_address:e,address:"",module:"",name:"",type_arguments:[],source_address:e}}}function di(e){return Kt(e).source_address}function st(e,t,n){return`${e}::${t}::${n}`}var _n=Yn(xn()),Qt="0x0000000000000000000000000000000000000000000000000000000000000006",Ja="0x2::coin::zero",mt="aggregator",to="CETUS",Qa="DEEPBOOK",el="KRIYA",tl="FLOWX",no="TURBOS",kr="AFTERMATH",nl="integrate",ro="cetus",gi="deepbook",rl="kriya",io="utils",oo="pay",il="flowx_amm",ol="turbos",sl="aftermath",al="custodian_v2",ll="clob_v2",ul="flash_swap_a2b",cl="flash_swap_b2a",hl="flash_swap_with_partner_a2b",fl="flash_swap_with_partner_b2a",dl="repay_flash_swap_a2b",gl="repay_flash_swap_b2a",pl="repay_flash_swap_with_partner_a2b",vl="repay_flash_swap_with_partner_b2a",bn="swap_a2b",Cn="swap_b2a",ml="transfer_or_destroy_coin",wl="check_coins_threshold",so="join_vec",Ml="transfer_account_cap",yl="0x000000000000000000000000000000000000000000000000000000000000dee9",Al="0x000000000000000000000000000000000000000000000000000000000000dee9",ao="0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",lo="0x6f4149091a5aea0e818e7243a13adcfb403842d670b9a2089de058512620687a",$t=new _n.default(0);new _n.default(1);var _l=new _n.default(2);_l.pow(new _n.default(128));var bl=new _n.default("18446744073709551615"),Cl="18446744073709551615",Wt=1e9,Sl="0xb65dcbf63fd3ad5d0ebfbf334780dc9f785eff38a4459e37ab08fa79576ee511",Il="",pi="0xf1cf0e81048df168ebeb1b8030fad24b3e0b53ae827c25053fff0779c1445b6f",Tl="0xfcc774493db2c45c79f688f88d28023a3e7d98e4ee9f48bbf5c7990f651577ae",El="",Ol="0xf194d9b1bcad972e45a7dd67dd49b3ee1e3357a00a50850c52cd51bb450e13b4",kl="",Bl="0x28e499dff5e864a2eafe476269a4f5035f1c16f338da7be18b103499abf271ce",Nl="",Rl="0xf0c40d67b078000e18032334c3325c47b9ec9f3d9ae4128be820d54663d14e3b",Fl="",Ll="0x35d35b0e5b177593d8c3a801462485572fc30861e6ce96a55af6dc4730709278",Pl="";function vi(e){switch(e){case 1e4:return"Calculate error";case 10001:return"Input number too large can not fit in target type";case 10002:return"No router";case 10003:return"Insufficient Liquidity";default:return"Unknown error"}}function uo(e,t){return e.moveCall({target:Ja,typeArguments:[t]})}function mr(e,t,n,i){const o=Lt.getCoinAssets(i,t);if(n===BigInt(0)&&o.length===0)return{targetCoin:uo(e,i),isMintZeroCoin:!0,targetCoinAmount:0};if(Lt.calculateTotalBalance(o)<n)throw new AggregateError("Insufficient balance when build merge coin","InsufficientBalance");if(Lt.isSuiCoin(i))return{targetCoin:e.splitCoins(e.gas,[e.pure.u64(n.toString())]),isMintZeroCoin:!0,targetCoinAmount:Number(n.toString())};let a=Lt.sortByBalance(o);a.slice(0,3).reduce((_,b)=>_+b.balance,BigInt(0))<BigInt(n)&&(a=Lt.sortByBalanceDes(o));let g=Lt.selectCoinObjectIdGreaterThanOrEqual(a,n);const[v,...A]=g.objectArray;return A.length>0&&e.mergeCoins(v,A.map(_=>e.object(_))),{targetCoin:e.object(v),isMintZeroCoin:!1,targetCoinAmount:Number(n.toString())}}function en(e,t,n,i){const o=i.getPackage(mt);if(o==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const l=o.publishedAt;e.moveCall({target:st(l,io,ml),typeArguments:[n],arguments:[t]})}function Ul(e,t,n,i,o){const l=o.getPackage(mt);if(l==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const a=l.publishedAt,c=e.makeMoveVec({elements:t});e.moveCall({target:st(a,io,wl),typeArguments:[n],arguments:[c,e.pure.u64(i)]});const g=uo(e,n);return e.moveCall({target:st(Vr.SUI_FRAMEWORK_ADDRESS,oo,so),typeArguments:[n],arguments:[g,c]}),g}function Dl(e,t,n){return Ye(this,null,function*(){let i=yield jl(t,n);return i!==null?{accountCap:e.object(i),isCreate:!1}:{accountCap:e.moveCall({target:`${Al}::${ll}::create_account`,typeArguments:[],arguments:[]}),isCreate:!0}})}function jl(e,t){return Ye(this,null,function*(){let n=50,i=null;for(;;){const o=e.getOwnedObjects({owner:t,cursor:i,limit:n,filter:{MoveModule:{package:yl,module:al}}});if(o!=null&&o.data!=null){if(o.data.length!==0)return o.data[0].data.objectId;if(o.data.length<50)break}else break}return null})}function ql(e,t,n,i){return Ye(this,null,function*(){const o=yield Dl(n,t,i.getWallet()),l=o.accountCap,a=i.getPackage(mt);if(a==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const c=a.publishedAt;if(e.a2b){if(e.coinA==null)throw new AggregateError("coinA is required","MissCoinA")}else if(e.coinB==null)throw new AggregateError("coinB is required","MissCoinB");const g=e.a2b?[n.object(e.poolId),e.amount,n.pure.u64(e.amountLimit),e.coinA,l,n.pure.bool(e.useFullInputCoinAmount),n.object(Qt)]:[n.object(e.poolId),e.amount,n.pure.u64(e.amountLimit),e.coinB,l,n.pure.bool(e.useFullInputCoinAmount),n.object(Qt)];let v=e.a2b?bn:Cn;const A=st(c,gi,v),_=n.moveCall({target:A,typeArguments:[e.coinAType,e.coinBType],arguments:g});if(o.isCreate){const b=st(c,gi,Ml);n.moveCall({target:b,typeArguments:[],arguments:[l]})}return{targetCoin:_[0],amountIn:_[1],amountOut:_[2],txb:n}})}function Wl(e,t,n){return Ye(this,null,function*(){const i=n.getPackage(mt);if(i==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const o=i.publishedAt;if(e.a2b){if(e.coinA==null)throw new AggregateError("coinA is required","MissCoinA")}else if(e.coinB==null)throw new AggregateError("coinB is required","MissCoinB");const l=e.a2b?[t.object(e.poolId),e.amount,t.pure.u64(e.amountLimit),e.coinA,t.pure.bool(e.useFullInputCoinAmount)]:[t.object(e.poolId),e.amount,t.pure.u64(e.amountLimit),e.coinB,t.pure.bool(e.useFullInputCoinAmount)],a=e.a2b?bn:Cn,c=st(o,rl,a),g=t.moveCall({target:c,typeArguments:[e.coinAType,e.coinBType],arguments:l});return{targetCoin:g[0],amountIn:g[1],amountOut:g[2],txb:t}})}var co=(e=>(e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET",e))(co||{}),Zl=class{constructor(e,t,n,i,o){this.aggregatorUrl=e,this.fullNodeUrl=t,this.wallet=n,this.packages=i,this.env=o}getAggregatorUrl(){return this.aggregatorUrl}getFullNodeUrl(){return this.fullNodeUrl}getWallet(){return this.wallet}getENV(){return this.env}getPackages(){return this.packages}getPackage(e){return this.packages.find(t=>t.packageName===e)}addPackage(e){if(!e.packageName||!e.packageId||!e.publishedAt)throw new Error("Invalid package data");this.packages.push(e)}removePackageById(e){this.packages=this.packages.filter(t=>t.packageId!==e)}findPackageById(e){return this.packages.find(t=>t.packageId===e)}};function ho(e,t,n){const i=n.getPackage(mt);if(i==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const o=i.publishedAt,l=n.getENV()===0?ao:lo,a=e.partner!=null&&e.partner.length>0,c=a?[t.object(l),t.object(e.poolId),e.amount,t.pure.u64(e.amountLimit),t.pure.bool(e.byAmountIn),t.pure.u128(e.sqrtPriceLimit.toString()),t.object(e.partner.toString()),t.object(Qt)]:[t.object(l),t.object(e.poolId),e.amount,t.pure.u64(e.amountLimit),t.pure.bool(e.byAmountIn),t.pure.u128(e.sqrtPriceLimit.toString()),t.object(Qt)];let g;a?e.a2b?g=hl:g=fl:e.a2b?g=ul:g=cl;const v=st(o,ro,g),A=t.moveCall({target:v,typeArguments:[e.coinAType,e.coinBType],arguments:c});return{targetCoin:A[0],flashReceipt:A[1],payAmount:A[2],swapedAmount:A[3],txb:t}}function fo(e,t,n){return Ye(this,null,function*(){const i=n.getPackage(mt);if(i==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const o=i.publishedAt,l=n.getENV()===0?ao:lo,a=e.partner!=null&&e.partner.length>0;if(e.a2b){if(e.coinA==null)throw new AggregateError("coinA is required","MissCoinA")}else if(e.coinB==null)throw new AggregateError("coinB is required","MissCoinB");let c;a?e.a2b?c=[t.object(l),t.object(e.poolId),e.coinA,e.receipt,t.object(e.partner)]:c=[t.object(l),t.object(e.poolId),e.coinB,e.receipt,t.object(e.partner)]:e.a2b?c=[t.object(l),t.object(e.poolId),e.coinA,e.receipt]:c=[t.object(l),t.object(e.poolId),e.coinB,e.receipt];let g;a?e.a2b?g=pl:g=vl:e.a2b?g=dl:g=gl;const v=st(o,ro,g);return{repayTargetCoin:t.moveCall({target:v,typeArguments:[e.coinAType,e.coinBType],arguments:c})[0]}})}function Vl(e,t,n,i){return Ye(this,null,function*(){const o=ho(e,n,i),l=e.a2b?t:void 0,a=e.a2b?void 0:t,c={poolId:e.poolId,a2b:e.a2b,coinA:l,coinB:a,receipt:o.flashReceipt,coinAType:e.coinAType,coinBType:e.coinBType,partner:e.partner};let g;e.byAmountIn?g=o.swapedAmount:g=o.payAmount;const v=yield fo(c,n,i);return{flashTargetCoin:o.targetCoin,repayTargetCoin:v.repayTargetCoin,nextInputAmount:g}})}var Ht=Yn(xn());function zl(e,t,n){let i=$t;return t?i=e.mul(new Ht.default(Wt-n*Wt)).div(new Ht.default(Wt)):i=e.mul(new Ht.default(Wt+n*Wt)).div(new Ht.default(Wt)),Number(i.toString())}var $l="79226673515401279992447579055",Hl="4295048016";function go(e){return e?new Ht.default(Hl):new Ht.default($l)}function Yl(e,t,n){return new Fn(e).mul(Fn.pow(2,-64)).pow(2).mul(Fn.pow(10,t-n))}function xl(e,t,n){return Ye(this,null,function*(){const i=n.getPackage(mt);if(i==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const o=i.publishedAt;if(e.a2b){if(e.coinA==null)throw new AggregateError("coinA is required","MissCoinA")}else if(e.coinB==null)throw new AggregateError("coinB is required","MissCoinB");const l=n.getENV()===0?Sl:Il,a=e.a2b?e.coinA:e.coinB,c=[t.object(l),e.amount,t.pure.u64(e.amountLimit),a,t.pure.bool(e.useFullInputCoinAmount)],g=e.a2b?bn:Cn,v=st(o,il,g),A=t.moveCall({target:v,typeArguments:[e.coinAType,e.coinBType],arguments:c});return{targetCoin:A[0],amountIn:A[1],amountOut:A[2],txb:t}})}function Kl(e,t,n){return Ye(this,null,function*(){const i=n.getPackage(mt);if(i==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const o=i.publishedAt;if(e.a2b){if(e.coinA==null)throw new AggregateError("coinA is required","MissCoinA")}else if(e.coinB==null)throw new AggregateError("coinB is required","MissCoinB");const l=e.a2b?"4295048016":"79226673515401279992447579055",a=e.a2b?[t.object(e.poolId),e.amount,t.pure.u64(e.amountLimit),e.coinA,t.pure.bool(e.useFullInputCoinAmount),t.pure.u128(l),t.object(Qt),t.object(pi)]:[t.object(e.poolId),e.amount,t.pure.u64(e.amountLimit),e.coinB,t.pure.bool(e.useFullInputCoinAmount),t.pure.u128(l),t.object(Qt),t.object(pi)],c=e.a2b?bn:Cn,g=st(o,ol,c),v=t.moveCall({target:g,typeArguments:[e.coinAType,e.coinBType,e.feeType],arguments:a});return{targetCoin:v[0],amountIn:v[1],amountOut:v[2],txb:t}})}function Gl(e,t,n){return Ye(this,null,function*(){const i=n.getPackage(mt);if(i==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const o=i.publishedAt;if(e.a2b){if(e.coinA==null)throw new AggregateError("coinA is required","MissCoinA")}else if(e.coinB==null)throw new AggregateError("coinB is required","MissCoinB");const l=n.getENV()===0?Tl:El,a=n.getENV()===0?Ol:kl,c=n.getENV()===0?Bl:Nl,g=n.getENV()===0?Rl:Fl,v=n.getENV()===0?Ll:Pl,A=e.a2b?e.coinA:e.coinB,_=(1-e.slippage)*1e18,b=[t.object(e.poolId),t.object(l),t.object(a),t.object(c),t.object(g),t.object(v),e.amount,t.pure.u64(e.amountLimit),t.pure.u64(e.amountOut),t.pure.u64(_),A,t.pure.bool(e.useFullInputCoinAmount)],S=e.a2b?bn:Cn,E=st(o,sl,S),B=t.moveCall({target:E,typeArguments:[e.coinAType,e.coinBType,e.lpSupplyType],arguments:b});return{targetCoin:B[0],amountIn:B[1],amountOut:B[2],txb:t}})}function Xl(e,t,n,i,o,l){return Ye(this,null,function*(){const a=t.routers.map(v=>v.amountIn.toString()),c=[],g=n.splitCoins(i,a);for(let v=0;v<t.routers.length;v++){const A=t.routers[v];let _,b=g[v],S=n.pure.u64(a[v]);for(let E=0;E<A.path.length;E++){const B=E===0,C=A.path[E];if(C.provider===to){const j={poolId:C.id,amount:S,amountLimit:"0",a2b:C.a2b,byAmountIn:!0,sqrtPriceLimit:go(C.a2b),partner:l,coinAType:C.a2b?C.from:C.target,coinBType:C.a2b?C.target:C.from},I=yield Vl(j,b,n,o);en(n,I.repayTargetCoin,C.from,o),_=I.flashTargetCoin,b=_,S=I.nextInputAmount}if(C.provider===Qa){const j=C.a2b?b:void 0,I=C.a2b?void 0:b,T={poolId:C.id,a2b:C.a2b,amount:S,amountLimit:0,coinA:j,coinB:I,useFullInputCoinAmount:!B,coinAType:C.a2b?C.from:C.target,coinBType:C.a2b?t.targetCoinType:C.from},O=yield ql(T,e,n,o);_=O.targetCoin,b=_,S=O.amountOut}if(C.provider===el){const j=C.a2b?b:void 0,I=C.a2b?void 0:b,T={poolId:C.id,amount:S,amountLimit:0,a2b:C.a2b,byAmountIn:!0,coinA:j,coinB:I,useFullInputCoinAmount:!B,coinAType:C.a2b?C.from:C.target,coinBType:C.a2b?C.target:C.from},O=yield Wl(T,n,o);_=O.targetCoin,b=_,S=O.amountOut}if(C.provider===tl){const j=C.a2b?b:void 0,I=C.a2b?void 0:b,T={amount:S,amountLimit:0,a2b:C.a2b,byAmountIn:!0,coinA:j,coinB:I,useFullInputCoinAmount:!B,coinAType:C.a2b?C.from:C.target,coinBType:C.a2b?C.target:C.from},O=yield xl(T,n,o);_=O.targetCoin,b=_,S=O.amountOut}if(C.provider===no){const j=C.a2b?b:void 0,I=C.a2b?void 0:b;let T="";if(C.extendedDetails!=null&&C.extendedDetails.turbosFeeType!=null)T=C.extendedDetails.turbosFeeType;else throw new AggregateError("Build turbos swap movecall error: ","MissTurbosFeeType");const O={poolId:C.id,amount:S,amountLimit:0,a2b:C.a2b,byAmountIn:!0,coinA:j,coinB:I,useFullInputCoinAmount:!B,coinAType:C.a2b?C.from:C.target,coinBType:C.a2b?C.target:C.from,feeType:T},Y=yield Kl(O,n,o);_=Y.targetCoin,b=_,S=Y.amountOut}if(C.provider===kr){const j=C.a2b?b:void 0,I=C.a2b?void 0:b;let T="";if(C.extendedDetails!=null&&C.extendedDetails.aftermathLpSupplyType!=null)T=C.extendedDetails.aftermathLpSupplyType;else throw new AggregateError("Build aftermath swap movecall error: ","MissAftermathLpSupplyType");const O={poolId:C.id,amount:S,amountOut:C.amountOut,amountLimit:0,a2b:C.a2b,byAmountIn:!0,coinA:j,coinB:I,useFullInputCoinAmount:!B,coinAType:C.a2b?C.from:C.target,coinBType:C.a2b?C.target:C.from,slippage:t.slippage,lpSupplyType:T},Y=yield Gl(O,n,o);_=Y.targetCoin,b=_,S=Y.amountOut}}c.push(b)}return en(n,i,t.fromCoinType,o),c})}function Jl(e,t,n,i,o){return Ye(this,null,function*(){const l=e.routers.map(v=>v.amountOut.toString()),a=[],c=[],g=[];for(let v=0;v<e.routers.length;v++){const A=e.routers[v];let _=t.pure.u64(l[v]);for(let S=A.path.length-1;S>=0;S--){const E=A.path[S],B=E.a2b?E.from:E.target,C=E.a2b?E.target:E.from,j={poolId:E.id,amount:_,amountLimit:Cl,a2b:E.a2b,byAmountIn:!1,sqrtPriceLimit:go(E.a2b),partner:o,coinAType:B,coinBType:C},I=ho(j,t,i);_=I.payAmount,a.unshift(I.targetCoin),c.unshift(I.flashReceipt)}let b=n;for(let S=0;S<A.path.length;S++){const E=A.path[S],B=E.a2b?E.from:E.target,C=E.a2b?E.target:E.from,j={poolId:E.id,a2b:E.a2b,partner:o,coinA:E.a2b?b:void 0,coinB:E.a2b?void 0:b,receipt:c[S],coinAType:B,coinBType:C},I=yield fo(j,t,i);b=a[S],S===0?n=I.repayTargetCoin:en(t,I.repayTargetCoin,E.from,i),S===A.path.length-1&&g.push(b)}}return en(t,n,e.fromCoinType,i),g})}var In=Yn(xn());function tn(e){const t=e.indexOf("::");if(t===-1)return e;const n=e.substring(0,t),i=e.substring(t);if(!n.startsWith("0x"))return e;const o=n.substring(2);return o.length>64?e:`0x${o.padStart(64,"0")}${i}`}function Ql(e,t){e=tn(e),t=tn(t);const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){if(e[i]>t[i])return!0;if(e[i]<t[i])return!1}return!0}function eu(e){return!(!e.startsWith("0x")||e.length!==66)}var Zt=Yn(xn());function tu(e,t,n){return Ye(this,null,function*(){var i,o,l,a,c;const{from:g,target:v,amount:A,byAmountIn:_,pools:b}=t,S=tn(g),E=tn(v),B=new qi.Transaction,C=Ql(S,E),j=n.getPackage(nl);if(j==null)throw new AggregateError("Aggregator package not set","MissAggregatorPackage");const I=j.publishedAt,T=C?S:E,O=C?E:S,Y=[T,O];for(let d=0;d<b.length;d++){const M=[B.object(b[d]),B.pure.bool(C),B.pure.bool(_),B.pure.u64(A.toString())];B.moveCall({target:`${I}::fetcher_script::calculate_swap_result`,arguments:M,typeArguments:Y})}if(!eu(n.getWallet()))throw new AggregateError("Aggregator package not set","InvalidWallet");const $=yield e.devInspectTransactionBlock({transactionBlock:B,sender:n.getWallet()});if($.error!=null)throw new AggregateError("Aggregator package not set","SimulateError");const H=(i=$.events)==null?void 0:i.filter(d=>d.type.includes("CalculatedSwapResultEvent"));if(H.length===0||H.length!==b.length)throw new AggregateError("Simulate event result error","simulateEventError");let q=_?$t:bl,F=0;for(let d=0;d<H.length;d+=1)if(!H[d].parsedJson.data.is_exceed)if(t.byAmountIn){const M=new Zt.BN(H[d].parsedJson.data.amount_out);M.gt(q)&&(F=d,q=M)}else{const M=new Zt.BN(H[d].parsedJson.data.amount_out);M.lt(q)&&(F=d,q=M)}const R=H[F].parsedJson.data,J=R.step_results[0].current_sqrt_price,[D,ee]=yield Promise.all([e.getCoinMetadata({coinType:T}).then(d=>d==null?void 0:d.decimals),e.getCoinMetadata({coinType:O}).then(d=>d==null?void 0:d.decimals)]);if(D==null||ee==null)throw new AggregateError("Simulate event result error","CannotGetDecimals");const w=Yl(J,D,ee),r={amountIn:new Zt.BN((o=R.amount_in)!=null?o:0),amountOut:new Zt.BN((l=R.amount_out)!=null?l:0),routes:[{path:[{id:b[F],a2b:C,provider:to,from:S,target:E,feeRate:0,amountIn:0,amountOut:0}],amountIn:new Zt.BN((a=R.amount_in)!=null?a:0),amountOut:new Zt.BN((c=R.amount_out)!=null?c:0),initialPrice:w}],insufficientLiquidity:!1};return{isExceed:R.is_exceed,routeData:r}})}var nu=class{constructor(e){this.config=e,this.client=new zs.SuiClient({url:e.getFullNodeUrl()}),this.wallet=e.getWallet(),this.allCoins=[]}getAllCoins(){return Ye(this,null,function*(){let e=null,t=50;const n=[];for(;;){const i=yield this.client.getAllCoins({owner:this.wallet,cursor:e,limit:t});for(const o of i.data)n.push({coinAddress:Kt(o.coinType).source_address,coinObjectId:o.coinObjectId,balance:BigInt(o.balance)});if(i.data.length<t)break;e=i.data[t-1].coinObjectId}return n})}findRouter(e){return Ye(this,null,function*(){const{from:t,target:n,amount:i,byAmountIn:o,depth:l,splitAlgorithm:a,splitFactor:c,splitCount:g,providers:v}=e,A=tn(t),_=tn(n);let b=this.config.getAggregatorUrl()+`/find_routes?from=${A}&target=${_}&amount=${i.toString()}&by_amount_in=${o}`;l&&(b+=`&depth=${l}`),a&&(b+=`&split_algorithm=${a}`),c&&(b+=`&split_factor=${c}`),g&&(b+=`&split_count=${g}`),v&&v.length>0&&(b+=`&providers=${v.join(",")}`);const S=yield fetch(b);if(!S.ok)return{amountIn:$t,amountOut:$t,routes:[],insufficientLiquidity:!1,error:{code:10001,msg:vi(10001)}};const E=yield S.json();if(E.data!=null)return ru(E.data);const B=E.msg==="liquidity is not enough";return{amountIn:$t,amountOut:$t,routes:[],insufficientLiquidity:B,error:{code:10003,msg:vi(10003)}}})}swapInPools(e){return Ye(this,null,function*(){let t;try{t=yield tu(this.client,e,this.config)}catch(n){return console.error("swapInPools error:",n),null}return t})}routerSwap(e){return Ye(this,null,function*(){const{routers:t,amountIn:n,amountOut:i,byAmountIn:o,slippage:l,fromCoinType:a,targetCoinType:c,partner:g,isMergeTragetCoin:v,refreshAllCoins:A}=e,_=zl(o?i:n,o,l),b=new qi.Transaction;(A||this.allCoins.length===0)&&(this.allCoins=yield this.getAllCoins());const S=this.allCoins;let E=[];if(o){const C=mr(b,S,BigInt(n.toString()),a).targetCoin,j=yield Xl(this.client,e,b,C,this.config,g),I=Ul(b,j,c,_,this.config);E.push(I)}else{const B=mr(b,S,BigInt(_),a).targetCoin,C=yield Jl(e,b,B,this.config,g);E.push(...C)}if(v){const B=mr(b,S,BigInt(0),c);b.mergeCoins(B.targetCoin,E),B.isMintZeroCoin&&en(b,B.targetCoin,c,this.config)}else{if(E.length>1){const B=b.makeMoveVec({elements:E.slice(1)});b.moveCall({target:st(Vr.SUI_FRAMEWORK_ADDRESS,oo,so),typeArguments:[c],arguments:[E[0],B]})}en(b,E[0],c,this.config)}return b})}signAndExecuteTransaction(e,t){return Ye(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:e,signer:t,options:{showEffects:!0,showEvents:!0,showInput:!0,showBalanceChanges:!0}})})}devInspectTransactionBlock(e){return Ye(this,null,function*(){return yield this.client.devInspectTransactionBlock({transactionBlock:e,sender:this.wallet})})}sendTransaction(e,t){return Ye(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:e,signer:t})})}};function ru(e){return{amountIn:new In.default(e.amount_in.toString()),amountOut:new In.default(e.amount_out.toString()),insufficientLiquidity:!1,routes:e.routes.map(t=>({path:t.path.map(n=>{var i,o;let l;n.provider===kr&&(l=n.extended_details.aftermath_pool_flatness===0?"v2":"v3");let a;return(n.provider===no||n.provider===kr)&&(a={aftermathLpSupplyType:(i=n.extended_details)==null?void 0:i.aftermath_lp_supply_type,turbosFeeType:(o=n.extended_details)==null?void 0:o.turbos_fee_type}),{id:n.id,a2b:n.direction,provider:n.provider,from:n.from,target:n.target,feeRate:n.fee_rate,amountIn:n.amount_in,amountOut:n.amount_out,extendedDetails:a,version:l}}),amountIn:new In.default(t.amount_in.toString()),amountOut:new In.default(t.amount_out.toString()),initialPrice:new Fn(t.initial_price.toString())}))}}var iu=nu,ou=Zl,mi=co;const su=vo(),po=su.public.appEnv;console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:14 ~ env:",po);function au(){const{tokensObj:e,setTokensObj:t}=bi(),n=ss(),i=ze(()=>n),o=zn(),l=ze(()=>o),a=At.Sui.aggregatorv2Url,c=localStorage.getItem("Sui-currentRpclocal4")||At.Sui.fullRpcUrl,g=At.Sui.simulationAccount,v={packageName:"aggregator",packageId:At.Sui.aggregatorV2.package_id,publishedAt:At.Sui.aggregatorV2.published_at},A={packageName:"integrate",packageId:At.Sui.integrate.package_id,publishedAt:At.Sui.integrate.published_at},_=ze(()=>new ou(a,c,i.value.address||g,[v,A],po=="test"?mi.TESTNET:mi.MAINNET)),b=ze(()=>new iu(_.value)),S=us(),E=ze(()=>S),B=F=>({transactionBlock:F,options:{showEffects:!0,showEvents:!0,showInput:!0,showRawInput:!0,showObjectChanges:!0,showBalanceChanges:!0}}),C=(F,R)=>R.minus(F).div(R).mul(100),j=(F,R,J)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:71 ~ getPriceImpact ~ routerData:",F);const{routes:D}=F;let ee=it(0);return D==null||D.forEach(w=>{const r=it(w.amountOut).div(Math.pow(10,J)),u=it(w.amountIn).div(Math.pow(10,R)),d=r.div(u),M=it(w==null?void 0:w.amountIn).div(F==null?void 0:F.amountIn),y=C(d,it(w.initialPrice.toString())).mul(new _i(M));ee=ee.add(y)}),Number(as(ee.toNumber(),2))},I=F=>ri(F)==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":ri(F),T=(F,R,J)=>{var ee,w,r;const D=F.filter(u=>{const d=I(R),M=I(J),y=I(u==null?void 0:u.base),f=I(u==null?void 0:u.quote);return d===y&&M===f||M===y&&d===f});return(D==null?void 0:D.length)>0?(Object.values((ee=D==null?void 0:D[0])==null?void 0:ee.addressMap),Array.from((r=(w=D==null?void 0:D[0])==null?void 0:w.addressMap)==null?void 0:r.values())):null},O=F=>F==null?void 0:F.map(R=>{var J,D;return{...R,amountIn:(J=R==null?void 0:R.amountIn)==null?void 0:J.toString(),amountOut:(D=R==null?void 0:R.amountOut)==null?void 0:D.toString(),initialPrice:(R==null?void 0:R.initial_price)||(R==null?void 0:R.initialPrice)}}),Y=async(F,R,J,D,ee,w,r)=>{var u,d,M,y,f,h,p,s,m,L,P,N,Z,z,K,le,G,te,ne,re,ie,Ke,se,ue,Qe,pe,ve,Nt,fe,me,wt,we,Me;console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:131 ~ getFindRouter ~ index?.value?.liquiditySourceList:",(u=l==null?void 0:l.value)==null?void 0:u.liquiditySourceList),console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:131 ~ getFindRouter ~ index?.value?.includeRoutes:",(d=l==null?void 0:l.value)==null?void 0:d.includeRoutes);try{const at=(y=(M=l==null?void 0:l.value)==null?void 0:M.liquiditySourceList)==null?void 0:y.filter(nt=>(nt==null?void 0:nt.status)==="open"),ae=(f=at==null?void 0:at.filter(nt=>{var de;return((de=nt==null?void 0:nt.name)==null?void 0:de.toUpperCase())!=="CETUS"}))==null?void 0:f.map(nt=>{var de;return(de=nt==null?void 0:nt.name)==null?void 0:de.toUpperCase()}),Q={from:I((h=F==null?void 0:F.value)==null?void 0:h.address),target:I((p=R==null?void 0:R.value)==null?void 0:p.address),amount:new Mt(J),byAmountIn:D,depth:3,splitAlgorithm:null,splitFactor:null,splitCount:((s=l==null?void 0:l.value)==null?void 0:s.includeRoutes)==="open"?null:1,providers:["CETUS",...ae]};console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:145 ~ getFindRouter ~ findRouterParams:",Q);const oe=await b.value.findRouter(Q);if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:163 ~ function ~ res:",oe),((m=oe==null?void 0:oe.error)==null?void 0:m.code)==10001)return{...oe,id:r};if(oe!=null&&oe.insufficientLiquidity)return{...oe,id:r};if(!(oe!=null&&oe.routes)||((L=oe==null?void 0:oe.routes)==null?void 0:L.length)===0)throw Error("Aggregator no router");console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:156 ~ getFindRouter ~ findRouter res Before formatting:",JSON.stringify(oe,null,2));const ce={amountIn:(P=oe==null?void 0:oe.amountIn)==null?void 0:P.toString(),amountOut:(N=oe==null?void 0:oe.amountOut)==null?void 0:N.toString(),routes:O(oe==null?void 0:oe.routes)};console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:159 ~ getFindRouter ~ findRouter formatRes:",JSON.stringify(ce,null,2));const Ae=j(ce,(Z=F==null?void 0:F.value)==null?void 0:Z.decimals,(z=R==null?void 0:R.value)==null?void 0:z.decimals);return console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:170 ~ getFindRouter ~ priceImpact:",Ae),{...ce,priceImpact:Ae,fromCoinAddress:(K=F==null?void 0:F.value)==null?void 0:K.address,toCoinAddress:(le=R==null?void 0:R.value)==null?void 0:le.address,id:r}}catch(at){try{console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ error:",at),console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ swapRouterStore?.value?.poolListGroupByTokenAB:",(G=E==null?void 0:E.value)==null?void 0:G.poolListGroupByTokenAB);const ae=T((te=E==null?void 0:E.value)==null?void 0:te.poolListGroupByTokenAB,(ne=F==null?void 0:F.value)==null?void 0:ne.address,(re=R==null?void 0:R.value)==null?void 0:re.address);if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ pools:",ae),console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ params:",{from:I((ie=F==null?void 0:F.value)==null?void 0:ie.address),target:I((Ke=R==null?void 0:R.value)==null?void 0:Ke.address),amount:J,byAmountIn:D,pools:ae}),ae){const Q=await b.value.swapInPools({from:I((se=F==null?void 0:F.value)==null?void 0:se.address),target:I((ue=R==null?void 0:R.value)==null?void 0:ue.address),amount:new Mt(J),byAmountIn:D,pools:ae});if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ res:",Q),Q){const oe={isExceed:Q==null?void 0:Q.isExceed,amountIn:(pe=(Qe=Q==null?void 0:Q.routeData)==null?void 0:Qe.amountIn)==null?void 0:pe.toString(),amountOut:(Nt=(ve=Q==null?void 0:Q.routeData)==null?void 0:ve.amountOut)==null?void 0:Nt.toString(),routes:O((fe=Q==null?void 0:Q.routeData)==null?void 0:fe.routes)};console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ forMatRes:",oe);const ce=j(oe,(me=F==null?void 0:F.value)==null?void 0:me.decimals,(wt=R==null?void 0:R.value)==null?void 0:wt.decimals);return console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ priceImpact:",ce),{...oe,priceImpact:ce,fromCoinAddress:(we=F==null?void 0:F.value)==null?void 0:we.address,toCoinAddress:(Me=R==null?void 0:R.value)==null?void 0:Me.address,id:r}}return null}return null}catch(ae){return console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:179 ~ getFindRouter Error ~ e:",ae),null}}},$=async(F,R,J,D,ee)=>{var w,r;try{const u=F.routes.map(y=>({...y,amountIn:new Mt(y.amountIn),amountOut:new Mt(y.amountOut),routes:y.path.map(f=>({...f,amountIn:new Mt(f.amountIn),amountOut:new Mt(f.amountOut)}))}));console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:246 ~ getRouterSwapPayload ~ client:",b);const d={routers:u,amountIn:new Mt(F.amountIn),amountOut:new Mt(F.amountOut),byAmountIn:R,slippage:J,fromCoinType:I((w=D==null?void 0:D.value)==null?void 0:w.address),targetCoinType:I((r=ee==null?void 0:ee.value)==null?void 0:r.address),partner:void 0,isMergeTragetCoin:!0,refreshAllCoins:!0};console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:258 ~ getRouterSwapPayload ~ routerParams:",JSON.stringify(d,null,2));const M=await b.value.routerSwap(d);return console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:122 ~ function ~ res:",M),B(M)}catch(u){console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:49 ~ function ~ error:",u)}},{getTokenBySymbol:H}=cs("Sui");return{getFindRouter:Y,getRouterSwapPayload:$,getTokenInfo:async F=>{if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: useSuiAggregator.ts:288 ~ getTokenInfo ~ address:",F),e[F])return e[F];{const R=await H(e,F),J={[F]:R},D={...e,...J};t(D);try{localStorage.setItem("SuiTokenObj",JSON.stringify(D))}catch(ee){console.log("ðŸš€ ~ file: useSuiAggregator.ts:295 ~ getTokenInfo ~ err:",ee)}return R}}}}const Vc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",zc="data:image/png;base64,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",$c="data:image/png;base64,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",Hc=""+globalThis.__publicAssetsURL("sui-image/within-error.png"),lu=""+globalThis.__publicAssetsURL("sui-image/icon_Router@2x.png"),Bt=e=>(wn("data-v-f4451afa"),e=e(),Mn(),e),uu={class:"aggregator-setting-content"},cu={key:0,class:"liquidity-source"},hu={class:"liquidity-source-title"},fu={class:"title-left"},du=Bt(()=>U("svg",{"aria-hidden":"true",class:"icon"},[U("use",{"xlink:href":"#icon-icon_liquidity"})],-1)),gu=Bt(()=>U("span",null,"Liquidity Sources",-1)),pu=Bt(()=>U("div",{class:"price-reference-text"}," Your trade is routed through one or more of these liquidity sources. ",-1)),vu=Bt(()=>U("svg",{"aria-hidden":"true",class:"icon"},[U("use",{"xlink:href":"#icon-icon_tips"})],-1)),mu={class:"title-right plus-switch plus-liquidity-switch"},wu=Bt(()=>U("span",null,"Select all",-1)),Mu={class:"liquidity-source-content"},yu=Bt(()=>U("div",{class:"liquidity-source-text"},"Disable/Enable Liquidity Sources",-1)),Au={class:"liquidity-source-list"},_u={class:"left"},bu={alt:""},Cu={class:"right plus-switch plus-liquidity-switch"},Su={key:1,class:"no-allowed"},Iu={class:"routing-preference"},Tu=Bt(()=>U("div",{class:"routing-preference-title"},[U("img",{src:lu,alt:""}),U("span",null,"Routing Preference")],-1)),Eu={class:"routing-preference-content"},Ou={class:"routing-preference-list"},ku={class:"routing-preference-item plus-switch plus-liquidity-switch"},Bu=Bt(()=>U("span",null,"Support order split",-1)),Nu={class:"action-btn"},Ru=vn({__name:"aggregator-setting-modal",emits:["close","modalConfirm"],setup(e,{emit:t}){const n=t,i=zn(),o=ze(()=>i),l=ze(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: aggregator-setting-modal.vue:121 ~ constliquiditySourceList:any=computed ~ store.value.liquiditySourceList:",o.value.liquiditySourceList),o.value.liquiditySourceList)),a=ze(()=>o.value.includeRoutes),c=ze(()=>o.value.supportDepth3),g=pt([]),v=pt(),A=pt(),_=pt(),b=I=>{const T={};I.forEach(O=>{T[O.name]=O.status}),_.value=T};ln(()=>[l.value,a.value],([I,T])=>{I&&I.length>0&&(g.value=I,console.log("ðŸš€ ~ file: aggregator-setting-modal.vue:144 ~ liquiditySourceList:",I),b(I)),T&&(v.value=T)},{immediate:!0,deep:!0}),ln(()=>c.value,I=>{I&&(A.value=I)},{immediate:!0});const S=I=>{v.value=I},E=I=>{const T=_.value[I.name]=="open"?"close":"open";_.value[I.name]=T},B=()=>{const I=g.value.map(Y=>({...Y,status:_.value[Y.name]}));console.log("ðŸš€ðŸš€ðŸš€ ~ file: aggregator-setting-modal.vue:192 ~ result ~ result:",I);const T=I.filter(Y=>Y.status=="open"||Y.status=="Open");T&&T.length>1?localStorage.setItem("plusChecked1","open"):localStorage.setItem("plusChecked1","close"),i.setAggregatorSetting(I,v.value,A.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: aggregator-setting-modal.vue:195 ~ confirm ~ result:",I);const O=new Event("updateSwapParams");window.dispatchEvent(O),n("modalConfirm",I)},C=pt(!0),j=I=>{C.value=!C.value,g.value.forEach(T=>{const O=(T==null?void 0:T.name)=="Cetus"||I?"open":"close";_.value[T==null?void 0:T.name]=O})};return ln(_.value,I=>{I&&(console.log("ðŸš€ ~ watch ~ newValue:",I),Object.keys(I).filter(O=>O!=="Cetus").every(O=>I[O]==="open")?C.value=!0:C.value=!1)},{immediate:!0}),(I,T)=>{const O=Mo,Y=yo,$=Ao,H=mo("image");return ge(),St(un(Mi),{title:"Customize Routing",footer:null,visible:!0,width:"420px",onCancel:T[3]||(T[3]=q=>I.$emit("close"))},{default:Pt(()=>[U("div",uu,[g.value&&g.value.length>0?(ge(),xe("div",cu,[U("div",hu,[U("div",fu,[du,gu,Ve(O,{"overlay-class-name":"price-impact-tooltip"},{title:Pt(()=>[pu]),default:Pt(()=>[vu]),_:1})]),U("div",mu,[wu,Ve(Y,{class:"liquidity-switch",checked:C.value,onClick:T[0]||(T[0]=q=>{j(q)})},null,8,["checked"])])]),U("div",Mu,[yu,U("div",Au,[(ge(!0),xe(Tn,null,En(g.value,q=>(ge(),xe("div",{key:q.name,class:"liquidity-source-item"},[U("div",_u,[wo(U("img",bu,null,512),[[H,q.logo]]),U("span",null,be(q.name),1)]),U("div",Cu,[q.name!=="Cetus"?(ge(),St(Y,{key:0,checked:_.value[q.name]=="open",onClick:F=>E(q)},null,8,["checked","onClick"])):(ge(),xe("div",Su,[Ve(Y,{class:"lock-switch",checked:!0})]))])]))),128))])])])):Ut("",!0),U("div",Iu,[Tu,U("div",Eu,[U("div",Ou,[U("div",ku,[Bu,Ve(Y,{checked:v.value=="open",onChange:T[1]||(T[1]=q=>S(v.value=="open"?"close":"open"))},null,8,["checked"])])])])]),U("div",Nu,[Ve($,{class:"max-btn cancels-btn",onClick:T[2]||(T[2]=q=>I.$emit("close"))},{default:Pt(()=>[Ln("Cancel")]),_:1}),Ve($,{class:"confirm-btn",onClick:B},{default:Pt(()=>[Ln("Confirm")]),_:1})])])]),_:1})}}});const Yc=mn(Ru,[["__scopeId","data-v-f4451afa"]]),Fu=vn({props:{text:{type:String,default:""}},setup(e){const{t}=_o(),{$notify:n}=bo();return{handleCopy:o=>{if(navigator.clipboard)navigator.clipboard.writeText(o);else{const l=document.createElement("input");l.readOnly=!0,document.body.appendChild(l),l.value=o,l.select(),document.execCommand("Copy"),document.body.removeChild(l)}n.success({icon:Sn("svg",{class:{icon:!0},"aria-hidden":!0},[Sn("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:Sn("div",{class:"notification-title"},[Sn("span",{innerHTML:t("tips.copySuccess")},null)]),class:"ant-notification-copy"})}}}});const Lu=e=>(wn("data-v-58075ffa"),e=e(),Mn(),e),Pu=Lu(()=>U("use",{"xlink:href":"#icon-icon_copy2"},null,-1)),Uu=[Pu];function Du(e,t,n,i,o,l){return ge(),xe("svg",{class:"copy-icon","aria-hidden":"true",onClick:t[0]||(t[0]=a=>e.handleCopy(e.text))},Uu)}const ju=mn(Fu,[["render",Du],["__scopeId","data-v-58075ffa"]]),qu=vn({props:{type:{type:String,default:""},value:{type:String,default:""}},setup(e){const t=zn(),n=ze(()=>t),i=ze(()=>n.value.currentExplorer);return{getExplorerUrl:Ci,currentExplorer:i}}});const Wu=e=>(wn("data-v-881ee3f4"),e=e(),Mn(),e),Zu=["href"],Vu=Wu(()=>U("svg",{class:"icon icon-up","aria-hidden":"true"},[U("use",{"xlink:href":"#icon-icon_link"})],-1)),zu=[Vu];function $u(e,t,n,i,o,l){return ge(),xe("a",{target:"_blank",class:"jump-icon",href:("getExplorerUrl"in e?e.getExplorerUrl:un(Ci))(e.currentExplorer,e.type,e.value)},zu,8,Zu)}const Hu=mn(qu,[["render",$u],["__scopeId","data-v-881ee3f4"]]),Yu={CETUS:"Cetus",DEEPBOOK:"DeepBook",KRIYA:"Kriya",FLOWX:"FlowX",TURBOS:"Turbos",AFTERMATH:"Aftermath"},xu=vn({components:{Modal:Mi,CoinImg:wi,CopyBtn:ju,ExplorerLink:Hu},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})}},setup(e){const{getTokenInfo:t}=au(),n=bi(),i=ze(()=>n==null?void 0:n.tokensObj),o=zn(),l=ze(()=>o==null?void 0:o.liquiditySourceObj),a=pt(!1);Co(()=>{a.value=!0});const c=pt([]),g=pt({}),v=async I=>{for(let T=0;T<(I==null?void 0:I.length);T++){const O=I[T].path;for(let Y=0;Y<(O==null?void 0:O.length);Y++){const $=O[Y];console.log($,"path##");const H=await t($==null?void 0:$.from),q=await t($==null?void 0:$.target),F=(H==null?void 0:H.logoURI)||(H==null?void 0:H.logo_url)||"",R=(q==null?void 0:q.logoURI)||(q==null?void 0:q.logo_url)||"";g.value[$==null?void 0:$.from]={...H,coinImg:F},g.value[$==null?void 0:$.target]={...q,coinImg:R},console.log(g.value,"##routerTokenMap.value")}}console.log("ðŸš€ðŸš€ðŸš€ ~ file: router-modal.vue:189 ~ setup ~ routerTokenMap:",g)};ln(()=>{var I;return[a.value,(I=e==null?void 0:e.suiPreSwapdata)==null?void 0:I.routes]},([I,T])=>{I&&(A(T),v(T))},{immediate:!0,deep:!0});const A=async I=>{var O,Y,$,H,q;const T=[];for(let F=0;F<(I==null?void 0:I.length);F++){const R=I[F],J=[];for(let ee=0;ee<((O=R==null?void 0:R.path)==null?void 0:O.length);ee++){const w=R==null?void 0:R.path[ee];console.log("ðŸš€ ~ file: router-modal.vue:241 ~ path ~ p:",w);const r=(w==null?void 0:w.feeRate)&&Number(w==null?void 0:w.feeRate)&&it(w==null?void 0:w.feeRate).mul(100).toString()+"%"||void 0,u=r;J.push({poolAddress:w==null?void 0:w.id,fee:r,provider:Yu[w==null?void 0:w.provider],providerImg:(H=($=l==null?void 0:l.value)==null?void 0:$[(Y=w==null?void 0:w.provider)==null?void 0:Y.toUpperCase()])==null?void 0:H.logo,from:w==null?void 0:w.from,to:w==null?void 0:w.target,displayFeeOrVersion:u})}const D=ls(it(R==null?void 0:R.amountIn).div((q=e==null?void 0:e.suiPreSwapdata)==null?void 0:q.amountIn).mul(100).toString(),1);T.push({path:J,proportion:D,amountOut:R==null?void 0:R.amountOut})}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: router-modal.vue:182 ~ routerList ~ result:",T),(T==null?void 0:T.length)<2){c.value=T;return}c.value=T==null?void 0:T.sort((F,R)=>it(F==null?void 0:F.amountOut).minus(R==null?void 0:R.amountOut).lt(0))};ln(()=>[c.value],([I])=>{console.log("ðŸš€ ~ file: router-modal.vue:284 ~ watch ~ routerList:",I)});const _=ze(()=>{var I,T;return((I=e==null?void 0:e.fromCoin)==null?void 0:I.logoURI)||((T=e==null?void 0:e.fromCoin)==null?void 0:T.logo_url)||""}),b=ze(()=>{var I,T;return((I=e==null?void 0:e.toCoin)==null?void 0:I.logoURI)||((T=e==null?void 0:e.toCoin)==null?void 0:T.logo_url)||""}),S=ze(()=>{var H;const I=[];let T=it(0);(H=c==null?void 0:c.value)==null||H.forEach((q,F)=>{T=T.plus(q.proportion);const R=q.proportion.split(".");I.push({value:q.proportion,int:R[0],decimal:R[1],pathIndex:F})});let O=it(100).minus(T).toNumber();const Y=I.sort((q,F)=>Number(F.decimal)-Number(q.decimal));if(O)for(let q=0;q<Y.length&&O;q++)Y[q].value=it(Y[q].value).plus(.1).toString(),O=it(O).minus(.1).toNumber();return console.log("ðŸš€ðŸš€ðŸš€ ~ file: router-modal.vue:182 ~ routerList ~ sortByDecimalPart:",Y),Object.fromEntries(Y.map(q=>[q.pathIndex,q]))}),E=ze(()=>{var I;return((I=c==null?void 0:c.value)==null?void 0:I.length)===1}),B=ze(()=>{var T;const I={};return(T=c==null?void 0:c.value)==null||T.forEach(O=>{var Y;(Y=O==null?void 0:O.path)==null||Y.forEach($=>{var H,q,F;I[$==null?void 0:$.provider]=(F=(q=l==null?void 0:l.value)==null?void 0:q[(H=$==null?void 0:$.provider)==null?void 0:H.toUpperCase()])==null?void 0:F.logo})}),Object.values(I)}),C=ze(()=>{var I,T,O,Y,$,H,q,F,R,J,D,ee,w;if(((T=(I=e==null?void 0:e.suiPreSwapdata)==null?void 0:I.routes)==null?void 0:T.length)===1)if(((H=($=(Y=(O=e==null?void 0:e.suiPreSwapdata)==null?void 0:O.routes)==null?void 0:Y[0])==null?void 0:$.path)==null?void 0:H.length)>1){const r=[(q=e==null?void 0:e.fromCoin)==null?void 0:q.symbol];return(D=(J=(R=(F=e==null?void 0:e.suiPreSwapdata)==null?void 0:F.routes)==null?void 0:R[0])==null?void 0:J.path)==null||D.forEach((u,d)=>{var M,y;r.push((y=(M=i==null?void 0:i.value)==null?void 0:M[u==null?void 0:u.target])==null?void 0:y.symbol)}),r==null?void 0:r.join(" > ")}else return`${(ee=e==null?void 0:e.fromCoin)==null?void 0:ee.symbol} > ${(w=e==null?void 0:e.toCoin)==null?void 0:w.symbol}`;return""}),j=ze(()=>{var I;return(I=c==null?void 0:c.value)==null?void 0:I.length});return{fromCoinImg:_,toCoinImg:b,routerList:c,proportionObj:S,isSingleRoute:E,onlyOneRouteText:C,routeNum:j,providerList:B,addCommom:Mr,addressAbridge:Ai,routerTokenMap:g}}});const Hr=e=>(wn("data-v-eed0a95c"),e=e(),Mn(),e),Ku=Hr(()=>U("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[U("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Gu={class:"swap-router-modal-content"},Xu={class:"simple-path"},Ju={key:0},Qu={key:1},ec={class:"provider-img-list"},tc=Hr(()=>U("div",null,null,-1)),nc={class:"top"},rc={class:"from-token"},ic={class:"num"},oc={class:"symbol"},sc={class:"to-token"},ac={class:"num"},lc={class:"symbol"},uc={class:"from-coin-img"},cc={class:"to-coin-img"},hc={class:"router-box"},fc={class:"proportion"},dc={class:"pools"},gc={class:"coin-pair"},pc={class:"name"},vc={key:0,class:"fee"},mc={key:1,class:"pool-detail-box"},wc={class:"pool-info"},Mc=Hr(()=>U("div",{class:"title"},"Pool Address",-1)),yc={class:"right"},Ac={class:"pool-address"},_c={class:"coin-info"},bc={class:"symbol-and-name"},Cc={class:"symbol"},Sc={class:"name"},Ic={class:"right"},Tc={class:"coin-info"},Ec={class:"symbol-and-name"},Oc={class:"symbol"},kc={class:"name"},Bc={class:"right"};function Nc(e,t,n,i,o,l){const a=rn("CoinImg"),c=rn("CopyBtn"),g=rn("ExplorerLink"),v=rn("Modal");return ge(),St(v,{class:"swap-route-modal",title:"Route",width:"880px",visible:!0,footer:null,onCancel:t[0]||(t[0]=A=>e.$emit("onClose"))},{closeIcon:Pt(()=>[Ku]),default:Pt(()=>{var A,_,b,S,E,B;return[U("div",Gu,[U("div",Xu,[e.routeNum===1?(ge(),xe("span",Ju,be(e.onlyOneRouteText),1)):(ge(),xe("span",Qu,be(e.routeNum)+" Steams",1)),U("div",ec,[(ge(!0),xe(Tn,null,En(e.providerList,C=>(ge(),St(a,{key:C,url:C},null,8,["url"]))),128))]),tc]),U("div",nc,[U("div",rc,[Ve(a,{url:(A=e.fromCoin)==null?void 0:A.logo_url},null,8,["url"]),U("span",ic,be(("addCommom"in e?e.addCommom:un(Mr))(e.fromCoinAmount)),1),U("span",oc,be((_=e.fromCoin)==null?void 0:_.symbol),1)]),U("div",sc,[U("span",ac,be(("addCommom"in e?e.addCommom:un(Mr))(e.toCoinAmount)),1),U("span",lc,be((b=e.toCoin)==null?void 0:b.symbol),1),Ve(a,{url:(S=e.toCoin)==null?void 0:S.logo_url},null,8,["url"])])]),U("div",{class:So(e.isSingleRoute?"router-content is-single":"router-content")},[U("div",uc,[Ve(a,{url:(E=e.fromCoin)==null?void 0:E.logo_url},null,8,["url"])]),U("div",cc,[Ve(a,{url:(B=e.toCoin)==null?void 0:B.logo_url},null,8,["url"])]),U("div",hc,[(ge(!0),xe(Tn,null,En(e.routerList,(C,j)=>{var I,T;return ge(),xe("div",{key:`route-${j}`,class:"router"},[U("div",fc,be((T=(I=e.proportionObj)==null?void 0:I[j])==null?void 0:T.value)+"%",1),U("div",dc,[(ge(!0),xe(Tn,null,En(C.path,(O,Y)=>{var $,H,q,F,R,J,D,ee,w,r,u,d;return ge(),xe("div",{key:`route-pool-${Y}`,class:"pool-item"},[U("div",gc,[Ve(a,{url:e.routerTokenMap&&(($=e.routerTokenMap[O.from])==null?void 0:$.coinImg)},null,8,["url"]),Ve(a,{url:e.routerTokenMap&&((H=e.routerTokenMap[O.to])==null?void 0:H.coinImg)},null,8,["url"])]),U("span",pc,be(O==null?void 0:O.provider),1),O!=null&&O.displayFeeOrVersion?(ge(),xe("span",vc,be(O==null?void 0:O.displayFeeOrVersion),1)):Ut("",!0),e.routerTokenMap&&e.routerTokenMap[O.from]&&e.routerTokenMap&&e.routerTokenMap[O.to]?(ge(),xe("div",mc,[U("div",wc,[Mc,U("div",yc,[U("span",Ac,be(("addressAbridge"in e?e.addressAbridge:un(Ai))(O==null?void 0:O.poolAddress)),1),Ve(c,{text:O==null?void 0:O.poolAddress},null,8,["text"]),Ve(g,{type:"poolAddress",value:O==null?void 0:O.poolAddress},null,8,["value"])])]),U("div",_c,[Ve(a,{url:e.routerTokenMap&&((q=e.routerTokenMap[O.from])==null?void 0:q.coinImg)},null,8,["url"]),U("div",bc,[U("div",Cc,be(e.routerTokenMap&&((F=e.routerTokenMap[O.from])==null?void 0:F.symbol)),1),U("div",Sc,be(e.routerTokenMap&&((R=e.routerTokenMap[O.from])==null?void 0:R.name)),1)]),U("div",Ic,[Ve(c,{text:e.routerTokenMap&&((J=e.routerTokenMap[O.from])==null?void 0:J.address)},null,8,["text"]),Ve(g,{type:"coin",value:e.routerTokenMap&&((D=e.routerTokenMap[O.from])==null?void 0:D.address)},null,8,["value"])])]),U("div",Tc,[Ve(a,{url:e.routerTokenMap&&((ee=e.routerTokenMap[O.to])==null?void 0:ee.coinImg)},null,8,["url"]),U("div",Ec,[U("div",Oc,be(e.routerTokenMap&&((w=e.routerTokenMap[O.to])==null?void 0:w.symbol)),1),U("div",kc,be(e.routerTokenMap&&((r=e.routerTokenMap[O.to])==null?void 0:r.name)),1)]),U("div",Bc,[Ve(c,{text:e.routerTokenMap&&((u=e.routerTokenMap[O.to])==null?void 0:u.address)},null,8,["text"]),Ve(g,{type:"coin",value:e.routerTokenMap&&((d=e.routerTokenMap[O.to])==null?void 0:d.address)},null,8,["value"])])])])):Ut("",!0)])}),128))])])}),128))])],2)])]}),_:1})}const xc=mn(xu,[["render",Nc],["__scopeId","data-v-eed0a95c"]]);var Yr={};(function e(t,n,i,o){var l=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!t.OffscreenCanvas)return!1;var f=new OffscreenCanvas(1,1),h=f.getContext("2d");h.fillRect(0,0,1,1);var p=f.transferToImageBitmap();try{h.createPattern(p,"no-repeat")}catch{return!1}return!0}();function g(){}function v(f){var h=n.exports.Promise,p=h!==void 0?h:t.Promise;return typeof p=="function"?new p(f):(f(g,g),null)}var A=function(f,h){return{transform:function(p){if(f)return p;if(h.has(p))return h.get(p);var s=new OffscreenCanvas(p.width,p.height),m=s.getContext("2d");return m.drawImage(p,0,0),h.set(p,s),s},clear:function(){h.clear()}}}(c,new Map),_=function(){var f=Math.floor(16.666666666666668),h,p,s={},m=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(h=function(L){var P=Math.random();return s[P]=requestAnimationFrame(function N(Z){m===Z||m+f-1<Z?(m=Z,delete s[P],L()):s[P]=requestAnimationFrame(N)}),P},p=function(L){s[L]&&cancelAnimationFrame(s[L])}):(h=function(L){return setTimeout(L,f)},p=function(L){return clearTimeout(L)}),{frame:h,cancel:p}}(),b=function(){var f,h,p={};function s(m){function L(P,N){m.postMessage({options:P||{},callback:N})}m.init=function(N){var Z=N.transferControlToOffscreen();m.postMessage({canvas:Z},[Z])},m.fire=function(N,Z,z){if(h)return L(N,null),h;var K=Math.random().toString(36).slice(2);return h=v(function(le){function G(te){te.data.callback===K&&(delete p[K],m.removeEventListener("message",G),h=null,A.clear(),z(),le())}m.addEventListener("message",G),L(N,K),p[K]=G.bind(null,{data:{callback:K}})}),h},m.reset=function(){m.postMessage({reset:!0});for(var N in p)p[N](),delete p[N]}}return function(){if(f)return f;if(!i&&l){var m=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{f=new Worker(URL.createObjectURL(new Blob([m])))}catch(L){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",L),null}s(f)}return f}}(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function E(f,h){return h?h(f):f}function B(f){return f!=null}function C(f,h,p){return E(f&&B(f[h])?f[h]:S[h],p)}function j(f){return f<0?0:Math.floor(f)}function I(f,h){return Math.floor(Math.random()*(h-f))+f}function T(f){return parseInt(f,16)}function O(f){return f.map(Y)}function Y(f){var h=String(f).replace(/[^0-9a-f]/gi,"");return h.length<6&&(h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]),{r:T(h.substring(0,2)),g:T(h.substring(2,4)),b:T(h.substring(4,6))}}function $(f){var h=C(f,"origin",Object);return h.x=C(h,"x",Number),h.y=C(h,"y",Number),h}function H(f){f.width=document.documentElement.clientWidth,f.height=document.documentElement.clientHeight}function q(f){var h=f.getBoundingClientRect();f.width=h.width,f.height=h.height}function F(f){var h=document.createElement("canvas");return h.style.position="fixed",h.style.top="0px",h.style.left="0px",h.style.pointerEvents="none",h.style.zIndex=f,h}function R(f,h,p,s,m,L,P,N,Z){f.save(),f.translate(h,p),f.rotate(L),f.scale(s,m),f.arc(0,0,1,P,N,Z),f.restore()}function J(f){var h=f.angle*(Math.PI/180),p=f.spread*(Math.PI/180);return{x:f.x,y:f.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:f.startVelocity*.5+Math.random()*f.startVelocity,angle2D:-h+(.5*p-Math.random()*p),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:f.color,shape:f.shape,tick:0,totalTicks:f.ticks,decay:f.decay,drift:f.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:f.gravity*3,ovalScalar:.6,scalar:f.scalar,flat:f.flat}}function D(f,h){h.x+=Math.cos(h.angle2D)*h.velocity+h.drift,h.y+=Math.sin(h.angle2D)*h.velocity+h.gravity,h.velocity*=h.decay,h.flat?(h.wobble=0,h.wobbleX=h.x+10*h.scalar,h.wobbleY=h.y+10*h.scalar,h.tiltSin=0,h.tiltCos=0,h.random=1):(h.wobble+=h.wobbleSpeed,h.wobbleX=h.x+10*h.scalar*Math.cos(h.wobble),h.wobbleY=h.y+10*h.scalar*Math.sin(h.wobble),h.tiltAngle+=.1,h.tiltSin=Math.sin(h.tiltAngle),h.tiltCos=Math.cos(h.tiltAngle),h.random=Math.random()+2);var p=h.tick++/h.totalTicks,s=h.x+h.random*h.tiltCos,m=h.y+h.random*h.tiltSin,L=h.wobbleX+h.random*h.tiltCos,P=h.wobbleY+h.random*h.tiltSin;if(f.fillStyle="rgba("+h.color.r+", "+h.color.g+", "+h.color.b+", "+(1-p)+")",f.beginPath(),a&&h.shape.type==="path"&&typeof h.shape.path=="string"&&Array.isArray(h.shape.matrix))f.fill(d(h.shape.path,h.shape.matrix,h.x,h.y,Math.abs(L-s)*.1,Math.abs(P-m)*.1,Math.PI/10*h.wobble));else if(h.shape.type==="bitmap"){var N=Math.PI/10*h.wobble,Z=Math.abs(L-s)*.1,z=Math.abs(P-m)*.1,K=h.shape.bitmap.width*h.scalar,le=h.shape.bitmap.height*h.scalar,G=new DOMMatrix([Math.cos(N)*Z,Math.sin(N)*Z,-Math.sin(N)*z,Math.cos(N)*z,h.x,h.y]);G.multiplySelf(new DOMMatrix(h.shape.matrix));var te=f.createPattern(A.transform(h.shape.bitmap),"no-repeat");te.setTransform(G),f.globalAlpha=1-p,f.fillStyle=te,f.fillRect(h.x-K/2,h.y-le/2,K,le),f.globalAlpha=1}else if(h.shape==="circle")f.ellipse?f.ellipse(h.x,h.y,Math.abs(L-s)*h.ovalScalar,Math.abs(P-m)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI):R(f,h.x,h.y,Math.abs(L-s)*h.ovalScalar,Math.abs(P-m)*h.ovalScalar,Math.PI/10*h.wobble,0,2*Math.PI);else if(h.shape==="star")for(var ne=Math.PI/2*3,re=4*h.scalar,ie=8*h.scalar,Ke=h.x,se=h.y,ue=5,Qe=Math.PI/ue;ue--;)Ke=h.x+Math.cos(ne)*ie,se=h.y+Math.sin(ne)*ie,f.lineTo(Ke,se),ne+=Qe,Ke=h.x+Math.cos(ne)*re,se=h.y+Math.sin(ne)*re,f.lineTo(Ke,se),ne+=Qe;else f.moveTo(Math.floor(h.x),Math.floor(h.y)),f.lineTo(Math.floor(h.wobbleX),Math.floor(m)),f.lineTo(Math.floor(L),Math.floor(P)),f.lineTo(Math.floor(s),Math.floor(h.wobbleY));return f.closePath(),f.fill(),h.tick<h.totalTicks}function ee(f,h,p,s,m){var L=h.slice(),P=f.getContext("2d"),N,Z,z=v(function(K){function le(){N=Z=null,P.clearRect(0,0,s.width,s.height),A.clear(),m(),K()}function G(){i&&!(s.width===o.width&&s.height===o.height)&&(s.width=f.width=o.width,s.height=f.height=o.height),!s.width&&!s.height&&(p(f),s.width=f.width,s.height=f.height),P.clearRect(0,0,s.width,s.height),L=L.filter(function(te){return D(P,te)}),L.length?N=_.frame(G):le()}N=_.frame(G),Z=le});return{addFettis:function(K){return L=L.concat(K),z},canvas:f,promise:z,reset:function(){N&&_.cancel(N),Z&&Z()}}}function w(f,h){var p=!f,s=!!C(h||{},"resize"),m=!1,L=C(h,"disableForReducedMotion",Boolean),P=l&&!!C(h||{},"useWorker"),N=P?b():null,Z=p?H:q,z=f&&N?!!f.__confetti_initialized:!1,K=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,le;function G(ne,re,ie){for(var Ke=C(ne,"particleCount",j),se=C(ne,"angle",Number),ue=C(ne,"spread",Number),Qe=C(ne,"startVelocity",Number),pe=C(ne,"decay",Number),ve=C(ne,"gravity",Number),Nt=C(ne,"drift",Number),fe=C(ne,"colors",O),me=C(ne,"ticks",Number),wt=C(ne,"shapes"),we=C(ne,"scalar"),Me=!!C(ne,"flat"),at=$(ne),ae=Ke,Q=[],oe=f.width*at.x,ce=f.height*at.y;ae--;)Q.push(J({x:oe,y:ce,angle:se,spread:ue,startVelocity:Qe,color:fe[ae%fe.length],shape:wt[I(0,wt.length)],ticks:me,decay:pe,gravity:ve,drift:Nt,scalar:we,flat:Me}));return le?le.addFettis(Q):(le=ee(f,Q,Z,re,ie),le.promise)}function te(ne){var re=L||C(ne,"disableForReducedMotion",Boolean),ie=C(ne,"zIndex",Number);if(re&&K)return v(function(Qe){Qe()});p&&le?f=le.canvas:p&&!f&&(f=F(ie),document.body.appendChild(f)),s&&!z&&Z(f);var Ke={width:f.width,height:f.height};N&&!z&&N.init(f),z=!0,N&&(f.__confetti_initialized=!0);function se(){if(N){var Qe={getBoundingClientRect:function(){if(!p)return f.getBoundingClientRect()}};Z(Qe),N.postMessage({resize:{width:Qe.width,height:Qe.height}});return}Ke.width=Ke.height=null}function ue(){le=null,s&&(m=!1,t.removeEventListener("resize",se)),p&&f&&(document.body.contains(f)&&document.body.removeChild(f),f=null,z=!1)}return s&&!m&&(m=!0,t.addEventListener("resize",se,!1)),N?N.fire(ne,Ke,ue):G(ne,Ke,ue)}return te.reset=function(){N&&N.reset(),le&&le.reset()},te}var r;function u(){return r||(r=w(null,{useWorker:!0,resize:!0})),r}function d(f,h,p,s,m,L,P){var N=new Path2D(f),Z=new Path2D;Z.addPath(N,new DOMMatrix(h));var z=new Path2D;return z.addPath(Z,new DOMMatrix([Math.cos(P)*m,Math.sin(P)*m,-Math.sin(P)*L,Math.cos(P)*L,p,s])),z}function M(f){if(!a)throw new Error("path confetti are not supported in this browser");var h,p;typeof f=="string"?h=f:(h=f.path,p=f.matrix);var s=new Path2D(h),m=document.createElement("canvas"),L=m.getContext("2d");if(!p){for(var P=1e3,N=P,Z=P,z=0,K=0,le,G,te=0;te<P;te+=2)for(var ne=0;ne<P;ne+=2)L.isPointInPath(s,te,ne,"nonzero")&&(N=Math.min(N,te),Z=Math.min(Z,ne),z=Math.max(z,te),K=Math.max(K,ne));le=z-N,G=K-Z;var re=10,ie=Math.min(re/le,re/G);p=[ie,0,0,ie,-Math.round(le/2+N)*ie,-Math.round(G/2+Z)*ie]}return{type:"path",path:h,matrix:p}}function y(f){var h,p=1,s="#000000",m='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof f=="string"?h=f:(h=f.text,p="scalar"in f?f.scalar:p,m="fontFamily"in f?f.fontFamily:m,s="color"in f?f.color:s);var L=10*p,P=""+L+"px "+m,N=new OffscreenCanvas(L,L),Z=N.getContext("2d");Z.font=P;var z=Z.measureText(h),K=Math.ceil(z.actualBoundingBoxRight+z.actualBoundingBoxLeft),le=Math.ceil(z.actualBoundingBoxAscent+z.actualBoundingBoxDescent),G=2,te=z.actualBoundingBoxLeft+G,ne=z.actualBoundingBoxAscent+G;K+=G+G,le+=G+G,N=new OffscreenCanvas(K,le),Z=N.getContext("2d"),Z.font=P,Z.fillStyle=s,Z.fillText(h,te,ne);var re=1/p;return{type:"bitmap",bitmap:N.transferToImageBitmap(),matrix:[re,0,0,re,-K*re/2,-le*re/2]}}n.exports=function(){return u().apply(this,arguments)},n.exports.reset=function(){u().reset()},n.exports.create=w,n.exports.shapeFromPath=M,n.exports.shapeFromText=y})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Yr,!1);const Kc=Yr.exports;Yr.exports.create;const Gc=""+globalThis.__publicAssetsURL("sui-image/limit-beta.png");export{Yc as A,qc as C,xc as R,Gc as _,Wc as a,Vc as b,Kc as c,zc as d,$c as e,Hc as f,Zc as g,au as u};
