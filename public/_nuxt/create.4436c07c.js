import{_ as dt}from"./back.a58e0136.js";import{_ as mt}from"./upgrade-creat-pool-lock.c5806bd7.js";import{i as Ee}from"./import-icon.de3e6c66.js";import{a as Je,m as R,r as k,L as Qe,z as it,A as ve,a1 as pt,a2 as He,e as Ze,l as Te,o as I,f as Y,i as Z,G as x,h as a,y as qe,x as Ae,c as je,w as at,B as ft,j as Ge,p as lo,k as no,b as so,q as gt,s as ut,D as lt,F as rt,E as kt,u as Ct,K as bt,Y as ht}from"./entry.72cf903d.js";/* empty css              *//* empty css              */import{u as xe,a as io,b as uo}from"./index.8e642dee.js";import{_ as _t,a as St,s as Tt}from"./poolFee.1c5b9490.js";import{S as yt,a as wt,b as Pt,R as At,c as Nt}from"./sui-liquidity-price.7128b941.js";import{u as $t,b as Ke,c as Rt}from"./index.79763a93.js";import{a as Be,c as Ye,p as nt,b as qt,g as Lt,d as It,y as st}from"./common.f2e8d2dc.js";import"./decimal.a2826370.js";import{amountLock as Ve,fromCoinAmount as v,toCoinAmount as d,fromCoin as s,toCoin as i,showFromCoinLock as Ce,showToCoinLock as be,fixedFromCoin as te,createPoolInfo as m,minPrice as N,maxPrice as _,currentPriceReverse as ao,currentPrice as Pe,initPrice as Ie,direction as T,createPoolFromCoin as he,createPoolToCoin as Se,isFullRange as we,feeValue as de,resetData as Bt,defaultMinPrice as oo,defaultMaxPrice as to}from"./create-pool-data.a397405b.js";import{T as Ft}from"./token-input-block.ee198001.js";import{D as j}from"./decimal.765d8738.js";import{_ as Mt}from"./lock.35e1d915.js";import{I as Ot}from"./icon-tooltip.e455d857.js";import{_ as Ut}from"./coin-select.7cc365be.js";import{_ as Dt}from"./token-warning-modal.e22f495e.js";import{T as Vt}from"./token-dropdown-select.4a322d60.js";import{u as jt}from"./useDebounceFunction.0e5faf7f.js";import"./img-lock_2x.a28135f4.js";import"./icon-slippage.a6e2fb86.js";import"./swap-setting.e812499a.js";import"./icon-error_2x.b9202f01.js";/* empty css              */import"./icon-refresh.a8027928.js";import"./coin-img-warning.5c0e1401.js";import"./token.cb4c21f7.js";import"./coin-img.b1791ff9.js";import"./deposit-ratio.97c42fb4.js";import"./notifi.cef0fbef.js";import"./useWhale.efe2daab.js";import"./sui-status-block.5e44437c.js";import"./index.5fe47a1e.js";/* empty css              */import"./token-warning_2x.1105a74c.js";import"./img-no-Positions_2x.275d720c.js";import"./img-no-Positions_2x.0b3590b5.js";import"./check-box.095f2b9f.js";const Wt=Je({components:{NewLiquidityTile:yt,SuiLiquidityDepositRatio:wt,TokenInputBlock:Ft,SuiAddOrCreate:Pt},setup(e,n){const W=$t(),E=xe(),B=R(()=>E),U=R(()=>B.value.chainName),u=R(()=>W),C=k(!1);k(),k(),k(),k(!1);const y=Qe(),{t:q,locale:S}=it(),c=R(()=>U.value?uo(U.value):{}),h=io(),F=R(()=>h),me=R(()=>B.value.theme),ne=R(()=>u.value.assets&&s.value&&u.value.assets[s.value.address]?nt(u.value.assets[s.value.address].balance,s.value.decimals):"0"),se=R(()=>u.value.assets&&i.value&&u.value.assets[i.value.address]?nt(u.value.assets[i.value.address].balance,i.value.decimals):"0");ve(()=>[F.value.tokensObj,y.query],async([o])=>{if(o){const b=o;if(y&&y.query&&y.query.fromCoin&&y.query.fromCoin){const $=b[y.query.fromCoin]||await c.value.getTokenBySymbol(b,y.query.fromCoin);s.value=$,he.value=$}if(y&&y.query&&y.query.toCoin&&y.query.toCoin){const $=b[y.query.toCoin]||await c.value.getTokenBySymbol(b,y.query.toCoin);i.value=$,Se.value=$}}},{immediate:!0,deep:!0});const D=k("--"),p=R(()=>B.value.slippage),ee=k(),pe=async()=>{if(!N.value&&!_.value)return!1;if(!v.value&&!d.value&&!N.value&&!_.value)return;const o=m.value||{};if(Ye(o))return;const{TickUtil:b,TickMath:$,getNearestTickByTick:Q}=c.value,V=o==null?void 0:o.token_a.decimals,oe=o==null?void 0:o.token_b.decimals;let z,H,X,G,O,A,K=o.current_tick_index,ke;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===i.value.address.toLowerCase()?ke=!0:ke=!1,N.value==="0"&&_.value==="âˆž")X=b.getMinIndex(Number(o.tickSpacing)),G=b.getMaxIndex(Number(o.tickSpacing));else{ke?(z=Number(N.value),H=Number(_.value)):(z=new j(1).div(_.value).toString(),H=new j(1).div(N.value).toString());try{O=z==0?-443636:$.priceToTickIndex(new j(z),V,oe)}catch{O=-443636}try{A=$.priceToTickIndex(new j(H),V,oe)}catch{A=443636}X=Q(O,Number(o.tickSpacing)),G=Q(A,Number(o.tickSpacing))}if(_.value!=="âˆž"&&X>=G){Ce.value=!0,v.value="",be.value=!0,d.value="";return}if(K==G||K==X){Ce.value=!0,be.value=!0;return}if(_.value==="âˆž"||K>=X&&K<=G){Ce.value=!1,be.value=!1;let ae;if(v.value||d.value){if(te.value){const We=new j(v.value).mul(Math.pow(10,s.value.decimals)).toString();ae=new Ke(We)}else{const We=new j(d.value).mul(Math.pow(10,i.value.decimals)).toString();ae=new Ke(We)}const{liquidityAmount:le,tokenMaxA:re,tokenMaxB:ce,tokenMaxAOrigin:$e,tokenMaxBOrigin:De}=c.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:X,upperTick:G,coinAmount:ae,iscoinA:ke?te.value:!te.value,roundUp:!0,slippage:Number(p.value)/100,curSqrtPrice:new Ke(o.current_sqrt_price)});ee.value={liquidityAmount:le,tokenMaxA:re,tokenMaxB:ce,tokenMaxAOrigin:$e,tokenMaxBOrigin:De},ke?te.value?d.value=Number(ce)>0?ce:"":v.value=Number(re)>0?re:"":te.value?d.value=re:v.value=ce}}else K>G?(Ce.value=!0,be.value=!0):K<X?(Ce.value=!0,be.value=!0):(Ce.value=!0,v.value="",be.value=!0,d.value="")};ve(()=>Ie.value,o=>{o&&pe()},{immediate:!0}),ve(v,(o,b)=>{o==""&&te.value&&(d.value=""),o&&te.value&&!C.value&&pe()}),ve(d,(o,b)=>{o==""&&!te.value&&(v.value=""),o&&!te.value&&!C.value&&pe()}),ve(()=>we.value,o=>{pe()},{immediate:!0});const Le=o=>{const b=o.replace(/[^\d.]/g,""),$="$"+Be(b);C.value=!0,D.value=$,o>0?w():(v.value="",d.value="")};ve([N,_],([o,b])=>{Number(o)!==0&&Number(b)!==0&&!C.value?pe():Number(o)!==0&&Number(b)!==0&&C.value?w():pe()},{immediate:!0}),ve(()=>{var o;return(o=m)==null?void 0:o.value},o=>{pe()},{deep:!0});const Fe=()=>{const o=r.value&&r.value[s.value.address]&&r.value[s.value.address].price,b=r.value&&r.value[i.value.address]&&r.value[i.value.address].price;if(o&&b){const $=new j(v.value>0?v.value:0).mul(o),Q=new j(d.value>0?d.value:0).mul(b),V=$.add(Q).toNumber();D.value=V>0&&V<.01?"<$0.01":"$"+Be(V,2)}else D.value="--"};ve(()=>[v.value,d.value,C.value],([o,b,$])=>{(o||b)&&!$?Fe():(!o||!b)&&!$&&(D.value="--")},{immediate:!0});const r=R(()=>F.value.RATES),l=k(),w=async()=>{if(!N.value&&!_.value)return!1;if(!v.value&&!d.value&&!N.value&&!_.value)return;const o=m.value||{};if(Ye(o))return;const{TickUtil:b,TickMath:$,getNearestTickByTick:Q}=c.value,V=o==null?void 0:o.token_a.decimals,oe=o==null?void 0:o.token_b.decimals;let z,H,X,G,O,A,K;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===i.value.address.toLowerCase()?K=!0:K=!1,N.value==="0"&&_.value==="âˆž")X=b.getMinIndex(Number(o.tickSpacing)),G=b.getMaxIndex(Number(o.tickSpacing));else{K?(z=Number(N.value),H=Number(_.value)):(z=new j(1).div(_.value).toString(),H=new j(1).div(N.value).toString());try{O=z==0?-443636:$.priceToTickIndex(new j(z),V,oe)}catch{O=-443636}try{A=$.priceToTickIndex(new j(H),V,oe)}catch{A=443636}X=Q(O,Number(o.tickSpacing)),G=Q(A,Number(o.tickSpacing))}const ke=r.value[o==null?void 0:o.token_a.address].price,ae=r.value[o==null?void 0:o.token_b.address].price;try{const{amountA:le,amountB:re,tokenAmountsInfo:ce}=await c.value.estCoinAmountsFromTotalAmount({lowerTick:X,upperTick:G,decimalsA:V,decimalsB:oe,curSqrtPrice:new Ke(o.current_sqrt_price),totalAmount:D.value,tokenPriceA:ke,tokenPriceB:ae});l.value=ce,o.needReverse?T.value?(v.value=le,d.value=re):(v.value=re,d.value=le):(v.value=le,d.value=re)}catch(le){console.log(le,"e===>")}},fe=R(()=>{var $,Q,V,oe,z,H;const o=(V=r.value[(Q=($=s)==null?void 0:$.value)==null?void 0:Q.address])==null?void 0:V.price,b=(H=r.value[(z=(oe=i)==null?void 0:oe.value)==null?void 0:z.address])==null?void 0:H.price;return!!(o&&b)}),Ne=()=>{n.emit("toggle")},_e=k(!1),ye=R(()=>!s.value||!i.value?q("modal.selectTokenModalTitle"):!de.value&&Rt[U.value].hasCreatePool?"Select fee tier":!Number(v.value)&&!Number(d.value)?q("button.enterAmount"):Number(v.value)>Number(ne.value)?q("button.insufficientBalance",{name:s.value.symbol}):Number(d.value)>Number(se.value)?q("button.insufficientBalance",{name:i.value.symbol}):_.value!=="âˆž"&&Number(N.value)>=Number(_.value)?q("newAdd.invalidRange"):q("newAdd.preview")),Me=o=>{const b=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,2})?).*$");o.target.value=o.target.value.replace(b,"$1")},t=R(()=>{var o;return!!(!v.value&&!d.value||Number(v.value)>Number(ne.value)||Number(d.value)>Number(se.value)||ye.value!==q("newAdd.preview")||!m.value&&!((o=m.value)!=null&&o.currentPrice)||Number(v.value)<=0&&Number(d.value)<=0||Ce.value||be.value)}),{setTransactionTxid:f,setTransactionDesc:g,setIsShowWaiting:M,setIsShowSuccess:P,setIsShowRejected:L,setPositiomNum:ie}=E,ue=()=>{U.value=="Sui"&&Ue()},{$notify:Oe}=pt(),ge=k(!1),Ue=async()=>{var ke,ae,le,re,ce,$e,De,We,co,vo,mo,po,fo,go,ko,Co,bo,ho,_o,So,To,yo,wo,Po,Ao,No,$o,Ro,qo,Lo,Io,Bo,Fo,Mo,Oo,Uo,Do,Vo,jo,Wo,Eo,zo,Xo,Go,Ho,Ko,Yo,Jo,Qo,Zo,xo,et,ot,tt;_e.value=!1;let o=!1;c.value.getIsSortedSymbols(he.value.address,Se.value.address)&&(o=!0),f("");const b=Ce.value?"":`${v.value} ${(ke=s.value)==null?void 0:ke.symbol}`,$=be.value?"":`${d.value} ${(ae=i.value)==null?void 0:ae.symbol}`;g(q("tips.increaseLiquiditySuccess",{from:!o&&!((re=(le=m)==null?void 0:le.value)!=null&&re.needReverse)||o&&(($e=(ce=m)==null?void 0:ce.value)!=null&&$e.needReverse)?b:$,and:!Ce.value&&!be.value?"and":"",to:!o&&!((We=(De=m)==null?void 0:De.value)!=null&&We.needReverse)||o&&((vo=(co=m)==null?void 0:co.value)!=null&&vo.needReverse)?$:b})),M(!0);let Q="",V="",oe="",z="",H="",X="",G=0,O=0,A=!1,K;if(o||(po=(mo=m)==null?void 0:mo.value)!=null&&po.needReverse){const Re=o&&!((go=(fo=m)==null?void 0:fo.value)!=null&&go.needReverse);Q=Re?(So=(_o=(ho=m)==null?void 0:ho.value)==null?void 0:_o.token_b)==null?void 0:So.address:(bo=(Co=(ko=m)==null?void 0:ko.value)==null?void 0:Co.token_a)==null?void 0:bo.address,V=Re?(No=(Ao=(Po=m)==null?void 0:Po.value)==null?void 0:Ao.token_a)==null?void 0:No.address:(wo=(yo=(To=m)==null?void 0:To.value)==null?void 0:yo.token_b)==null?void 0:wo.address,oe=Re?(Bo=(Io=(Lo=m)==null?void 0:Lo.value)==null?void 0:Io.token_b)==null?void 0:Bo.decimals:(qo=(Ro=($o=m)==null?void 0:$o.value)==null?void 0:Ro.token_a)==null?void 0:qo.decimals,z=Re?(Vo=(Do=(Uo=m)==null?void 0:Uo.value)==null?void 0:Do.token_a)==null?void 0:Vo.decimals:(Oo=(Mo=(Fo=m)==null?void 0:Fo.value)==null?void 0:Mo.token_b)==null?void 0:Oo.decimals,(Wo=(jo=m)==null?void 0:jo.value)!=null&&Wo.needReverse?(H=T.value?v.value:d.value,X=T.value?d.value:v.value,G=T.value?Number(N.value):1/Number(_.value),O=T.value?Number(_.value):1/Number(N.value),A=T.value?te.value:!te.value,K=T.value?Pe.value:1/Number(Pe.value)):(H=T.value?d.value:v.value,X=T.value?v.value:d.value,G=T.value?1/Number(_.value):Number(N.value),O=T.value?1/Number(N.value):Number(_.value),A=T.value?!te.value:te.value,K=T.value?1/Number(Pe.value):Pe.value)}else Q=(Xo=(zo=(Eo=m)==null?void 0:Eo.value)==null?void 0:zo.token_a)==null?void 0:Xo.address,V=(Ko=(Ho=(Go=m)==null?void 0:Go.value)==null?void 0:Ho.token_b)==null?void 0:Ko.address,oe=(Qo=(Jo=(Yo=m)==null?void 0:Yo.value)==null?void 0:Jo.token_a)==null?void 0:Qo.decimals,z=(et=(xo=(Zo=m)==null?void 0:Zo.value)==null?void 0:xo.token_b)==null?void 0:et.decimals,H=T.value?v.value:d.value,X=T.value?d.value:v.value,G=T.value?Number(N.value):1/Number(_.value),O=T.value?Number(_.value):1/Number(N.value),A=T.value?te.value:!te.value,K=T.value?Pe.value:1/Number(Pe.value);try{console.log("0501###toCreatePool###params###",{coinTypeA:Q,coinTypeB:V,decimalsA:oe,decimalsB:z,amountA:H,amountB:X,minPrice:G,maxPrice:O,fix_amount_a:A,tick_spacing:Number(m.value.tickSpacing),slippage:Number(p.value)/100,price:K});const Re=await c.value.getCreatPoolTransactionPayload({coinTypeA:Q,coinTypeB:V,decimalsA:oe,decimalsB:z,amountA:H,amountB:X,minPrice:N.value=="0"&&_.value=="âˆž"?"0":G,maxPrice:N.value=="0"&&_.value=="âˆž"?"âˆž":O,fix_amount_a:A,tick_spacing:Number(m.value.tickSpacing),slippage:Number(p.value)/100,price:K}),vt=await c.value.signAndExecuteTransactionBlock(u.value.currentWallet,Re),Xe=c.value.handleTx(vt);if(Xe&&Xe.hash){f(Xe.hash),M(!1),P(!0);const eo={title:"Created pool",desc:"Pool created successfully ",hash:Xe.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(ot=s.value)==null?void 0:ot.address}`,numa:Ce.value?"":`- ${v.value}`,logoa:F.value.tokensObj&&s.value&&s.value.address&&F.value.tokensObj[s.value.address]&&F.value.tokensObj[s.value.address].logoURI,tokenb:`${(tt=i.value)==null?void 0:tt.address}`,numb:be.value?"":`- ${d.value}`,logob:F.value.tokensObj&&i.value&&i.value.address&&F.value.tokensObj[i.value.address]&&F.value.tokensObj[i.value.address].logoURI},text:"Pool created successfully"};U.value!=="Aptos"&&(eo.res=Xe.res),c.value.showTransitionPending(eo),(await c.value.watchTransaction(eo,!0)).status&&(P(!1),ge.value=!0,setTimeout(()=>{h.setPoolConfigList(U.value,B.value.filterCoinsObj),c.value.getAccount(u.value.address)},1e3)),ie()}else M(!1),L(!0);v.value="",d.value=""}catch(Re){console.log("0407###createPool###error##",String(Re)),String(Re).indexOf('Some("create_pool_internal") }, 1')>-1&&Oe.error({icon:He("svg",{class:{icon:!0},"aria-hidden":!0},[He("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:He("div",{class:"notification-title"},[He("span",{innerHTML:"Pool already exists"},null)]),duration:4.5,description:"Something went wrong",class:"ant-notification-copy ant-notification-error"}),_e.value=!1,h.setPoolConfigList(U.value,B.value.filterCoinsObj),v.value="",d.value="",M(!1),L(!0)}};return{isInputActive:k(!1),amountLock:Ve,wallet:u,inputChange:Me,fromCoinAmount:v,toCoinAmount:d,fromCoin:s,toCoin:i,showFromCoinLock:Ce,showToCoinLock:be,fromCoinBlance:ne,toCoinBlance:se,fixedFromCoin:te,isInputTotalAmount:C,toggle:Ne,theme:me,liquidityTotalAmount:D,createPoolInfo:m,minPrice:N,maxPrice:_,currentPriceReverse:ao,currentPrice:Pe,onInput:Le,initPrice:Ie,isShowtotalAmount:fe,direction:T,isShowLiquidityModal:_e,createPoolBtnText:ye,createPoolBtnDisabled:t,toCreatePool:ue,isCreateSuccess:ge}}});const ro=e=>(lo("data-v-908aafa7"),e=e(),no(),e),Et={class:"create-pool-right"},zt={key:0,class:"create-pool-lock"},Xt=ro(()=>a("img",{class:"lock",src:Mt,alt:""},null,-1)),Gt=[Xt],Ht=ro(()=>a("div",{class:"exchange-new"},[a("svg",{class:"icon icon-down","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_add1"})])],-1)),Kt=[Ht],Yt={key:1,class:"total-amount"},Jt=ro(()=>a("span",null,"Total Amount",-1));function Qt(e,n,W,E,B,U){const u=Te("NewLiquidityTile"),C=Te("TokenInputBlock"),y=Te("SuiLiquidityDepositRatio"),q=Te("SuiAddOrCreate"),S=ft,c=_t;return I(),Y("div",Et,[Z(u),e.amountLock||e.showFromCoinLock||e.showToCoinLock?(I(),Y("div",zt,Gt)):x("",!0),a("div",{class:qe(["card-container",e.isInputActive?e.fixedFromCoin?"input-block-add-top":"input-block-add-bottom":"input-block-add-top input-block-inactive"])},[Z(C,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[0]||(n[0]=h=>e.fromCoinAmount=h),"input-value":e.fromCoinAmount,"token-info":e.fromCoin||null,"has-arrow":!1,onOnInput:n[1]||(n[1]=h=>{e.isInputActive=!0,e.fromCoinAmount=h,e.fixedFromCoin=!0,e.isInputTotalAmount=!1}),onOnFocus:n[2]||(n[2]=()=>{e.isInputActive=!0,e.fixedFromCoin=!0}),onOnBlur:n[3]||(n[3]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),Z(C,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[4]||(n[4]=h=>e.toCoinAmount=h),"input-value":e.toCoinAmount,"token-info":e.toCoin||null,"has-arrow":!1,onOnInput:n[5]||(n[5]=h=>{e.isInputActive=!0,e.toCoinAmount=h,e.fixedFromCoin=!1,e.isInputTotalAmount=!1}),onOnFocus:n[6]||(n[6]=()=>{e.isInputActive=!0,e.fixedFromCoin=!1}),onOnBlur:n[7]||(n[7]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock?(I(),Y("div",{key:0,class:"new-sui-exchange to-add-logo",onClick:n[8]||(n[8]=(...h)=>e.toggle&&e.toggle(...h))},Kt)):x("",!0)],2),e.isShowtotalAmount?(I(),Y("div",Yt,[Jt,a("span",null,Ae(e.liquidityTotalAmount),1)])):x("",!0),e.initPrice?(I(),je(y,{key:2,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.custom,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"])):x("",!0),e.isShowLiquidityModal?(I(),je(q,{key:3,"pool-info":e.createPoolInfo,title:e.$t("newAdd.preview"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":"custom","min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,"is-create":!0,onCreatePool:e.toCreatePool,onOnClose:n[9]||(n[9]=h=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onCreatePool"])):x("",!0),e.wallet.connected?(I(),je(S,{key:5,class:"add-liquidity-btn",disabled:e.wallet.connected?e.createPoolBtnDisabled:!1,onClick:n[11]||(n[11]=h=>e.isShowLiquidityModal=!0)},{default:at(()=>[Ge(Ae(e.createPoolBtnText),1)]),_:1},8,["disabled"])):(I(),je(S,{key:4,class:"add-liquidity-btn",onClick:n[10]||(n[10]=h=>e.wallet.setIsShowWalletModal(!0))},{default:at(()=>[Ge(Ae(e.$t("button.connectWallet")),1)]),_:1})),e.isCreateSuccess?(I(),je(c,{key:6,onOnClose:n[12]||(n[12]=h=>e.isCreateSuccess=!1)})):x("",!0)])}const Zt=Ze(Wt,[["render",Qt],["__scopeId","data-v-908aafa7"]]),xt=Je({setup(){const{t:e,locale:n}=it(),W=so(),E=k(!1),B=io(),U=xe(),u=Qe(),C=k(null),y=k(u.query.poolAddress),q=k(""),S=R(()=>U),c=R(()=>U.theme),h=R(()=>B),F=R(()=>S.value.chainName),me=R(()=>F.value?uo(F.value):null),ne=R(()=>[{label:.01+"% "+e("common.feeTier"),title:.01+"% ",fee:1e-4,text:e("newAdd.bestVeryStablePairs")},{label:.05+"% "+e("common.feeTier"),title:.05+"% ",fee:5e-4,text:e("newAdd.bestStablePairs")},{label:.25+"% "+e("common.feeTier"),title:.25+"% ",fee:.0025,text:e("newAdd.bestMostPairs")},{label:"1% "+e("common.feeTier"),title:"1% ",fee:.01,text:e("newAdd.besteExoticPairs")}]),se=R(()=>{if(h.value.poolConfigList&&s.value&&i.value){const r=h.value.poolConfigList.filter(w=>{var fe,Ne,_e,ye;return w.token_a.address.toUpperCase()===((fe=s.value.address)==null?void 0:fe.toUpperCase())&&w.token_b.address.toUpperCase()===((Ne=i.value.address)==null?void 0:Ne.toUpperCase())||w.token_b.address.toUpperCase()===((_e=s.value.address)==null?void 0:_e.toUpperCase())&&w.token_a.address.toUpperCase()===((ye=i.value.address)==null?void 0:ye.toUpperCase())}),l=[];return r.forEach(w=>{l.push(Number(w.fee))}),l}else return[]}),D=R(()=>{var r;return(r=S.value)==null?void 0:r.filterCreatePoolCoin});gt(()=>{document.addEventListener("click",()=>{E.value=!1})}),ut(()=>{document.removeEventListener("click",()=>{E.value=!1})}),ve(()=>[W,h.value.tokensObj],async([r,l])=>{var w;r&&(((w=W==null?void 0:W.currentRoute)==null?void 0:w.value.name)=="liquidity-create"||u.query.action=="newposition")&&l&&(s.value||(s.value=h.value.tokensObj[u.query.fromCoin]||await me.value.getTokenBySymbol(l,u.query.fromCoin)),i.value||(i.value=h.value.tokensObj[u.query.toCoin]||await me.value.getTokenBySymbol(l,u.query.toCoin)),de.value=u.query.fee!=="null"&&u.query.fee?u.query.fee:"")},{immediate:!0,deep:!0});const p=()=>{var w,fe,Ne,_e,ye,Me,t,f,g,M,P,L;let r=null;const l=h.value.poolConfigList;for(let ie=0;ie<l.length;ie++){const ue=l[ie];if(ue.token_a.address.toUpperCase()===((Ne=(fe=(w=s)==null?void 0:w.value)==null?void 0:fe.address)==null?void 0:Ne.toUpperCase())&&ue.token_b.address.toUpperCase()===((Me=(ye=(_e=i)==null?void 0:_e.value)==null?void 0:ye.address)==null?void 0:Me.toUpperCase())||ue.token_b.address.toUpperCase()===((g=(f=(t=s)==null?void 0:t.value)==null?void 0:f.address)==null?void 0:g.toUpperCase())&&ue.token_a.address.toUpperCase()===((L=(P=(M=i)==null?void 0:M.value)==null?void 0:P.address)==null?void 0:L.toUpperCase())){r=ue;break}}return r},ee=r=>{var w;console.log("ðŸš€ ~ selectFee ~ item:",r);const l=p();if(l&&(he.value=l.needReverse?l==null?void 0:l.token_b:l==null?void 0:l.token_a,Se.value=l.needReverse?l==null?void 0:l.token_a:l==null?void 0:l.token_b,s.value=l.needReverse?l==null?void 0:l.token_b:l==null?void 0:l.token_a,i.value=l.needReverse?l==null?void 0:l.token_a:l==null?void 0:l.token_b,T.value=s.value.address===((w=l==null?void 0:l.token_a)==null?void 0:w.address)),!se.value.includes(r.fee))if(!D.value[s.value.address]&&!D.value[i.value.address]){console.log("ðŸš€ ~ selectFee ~ filterCreatePoolCoin:",D);return}else C.value=r,de.value=r.fee,console.log("ðŸš€ ~ selectFee ~ feeValue.value:",de.value),E.value=!1},pe=k("--");return{currentPriceReverse:k("--"),Decimal:j,chainName:F,currentPrice:pe,creatFeeItem:C,feeValue:de,isShowFeeList:E,filterCreatePoolCoin:D,route:u,selectFee:ee,isCreatePool:se,feeTierList:ne,currentToken:q,fromCoin:s,toCoin:i,getCoinIcon:r=>{var l,w;return(r==null?void 0:r.logoURI)||(r==null?void 0:r.logo_url)||((w=(l=h.value.tokensObj)==null?void 0:l[r==null?void 0:r.address])==null?void 0:w.logo_url)||(S.value.theme==="default"?Ee("/image/coins/unknown.png"):Ee("/image/coins/sui-unknown.png"))},currentPoolAddress:y,store:S,t:e,router:W,addCommom:Be,theme:c,pools:h,sFixD:qt}}});const ct=e=>(lo("data-v-ee750033"),e=e(),no(),e),ea={class:"fee-tier"},oa=ct(()=>a("svg",{class:"icon edit-fee-icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_arrow"})],-1)),ta={key:0,class:"fee-tier-box"},aa=["onClick"],la={key:0,class:"text-active"},na={key:1},sa={key:0,class:"icon fee-disabled","aria-hidden":"true"},ia=ct(()=>a("use",{"xlink:href":"#icon-icon-disable"},null,-1)),ua=[ia];function ra(e,n,W,E,B,U){return I(),Y("div",ea,[a("div",{class:qe(["fee-text",[{"fee-tier-action":e.fromCoin&&e.toCoin},{"no-cursor":!e.fromCoin||!e.toCoin}]]),onClick:n[0]||(n[0]=lt(u=>!e.fromCoin||!e.toCoin?"":e.isShowFeeList=!e.isShowFeeList,["stop"]))},[a("p",null,Ae(e.feeValue?e.feeValue*100:"--")+"%",1),oa],2),e.isShowFeeList?(I(),Y("div",ta,[(I(!0),Y(rt,null,kt(e.feeTierList,(u,C)=>{var y,q;return I(),Y("div",{key:C,class:qe(["fee-item",[e.feeValue==u.fee?"fee-item-active":"",e.isCreatePool.includes(u.fee)?" pool-created":" pool-not-created"]]),onClick:lt(S=>e.selectFee(u),["stop"])},[a("p",{class:qe(e.isCreatePool&&e.isCreatePool.includes(u.fee)?"text-active":"text-default")},Ae(u.title),3),a("div",null,[e.isCreatePool&&e.isCreatePool.includes(u.fee)?(I(),Y("p",la," Created ")):x("",!0),e.isCreatePool&&!e.isCreatePool.includes(u.fee)?(I(),Y("p",na,[Ge(Ae(e.$t("newAdd.notCreated"))+" ",1),!e.isCreatePool.includes(u.fee)&&!e.filterCreatePoolCoin[(y=e.fromCoin)==null?void 0:y.address]&&!e.filterCreatePoolCoin[(q=e.toCoin)==null?void 0:q.address]?(I(),Y("svg",sa,ua)):x("",!0)])):x("",!0),a("span",null,Ae(u.text),1)])],10,aa)}),128))])):x("",!0)])}const ca=Ze(xt,[["render",ra],["__scopeId","data-v-ee750033"]]),va=Je({components:{TokenDropdownSelect:Vt},setup(e,n){const W=xe(),E=R(()=>W),B=Qe(),U=k(!1),u=k("coinA"),C=k(!1),y=k(!1),q=so(),S=k(),c=k(),h=k(!1);let F=k(!0);const me=(p,ee)=>{var r,l,w,fe;console.log("ðŸš€ðŸš€ðŸš€ ~ file: liquidity.vue:919 ~ getTokenSource ~ token:",p);const pe=localStorage.getItem(p==null?void 0:p.address),Le=E.value.importTokenListObj,Fe=p==null?void 0:p.isSelfBuilt;(F.value?Fe&&!pe:Fe&&!(Le!=null&&Le.hasOwnProperty(p==null?void 0:p.address)))&&(ee=="fromCoin"&&(S.value=p),ee=="toCoin"&&(c.value=p),console.log("ðŸš€ðŸš€ðŸš€ ~ file: liquidity.vue:919 ~ getTokenSource ~ warningFromCoin.value:",S.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: liquidity.vue:922 ~ getTokenSource ~ warningToCoin.value:",c.value),((r=S==null?void 0:S.value)==null?void 0:r.address)==((l=c==null?void 0:c.value)==null?void 0:l.address)&&(c.value={}),((w=S==null?void 0:S.value)!=null&&w.address||(fe=c==null?void 0:c.value)!=null&&fe.address)&&(h.value=!0))};return ve(()=>[s.value,i.value],([p,ee])=>{F.value&&(p&&!Ye(p)&&me(p,"fromCoin"),ee&&!Ye(ee)&&me(ee,"toCoin"))},{immediate:!0}),{onCoinSelect:p=>{de.value="",F.value=!1,S.value={},c.value={},u.value=="coinA"?(s.value=p,me(p,"fromCoin"),(i.value&&i.value.address)==p.address&&(i.value=null)):(i.value=p,me(p,"toCoin"),(s.value&&s.value.address)==p.address&&(s.value=null))},selectToken:p=>{u.value=p,p=="coinA"&&(B.name=="liquidity-create"||!m.value)?(U.value=!0,C.value=!1):p=="coinB"&&(B.name=="liquidity-create"||!m.value)?(U.value=!1,C.value=!0):(p=="coinA"&&B.name=="liquidity-deposit"||p=="coinB"&&B.name=="liquidity-deposit")&&(U.value=!1,C.value=!1),y.value=!0},isCreatePoolFromCoin:U,isCreatePoolToCoin:C,showCoinSelect:y,firstWarning:F,closeTokenWarning:()=>{q.push("/pool/list")},fromCoin:s,toCoin:i,currentToken:u,warningFromCoin:S,warningToCoin:c}}});const da={class:"select-token-box"};function ma(e,n,W,E,B,U){const u=Te("TokenDropdownSelect"),C=Ut,y=Dt;return I(),Y(rt,null,[a("div",da,[Z(u,{"token-info":e.fromCoin,"has-opcity":!0,"coin-size":"32px","is-loading":!1,onOnSelect:n[0]||(n[0]=q=>e.selectToken("coinA"))},null,8,["token-info"]),Z(u,{"token-info":e.toCoin,"has-opcity":!0,"coin-size":"32px","is-loading":!1,onOnSelect:n[1]||(n[1]=q=>e.selectToken("coinB"))},null,8,["token-info"])]),e.showCoinSelect?(I(),je(C,{key:0,"existing-coins":e.currentToken=="coinA"?e.fromCoin&&e.fromCoin.address:e.toCoin&&e.toCoin.address,"last-select-coin":e.currentToken=="coinA"?e.fromCoin&&e.fromCoin.address:e.toCoin&&e.toCoin.address,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,"have-import-btn":!0,onOnSelect:e.onCoinSelect,onOnClose:n[2]||(n[2]=q=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):x("",!0),e.isShowTokenWarning?(I(),je(y,{key:1,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,"is-import-modal":!0,onClose:e.closeTokenWarning,onClickContinue:n[3]||(n[3]=()=>{e.isShowTokenWarning=!1,e.warningFromCoin="",e.warningToCoin=""})},null,8,["from-coin","to-coin","onClose"])):x("",!0)],64)}const pa=Ze(va,[["render",ma],["__scopeId","data-v-b798e496"]]),fa=Je({components:{CreatePoolRight:Zt,RectangleTab:At,IconTooltip:Ot,SuiLiquidityPrice:Nt,FeeTierBlock:ca,SelectTokenBlock:pa},setup(e,n){var Me;const W=k(!0),E=k(!0),B=k(!0),U=k(!0),u=k(!1),C=k("1"),y=k(!0),q=k(""),S=Qe(),c=so(),h=xe(),F=R(()=>h),me=io(),ne=R(()=>me),se=R(()=>F.value.chainName),D=R(()=>se.value?uo(se.value):{});ve(()=>[c,ne.value.tokensObj],async([t,f])=>{var g,M;((g=c==null?void 0:c.currentRoute)==null?void 0:g.value.name)=="liquidity-create"&&f&&(s.value=ne.value.tokensObj[S.query.fromCoin]||await D.value.getTokenBySymbol(f,S.query.fromCoin),i.value=ne.value.tokensObj[S.query.toCoin]||await D.value.getTokenBySymbol(f,S.query.toCoin),de.value=S.query.fee!=="null"&&S.query.fee?S.query.fee:""),((M=c==null?void 0:c.currentRoute)==null?void 0:M.value.name)=="liquidity-create"&&de.value&&(Ie.value="",v.value="",d.value="",we.value=!0)},{immediate:!0,deep:!0}),ve(()=>[s.value,i.value,Ie.value,de.value,N.value,_.value,v.value,d.value],([t,f,g,M,P,L,ie])=>{console.log("ðŸš€ ~ setup ~ fee:",t,f,g,M,P,L,ie),!t||!f?(C.value="1",W.value=!0,E.value=!0,B.value=!0,Ve.value=!0):M?g?!P||!L?(C.value="4",W.value=!1,E.value=!1,B.value=!1,Ve.value=!0):ie||(C.value="5",W.value=!1,E.value=!1,B.value=!1,Ve.value=!1):(C.value="3",W.value=!1,E.value=!1,B.value=!0,Ve.value=!0):(C.value="2",W.value=!1,E.value=!0,B.value=!0,Ve.value=!0)},{immediate:!0}),ve(()=>C.value,t=>{Number(t)<5&&(v.value="",d.value="")});const p=t=>{var f;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((f=ne.value.tokensObj[t==null?void 0:t.address])==null?void 0:f.logo_url)||(F.value.theme==="default"?Ee("/image/coins/unknown.png"):Ee("/image/coins/sui-unknown.png"))},ee=async t=>{var ue,Oe,ge,Ue,ze,o,b,$,Q,V,oe,z,H,X,G;console.log("#####emitCurrentPrice",(ue=he)==null?void 0:ue.value,t),t?(Ie.value=t,Pe.value=t,ao.value=new j(1).div(new j(t)).toString()):(Ie.value="",Pe.value="",ao.value="");let f,g;const M=ne.value.poolConfigList;for(let O=0;O<M.length;O++){const A=M[O];if(A.token_a.address.toUpperCase()===((Ue=(ge=(Oe=he)==null?void 0:Oe.value)==null?void 0:ge.address)==null?void 0:Ue.toUpperCase())&&A.token_b.address.toUpperCase()===((b=(o=(ze=Se)==null?void 0:ze.value)==null?void 0:o.address)==null?void 0:b.toUpperCase())){f=A.needReverse,g=A;break}else if(A.token_b.address.toUpperCase()===((V=(Q=($=he)==null?void 0:$.value)==null?void 0:Q.address)==null?void 0:V.toUpperCase())&&A.token_a.address.toUpperCase()===((H=(z=(oe=Se)==null?void 0:oe.value)==null?void 0:z.address)==null?void 0:H.toUpperCase())){f=A.needReverse,g=A;break}}let P=!1;await D.value.getIsSortedSymbols((X=he.value)==null?void 0:X.address,(G=Se.value)==null?void 0:G.address)&&(P=!0);let L;console.log(P,"###changeCurrentPrice createPoolNeedReverse 289"),console.log(T.value,"####changeCurrentPrice direction.value 290"),P&&!T.value?L=!0:P&&T.value||!P&&T.value?L=!1:L=!0,console.log(L,"###changeCurrentPrice newDirect 298");const ie=se.value=="Aptos"?St:Tt;if(s.value&&i.value&&t){const O=g?g==null?void 0:g.token_a.decimals:P?Se.value.decimals:he.value.decimals,A=g?g==null?void 0:g.token_b.decimals:P?he.value.decimals:Se.value.decimals,K=t&&D.value.TickMath.priceToSqrtPriceX64(L?new j(1/t):new j(t),O,A);console.log(K.toString(),"===>current_sqrt_price"),console.log(t&&t>0,"## emitCurrentPrice &&emitCurrentPrice>0");const ke=t&&t>0&&D.value.TickMath.priceToSqrtPriceX64(new j(1).div(t),s.value.decimals,i.value.decimals);console.log(!L,t,"===>!newDirect"),console.log(O,A,"decimalsA,decimalsB===>");const ae=t&&t>0&&D.value.TickMath.priceToTickIndex(L?new j(1).div(t):new j(t),O,A);console.log(ae,"==>currentTickIndex");const le=ae-ie[de.value]*5,re=ae+ie[de.value]*5,ce=D.value.TickMath.tickIndexToPrice(le,O,A).toString(),$e=D.value.TickMath.tickIndexToPrice(re,O,A).toString();we.value?(N.value="0",_.value="âˆž"):L?(N.value=String(1/$e),_.value=String(1/ce),oo.value=String(1/$e),to.value=String(1/ce)):(N.value=ce,_.value=$e,oo.value=ce,to.value=$e),console.log("0518###c####createPoolFromCoin.value####",he.value),console.log("0518###c####createPoolToCoin.value####",Se.value),console.log("0518###c####createPoolNeedReverse####",P);const De={token_a:g?g.token_a:P?Se.value:he.value,token_b:g?g.token_b:P?he.value:Se.value,isCreate:!0,tickSpacing:ie[de.value],currentPrice:t,current_sqrt_price:K,tick_lower:le,tick_upper:re,current_tick_index:ae,currentPriceReverse:Lt(String(1/t),6),reverse_current_sqrt_price:ke,needReverse:f,fee:de.value};m.value=De,console.log("0518###c####poolInfos####",De)}else m.value=null,N.value="",_.value=""},pe=()=>{we.value=!we.value,ee(m.value.currentPrice)},Le=t=>{console.log(t,"####0731 priceRangeChangeMin"),we.value?(we.value=!1,ee(m.value.currentPrice)):N.value=t},Fe=t=>{we.value?(we.value=!1,ee(m.value.currentPrice)):t=="0"?_.value="âˆž":_.value=t},r=()=>{var f,g;console.log(m.value,"==>createPoolInfo.value"),T.value=!T.value;const t=s.value;s.value=i.value,i.value=t,m.value&&(ee(It(new j(1).div(m.value.currentPrice).toString(),(g=(f=i)==null?void 0:f.value)==null?void 0:g.decimals)),te.value?v.value=d.value:d.value=v.value),console.log(T.value,"####toggle direction.value")};ut(()=>{Bt()});const l=jt(t=>{console.log("ðŸš€ ~ file: create.vue:514 ~ updateDebouncedValue ~ value:",t),ee(t)},500),w=k(""),fe=t=>{const f=T.value?i.value.decimals:s.value.decimals,g=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${f}})?).*$`),M=t.target.value.replace(/,/g,"").replace(g,"$1");l(M)},Ne=t=>{var Ue;const f=t.target.selectionStart,g=T.value?i.value.decimals:s.value.decimals,M=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${g}})?).*$`);console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",t.target.value);let P=t.target.value.replace(/,/g,"").replace(M,"$1");console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ value:",P);let L=P.includes(".")&&String(Be(P))==="0"?P:String(Be(P));const ie=st(t.target.value),ue=st(L),Oe=ue.length-ie.length;let ge=f+Oe;if((Ue=t==null?void 0:t.inputType)!=null&&Ue.includes("delete")&&Oe>0&&f===ue[ue.length-1]){const ze=t.target.value.slice(0,f-1)+t.target.value.slice(f);L=String(Be(ze.replace(/,/g,""))),ge=ge-2}console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",L),w.value=L,setTimeout(()=>{t.target.setSelectionRange(ge<0?0:ge,ge<0?0:ge)},0)};ve(()=>Ie.value,t=>{console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ newValue:",t);const f=t!=null&&t.includes(".")&&String(Be(t))==="0"?t:String(Be(t));console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ fValue:",f),f!==w.value&&(w.value=f)},{immediate:!0});const _e=R(()=>{var t,f,g,M,P,L;return[{label:(t=s.value)==null?void 0:t.symbol,value:(f=s.value)==null?void 0:f.address,logo:(g=s.value)==null?void 0:g.logo_url},{label:(M=i.value)==null?void 0:M.symbol,value:(P=i.value)==null?void 0:P.address,logo:(L=i.value)==null?void 0:L.logo_url}]}),ye=k((Me=s.value)==null?void 0:Me.address);return{rectangleTabList:_e,currentRectangleTab:ye,amountLock:Ve,currentStep:C,coinAmount:u,pricerange:q,fromCoin:s,toCoin:i,feeValue:de,direct:y,getCoinIcon:p,isSelectFullRange:U,store:F,initPrice:Ie,feeTierLock:W,inputPriceLock:E,specifyPriceLock:B,changeCurrentPrice:ee,minPrice:N,maxPrice:_,defaultMinPrice:oo,defaultMaxPrice:to,clickFullRange:pe,createPoolInfo:m,isFullRange:we,priceRangeChangeMin:Le,priceRangeChangeMax:Fe,fromCoinAmount:v,toggle:r,showFromCoinLock:Ce,showToCoinLock:be,inputChange:fe,currentPrice:Pe,importIcon:Ee,formattedValue:w,handleInput:Ne}}});const J=e=>(lo("data-v-5fdbf33c"),e=e(),no(),e),ga={class:"create-pool-container"},ka={class:"back-box"},Ca={class:"create-pool-top"},ba={class:"progress-text"},ha=J(()=>a("span",null,"1",-1)),_a=J(()=>a("div",{class:"text"},"Select Tokens",-1)),Sa=[ha,_a],Ta=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),ya=J(()=>a("span",null,"2",-1)),wa=J(()=>a("div",{class:"text"},"Select Fee Tier",-1)),Pa=[ya,wa],Aa=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Na=J(()=>a("span",null,"3",-1)),$a=J(()=>a("div",{class:"text"}," Set Initial Price",-1)),Ra=[Na,$a],qa=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),La=J(()=>a("span",null,"4",-1)),Ia=J(()=>a("div",{class:"text"},"Select Price Range",-1)),Ba=[La,Ia],Fa=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Ma=J(()=>a("span",null,"5",-1)),Oa=J(()=>a("div",{class:"text"},"Confirm Liquidity",-1)),Ua=[Ma,Oa],Da={class:"create-pool-bottom"},Va={class:"bottom-left"},ja={class:"item-block select-fee-tier"},Wa=J(()=>a("div",{class:"title"},[a("div",{class:"left"}," Select Tokens ")],-1)),Ea={class:"content"},za={class:"item-block select-fee-tier"},Xa=J(()=>a("div",{class:"title"},[a("div",{class:"left"}," Select Fee Tier ")],-1)),Ga={class:"content"},Ha={key:0,class:"lock"},Ka={class:"initial-price-box item-block"},Ya={class:"title"},Ja={class:"left"},Qa={class:"right"},Za={key:0,class:"tab-box"},xa={class:"content"},el={class:"input-div"},ol={key:0,class:"lock"},tl={class:"price-range-box item-block"},al={class:"title"},ll={class:"left"},nl={class:"content"},sl={class:"set-price-box"},il={key:0,class:"lock"},ul={key:1,class:"create-pool-warning"},rl={key:2,class:"position-tips"},cl=["src"],vl={class:"error"},dl={class:"reset-full-range"},ml=J(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_refresh"})],-1)),pl=J(()=>a("span",null,"Reset Range",-1)),fl=[ml,pl],gl=J(()=>a("span",null,"Full Range",-1)),kl={class:"bottom-right"};function Cl(e,n,W,E,B,U){const u=dt,C=Te("SelectTokenBlock"),y=Te("FeeTierBlock"),q=mt,S=Te("IconTooltip"),c=Te("RectangleTab"),h=bt,F=Te("SuiLiquidityPrice"),me=ht,ne=Te("CreatePoolRight");return I(),Y("div",ga,[a("div",ka,[Z(u)]),a("div",Ca,[a("div",ba,[a("div",{class:qe(["row",Number(e.currentStep)>=1?"color-text":""])},Sa,2),Ta,a("div",{class:qe(["row",Number(e.currentStep)>=2?"color-text":""])},Pa,2),Aa,a("div",{class:qe(["row",Number(e.currentStep)>=3?"color-text":""])},Ra,2),qa,a("div",{class:qe(["row",Number(e.currentStep)>=4?"color-text":""])},Ba,2),Fa,a("div",{class:qe(["row",Number(e.currentStep)>=5?"color-text":""])},Ua,2)])]),a("div",Da,[a("div",Va,[a("div",ja,[Wa,a("div",Ea,[Z(C)])]),a("div",za,[Xa,a("div",Ga,[Z(y),e.feeTierLock?(I(),Y("div",Ha,[Z(q)])):x("",!0)])]),a("div",Ka,[a("div",Ya,[a("div",Ja,[Ge(" Set Initial Price "),Z(S,{"xlink-href":"#icon-icon_tips",type:"createInitPrice"})]),a("div",Qa,[e.fromCoin&&e.toCoin?(I(),Y("div",Za,[Z(c,{"current-rectangle-tab":e.currentRectangleTab,"rectangle-tab-list":e.rectangleTabList,onClickTab:n[0]||(n[0]=se=>{e.toggle()})},null,8,["current-rectangle-tab","rectangle-tab-list"])])):x("",!0)])]),a("div",xa,[a("div",el,[Z(h,{value:e.formattedValue,type:"text",placeholder:"0.0",onChange:e.inputChange,onInput:e.handleInput},null,8,["value","onChange","onInput"]),a("span",null,Ae(e.toCoin&&e.toCoin.symbol)+" per "+Ae(e.fromCoin&&e.fromCoin.symbol),1)]),e.inputPriceLock?(I(),Y("div",ol,[Z(q)])):x("",!0)])]),a("div",tl,[a("div",al,[a("div",ll,[Ge(" Set Price Range "),Z(S,{"xlink-href":"#icon-icon_tips",type:"createPriceRange"})])]),a("div",nl,[a("div",sl,[Z(F,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.createPoolInfo,loading:!1,"current-price-tab":"custom",onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","onOnChangeMinPrice","onOnChangeMaxPrice"])]),e.specifyPriceLock?(I(),Y("div",il,[Z(q)])):x("",!0),Number(e.currentStep)>=4&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(I(),Y("div",ul," To create a new pool, the initial price you set must be within your price range. ")):x("",!0),e.minPrice&&e.maxPrice&&Number(e.currentStep)>=4&&Number(e.minPrice)>=Number(e.maxPrice)?(I(),Y("div",rl,[a("img",{src:("importIcon"in e?e.importIcon:Ct(Ee))("/image/icon-tips-error@2x.png"),alt:""},null,8,cl),a("p",vl,Ae(e.$t("tips.positionError")),1)])):x("",!0),a("div",dl,[a("div",{class:"item",onClick:n[1]||(n[1]=()=>{e.defaultMinPrice="",e.defaultMaxPrice="",e.minPrice="",e.maxPrice=""})},fl),a("div",{class:"plus-switch plus-liquidity-switch item",onClick:n[2]||(n[2]=(...se)=>e.clickFullRange&&e.clickFullRange(...se))},[gl,Z(me,{class:"range-alerts-switch",checked:e.isFullRange},null,8,["checked"])])])])])]),a("div",kl,[Z(ne,{"create-pool-info":e.createPoolInfo,onToggle:e.toggle},null,8,["create-pool-info","onToggle"])])])])}const sn=Ze(fa,[["render",Cl],["__scopeId","data-v-5fdbf33c"]]);export{sn as default};
