import{_ as X}from"./token-warning.2239555f.js";import{u as se,b as c,q as z,c as te,i as le}from"./index.42df0035.js";import{a as ie,l as de,m,a2 as re,a3 as ue,r as D,D as W,E as me,e as ce,q as pe,o,f as i,h as n,v as h,c as d,z as T,t as q,x as u,i as A,w as $,u as y,I as ge,S as fe,B as ve,j as N,p as he,k as ke,a4 as be}from"./entry.362421f1.js";import"./index.a6ef3622.js";/* empty css              */import{i as ye}from"./import-icon.de3e6c66.js";import{a as we,u as Ce,m as H}from"./pool.6a1066ec.js";import{D as U}from"./decimal.0bdeb344.js";import{u as $e}from"./useDebounceFunction.3942a9c1.js";const Se=ie({components:{TokenWarning:X},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},havehalf:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""},amountLeabl:{type:String,default:""},isShowAmountPrice:{type:Boolean,default:!0},convertAssetsLoading:{type:Boolean,default:!1},swapLoading:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e,s){const{t:F,locale:Y}=de(),R=we(),V=m(()=>R),S=m(()=>new U(Number(e.balance)).div(2)),g=re(ue,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function L(){this.$emit("onSelect")}D("");const I=$e(a=>{s.emit("onInput",a),s.emit("onInputLoading",!1)},500),k=D(""),P=a=>{const t=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(r==null?void 0:r.value)&&(r==null?void 0:r.value)}})?).*$`),v=a.target.value.replace(/,/g,"").replace(t,"$1");v>0&&s.emit("onInputLoading",!0),I(v)},b=a=>{var E;const t=a.target.selectionStart,v=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(r==null?void 0:r.value)&&(r==null?void 0:r.value)}})?).*$`);console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",a.target.value);let p=a.target.value.replace(/,/g,"").replace(v,"$1");console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ value:",p),console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.inputType:",a.inputType);let w=p.includes(".")&&String(c(p))==="0"?p:String(c(p));const ne=H(a.target.value),j=H(w),M=j.length-ne.length;let C=t+M;if((E=a==null?void 0:a.inputType)!=null&&E.includes("delete")&&M>0&&t===j[j.length-1]){const O=a.target.value.slice(0,t-1)+a.target.value.slice(t);w=String(c(O.replace(/,/g,""))),C=C-2}console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",w),k.value=w||"",setTimeout(()=>{try{a.target.setSelectionRange(C<0?0:C,C<0?0:C)}catch(O){console.log("ðŸš€ ~ file: assets-card.vue:307 ~ setTimeout ~ error:",O)}},0)};W(()=>e.inputValue,a=>{console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ newValue:",a);const t=a.includes(".")&&String(c(a))==="0"?a:String(c(a));console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ fValue:",t),t!==k.value&&(k.value=t)},{immediate:!0});const G=se(),J=m(()=>G),K=Ce(),l=m(()=>K),Q=m(()=>l.value.tokensWarningObj);let f=D({});W(()=>l.value.RATES,a=>{a&&(f.value=a)},{immediate:!0,deep:!0});const Z=m(()=>{var v,p,w;const a=(f==null?void 0:f.value)&&((v=f==null?void 0:f.value)==null?void 0:v[e.address])&&((w=(p=f==null?void 0:f.value)==null?void 0:p[e.address])==null?void 0:w.price)||0,t=new U(e.inputValue||0).mul(a).toNumber();return a<=0?0:t>0&&t<.01?"<$0.01":le(t,2)}),_=m(()=>{var a,t;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.labels)&&((t=l.value.tokensObj[e.address])==null?void 0:t.labels[0])}),r=m(()=>{var a;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.decimals)}),x=m(()=>{var a,t,v,p;return e.coinIcon||((t=(a=l==null?void 0:l.value)==null?void 0:a.tokensObj[e.address])==null?void 0:t.logo_url)||((p=(v=l==null?void 0:l.value)==null?void 0:v.tokensObj[e.address])==null?void 0:p.logoURI)||""}),ee=m(()=>l.value.tokensObj),ae=m(()=>V.value.theme),oe=m(()=>l.value.isTokenLoading);return{route:me(),theme:ae,currentIcon:x,tokensObj:ee,pool:l,halfBalance:S,coinLabels:_,t:F,addCommom:c,store:V,wallet:J,indicator:g,inputChange:P,importIcon:ye,selectCoin:L,amountPirce:Z,coinDecimals:r,formatNumber:z,tokensWarningObj:Q,checkNullObj:te,isTokenLoading:oe,formattedValue:k,handleInput:b}}});const B=e=>(he("data-v-ee9ca13a"),e=e(),ke(),e),Le={class:"card"},Ie={class:"pc-card"},Pe={class:"tit"},Te={class:"card-top"},Ae={class:"loading-token"},Ne={key:1},Be={key:0},Ve=B(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),je=[Ve],Oe={class:"card-bottom"},De={key:0,class:"amount-price"},ze={key:1},Fe={class:"top"},Re={class:"right"},Me={key:0,class:"icon icon_wallet","aria-hidden":"true"},Ee=B(()=>n("use",{"xlink:href":"#icon-icon_wallet"},null,-1)),We=[Ee],qe={class:"balance"},He={key:1},Ue={class:"h5-card"},Xe={class:"card-bottom"},Ye={class:"tit"},Ge={class:"top"},Je={class:"right"},Ke=B(()=>n("svg",{class:"icon icon_wallet","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon_wallet"})],-1)),Qe={class:"balance"},Ze={key:1},_e={class:"card-top"},xe={class:"loading-token"},ea={key:1},aa={key:0},oa=B(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),na=[oa],sa={key:0,class:"amount-price"},ta={key:1};function la(e,s,F,Y,R,V){const S=ge,g=fe,L=be,I=X,k=ve,P=pe("image");return o(),i("div",Le,[n("div",Ie,[n("div",Pe,h(e.title),1),n("div",Te,[e.swapLoading?(o(),d(g,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(o(),d(S,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[0]||(s[0]=b=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),n("div",{class:T(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[1]||(s[1]=b=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[n("div",Ae,[e.isTokenLoading?(o(),d(L,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?q((o(),i("img",Ne,null,512)),[[P,e.currentIcon]]):u("",!0),A(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),A(g,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:$(()=>[n("div",null,[n("p",null,h(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(o(),i("p",Be,h(e.coinLabels),1)):u("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(o(),i("svg",{key:0,class:T(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},je,2)):u("",!0)],2)]),n("div",Oe,[e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(o(),i("div",De,h(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(z))(e.amountPirce)}`:`${e.amountPirce}`),1)):(o(),i("div",ze,[e.swapLoading?(o(),d(g,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):u("",!0)])),n("div",Fe,[n("div",Re,[e.wallet.connected?(o(),i("svg",Me,We)):u("",!0),n("span",qe,[e.convertAssetsLoading?(o(),d(g,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(o(),i("span",He,h(e.wallet.connected?("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals):""),1))]),e.havehalf&&e.wallet.connected?(o(),d(k,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[2]||(s[2]=b=>e.$emit("onHalf"))},{default:$(()=>[N("HALF")]),_:1},8,["disabled"])):u("",!0),e.havemax&&e.wallet.connected?(o(),d(k,{key:2,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[3]||(s[3]=b=>e.$emit("onMax"))},{default:$(()=>[N("MAX")]),_:1},8,["disabled"])):u("",!0)])])])]),n("div",Ue,[n("div",Xe,[n("div",Ye,h(e.title=="You pay"?"Pay":e.title=="You receive"?"Receive":e.title),1),n("div",Ge,[n("div",Je,[Ke,n("span",Qe,[e.convertAssetsLoading?(o(),d(g,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(o(),i("span",Ze,h(e.wallet.connected?("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals):"0"),1))]),e.havehalf&&e.wallet.connected?(o(),d(k,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[4]||(s[4]=b=>e.$emit("onHalf"))},{default:$(()=>[N("HALF")]),_:1},8,["disabled"])):u("",!0),e.havemax&&e.wallet.connected?(o(),d(k,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[5]||(s[5]=b=>e.$emit("onMax"))},{default:$(()=>[N("MAX")]),_:1},8,["disabled"])):u("",!0)])])]),n("div",_e,[e.swapLoading?(o(),d(g,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(o(),d(S,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[6]||(s[6]=b=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),n("div",{class:T(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[7]||(s[7]=b=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[n("div",xe,[e.isTokenLoading?(o(),d(L,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?q((o(),i("img",ea,null,512)),[[P,e.currentIcon]]):u("",!0),A(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),A(g,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:$(()=>[n("div",null,[n("p",null,h(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(o(),i("p",aa,h(e.coinLabels),1)):u("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(o(),i("svg",{key:0,class:T(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},na,2)):u("",!0)],2)]),e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(o(),i("div",sa,h(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(z))(e.amountPirce)}`:`${e.amountPirce}`),1)):(o(),i("div",ta,[e.swapLoading?(o(),d(g,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):u("",!0)]))])])}const ha=ce(Se,[["render",la],["__scopeId","data-v-ee9ca13a"]]);export{ha as N};
