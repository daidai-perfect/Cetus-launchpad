import{a as je,r as h,m as w,q as ht,A as ae,e as ze,o as r,f as l,I as oi,M as ri,h as a,N as Ut,x as o,u as N,G as p,c as Ye,p as yt,k as Ct,O as Gt,L as mt,i as ie,w as Qe,y as it,S as ai,K as si,l as ye,B as Dt,j as dt,F as Je,E as Bt,z as jt,s as zt,Y as Et,P as Kt,b as Jt,$ as li,a6 as ui,a0 as ci}from"./entry.92a44973.js";/* empty css              */import{positionError as ft,fromCoin as H,toCoin as E,tickList as vt,currentPrice as kt,currentPriceReverse as Lt,direction as Se,currentPriceTab as se,defaultMinPrice as Rt,defaultMaxPrice as Ft,minPrice as Z,maxPrice as j,toggle as Yt,isStableFarmingRange as Re,isInputTotalAmount as We,priceConfigObj as ct,fromCoinAmount as x,toCoinAmount as ee,fixedFromCoin as Fe,resetTickList as Xt,resetData as di}from"./data.bd378887.js";import{g as mi,n as Ot,d as R,a as te,c as fe,b as Qt,s as vi,p as Wt}from"./common.99f6d7f1.js";import{i as gt}from"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import{u as Ve,b as Pt,a as pt}from"./index.10ebf49c.js";import{T as $t,g as fi,b as Le,c as gi,u as pi}from"./index.67028433.js";import"./decimal.a2826370.js";import{s as Nt,m as bi,l as ki,b as hi,a as yi}from"./transform.c672907f.js";import{D as b}from"./decimal.765d8738.js";import"./index.d50865f3.js";/* empty css              */import{C as Ci}from"./coin-img.583f1db5.js";import{u as qt}from"./farms.57548994.js";import{_ as Vt}from"./icon_farms_2x.512f425b.js";import{_ as Pi}from"./coin-select.6614f843.js";import{_ as Si}from"./viewDetail.2d4ab7ce.js";import{I as Ii}from"./icon-slippage.2f45f17d.js";import{I as Ti}from"./icon-refresh.17387a9f.js";import{I as xt}from"./icon-tooltip.5a0d3de6.js";import{C as ei}from"./coin-img-warning.efeac0c8.js";import{_ as wi}from"./deposit-ratio.60e0dc33.js";import{u as ti}from"./notifi.f8ba976a.js";import{N as _i,I as Ai}from"./input-lock.601feb2c.js";import{T as $i}from"./token-input-block.e8e3f592.js";import{_ as Ni}from"./lock.35e1d915.js";import"./token-warning_2x.5cf0c53a.js";import"./img-no-Positions_2x.c2442fe2.js";import"./img-no-Positions_2x.14d6d680.js";import"./status-block.17f5d44a.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./swap-setting.74ff8a65.js";import"./icon-error_2x.c748b661.js";import"./token.315c02f4.js";import"./useWhale.2f03f19c.js";import"./token-dropdown-select.fd86c71b.js";import"./useDebounceFunction.f060e7a2.js";function Zt(e,u,q){const _=new b(10).pow(u-q);return new b(1.0001).pow(e).mul(_)}const Li=je({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""},zoom:{type:Number,default:1}},setup(e,u){const q=h(""),_=h(""),A=w(()=>{var i,k,v,B,O,G;return(i=e.poolInfo)!=null&&i.current_sqrt_price&&((k=e.poolInfo)!=null&&k.coinA)&&((v=e.poolInfo)!=null&&v.coinB)?s.sqrtPriceX64ToPrice((B=e.poolInfo)==null?void 0:B.current_sqrt_price,(O=e.poolInfo)==null?void 0:O.coinA.decimals,(G=e.poolInfo)==null?void 0:G.coinB.decimals).toString():"0"}),F=w(()=>{let i=0;return e.direction?i=(Number(e.minPrice)/Number(A.value)-1)*100:i=(Number(e.minPrice)/Number(1/Number(A.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),d=w(()=>{let i=0;return e.direction?i=(Number(e.maxPrice)/Number(A.value)-1)*100:i=(Number(e.maxPrice)/Number(1/Number(A.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),I=Ve(),f=w(()=>I),X=w(()=>f.value.chainName?Pt(f.value.chainName):{}),{TickMath:s,getNearestTickByTick:$}=X.value,M=(i=[])=>{let k=6;const v=Math.abs(Number(i[0])-Number(i[i.length-1]));return v>=6?k=0:v>=1?k=1:v>=.1?k=2:v>=.01?k=3:v>=.001?k=4:v>=1e-4?k=5:v>=1e-5?k=6:v>=1e-6?k=7:v>=1e-7&&(k=8),k},J=(i,k=1)=>{if(i&&i.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const v=Number(e.poolInfo.current_tick_index);let B=v+100*k,O=v-100*k,G,y;if(e.maxPrice==="âˆž")y=X.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?y=s.priceToTickIndex(new b(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):y=s.priceToTickIndex(new b(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{y=443636}if(e.minPrice==="0")G=X.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?G=s.priceToTickIndex(new b(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):G=s.priceToTickIndex(new b(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{G=-443636}let Q=0;if(e.currentPriceTab!=="full range"){if(v>=G&&v<=y){const V=v-G,ge=y-v;Q=Math.max(Math.abs(V),Math.abs(ge))}else v<G?Q=Math.abs(y-v):Q=Math.abs(v-G);B=v+Q+100*k,O=v-Q-100*k}else{const V=(Math.abs(v)>5e3,2e4);B=v+V*k,O=v-V*k}O<-443636&&(O=-443636),B>443636&&(B=443636);const S=new b(i.liquidity).div(Math.pow(10,8)).toString(),L=e.tickList,U=[],ce=[];let le={};for(let V=0;V<L.length;V++){if(le=L[V],le.index<=v&&le.index>=O){if(U.length<1&&V!==0){const ge=L[V-1];U.unshift({...ge,index:O,source:"left"})}U.unshift(le)}else if(le.index>v&&le.index<=B&&(ce.push(le),U.length<1&&V!==0)){const ge=L[V-1];U.push({...ge,index:O,source:"left"})}if(le.index>B){const ge=L[V];if(ce.push({...ge,index:B,source:"right"}),U.length<1&&V!==0){const nt=L[V-1];U.push({...nt,index:O,source:"left"})}break}}let W="0";for(let V=U.length-1;V>=0;V--)W=new b(W).plus(new b(U[V].liquidityNet.toString()).div(Math.pow(10,8))).toString(),U[V].liquityAmount=W;let z=S;for(let V=0;V<ce.length;V++)z=new b(z).plus(new b(ce[V].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ce[V].liquityAmount=z;let de=[];const ne=L&&L.length>0?{index:v,liquityAmount:Number(S)}:{index:v,liquityAmount:0};(U.length>0||ce.length>0)&&(de=[...U.reverse(),ne,...ce],e.direction||(de=de.reverse()));const Ue=[];L.forEach(V=>{Ue.push({...V,liquidityGross:V.liquidityGross.toString(),liquidityNet:V.liquidityNet.toString()})}),g(de,O,B,G,y,v)}};let Y=h(!1);const P=h(!1);ht(()=>{const i=document.body.clientWidth;P.value=!0,i<750?Y.value=!1:Y.value=!0,window.onresize=()=>{document.body.clientWidth<750?Y.value=!1:Y.value=!0,J(e.poolInfo,e.zoom)}});const g=(i,k,v,B,O,G)=>{let y,Q;e.direction?(y=Number(e.before7dContractPriceLowest)!==0?s.priceToTickIndex(new b(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",Q=Number(e.before7dContractPriceHighest)!==0?s.priceToTickIndex(new b(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(y=Number(e.before7dContractPriceLowest)!==0?s.priceToTickIndex(new b(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",Q=Number(e.before7dContractPriceHighest)!==0?s.priceToTickIndex(new b(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const S={top:30,right:35,bottom:36,left:80};let L,U;Y.value?(L=528-S.left-S.right,U=220-S.top-S.bottom):(L=340-S.left-S.right,U=205-S.top-S.bottom);const ce=v-k,le=parseInt(String(ce/4));let W=[k+le/4,k+le,k+2*le,v-le,v-le/4];const z=k,de=v,ne=L/(de-z);e.currentPriceTab==="full range"&&(W=[k,k+2*le,v]);const Ue=W.map(c=>e.direction?Zt(c,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new b(1).div(Zt(c,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),V=M(Ue);Nt("#chart").selectAll("*").remove();const ge=Nt("#chart").attr("width",L+S.left+S.right).attr("height",U+S.top+S.bottom).append("g").attr("transform",`translate(${S.left},${S.right})`),nt=bi(i,function(c){return Number(Math.abs(c.liquityAmount))})||0,Be=ki().range([0,U]).domain([nt,0]);hi().rangeRound([0,L]).padding(.1);const st=ge.append("g").attr("id","barsBox").selectAll("rect").data(i).enter().append("rect");f.value.theme=="default"?st.attr("x",function(c,m){return m===0?0:e.direction?Math.abs(c.index-z)*ne:Math.abs(de-c.index)*ne}).attr("y",function(c,m){return e.direction?m===i.length-1?0:Be(c.liquityAmount):m===i.length-1?0:Be(i[m+1].liquityAmount)}).attr("width",function(c,m){return m===0&&i.length===1&&c.liquityAmount>0?L:(e.direction,m!==i.length-1?Math.abs(i[m+1].index-c.index)*ne:0)}).attr("height",function(c,m){return m===0&&i.length===1&&c.liquityAmount>0?U:e.direction?m===i.length-1?0:U-Be(c.liquityAmount):m===i.length-1?0:U-Be(i[m+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):st.attr("x",function(c,m){return m===0?0:e.direction?Math.abs(c.index-z)*ne:Math.abs(de-c.index)*ne}).attr("y",function(c,m){return e.direction?m===i.length-1?0:Be(Math.abs(c.liquityAmount)):m===i.length-1?0:Be(Math.abs(i[m+1].liquityAmount))}).attr("width",function(c,m){return m===0&&i.length===1&&c.liquityAmount>0?L:(e.direction,m!==i.length-1?Math.abs(i[m+1].index-c.index)*ne:0)}).attr("height",function(c,m){if(m===0&&i.length===1&&c.liquityAmount>0)return U;if(e.direction)return m===i.length-1?0:Number(c.liquityAmount)?U-Be(Math.abs(c.liquityAmount)):0;{if(m===i.length-1)return 0;const oe=U-Be(Math.abs(i[m+1].liquityAmount));return Number(i[m+1].liquityAmount)?oe:0}}).attr("fill",function(c,m){return"#417494"}).attr("class","bars").attr("stroke-width",1).attr("stroke",function(c,m){return"#417494"});const Ee=ge.append("g");Ee.append("line").attr("x1",0).attr("y1",155).attr("x2",L).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const lt=Ee.append("g");let Oe=0;if(e.direction){for(let c=0;c<W.length;c++){const m=R(Ue[c],V)||"0";Ue.push(m);const oe=Math.abs(W[c]-z)*ne;let re=0;for(let me=0;me<m.length;me++)m[me]==="1"?re+=4.02:m[me]==="."?re+=2.64:m[me]==="7"?re+=5.48:re+=6;lt.append("text").text(m).attr("x",oe-re/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Oe=Math.abs(G-z)*ne}else{for(let c=W.length-1;c>=0;c--){const m=R(Ue[c],V)||0;Ue.push(m);const oe=Math.abs(W[c]-de)*ne;let re=0;for(let me=0;me<m.length;me++)m[me]==="1"?re+=4.02:m[me]==="."?re+=2.64:m[me]==="7"?re+=5.48:re+=6;lt.append("text").text(m).attr("x",oe-re/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Oe=Math.abs(G-de)*ne}(f.value.theme=="default"?ge.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):ge.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+Oe+", 0)");let He,Ze,Ge,Xe;e.direction?(He=B<z?-100:parseInt(String(Math.abs(B-z)*ne)),Ze=O<z?-100:parseInt(String(Math.abs(O-z)*ne)),Ge=y<z?-100:Math.abs(y-z)*ne,Xe=Q<z?-100:Math.abs(Q-z)*ne):(Ze=B<z?-100:Math.abs(de-B)*ne,He=O<z?-100:Math.abs(de-O)*ne,Xe=y>de?-100:Math.abs(de-y)*ne,Ge=Q>de?-100:Math.abs(de-Q)*ne),e.minPrice==="0"&&(He=0),e.maxPrice==="âˆž"&&(Ze=L),Y.value?q.value=L-He+94+"px":q.value=L-He+87+"px",_.value=Ze+98+"px",y&&Ge<L&&ge.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Ge+", 0)"),Q&&Xe<L&&ge.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Xe+", 0)");const Ae=ge.append("g").attr("id","left-handle"),t=ge.append("g").attr("id","right-handle");f.value.theme=="default"?(Ae.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Ae.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(-1, 20) rotate(180)"),Ae.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Ae.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),t.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(1, 0)"),t.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),t.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Ae.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Ae.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(-1, 24) rotate(180)"),Ae.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Ae.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),t.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),t.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(1, 0)"),t.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),t.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Ae.attr("transform","translate("+He+", 0)"),t.attr("transform","translate("+Ze+", 0)");const T=yi().extent([[0,0],[L,U]]).handleSize(30).on("end",K);ge.append("g").attr("class","brush").call(T).call(T.move,[He,Ze]);function K(c){if(!c.sourceEvent||!c.selection)return;Ae.attr("transform","translate("+c.selection[0]+", 0)"),t.attr("transform","translate("+c.selection[1]+", 0)"),Y.value,q.value=L-c.selection[0]+87+"px",_.value=c.selection[1]+74+"px";let m,oe,re=0,me=0;e.direction?(re=$(parseInt(String(c.selection[0]/ne+z)),Number(e.poolInfo.tickSpacing)),m=s.tickIndexToPrice(re,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),me=$(parseInt(String(c.selection[1]/ne+z)),Number(e.poolInfo.tickSpacing)),oe=s.tickIndexToPrice(me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(me=$(de-c.selection[0]/ne,Number(e.poolInfo.tickSpacing)),m=1/s.tickIndexToPrice(me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),re=$(de-c.selection[1]/ne,Number(e.poolInfo.tickSpacing)),oe=1/s.tickIndexToPrice(re,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),u.emit("onChangeMinPrice",String(R(String(m),6))),u.emit("onChangeMaxPrice",String(R(String(oe),6)))}f.value.theme=="default"?Nt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):Nt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};return h(""),ae(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.zoom,e.tickList],([i,k,v,B,O,G])=>{i&&k&&v&&(i!=null&&i.liquidity)&&J(i,O)},{immediate:!0}),{store:f,loading:P,rangeSizeLower:F,rangeSizeUpper:d,rangeSizeLowerPosition:q,rangeSizeUpperPosition:_,decimalFormat:mi,numberformat:Ot}}});const qi=e=>(yt("data-v-bc10f09a"),e=e(),Ct(),e),Mi={class:"chart-box"},Ri={class:"chart"},Fi=qi(()=>a("svg",{id:"chart"},null,-1));function Ui(e,u,q,_,A,F){const d=Gt;return r(),l("div",Mi,[oi(a("div",Ri,[e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(r(),l("div",{key:0,class:"range-size range-size-lower",style:Ut({right:e.rangeSizeLowerPosition})},o(("numberformat"in e?e.numberformat:N(Ot))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):p("",!0),e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(r(),l("div",{key:1,class:"range-size range-size-upper",style:Ut({left:e.rangeSizeUpperPosition})},o(("numberformat"in e?e.numberformat:N(Ot))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):p("",!0),Fi],512),[[ri,!e.chartLoading]]),e.chartLoading?(r(),Ye(d,{key:0})):p("",!0)])}const Bi=ze(Li,[["render",Ui],["__scopeId","data-v-bc10f09a"]]),Oi=je({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,u){const q=h(""),_=h("");let A=h(""),F=h("");const d=mt(),I=Ve(),f=w(()=>I),X=w(()=>f.value.chainName?Pt(f.value.chainName):{}),s=()=>{var i,k,v,B;if(!(Number.isNaN(q.value)||Number(q.value)!==0&&!q.value||!e.poolInfo.tickSpacing))try{const{TickUtil:O,TickMath:G,getNearestTickByTick:y}=X.value,Q=G.priceToTickIndex(new b(q.value.toString()),(i=P.value.token_a)==null?void 0:i.decimals,(k=P.value.token_b)==null?void 0:k.decimals),S=y(Q,Number(P.value.tickSpacing),!0);let L;if(L=G.tickIndexToPrice(S+Number(P.value.tickSpacing),(v=P.value.token_a)==null?void 0:v.decimals,(B=P.value.token_b)==null?void 0:B.decimals),e.pType=="Min"&&Number(L.toString())>Number(F.value.toString()))return;const U=L.toString();u.emit("onInput",U)}catch{u.emit("onInput","")}},$=()=>{var i,k,v,B;try{if(Number.isNaN(q.value)||!q.value||!e.poolInfo.tickSpacing)return;const{TickUtil:O,TickMath:G,getNearestTickByTick:y}=X.value,Q=G.priceToTickIndex(new b(q.value.toString()),(i=P.value.token_a)==null?void 0:i.decimals,(k=P.value.token_b)==null?void 0:k.decimals),S=y(Q,Number(P.value.tickSpacing),!0);let L;L=G.tickIndexToPrice(S-Number(P.value.tickSpacing),(v=P.value.token_a)==null?void 0:v.decimals,(B=P.value.token_b)==null?void 0:B.decimals);const U=L.toString();if(e.pType=="Max"&&Number(L)<Number(A.value))return;u.emit("onInput",U)}catch{u.emit("onInput","")}},M=i=>{let k=i.toString().replace(/[^\d.]/g,"");const v=/^\d+(\.\d+)?$/;k.split(".").length>2&&!v.exec(k)&&(k=k.substr(0,k.length-1)),_.value=String(k)},J=i=>{if(i&&i!=="0"&&i!=="âˆž"){q.value=i;const v=i.toString().split(".")[1];_.value=i!=="0"&&i!=="âˆž"&&v&&v.length>6?R(i.toString(),6):i.toString()}else(i=="0"||i=="âˆž"||d.query.action)&&(_.value=i)},Y=i=>{var y,Q,S,L;const{TickUtil:k,TickMath:v,getNearestTickByTick:B}=X.value,O=i.target.value;let G;if(O==="0"){G=-443636,u.emit("onInput","0");return}else if(O!=="0"&&O){const U=v.priceToTickIndex(new b(O),(y=P.value.token_a)==null?void 0:y.decimals,(Q=P.value.token_b)==null?void 0:Q.decimals);G=B(Number(U),Number(P.value.tickSpacing),!0);const ce=v.tickIndexToPrice(new b(G),(S=P.value.token_a)==null?void 0:S.decimals,(L=P.value.token_b)==null?void 0:L.decimals);J(ce.toString()),u.emit("onInput",ce.toString())}else u.emit("onInput")};ae(()=>e.defaultMinPrice,(i,k)=>{i!==k&&(A.value=e.defaultMinPrice)},{immediate:!0}),ae(()=>e.defaultMaxPrice,(i,k)=>{i!==k&&(F.value=e.defaultMaxPrice)},{immediate:!0}),ae(()=>[e.inputValue,d.query.action],([i])=>{J(i)},{immediate:!0});const P=h({});ae(()=>e.poolInfo,(i,k)=>{i&&(P.value=i)},{immediate:!0});const g=h("");return ae(()=>e.currentPriceTab,i=>{g.value=i},{immediate:!0}),{addPrice:s,minusPrice:$,oValue:_,changeValue:M,isDisabled:g,route:d,onBlur:Y}}});const Di={class:"set-price-item"},ji={class:"title"},zi={class:"input-box"},Ei={key:0,class:"minus-btn"},Hi={key:1,class:"plus-btn"};function Xi(e,u,q,_,A,F){const d=si,I=ai;return r(),l("div",Di,[a("div",ji,o(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ie(I,{loading:e.loading,active:"",paragraph:!1},{default:Qe(()=>[a("div",zi,[e.currentPriceTab!=="full range"?(r(),l("a",Ei,[a("div",{class:it(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:u[0]||(u[0]=(...f)=>e.minusPrice&&e.minusPrice(...f))},"-",2)])):p("",!0),ie(d,{id:"pValu",value:e.oValue,"onUpdate:value":u[1]||(u[1]=f=>e.oValue=f),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:u[2]||(u[2]=f=>e.changeValue(f.target.value)),onBlur:u[3]||(u[3]=f=>e.onBlur(f))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(r(),l("a",Hi,[a("div",{class:it(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:u[4]||(u[4]=(...f)=>e.addPrice&&e.addPrice(...f))},"+",2)])):p("",!0)])]),_:1},8,["loading"]),a("p",{class:it(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},o(e.toCoin&&e.toCoin.symbol)+" per "+o(e.fromCoin&&e.fromCoin.symbol),3)])}const Wi=ze(Oi,[["render",Xi],["__scopeId","data-v-bf0c9bd5"]]),Zi=je({components:{SuiLiquiditySetPrice:Wi},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,u){let q=h(""),_=h(""),A=h(),F=h(!1),d=h(!1);const I=h({}),f=Ve(),X=w(()=>f);ht(()=>{q.value=e.min,_.value=e.max}),ae(()=>e.currentPriceTab,(g,i)=>{g!==i&&(A.value=e.currentPriceTab)},{immediate:!0}),ae(()=>e.min,(g,i)=>{g!==i&&(q.value=g)}),ae(()=>e.max,(g,i)=>{g!==i&&(_.value=g)}),ae(()=>e.poolInfo,(g,i)=>{g&&(I.value=g)},{immediate:!0});const s=h("");ae(()=>e.intPrice,g=>{s.value=g},{immediate:!0,deep:!0});const $=g=>{q.value=g,u.emit("onChangeMinPrice",g)},M=g=>{_.value=g,u.emit("onChangeMaxPrice",g)};ae(F,(g,i)=>{g!==i&&u.emit("onChangeFullRange",g)});const J=()=>{q.value=e.defaultMinPrice,_.value=e.defaultMaxPrice,d.value=!1,F.value=!1},Y=()=>{d.value=!1,q.value="0",_.value="âˆž"};return ae(F,(g,i)=>{g!==i&&u.emit("onChangeFullRange",g)}),{store:X,changeMinPrice:$,changeMaxPrice:M,importIcon:gt,resetPrice:J,changeShowUnderStand:()=>{F.value=!F.value,F.value?d.value=!0:J(),d.value||(q.value=e.defaultMinPrice,_.value=e.defaultMaxPrice)},showUnderStand:d,minPrice:q,maxPrice:_,understand:Y,isRadio:F,initPirce:s}}});const Gi={class:"set-price"},Ki={class:"card-container"},Ji={key:0,class:"card"},Yi={key:1,class:"understand"},Qi={class:"left"},Vi={class:"right"};function xi(e,u,q,_,A,F){const d=ye("SuiLiquiditySetPrice"),I=Dt;return r(),l("div",Gi,[a("div",Ki,[e.showUnderStand?(r(),l("div",Yi,[a("div",Qi,[a("p",null,o(e.$t("common.lowerEfficiency")),1),a("p",null,o(e.$t("common.lowerEfficiencyTips")),1)]),a("div",Vi,[ie(I,{onClick:e.understand},{default:Qe(()=>[dt(o(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(r(),l("div",Ji,[ie(d,{value:e.minPrice,"onUpdate:value":u[0]||(u[0]=f=>e.minPrice=f),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ie(d,{value:e.maxPrice,"onUpdate:value":u[1]||(u[1]=f=>e.maxPrice=f),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const en=ze(Zi,[["render",xi],["__scopeId","data-v-6fa4beef"]]),tn=je({components:{CoinImage:Ci},props:{rectangleTabList:{type:Object,default:()=>null},currentRectangleTab:{type:String,default:()=>""}},setup(e){const u=e.rectangleTabList;return{activeIndex:h(0),list:u}}});const nn={class:"rectangle-tab"},on=["onClick"];function rn(e,u,q,_,A,F){const d=ye("CoinImage");return r(),l("div",nn,[(r(!0),l(Je,null,Bt(e.list,(I,f)=>(r(),l("div",{key:I.link,class:it(e.activeIndex==f?"tab-active tab":"tab"),onClick:()=>{e.$emit("clickTab",I),e.activeIndex=f}},[I.logo?(r(),Ye(d,{key:0,url:I.logo,size:e.logoSize||"16px"},null,8,["url","size"])):p("",!0),a("span",null,o(I.label),1)],10,on))),128))])}const an=ze(tn,[["render",rn],["__scopeId","data-v-1558c80e"]]),sn=je({components:{SuiLiquidityD3Chart:Bi,RectangleTab:an,SuiLiquidityPrice:en},setup(){var Ae;const{t:e,locale:u}=jt(),q=h("liquidity"),_=Ve(),A=w(()=>_),F=w(()=>A.value.chainName),d=pt(),I=w(()=>d),f=w(()=>A.value.chainName?Pt(A.value.chainName):{});ht(()=>{ft.value=!1});const X=mt(),s=w(()=>{let t=null;for(let T=0;T<I.value.poolConfigList.length;T++){const K=I.value.poolConfigList[T];K.address==X.query.poolAddress&&(t=K)}return t}),$=w(()=>{let t=null;console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:481 ~ constpoolInfo:any=computed ~ pools.value.poolsObj:",I.value.poolsObj);for(const T in I.value.poolsObj){const K=I.value.poolsObj[T];K.address==X.query.poolAddress&&(t=K)}return t}),M=h(),J=h(!0),Y=async(t,T)=>{var K,c,m,oe,re,me,ot,ut,xe,rt,It,Tt;if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:497 ~ watchPoolInfo ~ pool:",t),t&&(H.value=t.needReverse?t.token_b:t.token_a,E.value=t.needReverse?t.token_a:t.token_b),T&&t.current_tick_index){J.value=!0,vt.value=[],g.value=[],Re.value=!1;const wt=t.token_a.decimals,_t=t.token_b.decimals;kt.value=$t.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((K=t==null?void 0:t.object)==null?void 0:K.current_sqrt_price),wt,_t).toString(),Lt.value=new b(1).div($t.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((c=t==null?void 0:t.object)==null?void 0:c.current_sqrt_price),wt,_t)).toString(),M.value=t.needReverse,((oe=(m=t==null?void 0:t.token_a)==null?void 0:m.address)==null?void 0:oe.toLowerCase())===((ot=(me=(re=H)==null?void 0:re.value)==null?void 0:me.address)==null?void 0:ot.toLowerCase())&&((xe=(ut=t==null?void 0:t.token_b)==null?void 0:ut.address)==null?void 0:xe.toLowerCase())===((Tt=(It=(rt=E)==null?void 0:rt.value)==null?void 0:It.address)==null?void 0:Tt.toLowerCase())?Se.value=!0:Se.value=!1;let Ht={poolAddress:t.address,coinTypeA:t.coin_a_address,coinTypeB:t.coin_b_address};const{list:n,address:C}=await f.value.getTicks(Ht);vt.value=n&&C==t.address?f.value.getTickDataFromUrlData(n):[],t!=null&&t.current_tick_index&&(k(t),J.value=!1)}},P=t=>{var c,m;const T=t.token_a.decimals,K=t.token_b.decimals;kt.value=$t.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((c=t==null?void 0:t.object)==null?void 0:c.current_sqrt_price),T,K).toString(),Lt.value=new b(1).div($t.sqrtPriceX64ToPrice((t==null?void 0:t.current_sqrt_price)||((m=t==null?void 0:t.object)==null?void 0:m.current_sqrt_price),T,K)).toString()},g=h([]),i=h(),k=async t=>{const T=t.token_a.decimals,K=t.token_b.decimals;let c=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[t.address]&&I.value.poolPriceConfigObj[t.address].recommend_ranges||{};const m=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[t.address]&&I.value.poolPriceConfigObj[t.address].type||"";let oe,re;const me=fi(t.current_tick_index,t.tickSpacing);i.value=t.current_tick_index,oe=me-Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3),re=me+Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3);const ot=f.value.TickMath.tickIndexToPrice(oe,T,K).toString(),ut=f.value.TickMath.tickIndexToPrice(re,T,K).toString();c["full range"]={lower:f.value.TickUtil.getMinIndex(Number($.value.tickSpacing)),upper:f.value.TickUtil.getMaxIndex(Number($.value.tickSpacing))},c.custom={lower:oe,upper:re,minPrice:ot,maxPrice:ut};const xe=[];for(let rt in c)c[rt]&&xe.push({...c[rt],key:rt});m&&xe&&xe.length>2?t.isSelfBuilt?se.value="custom":m=="stable"?se.value="suggested":se.value="passive":se.value="custom",g.value=xe||{},ct.value=c,O({key:se.value,...c[se.value]})},v=h(""),B=h(""),O=t=>{se.value=t.key.toLowerCase();const T=$.value.token_a.decimals,K=$.value.token_b.decimals,{lower:c,upper:m}=t;We.value=!1;const oe=f.value.TickMath.tickIndexToPrice(c,T,K).toString(),re=f.value.TickMath.tickIndexToPrice(m,T,K).toString();if(t.key=="full range"){v.value=c,B.value=m,G();return}Se.value?(Rt.value=String(oe),Z.value=String(oe),Ft.value=String(re),j.value=String(re),v.value=c,B.value=m):(Rt.value=new b(1).div(new b(re)).toString(),Z.value=new b(1).div(new b(re)).toString(),Ft.value=new b(1).div(new b(oe)).toString(),j.value=new b(1).div(new b(oe)).toString(),v.value=f.value.TickMath.priceToTickIndex(new b(1/Number(re)),T,K),B.value=f.value.TickMath.priceToTickIndex(new b(1/Number(oe)),T,K))},G=t=>{Z.value="0",j.value="âˆž"};ae(()=>$.value,(t,T)=>{(!T&&t&&!fe(t)||T&&t&&(!(T!=null&&T.current_tick_index)||(T==null?void 0:T.address)!==(t==null?void 0:t.address)))&&Y(t,!T||!(T!=null&&T.current_tick_index)||(T==null?void 0:T.address)!==(t==null?void 0:t.address)),t&&!fe(t)&&P(t),t||(vt.value=[])},{immediate:!0}),zt(()=>{H.value=h(),E.value=h(),vt.value=[]}),ae(()=>s.value,(t,T)=>{t&&d.setSinglePool(t,{},F.value)},{immediate:!0});const y=t=>{switch(t){case"passive":return"/sui-image/icon_conservative@2x.png";case"active":return"/sui-image/icon_active@2x.png";case"full range":return"/sui-image/icon_fullrange@2x.png";case"custom":return"/sui-image/icon_costom@2x.png";case"suggested":return"/sui-image/icon_stabel@2x.png"}},Q=t=>{switch(t){case"passive":return"/sui-image/img_conservative_def@2x.png";case"active":return"/sui-image/img_active_def@2x.png";case"full range":return"/sui-image/img_fullrange_def.png";case"custom":return"/sui-image/img_custom_def.png";case"suggested":return"/sui-image/icon_stabel_def@2x.png"}},S=t=>{switch(t){case"suggested":return e("newAdd.suggested");case"active":return e("newAdd.active");case"passive":return e("newAdd.conservative");case"full range":return e("newAdd.fullRange");case"custom":return e("newAdd.custom")}},L=t=>{var K,c;const T=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[(K=$.value)==null?void 0:K.address]&&I.value.poolPriceConfigObj[(c=$.value)==null?void 0:c.address].type||"";if(g.value.length>2)if(T=="unstable")switch(t){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(t){case"suggested":return{top:"25%"};case"full range":return{top:"49%"};case"custom":return{top:"75%"}}else if(T=="unstable")switch(t){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(t){case"full range":return{top:"35%"};case"custom":return{top:"60%"}}},U=h(1),ce=()=>{const t=U.value/2;U.value=t},le=()=>{const t=U.value*2;U.value=t},W=w(()=>{var t,T,K;return!$.value||fe(A.value.addressHistTokens)||!A.value.addressHistTokens[(t=$.value)==null?void 0:t.poolAddress]?null:Object.fromEntries((K=A.value.addressHistTokens[(T=$.value)==null?void 0:T.poolAddress])==null?void 0:K.data.map(c=>[c.key,c.value]))}),z=h(30),de=h("30D"),ne=w(()=>Se.value?W.value&&R(z.value==7?W.value.before_7_d_contract_price_lowest:z.value==24?W.value.before_24_h_contract_price_lowest:W.value.before_30_d_contract_price_lowest,6)||0:W.value&&R(new b(1).div(z.value==7?W.value.before_7_d_contract_price_highest:z.value==24?W.value.before_24_h_contract_price_highest:W.value.before_30_d_contract_price_highest).toString(),6)||0),Ue=w(()=>Se.value?W.value&&R(z.value==7?W.value.before_7_d_contract_price_highest:z.value==24?W.value.before_24_h_contract_price_highest:W.value.before_30_d_contract_price_highest,6)||0:(W.value&&R(1/Number(z.value==7?W.value.before_7_d_contract_price_lowest:z.value==24?W.value.before_24_h_contract_price_lowest:W.value.before_30_d_contract_price_lowest),6))==1/0?0:W.value&&R(1/Number(z.value==7?W.value.before_7_d_contract_price_lowest:z.value==24?W.value.before_24_h_contract_price_lowest:W.value.before_30_d_contract_price_lowest),6)||0),V=w(()=>{const t=Number(Z.value),T=Number(j.value);if(Z.value=="0"&&j.value=="âˆž"||se.value=="full range")return"1x";if(Z.value==j.value||se.value=="full range")return"--";if(Z.value&&j.value&&Z.value!=="0"&&j.value!=="âˆž"){const K=Qt(1/(1-Number((t/T)**.25)),2);return Number(K)>0?K+"x":"--"}else return 1}),ge=w(()=>{var t,T,K,c,m,oe;return((t=H.value)==null?void 0:t.isSelfBuilt)||((T=E.value)==null?void 0:T.isSelfBuilt)||((c=I.value.tokensObj[(K=H.value)==null?void 0:K.address])==null?void 0:c.isSelfBuilt)||((oe=I.value.tokensObj[(m=E.value)==null?void 0:m.address])==null?void 0:oe.isSelfBuilt)}),nt=(t,T)=>{t!==Z.value&&se.value=="full range"?O({key:"custom",...g.value.custom}):se.value!=="full range"&&se.value!=="custom"?(se.value="custom",Z.value=t):Z.value=t,we.value&&(Re.value?(Se.value&&Z.value!==we.value.minPrice&&(Re.value=!1),!Se.value&&Number(Z.value)!==1/Number(we.value.maxPrice)&&(Re.value=!1)):(Se.value&&Z.value==we.value.minPrice&&j.value==we.value.maxPrice&&(Re.value=!0),!Se.value&&Number(Z.value)==1/Number(we.value.maxPrice)&&Number(j.value)==1/Number(we.value.minPrice)&&(Re.value=!0)))},Be=(t,T)=>{t!==j.value&&se.value=="full range"?O({key:"custom",...g.value.custom}):se.value!=="full range"&&se.value!=="custom"?(se.value="custom",t=="0"?j.value="âˆž":j.value=t):t=="0"?j.value="âˆž":j.value=t,we.value&&(Re.value?(Se.value&&j.value!==we.value.maxPrice&&(Re.value=!1),!Se.value&&Number(j.value)!==1/Number(we.value.minPrice)&&(Re.value=!1)):(Se.value&&Z.value==we.value.minPrice&&j.value==we.value.maxPrice&&(Re.value=!0),!Se.value&&Number(Z.value)==1/Number(we.value.maxPrice)&&Number(j.value)==1/Number(we.value.minPrice)&&(Re.value=!0)))},bt=t=>{var T;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:1215 ~ getCoinIcon ~ info:",t),(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((T=I.value.tokensObj[t==null?void 0:t.address])==null?void 0:T.logo_url)||(A.value.theme==="default"?gt("/image/coins/unknown.png"):gt("/image/coins/sui-unknown.png"))},st=t=>{switch(t){case"active":return e("newAdd.activeTips");case"passive":return e("newAdd.passiveTips");case"full range":return e("newAdd.fullRangTips");case"suggested":return e("newAdd.suggestedTips");case"custom":return e("newAdd.customTips")}},Ee=[{label:"24H",value:24},{label:"7D",value:7},{label:"30D",value:30}],lt=qt(),Oe=w(()=>lt),we=w(()=>{var t;return Oe.value.farmsPoolObj[(t=$==null?void 0:$.value)==null?void 0:t.address]}),He=w(()=>I.value.poolPriceConfigObj);ae(()=>[Re.value,$.value,g.value,He.value,we.value,Se.value],(t,T)=>{var K,c;if(t[0]&&t[4]&&!fe(t[4]))se.value="custom",Z.value=t[5]?t[4].minPrice:String(1/t[4].maxPrice),j.value=t[5]?t[4].maxPrice:String(1/t[4].minPrice);else if(t[1]&&!fe(t[1])&&t[2]&&!fe(t[2])&&t[3]&&!fe(t[3])&&t[4]&&!fe(t[4])){t[3]&&t[3][(K=t[1])==null?void 0:K.address]&&t[3][(c=t[1])==null?void 0:c.address].type;const m=t[2].filter(oe=>oe.key===(t[2].length==4?"passive":"suggested"));m!=null&&m[0]&&(!T||T[0]!==t[0])&&O({...m[0]})}},{immediate:!0});const Ze=w(()=>I.value.poolsLoading),Ge=w(()=>{var t,T,K,c,m,oe;return[{label:(t=H.value)==null?void 0:t.symbol,value:(T=H.value)==null?void 0:T.address,logo:(K=H.value)==null?void 0:K.logo_url},{label:(c=E.value)==null?void 0:c.symbol,value:(m=E.value)==null?void 0:m.address,logo:(oe=E.value)==null?void 0:oe.logo_url}]});return{currentRectangleTab:h((Ae=H.value)==null?void 0:Ae.address),rectangleTabList:Ge,positionError:ft,getCoinIcon:bt,chainName:F,store:A,currentTab:q,currentPrice:kt,currentPriceReverse:Lt,fromCoin:H,toCoin:E,direction:Se,needReverse:M,addCommom:te,decimalUi:R,priceTabList:g,currentPriceTab:se,sliderStyle:L,poolInfo:$,tickList:vt,getPriceTabImage:y,getPriceTabDefImage:Q,getPriceTabText:S,defaultMinPrice:Rt,defaultMaxPrice:Ft,minPrice:Z,maxPrice:j,currentTick:i,chartLoading:J,zoomOut:ce,zoomIn:le,zoom:U,priceTab:O,before7dContractPriceLowest:ne,before7dContractPriceHighest:Ue,aprRewardsTime:de,lever:V,aprRewardsParameter:z,isSelfBuilt:ge,priceRangeChangeMin:nt,priceRangeChangeMax:Be,toggle:Yt,getPirceTabTips:st,timeList:Ee,farmsPoolInfo:we,checkNullObj:fe,isStableFarmingRange:Re,poolsLoading:Ze}}});const ln={class:"sui-liquidity-left"},un=a("span",{class:"selectRange"},"Select Range",-1),cn={class:"range-top"},dn={class:"price-tab-list"},mn=["onClick"],vn={class:"block"},fn=["src"],gn={class:"price-leverage"},pn={key:0,class:"tab-box"},bn={class:"price-info"},kn={class:"left"},hn={class:"current-price"},yn=a("div",{class:"current-price-title"},"Current Price",-1),Cn={key:0,class:"from-pre-to"},Pn={class:"right"},Sn={class:"chart-box"},In={class:"leverage"},Tn={class:"right-time"},wn={key:0,class:"day-7-price-range"},_n=a("i",null,null,-1),An={class:"gray"},$n={class:"time-list"},Nn=["onClick"],Ln={class:"range pc-range"},qn={key:0,class:"position-tips"},Mn=["src"],Rn={class:"error"},Fn={key:1,class:"stable-farming-range pc-stable-farming-range"},Un={class:"value"},Bn=a("img",{src:Vt},null,-1),On=a("span",{class:"text"},"Farm rewards rangeï¼š",-1),Dn={class:"text"},jn={class:"check-box-active plus-switch plus-liquidity-switch"};function zn(e,u,q,_,A,F){var $,M,J,Y;const d=Kt,I=ye("RectangleTab"),f=ye("SuiLiquidityD3Chart"),X=ye("SuiLiquidityPrice"),s=Et;return r(),l("div",ln,[un,a("div",cn,[a("div",dn,[(r(!0),l(Je,null,Bt(e.priceTabList,P=>(r(),l("div",{key:P.key,class:it(["price-tab-item",e.currentPriceTab==P.key?"price-tab-item-active":""]),onClick:g=>e.priceTab(P)},[ie(d,{placement:"bottom","arrow-point-at-center":""},{title:Qe(()=>[dt(o(e.getPirceTabTips(P.key)),1)]),default:Qe(()=>[a("div",vn,[a("img",{src:e.currentPriceTab==P.key?e.getPriceTabImage(P.key):e.getPriceTabDefImage(P.key),alt:""},null,8,fn),a("span",null,o(e.getPriceTabText(P.key)),1)])]),_:2},1024)],10,mn))),128))]),a("div",gn,[e.fromCoin&&e.toCoin?(r(),l("div",pn,[ie(I,{"current-rectangle-tab":e.currentRectangleTab,"rectangle-tab-list":e.rectangleTabList,onClickTab:u[0]||(u[0]=P=>{e.toggle()})},null,8,["current-rectangle-tab","rectangle-tab-list"])])):p("",!0),a("div",bn,[a("div",kn,[a("div",hn,[yn,a("div",null,[a("span",null,o(e.poolInfo?e.direction?("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,6)):("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(r(),l("span",Cn,o(($=e.toCoin)==null?void 0:$.symbol)+" per "+o((M=e.fromCoin)==null?void 0:M.symbol),1)):p("",!0)])])]),a("div",Pn,[e.currentTab=="liquidity"?(r(),l("div",{key:0,class:"zoom-out",onClick:u[1]||(u[1]=(...P)=>e.zoomOut&&e.zoomOut(...P))}," + ")):p("",!0),e.currentTab=="liquidity"?(r(),l("div",{key:1,class:"zoom-in",onClick:u[2]||(u[2]=(...P)=>e.zoomIn&&e.zoomIn(...P))}," - ")):p("",!0)])]),a("div",Sn,[e.poolInfo?(r(),Ye(f,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direction,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,zoom:e.zoom,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","zoom","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):p("",!0),a("div",In,[a("div",Tn,[a("div",null,[e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),l("div",wn,[_n,a("span",An,o(e.aprRewardsParameter==7?"7D":e.aprRewardsParameter==24?"24H":"30D")+" Price Range",1),a("span",null,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.before7dContractPriceLowest,6)))+" - "+o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.before7dContractPriceHighest,6))),1)])):p("",!0)]),a("div",$n,[(r(!0),l(Je,null,Bt(e.timeList,P=>(r(),l("div",{key:P.value,class:it(["time-item",P.value==e.aprRewardsParameter?"time-item-active":""]),onClick:g=>e.aprRewardsParameter=P.value},o(P.label),11,Nn))),128))])])])])])]),a("div",{class:it(["apr-and-price",e.positionError&&e.poolInfo?"padding-apr-and-price":""])},[a("div",Ln,[ie(X,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direction,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice"]),e.positionError&&e.poolInfo?(r(),l("div",qn,[a("img",{src:("importIcon"in e?e.importIcon:N(gt))("/image/icon-tips-error@2x.png"),alt:""},null,8,Mn),a("p",Rn,o(e.$t("tips.positionError")),1)])):p("",!0),e.farmsPoolInfo&&!("checkNullObj"in e?e.checkNullObj:N(fe))(e.farmsPoolInfo)&&e.fromCoin&&e.toCoin?(r(),l("div",Fn,[a("div",Un,[Bn,On,dt(" "+o(("decimalUi"in e?e.decimalUi:N(R))(e.direction?e.farmsPoolInfo.minPrice:1/e.farmsPoolInfo.maxPrice,6))+" - "+o(("decimalUi"in e?e.decimalUi:N(R))(e.direction?e.farmsPoolInfo.maxPrice:1/e.farmsPoolInfo.minPrice,6))+" ",1),a("div",Dn,"Â Â "+o((J=e.toCoin)==null?void 0:J.symbol)+" per "+o((Y=e.fromCoin)==null?void 0:Y.symbol),1)]),a("div",jn,[ie(s,{class:"liquidity-switch",checked:e.isStableFarmingRange,onClick:u[3]||(u[3]=P=>e.isStableFarmingRange=!e.isStableFarmingRange)},null,8,["checked"])])])):p("",!0)])],2)])}const En=ze(sn,[["render",zn]]),Hn=je({components:{IconSlippage:Ii,IconRefresh:Ti},props:{poolInfo:{type:Object,default:()=>({})}},setup(e,u){const q=h(!1),_=h(null),A=h(0);let F=h(!1);const d=h(20),I=pt(),f=Ve(),X=h(!1);ht(()=>{}),zt(()=>{clearInterval(_.value)});const s=()=>{F.value=!1,_.value=setInterval(()=>{var g;X.value||A.value<d.value&&(A.value+=1,A.value===d.value&&(F.value=!0,(g=e==null?void 0:e.poolInfo)!=null&&g.poolAddress&&I.updateCurrentPools(e.poolInfo.poolAddress,f.chainName),A.value=0,setTimeout(()=>{F.value=!1},1e3)))},1e3)},$=w(()=>f.slippage),M=()=>{u.emit("clearAll")},J=()=>{F.value||(F.value=!0,A.value=0,u.emit("clickRefresh"),setTimeout(()=>{F.value=!1,s()},1e3))};ae(()=>e.poolInfo,g=>{g&&!_.value&&s()},{immediate:!0});const Y=Jt(),P=mt();return{refresh:F,clickRefresh:J,isShowSwapSetting:q,countdown:A,autoRefreshTime:d,slippage:$,clearAll:M,checkNullObj:fe,router:Y,route:P}}});const Xn=e=>(yt("data-v-47ca611f"),e=e(),Ct(),e),Wn={class:"title"},Zn=Xn(()=>a("div",{class:"left"},[a("span",null,"Deposit Amounts")],-1)),Gn={key:0,class:"deposit-progress"};function Kn(e,u,q,_,A,F){const d=ye("IconSlippage"),I=ye("IconRefresh");return r(),l("div",Wn,[Zn,a("div",{class:it(["right",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[ie(d),e.route.name!=="liquidity-create"?(r(),l("div",Gn,[ie(I,{refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["refresh","onClickRefresh"])])):p("",!0)],2)])}const Jn=ze(Hn,[["render",Kn],["__scopeId","data-v-47ca611f"]]),Yn=je({components:{IconTooltip:xt,CoinImgWarning:ei},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const u=pt(),q=w(()=>u),_=Ve(),A=w(()=>_),F=mt(),d=w(()=>{let M=null;if(F.name=="liquidity-create")M=e.createPoolInfo;else for(const J in q.value.poolsObj){const Y=q.value.poolsObj[J];Y.address==F.query.poolAddress&&(M=Y)}return M}),I=w(()=>A.value.chainName?Pt(A.value.chainName):{}),f=w(()=>A.value.slippage),X=h(),s=h(),$=async()=>{var ce;if(!e.minPrice&&!e.maxPrice)return;console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:170 ~ getRatio ~ poolInfo.value:",d.value);const{TickUtil:M,TickMath:J,getNearestTickByTick:Y}=I.value,P=d.value.token_a.decimals,g=d.value.token_b.decimals;let i,k,v,B,O,G,y,Q=1,S=1;const L=d.value.current_tick_index;let U=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[d.value.address]&&q.value.poolPriceConfigObj[d.value.address].recommend_ranges||{};if(d.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&d.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?y=!0:y=!1,e.minPrice==="0"&&e.maxPrice==="âˆž")v=M.getMinIndex(d.value.tickSpacing),B=M.getMaxIndex(d.value.tickSpacing);else if(e.currentPriceTab=="custom"){y?(i=e.minPrice,k=e.maxPrice):(i=e.maxPrice!=="âˆž"?new b(1).div(e.maxPrice).toString():1/0,k=new b(1).div(e.minPrice).toString());try{O=J.priceToTickIndex(new b(i),P,g)}catch{O=-443636}try{G=J.priceToTickIndex(new b(k),P,g)}catch{G=443636}i==0&&(O=-443636),v=Y(O,Number(d.value.tickSpacing),!0),B=Y(G,Number(d.value.tickSpacing),!0)}else v=U&&U[e.currentPriceTab]&&U[e.currentPriceTab].lower,B=U&&U[e.currentPriceTab]&&U[e.currentPriceTab].upper;if(e.maxPrice==="âˆž"||L>=v&&L<=B){let le;if(e.fixedFromCoin){const de=new b(Number(e.fromCoinAmount)==0?1:e.fromCoinAmount).mul(Math.pow(10,e.fromCoin.decimals)).toString();le=new Le(de)}else{const de=new b(Number(e.toCoinAmount)==0?1:e.toCoinAmount).mul(Math.pow(10,e.toCoin.decimals)).toString();le=new Le(de)}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:262 ~ getRatio ~ poolInfo.value.current_sqrt_price:",d.value.current_sqrt_price),((ce=d==null?void 0:d.value)==null?void 0:ce.current_sqrt_price)<=0)return!1;const{tokenMaxA:W,tokenMaxB:z}=await I.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:d.value.token_a,tokenB:d.value.token_b,lowerTick:v,upperTick:B,coinAmount:le,iscoinA:y?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(f.value)/100,curSqrtPrice:new Le(d.value.current_sqrt_price)});y?e.fixedFromCoin?(S=Number(z)>0?z:"",Q=Number(W)>0?W:""):(Q=Number(W)>0?W:"",S=Number(z)>0?z:""):(e.fixedFromCoin,S=W,Q=z)}else L>B?y?(S=1,Q=0):(Q=1,S=0):L<v&&(y?(S=0,Q=1):(S=1,Q=0));if(e.minPrice=="0"&&e.maxPrice=="âˆž")X.value=50,s.value=50;else{const le=Q?Number(Q):0,W=S?Number(S):0,z=new b(W).add(new b(y?new b(le*e.currentPrice):new b(le*e.currentPriceReverse))),de=R(new b(le).mul(new b(y?e.currentPrice:e.currentPriceReverse)).div(z).mul(100).toNumber().toFixed(2),2),ne=R(new b(W).div(z).mul(100).toNumber().toFixed(2),2);X.value=de,s.value=ne}};return ae(()=>[d.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([M,J,Y,P,g])=>{J&&Y&&M&&!fe(M)&&(J!=="0"||Y!=="0")?$():(X.value="",s.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:X,toCoinRatio:s}}});const Qn={class:"deposit-ratio"},Vn={class:"deposit-ratio-text"},xn=a("span",null,"Deposit Ratio",-1),eo={class:"deposit-ratio-content"},to={class:"coin-ratio"},io={class:"coin-a-ratio"},no={class:"coin-b-ratio"};function oo(e,u,q,_,A,F){var f,X;const d=ye("IconTooltip"),I=ye("CoinImgWarning");return r(),l("div",Qn,[a("div",Vn,[xn,ie(d,{type:"depositRatio","xlink-href":"#icon-icon_tips"})]),a("div",eo,[a("div",to,[a("div",io,[ie(I,{"token-info":e.fromCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),a("span",null,o((f=e.fromCoin)==null?void 0:f.symbol),1),a("span",null,o(e.fromCoinRatio)+"%",1)]),a("div",no,[ie(I,{"token-info":e.toCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),a("span",null,o((X=e.toCoin)==null?void 0:X.symbol),1),a("span",null,o(e.toCoinRatio)+"%",1)])])])])}const ro=ze(Yn,[["render",oo]]),ao=je({components:{Modal:li,CoinImgWarning:ei,NewStatusBlock:_i},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"11111111111"},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(e,u){const{t:q}=jt(),_=w(()=>{var S,L,U;return((S=e==null?void 0:e.poolInfo)==null?void 0:S.needReverse)||((U=(L=e==null?void 0:e.poolInfo)==null?void 0:L.poolInfo)==null?void 0:U.needReverse)}),A=pt(),F=w(()=>A),d=Ve(),I=w(()=>d),f=S=>{var L;return(S==null?void 0:S.logoURI)||(S==null?void 0:S.logo_url)||((L=F.value.tokensObj[S==null?void 0:S.address])==null?void 0:L.logo_url)||(I.value.theme==="default"?gt("/image/coins/unknown.png"):gt("/image/coins/sui-unknown.png"))},X=h(!1),s=h(!0);function $(){s.value=!s.value}const M=w(()=>I.value.slippage),J=ti(),Y=w(()=>J),P=w(()=>Y.value.status),g=w(()=>I.value.chainName),i=w(()=>gi[g.value].hasNotifi),k=mt(),v=h(!1),B=h(""),O=h(""),G=h(""),y=h("");return ht(()=>{B.value=String(R(String(e.minPrice),6)),O.value=String(R(String(e.maxPrice),6)),G.value=e.currentPrice,y.value=e.currentPriceReverse,e.isIncrease&&(B.value=_.value?String(R(String(1/e.maxPrice),6)):String(R(String(e.minPrice),6)),O.value=_.value?String(R(String(1/e.minPrice),6)):String(R(String(e.maxPrice),6)),G.value=_.value?e.currentPriceReverse:e.currentPrice,y.value=_.value?e.currentPrice:e.currentPriceReverse)}),ae(s,S=>{!e.isIncrease&&S||e.isIncrease&&!_.value&&S?(B.value=String(R(String(e.minPrice),6)),O.value=String(R(String(e.maxPrice),6))):!e.isIncrease&&!S||e.isIncrease&&!_.value&&!S?(B.value=String(R(String(1/Number(e.maxPrice)),6)),O.value=String(R(String(1/Number(e.minPrice)),6))):e.isIncrease&&_.value&&(e.currentDirect?S:!S)?(B.value=String(R(String(1/Number(e.maxPrice)),6)),O.value=String(R(String(1/Number(e.minPrice)),6))):e.isIncrease&&_.value&&(e.currentDirect?!S:S)&&(B.value=String(R(String(e.minPrice),6)),O.value=String(R(String(e.maxPrice),6))),G.value=e.currentPrice,y.value=e.currentPriceReverse}),{needReverse:_,getCoinIcon:f,addCommom:te,rateChange:X,changeDirect:$,direct:s,t:q,slippage:M,notifiStatus:P,hasNotifi:i,route:k,checked:v,min:B,max:O,decimalUi:R,clickSubmit:()=>{e.isIncrease?u.emit("toAdd"):e.title==ui.global.t("newAdd.preview")?u.emit("createPool"):u.emit("toAdd",v.value&&P.value=="authenticated")}}}});const St=e=>(yt("data-v-6f7ddbb0"),e=e(),Ct(),e),so=St(()=>a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),lo={class:"modal-content"},uo={class:"pool-info"},co={class:"left"},mo={class:"pool-name"},vo={class:"right"},fo={class:"coin-info"},go={class:"from-coin-info"},po={class:"left"},bo={class:"coin-amount"},ko={class:"coin-symbol"},ho={class:"right"},yo={class:"to-coin-info"},Co={class:"left"},Po={class:"coin-amount"},So={class:"coin-symbol"},Io={class:"right"},To={class:"select-range"},wo=St(()=>a("div",{class:"select-range-title"},"Selected Range",-1)),_o={class:"price-conent"},Ao={class:"current-price"},$o={class:"left"},No={key:0,class:"current-price-title"},Lo={key:1,class:"current-price-title"},qo={key:0,class:"a2b"},Mo={key:0},Ro={key:1},Fo={key:2},Uo={key:3},Bo={key:4},Oo={key:5},Do={key:6},jo={key:7},zo={key:1,class:"a2b"},Eo={key:0},Ho={key:1},Xo={key:2},Wo={key:3},Zo={key:4},Go={key:5},Ko={key:6},Jo={key:7},Yo={key:2,class:"a2b"},Qo={key:0},Vo={key:1},xo={key:2},er={key:3},tr={key:3,class:"a2b"},ir={key:0},nr={key:1},or={key:2},rr={key:3},ar={key:0,class:"a2b"},sr={key:0},lr={key:1},ur={key:2},cr={key:3},dr={key:4},mr={key:5},vr={key:6},fr={key:7},gr={key:1,class:"a2b"},pr={key:0},br={key:1},kr={key:2},hr={key:3},yr={key:4},Cr={key:5},Pr={key:6},Sr={key:7},Ir={class:"right"},Tr=St(()=>a("use",{"xlink:href":"#icon-icon_swap2"},null,-1)),wr=[Tr],_r={class:"price-range-block-content"},Ar={class:"price-range-block"},$r={class:"price-item"},Nr={class:"title"},Lr={class:"price"},qr={key:0,class:"text"},Mr={key:1,class:"text"},Rr={key:0,class:"text"},Fr={key:1,class:"text"},Ur={key:0,class:"text"},Br={key:1,class:"text"},Or={class:"price-item"},Dr={class:"title"},jr={class:"price"},zr={key:0,class:"text"},Er={key:1,class:"text"},Hr={key:0,class:"text"},Xr={key:1,class:"text"},Wr={key:0,class:"text"},Zr={key:1,class:"text"},Gr={class:"deposit-ratio-content"},Kr={key:0,class:"range-alerts"},Jr={class:"range-alerts-top"},Yr=St(()=>a("div",{class:"title"}," Range alerts for this position ",-1)),Qr=St(()=>a("div",{class:"range-alerts-bottom"}," Subscribe to receive alerts on email, SMS, or Telegram when the price for this pool moves out of your selected range. ",-1));function Vr(e,u,q,_,A,F){const d=ye("CoinImgWarning"),I=ye("NewStatusBlock"),f=wi,X=Et,s=Dt,$=ye("Modal");return r(),Ye($,{width:"440px",visible:!0,footer:null,title:e.title,onCancel:u[2]||(u[2]=M=>e.$emit("onClose"))},{closeIcon:Qe(()=>[so]),default:Qe(()=>{var M,J,Y,P,g,i,k,v,B,O;return[a("div",lo,[a("div",uo,[a("div",co,[ie(d,{"token-info":(M=e.poolInfo)==null?void 0:M.token_a,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),ie(d,{"token-info":(J=e.poolInfo)==null?void 0:J.token_b,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),a("div",mo,[a("span",null,o(e.needReverse?(i=(g=e.poolInfo)==null?void 0:g.token_b)==null?void 0:i.symbol:(P=(Y=e.poolInfo)==null?void 0:Y.token_a)==null?void 0:P.symbol)+"Â -Â  ",1),a("span",null,o(e.needReverse?(O=(B=e.poolInfo)==null?void 0:B.token_a)==null?void 0:O.symbol:(v=(k=e.poolInfo)==null?void 0:k.token_b)==null?void 0:v.symbol),1)])]),a("div",vo,[dt(" Fee tier "),a("span",null,o(e.poolInfo&&e.poolInfo.fee*100)+"%",1)])]),a("div",fo,[a("div",go,[a("div",po,[a("div",bo,o(("addCommom"in e?e.addCommom:N(te))(e.fromCoinAmount)||0),1),a("div",ko,o(e.fromCoin&&e.fromCoin.symbol),1)]),a("div",ho,[ie(d,{"token-info":e.fromCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])]),a("div",yo,[a("div",Co,[a("div",Po,o(("addCommom"in e?e.addCommom:N(te))(e.toCoinAmount)||0),1),a("div",So,o(e.toCoin&&e.toCoin.symbol),1)]),a("div",Io,[ie(d,{"token-info":e.toCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])])]),a("div",To,[wo,e.title!==e.$t("newAdd.preview")?(r(),Ye(I,{key:0,"position-info":e.showFromCoinLock||e.showToCoinLock?{positionStatus:"Active"}:{positionStatus:"Inactive"}},null,8,["position-info"])):p("",!0)]),a("div",_o,[a("div",Ao,[a("div",$o,[e.title!==e.$t("newAdd.preview")?(r(),l("div",No,"Current Price")):(r(),l("div",Lo,"Initial Price")),e.isCreate?(r(),l(Je,{key:3},[!e.isIncrease&&!e.needReverse?(r(),l("div",ar,[e.direct&&e.currentDirect?(r(),l("span",sr,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",lr,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",ur,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",cr,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",dr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",mr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",vr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",fr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):!e.isIncrease&&e.needReverse?(r(),l("div",gr,[e.direct&&e.currentDirect?(r(),l("span",pr,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",br,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",kr,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",hr,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",yr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",Cr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",Pr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",Sr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):p("",!0)],64)):(r(),l(Je,{key:2},[!e.isIncrease&&!e.needReverse?(r(),l("div",qo,[e.direct&&e.currentDirect?(r(),l("span",Mo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",Ro,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",Fo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",Uo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",Bo,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",Oo,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",Do,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",jo,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):!e.isIncrease&&e.needReverse?(r(),l("div",zo,[e.direct&&e.currentDirect?(r(),l("span",Eo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.toCoin.decimals))),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("span",Ho,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.fromCoin.decimals))),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("span",Xo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.toCoin.decimals))),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("span",Wo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.fromCoin.decimals))),1)):p("",!0),e.direct&&e.currentDirect?(r(),l("div",Zo,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&e.currentDirect?(r(),l("div",Go,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0),e.direct&&!e.currentDirect?(r(),l("div",Ko,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),!e.direct&&!e.currentDirect?(r(),l("div",Jo,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)])):p("",!0),e.isIncrease&&!e.needReverse?(r(),l("div",Yo,[e.direct?(r(),l("span",Qo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.toCoin.decimals))),1)):(r(),l("span",Vo,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,6))),1)),e.direct?(r(),l("div",er,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):(r(),l("div",xo,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1))])):p("",!0),e.isIncrease&&e.needReverse?(r(),l("div",tr,[e.direct?(r(),l("span",ir,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPriceReverse,e.fromCoin.decimals))),1)):(r(),l("span",nr,o(("addCommom"in e?e.addCommom:N(te))(("decimalUi"in e?e.decimalUi:N(R))(e.currentPrice,e.toCoin.decimals))),1)),e.direct?(r(),l("div",or,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):(r(),l("div",rr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1))])):p("",!0)],64))]),a("div",Ir,[(r(),l("svg",{class:"icon icon-up","aria-hidden":"true",onClick:u[0]||(u[0]=(...G)=>e.changeDirect&&e.changeDirect(...G))},wr))])]),a("div",_r,[a("div",Ar,[a("div",$r,[a("div",Nr,o(e.$t("common.minPrice")),1),a("p",Lr,o(("addCommom"in e?e.addCommom:N(te))(e.min)),1),!e.isIncrease&&!e.direct?(r(),l("div",qr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(r(),l("div",Mr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.isIncrease&&e.needReverse?(r(),l(Je,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Rr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Fr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)],64)):p("",!0),e.isIncrease&&!e.needReverse?(r(),l(Je,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Ur,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Br,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0)],64)):p("",!0)]),a("div",Or,[a("div",Dr,o(e.$t("common.maxPrice")),1),a("p",jr,o(e.maxPrice.indexOf("âˆž")>-1||e.maxPrice.indexOf("+")>-1?"âˆž":("addCommom"in e?e.addCommom:N(te))(e.max)),1),!e.isIncrease&&!e.direct?(r(),l("div",zr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(r(),l("div",Er,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0),e.isIncrease&&e.needReverse?(r(),l(Je,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Hr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Xr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):p("",!0)],64)):p("",!0),e.isIncrease&&!e.needReverse?(r(),l(Je,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(r(),l("div",Wr,o(e.fromCoin.symbol)+" per "+o(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(r(),l("div",Zr,o(e.toCoin.symbol)+" per "+o(e.fromCoin.symbol),1)):p("",!0)],64)):p("",!0)])])])]),a("div",Gr,[e.poolInfo?(r(),Ye(f,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"position-total-amount":e.positionTotalAmount,"tick-lower":e.tickLower,"tick-upper":e.tickUpper},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount","position-total-amount","tick-lower","tick-upper"])):p("",!0)])]),e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(r(),l("div",Kr,[a("div",Jr,[Yr,ie(X,{class:"range-alerts-switch",checked:e.checked,onClick:u[1]||(u[1]=G=>e.checked=!e.checked)},null,8,["checked"])]),Qr])):p("",!0),ie(s,{class:"big-btn modal-bottom-btn",style:Ut(e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?{bottom:"-172px"}:{bottom:"-65px"}),onClick:e.clickSubmit},{default:Qe(()=>[dt(o(e.isIncrease?"Increase Liquidity":e.title==e.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["style","onClick"])]}),_:1},8,["title"])}const xr=ze(ao,[["render",Vr],["__scopeId","data-v-6f7ddbb0"]]),ea=je({components:{IconTooltip:xt},props:{lever:{type:String,default:""}},setup(){return{}}});const ta=e=>(yt("data-v-0923a380"),e=e(),Ct(),e),ia={class:"lever"},na={class:"left"},oa=ta(()=>a("span",{class:"lever-title"},"Leverage",-1)),ra={class:"lever-text"};function aa(e,u,q,_,A,F){const d=ye("IconTooltip");return r(),l("div",ia,[a("div",na,[oa,ie(d,{type:"leverage","xlink-href":"#icon-icon_tips"})]),a("div",ra,o(e.lever),1)])}const sa=ze(ea,[["render",aa],["__scopeId","data-v-0923a380"]]),la=je({props:{poolInfo:{type:Object,default:()=>({})},isActive:{type:Boolean,default:!0}},setup(e,u){const q=qt();w(()=>q);const _=h(!1),A=h(),F=h(!0),d=Ve(),I=w(()=>d),f=w(()=>I.value.newTopPoolsObj),X=$=>{var Y,P,g,i;const M=$[(Y=e==null?void 0:e.poolInfo)==null?void 0:Y.poolAddress]||{};let J=0;M&&!fe(M)&&((g=(P=M==null?void 0:M.stable_farming)==null?void 0:P.stable_rewarder)==null||g.forEach(k=>{k.amount_second>0&&(J+=k.amount_second)}),J>0?(_.value=!0,A.value={id:M.stable_farming.stable_farming_pool,clmm_pool_id:(i=e==null?void 0:e.poolInfo)==null?void 0:i.poolAddress},u.emit("sendFarmsPoolInfo",F.value&&e.isActive?A.value:"")):(_.value=!1,u.emit("sendFarmsPoolInfo","")))};return ae(()=>[f.value,e.poolInfo],([$,M])=>{$&&!fe($)&&M&&!fe(M)&&X($)},{immediate:!0}),ae(()=>[e.isActive,F.value,A.value],([$,M,J])=>{u.emit("sendFarmsPoolInfo",M&&e.isActive?J:"")},{immediate:!0}),{isShowAutoStake:_,changeIsOpen:()=>{F.value=!F.value,u.emit("sendFarmsPoolInfo",F.value&&e.isActive?A.value:"")},isOpen:F}}});const ua=e=>(yt("data-v-489098d8"),e=e(),Ct(),e),ca={key:0,class:"farms-auto-stake"},da=ua(()=>a("div",{class:"icon-desc"},[a("img",{class:"farms-icon",src:Vt,alt:""}),a("div",{class:"desc"},"Automatically stake your position into the farm to enjoy higher yield.")],-1)),ma={class:"switch-box"},va={key:0,class:"check-box-active plus-switch plus-liquidity-switch"},fa={class:"check-box-active plus-switch plus-liquidity-switch"};function ga(e,u,q,_,A,F){const d=Et,I=Kt;return e.isShowAutoStake?(r(),l("div",ca,[da,a("div",ma,[e.isActive?(r(),l("div",va,[ie(d,{class:"liquidity-switch",checked:e.isOpen,onClick:e.changeIsOpen},null,8,["checked","onClick"])])):(r(),Ye(I,{key:1,"overlay-style":{"min-width":"200px"},"overlay-class-name":"ant-tooltip-text-color"},ci({default:Qe(()=>[a("div",fa,[ie(d,{class:"liquidity-switch",checked:!1,onClick:()=>{}})])]),_:2},[e.isActive?void 0:{name:"title",fn:Qe(()=>[dt("Farming rewards only available for active positions.")]),key:"0"}]),1024))])])):p("",!0)}const pa=ze(la,[["render",ga],["__scopeId","data-v-489098d8"]]),ba=je({components:{SuiLiquidityTitle:Jn,SuiLiquidityDepositRatio:ro,InputLock:Ai,SuiAddOrCreate:xr,SuiFarmsAutoStake:pa,TokenInputBlock:$i,SuiLiquidityLever:sa},setup(){const{t:e,locale:u}=jt(),q=Ve(),_=w(()=>q),A=w(()=>_.value.chainName),F=pt(),d=w(()=>F),I=pi(),f=w(()=>I),X=mt(),s=w(()=>{let n=null;for(const C in d.value.poolsObj){const D=d.value.poolsObj[C];D.address==X.query.poolAddress&&(n=D)}return console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:272 ~ constpoolInfo:any=computed ~ info:",n),n}),$=h(!1),M=h(!1),J=w(()=>_.value.theme),Y=async(n,C)=>{H.value=n.needReverse?n.token_b:n.token_a,E.value=n.needReverse?n.token_a:n.token_b,x.value="",ee.value=""},P=w(()=>f.value.assets&&H.value&&f.value.assets[H.value.address]?Wt(f.value.assets[H.value.address].balance,H.value.decimals):"0"),g=w(()=>f.value.assets&&E.value&&f.value.assets[E.value.address]?Wt(f.value.assets[E.value.address].balance,E.value.decimals):"0"),i=h(),k=h(),v=h(),B=h(!1),O=n=>{var C,D,be,ue;i.value=n,n==="fromCoin"?(k.value=((C=E.value)==null?void 0:C.address)||"",v.value=X.query.actions=="new-position"?(D=H.value)==null?void 0:D.address:s.value.needReverse?s.value.token_b.address:s.value.token_a.address):(k.value=((be=H.value)==null?void 0:be.address)||"",v.value=X.query.actions=="new-position"?(ue=E.value)==null?void 0:ue.address:s.value.needReverse?s.value.token_a.address:s.value.token_b.address),B.value=!0},G=n=>{var be,ue,Ie,Te,ke,Ce,Pe,_e;const C=s.value.needReverse?s.value.token_b:s.value.token_a,D=s.value.needReverse?s.value.token_a:s.value.token_b;i.value==="fromCoin"?(((be=H.value)==null?void 0:be.address)===(C==null?void 0:C.address)||!((ue=H.value)!=null&&ue.address)?(E.value&&n.address.toLowerCase()===((Ie=E)==null?void 0:Ie.value.address.toLowerCase())&&(E.value=null),H.value=n):(H.value&&n.address.toLowerCase()===((Te=H)==null?void 0:Te.value.address.toLowerCase())&&(H.value=null),E.value=n),X.query.action||(X.query.fee="")):((ke=E.value)==null?void 0:ke.address)===(D==null?void 0:D.address)||!((Ce=E.value)!=null&&Ce.address)?(H.value&&n.address.toLowerCase()===((Pe=H)==null?void 0:Pe.value.address.toLowerCase())&&(H.value=null),E.value=n):(E.value&&n.address.toLowerCase()===((_e=E)==null?void 0:_e.value.address.toLowerCase())&&(E.value=null),H.value=n),B.value=!1},y=w(()=>_.value.chainName?Pt(_.value.chainName):{}),Q=w(()=>_.value.slippage),S=h(),L=async()=>{var De,Ne,qe,et;if(We.value||!Z.value&&!j.value)return!1;if(!x.value&&!ee.value&&!Z.value&&!j.value)return;const n=s.value||{};if(fe(n))return;const{TickUtil:C,TickMath:D,getNearestTickByTick:be}=y.value,ue=n==null?void 0:n.token_a.decimals,Ie=n==null?void 0:n.token_b.decimals;let Te,ke,Ce,Pe,_e,$e,Ke,at,he=n==null?void 0:n.current_tick_index;if(!he)return;let ve;if(n.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&n.token_b.address.toLowerCase()===E.value.address.toLowerCase()?ve=!0:ve=!1,Z.value==="0"&&j.value==="âˆž")Ce=C.getMinIndex(Number(n.tickSpacing)),Pe=C.getMaxIndex(Number(n.tickSpacing)),_e=D.tickIndexToSqrtPriceX64(Ce),$e=D.tickIndexToSqrtPriceX64(Pe);else if(se.value=="custom"){ve?(Te=Z.value,ke=j.value):(Te=j.value!=="âˆž"?new b(1).div(j.value).toString():1/0,ke=new b(1).div(Z.value).toString());try{Ke=new b(Te).equals(new b(0))?-443636:D.priceToTickIndex(new b(Te),ue,Ie)}catch{Ke=-443636}try{at=D.priceToTickIndex(new b(ke),ue,Ie)}catch{at=443636}Ce=be(Ke,Number(n.tickSpacing),!0),Pe=be(at,Number(n.tickSpacing),!0);try{_e=D.priceToSqrtPriceX64(new b(Te),ue,Ie)}catch{(ke===1/0||ke==="âˆž")&&(_e=D.tickIndexToSqrtPriceX64(C.getMinIndex(Number(n.tickSpacing))))}try{$e=D.priceToSqrtPriceX64(new b(ke),ue,Ie)}catch{(ke===1/0||ke==="âˆž")&&($e=D.tickIndexToSqrtPriceX64(C.getMaxIndex(Number(n.tickSpacing))))}}else Ce=(De=ct.value[se.value])==null?void 0:De.lower,Pe=(Ne=ct.value[se.value])==null?void 0:Ne.upper,_e=D.tickIndexToSqrtPriceX64(Ce),$e=D.tickIndexToSqrtPriceX64(Pe);if(j.value!=="âˆž"&&Ce>=Pe){console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:639 ~ updateAmounts ~",j.value!=="âˆž"&&Ce>=Pe),$.value=!0,x.value="",M.value=!0,ee.value="";return}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:708 ~ updateAmounts ~ currentTickIndex:",he),j.value==="âˆž"||he>=Ce&&he<Pe){$.value=!1,M.value=!1;let pe;if(x.value||ee.value){if(Fe.value){const Mt=new b(x.value).mul(Math.pow(10,H.value.decimals)).toString();pe=new Le(Mt)}else{const Mt=new b(ee.value).mul(Math.pow(10,E.value.decimals)).toString();pe=new Le(Mt)}D.tickIndexToSqrtPriceX64(s.value.current_tick_index);const{liquidityAmount:Me,tokenMaxA:tt,tokenMaxB:At,tokenMaxAOrigin:ii,tokenMaxBOrigin:ni}=y.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:n.token_a,tokenB:n.token_b,lowerTick:Ce,upperTick:Pe,coinAmount:pe,iscoinA:ve?Fe.value:!Fe.value,roundUp:!0,slippage:Number(Q.value)/100,curSqrtPrice:new Le(s.value.current_sqrt_price)});S.value={liquidityAmount:Me,tokenMaxA:tt,tokenMaxB:At,tokenMaxAOrigin:ii,tokenMaxBOrigin:ni},ve?Fe.value?ee.value=Number(At)>0?At:"":x.value=Number(tt)>0?tt:"":Fe.value?ee.value=tt:x.value=At}}else if(he>=Pe){if(ve?x.value="":ee.value="",$.value=ve,M.value=!ve,x.value||ee.value){let pe;if(ve){const Me=new b(ee.value).mul(Math.pow(10,(qe=E.value)==null?void 0:qe.decimals)).toString();pe=new Le(Me),S.value={liquidityAmount:y.value.estimateLiquidityForCoinB(_e,$e,pe),tokenMaxA:0,tokenMaxB:ee.value}}else{const Me=new b(x.value).mul(Math.pow(10,(et=H.value)==null?void 0:et.decimals)).toString();pe=new Le(Me),S.value={liquidityAmount:y.value.estimateLiquidityForCoinB(_e,$e,pe),tokenMaxA:0,tokenMaxB:x.value}}}}else if(he<Ce){if($.value=!ve,M.value=ve,ve?ee.value="":x.value="",x.value||ee.value){let pe;if(ve){const Me=new b(x.value).mul(Math.pow(10,H.value.decimals)).toString();pe=new Le(Me),S.value={liquidityAmount:y.value.estimateLiquidityForCoinA(_e,$e,pe),tokenMaxA:x.value,tokenMaxB:0}}else{const Me=new b(ee.value).mul(Math.pow(10,E.value.decimals)).toString();pe=new Le(Me),S.value={liquidityAmount:y.value.estimateLiquidityForCoinA(_e,$e,pe),tokenMaxA:ee.value,tokenMaxB:0}}}}else $.value=!0,console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:783 ~ updateAmounts ~ showFromCoinLock.value:",$.value),x.value="",M.value=!0,ee.value=""};ae(()=>s.value,(n,C)=>{(!C&&n&&!fe(n)||C&&n&&C.address!==n.address)&&Y(n,!C||n.address!==C.address),n&&!fe(n)&&L()},{immediate:!0}),ae(x,(n,C)=>{n==""&&Fe.value&&(ee.value=""),n&&Fe.value&&!We.value&&L()}),ae(ee,(n,C)=>{n==""&&!Fe.value&&(x.value=""),n&&!Fe.value&&!We.value&&L()}),ae(()=>Se.value,(n,C)=>{L()}),ae(()=>[H.value,E.value],([n,C])=>{n&&C&&($.value=!1,M.value=!1)});const U=h("--"),ce=w(()=>d.value.RATES),le=()=>{const n=ce.value&&ce.value[H.value.address]&&ce.value[H.value.address].price,C=ce.value&&ce.value[E.value.address]&&ce.value[E.value.address].price;if(n&&C){const D=new b(x.value>0?x.value:0).mul(n),be=new b(ee.value>0?ee.value:0).mul(C),ue=D.add(be).toNumber();U.value=ue>0&&ue<.01?"<$0.01":"$"+te(ue,2)}else U.value="--"};ae(()=>[x.value,ee.value,We.value],([n,C,D])=>{(n||C)&&!D?le():(!n||!C)&&!D&&(U.value="--")},{immediate:!0});const W=h(),z=async()=>{var ve,De;if(!Z.value&&!j.value)return!1;if(!x.value&&!ee.value&&!Z.value&&!j.value)return;const n=s.value;if(fe(n))return;const{TickUtil:C,TickMath:D,getNearestTickByTick:be}=y.value,ue=n==null?void 0:n.token_a.decimals,Ie=n==null?void 0:n.token_b.decimals;let Te,ke,Ce,Pe,_e,$e,Ke;if(n.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&n.token_b.address.toLowerCase()===E.value.address.toLowerCase()?Ke=!0:Ke=!1,Z.value==="0"&&j.value==="âˆž")Ce=C.getMinIndex(Number(n.tickSpacing)),Pe=C.getMaxIndex(Number(n.tickSpacing));else if(se.value=="custom"){Ke?(Te=Number(Z.value),ke=Number(j.value)):(Te=new b(1).div(j.value).toString(),ke=new b(1).div(Z.value).toString());try{_e=Te==0?-443636:D.priceToTickIndex(new b(Te),ue,Ie)}catch{_e=-443636}try{$e=D.priceToTickIndex(new b(ke),ue,Ie)}catch{$e=443636}Ce=be(_e,Number(n.tickSpacing),!0),Pe=be($e,Number(n.tickSpacing),!0)}else Ce=(ve=ct.value[se.value])==null?void 0:ve.lower,Pe=(De=ct.value[se.value])==null?void 0:De.upper;const at=ce.value[n==null?void 0:n.token_a.address].price,he=ce.value[n==null?void 0:n.token_b.address].price;Se.value?new Le(n.current_sqrt_price):new Le(1/n.current_sqrt_price);try{const{amountA:Ne,amountB:qe,tokenAmountsInfo:et}=await y.value.estCoinAmountsFromTotalAmount({lowerTick:Ce,upperTick:Pe,decimalsA:ue,decimalsB:Ie,curSqrtPrice:new Le(n.current_sqrt_price),totalAmount:U.value.replace(/[^\d.]/g,""),tokenPriceA:at,tokenPriceB:he});W.value=et,n.needReverse?Se.value?(x.value=Ne,ee.value=qe):(x.value=qe,ee.value=Ne):(x.value=Ne,ee.value=qe)}catch(Ne){console.log(Ne,"e===>")}};ae([Z,j],([n,C])=>{We.value?We.value&&z():L(),C!=="âˆž"&&Number(n)!==0&&Number(C)!==0&&Number(n)>=Number(C)?ft.value=!0:ft.value=!1,Number(n)==0&&Number(C)==0&&kt.value&&(ft.value=!0)},{deep:!0,immediate:!0});const de=n=>{const C=n.replace(/[^\d.]/g,""),D="$"+te(C);We.value=!0,U.value=D,C>0?z():(x.value="",ee.value="")},ne=h(!1),{setTransactionTxid:Ue,setTransactionDesc:V,setIsShowWaiting:ge,setIsShowSuccess:nt,setPositiomNum:Be,setIsShowRejected:bt}=q,st=ti(),Ee=w(()=>d.value.currentPositionInfo),lt=h(!1),Oe=h(!0),we=qt(),He=w(()=>we),Ze=w(()=>He.value.farmsPoolObj);ae(()=>[Ze.value,s.value],([n,C])=>{n&&!fe(n)&&C&&!fe(C)&&(n[C.address]||(Oe.value=!1))},{immediate:!0});const Ge=h(),Xe=h(),Ae=n=>{Ge.value=n,n?Oe.value=!0:Oe.value=!1},t=async(n,C,D,be)=>{try{C=="farming"?await d.value.setCurrentPositionInfo("","","","Sui",D,"farming"):await d.value.setCurrentPositionInfo(n,"","",A.value,be),await vi(3e3),Oe.value?await st.subscribePosition({pool_address:Ee.value.clmm_pool_id,position_index:Ee.value.name.split("-")[1]},Ee.value.clmm_position_id):await st.subscribePosition({pool_address:Ee.value.poolAddress,position_index:Ee.value.index},Ee.value.nftHash)}catch(ue){console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1151 ~ notifiSubscribePosition ~ error:",ue)}},T=async n=>{var _e,$e,Ke,at;ne.value=!1,d.value.currentPositionInfo={},Ue(""),V(e("tips.increaseLiquiditySuccess",{from:$.value?"":`${te(x.value)} ${(_e=H.value)==null?void 0:_e.symbol}`,and:!$.value&&!M.value?"and":"",to:M.value?"":`${te(ee.value)} ${($e=E.value)==null?void 0:$e.symbol}`})),ge(!0);const C=Se.value?Fe.value:!Fe.value;let D,be,ue,Ie,Te,ke;const Ce=s.value.token_a.decimals,Pe=s.value.token_b.decimals;if(Z.value==="0"&&j.value==="âˆž")ue=y.value.TickUtil.getMinIndex(Number(s.value.tickSpacing)),Ie=y.value.TickUtil.getMaxIndex(Number(s.value.tickSpacing));else if(se.value=="custom"){Se.value?(D=Z.value,be=j.value):(D=new b(1).div(j.value).toString(),be=new b(1).div(Z.value).toString());try{Te=D==0?y.value.TickUtil.getMinIndex(Number(s.value.tickSpacing)):y.value.TickMath.priceToTickIndex(new b(D),Ce,Pe)}catch{Te=y.value.TickUtil.getMinIndex(Number(s.value.tickSpacing))}try{ke=y.value.TickMath.priceToTickIndex(new b(be),Ce,Pe)}catch{ke=y.value.TickUtil.getMaxIndex(Number(s.value.tickSpacing))}ue=y.value.getNearestTickByTick(Te,Number(s.value.tickSpacing),!0),Ie=y.value.getNearestTickByTick(ke,Number(s.value.tickSpacing),!0)}else ue=ct.value[se.value].lower,Ie=ct.value[se.value].upper;try{let he;We.value?he=await y.value.getCreateAddLiquidityPayload({pool:s.value,curSqrtPrice:new Le(s.value.current_sqrt_price),tickLower:ue,tickUpper:Ie,slippage:Number(Q.value)/100,tokenAmounts:W.value}):he=await y.value.getAddLiquidityTransactionPayload({pool:{poolAddress:s.value.poolAddress,token_a:s.value.token_a,token_b:s.value.token_b},amount:Fe.value?x.value:ee.value,fix_amount_a:C,tick_lower:ue,tick_upper:Ie,index:0,slippage:Number(Q.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new Le(s.value.current_sqrt_price),farmPoolInfo:Ge.value});let ve;if(A.value==="Aptos")ve=await f.value.currentWallet.signAndSubmitTransaction(he);else{const De=await y.value.signAndExecuteTransactionBlock(f.value.currentWallet,he==null?void 0:he.txb,he==null?void 0:he.payloadParams);ve=y.value.handleTx(De)}if(console.log("0410###tx###",ve),ve&&ve.hash){Ue(ve.hash),ge(!1),nt(!0);let De;s.value.needReverse?s.value.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===E.value.address.toLowerCase()?De=!1:De=!0:s.value.token_a.address.toLowerCase()===H.value.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===E.value.address.toLowerCase()?De=!0:De=!1;const Ne={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:$.value?"":`${te(x.value)} ${(Ke=H.value)==null?void 0:Ke.symbol}`,and:!$.value&&!M.value?"and":"",to:M.value?"":`${te(ee.value)} ${(at=E.value)==null?void 0:at.symbol}`}),hash:ve.hash,tit:"Position Created",icon:"icon-icon-Position-Created"};A.value!=="Aptos"&&(Ne.res=ve.res),y.value.showTransitionPending(Ne),console.log(Ne,"toAdd params###");const qe=await y.value.watchTransaction(Ne,!0);if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1295 ~ toAdd ~ watchInfo:",qe),qe.status){nt(!1),d.value.setCurrentPositionLoading(!0);let et,pe;A.value==="Aptos"?Xe.value={token_a:s.value.token_a,token_b:s.value.token_b,minPrice:Z.value,maxPrice:j.value,pool:s.value.address,collection:qe.nftInfo[0].data.id.collection,tokenName:qe.nftInfo[0].data.name}:(pe=qe.nftInfo,console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1319 ~ toAdd ~ nftInfo:",pe),Oe.value?(qe.res.events.forEach(tt=>{tt.type.indexOf("::pool::DepositEvent")>-1&&(et=tt.parsedJson.wrapped_position_id)}),Xe.value={token_a:s.value.needReverse?s.value.token_b:s.value.token_a,token_b:s.value.needReverse?s.value.token_a:s.value.token_b,minPrice:Z.value,maxPrice:j.value,id:et,clmm_pool_id:s.value.address,pool:s.value.address}):Xe.value={token_a:s.value.needReverse?s.value.token_b:s.value.token_a,token_b:s.value.needReverse?s.value.token_a:s.value.token_b,minPrice:Z.value,maxPrice:j.value,pos_object_id:pe.position,pool:s.value.address},console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1389 ~ toAdd ~ positionInfoDetail:",Xe.value)),lt.value=!0;const Me=s.value.poolAddress;setTimeout(()=>{if(n){const tt=et?"farming":"clmm";console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1400 ~ setTimeout ~ poolInfo.value.poolAddress:",Me),t(Me,tt,et,pe==null?void 0:pe.position)}},3e3),setTimeout(()=>{F.updateCurrentPools(Me,A.value),y.value.getAccount(f.value.address)},3e3),setTimeout(async()=>{Xt(y,s)},7e3)}Be()}else ge(!1),bt(!0);x.value="",ee.value=""}catch(he){x.value="",ee.value="",console.log("0330###Add liquidity Error###",he),ge(!1),bt(!0)}},K=w(()=>!!(!x.value&&!ee.value||Number(x.value)>Number(P.value)||Number(ee.value)>Number(g.value)||m.value!==e("button.addLiquidity")&&m.value!==e("newAdd.preview")||s.value&&s.value&&s.value.is_pause||Number(x.value)<=0&&Number(ee.value)<=0||!$.value&&Number(x.value)==0||!M.value&&Number(ee.value)==0)),c=w(()=>!H.value||!E.value),m=w(()=>s.value&&s.value.is_pause?"Pool Closed":!H.value||!E.value||c.value?e("modal.selectTokenModalTitle"):Number(x.value)>Number(P.value)?e("button.insufficientBalance",{name:H.value.symbol}):Number(ee.value)>Number(g.value)?e("button.insufficientBalance",{name:E.value.symbol}):!Number(x.value)&&!Number(ee.value)?e("button.enterAmount"):j.value!=="âˆž"&&Number(Z.value)>=Number(j.value)?e("newAdd.invalidRange"):e("button.addLiquidity")),oe=h({}),re=h({}),me=h(!1),ot=(n,C)=>{const D=localStorage.getItem(n.address);console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1518 ~ getTokenSource ~ coinLocak:",D,n),n!=null&&n.isSelfBuilt&&!D&&(C=="fromCoin"&&(oe.value=n),C=="toCoin"&&(re.value=n),me.value=!0)};ae(()=>[H.value,E.value],([n,C])=>{n&&!fe(n)&&ot(n,"fromCoin"),C&&!fe(C)&&ot(C,"toCoin")},{immediate:!0});const ut=Jt(),xe=()=>{A.value!=="Aptos"?ut.push("/pool/list"):ut.push("/pools")},rt=n=>{We.value,T(n)},It=()=>{X.query.action!=="create-pool"&&X.query.actions!=="new-position"&&(Xt(y,s),L(),f.value.address&&y.value.getAccount(f.value.address),F.updateCurrentPools(s.value.poolAddress,A.value)),F.setPoolConfigList(A.value,_.value.filterCoinsObj)},Tt=w(()=>{var D,be,ue,Ie,Te,ke;const n=(ue=ce.value[(be=(D=H)==null?void 0:D.value)==null?void 0:be.address])==null?void 0:ue.price,C=(ke=ce.value[(Te=(Ie=E)==null?void 0:Ie.value)==null?void 0:Te.address])==null?void 0:ke.price;return!!(n&&C)});ae(()=>[X,d.value.tokensObj],([n,C])=>{var D;C&&!fe(C)&&(E.value||(E.value=d.value.tokensObj[(D=n==null?void 0:n.query)==null?void 0:D.toCoin]))},{immediate:!0,deep:!0});const wt=h(!0),_t=h(!1);return{lever:w(()=>{const n=Number(Z.value),C=Number(j.value);if(Z.value=="0"&&j.value=="âˆž"||se.value=="full range")return"1x";if(Z.value==j.value||se.value=="full range")return"--";if(Z.value&&j.value&&Z.value!=="0"&&j.value!=="âˆž"){const D=Qt(1/(1-Number((n/C)**.25)),2);return Number(D)>0?D+"x":"--"}else return 1}),isAddCardTopPadding:wt,isAddCardBottomPadding:_t,positionError:ft,decimalUi:R,poolInfo:s,fromCoinAmount:x,toCoinAmount:ee,fromCoin:H,toCoin:E,theme:J,showFromCoinLock:$,showToCoinLock:M,fromCoinBlance:P,toCoinBlance:g,fixedFromCoin:Fe,openCoinSelect:O,currentCoinKey:i,existingCoins:k,lastSelectCoin:v,showCoinSelect:B,onCoinSelect:G,liquidityTotalAmount:U,toggle:Yt,onInput:de,isInputTotalAmount:We,isViewDetail:lt,addLiquidityBtnDisabled:K,addLiquidityBtnText:m,isShowTokenWarning:me,chainName:A,closeTokenWarning:xe,warningFromCoin:oe,warningToCoin:re,isShowLiquidityModal:ne,currentPrice:kt,currentPriceReverse:Lt,currentPriceTab:se,minPrice:Z,maxPrice:j,toAdd:T,direction:Se,wallet:f,getAddLiquidityType:rt,clickRefresh:It,isShowtotalAmount:Tt,isAutoStakeFarming:Oe,farmPoolInfo:Ge,getFarmsPoolInfo:Ae,positionInfoDetail:Xe,getTokenSource:ot}}});const ka={class:"sui-liquidity-right-box"},ha={class:"sui-liquidity-right"},ya={class:"deposit-title"},Ca={key:0,class:"create-pool-lock"},Pa=a("img",{src:Ni,alt:""},null,-1),Sa=[Pa],Ia={key:0,class:"from-lock"},Ta={key:1,class:"to-lock"},wa=a("div",{class:"exchange-new"},[a("svg",{class:"icon icon-down","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_add1"})])],-1),_a=[wa],Aa={class:"show-info"},$a={key:0,class:"total-amount"},Na=a("span",null,"Total Amount",-1);function La(e,u,q,_,A,F){const d=ye("SuiLiquidityTitle"),I=ye("TokenInputBlock"),f=ye("InputLock"),X=ye("SuiLiquidityDepositRatio"),s=ye("SuiLiquidityLever"),$=Dt,M=Pi,J=Si,Y=ye("SuiAddOrCreate"),P=ye("SuiFarmsAutoStake");return r(),l("div",ka,[a("div",ha,[a("div",ya,[ie(d,{"pool-info":e.poolInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"])]),e.positionError?(r(),l("div",Ca,Sa)):p("",!0),a("div",{class:it(["card-container",[e.isAddCardTopPadding?"input-block-add-top":"",e.isAddCardBottomPadding?"input-block-add-bottom":""]])},[ie(I,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":u[0]||(u[0]=g=>e.fromCoinAmount=g),"input-value":e.fromCoinAmount,"token-info":e.fromCoin||null,"has-arrow":!1,onOnInput:u[1]||(u[1]=g=>{e.fromCoinAmount=g,e.fixedFromCoin=!0,e.isInputTotalAmount=!1}),onOnFocus:u[2]||(u[2]=()=>{e.isAddCardTopPadding=!0,e.isAddCardBottomPadding=!1})},null,8,["modelValue","input-value","token-info"]),ie(I,{modelValue:e.toCoinAmount,"onUpdate:modelValue":u[3]||(u[3]=g=>e.toCoinAmount=g),"input-value":e.toCoinAmount,"token-info":e.toCoin||null,"has-arrow":!1,onOnInput:u[4]||(u[4]=g=>{e.toCoinAmount=g,e.fixedFromCoin=!1,e.isInputTotalAmount=!1}),onOnFocus:u[5]||(u[5]=()=>{e.isAddCardTopPadding=!1,e.isAddCardBottomPadding=!0})},null,8,["modelValue","input-value","token-info"]),e.showFromCoinLock&&!e.positionError?(r(),l("div",Ia,[ie(f,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])])):p("",!0),e.showToCoinLock&&!e.positionError?(r(),l("div",Ta,[ie(f,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])])):p("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(r(),l("div",{key:2,class:"new-sui-exchange to-add-logo",onClick:u[6]||(u[6]=(...g)=>e.toggle&&e.toggle(...g))},_a)):p("",!0)],2),a("div",Aa,[e.isShowtotalAmount?(r(),l("div",$a,[Na,a("span",null,o(e.liquidityTotalAmount),1)])):p("",!0),ie(X,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.currentPriceTab,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"]),ie(s,{lever:e.lever},null,8,["lever"])]),ie($,{class:"big-btn",disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,onClick:u[7]||(u[7]=g=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:Qe(()=>[dt(o(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),e.showCoinSelect?(r(),Ye(M,{key:1,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:u[8]||(u[8]=g=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):p("",!0),e.isViewDetail?(r(),Ye(J,{key:2,"pool-info":e.poolInfo,"farm-pool-info":e.farmPoolInfo,"position-info":e.positionInfoDetail,"is-auto-stake-farming":e.isAutoStakeFarming,onOnClose:u[9]||(u[9]=g=>e.isViewDetail=!1)},null,8,["pool-info","farm-pool-info","position-info","is-auto-stake-farming"])):p("",!0),e.isShowLiquidityModal?(r(),Ye(Y,{key:3,"pool-info":e.poolInfo,title:e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,onToAdd:e.getAddLiquidityType,onOnClose:u[10]||(u[10]=g=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onToAdd"])):p("",!0)]),ie(P,{"pool-info":e.poolInfo,"is-active":!e.showFromCoinLock&&!e.showToCoinLock,"is-auto-stake-farming":e.isAutoStakeFarming,onSendFarmsPoolInfo:e.getFarmsPoolInfo},null,8,["pool-info","is-active","is-auto-stake-farming","onSendFarmsPoolInfo"])])}const qa=ze(ba,[["render",La]]),Ma=je({components:{SuiLiquidityLeft:En,SuiLiquidityRight:qa},setup(){const e=qt(),u=w(()=>e),q=w(()=>u.value.farmsPoolObj);zt(()=>{di(),F.setPoolsLoading(!0)}),ae(()=>q.value,d=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: deposit.vue:41 ~ watch ~ newVal:",d),d&&fe(d)&&e.getFarmsPoolList(!0)},{immediate:!0});const _=mt(),A=Ve();w(()=>A);const F=pt();return{tickList:vt,route:_}}});const Ra={key:0,class:"loading-spin-liquidity loading-global"},Fa={class:"privide-liquidity"};function Ua(e,u,q,_,A,F){var X,s;const d=Gt,I=ye("SuiLiquidityLeft"),f=ye("SuiLiquidityRight");return r(),l(Je,null,[!e.tickList&&((s=(X=e.route)==null?void 0:X.query)!=null&&s.poolAddress)?(r(),l("div",Ra,[ie(d)])):p("",!0),a("div",Fa,[ie(I),ie(f)])],64)}const Ss=ze(Ma,[["render",Ua],["__scopeId","data-v-3e261796"]]);export{Ss as default};
