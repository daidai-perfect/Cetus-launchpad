import{s as Me,q as G,d as W,c as Z,a as Y,o as x,p as he,h as j,b as Ve,v as ie,w as le,x as ze}from"./common.0c615e6b.js";import{a as ce,r as k,m as w,q as ye,A as ee,s as Oe,v as Fe,a5 as Ye,e as ue,o as l,f as c,h as o,F as K,E as Q,u as y,c as Pe,x as m,i as L,G as B,O as ke,y as P,p as de,k as me,S as Je,l as X,N as _e,L as We,V as He,j as ge,I as ne,M as ae}from"./entry.35867e31.js";/* empty css              */import{u as pe,a as we,b as Ge}from"./index.4eeca3cb.js";import{c as $e,u as Ke}from"./index.74989e11.js";import{i as be}from"./import-icon.de3e6c66.js";import"./index.ea1cc464.js";import"./index.226af5e0.js";import{l as Qe}from"./lodash.8c82281d.js";import{f as Xe}from"./formatter.6a8f4bd6.js";import{A as Ze}from"./address-copy-link.07908c78.js";import{C as xe}from"./coin-img-warning.af03d9b5.js";import{I as eo}from"./icon-refresh.edb12b36.js";import{g as oo}from"./common-fun.16d3ce6a.js";import{C as to}from"./coin-img.5ee4e211.js";import{_ as so}from"./img-no-Positions_2x.db7332cb.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./install.8eec857d.js";import"./token.17580886.js";import"./precision.c92e897d.js";var re=(e=>(e.D="day",e.W="wek",e.M="mon",e))(re||{}),Ie=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(Ie||{}),H=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(H||{}),Ce=(e=>(e[e.D=6]="D",e[e.W=8]="W",e[e.M=12]="M",e))(Ce||{}),De=(e=>(e[e.D=4]="D",e[e.W=8]="W",e[e.M=12]="M",e))(De||{});const no=ce({props:{address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const A=["D","W","M"],f=k("vol"),F=[{label:"Volume",value:"vol"},{label:"TVL",value:"tvl"},{label:"Fees",value:"fee"}],u=k(""),h=k("D"),T=k("--"),$=pe(),d=k(),I=k(),s=k(!0),N=w(()=>$),D=i=>{switch(i){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},a=w(()=>$e[N.value.chainName]),r=k(!1);ye(async()=>{window.addEventListener("resize",E),R(),await Me(1e3),r.value=!0}),ee(()=>[e.poolInfo,f.value],([i,t])=>{if(!Z(i)){console.log("ðŸš€ ~ watch ~ poolInfo:",i);let n;t=="vol"?n=i.vol:t=="tvl"?n=i.liqidity:n=i.fee_24_h,T.value=n=="--"||Number(n)==0?"$0":Number(n)!==0&&Number(n)<.01?"<$0.01":"$"+Y(n,2)}},{immediate:!0});const v=async()=>{const i=f.value=="tvl"?"pure_tvl":f.value;s.value=!0;try{const t=Ie[h.value],{data:n}=e.address!==""?await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${i}&limit=${t}&address=${e.poolInfo.address}`).then(b=>b.json()):await fetch(`${a.value.api}/v2/sui/histogram?date_type=${re[h.value]}&typ=${i}&limit=${t}`).then(b=>b.json());console.log("ðŸš€ ~ getHistogram ~ data:",n);const _=n.list.map(b=>b.num),g=n.list.map(b=>b.date);d.value=_,I.value=g,C(_,g,t),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(t){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",t)}},p=k(),C=(i,t,n)=>{const _=document.getElementById("echartsBox"),g=Fe(_);p.value=g;let b={animation:!1,tooltip:{trigger:"axis",position:function(q,S,z,J,oe){return[q[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",formatter:function(q){V(q)},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#456D89"}}},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:t.reverse(),inverse:!0,axisLabel:{interval:parseInt(Number(i.length)/15),formatter:(q,S)=>{const z=G(Date.parse(q)-288e5,"YMD")||"";let J,oe=z.slice(5,7),se=H[Number(oe)];return h.value=="M"?J=se:J=z.slice(8,10),`${J}`}}},yAxis:{show:!1,max:function(q){return Math.ceil(q.max)}},series:[{data:i.reverse(),inverse:!0,type:f.value=="tvl"?"line":"bar",symbol:"none",itemStyle:{normal:{barBorderRadius:[6,6,0,0],color:"#72C1F7"}},areaStyle:{color:new Ye(0,0,0,1,[{offset:0,color:"rgba(0, 128, 255, 0.3)"},{offset:1,color:"rgba(0, 128, 255, 0)"}])},barWidth:M.value?Ce[h.value]:De[h.value]}],grid:{left:5,top:5,bottom:20,right:5}};s.value=!1,b&&g.setOption(b),g&&g.resize(),g.on("globalout",q=>{let S;f.value=="vol"?S=Number(e.poolInfo.vol):f.value=="tvl"?S=Number(e.poolInfo.liqidity):S=Number(e.poolInfo.fee_24_h),T.value=Number(S)==0?"$0":Number(S)!==0&&Number(S)<.01?"<$0.01":"$"+Y(S,2),R()})};ee(()=>[h.value,f.value],([i,t])=>{(i||t)&&v()},{immediate:!0});const M=k(!0),E=Qe.debounce(()=>{document.body.clientWidth>750?M.value=!0:M.value=!1,!d.value&&!I.value?v():p.value&&p.value.resize()},300);Oe(()=>{window.removeEventListener("resize",E)});const R=()=>{const i=G(Date.parse(new Date().toUTCString()),"YMD")||"";let t=i.slice(5,7),n=H[Number(t)];const _=i.slice(8,10),g=n,b=i.slice(0,4);u.value=g+"&nbsp;"+_+",&nbsp;"+b+"&nbsp;(UTC)"},V=i=>{T.value=Xe(i[0].value,2);const t=Date.parse(i[0].axisValue),n=new Date(t);n.setDate(n.getDate()+7);const _=new Date(t);_.setDate(_.getDate()+31);const g=n.toUTCString(),b=_.toUTCString(),q=G(Date.parse(b),"YMD")||"",S=G(Date.parse(new Date().toUTCString()),"YMD")||"",z=Date.parse(g)>Date.parse(new Date().toUTCString())?G(Date.parse(new Date().toUTCString()),"YMD")||"":G(Date.parse(g),"YMD")||"";let J=S.slice(5,7),oe=H[Number(J)];const se=S.slice(8,10),Se=oe,Ae=S.slice(0,4);let ve=i[0].axisValue.slice(5,7),Te=H[Number(ve)];const fe=i[0].axisValue.slice(8,10),te=Te,Ne=i[0].axisValue.slice(0,4);let Le=z.slice(5,7),Ue=H[Number(Le)];const Re=z.slice(8,10),qe=Ue,Be=z.slice(0,4),Ee=H[Number(ve)+1],je=q.slice(0,4);h.value=="D"?u.value=te+"&nbsp;"+fe+",&nbsp;"+Ne+"&nbsp;(UTC)":h.value=="W"?u.value=fe+"&nbsp;"+te+"-"+Re+"&nbsp;"+qe+"&nbsp;,&nbsp;"+Be+"&nbsp;(UTC)":u.value=Date.parse(b)>=Date.parse(new Date().toUTCString())?te+"&nbsp;01-"+Se+"&nbsp;"+se+",&nbsp;"+Ae+"&nbsp;(UTC)":te+"&nbsp;01-"+Ee+"&nbsp;01,&nbsp;"+je+"&nbsp;(UTC)"};return{mode:f,showTime:u,showValue:T,modeList:F,timeList:A,isChartLoading:s,getModeLabel:D,decimalUi:W,checkNullObj:Z,store:N,currentTimeTab:h}}});const ao=e=>(de("data-v-7a82b254"),e=e(),me(),e),io={class:"sui-chart-container"},lo={class:"chart-tab"},ro={class:"mode-list"},co=["onClick"],uo={class:"time-list"},mo=["onClick"],po={class:"echarts-content"},vo={class:"echarts-content-top"},fo={key:1},ho=["innerHTML"],_o={key:0,class:"echarts-content-bottom echarts-content-bottom-isChartLoading"},go=ao(()=>o("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function bo(e,A,f,F,u,h){const T=Je,$=ke;return l(),c("div",io,[o("div",lo,[o("div",ro,[(l(!0),c(K,null,Q(e.modeList,d=>(l(),c("div",{key:d,class:P(["title",e.mode==d.value?"title-active":""]),onClick:I=>e.mode=d.value},m(d.label),11,co))),128))]),o("div",uo,[(l(!0),c(K,null,Q(e.timeList,d=>(l(),c("div",{key:d,class:P(["time-item",d==e.currentTimeTab?"time-item-active":""]),onClick:I=>e.currentTimeTab=d},m(d),11,mo))),128))])]),o("div",po,[o("div",vo,[("checkNullObj"in e?e.checkNullObj:y(Z))(e.poolInfo||{})?(l(),Pe(T,{key:0,class:"upgrade-text-skeleton","is-chart-loading":!0,active:"",paragraph:!1})):(l(),c("p",fo,m(e.showValue||"--"),1)),o("span",{innerHTML:e.showTime},null,8,ho)]),e.isChartLoading?(l(),c("div",_o,[L($)])):B("",!0),go])])}const yo=ue(no,[["render",bo],["__scopeId","data-v-7a82b254"]]),ko=ce({components:{CoinImgWarning:xe,AddressCopyLink:Ze,IconRefresh:eo},props:{address:{type:String,required:!1,default:""},refresh:{type:Boolean,required:!0,default:!1},poolInfo:{type:Object,required:!1,default:()=>({})},poolMoreInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const A=pe(),f=w(()=>A),F=w(()=>f.value.currentExplorer),u=we(),h=w(()=>u),T=w(()=>{var r,v,p,C;let a;return f.value.chainName=="Sui"?a=e.poolInfo&&e.poolInfo.object&&((r=e.poolInfo)==null?void 0:r.object.coin_a):a=e.poolMoreInfo&&((v=e.poolMoreInfo)==null?void 0:v.coinAmountA),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinA)&&((C=e.poolInfo)==null?void 0:C.coinA.decimals))}),$=w(()=>{var r,v,p,C;let a;return a=e.poolInfo&&((r=e.poolInfo)==null?void 0:r.object)&&((v=e.poolInfo)==null?void 0:v.object.coin_b),he(a,e.poolInfo&&((p=e.poolInfo)==null?void 0:p.coinB)&&((C=e.poolInfo)==null?void 0:C.coinB.decimals))}),d=w(()=>{var a,r;if(h.value.RATES){const v=j(T.value),p=j(((r=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinA)&&e.poolInfo.coinA.address])==null?void 0:r.price)||0);return v.mul(p).toString()}else return"--"}),I=w(()=>{var a,r,v;if(h.value.RATES){const p=j($.value),C=j(((v=h.value.RATES[e.poolInfo&&((a=e.poolInfo)==null?void 0:a.coinB)&&((r=e.poolInfo)==null?void 0:r.coinB.address)])==null?void 0:v.price)||0);return p.mul(C).toString()}else return"--"}),s=k(),N=k(),D=(a,r)=>{var V,i;console.log(a,r,"###usdA usdB");const v=[];let p=j(0);const C=j(a).plus(j(r));[{amount:a,name:"usdA"},{amount:r,name:"usdB"}].forEach(t=>{const n=t.amount,_=j(n).gt(0)?j(n).div(C).mul(100).toString():0,g=Ve(_,2);p=p.plus(g);const b=g.split(".");v.push({value:g,decimal:b[1],name:t.name})});let E=j(100).minus(p).toNumber();const R=v.sort((t,n)=>Number(n.decimal)-Number(t.decimal));if(E&&p.gt(0))for(let t=0;t<R.length&&E;t++)R[t].value=j(R[t].value).plus(.01).toString(),E=j(E).minus(.01).toNumber();s.value=(V=R.find(t=>t.name=="usdA"))==null?void 0:V.value,N.value=(i=R.find(t=>t.name=="usdB"))==null?void 0:i.value};return ee(()=>[d.value,I.value],([a,r])=>{a&&r&&D(a,r)},{immediate:!0}),{amountAUSD:d,amountBUSD:I,amountA:T,amountB:$,tokena_ratio:s,tokenb_ratio:N,store:f,currentExplorer:F,getExplorerUrl:x}}});const O=e=>(de("data-v-b8cc2cc6"),e=e(),me(),e),wo={class:"composition-info-box"},$o={class:"info-box"},Io={class:"info-tit"},Co=O(()=>o("span",null,"Pool Info",-1)),Do={class:"info-detail"},So={class:"item"},Ao=O(()=>o("p",null,"Pool Address",-1)),To={class:"item"},No=O(()=>o("p",null,"Pool ID",-1)),Lo={class:"item"},Uo=O(()=>o("p",null,"Tick Spacing",-1)),Ro={class:"item"},qo=O(()=>o("p",null,"Fee Tier",-1)),Bo={key:0},Eo={key:1},jo={class:"composition-box"},Mo=O(()=>o("div",{class:"info-tit"},[o("span",null,"Pool Composition")],-1)),Vo={class:"coin-a-ratio"},zo={class:"coin-b-ratio"},Oo={class:"item"},Fo={class:"row"},Yo={class:"left"},Po={class:"right"},Jo={class:"row"},Wo=O(()=>o("div",{class:"left"},"Amount",-1)),Ho={class:"right"},Go={class:"row"},Ko=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),Qo={class:"right"},Xo={class:"item"},Zo={class:"row"},xo={class:"left"},et={class:"right"},ot={class:"row"},tt=O(()=>o("div",{class:"left"},"Amount",-1)),st={class:"right"},nt={class:"row"},at=O(()=>o("div",{class:"left"},"Amount (USD)",-1)),it={class:"right"};function lt(e,A,f,F,u,h){var I,s,N,D,a,r,v,p,C,M,E,R,V,i,t,n,_,g,b,q,S,z;const T=X("IconRefresh"),$=X("AddressCopyLink"),d=X("CoinImgWarning");return l(),c("div",wo,[o("div",$o,[o("div",Io,[Co,L(T,{refresh:e.refresh,onClickRefresh:A[0]||(A[0]=J=>e.$emit("clickRefresh"))},null,8,["refresh"])]),o("div",Do,[o("div",So,[Ao,L($,{address:(I=e.poolInfo)==null?void 0:I.address,"current-explorer-type":"poolAddress"},null,8,["address"])]),o("div",To,[No,o("span",null,"#"+m(e.poolInfo&&e.poolInfo.object&&((s=e.poolInfo)==null?void 0:s.object.index)),1)]),o("div",Lo,[Uo,o("span",null,m(e.poolInfo&&((N=e.poolInfo)==null?void 0:N.tick_spacing)),1)]),o("div",Ro,[qo,("checkNullObj"in e?e.checkNullObj:y(Z))(e.poolInfo||{})?(l(),c("span",Bo,"--%")):(l(),c("span",Eo,m(e.poolInfo&&((D=e.poolInfo)==null?void 0:D.fee)*100)+"%",1))])])]),o("div",jo,[Mo,o("div",{class:P(["liquidity-ratio",(a=e.poolInfo)!=null&&a.needReverse?"liquidity-ratio-reserve":""])},[o("div",Vo,[L(d,{"token-info":(r=e.poolInfo)==null?void 0:r.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m((p=(v=e.poolInfo)==null?void 0:v.coinA)==null?void 0:p.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:y(W))(e.tokena_ratio,2))+"%",1)]),o("div",{class:P(["ratio-progress",Number(e.tokena_ratio)==0&&Number(e.tokenb_ratio)==0?"null-progress":""])},[o("div",{class:"from-percent",style:_e({width:e.tokena_ratio+"%"})},null,4),o("div",{class:"to-percent",style:_e({width:e.tokenb_ratio+"%"})},null,4)],2),o("div",zo,[L(d,{"token-info":(C=e.poolInfo)==null?void 0:C.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m((E=(M=e.poolInfo)==null?void 0:M.coinB)==null?void 0:E.symbol),1),o("span",null,m(("decimalUi"in e?e.decimalUi:y(W))(e.tokenb_ratio,2))+"%",1)])],2),o("div",{class:P(["bottom",(R=e.poolInfo)!=null&&R.needReverse?"bottom-reserve":""])},[o("div",Oo,[o("div",Fo,[o("div",Yo,[L(d,{"token-info":(V=e.poolInfo)==null?void 0:V.coinA,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinA&&e.poolInfo.coinA.symbol),1)]),o("div",Po,[L($,{address:(t=(i=e.poolInfo)==null?void 0:i.coinA)==null?void 0:t.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",Jo,[Wo,o("div",Ho,m(("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountA,(_=(n=e.poolInfo)==null?void 0:n.coinA)==null?void 0:_.decimals))),1)]),o("div",Go,[Ko,o("div",Qo,m(Number(e.amountAUSD)>0&&Number(e.amountAUSD)<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountAUSD,2))),1)])]),o("div",Xo,[o("div",Zo,[o("div",xo,[L(d,{"token-info":(g=e.poolInfo)==null?void 0:g.coinB,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),o("span",null,m(e.poolInfo&&e.poolInfo.coinB&&e.poolInfo.coinB.symbol),1)]),o("div",et,[L($,{address:(q=(b=e.poolInfo)==null?void 0:b.coinB)==null?void 0:q.address,"current-explorer-type":"coin"},null,8,["address"])])]),o("div",ot,[tt,o("div",st,m(("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountA,(z=(S=e.poolInfo)==null?void 0:S.coinB)==null?void 0:z.decimals))),1)]),o("div",nt,[at,o("div",it,m(Number(e.amountBUSD)>0&&Number(e.amountBUSD)<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:y(Y))(("decimalUi"in e?e.decimalUi:y(W))(e.amountBUSD,2))),1)])])],2)])])}const rt=ue(ko,[["render",lt],["__scopeId","data-v-b8cc2cc6"]]),ct=ce({components:{AnalyticsChart:yo,CompositionInfo:rt,CoinImg:to},setup(){const e=k(!0),A=k(!1),f=k([]),F=pe(),u=w(()=>F),h=Ke();w(()=>h);const T=we(),$=w(()=>T),d=We();w(()=>$e[u.value.chainName]);const I=w(()=>u.value.chainName),s=k(0),N=()=>{A.value=!0,s.value=s.value+1,u.value.getTransactionList(I.value,d.query.poolAddress,s.value)},D=k(!1),a=()=>{D.value=!0,e.value=!0,f.value=[],$.value.setPoolConfigList(u.value.chainName,u.value.filterCoinsObj),u.value.getTransactionList(I.value,d.query.poolAddress,0),F.getStatsData(u.value.chainName,u.value.filterCoinsObj),setTimeout(()=>{D.value=!1},1e3)},r=w(()=>{const t=d.query.poolAddress;return $.value.poolConfigObj[t]}),v=k({}),p=w(()=>oo(r.value,$,u));ee(()=>d,t=>{e.value=!0,f.value=[],u.value.getTransactionList(I.value,d.query.poolAddress,0)},{immediate:!0,deep:!0});const C=Ge(u.value.chainName),M=w(()=>u.value.isShowLoadMore);ee(()=>[u.value.liquiditytransactionList,r.value,M.value],async([t,n,_])=>{n&&(u.value.chainName&&u.value.chainName.includes("Aptos")&&(v.value=await C.getPool(n==null?void 0:n.address)),t?(f.value=t,e.value=!1,A.value=!1):_==!1&&(f.value=[],e.value=!1,A.value=!1))},{immediate:!0,deep:!0}),ye(()=>{e.value=!0}),He(()=>{u.value.setClearLiquiditytransactionList()});const E=t=>{var _;let n;return(t==null?void 0:t.address)=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?n="0x2::sui::SUI":n=t==null?void 0:t.address,(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((_=$.value.tokensObj[n])==null?void 0:_.logo_url)||(t==null?void 0:t.url)||(u.value.theme==="default"?be("/image/coins/unknown.png"):be("/image/coins/sui-unknown.png"))},R=t=>{switch(t){case"add_liquidity_event":return"Add liquidity";case"swap_event":return"Swap";case"remove_liquidity_event":return"Remove liquidity";case"collect_reward_event":return"Claim Rewards";case"collect_fee_event":return"Claim Fees"}},V=w(()=>u.value.currentExplorer);return{clickRow:t=>{const n=x(V.value,"tx",t.tx);window.open(n,"_blank")},isShowLoadMore:M,formatNumberDecimal:ie,getTimeDifferenceString:le,isTracitionLoading:A,poolStatsInfo:p,chainName:I,loadMore:N,poolMoreInfo:v,addCommom:Y,route:d,poolInfo:r,getType:R,getCoinIcon:E,transactionList:f,refresh:D,clickRefresh:a,checkNullObj:Z,store:u,isLoading:e,getSuicanExplorerUrl:ze,getExplorerUrl:x,currentExplorer:V}}});const U=e=>(de("data-v-35ee8f11"),e=e(),me(),e),ut={class:"analytics-container"},dt={class:"poolInfo"},mt={class:"transactions"},pt=U(()=>o("div",{class:"page-tit"},"Transactions",-1)),vt={class:"table-info table-transactions"},ft=U(()=>o("thead",{class:"table-header"},[o("tr",{class:"table-tr"},[o("th",null,"Event"),o("th",null,"Amounts"),o("th",null,"Transactions"),o("th",null,"Time")])],-1)),ht={key:0,class:"table-body"},_t=["onClick"],gt={key:0,class:"icon swap-icon","aria-hidden":"true"},bt=U(()=>o("use",{"xlink:href":"#icon-icon_swap3"},null,-1)),yt=[bt],kt={key:1,class:"icon add-icon","aria-hidden":"true"},wt=U(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),$t=[wt],It={key:2,class:"icon remove-icon","aria-hidden":"true"},Ct=U(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),Dt=[Ct],St={key:0,class:"jiantou"},At=["href"],Tt={key:1,class:"noData"},Nt=U(()=>o("img",{src:so},null,-1)),Lt={class:"h5-table-info h5-transactions-table-info"},Ut={class:"row"},Rt=U(()=>o("div",{class:"left"},"Event",-1)),qt={class:"right"},Bt={key:0,class:"icon swap-icon","aria-hidden":"true"},Et=U(()=>o("use",{"xlink:href":"#icon-tx_swap"},null,-1)),jt=[Et],Mt={key:1,class:"icon add-icon","aria-hidden":"true"},Vt=U(()=>o("use",{"xlink:href":"#icon-tx_add"},null,-1)),zt=[Vt],Ot={key:2,class:"icon remove-icon","aria-hidden":"true"},Ft=U(()=>o("use",{"xlink:href":"#icon-tx_remove"},null,-1)),Yt=[Ft],Pt={class:"row"},Jt=U(()=>o("div",{class:"left"},"Amounts",-1)),Wt={class:"right"},Ht={key:0,class:"jiantou"},Gt={class:"row"},Kt=U(()=>o("div",{class:"left"},"Transactions",-1)),Qt={class:"right"},Xt=["href"],Zt={class:"row"},xt=U(()=>o("div",{class:"left"},"Time (UTC)",-1)),es={class:"right"},os={key:0,class:"loading-transaction"},ts=U(()=>o("span",null,"Loading more...",-1)),ss={key:1,class:"load-more"};function ns(e,A,f,F,u,h){const T=X("AnalyticsChart"),$=X("CompositionInfo"),d=X("CoinImg"),I=ke;return l(),c("div",ut,[o("div",dt,[L(T,{"pool-info":e.poolStatsInfo,address:e.route.query.poolAddress},null,8,["pool-info","address"]),L($,{"pool-more-info":e.poolMoreInfo,"pool-info":e.poolInfo,refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["pool-more-info","pool-info","refresh","onClickRefresh"])]),o("div",mt,[pt,o("div",vt,[o("table",{class:P(["table",e.transactionList&&e.transactionList.length>0?"":"no-date-table"])},[ft,e.transactionList&&e.transactionList.length>0?(l(),c("tbody",ht,[(l(!0),c(K,null,Q(e.transactionList,(s,N)=>{var D;return l(),c("tr",{key:N,class:"table-tr",onClick:a=>e.clickRow(s)},[o("td",null,[s.type=="swap_event"?(l(),c("svg",gt,yt)):B("",!0),s.type=="add_liquidity_event"?(l(),c("svg",kt,$t)):B("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(l(),c("svg",It,Dt)):B("",!0),ge(" "+m(e.getType(s.type)),1)]),o("td",null,[o("div",{class:P(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((D=e.poolInfo)!=null&&D.needReverse)?"reserve-item-box":""])},[(l(!0),c(K,null,Q(s.items,(a,r)=>ne((l(),c("div",{key:r,class:"item"},[L(d,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:y(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:y(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1),s.type=="swap_event"?(l(),c("p",St,"â†’")):B("",!0)])),[[ae,Number(a.amount)!==0]])),128))],2)]),o("td",null,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:y(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,At)]),o("td",null,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:y(le))(Date.parse(s.block_time))),1)],8,_t)}),128))])):B("",!0),e.transactionList&&e.transactionList.length<=0&&!e.isLoading?(l(),c("div",Tt,[Nt,o("p",null,m(e.$t("newAdd.noTransactions")),1)])):B("",!0)],2)]),o("div",Lt,[(l(!0),c(K,null,Q(e.transactionList,(s,N)=>{var D;return ne((l(),c("div",{key:N,class:"card"},[o("div",Ut,[Rt,o("div",qt,[s.type=="swap_event"?(l(),c("svg",Bt,jt)):B("",!0),s.type=="add_liquidity_event"?(l(),c("svg",Mt,zt)):B("",!0),s.type=="remove_liquidity_event"||s.type=="collect_reward_event"||s.type=="collect_fee_event"?(l(),c("svg",Ot,Yt)):B("",!0),ge(" "+m(e.getType(s.type)),1)])]),o("div",Pt,[Jt,o("div",Wt,[o("div",{class:P(["item-box",(s.type=="add_liquidity_event"||s.type=="remove_liquidity_event")&&((D=e.poolInfo)!=null&&D.needReverse)?"reserve-item-box":""])},[(l(!0),c(K,null,Q(s.items,(a,r)=>ne((l(),c("div",{key:r,class:"item"},[o("div",null,[o("div",null,[L(d,{url:e.getCoinIcon(a),size:"20px"},null,8,["url"]),o("p",null,m(("addCommom"in e?e.addCommom:y(Y))(("formatNumberDecimal"in e?e.formatNumberDecimal:y(ie))(a.amount,2))),1),o("span",null,m(a.symbol),1)]),s.type=="swap_event"?(l(),c("p",Ht,"â†’")):B("",!0)])])),[[ae,Number(a.amount)!==0]])),128))],2)])]),o("div",Gt,[Kt,o("div",Qt,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:y(x))(e.currentExplorer,"tx",s.tx),target:"_blank"},[o("span",null,m(s.tx.substr(0,6))+" ... "+m(s.tx.substr(s.tx.length-4,4)),1)],8,Xt)])]),o("div",Zt,[xt,o("div",es,m(("getTimeDifferenceString"in e?e.getTimeDifferenceString:y(le))(Date.parse(s.block_time))),1)])])),[[ae,e.transactionList&&e.transactionList.length>0]])}),128))]),e.isTracitionLoading?(l(),c("div",os,[L(I),ts])):B("",!0),!e.isTracitionLoading&&e.transactionList&&e.transactionList.length>=10&&!e.isLoading&&e.isShowLoadMore?(l(),c("div",ss,[o("span",{onClick:A[0]||(A[0]=s=>e.loadMore())},"Load More")])):B("",!0)])])}const Ss=ue(ct,[["render",ns],["__scopeId","data-v-35ee8f11"]]);export{Ss as default};
