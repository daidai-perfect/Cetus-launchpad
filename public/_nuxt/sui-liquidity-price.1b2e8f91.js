import{a as ae,u as ee,b as le}from"./index.038a8f13.js";import{c as x,d as m,a as S}from"./common.a6a58fe8.js";import{a as H,r as b,q as se,s as ve,m as B,A as F,b as pe,L as ne,e as J,l as G,o,f as n,h as t,i as L,G as a,y as Z,p as de,k as ue,u as d,x as i,$ as ye,z as Ce,a6 as ke,c as Y,w as _,j as oe,F as K,N as be,Y as ge,B as ce,E as he,S as Pe,K as Se}from"./entry.16727275.js";import{I as Ie}from"./icon-slippage.5b421a3a.js";import{I as Te}from"./icon-refresh.e890c14e.js";import"./decimal.a2826370.js";import{b as te,c as $e}from"./index.f3805b23.js";import{I as Re}from"./icon-tooltip.769449d1.js";import{C as me}from"./coin-img-warning.4ea0c8a2.js";import{D as O}from"./decimal.765d8738.js";import{_ as Ne}from"./deposit-ratio.ae7b15bb.js";/* empty css              */import{i as re}from"./import-icon.de3e6c66.js";import{u as we}from"./notifi.3bc041c1.js";import{N as Ae}from"./sui-status-block.de7bdb8a.js";import{C as Ue}from"./coin-img.1992e862.js";import"./index.40b025cd.js";/* empty css              */const De=H({components:{IconSlippage:Ie,IconRefresh:Te},props:{poolInfo:{type:Object,default:()=>({})}},setup(e,l){const v=b(!1),f=b(null),I=b(0);let k=b(!1);const s=b(20),y=ae(),p=ee(),U=b(!1);se(()=>{}),ve(()=>{clearInterval(f.value)});const D=()=>{k.value=!1,f.value=setInterval(()=>{var u;U.value||I.value<s.value&&(I.value+=1,I.value===s.value&&(k.value=!0,(u=e==null?void 0:e.poolInfo)!=null&&u.poolAddress&&y.updateCurrentPools(e.poolInfo.poolAddress,p.chainName),I.value=0,setTimeout(()=>{k.value=!1},1e3)))},1e3)},z=B(()=>p.slippage),$=()=>{l.emit("clearAll")},N=()=>{k.value||(k.value=!0,I.value=0,l.emit("clickRefresh"),setTimeout(()=>{k.value=!1,D()},1e3))};F(()=>e.poolInfo,u=>{u&&!f.value&&D()},{immediate:!0});const M=pe(),C=ne();return{refresh:k,clickRefresh:N,isShowSwapSetting:v,countdown:I,autoRefreshTime:s,slippage:z,clearAll:$,checkNullObj:x,router:M,route:C}}});const Me=e=>(de("data-v-47ca611f"),e=e(),ue(),e),qe={class:"title"},Oe=Me(()=>t("div",{class:"left"},[t("span",null,"Deposit Amounts")],-1)),Be={key:0,class:"deposit-progress"};function Le(e,l,v,f,I,k){const s=G("IconSlippage"),y=G("IconRefresh");return o(),n("div",qe,[Oe,t("div",{class:Z(["right",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[L(s),e.route.name!=="liquidity-create"?(o(),n("div",Be,[L(y,{refresh:e.refresh,onClickRefresh:e.clickRefresh},null,8,["refresh","onClickRefresh"])])):a("",!0)],2)])}const Nn=J(De,[["render",Le],["__scopeId","data-v-47ca611f"]]),je=H({components:{IconTooltip:Re,CoinImgWarning:me},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const l=ae(),v=B(()=>l),f=ee(),I=B(()=>f),k=ne(),s=B(()=>{let $=null;if(k.name=="liquidity-create")$=e.createPoolInfo;else for(const N in v.value.poolsObj){const M=v.value.poolsObj[N];M.address==k.query.poolAddress&&($=M)}return $}),y=B(()=>I.value.chainName?le(I.value.chainName):{}),p=B(()=>I.value.slippage),U=b(),D=b(),z=async()=>{var Q;if(!e.minPrice&&!e.maxPrice)return;console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:170 ~ getRatio ~ poolInfo.value:",s.value);const{TickUtil:$,TickMath:N,getNearestTickByTick:M}=y.value,C=s.value.token_a.decimals,u=s.value.token_b.decimals;let r,g,h,P,T,w,A,q=1,c=1;const R=s.value.current_tick_index;let j=v.value.poolPriceConfigObj&&v.value.poolPriceConfigObj[s.value.address]&&v.value.poolPriceConfigObj[s.value.address].recommend_ranges||{};if(s.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?A=!0:A=!1,e.minPrice==="0"&&e.maxPrice==="âˆž")h=$.getMinIndex(s.value.tickSpacing),P=$.getMaxIndex(s.value.tickSpacing);else if(e.currentPriceTab=="custom"){A?(r=e.minPrice,g=e.maxPrice):(r=e.maxPrice!=="âˆž"?new O(1).div(e.maxPrice).toString():1/0,g=new O(1).div(e.minPrice).toString());try{T=N.priceToTickIndex(new O(r),C,u)}catch{T=-443636}try{w=N.priceToTickIndex(new O(g),C,u)}catch{w=443636}r==0&&(T=-443636),h=M(T,Number(s.value.tickSpacing),!0),P=M(w,Number(s.value.tickSpacing),!0)}else h=j&&j[e.currentPriceTab]&&j[e.currentPriceTab].lower,P=j&&j[e.currentPriceTab]&&j[e.currentPriceTab].upper;if(e.maxPrice==="âˆž"||R>=h&&R<=P){let E;if(e.fixedFromCoin){const X=new O(Number(e.fromCoinAmount)==0?1:e.fromCoinAmount).mul(Math.pow(10,e.fromCoin.decimals)).toString();E=new te(X)}else{const X=new O(Number(e.toCoinAmount)==0?1:e.toCoinAmount).mul(Math.pow(10,e.toCoin.decimals)).toString();E=new te(X)}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-deposit-ratio.vue:262 ~ getRatio ~ poolInfo.value.current_sqrt_price:",s.value.current_sqrt_price),((Q=s==null?void 0:s.value)==null?void 0:Q.current_sqrt_price)<=0)return!1;const{tokenMaxA:W,tokenMaxB:V}=await y.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:s.value.token_a,tokenB:s.value.token_b,lowerTick:h,upperTick:P,coinAmount:E,iscoinA:A?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(p.value)/100,curSqrtPrice:new te(s.value.current_sqrt_price)});A?e.fixedFromCoin?(c=Number(V)>0?V:"",q=Number(W)>0?W:""):(q=Number(W)>0?W:"",c=Number(V)>0?V:""):(e.fixedFromCoin,c=W,q=V)}else R>P?A?(c=1,q=0):(q=1,c=0):R<h&&(A?(c=0,q=1):(c=1,q=0));if(e.minPrice=="0"&&e.maxPrice=="âˆž")U.value=50,D.value=50;else{const E=q?Number(q):0,W=c?Number(c):0,V=new O(W).add(new O(A?new O(E*e.currentPrice):new O(E*e.currentPriceReverse))),X=m(new O(E).mul(new O(A?e.currentPrice:e.currentPriceReverse)).div(V).mul(100).toNumber().toFixed(2),2),fe=m(new O(W).div(V).mul(100).toNumber().toFixed(2),2);U.value=X,D.value=fe}};return F(()=>[s.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([$,N,M,C,u])=>{N&&M&&$&&!x($)&&(N!=="0"||M!=="0")?z():(U.value="",D.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:U,toCoinRatio:D}}});const Fe={class:"deposit-ratio"},ze={class:"deposit-ratio-text"},Ee=t("span",null,"Deposit Ratio",-1),We={class:"deposit-ratio-content"},Ve={key:0,class:"place"},Ge={key:1,class:"coin-ratio"},Ke={class:"coin-a-ratio"},Ye={class:"coin-b-ratio"};function He(e,l,v,f,I,k){var p,U;const s=G("IconTooltip"),y=G("CoinImgWarning");return o(),n("div",Fe,[t("div",ze,[Ee,L(s,{type:"depositRatio","xlink-href":"#icon-icon_tips"})]),t("div",We,[("checkNullObj"in e?e.checkNullObj:d(x))(e.fromCoin||e.toCoin||{})?(o(),n("span",Ve,"--")):(o(),n("div",Ge,[t("div",Ke,[L(y,{"token-info":e.fromCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),t("span",null,i((p=e.fromCoin)==null?void 0:p.symbol),1),t("span",null,i(e.fromCoinRatio)+"%",1)]),t("div",Ye,[L(y,{"token-info":e.toCoin,"coin-size":"20px","warning-coin-size":"10px"},null,8,["token-info"]),t("span",null,i((U=e.toCoin)==null?void 0:U.symbol),1),t("span",null,i(e.toCoinRatio)+"%",1)])]))])])}const wn=J(je,[["render",He]]),Je=H({components:{Modal:ye,CoinImgWarning:me,NewStatusBlock:Ae},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(e,l){const{t:v}=Ce(),f=B(()=>{var c,R,j;return((c=e==null?void 0:e.poolInfo)==null?void 0:c.needReverse)||((j=(R=e==null?void 0:e.poolInfo)==null?void 0:R.poolInfo)==null?void 0:j.needReverse)}),I=ae(),k=B(()=>I),s=ee(),y=B(()=>s),p=c=>{var R;return(c==null?void 0:c.logoURI)||(c==null?void 0:c.logo_url)||((R=k.value.tokensObj[c==null?void 0:c.address])==null?void 0:R.logo_url)||(y.value.theme==="default"?re("/image/coins/unknown.png"):re("/image/coins/sui-unknown.png"))},U=b(!1),D=b(!0);function z(){D.value=!D.value}const $=B(()=>y.value.slippage),N=we(),M=B(()=>N),C=B(()=>M.value.status),u=B(()=>y.value.chainName),r=B(()=>$e[u.value].hasNotifi),g=ne(),h=b(!1),P=b(""),T=b(""),w=b(""),A=b("");return se(()=>{P.value=String(m(String(e.minPrice),6)),T.value=String(m(String(e.maxPrice),6)),w.value=e.currentPrice,A.value=e.currentPriceReverse,e.isIncrease&&(P.value=f.value?String(m(String(1/e.maxPrice),6)):String(m(String(e.minPrice),6)),T.value=f.value?String(m(String(1/e.minPrice),6)):String(m(String(e.maxPrice),6)),w.value=f.value?e.currentPriceReverse:e.currentPrice,A.value=f.value?e.currentPrice:e.currentPriceReverse)}),F(D,c=>{!e.isIncrease&&c||e.isIncrease&&!f.value&&c?(P.value=String(m(String(e.minPrice),6)),T.value=String(m(String(e.maxPrice),6))):!e.isIncrease&&!c||e.isIncrease&&!f.value&&!c?(P.value=String(m(String(1/Number(e.maxPrice)),6)),T.value=String(m(String(1/Number(e.minPrice)),6))):e.isIncrease&&f.value&&(e.currentDirect?c:!c)?(P.value=String(m(String(1/Number(e.maxPrice)),6)),T.value=String(m(String(1/Number(e.minPrice)),6))):e.isIncrease&&f.value&&(e.currentDirect?!c:c)&&(P.value=String(m(String(e.minPrice),6)),T.value=String(m(String(e.maxPrice),6))),w.value=e.currentPrice,A.value=e.currentPriceReverse}),{needReverse:f,getCoinIcon:p,addCommom:S,rateChange:U,changeDirect:z,direct:D,t:v,slippage:$,notifiStatus:C,hasNotifi:r,route:g,checked:h,min:P,max:T,decimalUi:m,clickSubmit:()=>{e.isIncrease?l.emit("toAdd"):e.title==ke.global.t("newAdd.preview")?l.emit("createPool"):l.emit("toAdd",h.value&&C.value=="authenticated")}}}});const ie=e=>(de("data-v-d3264bab"),e=e(),ue(),e),Qe=ie(()=>t("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[t("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Xe={class:"modal-content"},Ze={class:"pool-info"},_e={class:"left"},xe={class:"pool-name"},ei={class:"right"},ii={class:"coin-info"},oi={class:"from-coin-info"},ni={class:"left"},ti={class:"coin-amount"},ri={class:"coin-symbol"},ai={class:"right"},si={class:"to-coin-info"},li={class:"left"},di={class:"coin-amount"},ui={class:"coin-symbol"},ci={class:"right"},mi={class:"select-range"},fi=ie(()=>t("div",{class:"select-range-title"},"Selected Range",-1)),vi={class:"price-conent"},pi={class:"current-price"},yi={class:"left"},Ci={key:0,class:"current-price-title"},ki={key:1,class:"current-price-title"},bi={key:0,class:"a2b"},gi={key:0},hi={key:1},Pi={key:2},Si={key:3},Ii={key:4},Ti={key:5},$i={key:6},Ri={key:7},Ni={key:1,class:"a2b"},wi={key:0},Ai={key:1},Ui={key:2},Di={key:3},Mi={key:4},qi={key:5},Oi={key:6},Bi={key:7},Li={key:2,class:"a2b"},ji={key:0},Fi={key:1},zi={key:2},Ei={key:3},Wi={key:3,class:"a2b"},Vi={key:0},Gi={key:1},Ki={key:2},Yi={key:3},Hi={key:0,class:"a2b"},Ji={key:0},Qi={key:1},Xi={key:2},Zi={key:3},_i={key:4},xi={key:5},eo={key:6},io={key:7},oo={key:1,class:"a2b"},no={key:0},to={key:1},ro={key:2},ao={key:3},so={key:4},lo={key:5},uo={key:6},co={key:7},mo={class:"right"},fo=ie(()=>t("use",{"xlink:href":"#icon-icon_swap2"},null,-1)),vo=[fo],po={class:"price-range-block-content"},yo={class:"price-range-block"},Co={class:"price-item"},ko={class:"title"},bo={class:"price"},go={key:0,class:"text"},ho={key:1,class:"text"},Po={key:0,class:"text"},So={key:1,class:"text"},Io={key:0,class:"text"},To={key:1,class:"text"},$o={class:"price-item"},Ro={class:"title"},No={class:"price"},wo={key:0,class:"text"},Ao={key:1,class:"text"},Uo={key:0,class:"text"},Do={key:1,class:"text"},Mo={key:0,class:"text"},qo={key:1,class:"text"},Oo={class:"deposit-ratio-content"},Bo={key:0,class:"range-alerts"},Lo={class:"plus-switch plus-liquidity-switch"},jo=ie(()=>t("div",{class:"title"}," Range alerts for this position ",-1)),Fo=ie(()=>t("div",{class:"range-alerts-bottom"}," Subscribe to receive alerts on email, SMS, or Telegram when the price for this pool moves out of your selected range. ",-1));function zo(e,l,v,f,I,k){const s=G("CoinImgWarning"),y=G("NewStatusBlock"),p=Ne,U=ge,D=ce,z=G("Modal");return o(),Y(z,{width:"440px",visible:!0,footer:null,title:e.title,onCancel:l[2]||(l[2]=$=>e.$emit("onClose"))},{closeIcon:_(()=>[Qe]),default:_(()=>{var $,N,M,C,u,r,g,h,P,T;return[t("div",Xe,[t("div",Ze,[t("div",_e,[L(s,{"token-info":($=e.poolInfo)==null?void 0:$.token_a,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),L(s,{"token-info":(N=e.poolInfo)==null?void 0:N.token_b,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),t("div",xe,[t("span",null,i(e.needReverse?(r=(u=e.poolInfo)==null?void 0:u.token_b)==null?void 0:r.symbol:(C=(M=e.poolInfo)==null?void 0:M.token_a)==null?void 0:C.symbol)+"Â -Â  ",1),t("span",null,i(e.needReverse?(T=(P=e.poolInfo)==null?void 0:P.token_a)==null?void 0:T.symbol:(h=(g=e.poolInfo)==null?void 0:g.token_b)==null?void 0:h.symbol),1)])]),t("div",ei,[oe(" Fee tier "),t("span",null,i(e.poolInfo&&e.poolInfo.fee*100)+"%",1)])]),t("div",ii,[t("div",oi,[t("div",ni,[t("div",ti,i(("addCommom"in e?e.addCommom:d(S))(e.fromCoinAmount)||0),1),t("div",ri,i(e.fromCoin&&e.fromCoin.symbol),1)]),t("div",ai,[L(s,{"token-info":e.fromCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])]),t("div",si,[t("div",li,[t("div",di,i(("addCommom"in e?e.addCommom:d(S))(e.toCoinAmount)||0),1),t("div",ui,i(e.toCoin&&e.toCoin.symbol),1)]),t("div",ci,[L(s,{"token-info":e.toCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])])]),t("div",mi,[fi,e.title!==e.$t("newAdd.preview")?(o(),Y(y,{key:0,"position-info":e.showFromCoinLock||e.showToCoinLock?{positionStatus:"Inactive"}:{positionStatus:"Active"}},null,8,["position-info"])):a("",!0)]),t("div",vi,[t("div",pi,[t("div",yi,[e.title!==e.$t("newAdd.preview")?(o(),n("div",Ci,"Current Price")):(o(),n("div",ki,"Initial Price")),e.isCreate?(o(),n(K,{key:3},[!e.isIncrease&&!e.needReverse?(o(),n("div",Hi,[e.direct&&e.currentDirect?(o(),n("span",Ji,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("span",Qi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.toCoin.decimals))),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("span",Xi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("span",Zi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.fromCoin.decimals))),1)):a("",!0),e.direct&&e.currentDirect?(o(),n("div",_i,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("div",xi,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("div",eo,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("div",io,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0)])):!e.isIncrease&&e.needReverse?(o(),n("div",oo,[e.direct&&e.currentDirect?(o(),n("span",no,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("span",to,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("span",ro,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("span",ao,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):a("",!0),e.direct&&e.currentDirect?(o(),n("div",so,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("div",lo,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("div",uo,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("div",co,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0)])):a("",!0)],64)):(o(),n(K,{key:2},[!e.isIncrease&&!e.needReverse?(o(),n("div",bi,[e.direct&&e.currentDirect?(o(),n("span",gi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("span",hi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.toCoin.decimals))),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("span",Pi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("span",Si,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.fromCoin.decimals))),1)):a("",!0),e.direct&&e.currentDirect?(o(),n("div",Ii,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("div",Ti,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("div",$i,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("div",Ri,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0)])):!e.isIncrease&&e.needReverse?(o(),n("div",Ni,[e.direct&&e.currentDirect?(o(),n("span",wi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("span",Ai,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("span",Ui,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.toCoin.decimals))),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("span",Di,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.fromCoin.decimals))),1)):a("",!0),e.direct&&e.currentDirect?(o(),n("div",Mi,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),!e.direct&&e.currentDirect?(o(),n("div",qi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0),e.direct&&!e.currentDirect?(o(),n("div",Oi,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),!e.direct&&!e.currentDirect?(o(),n("div",Bi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0)])):a("",!0),e.isIncrease&&!e.needReverse?(o(),n("div",Li,[e.direct?(o(),n("span",ji,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)):(o(),n("span",Fi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,6))),1)),e.direct?(o(),n("div",Ei,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):(o(),n("div",zi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1))])):a("",!0),e.isIncrease&&e.needReverse?(o(),n("div",Wi,[e.direct?(o(),n("span",Vi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPriceReverse,e.fromCoin.decimals))),1)):(o(),n("span",Gi,i(("addCommom"in e?e.addCommom:d(S))(("decimalUi"in e?e.decimalUi:d(m))(e.currentPrice,e.toCoin.decimals))),1)),e.direct?(o(),n("div",Ki,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):(o(),n("div",Yi,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1))])):a("",!0)],64))]),t("div",mo,[(o(),n("svg",{class:"icon icon-up","aria-hidden":"true",onClick:l[0]||(l[0]=(...w)=>e.changeDirect&&e.changeDirect(...w))},vo))])]),t("div",po,[t("div",yo,[t("div",Co,[t("div",ko,i(e.$t("common.minPrice")),1),t("p",bo,i(("addCommom"in e?e.addCommom:d(S))(e.min)),1),!e.isIncrease&&!e.direct?(o(),n("div",go,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(o(),n("div",ho,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),e.isIncrease&&e.needReverse?(o(),n(K,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",Po,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",So,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0)],64)):a("",!0),e.isIncrease&&!e.needReverse?(o(),n(K,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",Io,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",To,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0)],64)):a("",!0)]),t("div",$o,[t("div",Ro,i(e.$t("common.maxPrice")),1),t("p",No,i(e.maxPrice.indexOf("âˆž")>-1||e.maxPrice.indexOf("+")>-1?"âˆž":("addCommom"in e?e.addCommom:d(S))(e.max)),1),!e.isIncrease&&!e.direct?(o(),n("div",wo,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(o(),n("div",Ao,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0),e.isIncrease&&e.needReverse?(o(),n(K,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",Uo,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",Do,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):a("",!0)],64)):a("",!0),e.isIncrease&&!e.needReverse?(o(),n(K,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(o(),n("div",Mo,i(e.fromCoin.symbol)+" per "+i(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(o(),n("div",qo,i(e.toCoin.symbol)+" per "+i(e.fromCoin.symbol),1)):a("",!0)],64)):a("",!0)])])])]),t("div",Oo,[e.poolInfo?(o(),Y(p,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"position-total-amount":e.positionTotalAmount,"tick-lower":e.tickLower,"tick-upper":e.tickUpper},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount","position-total-amount","tick-lower","tick-upper"])):a("",!0)])]),e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(o(),n("div",Bo,[t("div",Lo,[jo,L(U,{class:"range-alerts-switch",checked:e.checked,onClick:l[1]||(l[1]=w=>e.checked=!e.checked)},null,8,["checked"])]),Fo])):a("",!0),L(D,{class:"big-btn modal-bottom-btn",style:be(e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?{bottom:"-172px"}:{bottom:"-65px"}),onClick:e.clickSubmit},{default:_(()=>[oe(i(e.isIncrease?"Increase Liquidity":e.title==e.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["style","onClick"])]}),_:1},8,["title"])}const An=J(Je,[["render",zo],["__scopeId","data-v-d3264bab"]]),Eo=H({components:{CoinImage:Ue},props:{rectangleTabList:{type:Object,default:()=>null},currentRectangleTab:{type:String,default:()=>""}},setup(e){const l=e.rectangleTabList;return{activeIndex:b(0),list:l}}});const Wo={class:"rectangle-tab"},Vo=["onClick"];function Go(e,l,v,f,I,k){const s=G("CoinImage");return o(),n("div",Wo,[(o(!0),n(K,null,he(e.list,(y,p)=>(o(),n("div",{key:y.link,class:Z(e.activeIndex==p?"tab-active tab":"tab"),onClick:()=>{e.$emit("clickTab",y),e.activeIndex=p}},[y.logo?(o(),Y(s,{key:0,url:y.logo,size:e.logoSize||"16px"},null,8,["url","size"])):a("",!0),t("span",null,i(y.label),1)],10,Vo))),128))])}const Un=J(Eo,[["render",Go],["__scopeId","data-v-0f9b9fc6"]]),Ko=H({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,l){const v=b(""),f=b("");let I=b(""),k=b("");const s=ne(),y=ee(),p=B(()=>y),U=B(()=>p.value.chainName?le(p.value.chainName):{}),D=()=>{var r,g,h,P;if(!(Number.isNaN(v.value)||Number(v.value)!==0&&!v.value||!e.poolInfo.tickSpacing))try{const{TickUtil:T,TickMath:w,getNearestTickByTick:A}=U.value,q=w.priceToTickIndex(new O(v.value.toString()),(r=C.value.token_a)==null?void 0:r.decimals,(g=C.value.token_b)==null?void 0:g.decimals),c=A(q,Number(C.value.tickSpacing),!0);let R;if(R=w.tickIndexToPrice(c+Number(C.value.tickSpacing),(h=C.value.token_a)==null?void 0:h.decimals,(P=C.value.token_b)==null?void 0:P.decimals),e.pType=="Min"&&Number(R.toString())>Number(k.value.toString()))return;const j=R.toString();l.emit("onInput",j)}catch{l.emit("onInput","")}},z=()=>{var r,g,h,P;try{if(Number.isNaN(v.value)||!v.value||!e.poolInfo.tickSpacing)return;const{TickUtil:T,TickMath:w,getNearestTickByTick:A}=U.value,q=w.priceToTickIndex(new O(v.value.toString()),(r=C.value.token_a)==null?void 0:r.decimals,(g=C.value.token_b)==null?void 0:g.decimals),c=A(q,Number(C.value.tickSpacing),!0);let R;R=w.tickIndexToPrice(c-Number(C.value.tickSpacing),(h=C.value.token_a)==null?void 0:h.decimals,(P=C.value.token_b)==null?void 0:P.decimals);const j=R.toString();if(e.pType=="Max"&&Number(R)<Number(I.value))return;l.emit("onInput",j)}catch{l.emit("onInput","")}},$=r=>{let g=r.toString().replace(/[^\d.]/g,"");const h=/^\d+(\.\d+)?$/;g.split(".").length>2&&!h.exec(g)&&(g=g.substr(0,g.length-1)),f.value=String(g)},N=r=>{if(r=="")f.value="";else if(r&&r!=="0"&&r!=="âˆž"){v.value=r;const h=r.toString().split(".")[1];f.value=r!=="0"&&r!=="âˆž"&&h&&h.length>6?m(r.toString(),6):r.toString()}else(r=="0"||r=="âˆž"||s.query.action)&&(f.value=r)},M=r=>{var A,q,c,R;const{TickUtil:g,TickMath:h,getNearestTickByTick:P}=U.value,T=r.target.value;let w;if(T==="0"){w=-443636,l.emit("onInput","0");return}else if(T!=="0"&&T){const j=h.priceToTickIndex(new O(T),(A=C.value.token_a)==null?void 0:A.decimals,(q=C.value.token_b)==null?void 0:q.decimals);w=P(Number(j),Number(C.value.tickSpacing),!0);const Q=h.tickIndexToPrice(new O(w),(c=C.value.token_a)==null?void 0:c.decimals,(R=C.value.token_b)==null?void 0:R.decimals);N(Q.toString()),l.emit("onInput",Q.toString())}else l.emit("onInput")};F(()=>e.defaultMinPrice,(r,g)=>{r!==g&&(I.value=e.defaultMinPrice)},{immediate:!0}),F(()=>e.defaultMaxPrice,(r,g)=>{r!==g&&(k.value=e.defaultMaxPrice)},{immediate:!0}),F(()=>[e.inputValue,s.query.action],([r])=>{N(r)},{immediate:!0});const C=b({});F(()=>e.poolInfo,(r,g)=>{r&&(C.value=r)},{immediate:!0});const u=b("");return F(()=>e.currentPriceTab,r=>{u.value=r},{immediate:!0}),{addPrice:D,minusPrice:z,oValue:f,changeValue:$,isDisabled:u,route:s,onBlur:M}}});const Yo={class:"set-price-item"},Ho={class:"title"},Jo={class:"input-box"},Qo={key:0,class:"minus-btn"},Xo={key:1,class:"plus-btn"},Zo={key:1},_o={key:3};function xo(e,l,v,f,I,k){const s=Se,y=Pe;return o(),n("div",Yo,[t("div",Ho,i(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),L(y,{loading:e.loading,active:"",paragraph:!1},{default:_(()=>[t("div",Jo,[e.currentPriceTab!=="full range"?(o(),n("a",Qo,[t("div",{class:Z(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:l[0]||(l[0]=(...p)=>e.minusPrice&&e.minusPrice(...p))},"-",2)])):a("",!0),L(s,{id:"pValu",value:e.oValue,"onUpdate:value":l[1]||(l[1]=p=>e.oValue=p),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:l[2]||(l[2]=p=>e.changeValue(p.target.value)),onBlur:l[3]||(l[3]=p=>e.onBlur(p))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(o(),n("a",Xo,[t("div",{class:Z(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:l[4]||(l[4]=(...p)=>e.addPrice&&e.addPrice(...p))},"+",2)])):a("",!0)])]),_:1},8,["loading"]),t("p",{class:Z(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},[("checkNullObj"in e?e.checkNullObj:d(x))(e.toCoin||{})?(o(),Y(y,{key:0,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):(o(),n("span",Zo,i(e.toCoin&&e.toCoin.symbol),1)),oe(" Â perÂ  "),("checkNullObj"in e?e.checkNullObj:d(x))(e.fromCoin||{})?(o(),Y(y,{key:2,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):(o(),n("span",_o,i(e.fromCoin&&e.fromCoin.symbol),1))],2)])}const en=J(Ko,[["render",xo],["__scopeId","data-v-ab984349"]]),on=H({components:{SuiLiquiditySetPrice:en},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,l){let v=b(""),f=b(""),I=b(),k=b(!1),s=b(!1);const y=b({}),p=ee(),U=B(()=>p);se(()=>{v.value=e.min,f.value=e.max}),F(()=>e.currentPriceTab,(u,r)=>{u!==r&&(I.value=e.currentPriceTab)},{immediate:!0}),F(()=>e.min,(u,r)=>{u!==r&&(v.value=u)}),F(()=>e.max,(u,r)=>{u!==r&&(f.value=u)}),F(()=>e.poolInfo,(u,r)=>{u&&(y.value=u)},{immediate:!0});const D=b("");F(()=>e.intPrice,u=>{D.value=u},{immediate:!0,deep:!0});const z=u=>{v.value=u,l.emit("onChangeMinPrice",u)},$=u=>{f.value=u,l.emit("onChangeMaxPrice",u)};F(k,(u,r)=>{u!==r&&l.emit("onChangeFullRange",u)});const N=()=>{v.value=e.defaultMinPrice,f.value=e.defaultMaxPrice,s.value=!1,k.value=!1},M=()=>{s.value=!1,v.value="0",f.value="âˆž"};return F(k,(u,r)=>{u!==r&&l.emit("onChangeFullRange",u)}),{store:U,changeMinPrice:z,changeMaxPrice:$,importIcon:re,resetPrice:N,changeShowUnderStand:()=>{k.value=!k.value,k.value?s.value=!0:N(),s.value||(v.value=e.defaultMinPrice,f.value=e.defaultMaxPrice)},showUnderStand:s,minPrice:v,maxPrice:f,understand:M,isRadio:k,initPirce:D}}});const nn={class:"set-price"},tn={class:"card-container"},rn={key:0,class:"card"},an={key:1,class:"understand"},sn={class:"left"},ln={class:"right"};function dn(e,l,v,f,I,k){const s=G("SuiLiquiditySetPrice"),y=ce;return o(),n("div",nn,[t("div",tn,[e.showUnderStand?(o(),n("div",an,[t("div",sn,[t("p",null,i(e.$t("common.lowerEfficiency")),1),t("p",null,i(e.$t("common.lowerEfficiencyTips")),1)]),t("div",ln,[L(y,{onClick:e.understand},{default:_(()=>[oe(i(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(o(),n("div",rn,[L(s,{value:e.minPrice,"onUpdate:value":l[0]||(l[0]=p=>e.minPrice=p),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),L(s,{value:e.maxPrice,"onUpdate:value":l[1]||(l[1]=p=>e.maxPrice=p),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const Dn=J(on,[["render",dn],["__scopeId","data-v-c768aef0"]]);export{Un as R,Nn as S,wn as a,An as b,Dn as c};
