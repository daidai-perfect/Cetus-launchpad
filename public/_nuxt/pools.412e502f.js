import{a as ne,r as h,aD as ke,aE as we,L as ae,G as ie,N as be,v as L,F as re,s as de,w as q,aF as Ie,i as Ce,H as Q,aG as Le,Y as z,k as X,b as ue,o as n,e as i,f as s,h as I,t as a,a1 as K,a2 as N,q as R,c as ce,l as B,m as E,y as P,a5 as ve,B as Se,p as me,j as pe,x as Ae,J as Ve,ah as Te,a0 as Y,K as oe,C as le,ab as te,aq as Be,S as Re,au as Ue}from"./entry.e6bb9b7a.js";/* empty css              */import{_ as J}from"./icon_on_2x.1a355419.js";import{_ as De,a as Ee}from"./img-no-Positions_2x.3a4bda32.js";const Ke=ne({props:{lItem:{type:Object,required:!0}},setup(e){const l=h(!1),C=ke(we,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:O}=ae(),A=ie(),V=be(),$=L(()=>V),y=h(!1);function _(d){const g=d.balance,j=Le(g).div(Math.pow(10,d.decimals)).toString();return Q(j,d.decimals)}const f=d=>{y.value=!0,setTimeout(()=>{y.value=!1},2e3),console.log(A,"==>router"),console.log(d,"===>pool163"),A.push(`/deposit?tokena=${d.coinA.address}&tokenb=${d.coinB.address}&fee=${d.fee}`)},b=re(),u=L(()=>b),k=L(()=>u.value.newTokenObj&&e.lItem.coinA.address&&u.value.newTokenObj[e.lItem.coinA.address]&&u.value.newTokenObj[e.lItem.coinA.address].logoURI),t=L(()=>u.value.newTokenObj&&e.lItem.coinB.address&&u.value.newTokenObj[e.lItem.coinB.address]&&u.value.newTokenObj[e.lItem.coinB.address].logoURI),m=h([]),p=de(),U=L(()=>p);return q(()=>[u.value.addressLpTokens,u.value.newTokenObj,U.value.newTopPoolsObj],([d,g,j])=>{if(!z(d)&&!z(g)&&!z(u.value.RATES)&&!z(j)){const D=e.lItem.address&&d[e.lItem.address]&&d[e.lItem.address].rewarder_infos||[];console.log(D,"===>result1111");const F=[];D.forEach((T,H)=>{const M=g[T.coinAddress].decimals,Z=X(T.emissionsEveryDay/Math.pow(10,M),2),W=X(Number(Z)*u.value.RATES[g[T.coinAddress].name.toUpperCase()].price,2);F.push({...T,logoUrl:g[T.coinAddress].logoURI,day:Z,dayUSD:W,symbol:g[T.coinAddress].symbol,rewarders:e.lItem[`rewarders${H}`]})}),console.log(F,"===>mockArr"),m.value=F}},{immediate:!0}),console.log(e.lItem,"===>lItem"),{t:O,isShow:l,indicator:C,thousands:Ie,importIcon:Ce,router:A,wallet:$,addCommom:Q,getLpView:_,toAdd:f,fromCoinUrl:k,toCoinUrl:t,addLiquidity:y,rewarderInfo:m}}});const Ne=e=>(me("data-v-d345c9ae"),e=e(),pe(),e),Oe={class:"pools-list-item"},Pe=Ne(()=>s("div",{class:"topBg"},null,-1)),qe={class:"top"},je={class:"img-box"},Fe=["src"],ze=["src"],He={class:"coin-name"},Me={class:"symbol-label"},Ze={class:"apr"},Ge={class:"apr-hover"},Je={key:0,class:"apr-hover-top"},We={key:1,class:"apr-hover-top"},Ye={key:2,class:"apr-hover-bottom"},Qe={class:"bottom"},Xe={class:"induction"},xe={class:"item"},es={class:"induction-text"},ss={class:"induction-value"},os={class:"item"},ls={class:"induction-text"},ts={class:"induction-value"},ns={class:"item"},as={class:"induction-text"},is={class:"induction-value"},rs={class:"item rewards-item"},ds={class:"induction-text"},us={class:"induction-value induction-value-rewards"},cs={class:"rewards-hover"},vs=["src"],ms=["src"];function ps(e,l,C,O,A,V){var _,f,b,u,k,t,m,p,U;const $=ve,y=Se;return n(),i("div",Oe,[Pe,s("div",qe,[s("div",je,[(_=e.lItem)!=null&&_.coinA?(n(),i("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${(f=e.lItem)==null?void 0:f.coinA.symbol.toLowerCase()}.png`)},null,8,Fe)):I("",!0),(b=e.lItem)!=null&&b.coinB?(n(),i("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(u=e.lItem)==null?void 0:u.coinB.symbol.toLowerCase()}.png`)},null,8,ze)):I("",!0)]),s("span",He,a((t=(k=e.lItem)==null?void 0:k.coinA)==null?void 0:t.symbol)+" - "+a((p=(m=e.lItem)==null?void 0:m.coinB)==null?void 0:p.symbol),1),s("div",Me,[(n(!0),i(K,null,N((U=e.lItem)==null?void 0:U.labels,(d,g)=>(n(),i("div",{key:g,class:R(["lable",d])},null,2))),128))]),s("div",Ze,[s("span",{onClick:l[0]||(l[0]=d=>e.isShow=!e.isShow)},a(e.addCommom(e.lItem.aprTotal,2))+" ",1),s("span",{onClick:l[1]||(l[1]=d=>e.isShow=!e.isShow)},a(e.$t("common.apr")),1),s("div",{class:R(["apr-hover-con",e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"])},[s("div",Ge,[e.rewarderInfo&&e.rewarderInfo.length>0?(n(),i("div",Je,a(e.$t("tips.aprTips")),1)):(n(),i("div",We,a(e.$t("tips.aprTipsTest")),1)),e.rewarderInfo&&e.rewarderInfo.length>0?(n(),i("div",Ye,[s("div",null,[s("span",null,a(e.$t("common.fees")),1),s("span",null,a(e.lItem.apr),1)]),(n(!0),i(K,null,N(e.rewarderInfo,d=>(n(),i("div",{key:d},[s("span",null,a(d.symbol)+" Rewards ",1),s("span",null,a(d.rewarders),1)]))),128))])):I("",!0)])],2)])]),s("div",Qe,[s("div",Xe,[s("div",xe,[s("div",es,a(e.$t("common.feeTier")),1),s("div",ss,a(e.lItem.fee*100)+"%",1)]),s("div",os,[s("div",ls,a(e.$t("common.liquidity")),1),s("div",ts,"$"+a(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ns,[s("div",as,a(e.$t("common.volume24H")),1),s("div",is,"$"+a(e.addCommom(e.lItem.vol,2)),1)]),s("div",rs,[s("div",ds,a(e.$t("common.rewards")),1),s("div",us,[e.rewarderInfo&&e.rewarderInfo.length>0?(n(!0),i(K,{key:0},N(e.rewarderInfo,d=>(n(),i("div",{key:d,class:"rewards"},[s("div",cs,[s("img",{src:d.logoUrl,alt:""},null,8,vs),s("span",null,a(`${d.day} ($${d.dayUSD}) per Day`),1)]),s("img",{src:d.logoUrl,alt:""},null,8,ms),s("span",null,a(d.symbol),1)]))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(n(),ce($,{key:1,size:"small"})):I("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0?(n(),i("div",{key:0,class:R(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])}," No rewards ",2)):I("",!0)])]),B(y,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:l[2]||(l[2]=d=>e.toAdd(e.lItem))},{default:E(()=>[P(a(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const hs=ue(Ke,[["render",ps],["__scopeId","data-v-d345c9ae"]]),fs=ne({setup(){const{t:e,locale:l}=ae(),C=ie(),O=h(!1),A=h(!1),V=h(!1),$=h("TVL"),y=h(["APR","VOL"]),_=h(!1),f=h(e("tab.all")),b=h([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=h([]),k=h(""),t=h(["pools"]),m=re(),p=de(),U=h(!0),d=h(""),g=L(()=>p),j=L(()=>p.theme),D=L(()=>m),F=L(()=>p.statsData),T=(o,r)=>r.liqidity-o.liqidity,H=(o,r)=>r.vol-o.vol,M=(o,r)=>r.aprNum-o.aprNum,Z=()=>{window.setInterval(()=>{p.getStatsData()},12e4)};Ae(()=>{var r,v,w;const o=(w=(v=(r=C==null?void 0:C.currentRoute)==null?void 0:r.value)==null?void 0:v.query)==null?void 0:w.language;o&&he(o),Z(),p.getStatsData(),d.value=l.value});const{setLang:W}=p,he=o=>{W(o),l.value=o},fe=(o,r)=>o&&r?X(Te.plus(Y(o),Y(r)),2)+"%":o,x=o=>{console.log(o,"list===>");let r=0;return o&&o.forEach(v=>{console.log(v,"===>ele"),r+=Y(String(v))}),String(r)},G=o=>{const r=[];o.forEach(w=>{const c=g.value.addressLpTokens[w.address];r.push({...w,liqidity:c?c.tvl_in_usd:"0.00000000001",vol:c?c.vol_in_usd_24h:"0",apr:c?c.apr_7day:"--",aprNum:c?c.apr_7day.substring(0,c.apr_7day.length-1):"0",rewarder_apr:x(c&&c.rewarder_apr)+"%",aprTotal:fe(c&&c.apr_7day,c&&x(c.rewarder_apr)),rewarders0:c&&c.rewarder_apr[0],rewarders1:c&&c.rewarder_apr[1],rewarders2:c&&c.rewarder_apr[2]})}),console.log(r,"===>result1111");let v=[];if($.value=="APR"?v=r.sort(M):$.value=="VOL"?v=r.sort(H):v=r.sort(T),f.value!="All"){const w=[];v.forEach(c=>{c.labels.indexOf(f.value)!==-1&&w.push(c)}),u.value=w}else u.value=v;U.value=!1};q(k,o=>{var r=new RegExp("[\\u4E00-\\u9FFF]+","g");if(r.test(k.value)){k.value="";return}ee(k.value)}),q(()=>[D.value.poolConfigList,g.value.addressLpTokens],([o,r])=>{(o==null?void 0:o.length)>0&&!z(r)&&(console.log(o,"===>newValue"),G(o))},{immediate:!0,deep:!0});const ee=o=>{if(O.value=!0,o){G(D.value.poolConfigList);const r=u.value.filter(v=>v.symbol.toLowerCase().includes(o.toLowerCase()));u.value=r,O.value=!1}else G(D.value.poolConfigList)},ge=()=>{U.value=!0,A.value=!0,se(""),p.getStatsData(),m.setPoolConfigList(),setTimeout(()=>{A.value=!1},1e3)},$e=o=>{const r=[];r.push($.value),y.value.forEach((v,w)=>{v!=o&&r.push(v)}),y.value=r,$.value=o},ye=o=>{const r=[];b.value.forEach((v,w)=>{v==o?r[w]=f.value:r[w]=v}),b.value=r,f.value=o};q(()=>$.value,o=>{o&&(o=="APR"?u.value.sort(M):o=="VOL"?u.value.sort(H):u.value.sort(T))}),q(()=>f.value,o=>{if(G(D.value.poolConfigList),o!="All"){const r=[];u.value.forEach(v=>{v.labels.indexOf(o)!==-1&&r.push(v)}),u.value=r}}),q(()=>p.lang,o=>{d.value=o});const se=o=>{o=="label"?(_.value=!_.value,V.value=!1):o=="select"?(V.value=!V.value,_.value=!1):(V.value=!1,_.value=!1)},_e=()=>{C&&C.push("/position")};return{config:L(()=>Ve[g.value.chainName]),toPositionList:_e,t:e,router:C,loading:O,clickRefresh:ge,refresh:A,updateLpList:ee,searchKey:k,current:t,addCommom:Q,list:u,theme:j,statsData:F,pools:D,select:V,selectValue:$,selectList:y,label:_,labelValue:f,labelList:b,changeSort:$e,changeSortLabel:ye,reviseValue:se,listLoading:U,languageValue:d}}});const S=e=>(me("data-v-00537202"),e=e(),pe(),e),gs={class:"pools-list-container"},$s=["href"],ys={class:"search-refresh"},_s={class:"my-position position-h5"},ks=["placeholder"],ws=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),bs=[ws],Is={key:0,class:"select-item"},Cs=["onClick"],Ls=S(()=>s("img",{src:J,alt:""},null,-1)),Ss=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),As=[Ss],Vs={key:0,class:"select-item"},Ts=["onClick"],Bs=S(()=>s("img",{src:J,alt:""},null,-1)),Rs=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Us=[Rs],Ds={class:"search-tab"},Es={class:"my-position position-pc"},Ks=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ns=[Ks],Os={key:0,class:"select-item"},Ps=["onClick"],qs=S(()=>s("img",{src:J,alt:""},null,-1)),js=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Fs=[js],zs={key:0,class:"select-item"},Hs=["onClick"],Ms=S(()=>s("img",{src:J,alt:""},null,-1)),Zs=["placeholder"],Gs=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Js=[Gs],Ws={class:"item item-left"},Ys={class:"value"},Qs={class:"label"},Xs={class:"item item-right"},xs={class:"value"},eo={class:"label"},so={key:0,class:"loading-global"},oo={key:2,class:"no-data"},lo={key:0,src:De},to={key:1,src:Ee};function no(e,l,C,O,A,V){const $=oe("mail-outlined"),y=Ue,_=oe("appstore-outlined"),f=Be,b=Re,u=ve,k=hs;return n(),i("div",gs,[s("div",{class:"pools-title",onClick:l[0]||(l[0]=t=>e.reviseValue(""))},[s("div",null,a(e.$t("common.concentratedPools")),1),s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"position"},a(e.$t("common.ammPools")),9,$s)]),s("div",ys,[s("div",_s,[s("div",{class:"search-input",onClick:l[4]||(l[4]=t=>e.reviseValue(""))},[le(s("input",{"onUpdate:modelValue":l[1]||(l[1]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ks),[[te,e.searchKey]]),e.searchKey?(n(),i("div",{key:0,class:"out-icon",onClick:l[2]||(l[2]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:l[3]||(l[3]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:l[5]||(l[5]=t=>e.reviseValue("label"))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(n(),i("svg",{"aria-hidden":"true",class:R(e.label?"show-icon icon":"icon")},bs,2)),e.label?(n(),i("div",Is,[(n(!0),i(K,null,N(e.labelList,(t,m)=>(n(),i("div",{key:m,class:"select-menu-item",onClick:p=>e.changeSortLabel(t)},a(t),9,Cs))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:l[6]||(l[6]=t=>e.reviseValue("select"))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[P(a(e.selectValue)+" ",1),Ls]),(n(),i("svg",{"aria-hidden":"true",class:R(e.select?"show-icon icon":"icon")},As,2)),e.select?(n(),i("div",Vs,[(n(!0),i(K,null,N(e.selectList,(t,m)=>(n(),i("div",{key:m,class:"select-menu-item",onClick:p=>e.changeSort(t)},[P(a(t)+" ",1),Bs],8,Ts))),128))])):I("",!0)]),(n(),i("svg",{"aria-hidden":"true",class:R(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:l[7]||(l[7]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Us,2))]),s("div",Ds,[B(f,{selectedKeys:e.current,"onUpdate:selectedKeys":l[8]||(l[8]=t=>e.current=t),mode:"horizontal"},{default:E(()=>[B(y,{key:"pools"},{icon:E(()=>[B($)]),default:E(()=>[P(" "+a(e.$t("menu.pools")),1)]),_:1}),B(y,{key:"position",onClick:e.toPositionList},{icon:E(()=>[B(_)]),default:E(()=>[P(" "+a(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Es,[s("div",{class:"search-select search-label",onClick:l[9]||(l[9]=t=>e.reviseValue("label"))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(n(),i("svg",{"aria-hidden":"true",class:R(e.label?"show-icon icon":"icon")},Ns,2)),e.label?(n(),i("div",Os,[(n(!0),i(K,null,N(e.labelList,(t,m)=>(n(),i("div",{key:m,class:"select-menu-item",onClick:p=>e.changeSortLabel(t)},a(t),9,Ps))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:l[10]||(l[10]=t=>e.reviseValue("select"))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[P(a(e.selectValue)+" ",1),qs]),(n(),i("svg",{"aria-hidden":"true",class:R(e.select?"show-icon icon":"icon")},Fs,2)),e.select?(n(),i("div",zs,[(n(!0),i(K,null,N(e.selectList,(t,m)=>(n(),i("div",{key:m,class:"select-menu-item",onClick:p=>e.changeSort(t)},[P(a(t)+" ",1),Ms],8,Hs))),128))])):I("",!0)]),s("div",{class:"search-input",onClick:l[14]||(l[14]=t=>e.reviseValue(""))},[le(s("input",{"onUpdate:modelValue":l[11]||(l[11]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Zs),[[te,e.searchKey]]),e.searchKey?(n(),i("div",{key:0,class:"out-icon",onClick:l[12]||(l[12]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:l[13]||(l[13]=t=>e.updateLpList(e.searchKey))})]),(n(),i("svg",{"aria-hidden":"true",class:R(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:l[15]||(l[15]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Js,2))])]),s("div",{class:"tvl-vol",onClick:l[16]||(l[16]=t=>e.reviseValue(""))},[s("div",Ws,[B(b,{loading:e.listLoading,active:"",paragraph:!1},{default:E(()=>[s("div",Ys,"$ "+a(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",Qs,a(e.$t("common.totalValueLocked")),1)]),s("div",Xs,[B(b,{loading:e.listLoading,active:"",paragraph:!1},{default:E(()=>[s("div",xs,"$ "+a(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",eo,a(e.$t("common.volume24H")),1)])]),e.listLoading?(n(),i("div",so,[B(u)])):e.list&&e.list.length>0?(n(),i("div",{key:1,class:"item-container",onClick:l[17]||(l[17]=t=>e.reviseValue(""))},[(n(!0),i(K,null,N(e.list,(t,m)=>(n(),ce(k,{key:m,"l-item":t},null,8,["l-item"]))),128))])):(n(),i("div",oo,[e.theme=="default"?(n(),i("img",lo)):(n(),i("img",to)),s("span",null,a(e.$t("common.poolsNotFound")),1)]))])}const vo=ue(fs,[["render",no],["__scopeId","data-v-00537202"]]);export{vo as default};
