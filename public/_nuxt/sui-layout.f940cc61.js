import{u as Y,a as W,C as Z,b as ee,c as te,d as oe,f as se,g as ne,h as ae,i as le,j as ue,k as re,e as ie,M as ce}from"./global.3e10c440.js";import{a as me,L as pe,m as I,r as v,q as ve,V as fe,A as C,b as de,o as a,f as k,G as l,h as T,i as x,c as r,fs as Se}from"./entry.a85dcc8c.js";import{_ as _e}from"./term-and-conditions.64cce9a0.js";import{u as he,a as we,b as ye}from"./index.a6e74e8d.js";import{u as ge}from"./index.d5fbf89e.js";import{u as Ie}from"./useTheme.3d3180cb.js";import{u as Ce}from"./useToken.c1048249.js";import{u as ke}from"./useRate.fd116edd.js";import"./common.58ad47a8.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./import-icon.de3e6c66.js";import"./img-no-Positions_2x.6b06f7d8.js";import"./img-no-Positions_2x.2cbec840.js";/* empty css              */import"./check-box.a6a9499c.js";import"./index.55fb85f8.js";import"./nuxt-link.7f8bb110.js";import"./launchpad.71a75cd3.js";/* empty css              */import"./notifi.5d045922.js";import"./useWhale.89ed8e6f.js";import"./bignumber.266e6c56.js";import"./token.83b51f61.js";import"./fetchFun.db8bd709.js";const xe=T("svg",{"aria-hidden":"true",class:"scrollTop"},[T("use",{"xlink:href":"#icon-icon_top"})],-1),Te=[xe],Oe={key:0,class:"web-loading-box"},w="sui-layout",ot=me({__name:"sui-layout",setup(Be){const d=Ie(),n=pe(),f=he(),e=I(()=>f),S=Y(),{getTokenList:M}=Ce(),{getRateList:$}=ke(),y=v(null),L=v(!1),O=v(!1),E=()=>{if(y.value){const{scrollTop:o,scrollHeight:t,clientHeight:i}=y.value;L.value=o+i>=t,O.value=o>0}},H=()=>{const o=document.querySelector(".sui-default-container");o&&o.scrollTo({top:0,behavior:"smooth"})};ve(()=>{var t,i;if(M(),$(),S.isInitialized(w)||f.getFrontConfig(),n&&n.query&&n.query.source)d.seleteDefaultTheme();else{const p=(t=n==null?void 0:n.query)==null?void 0:t.chain,m=(i=n==null?void 0:n.query)==null?void 0:i.network,c=p||localStorage.getItem("theme");!c||c&&c.includes("sui")?m==="testnet"||c==="sui2"?d.selectSui2Theme():d.selectSuiTheme():d.seleteDefaultTheme()}document.addEventListener("click",()=>{e.value.setIsShowMore(!1),e.value.setOpenMore(!1),e.value.setOpenSwitchLang(!1),e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),s.value.setIsShowWalletCard(!1)});const o=localStorage.getItem("chainName");window.addEventListener("updateExplorer",p=>{const m=localStorage.getItem(`${o}-currentExplorerUrl`);f.setCurrentExplorer(m)})});let B=v();const _=ge(),s=I(()=>_),{connect:Ne,disconnect:b}=W(),A=()=>{const o=W(),t=localStorage.getItem("chainName")||"",i=localStorage.getItem(`cetus-${t}-current-wallet`),p=localStorage.getItem(`cetus-${t}-wallet-icon-name`)||"",m=localStorage.getItem(`cetus-${t}-current-suiwallet`)||"";ce.inMSafeWallet()?o.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):i?o.connect(i,p,t,"",m):t&&t.toLowerCase().includes("sui")&&o.disconnect(),B.value=window.setInterval(async()=>{if(s.value.address&&!s.value.loading&&s.value&&s.value.address&&s.value.countdown<s.value.autoRefreshTime&&(_.setCountdown(s.value.countdown+1),s.value.countdown===s.value.autoRefreshTime))try{await ye(e.value.chainName).getAccount(s.value.address)}catch(c){console.log(c,"errorBalance")}},1e4)};fe(()=>{document.removeEventListener("click",()=>{e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setOpenMore(!1),e.value.setIsShowMore(!1),e.value.setOpenSwitchLang(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),s.value.setIsShowWalletCard(!1)}),window.clearInterval(B.value)});const R=()=>{_.setIsShowWalletModal(!1),b()},D=()=>{_.setSwitchWallet(!0)},N=v(!S.isInitialized(w));C(()=>e.value.theme,o=>{const t=o==="sui2"?"sui":o;document.getElementsByTagName("body")[0].className=`theme-${t}`,o&&!S.isInitialized(w)&&(A(),setTimeout(()=>{N.value=!1,S.setLayoutInitialized(w)},1e3))},{immediate:!0});const g=v(!1);localStorage.getItem("isFirstAccess")||(g.value=!0);const q=()=>{localStorage.setItem("isFirstAccess","true"),g.value=!1},F=()=>{f.setTransactionDescText(""),f.setIsShowWaiting(!1)},j=we();C(()=>e.value.chainName,(o,t)=>{o&&o!==t&&j.setTokens(o)},{immediate:!0});const h=de(),z=I(()=>e.value.chainName?z[e.value.chainName]:{});return C(()=>[e.value.chainName,s.value.address],([o,t])=>{o==="Aptos"&&(n.path.includes("/pool/list")||n.path.includes("/pool/position")||n.name=="pool")&&h.push("/pools"),o==="Sui"&&n.name=="pool"&&h.push("/pool/list"),o=="Aptos"&&n.name==="stats"&&h.push("/aptos/stats"),o=="Sui"&&n.name==="aptos-stats"&&h.push("/stats")},{immediate:!0}),(o,t)=>{const i=ee,p=Se,m=te,c=oe,P=ie,K=se,G=_e,U=ne,J=ae,Q=le,V=ue,X=re;return a(),k("div",null,[O.value?(a(),k("div",{key:0,class:"scroll-top-svg",onClick:H},Te)):l("",!0),T("div",{ref_key:"scrollContainer",ref:y,class:"sui-default-container",onScroll:t[10]||(t[10]=u=>E())},[x(Z),N.value?(a(),k("div",Oe,[x(i)])):l("",!0),x(p),e.value&&e.value.isShowSuccess?(a(),r(m,{key:1,onOnClose:t[0]||(t[0]=u=>e.value.setIsShowSuccess(!1))})):l("",!0),e.value&&e.value.isShowRejected?(a(),r(c,{key:2,onOnClose:t[1]||(t[1]=u=>e.value.setIsShowRejected(!1))})):l("",!0),e.value&&e.value.isShowWaiting?(a(),r(P,{key:3,onOnClose:F})):l("",!0),s.value&&s.value.isShowWalletModal?(a(),r(K,{key:4,onOnDisconnect:t[2]||(t[2]=u=>R()),onOnSwitch:t[3]||(t[3]=u=>D()),onOnClose:t[4]||(t[4]=u=>s.value.setIsShowWalletModal(!1))})):l("",!0),g.value?(a(),r(G,{key:5,onClose:q})):l("",!0),e.value&&e.value.isShowSettingH5?(a(),r(U,{key:6,onOnClose:t[5]||(t[5]=u=>e.value.setIsShowSettingH5(!1))})):l("",!0),e.value&&e.value.isShowBuyCrypto?(a(),r(J,{key:7,onOnClose:t[6]||(t[6]=u=>e.value.setIsShowBuyCrypto(!1))})):l("",!0),e.value&&e.value.isShowBuyCryptoKODO?(a(),r(Q,{key:8,onOnClose:t[7]||(t[7]=u=>e.value.setIsShowBuyCryptoKODO(!1))})):l("",!0),e.value&&e.value.isShowBuyCryptoConfirm?(a(),r(V,{key:9,onClose:t[8]||(t[8]=u=>e.value.setIsShowBuyCryptoConfirm(!1))})):l("",!0),e.value&&e.value.isShowBuyCryptoSelect?(a(),r(X,{key:10,onClose:t[9]||(t[9]=u=>e.value.setIsShowBuyCryptoSelect(!1))})):l("",!0)],544)])}}});export{ot as default};
