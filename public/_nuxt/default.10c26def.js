import{_ as Ie,C as Ae,u as Te,M as re,a as ue,b as ke,c as $e,d as Ne,e as Oe,f as Ee,g as Me,h as Be,i as Re,j as Le,k as We}from"./global.3e10c440.js";import{a as pe,$ as je,z as qe,r as g,m as y,a1 as Pe,t as De,a2 as R,e as fe,l as he,C as He,o as d,c as A,w as Y,h as m,x as z,f as O,F as Fe,E as Ue,I as ze,u as Ge,i as G,j as Ke,B as Qe,L as Ze,q as ce,A as $,b as Je,s as Ye,V as Xe,G as b,y as de,fs as Ve,p as xe,k as et}from"./entry.a85dcc8c.js";import{i as ve}from"./import-icon.de3e6c66.js";import{u as ge,c as V}from"./index.d5fbf89e.js";import{a as we,u as x,b as K,e as tt,j as me}from"./index.a6e74e8d.js";import{a as ot}from"./data.712deea2.js";import{_ as st}from"./term-and-conditions.64cce9a0.js";import{u as nt}from"./useTheme.3d3180cb.js";import{c as at}from"./common.58ad47a8.js";import{u as lt}from"./notifi.5d045922.js";import"./img-no-Positions_2x.6b06f7d8.js";import"./img-no-Positions_2x.2cbec840.js";/* empty css              */import"./check-box.a6a9499c.js";import"./index.55fb85f8.js";import"./nuxt-link.7f8bb110.js";import"./launchpad.71a75cd3.js";/* empty css              */import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./bignumber.266e6c56.js";import"./useWhale.89ed8e6f.js";const it=pe({components:{Modal:je},setup(){const{t:e,locale:t}=qe(),l=g(!1),a=we(),C=x(),j=x(),T=y(()=>j),L=I=>{const v=I.address||`${V.Aptos.faucetObjectId}::coin::${I.name}`;return a.tokensObj&&a.tokensObj[v]?a.tokensObj[v].logoURI:""},h=y(()=>T.value.chainName!=="Aptos"?ot:[{symbol:"USDT",name:"CetusUSDT",num:"200",amount:"200000000"},{symbol:"USDC",name:"CetusUSDC",num:"200",amount:"200000000"},{symbol:"ETH",name:"CetusETH",num:"0.1",amount:"100000000"},{symbol:"BTC",name:"CetusBTC",num:"0.01",amount:"10000000"}]),s=y(()=>Object.fromEntries(h.value.map(I=>[I.symbol,I]))),{$notify:E}=Pe(),P=ge(),k=y(()=>P),{setIsShowSuccess:i,setIsShowRejected:D,setIsShowWaiting:M,setTransactionDesc:w,setTransactionTxid:S}=C,_=g(!1),B=g(!1),u=g(""),Z=async I=>{const v=K(T.value.chainName);if(!k.value.connected)k.value.setIsShowWalletModal(!0);else{B.value=!0,S(""),w(""),M(!0),u.value=I.symbol;try{const q=v.mintCoin(I);let N;if(T.value.chainName==="Aptos")N=await k.value.currentWallet.signAndSubmitTransaction(q);else{const W=await v.signAndExecuteTransactionBlock(k.value.currentWallet,q);N=v.handleTx(W)}if(N){_.value=!1,S(N.hash),M(!1),i(!0);const W={title:"Request Coins",desc:"",hash:N.hash,icon:"icon-icon-Increased",tit:"Request Coins",tokenInfo:{tokena:u.value,numa:`+ ${s.value[u.value].num}`,logoa:a.tokensObj&&a.tokensObj[I.address].logoURI},text:""};T.value.chainName!=="Aptos"&&(W.res=N.res),v.showTransitionPending(W),await v.watchTransaction(W)&&setTimeout(()=>{v.getAccount(k.value.address)},1e3)}else M(!1),E.error({icon:R("svg",{class:{icon:!0},"aria-hidden":!0},[R("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:R("div",{class:"notification-title"},[R("span",{innerHTML:"Request Coins Failed"},null)]),description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});B.value=!1}catch(q){B.value=!1,M(!1),console.log("mint coin error###",q),E.error({icon:R("svg",{class:{icon:!0},"aria-hidden":!0},[R("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:R("div",{class:"notification-title"},[R("span",{innerHTML:"Request Coins Failed"},null)]),duration:4.5,description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}}};g(0),g(0);const H=g("--"),ee=g("--"),J=g("--");De(async()=>{k.value.address&&T.value.chainName!=="Aptos"&&(_.value=!0)});const F=g("0");return{t:e,storeCounter:T,wallet:k,importIcon:ve,list:h,requestError:l,start:_,hour:H,min:ee,sec:J,loading:B,aptosBalance:F,toMintCoin:Z,currentCoin:u,getCoinIcon:L}}}),rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAR23aI5H0hshDAAAAIElEQVQoz2NggII0AQZUMCpAsUCoAwP1gTFBa5WoaC0ASoUK6Z2VFk8AAAAASUVORK5CYII=";const ut=m("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[m("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),ct={class:"request-title"},dt={class:"top"},mt={class:"left"},pt={key:0,src:rt,alt:""},ft={key:1,src:Ie,alt:""},ht={class:"right"},vt={class:"bottom"},gt={class:"img-name"},wt={alt:""};function St(e,t,l,a,C,j){const T=Qe,L=he("Modal"),h=He("image");return d(),A(L,{width:440,visible:!0,class:"request-modal",title:e.$t("common.requestCoins"),footer:null,centered:"",onCancel:t[0]||(t[0]=s=>e.$emit("onClose"))},{closeIcon:Y(()=>[ut]),default:Y(()=>[m("div",ct,z(e.t("newAdd.youNeedSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"Sui"})),1),m("div",dt,[m("div",mt,[e.storeCounter.theme=="default"?(d(),O("img",pt)):(d(),O("img",ft))]),m("div",ht,z(e.t("newAdd.toGetSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"SUI"})),1)]),m("div",vt,[(d(!0),O(Fe,null,Ue(e.list,s=>(d(),O("div",{key:s.symbol,class:"item"},[m("div",gt,[ze(m("img",wt,null,512),[[h,e.getCoinIcon(s)||("importIcon"in e?e.importIcon:Ge(ve))(`/image/coins/${s.symbol.toLowerCase()}.png`)]]),m("span",null,"Â Â "+z(s.symbol),1)]),G(T,{class:"mint-coin-btn",loading:e.loading&&s.symbol===e.currentCoin,onClick:E=>e.toMintCoin(s)},{default:Y(()=>[Ke(z(e.$t("button.request")),1)]),_:2},1032,["loading","onClick"])]))),128))])]),_:1},8,["title"])}const yt=fe(it,[["render",St]]);var Ct=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,l,a,C){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!C)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!C:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?C.call(e,l):C?C.value=l:t.set(e,l),l},_t=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,l,a){if(l==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?a:l==="a"?a.call(e):a?a.value:t.get(e)},Q;function bt(e){const t=({register:l})=>l(e);try{window.dispatchEvent(new It(t))}catch(l){console.error(`wallet-standard:register-wallet event could not be dispatched
`,l)}try{window.addEventListener("wallet-standard:app-ready",({detail:l})=>t(l))}catch(l){console.error(`wallet-standard:app-ready event listener could not be added
`,l)}}class It extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Q.set(this,void 0),Ct(this,Q,t,"f")}get detail(){return _t(this,Q,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Q=new WeakMap;const X="default-layout",At=pe({components:{CHead:Ae},setup(){var oe,se,ne,ae,le,ie;const e=g(!1),t=Ze(),l=nt(),a=ge(),C=Te(),j=g(!C.isInitialized(X));ce(()=>{var f;const n=K("Sui").getFullClient(),r=new re("cetus",n,((f=V.Sui)==null?void 0:f.network)==="testnet"?"sui:testnet":"sui:mainnet");bt(r)});const{connect:T,disconnect:L}=ue(),h=x(),s=y(()=>h),E=y(()=>s.value.chainName?V[s.value.chainName]:{});let P=g(!1);const k=()=>{h.setTransactionDescText(""),h.setIsShowWaiting(!1)},i=y(()=>a);let D=g(null);$(()=>[i.value.address,s.value.chainName],([o,n])=>{if(o&&n){const r=K(n);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:209 ~ watch ~ is connect wallet:",n),r.getAccount(o,!0)}},{immediate:!0});const M=()=>{const o=ue(),n=localStorage.getItem("chainName"),r=localStorage.getItem(`cetus-${n}-current-wallet`),f=localStorage.getItem(`cetus-${n}-wallet-icon-name`),p=localStorage.getItem(`cetus-${n}-current-suiwallet`);re.inMSafeWallet()?o.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):r?o.connect(r,f,n,"",p):n&&n.toLowerCase().includes("sui")&&o.disconnect(),D.value=window.setInterval(async()=>{if(i.value.address&&!i.value.loading&&i.value&&i.value.address&&i.value.countdown<i.value.autoRefreshTime&&(a.setCountdown(i.value.countdown+1),i.value.countdown===i.value.autoRefreshTime))try{await K(s.value.chainName).getAccount(i.value.address)}catch(c){console.log(c,"errorBalance")}},1e4)};$(()=>s.value.theme,o=>{const n=o==="sui2"?"sui":o;document.getElementsByTagName("body")[0].className=`theme-${n}`,o&&!C.isInitialized(X)&&(M(),setTimeout(()=>{j.value=!1,C.setLayoutInitialized(X)},1e3))},{immediate:!0});const w=we(),S=y(()=>w);(oe=window==null?void 0:window.aptos)!=null&&oe.onNetworkChange&&((se=window==null?void 0:window.aptos)==null||se.onNetworkChange(o=>{a.setNetwork(o.networkName)})),(ne=window==null?void 0:window.martian)!=null&&ne.onNetworkChange&&((ae=window==null?void 0:window.martian)==null||ae.onNetworkChange(o=>a.setNetwork(o))),(le=window==null?void 0:window.pontem)!=null&&le.onNetworkChange&&((ie=window==null?void 0:window.pontem)==null||ie.onNetworkChange(o=>{a.setNetwork(o.name)}));const _=Je(),B=y(()=>S.value.chainName=="Aptos"?s.value.collectTokenListAptos:s.value.collectTokenListSui);$(()=>[S.value.tokens,B.value],([o,n])=>{if(o&&o.length>0&&n&&n.length==0){const r=S.value.chainName=="Aptos"?me("collectTokenListAptos1"):me("collectTokenListSui");if(r&&r.length>0)s.value.setCollectTokenList(r,S.value.chainName);else{const f=o.filter(p=>p.suggested_priority&&p.suggested_priority>0).sort((p,c)=>Number(c.suggested_priority)-Number(p.suggested_priority));s.value.setCollectTokenList(f,S.value.chainName)}}},{immediate:!0}),ce(()=>{var r,f;h.getFrontConfig();const o=JSON.parse(localStorage.getItem("importTokenList")||"[]")||[];if(h.setImportTokenList(o),t&&t.query&&t.query.source)l.seleteDefaultTheme();else{const p=(r=t==null?void 0:t.query)==null?void 0:r.chain,c=(f=t==null?void 0:t.query)==null?void 0:f.network,U=p||localStorage.getItem("theme");!U||U&&U.includes("sui")?c==="testnet"||U==="sui2"?l.selectSui2Theme():l.selectSuiTheme():l.seleteDefaultTheme()}const n=localStorage.getItem("chainName");window.setInterval(()=>{w.setRates(s.value.chainName),t.name!=="swap"&&h.getStatsData(s.value.chainName,s.value.filterCoinsObj)},12e4),document.addEventListener("click",()=>{s.value.setIsShowMore(!1),s.value.setOpenMore(!1),s.value.setOpenSwitchLang(!1),s.value.setOpenH5Icon(!1),s.value.setOpenSwitchChain(!1),s.value.setIsShowSetting(!1),s.value.setIsIdoOpenTerm(!1),s.value.setIsOpenExplorer(!1),s.value.setIsShowNotifi(!1),s.value.setIsShowHeaderMore(!1),s.value.setIsShowHeaderEarn(!1),i.value.setIsShowWalletCard(!1)}),window.addEventListener("updateExplorer",p=>{const c=localStorage.getItem(`${n}-currentExplorerUrl`);h.setCurrentExplorer(c)})}),Ye(()=>{document.removeEventListener("click",()=>{s.value.setOpenH5Icon(!1),s.value.setOpenSwitchChain(!1),s.value.setOpenMore(!1),s.value.setIsShowMore(!1),s.value.setOpenSwitchLang(!1),s.value.setIsShowSetting(!1),s.value.setIsIdoOpenTerm(!1),s.value.setIsOpenExplorer(!1),s.value.setIsShowNotifi(!1),s.value.setIsShowHeaderMore(!1),s.value.setIsShowHeaderEarn(!1),i.value.setIsShowWalletCard(!1)})}),$(()=>s.value.chainName,(o,n)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:395 ~ setup ~ newValue:",o),o&&o!==n&&(w.setTokens(o),w.setRates(o),w.getRecommendRanges(o))},{immediate:!0}),$(()=>[s.value.chainName,s.value.filterCoinsObj],(o,n)=>{o&&n&&o[0]&&o[0]!==n[0]&&(n[1]&&at(n[1])||!n[0]&&!n[1])&&h.getStatsData(o[0],o[1])},{immediate:!0}),$(()=>[s.value.chainName,s.value.filterCoinsObj,t.name,S.value.poolConfigList],([o,n,r,f])=>{n&&o&&(r!=="stats"||o=="Aptos")&&f&&f.length==0&&w.setPoolConfigList(s.value.chainName,n,o=="Aptos")}),Xe(()=>{window.clearInterval(D)});const u=()=>{a.setIsShowWalletModal(!1),L()},Z=()=>{a.setSwitchWallet(!0)},H=g(!1);localStorage.getItem("isFirstAccess")||(H.value=!0);const J=()=>{localStorage.setItem("isFirstAccess",!0),H.value=!1},F=lt(),I=y(()=>F),v=y(()=>h),q=()=>{if(v.value.chainName==="Aptos"){const o=i.value.currentWallet.publicAccount,n=o.address,r=o.publicKey;I.value.initNotifi(n,r,v.value.chainName)}else I.value.initNotifi(i.value.address,i.value.address,v.value.chainName)};$(()=>[v.value.chainName,i.value.address],([o,n])=>{E.value.hasNotifi&&(n?q():F.setNotifiStatus("logOut")),o==="Aptos"&&(t.name=="pool"||t.name=="pool-vaults"||t.path.includes("/launchpad")||t.path.includes("/xcetus")||t.path.includes("/pool/list")||t.path.includes("/pool/vaults")||t.path.includes("/pool/position")||t.path.includes("/vaults")||t.path.includes("/farms"))&&_.push("/pools"),o==="Aptos"&&t.path.includes("/limit")&&_.push("/swap"),o==="Sui"&&t.path.includes("/pools")&&_.push("/pool/list"),t.name=="liquidity"&&_.push("/liquidity/deposit"),o==="Sui"&&t.name=="position"&&_.push("/pool/position"),o=="Sui"&&t.name==="aptos-stats"&&(console.log("ðŸš€ ~ setup ~ newChainName:",o,t.name),_.push("/stats")),o=="Aptos"&&t.name==="stats"&&_.push("/aptos/stats")},{immediate:!0});const N=y(()=>S.value.poolListPageSize),W=y(()=>v.value.poolAmount),te=()=>{if(!t.name.includes("stats")){e.value=!1;return}const o=document.querySelector(".new-sui-stats-container-bg");o&&(o.scrollTop>0?e.value=!0:e.value=!1,Math.ceil(o.scrollTop+o.clientHeight)>=o.scrollHeight&&20+N.value<W.value&&w.setPageSize(20+N.value))},ye=()=>{const o=document.querySelector(".new-sui-stats-container-bg");o&&o.scrollTo({top:0,behavior:"smooth"})},Ce=o=>{let n={};const r=o.filter(p=>!p.is_pause),f={};for(let p=0;p<r.length;p++){const c=r[p];if(!n[c.routerSymbol]){n[c.routerSymbol]=c,f[c.routerSymbol]={base:c.token_a.address,quote:c.token_b.address,addressMap:new Map([[c.fee_rate,c.address]])};continue}n[c.routerSymbol]&&f[c.routerSymbol].addressMap.set(c.fee_rate,c.address)}return{paths:Object.values(f)}},_e=tt();$(()=>[S.value.openPool],async([o])=>{if(o&&o.length>0){const n=Ce(o);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:695 ~ paths:",n),_e.setPoolListGroupByTokenAB(n==null?void 0:n.paths)}},{immediate:!0}),$(()=>[S.value.poolConfigList,s.value.chainName],([o,n],[r,f])=>{var p;o.length!==r.length&&n&&n.toLowerCase().includes((p=o[0])==null?void 0:p.chain)&&(w.setPools(o,n),n=="Aptos"&&w.getTokensObj(o,n))}),$(()=>s.value.chainName,o=>{o=="Sui"&&w.getTokensObj([],"Sui")},{immediate:!0});const be=y(()=>s.value.chainName);return{handleScroll:te,scrollToTop:ye,showScrollTop:e,isRequestCoins:P,config:E,store:s,wallet:i,onSwitch:Z,onDisconnect:u,isLoading:j,closeTerm:J,showTerm:H,closeWaitingModal:k,chainName:be}}}),Se=e=>(xe("data-v-d6956cf8"),e=e(),et(),e),Tt=Se(()=>m("svg",{"aria-hidden":"true",class:"scrollTop"},[m("use",{"xlink:href":"#icon-icon_top"})],-1)),kt=[Tt],$t={key:1,class:"web-loading-box"},Nt={key:2,class:"default-container"},Ot={class:"header-container"},Et={class:"body-container"},Mt={key:0,class:"launchpad-banner"},Bt=Se(()=>m("div",{class:"center"},[m("div",{class:"center-text"},[m("p",null,"Cetus Launchpad"),m("span",null,"Discover gems on Sui")])],-1)),Rt=[Bt];function Lt(e,t,l,a,C,j){const T=ke,L=he("c-head"),h=Ve,s=yt,E=$e,P=Ne,k=Oe,i=Ee,D=st,M=Me,w=Be,S=Re,_=Le,B=We;return d(),O("div",null,[e.showScrollTop&&e.$route.name!=="swap"?(d(),O("div",{key:0,class:"scroll-top-svg",onClick:t[0]||(t[0]=(...u)=>e.scrollToTop&&e.scrollToTop(...u))},kt)):b("",!0),e.isLoading?(d(),O("div",$t,[G(T)])):(d(),O("div",Nt,[m("div",Ot,[G(L)]),m("div",Et,[m("div",{ref:"scrollContainer",class:de(["body-container-bg",e.$route.name.indexOf("403")>=0?"body-container-denied":""]),onScroll:t[1]||(t[1]=(...u)=>e.handleScroll&&e.handleScroll(...u))},[e.$route.name==="launchpad"?(d(),O("div",Mt,Rt)):b("",!0),m("div",{class:de(["body-container-con",[e.$route.name==="launchpad"||e.$route.name.includes("upgrade-pools")||e.$route.name.includes("pool-list")||e.$route.name.includes("pool-position")||e.$route.name.includes("pool-vaults")?"launchpad-body-container-con":e.$route.name.indexOf("403")>=0?"delMargin":"",e.$route.name==="farms"||e.$route.name==="vaults"?"farms-body-container":""].join("")])},[G(h)],2)],34)]),e.isRequestCoins?(d(),A(s,{key:0,onOnClose:t[2]||(t[2]=u=>e.isRequestCoins=!1)})):b("",!0),e.store&&e.store.isShowSuccess?(d(),A(E,{key:1,onOnClose:t[3]||(t[3]=u=>e.store.setIsShowSuccess(!1))})):b("",!0),e.store&&e.store.isShowRejected?(d(),A(P,{key:2,onOnClose:t[4]||(t[4]=u=>e.store.setIsShowRejected(!1))})):b("",!0),e.store&&e.store.isShowWaiting?(d(),A(k,{key:3,onOnClose:e.closeWaitingModal},null,8,["onOnClose"])):b("",!0),e.wallet&&e.wallet.isShowWalletModal?(d(),A(i,{key:4,onOnDisconnect:t[5]||(t[5]=u=>e.onDisconnect()),onOnSwitch:t[6]||(t[6]=u=>e.onSwitch()),onOnClose:t[7]||(t[7]=u=>e.wallet.setIsShowWalletModal(!1))})):b("",!0),e.showTerm?(d(),A(D,{key:5,onClose:e.closeTerm},null,8,["onClose"])):b("",!0),e.store&&e.store.isShowSettingH5?(d(),A(M,{key:6,onOnClose:t[8]||(t[8]=u=>e.store.setIsShowSettingH5(!1))})):b("",!0),e.store&&e.store.isShowBuyCrypto?(d(),A(w,{key:7,onOnClose:t[9]||(t[9]=u=>e.store.setIsShowBuyCrypto(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoKODO?(d(),A(S,{key:8,onOnClose:t[10]||(t[10]=u=>e.store.setIsShowBuyCryptoKODO(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoConfirm?(d(),A(_,{key:9,onClose:t[11]||(t[11]=u=>e.store.setIsShowBuyCryptoConfirm(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoSelect?(d(),A(B,{key:10,onClose:t[12]||(t[12]=u=>e.store.setIsShowBuyCryptoSelect(!1))})):b("",!0)]))])}const no=fe(At,[["render",Lt],["__scopeId","data-v-d6956cf8"]]);export{no as default};
