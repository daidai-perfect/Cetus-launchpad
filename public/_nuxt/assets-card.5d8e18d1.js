import{_ as X}from"./token-warning.68c422cb.js";import{u as se,b as c,q as z,c as te,i as le}from"./index.98582d64.js";import{a as ie,l as de,m as u,a3 as re,a4 as ue,r as D,D as W,E as me,e as ce,q as pe,o as n,f as r,h as o,v as h,c as i,z as P,t as q,x as m,i as A,w as C,u as y,I as ge,S as fe,B as ve,j as N,p as he,k as ke,a5 as be}from"./entry.0caab9e0.js";import"./index.d2b47555.js";/* empty css              */import{i as ye}from"./import-icon.de3e6c66.js";import{a as we,u as $e,m as H}from"./pool.e34b56ac.js";import{D as U}from"./decimal.0bdeb344.js";import{u as Ce}from"./useDebounceFunction.36a91660.js";const Se=ie({components:{TokenWarning:X},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},havehalf:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""},amountLeabl:{type:String,default:""},isShowAmountPrice:{type:Boolean,default:!0},convertAssetsLoading:{type:Boolean,default:!1},swapLoading:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e,s){const{t:F,locale:G}=de(),M=we(),V=u(()=>M),S=u(()=>new U(Number(e.balance)).div(2)),g=re(ue,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function L(){this.$emit("onSelect")}D("");const I=Ce(a=>{s.emit("onInput",a),s.emit("onInputLoading",!1)},500),k=D(""),T=a=>{const t=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(d==null?void 0:d.value)&&(d==null?void 0:d.value)}})?).*$`),v=a.target.value.replace(/,/g,"").replace(t,"$1");v>0&&s.emit("onInputLoading",!0),I(v)},b=a=>{var E;const t=a.target.selectionStart,v=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(d==null?void 0:d.value)&&(d==null?void 0:d.value)}})?).*$`);console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",a.target.value);let p=a.target.value.replace(/,/g,"").replace(v,"$1");console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ value:",p),console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.inputType:",a.inputType);let w=p.includes(".")&&String(c(p))==="0"?p:String(c(p));const ne=H(a.target.value),j=H(w),R=j.length-ne.length;let $=t+R;if((E=a==null?void 0:a.inputType)!=null&&E.includes("delete")&&R>0&&t===j[j.length-1]){const O=a.target.value.slice(0,t-1)+a.target.value.slice(t);w=String(c(O.replace(/,/g,""))),$=$-2}console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",w),k.value=w||"",setTimeout(()=>{try{a.target.setSelectionRange($<0?0:$,$<0?0:$)}catch(O){console.log("ðŸš€ ~ file: assets-card.vue:307 ~ setTimeout ~ error:",O)}},0)};W(()=>e.inputValue,a=>{console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ newValue:",a);const t=a.includes(".")&&String(c(a))==="0"?a:String(c(a));console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ fValue:",t),t!==k.value&&(k.value=t)},{immediate:!0});const J=se(),K=u(()=>J),Q=$e(),l=u(()=>Q),Y=u(()=>l.value.tokensWarningObj);let f=D({});W(()=>l.value.RATES,a=>{a&&(f.value=a)},{immediate:!0,deep:!0});const Z=u(()=>{var v,p,w;const a=(f==null?void 0:f.value)&&((v=f==null?void 0:f.value)==null?void 0:v[e.address])&&((w=(p=f==null?void 0:f.value)==null?void 0:p[e.address])==null?void 0:w.price)||0,t=new U(e.inputValue||0).mul(a).toNumber();return a<=0?0:t>0&&t<.01?"<$0.01":le(t,2)}),_=u(()=>{var a,t;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.labels)&&((t=l.value.tokensObj[e.address])==null?void 0:t.labels[0])}),d=u(()=>{var a;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.decimals)}),x=u(()=>{var a,t,v,p;return e.coinIcon||((t=(a=l==null?void 0:l.value)==null?void 0:a.tokensObj[e.address])==null?void 0:t.logo_url)||((p=(v=l==null?void 0:l.value)==null?void 0:v.tokensObj[e.address])==null?void 0:p.logoURI)||""}),ee=u(()=>l.value.tokensObj),ae=u(()=>V.value.theme),oe=u(()=>l.value.isTokenLoading);return{route:me(),theme:ae,currentIcon:x,tokensObj:ee,pool:l,halfBalance:S,coinLabels:_,t:F,addCommom:c,store:V,wallet:K,indicator:g,inputChange:T,importIcon:ye,selectCoin:L,amountPirce:Z,coinDecimals:d,formatNumber:z,tokensWarningObj:Y,checkNullObj:te,isTokenLoading:oe,formattedValue:k,handleInput:b}}});const B=e=>(he("data-v-e534d35d"),e=e(),ke(),e),Le={class:"card"},Ie={class:"pc-card"},Te={class:"tit"},Pe={class:"card-top"},Ae={class:"loading-token"},Ne={key:1},Be={key:0},Ve=B(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),je=[Ve],Oe={class:"card-bottom"},De={key:0,class:"amount-price"},ze={key:1},Fe={class:"top"},Me={class:"right"},Re=B(()=>o("svg",{class:"icon icon_wallet","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_wallet"})],-1)),Ee={class:"balance"},We={key:1},qe={class:"h5-card"},He={class:"card-bottom"},Ue={class:"tit"},Xe={class:"top"},Ge={class:"right"},Je=B(()=>o("svg",{class:"icon icon_wallet","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_wallet"})],-1)),Ke={class:"balance"},Qe={key:1},Ye={class:"card-top"},Ze={class:"loading-token"},_e={key:1},xe={key:0},ea=B(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),aa=[ea],oa={key:0,class:"amount-price"},na={key:1};function sa(e,s,F,G,M,V){const S=ge,g=fe,L=be,I=X,k=ve,T=pe("image");return n(),r("div",Le,[o("div",Ie,[o("div",Te,h(e.title),1),o("div",Pe,[e.swapLoading?(n(),i(g,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(n(),i(S,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[0]||(s[0]=b=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),o("div",{class:P(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[1]||(s[1]=b=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[o("div",Ae,[e.isTokenLoading?(n(),i(L,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?q((n(),r("img",Ne,null,512)),[[T,e.currentIcon]]):m("",!0),A(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),A(g,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:C(()=>[o("div",null,[o("p",null,h(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(n(),r("p",Be,h(e.coinLabels),1)):m("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(n(),r("svg",{key:0,class:P(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},je,2)):m("",!0)],2)]),o("div",Oe,[e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(n(),r("div",De,h(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(z))(e.amountPirce)}`:`${e.amountPirce}`),1)):(n(),r("div",ze,[e.swapLoading?(n(),i(g,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):m("",!0)])),o("div",Fe,[o("div",Me,[Re,o("span",Ee,[e.convertAssetsLoading?(n(),i(g,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(n(),r("span",We,h(e.wallet.connected?("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals):"0"),1))]),e.havehalf&&e.wallet.connected?(n(),i(k,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[2]||(s[2]=b=>e.$emit("onHalf"))},{default:C(()=>[N("HALF")]),_:1},8,["disabled"])):m("",!0),e.havemax&&e.wallet.connected?(n(),i(k,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[3]||(s[3]=b=>e.$emit("onMax"))},{default:C(()=>[N("MAX")]),_:1},8,["disabled"])):m("",!0)])])])]),o("div",qe,[o("div",He,[o("div",Ue,h(e.title),1),o("div",Xe,[o("div",Ge,[Je,o("span",Ke,[e.convertAssetsLoading?(n(),i(g,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(n(),r("span",Qe,h(e.wallet.connected?("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals):"0"),1))]),e.havehalf&&e.wallet.connected?(n(),i(k,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[4]||(s[4]=b=>e.$emit("onHalf"))},{default:C(()=>[N("HALF")]),_:1},8,["disabled"])):m("",!0),e.havemax&&e.wallet.connected?(n(),i(k,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[5]||(s[5]=b=>e.$emit("onMax"))},{default:C(()=>[N("MAX")]),_:1},8,["disabled"])):m("",!0)])])]),o("div",Ye,[e.swapLoading?(n(),i(g,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(n(),i(S,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[6]||(s[6]=b=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),o("div",{class:P(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[7]||(s[7]=b=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[o("div",Ze,[e.isTokenLoading?(n(),i(L,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?q((n(),r("img",_e,null,512)),[[T,e.currentIcon]]):m("",!0),A(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),A(g,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:C(()=>[o("div",null,[o("p",null,h(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(n(),r("p",xe,h(e.coinLabels),1)):m("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(n(),r("svg",{key:0,class:P(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},aa,2)):m("",!0)],2)]),e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(n(),r("div",oa,h(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(z))(e.amountPirce)}`:`${e.amountPirce}`),1)):(n(),r("div",na,[e.swapLoading?(n(),i(g,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):m("",!0)]))])])}const fa=ce(Se,[["render",sa],["__scopeId","data-v-e534d35d"]]);export{fa as _};
