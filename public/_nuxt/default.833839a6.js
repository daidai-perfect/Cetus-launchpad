import{_ as Ae,C as Ie,u as Te,M as ue,a as ce,b as ke,c as $e,d as Ne,e as Oe,f as Ee,g as Me,h as Be,i as Re,j as Le,k as We}from"./global.99f4a935.js";import{a as pe,Y as je,l as qe,r as S,m as C,a1 as De,N as Pe,a2 as R,e as fe,M as he,q as He,o as d,c as I,w as J,h as m,v as z,f as O,F as Fe,s as Ue,t as ze,u as Ke,i as K,j as Ge,B as Qe,E as Ye,y as de,D as $,b as Ze,C as Je,T as Xe,x as _,z as X,fs as Ve,p as xe,k as et}from"./entry.9f1d8bf2.js";import{i as ve}from"./import-icon.de3e6c66.js";import{u as ge,c as x}from"./index.8db8d6d5.js";import{u as Se,a as ee,b as G,e as tt,j as me}from"./pool.50412446.js";import{a as ot}from"./data.712deea2.js";import{_ as st}from"./term-and-conditions.2a3007ef.js";import{u as nt}from"./useTheme.54cf1997.js";import{c as at}from"./index.7ae3cf46.js";import{u as lt}from"./notifi.488fa773.js";import"./img-no-Positions_2x.e67b8378.js";import"./img-no-Positions_2x.bf14d876.js";/* empty css              */import"./index.e3c27faa.js";import"./icon-selected_3x.873560ed.js";import"./nuxt-link.dbbc1b92.js";import"./launchpad.304e134e.js";/* empty css              */import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./bignumber.266e6c56.js";import"./useWhale.303815b1.js";const it=pe({components:{Modal:je},setup(){const{t:e,locale:o}=qe(),l=S(!1),a=Se(),b=ee(),j=ee(),T=C(()=>j),L=A=>{const g=A.address||`${x.Aptos.faucetObjectId}::coin::${A.name}`;return a.tokensObj&&a.tokensObj[g]?a.tokensObj[g].logoURI:""},h=C(()=>T.value.chainName!=="Aptos"?ot:[{symbol:"USDT",name:"CetusUSDT",num:"200",amount:"200000000"},{symbol:"USDC",name:"CetusUSDC",num:"200",amount:"200000000"},{symbol:"ETH",name:"CetusETH",num:"0.1",amount:"100000000"},{symbol:"BTC",name:"CetusBTC",num:"0.01",amount:"10000000"}]),s=C(()=>Object.fromEntries(h.value.map(A=>[A.symbol,A]))),{$notify:E}=De(),D=ge(),k=C(()=>D),{setIsShowSuccess:i,setIsShowRejected:P,setIsShowWaiting:M,setTransactionDesc:w,setTransactionTxid:y}=b,v=S(!1),B=S(!1),u=S(""),Y=async A=>{const g=G(T.value.chainName);if(!k.value.connected)k.value.setIsShowWalletModal(!0);else{B.value=!0,y(""),w(""),M(!0),u.value=A.symbol;try{const q=g.mintCoin(A);let N;if(T.value.chainName==="Aptos")N=await k.value.currentWallet.signAndSubmitTransaction(q);else{const W=await g.signAndExecuteTransactionBlock(k.value.currentWallet,q);N=g.handleTx(W)}if(N){v.value=!1,y(N.hash),M(!1),i(!0);const W={title:"Request Coins",desc:"",hash:N.hash,icon:"icon-icon-Increased",tit:"Request Coins",tokenInfo:{tokena:u.value,numa:`+ ${s.value[u.value].num}`,logoa:a.tokensObj&&a.tokensObj[A.address].logoURI},text:""};T.value.chainName!=="Aptos"&&(W.res=N.res),g.showTransitionPending(W),await g.watchTransaction(W)&&setTimeout(()=>{g.getAccount(k.value.address)},1e3)}else M(!1),E.error({icon:R("svg",{class:{icon:!0},"aria-hidden":!0},[R("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:R("div",{class:"notification-title"},[R("span",{innerHTML:"Request Coins Failed"},null)]),description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});B.value=!1}catch(q){B.value=!1,M(!1),console.log("mint coin error###",q),E.error({icon:R("svg",{class:{icon:!0},"aria-hidden":!0},[R("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:R("div",{class:"notification-title"},[R("span",{innerHTML:"Request Coins Failed"},null)]),duration:4.5,description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}}};S(0),S(0);const H=S("--"),te=S("--"),Z=S("--");Pe(async()=>{k.value.address&&T.value.chainName!=="Aptos"&&(v.value=!0)});const F=S("0");return{t:e,storeCounter:T,wallet:k,importIcon:ve,list:h,requestError:l,start:v,hour:H,min:te,sec:Z,loading:B,aptosBalance:F,toMintCoin:Y,currentCoin:u,getCoinIcon:L}}}),rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAR23aI5H0hshDAAAAIElEQVQoz2NggII0AQZUMCpAsUCoAwP1gTFBa5WoaC0ASoUK6Z2VFk8AAAAASUVORK5CYII=";const ut=m("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[m("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),ct={class:"request-title"},dt={class:"top"},mt={class:"left"},pt={key:0,src:rt,alt:""},ft={key:1,src:Ae,alt:""},ht={class:"right"},vt={class:"bottom"},gt={class:"img-name"},St={alt:""};function wt(e,o,l,a,b,j){const T=Qe,L=he("Modal"),h=He("image");return d(),I(L,{width:440,visible:!0,class:"request-modal",title:e.$t("common.requestCoins"),footer:null,centered:"",onCancel:o[0]||(o[0]=s=>e.$emit("onClose"))},{closeIcon:J(()=>[ut]),default:J(()=>[m("div",ct,z(e.t("newAdd.youNeedSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"Sui"})),1),m("div",dt,[m("div",mt,[e.storeCounter.theme=="default"?(d(),O("img",pt)):(d(),O("img",ft))]),m("div",ht,z(e.t("newAdd.toGetSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"SUI"})),1)]),m("div",vt,[(d(!0),O(Fe,null,Ue(e.list,s=>(d(),O("div",{key:s.symbol,class:"item"},[m("div",gt,[ze(m("img",St,null,512),[[h,e.getCoinIcon(s)||("importIcon"in e?e.importIcon:Ke(ve))(`/image/coins/${s.symbol.toLowerCase()}.png`)]]),m("span",null,"Â Â "+z(s.symbol),1)]),K(T,{class:"mint-coin-btn",loading:e.loading&&s.symbol===e.currentCoin,onClick:E=>e.toMintCoin(s)},{default:J(()=>[Ge(z(e.$t("button.request")),1)]),_:2},1032,["loading","onClick"])]))),128))])]),_:1},8,["title"])}const yt=fe(it,[["render",wt]]);var Ct=globalThis&&globalThis.__classPrivateFieldSet||function(e,o,l,a,b){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!b)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?e!==o||!b:!o.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?b.call(e,l):b?b.value=l:o.set(e,l),l},bt=globalThis&&globalThis.__classPrivateFieldGet||function(e,o,l,a){if(l==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?e!==o||!a:!o.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?a:l==="a"?a.call(e):a?a.value:o.get(e)},Q;function _t(e){const o=({register:l})=>l(e);try{window.dispatchEvent(new At(o))}catch(l){console.error(`wallet-standard:register-wallet event could not be dispatched
`,l)}try{window.addEventListener("wallet-standard:app-ready",({detail:l})=>o(l))}catch(l){console.error(`wallet-standard:app-ready event listener could not be added
`,l)}}class At extends Event{constructor(o){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Q.set(this,void 0),Ct(this,Q,o,"f")}get detail(){return bt(this,Q,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Q=new WeakMap;const V="default-layout",It=pe({components:{CHead:Ie},setup(){var se,ne,ae,le,ie,re;const e=S(!1),o=Ye(),l=nt(),a=ge(),b=Te(),j=S(!b.isInitialized(V));de(()=>{var f;const n=G("Sui").getFullClient(),r=new ue("cetus",n,((f=x.Sui)==null?void 0:f.network)==="testnet"?"sui:testnet":"sui:mainnet");_t(r)});const{connect:T,disconnect:L}=ce(),h=ee(),s=C(()=>h),E=C(()=>s.value.chainName?x[s.value.chainName]:{});let D=S(!1);const k=()=>{h.setTransactionDescText(""),h.setIsShowWaiting(!1)},i=C(()=>a);let P=S(null);$(()=>[i.value.address,s.value.chainName],([t,n])=>{if(t&&n){const r=G(n);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:209 ~ watch ~ is connect wallet:",n),r.getAccount(t,!0)}},{immediate:!0});const M=()=>{const t=ce(),n=localStorage.getItem("chainName"),r=localStorage.getItem(`cetus-${n}-current-wallet`),f=localStorage.getItem(`cetus-${n}-wallet-icon-name`),p=localStorage.getItem(`cetus-${n}-current-suiwallet`);ue.inMSafeWallet()?t.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):r?t.connect(r,f,n,"",p):n&&n.toLowerCase().includes("sui")&&t.disconnect(),P.value=window.setInterval(async()=>{if(i.value.address&&!i.value.loading&&i.value&&i.value.address&&i.value.countdown<i.value.autoRefreshTime&&(a.setCountdown(i.value.countdown+1),i.value.countdown===i.value.autoRefreshTime))try{await G(s.value.chainName).getAccount(i.value.address)}catch(c){console.log(c,"errorBalance")}},1e4)};$(()=>s.value.theme,t=>{const n=t==="sui2"?"sui":t;document.getElementsByTagName("body")[0].className=`theme-${n}`,t&&!b.isInitialized(V)&&(M(),setTimeout(()=>{j.value=!1,b.setLayoutInitialized(V)},1e3))},{immediate:!0});const w=Se(),y=C(()=>w);(se=window==null?void 0:window.aptos)!=null&&se.onNetworkChange&&((ne=window==null?void 0:window.aptos)==null||ne.onNetworkChange(t=>{a.setNetwork(t.networkName)})),(ae=window==null?void 0:window.martian)!=null&&ae.onNetworkChange&&((le=window==null?void 0:window.martian)==null||le.onNetworkChange(t=>a.setNetwork(t))),(ie=window==null?void 0:window.pontem)!=null&&ie.onNetworkChange&&((re=window==null?void 0:window.pontem)==null||re.onNetworkChange(t=>{a.setNetwork(t.name)}));const v=Ze(),B=C(()=>y.value.chainName=="Aptos"?s.value.collectTokenListAptos:s.value.collectTokenListSui);$(()=>[y.value.tokens,B.value],([t,n])=>{if(t&&t.length>0&&n&&n.length==0){const r=y.value.chainName=="Aptos"?me("collectTokenListAptos1"):me("collectTokenListSui");if(r&&r.length>0)s.value.setCollectTokenList(r,y.value.chainName);else{const f=t.filter(p=>p.suggested_priority&&p.suggested_priority>0).sort((p,c)=>Number(c.suggested_priority)-Number(p.suggested_priority));s.value.setCollectTokenList(f,y.value.chainName)}}},{immediate:!0}),de(()=>{var r,f;h.getFrontConfig();const t=JSON.parse(localStorage.getItem("importTokenList")||"[]")||[];if(h.setImportTokenList(t),o&&o.query&&o.query.source)l.seleteDefaultTheme();else{const p=(r=o==null?void 0:o.query)==null?void 0:r.chain,c=(f=o==null?void 0:o.query)==null?void 0:f.network,U=p||localStorage.getItem("theme");!U||U&&U.includes("sui")?c==="testnet"||U==="sui2"?l.selectSui2Theme():l.selectSuiTheme():l.seleteDefaultTheme()}const n=localStorage.getItem("chainName");window.setInterval(()=>{w.setRates(s.value.chainName),o.name!=="swap"&&h.getStatsData(s.value.chainName,s.value.filterCoinsObj)},12e4),document.addEventListener("click",()=>{s.value.setIsShowMore(!1),s.value.setOpenMore(!1),s.value.setOpenSwitchLang(!1),s.value.setOpenH5Icon(!1),s.value.setOpenSwitchChain(!1),s.value.setIsShowSetting(!1),s.value.setIsIdoOpenTerm(!1),s.value.setIsOpenExplorer(!1),s.value.setIsShowNotifi(!1),s.value.setIsShowHeaderMore(!1),s.value.setIsShowHeaderEarn(!1),i.value.setIsShowWalletCard(!1)}),window.addEventListener("updateExplorer",p=>{const c=localStorage.getItem(`${n}-currentExplorerUrl`);h.setCurrentExplorer(c)})}),Je(()=>{document.removeEventListener("click",()=>{s.value.setOpenH5Icon(!1),s.value.setOpenSwitchChain(!1),s.value.setOpenMore(!1),s.value.setIsShowMore(!1),s.value.setOpenSwitchLang(!1),s.value.setIsShowSetting(!1),s.value.setIsIdoOpenTerm(!1),s.value.setIsOpenExplorer(!1),s.value.setIsShowNotifi(!1),s.value.setIsShowHeaderMore(!1),s.value.setIsShowHeaderEarn(!1),i.value.setIsShowWalletCard(!1)})}),$(()=>s.value.chainName,(t,n)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:395 ~ setup ~ newValue:",t),t&&t!==n&&(w.setTokens(t),w.setRates(t),w.getRecommendRanges(t))},{immediate:!0}),$(()=>[s.value.chainName,s.value.filterCoinsObj],(t,n)=>{t&&n&&t[0]&&t[0]!==n[0]&&(n[1]&&at(n[1])||!n[0]&&!n[1])&&h.getStatsData(t[0],t[1])},{immediate:!0}),$(()=>[s.value.chainName,s.value.filterCoinsObj,o.name,y.value.poolConfigList],([t,n,r,f])=>{n&&t&&(r!=="stats"||t=="Aptos")&&f&&f.length==0&&w.setPoolConfigList(s.value.chainName,n,t=="Aptos")}),Xe(()=>{window.clearInterval(P)});const u=()=>{a.setIsShowWalletModal(!1),L()},Y=()=>{a.setSwitchWallet(!0)},H=S(!1);localStorage.getItem("isFirstAccess")||(H.value=!0);const Z=()=>{localStorage.setItem("isFirstAccess",!0),H.value=!1},F=lt(),A=C(()=>F),g=C(()=>h),q=()=>{if(g.value.chainName==="Aptos"){const t=i.value.currentWallet.publicAccount,n=t.address,r=t.publicKey;A.value.initNotifi(n,r,g.value.chainName)}else A.value.initNotifi(i.value.address,i.value.address,g.value.chainName)};$(()=>[g.value.chainName,i.value.address],([t,n])=>{E.value.hasNotifi&&(n?q():F.setNotifiStatus("logOut")),t==="Sui"&&o.name=="pool"&&v.push("/pool/list"),t==="Aptos"&&o.name=="pool"&&v.push("/pools"),t==="Aptos"&&o.name=="pool-vaults"&&v.replace("/pools"),t==="Aptos"&&(o.path.includes("/launchpad")||o.path.includes("/xcetus")||o.path.includes("/pool/list")||o.path.includes("/pool/vaults")||o.path.includes("/vaults")||o.path.includes("/farms"))&&(console.log("ðŸš€ ~ setup ~ newChainName:",t),v.push("/pools")),t==="Aptos"&&o.path.includes("/limit")&&v.push("/swap"),t==="Aptos"&&o.path.includes("/pool/position")&&v.push("/pools"),t==="Sui"&&o.path.includes("/pools")&&v.push("/pool/list"),o.name=="liquidity"&&v.push("/liquidity/deposit"),t==="Sui"&&o.name=="position"&&v.push("/pool/list")},{immediate:!0});const N=C(()=>y.value.poolListPageSize),W=C(()=>g.value.poolAmount),oe=()=>{if(!o.name.includes("stats")){e.value=!1;return}const t=document.querySelector(".new-sui-stats-container-bg");t&&(t.scrollTop>0?e.value=!0:e.value=!1,Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight&&20+N.value<W.value&&w.setPageSize(20+N.value))},ye=()=>{const t=document.querySelector(".new-sui-stats-container-bg");t&&t.scrollTo({top:0,behavior:"smooth"})},Ce=t=>{let n={};const r=t.filter(p=>!p.is_pause),f={};for(let p=0;p<r.length;p++){const c=r[p];if(!n[c.routerSymbol]){n[c.routerSymbol]=c,f[c.routerSymbol]={base:c.token_a.address,quote:c.token_b.address,addressMap:new Map([[c.fee_rate,c.address]])};continue}n[c.routerSymbol]&&f[c.routerSymbol].addressMap.set(c.fee_rate,c.address)}return{paths:Object.values(f)}},be=tt();$(()=>[y.value.openPool],async([t])=>{if(t&&t.length>0){const n=Ce(t);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:695 ~ paths:",n),be.setPoolListGroupByTokenAB(n==null?void 0:n.paths)}},{immediate:!0}),$(()=>[y.value.poolConfigList,s.value.chainName],([t,n],[r,f])=>{var p;t.length!==r.length&&n&&n.toLowerCase().includes((p=t[0])==null?void 0:p.chain)&&(w.setPools(t,n),n=="Aptos"&&w.getTokensObj(t,n))}),$(()=>s.value.chainName,t=>{t=="Sui"&&w.getTokensObj([],"Sui")},{immediate:!0});const _e=C(()=>s.value.chainName);return{handleScroll:oe,scrollToTop:ye,showScrollTop:e,isRequestCoins:D,config:E,store:s,wallet:i,onSwitch:Y,onDisconnect:u,isLoading:j,closeTerm:Z,showTerm:H,closeWaitingModal:k,chainName:_e}}}),we=e=>(xe("data-v-8c6c04ca"),e=e(),et(),e),Tt=we(()=>m("svg",{"aria-hidden":"true",class:"scrollTop"},[m("use",{"xlink:href":"#icon-icon_top"})],-1)),kt=[Tt],$t={key:1,class:"web-loading-box"},Nt={key:2,class:"default-container"},Ot={class:"body-container"},Et={key:0,class:"launchpad-banner"},Mt=we(()=>m("div",{class:"center"},[m("div",{class:"center-text"},[m("p",null,"Cetus Launchpad"),m("span",null,"Discover gems on Sui")])],-1)),Bt=[Mt];function Rt(e,o,l,a,b,j){const T=ke,L=he("c-head"),h=Ve,s=yt,E=$e,D=Ne,k=Oe,i=Ee,P=st,M=Me,w=Be,y=Re,v=Le,B=We;return d(),O("div",null,[e.showScrollTop&&e.$route.name!=="swap"?(d(),O("div",{key:0,class:"scroll-top-svg",onClick:o[0]||(o[0]=(...u)=>e.scrollToTop&&e.scrollToTop(...u))},kt)):_("",!0),e.isLoading?(d(),O("div",$t,[K(T)])):(d(),O("div",Nt,[m("div",{class:X(["header-container",e.$route.name==="stats"&&e.chainName=="Sui"?"sui-stats-header":""])},[K(L)],2),m("div",Ot,[m("div",{ref:"scrollContainer",class:X(e.$route.name.indexOf("403")>=0?"body-container-denied body-container-bg":e.$route.name==="stats"&&e.chainName=="Sui"?"new-sui-stats-container-bg":"body-container-bg"),onScroll:o[1]||(o[1]=(...u)=>e.handleScroll&&e.handleScroll(...u))},[e.$route.name==="launchpad"?(d(),O("div",Et,Bt)):_("",!0),m("div",{class:X(["body-container-con",[e.$route.name==="launchpad"||e.$route.name.includes("upgrade-pools")||e.$route.name.includes("pool-list")||e.$route.name.includes("pool-position")||e.$route.name.includes("pool-vaults")?"launchpad-body-container-con":e.$route.name.indexOf("403")>=0?"delMargin":"",e.$route.name==="farms"||e.$route.name==="vaults"?"farms-body-container":""].join("")])},[K(h)],2)],34)]),e.isRequestCoins?(d(),I(s,{key:0,onOnClose:o[2]||(o[2]=u=>e.isRequestCoins=!1)})):_("",!0),e.store&&e.store.isShowSuccess?(d(),I(E,{key:1,onOnClose:o[3]||(o[3]=u=>e.store.setIsShowSuccess(!1))})):_("",!0),e.store&&e.store.isShowRejected?(d(),I(D,{key:2,onOnClose:o[4]||(o[4]=u=>e.store.setIsShowRejected(!1))})):_("",!0),e.store&&e.store.isShowWaiting?(d(),I(k,{key:3,onOnClose:e.closeWaitingModal},null,8,["onOnClose"])):_("",!0),e.wallet&&e.wallet.isShowWalletModal?(d(),I(i,{key:4,onOnDisconnect:o[5]||(o[5]=u=>e.onDisconnect()),onOnSwitch:o[6]||(o[6]=u=>e.onSwitch()),onOnClose:o[7]||(o[7]=u=>e.wallet.setIsShowWalletModal(!1))})):_("",!0),e.showTerm?(d(),I(P,{key:5,onClose:e.closeTerm},null,8,["onClose"])):_("",!0),e.store&&e.store.isShowSettingH5?(d(),I(M,{key:6,onOnClose:o[8]||(o[8]=u=>e.store.setIsShowSettingH5(!1))})):_("",!0),e.store&&e.store.isShowBuyCrypto?(d(),I(w,{key:7,onOnClose:o[9]||(o[9]=u=>e.store.setIsShowBuyCrypto(!1))})):_("",!0),e.store&&e.store.isShowBuyCryptoKODO?(d(),I(y,{key:8,onOnClose:o[10]||(o[10]=u=>e.store.setIsShowBuyCryptoKODO(!1))})):_("",!0),e.store&&e.store.isShowBuyCryptoConfirm?(d(),I(v,{key:9,onClose:o[11]||(o[11]=u=>e.store.setIsShowBuyCryptoConfirm(!1))})):_("",!0),e.store&&e.store.isShowBuyCryptoSelect?(d(),I(B,{key:10,onClose:o[12]||(o[12]=u=>e.store.setIsShowBuyCryptoSelect(!1))})):_("",!0)]))])}const so=fe(It,[["render",Rt],["__scopeId","data-v-8c6c04ca"]]);export{so as default};
