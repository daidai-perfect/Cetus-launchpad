import{_ as _t}from"./back.352b0134.js";import{_ as Ft,a as jt}from"./token-warning-modal.c0b24e12.js";import{_ as Dt}from"./swap-setting.07e8d9f3.js";import{u as vo,c as kn,a as Et}from"./sha256.bb272993.js";import{u as nn,c as go,D as h,a as qn,d as Le,b as on,n as Nn,e as Ee,t as Sn,g as Ln,p as tt,s as xo,f as Ao,h as at}from"./pool.771f7a64.js";import{a as po,r as g,y as hn,C as Ht,m as X,D as he,b as Mn,e as mo,o as l,f as p,h as a,v as d,i as re,z as ke,c as ce,x as P,p as jo,k as Do,q as Cn,t as io,j as _e,I as vt,E as pt,w as Ne,S as mt,u as le,B as Rn,G as Wt,H as it,F as No,s as en,J as ft,M as gt,K as bt,l as zt,L as An,N as Xt}from"./entry.bcbaa849.js";import{i as Ve}from"./import-icon.de3e6c66.js";import{_ as Vt}from"./assets-card.7d70abf4.js";import{s as bn,m as Kt,l as Zt,b as Gt,a as Jt,_ as lt,c as st,d as Qt}from"./icon-Add-Liquidity_2x.dc1fea8d.js";import{_ as Yt,a as xt,b as ea,c as oa}from"./new-add-or-create.1700657d.js";import{_ as na}from"./network-tips.ef4eebaa.js";/* empty css              *//* empty css              */import{_ as ta}from"./apr-tab.1eae062a.js";import{_ as aa}from"./token-warning.9f46df69.js";import{_ as ia}from"./apr-tips.d06a6695.js";/* empty css              */import{p as la}from"./precision.a7a6c57b.js";import{_ as sa}from"./coin-select.18d04679.js";import{_ as ra}from"./status-block.5bd4bf55.js";import{_ as kt}from"./icon-arrow_2x.948aedb2.js";import{_ as ht}from"./icon-arrow_2x.4ffddb8e.js";/* empty css              */import{u as ua}from"./notifi.d4a9c665.js";import{_ as Ct}from"./icon-selected_3x.09e9a6f0.js";/* empty css              *//* empty css              */import"./index.0958ab14.js";import"./img-no-Positions_2x.bd130f4d.js";import"./useWhale.a45a6b7f.js";import"./index.330df4c4.js";const da=po({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,n){const _=g(!1),F=g(null),B=g(0),Y=g(20),W=nn(),te=vo(),z=g(!1);hn(()=>{}),Ht(()=>{clearInterval(F.value)});const V=()=>{F.value=setInterval(()=>{var T;z.value||B.value<Y.value&&(B.value+=1,B.value===Y.value&&((T=e==null?void 0:e.poolInfo)!=null&&T.poolAddress&&W.updateCurrentPools(e.poolInfo.poolAddress,te.chainName),B.value=0))},1e3)},K=X(()=>te.slippage),G=()=>{n.emit("clearAll")},oe=()=>{B.value=0,n.emit("clickRefresh")};he(()=>e.poolInfo,T=>{T&&!F.value&&V()},{immediate:!0});const Ce=Mn();return{clickRefresh:oe,isShowSwapSetting:_,countdown:B,autoRefreshTime:Y,slippage:K,clearAll:G,checkNullObj:go,router:Ce}}});const ca=e=>(jo("data-v-f484e6e0"),e=e(),Do(),e),va={class:"title"},pa={class:"left"},ma=ca(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),fa={class:"deposit-progress"};function ga(e,n,_,F,B,Y){var z,V;const W=Ft,te=Dt;return l(),p("div",va,[a("div",pa,[a("span",null,d(e.poolInfo?e.$t("common.concentratedLiquidity"):(V=(z=e.$route)==null?void 0:z.query)!=null&&V.action?e.$t("newAdd.createClmmPool"):e.$t("common.concentratedLiquidity")),1)]),a("div",{class:ke(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[a("div",{class:"slippage-icon",onClick:n[0]||(n[0]=K=>e.isShowSwapSetting=!0)},[ma,a("span",null,d(e.slippage)+"%",1)]),a("div",fa,[re(W,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])],2),e.isShowSwapSetting?(l(),ce(te,{key:0,onOnClose:n[1]||(n[1]=K=>e.isShowSwapSetting=!1)})):P("",!0)])}const ba=mo(da,[["render",ga],["__scopeId","data-v-f484e6e0"]]);const ka=po({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const n=vo(),_=X(()=>n),F=g(""),B=g(""),Y=g(""),W=nn(),te=X(()=>W);he(()=>[e.coin,te.value.tokensObj],([V,K])=>{var G;V?(B.value=K&&K[V.address]&&((G=K[V.address])==null?void 0:G.labels),F.value=V.name,Y.value=V.symbol):(B.value="",F.value="",Y.value="")},{immediate:!0,deep:!0});const z=X(()=>{var V,K,G;return e.coinIcon||((G=(K=te==null?void 0:te.value)==null?void 0:K.tokensObj[(V=e.coin)==null?void 0:V.address])==null?void 0:G.logo_url)||(_.value.theme==="default"?Ve("/image/coins/unknown.png"):Ve("/image/coins/sui-unknown.png"))});return{store:_,importIcon:Ve,coinName:F,coinLabels:B,coinSymbol:Y,currentIcon:z}}}),ha=e=>(jo("data-v-d0bce36a"),e=e(),Do(),e),Ca={class:"coin-block"},ya={class:"coin-info"},wa={class:"symbol"},Pa={key:0,class:"name"},Ia={key:0,class:"label"},$a=ha(()=>a("div",null,[a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_on"})])],-1));function Ta(e,n,_,F,B,Y){const W=Cn("image");return l(),p("div",Ca,[a("div",null,[io(a("img",null,null,512),[[W,e.currentIcon]]),a("div",ya,[a("div",wa,d(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(l(),p("div",Pa,[_e(d(e.coin.name)+" ",1),e.store.theme=="default"?(l(),p("span",Ia,d(e.coinLabels?`(${e.coinLabels})`:""),1)):P("",!0)])):P("",!0)])]),$a])}const Sa=mo(ka,[["render",Ta],["__scopeId","data-v-d0bce36a"]]),Aa=po({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=vo();return{storeIndex:X(()=>e)}}});const Na={class:"create-pool-lock"},La={key:0,src:Yt,alt:""},qa={key:1,src:xt,alt:""};function Ma(e,n,_,F,B,Y){return l(),p("div",Na,[a("div",null,[e.storeIndex.theme=="default"?(l(),p("img",La)):(l(),p("img",qa))])])}const Ra=mo(Aa,[["render",Ma],["__scopeId","data-v-5d070e17"]]),Ua=po({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,n){const _=g("");return{inpValue:_,changecurrentPrice:B=>{var W;console.log(B.target.value,"e.target.value"),console.log((W=e.fromCoin)==null?void 0:W.decimals,"==>props.fromCoin?.decimals");const Y=new RegExp("[^\\d-]*(\\d*(?:\\.\\d*)?).*$");B.target.value=B.target.value.replace(Y,"$1"),_.value=B.target.value,console.log(_.value,"===>inpValue.value"),n.emit("changecurrentPrice",_.value)}}}});const Oa={class:"set-init-price"},Ba={class:"init-price-tips"};function _a(e,n,_,F,B,Y){var te,z,V,K;const W=vt;return l(),p("div",Oa,[re(W,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((z=(te=e.$route)==null?void 0:te.query)!=null&&z.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),a("div",Ba,d((V=e.toCoin)==null?void 0:V.symbol)+" per "+d((K=e.fromCoin)==null?void 0:K.symbol),1)])}const Fa=mo(Ua,[["render",_a],["__scopeId","data-v-9e71be9e"]]),ja=-443636;function rt(e,n){const _=Da(e),F=(_-ja)%n;return F>n/2?_-F+n:_-F}const yt=new h("1.0001");function Da(e){return e.log(yt).toDP(0,h.ROUND_HALF_UP).toNumber()}function ut(e){return yt.pow(e)}const Ea=po({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,n){const _=g(""),F=g("");let B=g(""),Y=g("");const W=pt(),te=vo(),z=X(()=>te),V=X(()=>z.value.chainName?qn(z.value.chainName):{}),K=()=>{if(!(Number.isNaN(_.value)||Number(_.value)!==0&&!_.value||!e.poolInfo.tickSpacing))try{const m=rt(new h(_.value.toString()),Number(T.value.tickSpacing)),D=ut(m+Number(T.value.tickSpacing));if(e.pType=="Min"&&Number(D.toString())>=Number(Y.value.toString()))return;const w=D.toString();n.emit("onInput",w)}catch{n.emit("onInput","")}},G=()=>{try{if(Number.isNaN(_.value)||!_.value||!e.poolInfo.tickSpacing)return;const m=rt(new h(_.value),Number(T.value.tickSpacing)),D=ut(m-Number(T.value.tickSpacing)),w=D.toString();if(e.pType=="Max"&&Number(D)<=Number(B.value))return;n.emit("onInput",w)}catch{n.emit("onInput","")}},oe=m=>{let D=m.toString().replace(/[^\d.]/g,"");const w=/^\d+(\.\d+)?$/;D.split(".").length>2&&!w.exec(D)&&(D=D.substr(0,D.length-1)),F.value=String(D),console.log(D,"v===>")},Ce=m=>{var Z,ve,Ae,fe;const{TickUtil:D,TickMath:w,getNearestTickByTick:k}=V.value;console.log("0519###onBlur###event###",m);const i=m.target.value;console.log("0519###onBlur###value###",i);let c;if(i==="0"){c=-443636,n.emit("onInput","0");return}else{const E=w.priceToTickIndex(new h(i),(Z=T.value.token_a)==null?void 0:Z.decimals,(ve=T.value.token_b)==null?void 0:ve.decimals);console.log("0519###onBlur###t###",E),c=k(Number(E),Number(T.value.tickSpacing))}console.log("0519###onBlur###tick###",c);const q=w.tickIndexToPrice(new h(c),(Ae=T.value.token_a)==null?void 0:Ae.decimals,(fe=T.value.token_b)==null?void 0:fe.decimals);console.log("0519###onBlur###price###",q.toString()),n.emit("onInput",q.toString())};he(()=>e.defaultMinPrice,(m,D)=>{m!==D&&(console.log(e.defaultMinPrice,"props.defaultMinPrice===>"),B.value=e.defaultMinPrice,console.log(B.value,"props.minPrice.value===>"))},{immediate:!0}),he(()=>e.defaultMaxPrice,(m,D)=>{m!==D&&(Y.value=e.defaultMaxPrice)},{immediate:!0}),he(()=>F.value,m=>{console.log(m,"=sdajlaksjdkldas")},{immediate:!0}),he(()=>[e.inputValue,W.query.action],([m])=>{if(console.log(m,"==>newValue"),m&&m!=="0"&&m!=="∞"){_.value=m;const w=m.toString().split(".")[1];F.value=m!=="0"&&m!=="∞"&&w&&w.length>6?Le(m.toString(),6):m.toString()}else(m=="0"||m=="∞"||W.query.action)&&(F.value=m);console.log(F.value,"===> oValue.value")},{immediate:!0});const T=g({});he(()=>e.poolInfo,(m,D)=>{m&&(T.value=m)},{immediate:!0});const Fe=g("");return he(()=>e.currentPriceTab,m=>{Fe.value=m},{immediate:!0}),console.log(e,"props=======>"),{addPrice:K,minusPrice:G,oValue:F,changeValue:oe,isDisabled:Fe,route:W,onBlur:Ce}}});const Ha={class:"set-price-item"},Wa={class:"title"},za={class:"input-box"},Xa={class:"minus-btn"},Va=["disabled"],Ka={class:"plus-btn"};function Za(e,n,_,F,B,Y){const W=vt,te=mt;return l(),p("div",Ha,[a("div",Wa,d(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),re(te,{loading:e.loading,active:"",paragraph:!1},{default:Ne(()=>[a("div",za,[a("a",Xa,[a("div",{class:ke(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:n[0]||(n[0]=(...z)=>e.minusPrice&&e.minusPrice(...z))},null,10,Va)]),re(W,{id:"pValu",value:e.oValue,"onUpdate:value":n[1]||(n[1]=z=>e.oValue=z),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:n[2]||(n[2]=z=>e.changeValue(z.target.value)),onBlur:n[3]||(n[3]=z=>e.onBlur(z))},null,8,["value","disabled"]),a("a",Ka,[a("div",{class:ke(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:n[4]||(n[4]=(...z)=>e.addPrice&&e.addPrice(...z))},null,2)])])]),_:1},8,["loading"]),a("p",{class:ke(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},d(e.toCoin&&e.toCoin.symbol)+" per "+d(e.fromCoin&&e.fromCoin.symbol),3)])}const dt=mo(Ea,[["render",Za],["__scopeId","data-v-782725c6"]]),Ga=po({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,n){let _=g(""),F=g(""),B=g(),Y=g(!1),W=g(!1);const te=g({}),z=vo(),V=X(()=>z);hn(()=>{_.value=e.min,F.value=e.max}),he(()=>e.currentPriceTab,(m,D)=>{m!==D&&(B.value=e.currentPriceTab)},{immediate:!0}),he(()=>e.min,(m,D)=>{m!==D&&(_.value=m,console.log(e.min,"===> props.min"))}),he(()=>e.max,(m,D)=>{m!==D&&(F.value=m)}),he(()=>e.poolInfo,(m,D)=>{m&&(te.value=m)},{immediate:!0});const K=g("");he(()=>e.intPrice,m=>{console.log(e.intPrice,"===>props.intPrice"),K.value=m},{immediate:!0,deep:!0});const G=m=>{console.log(m,"val===>123"),_.value=m,n.emit("onChangeMinPrice",m)},oe=m=>{F.value=m,n.emit("onChangeMaxPrice",m)};he(Y,(m,D)=>{m!==D&&n.emit("onChangeFullRange",m)});const Ce=()=>{_.value=e.defaultMinPrice,F.value=e.defaultMaxPrice,W.value=!1,Y.value=!1},T=()=>{W.value=!1,_.value="0",F.value="∞"};return he(Y,(m,D)=>{m!==D&&n.emit("onChangeFullRange",m)}),{store:V,changeMinPrice:G,changeMaxPrice:oe,importIcon:Ve,resetPrice:Ce,changeShowUnderStand:()=>{Y.value=!Y.value,Y.value?W.value=!0:Ce(),W.value||(_.value=e.defaultMinPrice,F.value=e.defaultMaxPrice)},showUnderStand:W,minPrice:_,maxPrice:F,understand:T,isRadio:Y,initPirce:K}}});const Ja={class:"set-price"},Qa={class:"card-container"},Ya={key:0,class:"card"},xa=["src"],ei={key:1,class:"understand"},oi={class:"left"},ni={class:"right"};function ti(e,n,_,F,B,Y){const W=dt,te=dt,z=Rn;return l(),p("div",Ja,[a("div",Qa,[e.showUnderStand?(l(),p("div",ei,[a("div",oi,[a("p",null,d(e.$t("common.lowerEfficiency")),1),a("p",null,d(e.$t("common.lowerEfficiencyTips")),1)]),a("div",ni,[re(z,{onClick:e.understand},{default:Ne(()=>[_e(d(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(l(),p("div",Ya,[re(W,{value:e.minPrice,"onUpdate:value":n[0]||(n[0]=V=>e.minPrice=V),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),re(te,{value:e.maxPrice,"onUpdate:value":n[1]||(n[1]=V=>e.maxPrice=V),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),a("img",{src:("importIcon"in e?e.importIcon:le(Ve))("/image/lmg-line@2x.png"),alt:""},null,8,xa)]))])])}const ai=mo(Ga,[["render",ti],["__scopeId","data-v-d07618c3"]]);function ct(e,n,_){const F=new h(10).pow(n-_);return new h(1.0001).pow(e).mul(F)}const ii=po({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,n){const _=g(1),F=g(""),B=g(""),Y=X(()=>{var i,c,q;return G.sqrtPriceX64ToPrice((i=e.poolInfo)==null?void 0:i.current_sqrt_price,(c=e.poolInfo)==null?void 0:c.coinA.decimals,(q=e.poolInfo)==null?void 0:q.coinB.decimals).toString()}),W=X(()=>{let i=0;return e.direction?i=(Number(e.minPrice)/Number(Y.value)-1)*100:i=(Number(e.minPrice)/Number(1/Number(Y.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),te=X(()=>{let i=0;return e.direction?i=(Number(e.maxPrice)/Number(Y.value)-1)*100:i=(Number(e.maxPrice)/Number(1/Number(Y.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),z=vo(),V=X(()=>z),K=X(()=>V.value.chainName?qn(V.value.chainName):{}),{TickMath:G,getNearestTickByTick:oe}=K.value,Ce=()=>{const i=_.value/2;_.value=i,m(e.poolInfo,i)},T=()=>{const i=_.value*2;_.value=i,m(e.poolInfo,i)},Fe=(i=[])=>{let c=6;const q=Math.abs(Number(i[0])-Number(i[i.length-1]));return q>=6?c=0:q>=1?c=1:q>=.1?c=2:q>=.01?c=3:q>=.001?c=4:q>=1e-4?c=5:q>=1e-5?c=6:q>=1e-6?c=7:q>=1e-7&&(c=8),c},m=(i,c=1)=>{if(i&&i.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){console.log(e.poolInfo,"==>props.poolInfo");const q=Number(e.poolInfo.current_tick_index);console.log("0117###dataProcessing###currentTick###",q),console.log("0117###dataProcessing###props.poolInfo###",e.poolInfo),console.log("0117###dataProcessing###minPrice###",e.minPrice),console.log("0117###dataProcessing###maxPrice###",e.maxPrice),console.log("0117###dataProcessing###poolInfo###",e.poolInfo);let Z=q+100*c,ve=q-100*c,Ae,fe;if(e.maxPrice==="∞")fe=K.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?fe=G.priceToTickIndex(new h(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):fe=G.priceToTickIndex(new h(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{fe=443636}if(e.minPrice==="0")Ae=K.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?Ae=G.priceToTickIndex(new h(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):Ae=G.priceToTickIndex(new h(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{Ae=-443636}let E=0;if(e.currentPriceTab!=="full range"){if(q>=Ae&&q<=fe){const ne=q-Ae,M=fe-q;E=Math.max(Math.abs(ne),Math.abs(M))}else q<Ae?E=Math.abs(fe-q):E=Math.abs(q-Ae);Z=q+E+100*c,ve=q-E-100*c,console.log(c,q,"===>zooms")}else{const ne=(Math.abs(q)>5e3,2e4);Z=q+ne*c,ve=q-ne*c}ve<-443636&&(ve=-443636),Z>443636&&(Z=443636),console.log(ve,Z,"===>201");const se=new h(i.liquidity).div(Math.pow(10,8)).toString();console.log(se,"==>currentLiquity");const J=e.tickList;console.log("0117####drawChart####tick_info_array####",J);const ie=[],je=[];let x={};for(let ne=0;ne<J.length;ne++){if(x=J[ne],x.index<=q&&x.index>=ve){if(ie.length<1&&ne!==0){const M=J[ne-1];ie.unshift({...M,index:ve})}ie.unshift(x)}else if(x.index>q&&x.index<=Z&&(je.push(x),ie.length<1&&ne!==0)){const M=J[ne-1];ie.push({...M,index:ve})}if(x.index>Z){const M=J[ne];if(je.push({...M,index:Z}),ie.length<1&&ne!==0){const Io=J[ne-1];ie.push({...Io,index:ve})}break}}console.log(q,ve,Z,"===>currentTick");let $e="0";for(let ne=ie.length-1;ne>=0;ne--)$e=new h($e).plus(new h(ie[ne].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ie[ne].liquityAmount=$e;let pe=se;for(let ne=0;ne<je.length;ne++)pe=new h(pe).plus(new h(je[ne].liquidityNet.toString()).div(Math.pow(10,8))).toString(),je[ne].liquityAmount=pe;console.log(ie.length,je.length,"leftArray");let qe=[];const ue=J&&J.length>0?{index:q,liquityAmount:Number(se)}:{index:q,liquityAmount:0};(ie.length>0||je.length>0)&&(console.log([ue,...je],"279===>"),qe=[...ie.reverse(),ue,...je],e.direction||(qe=qe.reverse()));const Ke=[];J.forEach(ne=>{Ke.push({...ne,liquidityGross:ne.liquidityGross.toString(),liquidityNet:ne.liquidityNet.toString()})}),console.log("0117####drawChart####testTickInfoArray####",Ke),console.log("0117####drawChart####currentLiquity####",se),console.log(qe,"===>chartData"),w(qe,ve,Z,Ae,fe,q)}};let D=g(!1);hn(()=>{document.body.clientWidth<750?D.value=!1:D.value=!0,window.onresize=()=>{document.body.clientWidth<750?D.value=!1:D.value=!0,m(e.poolInfo,_.value)}});const w=(i,c,q,Z,ve,Ae)=>{console.log("0117####drawChart####chartData####",i),console.log("0117####drawChart####tickMin####",c),console.log("0117####drawChart####tickMax####",q),console.log("0117####drawChart####minPriceTick####",Z),console.log("0117####drawChart####maxPriceTick####",ve),console.log("0117####drawChart####currentTick####",Ae),console.log("0117####drawChart####props.direction####",e.direction),console.log("0518###newd3###props.before7dContractPriceLowest###",e.before7dContractPriceLowest),console.log("0518###newd3###props.before7dContractPriceHighest###",e.before7dContractPriceHighest);let fe,E;e.direction?(fe=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?G.priceToTickIndex(new h(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",E=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?G.priceToTickIndex(new h(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(fe=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?G.priceToTickIndex(new h(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",E=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?G.priceToTickIndex(new h(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const se={top:30,right:35,bottom:20,left:55};let J,ie;D.value?(J=460-se.left-se.right,ie=205-se.top-se.bottom):(J=340-se.left-se.right,ie=205-se.top-se.bottom);const je=q-c,x=parseInt(String(je/4));let $e=[c+x/4,c+x,c+2*x,q-x,q-x/4];const pe=c,qe=q,ue=J/(qe-pe);e.currentPriceTab==="full range"&&($e=[c,c+2*x,q]),console.log("0117####drawChart####xArr####",$e),console.log("0117####drawChart####utickMin####",pe),console.log("0117####drawChart####utickMax####",qe),console.log("0117####drawChart####unit####",ue);const Ke=$e.map(R=>e.direction?ct(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new h(1).div(ct(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),ne=Fe(Ke);bn("#chart").selectAll("*").remove();const M=bn("#chart").attr("width",J+se.left+se.right).attr("height",ie+se.top+se.bottom).append("g").attr("transform",`translate(${se.left},${se.right})`),Io=Kt(i,function(R){return Number(Math.abs(R.liquityAmount))})||0,L=Zt().range([0,ie]).domain([Io,0]);Gt().rangeRound([0,J]).padding(.1);const Lo=M.append("g").attr("id","barsBox").selectAll("rect").data(i).enter().append("rect");V.value.theme=="default"?Lo.attr("x",function(R,I){return I===0?0:e.direction?Math.abs(R.index-pe)*ue:Math.abs(qe-R.index)*ue}).attr("y",function(R,I){return e.direction?I===i.length-1?0:L(R.liquityAmount):I===i.length-1?0:L(i[I+1].liquityAmount)}).attr("width",function(R,I){return I===0&&i.length===1&&R.liquityAmount>0?J:(e.direction,I!==i.length-1?Math.abs(i[I+1].index-R.index)*ue:0)}).attr("height",function(R,I){return I===0&&i.length===1&&R.liquityAmount>0?ie:e.direction?I===i.length-1?0:ie-L(R.liquityAmount):I===i.length-1?0:ie-L(i[I+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):Lo.attr("x",function(R,I){return I===0?0:e.direction?Math.abs(R.index-pe)*ue:Math.abs(qe-R.index)*ue}).attr("y",function(R,I){return e.direction?I===i.length-1?0:L(Math.abs(R.liquityAmount)):I===i.length-1?0:L(Math.abs(i[I+1].liquityAmount))}).attr("width",function(R,I){return I===0&&i.length===1&&R.liquityAmount>0?J:(e.direction,I!==i.length-1?Math.abs(i[I+1].index-R.index)*ue:0)}).attr("height",function(R,I){if(I===0&&i.length===1&&R.liquityAmount>0)return ie;if(e.direction)return I===i.length-1?0:Number(R.liquityAmount)?ie-L(Math.abs(R.liquityAmount)):0;{if(I===i.length-1)return 0;const Ze=ie-L(Math.abs(i[I+1].liquityAmount));return Number(i[I+1].liquityAmount)?Ze:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const qo=M.append("g");qo.append("line").attr("x1",0).attr("y1",155).attr("x2",J).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const bo=qo.append("g");let $o=0;if(e.direction){for(let R=0;R<$e.length;R++){const I=Le(Ke[R],ne)||"0";console.log("0423####price####",I),Ke.push(I);const Ze=Math.abs($e[R]-pe)*ue;let Re=0;for(let ye=0;ye<I.length;ye++)I[ye]==="1"?Re+=4.02:I[ye]==="."?Re+=2.64:I[ye]==="7"?Re+=5.48:Re+=6;console.log(Ze,"x=>>>"),bo.append("text").text(I).attr("x",Ze-Re/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}$o=Math.abs(Ae-pe)*ue}else{for(let R=$e.length-1;R>=0;R--){const I=Le(Ke[R],ne)||0;Ke.push(I);const Ze=Math.abs($e[R]-qe)*ue;let Re=0;for(let ye=0;ye<I.length;ye++)I[ye]==="1"?Re+=4.02:I[ye]==="."?Re+=2.64:I[ye]==="7"?Re+=5.48:Re+=6;bo.append("text").text(I).attr("x",Ze-Re/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}$o=Math.abs(Ae-qe)*ue}(V.value.theme=="default"?M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+$o+", 0)");let Qe,ze,ko,ho;e.direction?(console.log("0525###d3###select###minPriceTick###",Z),console.log("0525###d3###select###maxPriceTick###",ve),console.log("0525###d3###select###props.minPrice###",e.minPrice),console.log("0525###d3###select###props.maxPrice###",e.maxPrice),Qe=Z<pe?-100:parseInt(String(Math.abs(Z-pe)*ue)),ze=ve<pe?-100:parseInt(String(Math.abs(ve-pe)*ue)),ko=fe<pe?-100:Math.abs(fe-pe)*ue,ho=E<pe?-100:Math.abs(E-pe)*ue):(ze=Z<pe?-100:Math.abs(qe-Z)*ue,Qe=ve<pe?-100:Math.abs(qe-ve)*ue,ho=fe<pe?-100:Math.abs(qe-fe)*ue,ko=E<pe?-100:Math.abs(qe-E)*ue),e.minPrice==="0"&&(Qe=0),e.maxPrice==="∞"&&(ze=J),D.value?F.value=J-Qe+60+"px":F.value=J-Qe+52+"px",B.value=ze+74+"px",fe&&ko<J&&M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+ko+", 0)"),E&&ho<J&&M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+ho+", 0)");const Ye=M.append("g").attr("id","left-handle"),De=M.append("g").attr("id","right-handle");V.value.theme=="default"?(Ye.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Ye.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Ye.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Ye.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),De.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),De.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),De.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),De.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Ye.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Ye.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Ye.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Ye.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),De.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),De.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),De.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),De.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),console.log("0525###d3###select###minPriceTickX###",Qe),console.log("0525###d3###select###maxPriceTickX###",ze),Ye.attr("transform","translate("+Qe+", 0)"),De.attr("transform","translate("+ze+", 0)");const Mo=Jt().extent([[0,0],[J,ie]]).handleSize(30).on("end",Eo);M.append("g").attr("class","brush").call(Mo).call(Mo.move,[Qe,ze]);function Eo(R){if(!R.sourceEvent||!R.selection)return;Ye.attr("transform","translate("+R.selection[0]+", 0)"),De.attr("transform","translate("+R.selection[1]+", 0)"),D.value?F.value=J-R.selection[0]+60+"px":F.value=J-R.selection[0]+52+"px",B.value=R.selection[1]+74+"px";let I,Ze;console.log("0525###d3###select###e.selection[0]###",R.selection[0]),console.log("0525###d3###select###e.selection[0]###",R.selection[1]),console.log("0525###d3###select###props.direction###",e.direction),console.log("0525###d3###select###width###",J),console.log("0525###d3###select###unit###",ue),console.log("0525###d3###select###utickMin###",pe),console.log("0525###d3###select###utickMax###",qe),console.log("0525###d3###select###props.poolInfo###",e.poolInfo);let Re=0,ye=0;e.direction?(Re=oe(parseInt(String(R.selection[0]/ue+pe)),Number(e.poolInfo.tickSpacing)),I=G.tickIndexToPrice(Re,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ye=oe(parseInt(String(R.selection[1]/ue+pe)),Number(e.poolInfo.tickSpacing)),Ze=G.tickIndexToPrice(ye,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),console.log("0525###d3###select###minTick###",Re),console.log("0525###d3###select###maxTick###",ye),console.log("0525###d3###select###minPrice###",I),console.log("0525###d3###select###maxPrice###",Ze)):(ye=oe(qe-R.selection[0]/ue,Number(e.poolInfo.tickSpacing)),I=1/G.tickIndexToPrice(ye,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),Re=oe(qe-R.selection[1]/ue,Number(e.poolInfo.tickSpacing)),Ze=1/G.tickIndexToPrice(Re,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),n.emit("onChangeMinPrice",String(Le(String(I),6))),n.emit("onChangeMaxPrice",String(Le(String(Ze),6)))}V.value.theme=="default"?bn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):bn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};g(""),he(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([i,c,q,Z])=>{console.log(i,c,q,q>c,"poolInfo && minPrice && maxPrice && (maxPrice > minPrice)"),i&&c&&q&&m(i,_.value)},{immediate:!0});const k=g(!0);return he(()=>e.chartLoading,(i,c)=>{i!==c&&(k.value=i)},{immediate:!0,deep:!0}),{store:V,loading:k,zoomOut:Ce,zoomIn:T,rangeSizeLower:W,rangeSizeUpper:te,rangeSizeLowerPosition:F,rangeSizeUpperPosition:B,decimalFormat:on,numberformat:Nn}}});const li=e=>(jo("data-v-beaf2b95"),e=e(),Do(),e),si={class:"chart-box"},ri={class:"chart"},ui={class:"zoom"},di=li(()=>a("svg",{id:"chart"},null,-1));function ci(e,n,_,F,B,Y){return l(),p("div",si,[io(a("div",ri,[a("div",ui,[a("div",{class:"amplification",onClick:n[0]||(n[0]=(...W)=>e.zoomOut&&e.zoomOut(...W))}),a("div",{class:"narrow",onClick:n[1]||(n[1]=(...W)=>e.zoomIn&&e.zoomIn(...W))})]),e.currentPriceTab!=="full range"?(l(),p("div",{key:0,class:"range-size range-size-lower",style:it({right:e.rangeSizeLowerPosition})},d(("numberformat"in e?e.numberformat:le(Nn))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):P("",!0),e.currentPriceTab!=="full range"?(l(),p("div",{key:1,class:"range-size range-size-upper",style:it({left:e.rangeSizeUpperPosition})},d(("numberformat"in e?e.numberformat:le(Nn))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):P("",!0),di],512),[[Wt,!e.loading]])])}const vi=mo(ii,[["render",ci],["__scopeId","data-v-beaf2b95"]]),pi=po({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,n){const _=g(""),F=g(""),B=g(""),Y=vo(),W=X(()=>Y);console.log(e,"props124====>");const te=nn(),z=X(()=>te),V=(k,i)=>k&&i?la.plus(Sn(k),Sn(i)):k>0?k:0,K=k=>{let i=0;return k&&k.forEach(c=>{i+=Sn(String(c))}),String(i)},G=g([]),oe=g([]),Ce=g(""),T=g(""),Fe=g(!0);he(()=>[W.value.newTopPoolsObj,e.poolInfo,z.value.tokensObj,e.aprRewardsParameter],async([k,i,c])=>{var q;if(k&&i&&c){const Z=k[i==null?void 0:i.poolAddress];if(Z){console.log(Z,"===>stats"),_.value=Z&&Z.apr_7day&&Z.apr_7day.replace("%","")||"0",T.value=K(Z&&Z.rewarder_apr),Ce.value=V(Z&&Z.apr_7day,Z&&K(Z.rewarder_apr)),console.log(e.poolInfo,"===>props.poolInfo"),console.log(Ce.value,"===> rewardApr.value"),F.value=Ee(Z.tvl_in_usd,2),B.value=Ee(Z.vol_in_usd_24h,2);const ve=i&&e.poolInfo.rewarder_infos||[],Ae=[];for(let E=0;E<ve.length;E++){const se=ve[E];if(c[se.coinAddress]){const J=c[se.coinAddress].decimals,ie=on(se.emissionsEveryDay/Math.pow(10,J),4),je=Number(ie)>0?Ee(ie):ie,x=on(Number(ie)*((q=z.value.RATES[se.coinAddress])==null?void 0:q.price),4);Ae.push({...se,logoUrl:c[se.coinAddress].logoURI,day:je,dayUSD:x,symbol:c[se.coinAddress].symbol,rewarder_display:i&&i[`rewarder_display${E+1}`]?i[`rewarder_display${E+1}`]:!1})}}console.log(Ae,"mockArr206===>"),G.value=Ae.filter(E=>E.rewarder_display);const fe=[];Ae.forEach((E,se)=>{c[E.coinAddress]&&fe.push({...E,symbol:c[E.coinAddress].symbol,rewarderApr:Z.rewarder_apr[se]&&Z.rewarder_apr[se].replace("%","")})}),oe.value=fe.filter(E=>E.rewarder_display)}else _.value="0",F.value="--",B.value="--",Ce.value=="0";console.log(oe.value,"===>rewarderArr.value"),Fe.value=!1}},{immediate:!0,deep:!0});const m=()=>{n.emit("reviseValue")},D=k=>{var i;return(k==null?void 0:k.logoURI)||(k==null?void 0:k.logo_url)||((i=z.value.tokensObj[k==null?void 0:k.address])==null?void 0:i.logo_url)||(W.value.theme==="default"?Ve("/image/coins/unknown.png"):Ve("/image/coins/sui-unknown.png"))},w=X(()=>z.value.tokensWarningObj);return console.log(w.value,"==>tokensObj"),console.log(e.poolInfo,"props.poolInfo====>"),{tokensWarningObj:w,rewarderInfo:G,rewarderArr:oe,rewardApr:Ce,rewardAprList:T,apr:_,liquidityTvl:F,vol24:B,addCommom:Ee,reviseValue:m,loading:Fe,getCoinIcon:D,store:Y}}});const yn=e=>(jo("data-v-5035ed5d"),e=e(),Do(),e),mi={key:0,class:"pool-info"},fi=yn(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),gi=[fi],bi={key:0,class:"info-block-container"},ki={class:"info-block"},hi={class:"coin-tips"},Ci={class:"left"},yi={alt:""},wi={class:"address"},Pi=yn(()=>a("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Ii=[Pi],$i={class:"info-block"},Ti={class:"coin-tips"},Si={class:"left"},Ai={alt:""},Ni={class:"address"},Li=yn(()=>a("use",{"xlink:href":"#icon-icon-copy"},null,-1)),qi=[Li],Mi={class:"info-block"},Ri={class:"leabl"},Ui={class:"text"},Oi={class:"apr-hover-content"},Bi={class:"info-block"},_i={class:"leabl"},Fi={class:"text"},ji={class:"info-block"},Di={class:"leabl"},Ei={class:"text"},Hi={class:"info-block"},Wi={class:"leabl"},zi={class:"text"},Xi={key:1,class:"pool-rewards-info"},Vi={class:"rewards-list-all"},Ki=yn(()=>a("div",{class:"icon-sign"},null,-1)),Zi={alt:""},Gi={class:"rewards-value"};function Ji(e,n,_,F,B,Y){const W=aa,te=ia,z=ft,V=Cn("image");return e.poolInfo?(l(),p("div",mi,[e.loading?(l(),ce(z,{key:1})):(l(),p(No,{key:0},[a("div",{class:ke(e.label?"pool-info-border pool-info-title":"pool-info-title")},[_e(d(e.$t("newAdd.poolInfo"))+" ",1),(l(),p("svg",{class:ke(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:n[0]||(n[0]=K=>e.reviseValue())},gi,2))],2),e.label?(l(),p("div",bi,[a("div",ki,[a("div",hi,[a("div",Ci,[io(a("img",yi,null,512),[[V,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a)]]),a("div",wi,d(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address),1),re(W,{address:e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(l(),p("svg",{class:"icon","aria-hidden":"true",onClick:n[1]||(n[1]=K=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address))},Ii))])])]),a("div",$i,[a("div",Ti,[a("div",Si,[io(a("img",Ai,null,512),[[V,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b)]]),a("div",Ni,d(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address),1),re(W,{address:e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(l(),p("svg",{class:"icon","aria-hidden":"true",onClick:n[2]||(n[2]=K=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address))},qi))])])]),a("div",Mi,[a("div",Ri,d(e.$t("common.apr")),1),a("div",Ui,[_e(d(e.poolInfo.is_display_rewarder?e.rewardApr>0&&e.rewardApr<.01?"<0.01":("addCommom"in e?e.addCommom:le(Ee))(e.rewardApr,2):e.apr>0&&e.apr<.01?"<0.01":("addCommom"in e?e.addCommom:le(Ee))(e.apr,2))+"% ",1),a("div",Oi,[re(te,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),a("div",Bi,[a("div",_i,d(e.$t("common.liquidity")),1),a("div",Fi,"$"+d(e.liquidityTvl),1)]),a("div",ji,[a("div",Di,d(e.$t("common.volume24h")),1),a("div",Ei,"$"+d(e.vol24),1)]),a("div",Hi,[a("div",Wi,d(e.$t("newAdd.tickSpacing")),1),a("div",zi,d(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):P("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(l(),p("div",Xi,[_e(d("Farming Rewards")+" "),a("div",Vi,[(l(!0),p(No,null,en(e.rewarderInfo,K=>(l(),p("div",{key:K,class:ke(["rewards-list",K.day==0?"rewards-none":""])},[Ki,io(a("img",Zi,null,512),[[V,K.logoUrl]]),a("div",Gi,[a("p",null,d(K.day)+" "+d(K.symbol)+" / "+d(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):P("",!0)],64))])):P("",!0)}const Qi=mo(pi,[["render",Ji],["__scopeId","data-v-5035ed5d"]]),Yi=po({components:{Modal:gt},props:{poolInfo:{type:Object,required:!0}},setup(e){const n=g({}),_=vo(),F=X(()=>_),B=X(()=>F.value.chainName),Y=X(()=>kn[B.value]);let W=g(!0);const te=nn(),z=X(()=>te),V=Mn(),K=X(()=>e.poolInfo.needReverse);return he(()=>z.value.currentPositionInfo,oe=>{console.log(oe,"==>newVal111111"),oe&&(n.value=oe)},{immediate:!0}),{getExplorerUrl:Ln,addCommom:Ee,router:V,pools:z,positionInfo:n,decimalFormat:on,rateChange:W,config:Y,importIcon:Ve,store:F,chainName:B,checkNullObj:go,needReverse:K,getCoinIcon:oe=>{var Ce;return(oe==null?void 0:oe.logoURI)||(oe==null?void 0:oe.logo_url)||((Ce=z.value.tokensObj[oe==null?void 0:oe.address])==null?void 0:Ce.logo_url)||(F.value.theme==="default"?Ve("/image/coins/unknown.png"):Ve("/image/coins/sui-unknown.png"))},decimalUi:Le}}});const wn=e=>(jo("data-v-a2edb48c"),e=e(),Do(),e),xi=wn(()=>a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),el={class:"rejected-container"},ol={class:"coin-pair"},nl=wn(()=>a("use",{"xlink:href":"#icon-icon-copy"},null,-1)),tl=[nl],al=["href"],il=wn(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-jump"})],-1)),ll=[il],sl={class:"coin-pair"},rl={class:"fee"},ul={class:"status"},dl={class:"min-and-max"},cl={key:0},vl={class:"text"},pl={key:0,src:kt,alt:""},ml={key:1,src:ht,alt:""},fl={class:"text"},gl={key:1},bl={class:"text"},kl={key:0,src:kt,alt:""},hl={key:1,src:ht,alt:""},Cl={class:"text"},yl=wn(()=>a("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),wl=[yl];function Pl(e,n,_,F,B,Y){const W=mt,te=ra,z=Rn,V=bt("Modal"),K=Cn("image");return l(),ce(V,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:n[3]||(n[3]=G=>e.$emit("onClose"))},{closeIcon:Ne(()=>[xi]),default:Ne(()=>[a("div",el,[re(W,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ne(()=>[a("div",ol,[_e(d(e.positionInfo.tokenName)+" ",1),(l(),p("svg",{class:"icon","aria-hidden":"true",onClick:n[0]||(n[0]=G=>e.store.copy(e.positionInfo.nftHash))},tl)),a("a",{href:e.chainName==="Aptos"?("getExplorerUrl"in e?e.getExplorerUrl:le(Ln))("nftAddress",e.positionInfo.nftHash):("getExplorerUrl"in e?e.getExplorerUrl:le(Ln))("nftAddress",e.positionInfo.pos_object_id),target:"_blank"},ll,8,al)])]),_:1},8,["loading"]),a("div",{class:ke(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[re(W,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ne(()=>{var G,oe,Ce,T,Fe,m,D,w,k,i,c,q;return[a("div",sl,[a("div",null,[io(a("img",null,null,512),[[K,e.getCoinIcon(e.needReverse?(oe=e.positionInfo)==null?void 0:oe.token_b:(G=e.positionInfo)==null?void 0:G.token_a)]]),io(a("img",null,null,512),[[K,e.getCoinIcon(e.needReverse?(T=e.positionInfo)==null?void 0:T.token_a:(Ce=e.positionInfo)==null?void 0:Ce.token_b)]])]),a("span",null,d(e.needReverse?(w=(D=e.positionInfo)==null?void 0:D.token_b)==null?void 0:w.symbol:(m=(Fe=e.positionInfo)==null?void 0:Fe.token_a)==null?void 0:m.symbol)+" - "+d(e.needReverse?(q=(c=e.positionInfo)==null?void 0:c.token_a)==null?void 0:q.symbol:(i=(k=e.positionInfo)==null?void 0:k.token_b)==null?void 0:i.symbol),1)]),a("div",rl,d(e.$t("common.fee"))+" "+d(e.positionInfo.fee*100)+"%",1)]}),_:1},8,["loading"])],2),a("div",ul,[re(te,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),re(W,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ne(()=>{var G,oe,Ce,T,Fe,m,D,w;return[a("div",dl,[(e.needReverse?!e.rateChange:e.rateChange)?(l(),p("div",cl,[a("div",vl,d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(String(e.positionInfo&&e.positionInfo.minPrice),6))),1),e.store.theme=="default"?(l(),p("img",pl)):(l(),p("img",ml)),a("div",fl,d(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(String(e.positionInfo&&e.positionInfo.maxPrice),6)))+" "+d((oe=(G=e.positionInfo)==null?void 0:G.token_b)==null?void 0:oe.symbol)+" per "+d((T=(Ce=e.positionInfo)==null?void 0:Ce.token_a)==null?void 0:T.symbol),1)])):(l(),p("div",gl,[a("div",bl,d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6))),1),e.store.theme=="default"?(l(),p("img",kl)):(l(),p("img",hl)),a("div",Cl,d(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6)))+" "+d((m=(Fe=e.positionInfo)==null?void 0:Fe.token_a)==null?void 0:m.symbol)+" per "+d((w=(D=e.positionInfo)==null?void 0:D.token_b)==null?void 0:w.symbol),1)])),(l(),p("svg",{class:"icon-change","aria-hidden":"true",onClick:n[1]||(n[1]=k=>e.rateChange=!e.rateChange)},wl))])]}),_:1},8,["loading"])]),re(z,{disabled:("checkNullObj"in e?e.checkNullObj:le(go))(e.positionInfo),onClick:n[2]||(n[2]=G=>e.router.push(`/new-position-detail?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:Ne(()=>[_e(d(e.$t("newAdd.viewDetail")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])}const Il=mo(Yi,[["render",Pl],["__scopeId","data-v-a2edb48c"]]),$l=po({components:{Modal:gt},setup(){const e=vo(),n=X(()=>e);return{importIcon:Ve,store:n}}}),Tl=""+new URL("img-Creat-success_2x.b6f0a395.png",import.meta.url).href,Sl=""+new URL("img-Creat-success.9734ad6f.png",import.meta.url).href;const Al=e=>(jo("data-v-d7a9ceb3"),e=e(),Do(),e),Nl=Al(()=>a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Ll={class:"create-success-container"},ql={key:0,src:Tl,alt:""},Ml={key:1,src:Sl,alt:""},Rl={class:"waiting-title"};function Ul(e,n,_,F,B,Y){const W=bt("Modal");return l(),ce(W,{visible:!0,class:"",centered:"",title:"",width:"400px",footer:null,onCancel:n[0]||(n[0]=te=>e.$emit("onClose"))},{closeIcon:Ne(()=>[Nl]),default:Ne(()=>[a("div",Ll,[e.store.theme=="default"?(l(),p("img",ql)):(l(),p("img",Ml)),a("p",Rl,d(e.$t("newAdd.createPoolSuccessText")),1)])]),_:1})}const Ol=mo($l,[["render",Ul],["__scopeId","data-v-d7a9ceb3"]]),Bl={1e-4:2,5e-4:10,.002:60,.006:200},_l={1e-4:2,5e-4:10,.0025:60,.01:200},Fl=po({setup(){let e=g(!1);const{t:n,locale:_}=zt(),F=Et(),B=X(()=>F),Y=vo(),W=g(0),te=g(!1),z=g(!1),V=g(!1),K=g("fromCoin"),G=g(""),oe=g(""),Ce=g(!1),T=g(!0),Fe=g(!1),m=g(!0),D=g(!1),w=g(""),k=g(""),i=g(""),c=g(""),q=g(""),Z=g(""),ve=g(!1),Ae=g(!1),fe=g(!1),E=g(""),se=g(0),J=g(!0),ie=g(!1),je=g([]),x=g(""),$e=g(30),pe=g("30D"),qe=g("Estimated APR"),ue=g([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),Ke=g(!0),ne=vo(),M=X(()=>ne),Io=X(()=>{var o;return!!((o=v==null?void 0:v.query)!=null&&o.action&&(!s.value||!r.value||!E.value))}),L=X(()=>M.value.chainName?qn(M.value.chainName):{}),to=X(()=>{var o;return(o=M.value)==null?void 0:o.filterCreatePoolCoin}),Lo=o=>{console.log(o,"====>>>>item",o.num,$e.value),eo.updateCurrentPools(A.value.poolAddress,M.value.chainName),pe.value=o.time,$e.value=o.num},qo=()=>{console.log("reviseValue==>"),Ke.value=!Ke.value},bo=g([]),$o=()=>{W.value=0,v.query.action!=="create-pool"&&v.query.actions!=="new-position"&&(Qo(),uo(),eo.updateCurrentPools(A.value.poolAddress,M.value.chainName)),eo.setPoolConfigList(gn.value,M.value.filterCoinsObj)},Zo=X(()=>Number(i.value)>0&&Number(c.value)>0&&Number(i.value)>Number(c.value)),Qe=o=>{Fe.value=o,i.value="0",c.value="∞"},ze=X(()=>{if(N.value.poolConfigList&&s.value&&r.value){const o=N.value.poolConfigList.filter(u=>{var b,y,C,S;return u.token_a.address.toUpperCase()===((b=s.value.address)==null?void 0:b.toUpperCase())&&u.token_b.address.toUpperCase()===((y=r.value.address)==null?void 0:y.toUpperCase())||u.token_b.address.toUpperCase()===((C=s.value.address)==null?void 0:C.toUpperCase())&&u.token_a.address.toUpperCase()===((S=r.value.address)==null?void 0:S.toUpperCase())});console.log(o,"===>info");const t=[];return o.forEach(u=>{t.push(Number(u.fee))}),console.log(t,"===>>result"),t}else return[]}),ko=o=>{const t={};let u=new h(0);o.forEach(U=>{u=u.add(new h(U.object.liquidity))});const b=[];let y=new h(0);o.forEach(U=>{const O=new h(U.object.liquidity),H=O.gt(0)?new h(O).div(u).mul(100).toString():0,j=xo(H,2);y=y.plus(j);const Q=j.split(".");b.push({value:j,int:Q[0],decimal:Q[1],fee:U.fee})});let C=new h(100).minus(y).toNumber();const S=b.sort((U,O)=>Number(O.decimal)-Number(U.decimal));if(C)for(let U=0;U<S.length&&C;U++)S[U].value=new h(S[U].value).plus(.01).toString(),C=new h(C).minus(.01).toNumber();return o.forEach(U=>{var H;const O=(H=S.find(j=>U.fee===j.fee))==null?void 0:H.value;t[U.fee]={rateText:(O>0&&O<.01?"<0.01":O==0?0:xo(O,2))+"% select",rate:O}}),t},ho=X(()=>{if(N.value.poolConfigList&&s.value&&r.value){const o=N.value.poolConfigList.filter(u=>{var C,S,U,O;const b=u.coin_a_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":u.coin_a_address,y=u.coin_b_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":u.coin_b_address;return console.log(u,"p===>1334"),b.toUpperCase()===((C=s.value.address)==null?void 0:C.toUpperCase())&&y.toUpperCase()===((S=r.value.address)==null?void 0:S.toUpperCase())||y.toUpperCase()===((U=s.value.address)==null?void 0:U.toUpperCase())&&b.toUpperCase()===((O=r.value.address)==null?void 0:O.toUpperCase())});return ko(o)}}),Ye=X(()=>[{label:.01+"% "+n("common.feeTier"),title:.01+"% ",fee:1e-4,text:n("newAdd.bestVeryStablePairs")},{label:.05+"% "+n("common.feeTier"),title:.05+"% ",fee:5e-4,text:n("newAdd.bestStablePairs")},M.value.chainName=="Aptos"?{label:.2+"% "+n("common.feeTier"),title:.2+"% ",fee:.002,text:n("newAdd.bestMostPairs")}:{label:.25+"% "+n("common.feeTier"),title:.25+"% ",fee:.0025,text:n("newAdd.bestMostPairs")},M.value.chainName=="Aptos"?{label:.6+"% "+n("common.feeTier"),title:.6+"% ",fee:.006,text:n("newAdd.besteExoticPairs")}:{label:"1% "+n("common.feeTier"),title:"1% ",fee:.01,text:n("newAdd.besteExoticPairs")}]),De=X(()=>Y.slippage),Mo=X(()=>!s.value||!r.value),Eo=X(()=>{var o,t;return!w.value&&!k.value?(console.log("addLiquidityBtnDisabled11111"),!0):Number(w.value)>Number(Ge.value)||Number(k.value)>Number(Je.value)?(console.log("addLiquidityBtnDisabled22222"),!0):R.value!==n("button.addLiquidity")&&R.value!==n("newAdd.preview")?(console.log("addLiquidityBtnDisabled33333###",R.value),!0):A.value&&A.value&&A.value.is_pause?(console.log("addLiquidityBtnDisabled44444"),!0):(o=v==null?void 0:v.query)!=null&&o.action&&!$.value&&!((t=$.value)!=null&&t.currentPrice)?(console.log("addLiquidityBtnDisabled55555"),!0):!!(Number(w.value)<=0&&Number(k.value)<=0||!we.value&&Number(w.value)==0||!Pe.value&&Number(k.value)==0||fe.value)}),R=X(()=>{var o,t,u;return A.value&&A.value.is_pause?"Pool Closed":!s.value||!r.value?n("modal.selectTokenModalTitle"):gn.value=="Sui"&&!ze.value.includes(1e-4)&&!ze.value.includes(5e-4)&&!ze.value.includes(.0025)&&!ze.value.includes(.01)&&!to.value[s==null?void 0:s.value.address]&&!to.value[(o=r.value)==null?void 0:o.address]?"Invalid Pool":(v.query.action||v.query.actions)&&!E.value&&kn[M.value.chainName].hasCreatePool?(console.log("addLiquidityBtnDisabled11111"),"Select fee tier"):Mo.value?n("modal.selectTokenModalTitle"):!kn[M.value.chainName].hasCreatePool&&!A.value?n("button.poolNotFound"):Number(w.value)>Number(Ge.value)?n("button.insufficientBalance",{name:s.value.symbol}):Number(k.value)>Number(Je.value)?n("button.insufficientBalance",{name:r.value.symbol}):D.value?n("modal.selectTokenModalTitle"):(console.log(A.value,"==>poolInfo.value"),console.log(!A.value&&((t=v==null?void 0:v.query)==null?void 0:t.action),"===>!poolInfo.value && route?.query?.action"),!A.value&&s.value&&r.value&&((u=v==null?void 0:v.query)==null?void 0:u.action)=="create-pool"?n("newAdd.preview"):!Number(w.value)&&!Number(k.value)?n("button.enterAmount"):c.value!=="∞"&&Number(i.value)>=Number(c.value)?n("newAdd.invalidRange"):n("button.addLiquidity"))}),I=X(()=>{var o,t,u;return!A.value||go(M.value.addressHistTokens)||!M.value.addressHistTokens[(o=A.value)==null?void 0:o.poolAddress]?null:Object.fromEntries((u=M.value.addressHistTokens[(t=A.value)==null?void 0:t.poolAddress])==null?void 0:u.data.map(b=>[b.key,b.value]))}),Ze=X(()=>T.value?I.value&&Le($e.value==7?I.value.before_7_d_contract_price_lowest:$e.value==24?I.value.before_24_h_contract_price_lowest:I.value.before_30_d_contract_price_lowest,6)||0:I.value&&Le(new h(1).div($e.value==7?I.value.before_7_d_contract_price_highest:$e.value==24?I.value.before_24_h_contract_price_highest:I.value.before_30_d_contract_price_highest).toString(),6)||0),Re=X(()=>T.value?I.value&&Le($e.value==7?I.value.before_7_d_contract_price_highest:$e.value==24?I.value.before_24_h_contract_price_highest:I.value.before_30_d_contract_price_highest,6)||0:(I.value&&Le(1/Number($e.value==7?I.value.before_7_d_contract_price_lowest:$e.value==24?I.value.before_24_h_contract_price_lowest:I.value.before_30_d_contract_price_lowest),6))==1/0?0:I.value&&Le(1/Number($e.value==7?I.value.before_7_d_contract_price_lowest:$e.value==24?I.value.before_24_h_contract_price_lowest:I.value.before_30_d_contract_price_lowest),6)||0),ye=Mn(),s=g(),r=g();hn(()=>{document.body.clientWidth<750?(Ke.value=!1,e.value=!1):(Ke.value=!0,e.value=!0)});const tn=o=>{var t,u;if((t=A.value)==null||t.token_a.decimals,(u=A.value)==null||u.token_b.decimals,console.log(o,"value1830===>"),v.query.action&&Fo.value&&o!==i.value){$n();return}o!==i.value&&x.value=="full range"?(vn({key:"custom",...ao.value.custom}),console.log(ao.value.custom.min,"priceConfigObj.value[custom].min")):(x.value!=="full range"&&x.value!=="custom"&&(x.value="custom"),i.value=o)},an=o=>{if(v.query.action&&Fo.value&&o!==c.value){$n();return}o!==c.value&&x.value=="full range"?vn({key:"custom",...ao.value.custom}):(x.value!=="full range"&&x.value!=="custom"&&(x.value="custom"),c.value=o)},ln=()=>{var t;if(v.query.action)T.value=!T.value,$.value&&fn(Le(new h(1).div($.value.currentPrice).toString(),(t=r==null?void 0:r.value)==null?void 0:t.decimals));else if(J.value=!0,J.value=!1,T.value=!T.value,i.value!==""&&c.value!==""&&i.value!=="0"&&c.value!=="∞"){const u=i.value,b=c.value;i.value=new h(1).div(b).toString(),c.value=new h(1).div(u).toString();const y=q.value,C=Z.value;q.value=new h(1).div(C).toString(),Z.value=new h(1).div(y).toString(),ie.value=!1}const o=s.value;s.value=r.value,r.value=o,m.value?w.value=k.value:k.value=w.value};he([i,c],([o,t])=>{console.log(o,t,"==>minPrice,maxPrice"),Number(o)!==0&&Number(t)!==0&&uo(),t!=="∞"&&Number(o)!==0&&Number(t)!==0&&Number(o)>=Number(t)?fe.value=!0:fe.value=!1,Number(o)==0&&Number(t)==0&&He.value&&(fe.value=!0,console.log("价格区间错误"))});const Ro=g(!1),Uo=g(!1),sn=o=>{var t,u,b,y,C,S,U,O,H;K.value=o,o==="fromCoin"?(G.value=((t=r.value)==null?void 0:t.address)||"",oe.value=v.query.action=="create-pool"||v.query.actions=="new-position"||!A.value?(u=s.value)==null?void 0:u.address:A.value.needReverse?A.value.token_b.address:A.value.token_a.address,((b=v==null?void 0:v.query)==null?void 0:b.action)=="create-pool"&&((y=v==null?void 0:v.query)==null?void 0:y.from)==="pool"?Uo.value=!0:Uo.value=!1,Ro.value=!1):(G.value=((C=s.value)==null?void 0:C.address)||"",oe.value=v.query.action=="create-pool"||v.query.actions=="new-position"||!A.value?(S=r.value)==null?void 0:S.address:A.value.needReverse?A.value.token_a.address:A.value.token_b.address,((U=v==null?void 0:v.query)==null?void 0:U.action)=="create-pool"&&((O=v==null?void 0:v.query)==null?void 0:O.from)==="pool"&&!to[(H=s.value)==null?void 0:H.address]?(console.log("0515###这里这里##fromCoin.value###",s.value),Ro.value=!0):Ro.value=!1,Uo.value=!1),Ce.value=!0},Te=g(null),Se=g(null),Go=g({}),Jo=g({}),rn=o=>{var b,y,C,S;D.value=!1;const t=A.value?A.value.needReverse?A.value.token_b:A.value.token_a:Te.value,u=A.value?A.value.needReverse?A.value.token_a:A.value.token_b:Se.value;K.value==="fromCoin"?(((b=s.value)==null?void 0:b.address)===(t==null?void 0:t.address)||!((y=s.value)!=null&&y.address)?(r.value&&o.address.toLowerCase()===(r==null?void 0:r.value.address.toLowerCase())&&(r.value=null,Se.value=null,E.value=""),s.value=o):(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,Te.value=null,E.value=""),r.value=o),Te.value=o,v.query.action||(v.query.fee="")):(((C=r.value)==null?void 0:C.address)===(u==null?void 0:u.address)||!((S=r.value)!=null&&S.address)?(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,Te.value=null,E.value=""),r.value=o):(r.value&&o.address.toLowerCase()===(r==null?void 0:r.value.address.toLowerCase())&&(r.value=null,Se.value=null,E.value=""),s.value=o),Se.value=o,v.query.action||(v.query.fee="")),fn(""),Ce.value=!1},un=o=>{o==="fromCoin"?(m.value=!0,M.value.chainName==="Aptos"?w.value=Number(Ge.value)>0?s.value.symbol=="APT"?new h(Number(Ge.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(Ge.value)).sub(new h(.1)).toString():String(Ge.value):"":w.value=Number(Ge.value)>0?s.value.symbol=="SUI"?new h(Number(Ge.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(Ge.value)).sub(new h(.05)).toString():String(Ge.value):""):(m.value=!1,M.value.chainName==="Aptos"?k.value=Number(Je.value)>0?r.value.symbol=="APT"?new h(Number(Je.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(Je.value)).sub(new h(.1)).toString():String(Je.value):"":k.value=Number(Je.value)>0?r.value.symbol=="SUI"?new h(Number(Je.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(Je.value)).sub(new h(.05)).toString():String(Je.value):"")},dn=o=>{o==="fromCoin"?(m.value=!0,w.value=Number(Ge.value)>0?xo(new h(Number(Ge.value)).div(2).toString(),s.value.decimals).toString():""):(m.value=!1,k.value=Number(Je.value)>0?xo(new h(Number(Je.value)).div(2).toString(),r.value.decimals).toString():"")};he(w,(o,t)=>{console.log(w,"===>fromCoinAmount"),o==""&&m.value&&(k.value=""),o&&m.value&&uo()}),he(k,(o,t)=>{console.log(o,"===>>>>newValsda"),o==""&&!m.value&&(w.value=""),o&&!m.value&&uo()});const cn=()=>{s.value=null,r.value=null,i.value="0",c.value="0",w.value="",k.value="",D.value=!0,E.value="",ve.value=!1,we.value=!0,Pe.value=!0,J.value=!1},so=g(!1),{setIsShowSuccess:Co,setIsShowRejected:yo,setIsShowWaiting:xe,setTransactionDesc:Ho,setTransactionTxid:wo,setPositiomNum:Wo}=Y,v=pt(),eo=nn(),To=X(()=>kn[M.value.chainName].hasCreatePool);he(()=>[E.value,v.query.action,s.value,r.value,v.query.actions,To.value],([o,t,u,b,y,C])=>{!o&&(t=="create-pool"||y=="new-position")&&u&&b&&C?(ve.value=!0,J.value=!1):(!u||!b)&&(ve.value=!1)},{immediate:!0});const N=X(()=>eo);he(()=>N.value.tokens,async o=>{if(o&&o.length>0){const t=o;if(v&&v.query&&v.query.tokena&&(console.log("0410###deposite###watch###route.query.tokena####",v.query.tokena),v.query.tokena)){const u=await L.value.getTokenBySymbol(t,v.query.tokena);s.value=u,Te.value=u}if(v&&v.query&&v.query.tokenb&&v.query.tokenb){const u=await L.value.getTokenBySymbol(t,v.query.tokenb);r.value=u,Se.value=u}}},{immediate:!0});const Po=g({}),we=g(!1),Pe=g(!1),zo=g(),Xo=g(),He=g(),ro=g(),uo=async()=>{var Ue,me,oo,Oe,ge,Be;if(!i.value&&!c.value)return!1;if(!w.value&&!k.value&&!i.value&&!c.value)return;console.log(A.value,"==》poolInfo.value");const o=A.value?A.value:$.value;if(console.log(o,"===>poolInfos"),go(o))return;console.log("添加流动性预计算=====>");const{TickUtil:t,TickMath:u,getNearestTickByTick:b}=L.value,y=o==null?void 0:o.token_a.decimals,C=o==null?void 0:o.token_b.decimals;let S,U,O,H,j,Q,de,Ie,ae=o.current_tick_index,ee;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===r.value.address.toLowerCase()?ee=!0:ee=!1,console.log(ee,"=====>directs"),console.log("currentTickIndex####",ae),console.log("currentTickIndex####",ae),console.log("currentTickIndex####",ae),i.value==="0"&&c.value==="∞")O=t.getMinIndex(Number(o.tickSpacing)),H=t.getMaxIndex(Number(o.tickSpacing)),j=u.tickIndexToSqrtPriceX64(O),Q=u.tickIndexToSqrtPriceX64(H);else if(x.value=="custom"||v.query.action){console.log(ee,"===>directs1866"),ee?(S=Number(i.value),U=Number(c.value)):(S=new h(1).div(c.value).toString(),U=new h(1).div(i.value).toString()),console.log("0518###pre###directs###",ee),console.log("0518###pre###minPrice###",i.value),console.log("0518###pre###maxPrice###",c.value),console.log("0518###pre###poolInfos###",o),console.log("0518###pre###decimalsA###",y),console.log("0518###pre###decimalsB###",C),console.log("0518###pre###currentTickIndex###",ae),console.log(S,U,"min max1875"),console.log(i.value,c.value,"===>maxPrice.value");try{de=S==0?-443636:u.priceToTickIndex(new h(S),y,C)}catch{de=-443636}try{Ie=u.priceToTickIndex(new h(U),y,C)}catch{Ie=443636}O=b(de,Number(o.tickSpacing)),H=b(Ie,Number(o.tickSpacing)),console.log("0523####min####",S),console.log("0523####max####",U),j=u.priceToSqrtPriceX64(new h(S),y,C);try{Q=u.priceToSqrtPriceX64(new h(U),y,C)}catch{console.log("0523###test###max###",U),U===1/0&&(console.log("0523###test###max###11111"),Q=u.tickIndexToSqrtPriceX64(t.getMaxIndex(Number(o.tickSpacing))))}console.log(O,"===>tick_lower"),console.log(H,"===>tick_upper"),console.log("0518###pre###tick_lower###",O,H,ae),console.log("0518###pre###tick_upper###",H)}else O=(Ue=ao.value[x.value])==null?void 0:Ue.lower,H=(me=ao.value[x.value])==null?void 0:me.upper,j=u.tickIndexToSqrtPriceX64(O),Q=u.tickIndexToSqrtPriceX64(H);if(c.value!=="∞"&&O>=H){we.value=!0,w.value="",Pe.value=!0,k.value="";return}if(console.log(H,ae,O,"1922"),c.value==="∞"||ae>=O&&ae<=H){we.value=!1,Pe.value=!1;let Me;if(w.value||k.value){if(m.value){const co=new h(w.value).mul(Math.pow(10,s.value.decimals)).toString();Me=new Ao(co)}else{const co=new h(k.value).mul(Math.pow(10,r.value.decimals)).toString();Me=new Ao(co)}console.log(ee,"======>directs");const{liquidityAmount:be,tokenMaxA:no,tokenMaxB:Xe,tokenMaxAOrigin:We,tokenMaxBOrigin:fo}=L.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:O,upperTick:H,coinAmount:Me,iscoinA:ee?m.value:!m.value,roundUp:!0,slippage:Number(De.value)/100,curSqrtPrice:new Ao(o.current_sqrt_price)});Po.value={liquidityAmount:be,tokenMaxA:no,tokenMaxB:Xe,tokenMaxAOrigin:We,tokenMaxBOrigin:fo},console.log(no,Xe,"preAdd"),ee?m.value?k.value=Number(Xe)>0?Xe:"":w.value=Number(no)>0?no:"":m.value?k.value=no:w.value=Xe}}else if(ae>H){if(ee?w.value="":k.value="",we.value=ee,Pe.value=!ee,(oo=v==null?void 0:v.query)!=null&&oo.action&&(we.value=!0,Pe.value=!0),w.value||k.value){let Me;if(ee){const be=new h(k.value).mul(Math.pow(10,(Oe=r.value)==null?void 0:Oe.decimals)).toString();Me=new Ao(be),Po.value={liquidityAmount:L.value.estimateLiquidityForCoinB(j,Q,Me),tokenMaxA:0,tokenMaxB:k.value}}else{const be=new h(w.value).mul(Math.pow(10,(ge=s.value)==null?void 0:ge.decimals)).toString();Me=new Ao(be),Po.value={liquidityAmount:L.value.estimateLiquidityForCoinB(j,Q,Me),tokenMaxA:0,tokenMaxB:w.value}}}}else if(ae<O){if(we.value=!ee,Pe.value=ee,(Be=v==null?void 0:v.query)!=null&&Be.action&&(we.value=!0,Pe.value=!0),ee?k.value="":w.value="",w.value||k.value){let Me;if(ee){const be=new h(w.value).mul(Math.pow(10,s.value.decimals)).toString();Me=new Ao(be),console.log(j,"minPriceX64===>"),console.log(Q,"maxPriceX64===>maxPriceX64"),console.log(be,"===>amount"),Po.value={liquidityAmount:L.value.estimateLiquidityForCoinA(j,Q,Me),tokenMaxA:w.value,tokenMaxB:0}}else{const be=new h(k.value).mul(Math.pow(10,r.value.decimals)).toString();Me=new Ao(be),Po.value={liquidityAmount:L.value.estimateLiquidityForCoinA(j,Q,Me),tokenMaxA:k.value,tokenMaxB:0}}}}else we.value=!0,w.value="",Pe.value=!0,k.value=""},Oo=g(0);he(()=>{var o;return(o=v.query)==null?void 0:o.fee},o=>{o&&(Oo.value=o,E.value=Number(o)*100+"% "+n("common.feeTier"))},{immediate:!0,deep:!0});const Vo=X(()=>{var y,C,S,U,O;const o=(y=v==null?void 0:v.query)==null?void 0:y.fee,t=(C=v==null?void 0:v.query)==null?void 0:C.tokena,u=(S=v==null?void 0:v.query)==null?void 0:S.tokenb;let b=null;console.log("0501###basePoolInfo###tokena###",t),console.log("0501###basePoolInfo###tokenb###",u),console.log("0501###basePoolInfo###fromCoin###",(U=s==null?void 0:s.value)==null?void 0:U.address),console.log("0501###basePoolInfo###toCoin###",(O=r==null?void 0:r.value)==null?void 0:O.address),console.log("0501###basePoolInfo###fee###",o),console.log(N.value.poolConfigList,"===>pools.value.poolConfigList");for(let H=0;H<N.value.poolConfigList.length;H++){const j=N.value.poolConfigList[H];console.log(j,"p===>"),!t||!u?b={}:(j.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&j.token_b.address.toUpperCase()===(u==null?void 0:u.toUpperCase())||j.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&j.token_a.address.toUpperCase()===(u==null?void 0:u.toUpperCase()))&&(b=j)}return console.log("0501###baseInfo###",b),b}),A=X(()=>{var t,u,b,y,C,S,U,O,H,j,Q,de,Ie;const o=(t=v==null?void 0:v.query)==null?void 0:t.fee;if(s.value&&r.value){let ae=null;if(o)for(const Ue in N.value.poolsObj){const me=N.value.poolsObj[Ue];(me.token_a.address.toUpperCase()===((b=(u=s==null?void 0:s.value)==null?void 0:u.address)==null?void 0:b.toUpperCase())&&me.token_b.address.toUpperCase()===((C=(y=r==null?void 0:r.value)==null?void 0:y.address)==null?void 0:C.toUpperCase())&&Number(me.fee)==Number(Oo.value)||me.token_b.address.toUpperCase()===((S=s==null?void 0:s.value.address)==null?void 0:S.toUpperCase())&&me.token_a.address.toUpperCase()===((O=(U=r==null?void 0:r.value)==null?void 0:U.address)==null?void 0:O.toUpperCase())&&Number(me.fee)==Number(Oo.value))&&(ae=me)}const ee=[];if(!((H=v==null?void 0:v.query)!=null&&H.action)&&(!o||!ae)){for(const Ue in N.value.poolsObj){const me=N.value.poolsObj[Ue];(me.token_a.address.toUpperCase()===((j=s==null?void 0:s.value.address)==null?void 0:j.toUpperCase())&&me.token_b.address.toUpperCase()===((Q=r.value.address)==null?void 0:Q.toUpperCase())||me.token_b.address.toUpperCase()===((de=s==null?void 0:s.value.address)==null?void 0:de.toUpperCase())&&me.token_a.address.toUpperCase()===((Ie=r.value.address)==null?void 0:Ie.toUpperCase()))&&ee.push(me)}console.log(ee,"result2408===>"),ee&&ee.length>0&&(ae=ee.sort((Ue,me)=>{const oo=Ue.coinAmountA+Ue.coinAmountB;return me.coinAmountA+me.coinAmountB-oo})[0]),console.log(ee,"result===>2351")}return ae&&!go(ae)?ae:null}return null}),f=X(()=>{var b,y;const o=(b=s==null?void 0:s.value)==null?void 0:b.address,t=(y=r==null?void 0:r.value)==null?void 0:y.address;let u=null;for(let C=0;C<N.value.poolConfigList.length;C++){const S=N.value.poolConfigList[C];!o||!t?u={}:(S.token_a.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&S.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())||S.token_b.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&S.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase()))&&(u=S)}return console.log("0501###baseInfo###",u),u});he(()=>[Vo.value,A.value,N.value.recommendRangesObj],(o,t)=>{var u,b,y,C,S;o[0]&&!o[1]&&o[2]&&!go(o[2])&&(!t||o[0]&&((u=o[0])==null?void 0:u.address)!==t[0]&&((b=t[0])!=null&&b.address))&&(y=o[0])!=null&&y.address&&!((C=v==null?void 0:v.query)!=null&&C.action)&&eo.setSinglePool(o[0],o[2][(S=o[0])==null?void 0:S.address],M.value.chainName)},{immediate:!0,deep:!0});const ao=g({}),Bo=async(o,t)=>{var u,b,y,C;if(console.log("deposit##poolInfoWatch###value####",o),o){const{TickMath:S,getNearestTickByTick:U}=L.value;t&&(J.value=!0,we.value=!1,Pe.value=!1),o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===r.value.address.toLowerCase()?T.value=!0:T.value=!1,ie.value=!0;const O=o.token_a.decimals,H=o.token_b.decimals;E.value=o.fee*100+"% "+n("common.feeTier");const j=o.current_tick_index;He.value=S.sqrtPriceX64ToPrice(o.current_sqrt_price,O,H).toString(),ro.value=new h(1).div(new h(He.value)).toString();const Q=await L.value.getTicks(o);if(console.log(Q,"result====>"),je.value=Q?L.value.getTickDataFromUrlData(Q):[],t){let de=N.value.poolPriceConfigObj&&N.value.poolPriceConfigObj[o.address]&&N.value.poolPriceConfigObj[o.address].recommend_ranges||{};const Ie=N.value.poolPriceConfigObj&&N.value.poolPriceConfigObj[o.address]&&N.value.poolPriceConfigObj[o.address].type||"",ae=j-Number(Ie=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),ee=j+Number(Ie=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),Ue=(b=(u=A==null?void 0:A.value)==null?void 0:u.token_a)==null?void 0:b.decimals,me=(C=(y=A==null?void 0:A.value)==null?void 0:y.token_b)==null?void 0:C.decimals,oo=L.value.TickMath.tickIndexToPrice(ae,Ue,me).toString(),Oe=L.value.TickMath.tickIndexToPrice(ee,Ue,me).toString();de["full range"]={lower:-443636,upper:443636},de.custom={lower:ae,upper:ee,minPrice:oo,maxPrice:Oe};const ge=[];for(let Be in de)de[Be]&&ge.push({...de[Be],key:Be});bo.value=ge,Ie?o.isSelfBuilt?x.value="custom":Ie=="stable"?x.value="suggested":x.value="passive":x.value="custom",ao.value=de,vn({key:x.value,...de[x.value]}),console.log(bo,"===>currentPriceTabList")}J.value=!1}else J.value=!1},Ko=X(()=>eo.getPoolInfoSuccess);he(()=>A.value,(o,t)=>{var u,b,y,C,S,U,O,H,j,Q,de,Ie;console.log("0419###poolInfo###watch###",o),console.log("0419###poolInfo###pools.value.poolsObj###",N.value.poolsObj),o&&o.current_sqrt_price?((!t||o.poolAddress!==t.poolAddress||o.current_sqrt_price!==t.current_sqrt_price)&&Bo(o,!t||o.poolAddress!==t.poolAddress),(v==null?void 0:v.name)=="deposit"&&ye.push(`/deposit?poolAddress=${o==null?void 0:o.address}&tokena=${(u=s==null?void 0:s.value)==null?void 0:u.address}&tokenb=${(b=r==null?void 0:r.value)==null?void 0:b.address}&fee=${o==null?void 0:o.fee}`)):((y=v==null?void 0:v.query)==null?void 0:y.actions)=="new-position"||(!f.value&&To.value&&((C=s==null?void 0:s.value)!=null&&C.address||(S=r==null?void 0:r.value)!=null&&S.address)?(E.value="",i.value="0",c.value="∞",we.value=!1,Pe.value=!1,J.value=!1,He.value="",ro.value="",console.log("0501####333333",s==null?void 0:s.value),(v==null?void 0:v.name)=="deposit"&&ye.push(`/deposit?action=create-pool&tokena=${(U=s==null?void 0:s.value)==null?void 0:U.address}&tokenb=${(O=r==null?void 0:r.value)==null?void 0:O.address}&from=${(H=v==null?void 0:v.query)==null?void 0:H.from}`)):To.value&&!o&&!((j=v==null?void 0:v.query)!=null&&j.action)&&Ko.value&&!Vo.value?(E.value="",i.value="0",c.value="∞",we.value=!1,Pe.value=!1,J.value=!1,He.value="",ro.value="",console.log("0501####222222"),(v==null?void 0:v.name)=="deposit"&&ye.push(`/deposit?action=create-pool&tokena=${(Q=s==null?void 0:s.value)==null?void 0:Q.address}&tokenb=${(de=r==null?void 0:r.value)==null?void 0:de.address}&from=${(Ie=v==null?void 0:v.query)==null?void 0:Ie.from}`)):(we.value=!1,Pe.value=!1,J.value=!1,He.value="",ro.value="")),console.log(!Vo.value,"===>getPoolInfoSuccess.value&& !basePoolInfo.value")},{immediate:!0});const Ge=X(()=>B.value.assets&&s.value&&B.value.assets[s.value.address]?tt(B.value.assets[s.value.address].balance,s.value.decimals):"0"),Je=X(()=>B.value.assets&&r.value&&B.value.assets[r.value.address]?tt(B.value.assets[r.value.address].balance,r.value.decimals):"0"),Qo=async()=>{console.log("0412###resetTickList####");const o=await L.value.getTicks(A.value);console.log("0412###resetTickList###result####",o);const t=o?L.value.getTickDataFromUrlData(o):[];je.value=t,console.log("0412###resetTickList###tickList####",t)},Pn=ua(),_o=X(()=>N.value.currentPositionInfo),It=async o=>{var j,Q,de,Ie,ae,ee,Ue,me,oo,Oe;console.log(A.value,"===> poolInfo.value"),so.value=!1,N.value.currentPositionInfo={},wo(""),Ho(n("tips.increaseLiquiditySuccess",{from:we.value?"":`${w.value} ${(j=s.value)==null?void 0:j.symbol}`,and:!we.value&&!Pe.value?"and":"",to:Pe.value?"":`${k.value} ${(Q=r.value)==null?void 0:Q.symbol}`})),xe(!0);const t=T.value?m.value:!m.value;let u,b,y,C,S,U;const O=A.value.token_a.decimals,H=A.value.token_b.decimals;if(i.value==="0"&&c.value==="∞")y=L.value.TickUtil.getMinIndex(Number(A.value.tickSpacing)),C=L.value.TickUtil.getMaxIndex(Number(A.value.tickSpacing));else if(x.value=="custom"){T.value?(u=Number(i.value),b=Number(c.value)):(u=new h(1).div(c.value).toString(),b=new h(1).div(i.value).toString()),console.log("0519###toAdd###min###",u),console.log("0519###toAdd###max###",b),console.log("0519###toAdd###minPrice.value###",i.value),console.log("0519###toAdd###maxPrice.value###",c.value);try{S=u==0?L.value.TickUtil.getMinIndex(Number(A.value.tickSpacing)):L.value.TickMath.priceToTickIndex(new h(u),O,H)}catch{S=L.value.TickUtil.getMinIndex(Number(A.value.tickSpacing))}try{U=L.value.TickMath.priceToTickIndex(new h(b),O,H)}catch{U=L.value.TickUtil.getMaxIndex(Number(A.value.tickSpacing))}y=L.value.getNearestTickByTick(S,Number(A.value.tickSpacing)),C=L.value.getNearestTickByTick(U,Number(A.value.tickSpacing))}else y=ao.value[x.value].lower,C=ao.value[x.value].upper;console.log(y,C,"add3155");try{const ge=await L.value.getAddLiquidityTransactionPayload({pool:{poolAddress:A.value.poolAddress,token_a:A.value.token_a,token_b:A.value.token_b},amount:m.value?w.value:k.value,fix_amount_a:t,tick_lower:y,tick_upper:C,index:0,slippage:Number(De.value)/100,roundUp:!0,collect_fee:!1});let Be;if(M.value.chainName==="Aptos")Be=await B.value.currentWallet.signAndSubmitTransaction(ge);else{const Me=await B.value.currentWallet.signAndExecuteTransactionBlock(ge);Be=L.value.handleTx(Me)}if(console.log("0410###tx###",Be),Be&&Be.hash){wo(Be.hash),xe(!1),Co(!0);const Me=Un();let be;A.value.needReverse?A.value.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&A.value.token_b.address.toLowerCase()===r.value.address.toLowerCase()?be=!1:be=!0:A.value.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&A.value.token_b.address.toLowerCase()===r.value.address.toLowerCase()?be=!0:be=!1,console.log(be,"===>directs");const no={title:"Supplied",desc:n("tips.addLiquiditySuccessText",{from:we.value?"":`${w.value} ${(de=s.value)==null?void 0:de.symbol}`,and:!we.value&&!Pe.value?"and":"",to:Pe.value?"":`${k.value} ${(Ie=r.value)==null?void 0:Ie.symbol}`}),hash:Be.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:be?(ae=s.value)==null?void 0:ae.address:(ee=r.value)==null?void 0:ee.address,numa:be?w.value:k.value,logoa:be?N.value.tokensObj&&s.value&&s.value.address&&N.value.tokensObj[s.value.address]&&N.value.tokensObj[s.value.address].logoURI:N.value.tokensObj&&r.value&&r.value.address&&N.value.tokensObj[r.value.address]&&N.value.tokensObj[r.value.address].logoURI,tokenb:be?(me=r.value)==null?void 0:me.address:(Ue=s.value)==null?void 0:Ue.address,numb:be?k.value:w.value,logob:be?N.value.tokensObj&&r.value&&r.value.address&&N.value.tokensObj[r.value.address]&&N.value.tokensObj[r.value.address].logoURI:N.value.tokensObj&&s.value&&s.value.address&&N.value.tokensObj[s.value.address]&&N.value.tokensObj[s.value.address].logoURI},text:`Deopsit ${we.value?"":`${w.value} ${(oo=s.value)==null?void 0:oo.symbol}`} ${!we.value&&!Pe.value?"and":""} ${Pe.value?"":`${k.value} ${(Oe=r.value)==null?void 0:Oe.symbol}`}`};M.value.chainName!=="Aptos"&&(no.res=Be.res),L.value.showTransitionPending(no);const Xe=await L.value.watchTransaction(no,!0);if(Xe.status){if(Co(!1),N.value.setCurrentPositionLoading(!0),z.value=!0,console.log(Xe.nftInfo,"===> watchInfo.nftInfo"),M.value.chainName==="Aptos"){if(await N.value.setCurrentPositionInfo(Xe.nftInfo[0].data.id.creator,Xe.nftInfo[0].data.id.collection,Xe.nftInfo[0].data.name,M.value.chainName),o)try{await Pn.subscribePosition({pool_address:_o.value.poolAddress,position_index:_o.value.index},_o.value.nftHash)}catch(We){console.log(We,"e")}}else{const We=Xe.nftInfo,fo=await at(2e3);if(await N.value.setCurrentPositionInfo(We==null?void 0:We.pool,"","",M.value.chainName,We==null?void 0:We.position),await at(1e3),console.log("0529###nftInfo###",We),console.log("0529###currentPositionInfo.value.index###",_o.value.index),o)try{await Pn.subscribePosition({pool_address:_o.value.poolAddress,position_index:_o.value.index},_o.value.nftHash)}catch(co){console.log(co)}}setTimeout(()=>{eo.updateCurrentPools(A.value.poolAddress,M.value.chainName),L.value.getAccount(B.value.address)},3e3),setTimeout(async()=>{Qo()},3e3)}Wo()}else xe(!1),yo(!0);w.value="",k.value=""}catch(ge){w.value="",k.value="",console.log("0330###Add liquidity Error###",ge),xe(!1),yo(!0)}},$t=o=>{switch(o){case"active":return n("newAdd.activeTips");case"passive":return n("newAdd.passiveTips");case"full range":return n("newAdd.fullRangTips");case"suggested":return n("newAdd.suggestedTips");case"custom":return n("newAdd.customTips")}},Tt=o=>{switch(o){case"suggested":return n("newAdd.suggested");case"active":return n("newAdd.active");case"passive":return n("newAdd.conservative");case"full range":return n("newAdd.fullRange");case"custom":return n("newAdd.custom")}},vn=o=>{console.log("priceTab====>",o),console.log("priceTab###poolInfo###",A.value),x.value=o.key.toLowerCase();const t=A.value.token_a.decimals,u=A.value.token_b.decimals,{lower:b,upper:y}=o,C=L.value.TickMath.tickIndexToPrice(b,t,u).toString(),S=L.value.TickMath.tickIndexToPrice(y,t,u).toString();if(o.key=="full range"){zo.value=b,Xo.value=y,Qe(!0),uo();return}console.log(T.value,"===>direct.value"),T.value?(q.value=String(C),i.value=String(C),Z.value=String(S),c.value=String(S),zo.value=b,Xo.value=y,uo()):(q.value=String(1/Number(S)),i.value=String(1/Number(S)),Z.value=String(1/Number(C)),c.value=String(1/Number(C)),zo.value=L.value.TickMath.priceToTickIndex(new h(1/Number(S)),t,u),Xo.value=L.value.TickMath.priceToTickIndex(new h(1/Number(C)),t,u),uo())},St=X(()=>N.value.tokensObj&&s.value.address&&N.value.tokensObj[s.value.address]&&N.value.tokensObj[s.value.address].logoURI),At=X(()=>N.value.tokensObj&&r.value.address&&N.value.tokensObj[r.value.address]&&N.value.tokensObj[r.value.address].logoURI),Un=()=>{var u,b,y,C,S,U,O,H;let o=null;const t=N.value.poolConfigList;for(let j=0;j<t.length;j++){const Q=t[j];if(Q.token_a.address.toUpperCase()===((b=(u=s==null?void 0:s.value)==null?void 0:u.address)==null?void 0:b.toUpperCase())&&Q.token_b.address.toUpperCase()===((C=(y=r==null?void 0:r.value)==null?void 0:y.address)==null?void 0:C.toUpperCase())||Q.token_b.address.toUpperCase()===((U=(S=s==null?void 0:s.value)==null?void 0:S.address)==null?void 0:U.toUpperCase())&&Q.token_a.address.toUpperCase()===((H=(O=r==null?void 0:r.value)==null?void 0:O.address)==null?void 0:H.toUpperCase())){o=Q;break}}return o},Nt=o=>{var u,b,y,C,S,U,O,H,j,Q;console.log(o,"item===>3480");const t=Un();if(t&&(Te.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,Se.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,s.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,r.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,console.log("0524###test###11111###samePoolInfo###",t),T.value=s.value.address===((u=t==null?void 0:t.token_a)==null?void 0:u.address)),ze.value.includes(o.fee))E.value=o.label,Oo.value=o.fee,ye.push(`/deposit?tokena=${t?t.needReverse?(y=t==null?void 0:t.token_b)==null?void 0:y.address:(b=t==null?void 0:t.token_a)==null?void 0:b.address:T.value?s.value.address:r.value.address}&tokenb=${t?t.needReverse?(S=t==null?void 0:t.token_a)==null?void 0:S.address:(C=t==null?void 0:t.token_b)==null?void 0:C.address:T.value?r.value.address:s.value.address}&fee=${o.fee}`);else{if(console.log(to[s.value.address],"filterCreatePoolCoin[fromCoin.value.address]"),console.log(to[r.value.address],"filterCreatePoolCoin[toCoin.value.address]"),console.log(to.value,"filterCreatePoolCoin===>"),M.value.chainName!=="Aptos"&&!to.value[s.value.address]&&!to.value[r.value.address]){console.log(111,"===>111");return}E.value=o.label,A.value&&(i.value="",c.value=""),w.value="",k.value="",He.value="",ro.value="",i.value="",c.value="",pn.value="",mn.value="",console.log("====>3558"),ye.push(`/deposit?action=create-pool&tokena=${t?t.needReverse?(O=t==null?void 0:t.token_b)==null?void 0:O.address:(U=t==null?void 0:t.token_a)==null?void 0:U.address:T.value?s.value.address:r.value.address}&tokenb=${t?t.needReverse?(j=t==null?void 0:t.token_a)==null?void 0:j.address:(H=t==null?void 0:t.token_b)==null?void 0:H.address:T.value?r.value.address:s.value.address}&fee=${o.fee}&from=${(Q=v==null?void 0:v.query)==null?void 0:Q.from}`)}},Lt=g(!1),qt=()=>{A.value,so.value=!0},$=g(null),pn=g(""),mn=g(""),fn=o=>{var U,O,H,j,Q,de,Ie,ae,ee,Ue,me,oo;if(o?(pn.value=o,He.value=o,ro.value=o,mn.value=new h(1).div(new h(o)).toString(),J.value=!1):(pn.value="",He.value="",ro.value="",mn.value=""),!((U=Te.value)!=null&&U.address)||!((O=Se.value)!=null&&O.address))return;let t=!1;const u=N.value.poolConfigList;let b=null;for(let Oe=0;Oe<u.length;Oe++){const ge=u[Oe];if(ge.token_a.address.toUpperCase()===((j=(H=Te==null?void 0:Te.value)==null?void 0:H.address)==null?void 0:j.toUpperCase())&&ge.token_b.address.toUpperCase()===((de=(Q=Se==null?void 0:Se.value)==null?void 0:Q.address)==null?void 0:de.toUpperCase())){t=ge.needReverse,b=ge;break}else if(ge.token_b.address.toUpperCase()===((ae=(Ie=Te==null?void 0:Te.value)==null?void 0:Ie.address)==null?void 0:ae.toUpperCase())&&ge.token_a.address.toUpperCase()===((Ue=(ee=Se==null?void 0:Se.value)==null?void 0:ee.address)==null?void 0:Ue.toUpperCase())){t=ge.needReverse,b=ge;break}}let y=!1;L.value.getIsSortedSymbols((me=Te.value)==null?void 0:me.address,(oo=Se.value)==null?void 0:oo.address)&&(y=!0);let C;y&&!T.value?C=!0:y&&T.value||!y&&T.value?C=!1:C=!0,console.log("0518###c####direct.value####",T.value),console.log("0518###c####createPoolNeedReverse####",y),console.log("0518###c####newDirect####",C);const S=M.value.chainName=="Aptos"?Bl:_l;if(s.value&&r.value&&o){const Oe=b?b==null?void 0:b.token_a.decimals:y?Se.value.decimals:Te.value.decimals,ge=b?b==null?void 0:b.token_b.decimals:y?Te.value.decimals:Se.value.decimals,Be=o&&L.value.TickMath.priceToSqrtPriceX64(C?new h(1/o):new h(o),Oe,ge);console.log(Be,"===>current_sqrt_price");const Me=o&&L.value.TickMath.priceToSqrtPriceX64(new h(1).div(o),s.value.decimals,r.value.decimals);console.log(!C,"===>!newDirect"),console.log(Oe,ge,"decimalsA,decimalsB===>");const be=L.value.TickMath.priceToTickIndex(C?new h(1).div(o):new h(o),Oe,ge);console.log(be,"==>currentTickIndex");const no=be-S[v.query.fee]*5,Xe=be+S[v.query.fee]*5,We=L.value.TickMath.tickIndexToPrice(no,Oe,ge).toString(),fo=L.value.TickMath.tickIndexToPrice(Xe,Oe,ge).toString();Fo.value?(i.value="0",c.value="∞"):C?(i.value=String(1/fo),c.value=String(1/We),q.value=String(1/fo),Z.value=String(1/We)):(i.value=We,c.value=fo,q.value=We,Z.value=fo),console.log("0518###c####createPoolFromCoin.value####",Te.value),console.log("0518###c####createPoolToCoin.value####",Se.value),console.log("0518###c####createPoolNeedReverse####",y);const co={token_a:b?b.token_a:y?Se.value:Te.value,token_b:b?b.token_b:y?Te.value:Se.value,isCreate:!0,tickSpacing:S[v.query.fee],currentPrice:o,current_sqrt_price:Be,tick_lower:no,tick_upper:Xe,current_tick_index:be,currentPriceReverse:on(String(1/o),6),reverse_current_sqrt_price:Me,needReverse:t,fee:v.query.fee};$.value=co,console.log("0518###c####poolInfos####",co),uo()}else $.value=null,i.value="",c.value=""},Mt=async()=>{var H,j,Q,de;if(M.value.chainName!=="Aptos"){On();return}so.value=!1;let o,t,u,b,y,C;const S=Te.value.decimals,U=Se.value.decimals;wo(""),Ho(n("tips.increaseLiquiditySuccess",{from:we.value?"":`${w.value} ${(H=s.value)==null?void 0:H.symbol}`,and:!we.value&&!Pe.value?"and":"",to:Pe.value?"":`${k.value} ${(j=r.value)==null?void 0:j.symbol}`})),xe(!0),i.value==="0"&&c.value==="∞"?(u=L.value.TickUtil.getMinIndex(Number($.value.tickSpacing)),b=L.value.TickUtil.getMaxIndex(Number($.value.tickSpacing))):(T.value?(o=Number(i.value),t=Number(c.value)):(o=1/Number(c.value),t=1/Number(i.value)),y=o==0?-443636:L.value.TickMath.priceToTickIndex(new h(o),S,U),C=L.value.TickMath.priceToTickIndex(new h(t),S,U),u=L.value.getNearestTickByTick(y,Number($.value.tickSpacing)),b=L.value.getNearestTickByTick(C,Number($.value.tickSpacing)));const O=T.value?m.value:!m.value;try{const Ie=await L.value.getCreatPoolTransactionPayload({coinTypeA:Te.value.address,coinTypeB:Se.value.address,tick_spacing:Number($.value.tickSpacing),initialize_sqrt_price:new Ao($.value.current_sqrt_price),uri:"",current_tick_index:$.value.current_tick_index,max_amount_a:T.value?w.value:k.value,max_amount_b:T.value?k.value:w.value,tick_lower:u,tick_upper:b,slippage:Number(De.value)/100,decimalsA:S,decimalsB:U,fix_amount_a:O,liquidityInput:Po.value});let ae;if(console.log(JSON.stringify(Ie),"===>creatPoolPayload"),M.value.chainName==="Aptos")ae=await B.value.currentWallet.signAndSubmitTransaction(Ie);else{const ee=await B.value.currentWallet.signAndExecuteTransactionBlock(Ie);ae=L.value.handleTx(ee)}if(ae&&ae.hash){wo(ae.hash),xe(!1),Co(!0);const ee={title:"Created pool",desc:"Pool created successfully ",hash:ae.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Q=s.value)==null?void 0:Q.address}`,numa:we.value?"":`- ${w.value}`,logoa:N.value.tokensObj&&s.value&&s.value.address&&N.value.tokensObj[s.value.address]&&N.value.tokensObj[s.value.address].logoURI,tokenb:`${(de=r.value)==null?void 0:de.address}`,numb:Pe.value?"":`- ${k.value}`,logob:N.value.tokensObj&&r.value&&r.value.address&&N.value.tokensObj[r.value.address]&&N.value.tokensObj[r.value.address].logoURI},text:"Pool created successfully"};M.value.chainName!=="Aptos"&&(ee.res=ae.res),L.value.showTransitionPending(ee),(await L.value.watchTransaction(ee,!0)).status&&(Co(!1),te.value=!0,setTimeout(()=>{eo.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),L.value.getAccount(B.value.address)},1e3)),Wo()}else xe(!1),yo(!0);w.value="",k.value=""}catch(Ie){eo.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),so.value=!1,console.log(Ie,"error===>"),w.value="",k.value="",xe(!1),yo(!0)}},On=async()=>{var Ie,ae,ee,Ue,me,oo,Oe,ge,Be,Me,be,no,Xe,We,fo,co,_n,Fn,jn,Dn,En,Hn,Wn,zn,Xn,Vn,Kn,Zn,Gn,Jn,Qn,Yn,xn,et,ot,nt;so.value=!1,console.log("创建sui池子");let o=!1;L.value.getIsSortedSymbols(Te.value.address,Se.value.address)&&(o=!0),wo("");const t=we.value?"":`${w.value} ${(Ie=s.value)==null?void 0:Ie.symbol}`,u=Pe.value?"":`${k.value} ${(ae=r.value)==null?void 0:ae.symbol}`;console.log("0424###createPoolFromCoin###",Te.value),console.log("0424###createPoolToCoin###",Se.value),console.log("0424###needReverse###",o),console.log("0424###createPoolInfo?.value?.needReverse###",(ee=$==null?void 0:$.value)==null?void 0:ee.needReverse),Ho(n("tips.increaseLiquiditySuccess",{from:!o&&!((Ue=$==null?void 0:$.value)!=null&&Ue.needReverse)||o&&((me=$==null?void 0:$.value)!=null&&me.needReverse)?t:u,and:!we.value&&!Pe.value?"and":"",to:!o&&!((oo=$==null?void 0:$.value)!=null&&oo.needReverse)||o&&((Oe=$==null?void 0:$.value)!=null&&Oe.needReverse)?u:t})),xe(!0);let b="",y="",C="",S="",U="",O="",H=0,j=0,Q=!1,de;if(o||(ge=$==null?void 0:$.value)!=null&&ge.needReverse){const So=o&&!((Be=$==null?void 0:$.value)!=null&&Be.needReverse);b=So?(Xe=(no=$==null?void 0:$.value)==null?void 0:no.token_b)==null?void 0:Xe.address:(be=(Me=$==null?void 0:$.value)==null?void 0:Me.token_a)==null?void 0:be.address,y=So?(_n=(co=$==null?void 0:$.value)==null?void 0:co.token_a)==null?void 0:_n.address:(fo=(We=$==null?void 0:$.value)==null?void 0:We.token_b)==null?void 0:fo.address,C=So?(En=(Dn=$==null?void 0:$.value)==null?void 0:Dn.token_b)==null?void 0:En.decimals:(jn=(Fn=$==null?void 0:$.value)==null?void 0:Fn.token_a)==null?void 0:jn.decimals,S=So?(Xn=(zn=$==null?void 0:$.value)==null?void 0:zn.token_a)==null?void 0:Xn.decimals:(Wn=(Hn=$==null?void 0:$.value)==null?void 0:Hn.token_b)==null?void 0:Wn.decimals,(Vn=$==null?void 0:$.value)!=null&&Vn.needReverse?(U=T.value?w.value:k.value,O=T.value?k.value:w.value,H=T.value?Number(i.value):1/Number(c.value),j=T.value?Number(c.value):1/Number(i.value),Q=T.value?m.value:!m.value,de=T.value?He.value:1/Number(He.value)):(U=T.value?k.value:w.value,O=T.value?w.value:k.value,H=T.value?1/Number(c.value):Number(i.value),j=T.value?1/Number(i.value):Number(c.value),Q=T.value?!m.value:m.value,de=T.value?1/Number(He.value):He.value)}else b=(Zn=(Kn=$==null?void 0:$.value)==null?void 0:Kn.token_a)==null?void 0:Zn.address,y=(Jn=(Gn=$==null?void 0:$.value)==null?void 0:Gn.token_b)==null?void 0:Jn.address,C=(Yn=(Qn=$==null?void 0:$.value)==null?void 0:Qn.token_a)==null?void 0:Yn.decimals,S=(et=(xn=$==null?void 0:$.value)==null?void 0:xn.token_b)==null?void 0:et.decimals,U=T.value?w.value:k.value,O=T.value?k.value:w.value,H=T.value?Number(i.value):1/Number(c.value),j=T.value?Number(c.value):1/Number(i.value),Q=T.value?m.value:!m.value,de=T.value?He.value:1/Number(He.value);try{console.log("0501###toCreatePool###params###",{coinTypeA:b,coinTypeB:y,decimalsA:C,decimalsB:S,amountA:U,amountB:O,minPrice:H,maxPrice:j,fix_amount_a:Q,tick_spacing:Number($.value.tickSpacing),slippage:Number(De.value)/100,price:de});const So=await L.value.getCreatPoolTransactionPayload({coinTypeA:b,coinTypeB:y,decimalsA:C,decimalsB:S,amountA:U,amountB:O,minPrice:i.value=="0"&&c.value=="∞"?"0":H,maxPrice:i.value=="0"&&c.value=="∞"?"∞":j,fix_amount_a:Q,tick_spacing:Number($.value.tickSpacing),slippage:Number(De.value)/100,price:de}),Bt=await B.value.currentWallet.signAndExecuteTransactionBlock(So),Yo=L.value.handleTx(Bt);if(Yo&&Yo.hash){wo(Yo.hash),xe(!1),Co(!0);const Tn={title:"Created pool",desc:"Pool created successfully ",hash:Yo.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(ot=s.value)==null?void 0:ot.address}`,numa:we.value?"":`- ${w.value}`,logoa:N.value.tokensObj&&s.value&&s.value.address&&N.value.tokensObj[s.value.address]&&N.value.tokensObj[s.value.address].logoURI,tokenb:`${(nt=r.value)==null?void 0:nt.address}`,numb:Pe.value?"":`- ${k.value}`,logob:N.value.tokensObj&&r.value&&r.value.address&&N.value.tokensObj[r.value.address]&&N.value.tokensObj[r.value.address].logoURI},text:"Pool created successfully"};M.value.chainName!=="Aptos"&&(Tn.res=Yo.res),L.value.showTransitionPending(Tn),(await L.value.watchTransaction(Tn,!0)).status&&(Co(!1),te.value=!0,setTimeout(()=>{eo.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),L.value.getAccount(B.value.address)},1e3)),Wo()}else xe(!1),yo(!0);w.value="",k.value=""}catch(So){console.log("0407###createPool###error##",So),so.value=!1,eo.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),w.value="",k.value="",xe(!1),yo(!0)}},Rt=X(()=>{var o,t,u,b,y,C;return((o=s.value)==null?void 0:o.isSelfBuilt)||((t=r.value)==null?void 0:t.isSelfBuilt)||((b=N.value.tokensObj[(u=s.value)==null?void 0:u.address])==null?void 0:b.isSelfBuilt)||((C=N.value.tokensObj[(y=r.value)==null?void 0:y.address])==null?void 0:C.isSelfBuilt)}),Ut=o=>{var t;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((t=N.value.tokensObj[o==null?void 0:o.address])==null?void 0:t.logo_url)||(M.value.theme==="default"?Ve("/image/coins/unknown.png"):Ve("/image/coins/sui-unknown.png"))},In=(o,t)=>{console.log(K.value,"===>currentCoinKey.value"),console.log(o);const u=localStorage.getItem(o.address);console.log(N.value.tokensObj,"===>pools.value.tokensObj"),console.log(u,"===>coinLocak"),N.value.tokensObj&&N.value.tokensObj[o.address]&&N.value.tokensObj[o.address].isSelfBuilt&&!u&&(t=="fromCoin"&&(Go.value=o),t=="toCoin"&&(Jo.value=o),Bn.value=!0)};he(()=>[s.value,r.value],([o,t])=>{o&&!go(o)&&In(o,"fromCoin"),t&&!go(t)&&In(t,"toCoin")},{immediate:!0});const Bn=g(!1),Ot=()=>{gn.value!=="Aptos"?ye.push("/pool/list"):ye.push("/pools")},gn=X(()=>M.value.chainName);he(()=>[M.value.chainName,M.value.filterCoinsObj],([o,t])=>{o&&t&&eo.setPoolConfigList(o,t)},{immediate:!0}),he(()=>[ze.value,to.value,s.value,r.value,To.value],([o,t,u,b,y])=>{console.log(o.value,"==>isCreatePool.value"),console.log(t.value,"===>filterCreatePoolCoin.value"),console.log(u,"===>fromCoin"),console.log(b,"===>toCoin"),y&&o&&t&&!o.includes(1e-4)&&!o.includes(5e-4)&&!o.includes(.0025)&&!o.includes(.01)&&!t[u==null?void 0:u.address]&&!t[b==null?void 0:b.address]&&(E.value="")},{immediate:!0});const Fo=g(!0),$n=()=>{Qe(!Fo.value),Fo.value=!Fo.value,fn($.value.currentPrice)};return{isFullRange:Fo,clickFullRange:$n,warningToCoin:Jo,warningFromCoin:Go,getTokenSource:In,closeTokenWarning:Ot,isShowTokenWarning:Bn,chainName:gn,hasCreatePool:To,isCreateSuccess:te,intPriceReverse:mn,isShowMask:Io,isPc:e,intPrice:pn,createPoolToCoin:Se,createPoolFromCoin:Te,getPoolInfoSuccess:Ko,toCreatePool:Mt,createPoolInfo:$,changecurrentPrice:fn,isShowCreatePoolModal:Lt,addOrCreate:qt,halfBtnSelect:dn,selectFee:Nt,isViewDetail:z,addCommom:Ee,decimalUi:Le,fromCoinUrl:St,toCoinUrl:At,t:n,wallet:B,toAdd:It,chartLoading:J,currentTick:se,tickList:je,poolInfo:A,storeIndex:M,importIcon:Ve,addLiquidityBtnText:R,slippage:De,countdown:W,loading:V,fromCoin:s,toCoin:r,openCoinSelect:sn,onCoinSelect:rn,existingCoins:G,lastSelectCoin:oe,currentCoinKey:K,showCoinSelect:Ce,fromCoinAmount:w,toCoinAmount:k,maxBtnSelect:un,fixedFromCoin:m,isShowLiquidityModal:so,direct:T,toggle:ln,edit:ve,inputValue:E,feeTierList:Ye,minPrice:i,maxPrice:c,invalidPriceRange:Zo,defaultMinPrice:q,defaultMaxPrice:Z,priceRangeChangeMin:tn,priceRangeChangeMax:an,toFullRange:Qe,clearAll:cn,clickClear:D,positionError:fe,positionTips:Ae,router:ye,clickRefresh:$o,fromCoinBlance:Ge,toCoinBlance:Je,showToCoinLock:Pe,showFromCoinLock:we,currentPriceReverse:ro,currentPrice:He,getPirceText:$t,currentPriceTab:x,currentPriceTabList:bo,getPirceKey:Tt,priceTab:vn,aprRewardsParameter:$e,aprRewardsDateList:ue,aprTab:Lo,reviseValue:qo,label:Ke,aprTitle:qe,isCreatePool:ze,before7dContractPriceLowest:Ze,before7dContractPriceHighest:Re,aprRewardsTime:pe,addLiquidityBtnDisabled:Eo,checkNullObj:go,sFixD:xo,toCreateSuiPool:On,isSelfBuilt:Rt,getCoinIcon:Ut,isCreatePoolToCoin:Ro,isCreatePoolFromCoin:Uo,filterCreatePoolCoin:to,poolTvl:ho}}}),wt=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,Pt=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const lo=e=>(jo("data-v-1c1de8fa"),e=e(),Do(),e),jl={class:"pools-container"},Dl={key:0,class:"content pc-content"},El={class:"content-left"},Hl={class:"content-left-bg"},Wl={class:"content-left-title"},zl={key:0,class:"pool-warning"},Xl={class:"coin-select"},Vl={key:0,class:"icon","aria-hidden":"true"},Kl=lo(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),Zl=[Kl],Gl={key:0,class:"fee-container"},Jl=["onClick"],Ql={key:0,class:"icon fee-disabled","aria-hidden":"true"},Yl=lo(()=>a("use",{"xlink:href":"#icon-icon-disable"},null,-1)),xl=[Yl],es={key:1},os={key:2},ns={key:0},ts={key:1,class:"text-active"},as={class:"deposit-title"},is={class:"card-container"},ls={class:"card-item"},ss={class:"card-item"},rs={key:0,class:"icon","aria-hidden":"true"},us=lo(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),ds=[us],cs={class:"pc-network"},vs={class:"content-right"},ps={key:0,class:"initPrice-mask"},ms={class:"content-right-title"},fs=lo(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),gs={class:"content-right-bg"},bs={key:1,class:"price-tab"},ks=["onClick"],hs={key:2,class:"create-pool-tips"},Cs={key:3,class:"set-price-range"},ys={class:"radio"},ws={key:0,src:Ct},Ps=lo(()=>a("span",null,"Full Range",-1)),Is={key:0},$s={key:1,class:"coin"},Ts={key:2,class:"coin"},Ss={key:3,class:"no-price"},As={alt:""},Ns={alt:""},Ls={key:6,class:"position-tips"},qs={alt:""},Ms={class:"tips"},Rs={key:7,class:"position-tips"},Us={alt:""},Os={class:"error"},Bs={key:8,class:"d3-chart-box"},_s={key:9,class:"day-7-price-range"},Fs=lo(()=>a("i",null,null,-1)),js={class:"gray"},Ds={key:11,class:"create-pool-tips"},Es={key:12,class:"create-pool-warning"},Hs={key:1,class:"no-data"},Ws={key:0,src:wt,alt:""},zs={key:1,src:Pt,alt:""},Xs={key:1,class:"content h5-content"},Vs={class:"content-left"},Ks={class:"content-left-bg"},Zs={class:"content-left-title"},Gs={key:0,class:"pool-warning"},Js={class:"coin-select"},Qs={key:0,class:"icon","aria-hidden":"true"},Ys=lo(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),xs=[Ys],er={key:0,class:"fee-container"},or=["onClick"],nr={key:0},tr={key:1},ar={key:0},ir={key:1,class:"text-active"},lr={class:"content-right"},sr={key:0,class:"initPrice-mask"},rr={class:"content-right-title"},ur=lo(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),dr={class:"content-right-bg"},cr={key:1,class:"price-tab"},vr=["onClick"],pr={key:2,class:"create-pool-tips"},mr={key:3,class:"set-price-range"},fr={class:"radio"},gr={key:0,src:Ct},br=lo(()=>a("span",null,"Full Range",-1)),kr={key:0},hr={key:1,class:"coin"},Cr={key:2,class:"coin"},yr={key:3,class:"no-price"},wr={alt:""},Pr={alt:""},Ir={key:6,class:"position-tips"},$r=["src"],Tr={class:"tips"},Sr={key:7,class:"position-tips"},Ar=["src"],Nr={class:"error"},Lr={key:8,class:"d3-chart-box"},qr={key:9,class:"day-7-price-range"},Mr=lo(()=>a("i",null,null,-1)),Rr={class:"gray"},Ur={key:11,class:"create-pool-tips"},Or={key:1,class:"no-data"},Br={key:0,src:wt,alt:""},_r={key:1,src:Pt,alt:""},Fr={key:0,class:"icon","aria-hidden":"true"},jr=lo(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),Dr=[jr],Er={class:"pc-network"},Hr={class:"new-right"},Wr={class:"deposit-title"},zr={class:"card-container"},Xr={class:"card-item"},Vr={class:"card-item"},Kr={key:0,class:"icon","aria-hidden":"true"},Zr=lo(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),Gr=[Zr],Jr={class:"h5-network"};function Qr(e,n,_,F,B,Y){var se,J,ie,je,x,$e,pe,qe,ue,Ke,ne,M,Io,L,to,Lo,qo,bo,$o,Zo,Qe,ze,ko,ho,Ye,De,Mo,Eo,R,I,Ze,Re,ye,s,r,tn,an,ln,Ro,Uo,sn,Te,Se,Go,Jo,rn,un,dn,cn,so,Co,yo,xe,Ho,wo,Wo,v,eo,To,N,Po,we,Pe,zo,Xo,He,ro,uo,Oo,Vo,A;const W=_t,te=ba,z=Xt,V=Sa,K=Vt,G=Qt,oe=Ra,Ce=ea,T=Rn,Fe=na,m=Fa,D=ai,w=vi,k=ft,i=ta,c=Qi,q=sa,Z=Il,ve=Ol,Ae=jt,fe=oa,E=Cn("image");return l(),p("div",jl,[re(W,{url:e.storeIndex.theme=="default"?"/pools":"/pool/list"},null,8,["url"]),re(te,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(l(),p("div",Dl,[a("div",El,[a("div",Hl,[a("div",Wl,[_e(d(e.$t("common.selectPool"))+" ",1),re(z,{placement:"bottom","arrow-point-at-center":""},{title:Ne(()=>[a("span",null,d(e.t("newAdd.poolWarning")),1)]),default:Ne(()=>[e.isSelfBuilt?(l(),p("div",zl)):P("",!0)]),_:1})]),a("div",Xl,[re(V,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.logoURI:e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.symbol:e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[0]||(n[0]=f=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),re(V,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.logoURI:e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.symbol:e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b:e.createPoolToCoin,onClick:n[1]||(n[1]=f=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:ke(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[2]||(n[2]=f=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:ke(e.inputValue?"":"fee-span")},d(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(l(),p("svg",Vl,Zl)):P("",!0)]),e.edit?(l(),p("div",Gl,[(l(!0),p(No,null,en(e.feeTierList,(f,ao)=>{var Bo,Ko,Ge,Je,Qo;return l(),p("div",{key:ao,class:ke(["fee-item",[e.inputValue&&e.inputValue==f.label?"fee-item-active":"",e.isCreatePool.includes(f.fee)&&e.$route.query.action?" pool-created":" pool-not-created",e.chainName!=="Aptos"&&!e.isCreatePool.includes(f.fee)&&!e.filterCreatePoolCoin[(Bo=e.fromCoin)==null?void 0:Bo.address]&&!e.filterCreatePoolCoin[(Ko=e.toCoin)==null?void 0:Ko.address]?"disabled":""]]),onClick:An(Pn=>e.selectFee(f),["stop"])},[e.chainName!=="Aptos"&&!e.isCreatePool.includes(f.fee)&&!e.filterCreatePoolCoin[(Ge=e.fromCoin)==null?void 0:Ge.address]&&!e.filterCreatePoolCoin[(Je=e.toCoin)==null?void 0:Je.address]?(l(),p("svg",Ql,xl)):P("",!0),e.$route.query.action=="create-pool"?(l(),p("div",es,[a("p",null,d(f.title),1),a("p",{class:ke(e.isCreatePool&&e.isCreatePool.includes(f.fee)?"text-default":"text-theme")},d(e.isCreatePool&&e.isCreatePool.includes(f.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(l(),p("div",os,[a("p",{class:ke(e.isCreatePool&&e.isCreatePool.includes(f.fee)?"text-active":"text-default")},d(f.title),3),e.isCreatePool&&!e.isCreatePool.includes(f.fee)?(l(),p("p",ns,d(e.$t("newAdd.notCreated")),1)):P("",!0),e.isCreatePool&&e.isCreatePool.includes(f.fee)?(l(),p("p",ts,d(e.poolTvl&&e.poolTvl[f.fee]&&((Qo=e.poolTvl[f.fee])==null?void 0:Qo.rateText)),1)):P("",!0)])),a("span",null,d(f.text),1)],10,Jl)}),128))])):P("",!0)],2),a("div",as,d(e.$t("newAdd.depositAmounts")),1),a("div",is,[a("div",ls,[re(K,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[3]||(n[3]=f=>e.fromCoinAmount=f),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[4]||(n[4]=f=>e.maxBtnSelect("fromCoin")),onOnHalf:n[5]||(n[5]=f=>e.halfBtnSelect("fromCoin")),onOnInput:n[6]||(n[6]=f=>{e.fromCoinAmount=f,e.fixedFromCoin=!0}),onOnSelect:n[7]||(n[7]=f=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&e.$route.query.action!=="create-pool"?(l(),ce(G,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):P("",!0)]),a("div",ss,[re(K,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[8]||(n[8]=f=>e.toCoinAmount=f),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[9]||(n[9]=f=>e.maxBtnSelect("toCoin")),onOnHalf:n[10]||(n[10]=f=>e.halfBtnSelect("toCoin")),onOnInput:n[11]||(n[11]=f=>{e.toCoinAmount=f,e.fixedFromCoin=!1}),onOnSelect:n[12]||(n[12]=f=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&e.$route.query.action!=="create-pool"?(l(),ce(G,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):P("",!0)]),((J=(se=e.$route)==null?void 0:se.query)==null?void 0:J.action)=="create-pool"&&(e.showToCoinLock||e.showFromCoinLock||!e.filterCreatePoolCoin[(ie=e.fromCoin)==null?void 0:ie.address]&&!e.filterCreatePoolCoin[(je=e.toCoin)==null?void 0:je.address])?(l(),ce(oe,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):P("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(l(),p("img",{key:1,class:"add",src:lt,alt:"",onClick:n[13]||(n[13]=(...f)=>e.toggle&&e.toggle(...f))})):P("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(l(),p("img",{key:2,class:"add",src:st,alt:"",onClick:n[14]||(n[14]=(...f)=>e.toggle&&e.toggle(...f))})):P("",!0)]),e.poolInfo?(l(),ce(Ce,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):P("",!0)]),re(T,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[15]||(n[15]=f=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ne(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")&&e.wallet.connected?(l(),p("svg",rs,ds)):P("",!0),a("span",null,d(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",cs,[re(Fe)])]),a("div",vs,[e.isShowMask?(l(),p("div",ps)):P("",!0),a("div",ms,[_e(d((x=e.$route)!=null&&x.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(l(),ce(z,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ne(()=>[a("span",null,d(e.$t("newAdd.selectRangeTips")),1)]),default:Ne(()=>[fs]),_:1})):P("",!0)]),a("div",gs,[!((pe=($e=e.$route)==null?void 0:$e.query)!=null&&pe.action)&&e.poolInfo||(ue=(qe=e.$route)==null?void 0:qe.query)!=null&&ue.action?(l(),p(No,{key:0},[(ne=(Ke=e.$route)==null?void 0:Ke.query)!=null&&ne.action&&!e.poolInfo?(l(),ce(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):P("",!0),e.poolInfo?(l(),p("div",bs,[(l(!0),p(No,null,en(e.currentPriceTabList,f=>(l(),p("div",{key:f,class:ke(["price-item",{"price-item-active":f.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:ao=>e.priceTab(f)},[re(z,{placement:"bottom","arrow-point-at-center":""},{title:Ne(()=>[a("span",null,d(e.getPirceText(f.key)),1)]),default:Ne(()=>[_e(" "+d(e.getPirceKey(f.key)),1)]),_:2},1024)],10,ks))),128))])):P("",!0),(Io=(M=e.$route)==null?void 0:M.query)!=null&&Io.action&&!e.poolInfo?(l(),p("div",hs,d(e.$t("newAdd.createPoolInitialText")),1)):P("",!0),!e.poolInfo&&((to=(L=e.$route)==null?void 0:L.query)!=null&&to.action)?(l(),p("div",Cs,[a("div",null,d(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:ke(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[16]||(n[16]=An(f=>e.clickFullRange(),["stop"]))},[a("div",ys,[e.isFullRange&&e.chainName=="Sui"?(l(),p("img",ws)):P("",!0)]),Ps],2)])])):P("",!0),e.poolInfo||(qo=(Lo=e.$route)==null?void 0:Lo.query)!=null&&qo.action?(l(),p("div",{key:4,class:ke(["current-price",($o=(bo=e.$route)==null?void 0:bo.query)!=null&&$o.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(l(),p("span",Is,d(e.$t("common.currentPrice")),1)):P("",!0),e.fromCoin&&e.toCoin&&e.direct?(l(),p("div",$s,[a("span",null,d(e.$t("common.currentPrice")),1),_e(" "+d(e.currentPrice===""?"--":("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.currentPrice,6)))+" "+d((Zo=e.toCoin)==null?void 0:Zo.symbol)+" per "+d((Qe=e.fromCoin)==null?void 0:Qe.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(l(),p("div",Ts,[a("span",null,d(e.$t("common.currentPrice")),1),_e(" "+d(e.currentPriceReverse===""?"--":("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.currentPriceReverse,6)))+" "+d((ze=e.toCoin)==null?void 0:ze.symbol)+" per "+d((ko=e.fromCoin)==null?void 0:ko.symbol),1)])):(l(),p("div",Ss,"0.0")),e.fromCoin&&e.toCoin?(l(),p("div",{key:4,class:ke(e.poolInfo&&((ho=e.poolInfo)!=null&&ho.needReverse)||e.createPoolInfo&&((Ye=e.createPoolInfo)!=null&&Ye.needReverse)?"toggle reverse":"toggle")},[a("div",{class:ke(e.direct?"item active-item":"item"),onClick:n[17]||(n[17]=f=>e.direct?"":e.toggle())},[io(a("img",As,null,512),[[E,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),_e(" "+d(e.direct?(De=e.fromCoin)==null?void 0:De.symbol:(Mo=e.toCoin)==null?void 0:Mo.symbol),1)],2),a("div",{class:ke(e.direct?"item ":"item active-item"),onClick:n[18]||(n[18]=f=>e.direct?e.toggle():"")},[io(a("img",Ns,null,512),[[E,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),_e(" "+d(e.direct?(Eo=e.toCoin)==null?void 0:Eo.symbol:(R=e.fromCoin)==null?void 0:R.symbol),1)],2)],2)):P("",!0)],2)):P("",!0),e.poolInfo||(Ze=(I=e.$route)==null?void 0:I.query)!=null&&Ze.action?(l(),ce(D,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):P("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(l(),p("div",Ls,[io(a("img",qs,null,512),[[E,("importIcon"in e?e.importIcon:le(Ve))("/image/icon-tips@2x.png")]]),a("p",Ms,d(e.$t("tips.positionTips")),1)])):P("",!0),e.positionError&&(e.poolInfo||(ye=(Re=e.$route)==null?void 0:Re.query)!=null&&ye.action)&&(Number(e.minPrice)||Number(e.maxPrice))?(l(),p("div",Rs,[io(a("img",Us,null,512),[[E,("importIcon"in e?e.importIcon:le(Ve))("/image/icon-tips-error@2x.png")]]),a("p",Os,d(e.$t("tips.positionError")),1)])):P("",!0),e.fromCoin&&e.toCoin&&e.poolInfo&&((s=e.poolInfo)!=null&&s.current_sqrt_price)?(l(),p("div",Bs,[e.fromCoin&&e.toCoin&&e.poolInfo?(l(),ce(w,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):P("",!0),e.chartLoading?(l(),ce(k,{key:1})):P("",!0)])):P("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(l(),p("div",_s,[Fs,a("span",js,d(e.aprRewardsTime)+" Price Range",1),a("span",null,d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.before7dContractPriceLowest,6)))+" - "+d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.before7dContractPriceHighest,6))),1)])):P("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(l(),ce(i,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):P("",!0),(tn=(r=e.$route)==null?void 0:r.query)!=null&&tn.action&&!e.poolInfo&&!e.showFromCoinLock&&!e.showToCoinLock?(l(),p("div",Ds,d(e.$t("newAdd.createPoolText")),1)):P("",!0),((ln=(an=e.$route)==null?void 0:an.query)==null?void 0:ln.action)=="create-pool"&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(l(),p("div",Es," To create a new pool, the initial price you set must be within your price range. ")):P("",!0)],64)):(l(),p("div",Hs,[e.storeIndex.theme=="default"?(l(),p("img",Ws)):(l(),p("img",zs)),a("p",null,d(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&e.$route.query.action!=="create-pool"?(l(),ce(c,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):P("",!0)])])):P("",!0),e.isPc?P("",!0):(l(),p("div",Xs,[a("div",Vs,[a("div",Ks,[a("div",Zs,[_e(d(e.$t("common.selectPool"))+" ",1),re(z,{placement:"bottom","arrow-point-at-center":""},{title:Ne(()=>[a("span",null,d(e.t("newAdd.poolWarning")),1)]),default:Ne(()=>[e.poolInfo&&e.isSelfBuilt?(l(),p("div",Gs)):P("",!0)]),_:1})]),a("div",Js,[re(V,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[19]||(n[19]=f=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),re(V,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:n[20]||(n[20]=f=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:ke(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[21]||(n[21]=f=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:ke(e.inputValue?"":"fee-span")},d(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(l(),p("svg",Qs,xs)):P("",!0)]),e.edit?(l(),p("div",er,[e.getPoolInfoSuccess?(l(!0),p(No,{key:1},en(e.feeTierList,(f,ao)=>{var Bo;return l(),p("div",{key:ao,class:ke(["fee-item",[e.inputValue&&e.inputValue==f.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.length>0&&e.isCreatePool.includes(f.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Ko=>e.selectFee(f)},[e.$route.query.action=="create-pool"?(l(),p("div",nr,[a("p",null,d(f.title),1),a("p",{class:ke(e.isCreatePool.includes(f.fee)?"text-default":"text-theme")},d(e.isCreatePool.includes(f.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(l(),p("div",tr,[a("p",{class:ke(e.isCreatePool.includes(f.fee)?"text-active":"text-default")},d(f.title),3),e.isCreatePool&&!e.isCreatePool.includes(f.fee)?(l(),p("p",ar,d(e.$t("newAdd.notCreated")),1)):P("",!0),e.isCreatePool&&e.isCreatePool.includes(f.fee)?(l(),p("p",ir,d(e.poolTvl&&e.poolTvl[f.fee]&&((Bo=e.poolTvl[f.fee])==null?void 0:Bo.rateText)),1)):P("",!0)])),a("span",null,d(f.text),1)],10,or)}),128)):(l(),ce(k,{key:0}))])):P("",!0)],2)]),a("div",lr,[e.isShowMask?(l(),p("div",sr)):P("",!0),a("div",rr,[_e(d((Ro=e.$route)!=null&&Ro.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(l(),ce(z,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ne(()=>[a("span",null,d(e.$t("newAdd.selectRangeTips")),1)]),default:Ne(()=>[ur]),_:1})):P("",!0)]),a("div",dr,[!((sn=(Uo=e.$route)==null?void 0:Uo.query)!=null&&sn.action)&&e.poolInfo||(Se=(Te=e.$route)==null?void 0:Te.query)!=null&&Se.action?(l(),p(No,{key:0},[(Jo=(Go=e.$route)==null?void 0:Go.query)!=null&&Jo.action&&!e.poolInfo?(l(),ce(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):P("",!0),e.poolInfo?(l(),p("div",cr,[(l(!0),p(No,null,en(e.currentPriceTabList,f=>(l(),p("div",{key:f,class:ke(["price-item",{"price-item-active":f.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:ao=>e.priceTab(f)},[re(z,{placement:"bottom","arrow-point-at-center":""},{title:Ne(()=>[a("span",null,d(e.getPirceText(f.key)),1)]),default:Ne(()=>[_e(" "+d(e.getPirceKey(f.key)),1)]),_:2},1024)],10,vr))),128))])):P("",!0),(un=(rn=e.$route)==null?void 0:rn.query)!=null&&un.action&&!e.poolInfo?(l(),p("div",pr,d(e.$t("newAdd.createPoolInitialText")),1)):P("",!0),!e.poolInfo&&((cn=(dn=e.$route)==null?void 0:dn.query)!=null&&cn.action)?(l(),p("div",mr,[a("div",null,d(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:ke(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[22]||(n[22]=An(f=>e.clickFullRange(),["stop"]))},[a("div",fr,[e.isFullRange&&e.chainName=="Sui"?(l(),p("img",gr)):P("",!0)]),br],2)])])):P("",!0),e.poolInfo||(Co=(so=e.$route)==null?void 0:so.query)!=null&&Co.action?(l(),p("div",{key:4,class:ke(["current-price",(xe=(yo=e.$route)==null?void 0:yo.query)!=null&&xe.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(l(),p("span",kr,d(e.$t("common.currentPrice")),1)):P("",!0),e.fromCoin&&e.toCoin&&e.direct?(l(),p("div",hr,[a("span",null,d(e.$t("common.currentPrice")),1),_e(" "+d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.currentPrice,6)))+" "+d((Ho=e.toCoin)==null?void 0:Ho.symbol)+" per "+d((wo=e.fromCoin)==null?void 0:wo.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(l(),p("div",Cr,[a("span",null,d(e.$t("common.currentPrice")),1),_e(" "+d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.currentPriceReverse,6)))+" "+d((Wo=e.toCoin)==null?void 0:Wo.symbol)+" per "+d((v=e.fromCoin)==null?void 0:v.symbol),1)])):(l(),p("div",yr,"0.0")),e.fromCoin&&e.toCoin?(l(),p("div",{key:4,class:ke(e.poolInfo&&((eo=e.poolInfo)!=null&&eo.needReverse)||e.createPoolInfo&&((To=e.createPoolInfo)!=null&&To.needReverse)?"toggle reverse":"toggle")},[a("div",{class:ke(e.direct?"item active-item":"item"),onClick:n[23]||(n[23]=f=>e.direct?"":e.toggle())},[io(a("img",wr,null,512),[[E,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),_e(" "+d(e.direct?(N=e.fromCoin)==null?void 0:N.symbol:(Po=e.toCoin)==null?void 0:Po.symbol),1)],2),a("div",{class:ke(e.direct?"item ":"item active-item"),onClick:n[24]||(n[24]=f=>e.direct?e.toggle():"")},[io(a("img",Pr,null,512),[[E,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),_e(" "+d(e.direct?(we=e.toCoin)==null?void 0:we.symbol:(Pe=e.fromCoin)==null?void 0:Pe.symbol),1)],2)],2)):P("",!0)],2)):P("",!0),e.poolInfo||(Xo=(zo=e.$route)==null?void 0:zo.query)!=null&&Xo.action?(l(),ce(D,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):P("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(l(),p("div",Ir,[a("img",{src:("importIcon"in e?e.importIcon:le(Ve))("/image/icon-tips@2x.png"),alt:""},null,8,$r),a("p",Tr,d(e.$t("tips.positionTips")),1)])):P("",!0),e.positionError&&(e.poolInfo||(ro=(He=e.$route)==null?void 0:He.query)!=null&&ro.action)?(l(),p("div",Sr,[a("img",{src:("importIcon"in e?e.importIcon:le(Ve))("/image/icon-tips-error@2x.png"),alt:""},null,8,Ar),a("p",Nr,d(e.$t("tips.positionError")),1)])):P("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(l(),p("div",Lr,[e.fromCoin&&e.toCoin&&e.poolInfo?(l(),ce(w,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):P("",!0),e.chartLoading?(l(),ce(k,{key:1})):P("",!0)])):P("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(l(),p("div",qr,[Mr,a("span",Rr,d(e.aprRewardsTime)+" Price Range",1),a("span",null,d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.before7dContractPriceLowest,6)))+" - "+d(("addCommom"in e?e.addCommom:le(Ee))(("decimalUi"in e?e.decimalUi:le(Le))(e.before7dContractPriceHighest,6))),1)])):P("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(l(),ce(i,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):P("",!0),(Oo=(uo=e.$route)==null?void 0:uo.query)!=null&&Oo.action&&!e.poolInfo?(l(),p("div",Ur,d(e.$t("newAdd.createPoolText")),1)):P("",!0)],64)):(l(),p("div",Or,[e.storeIndex.theme=="default"?(l(),p("img",Br)):(l(),p("img",_r)),a("p",null,d(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.isSelfBuilt?(l(),ce(c,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):P("",!0)]),re(T,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[25]||(n[25]=f=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ne(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(l(),p("svg",Fr,Dr)):P("",!0),a("span",null,d(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",Er,[re(Fe)])]),a("div",Hr,[a("div",Wr,d(e.$t("newAdd.depositAmounts")),1),a("div",zr,[a("div",Xr,[re(K,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[26]||(n[26]=f=>e.fromCoinAmount=f),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[27]||(n[27]=f=>e.maxBtnSelect("fromCoin")),onOnHalf:n[28]||(n[28]=f=>e.halfBtnSelect("fromCoin")),onOnInput:n[29]||(n[29]=f=>{e.fromCoinAmount=f,e.fixedFromCoin=!0}),onOnSelect:n[30]||(n[30]=f=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(l(),ce(G,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):P("",!0)]),a("div",Vr,[re(K,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[31]||(n[31]=f=>e.toCoinAmount=f),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[32]||(n[32]=f=>e.maxBtnSelect("toCoin")),onOnHalf:n[33]||(n[33]=f=>e.halfBtnSelect("toCoin")),onOnInput:n[34]||(n[34]=f=>{e.toCoinAmount=f,e.fixedFromCoin=!1}),onOnSelect:n[35]||(n[35]=f=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(l(),ce(G,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):P("",!0)]),(A=(Vo=e.$route)==null?void 0:Vo.query)!=null&&A.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(l(),ce(oe,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):P("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(l(),p("img",{key:1,class:"add",src:lt,alt:"",onClick:n[36]||(n[36]=(...f)=>e.toggle&&e.toggle(...f))})):P("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(l(),p("img",{key:2,class:"add",src:st,alt:"",onClick:n[37]||(n[37]=(...f)=>e.toggle&&e.toggle(...f))})):P("",!0)]),e.poolInfo||e.createPoolInfo?(l(),ce(Ce,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):P("",!0)])])),re(T,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:n[38]||(n[38]=f=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ne(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(l(),p("svg",Kr,Gr)):P("",!0),a("span",null,d(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",Jr,[re(Fe)]),e.showCoinSelect?(l(),ce(q,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,onOnSelect:e.onCoinSelect,onOnClose:n[39]||(n[39]=f=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):P("",!0),e.isViewDetail?(l(),ce(Z,{key:3,"pool-info":e.poolInfo,onOnClose:n[40]||(n[40]=f=>e.isViewDetail=!1)},null,8,["pool-info"])):P("",!0),e.isCreateSuccess?(l(),ce(ve,{key:4,onOnClose:n[41]||(n[41]=f=>e.isCreateSuccess=!1)})):P("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(l(),ce(Ae,{key:5,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:n[42]||(n[42]=f=>e.isShowTokenWarning=!1)},null,8,["from-coin","to-coin","onClose"])):P("",!0),e.isShowLiquidityModal?(l(),ce(fe,{key:6,"pool-info":e.poolInfo||e.createPoolInfo,title:e.$route.query.action=="create-pool"?e.$t("newAdd.preview"):e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direct,"is-increase":!1,onCreatePool:e.toCreatePool,onToAdd:e.toAdd,onOnClose:n[43]||(n[43]=f=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onCreatePool","onToAdd"])):P("",!0)])}const Lu=mo(Fl,[["render",Qr],["__scopeId","data-v-1c1de8fa"]]);export{Lu as default};
