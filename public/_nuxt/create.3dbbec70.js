import{_ as pt}from"./back.609c2697.js";import{_ as mt}from"./upgrade-creat-pool-lock.d0038d53.js";import{i as Ee}from"./import-icon.de3e6c66.js";import{a as Je,m as L,r as b,L as Qe,z as rt,A as fe,a1 as ft,a2 as Ke,e as Ze,l as we,o as U,f as H,i as x,G as ee,h as a,y as Re,x as Pe,c as Ve,w as lt,B as gt,j as Xe,p as no,k as so,b as io,q as kt,s as ut,D as nt,F as ct,E as Ct,u as bt,K as ht,Y as _t}from"./entry.77c88c5a.js";/* empty css              *//* empty css              */import{u as xe,a as ro,b as uo}from"./index.e09e6140.js";import{_ as yt,a as St,s as Tt}from"./poolFee.596d4d87.js";import{S as wt,a as Pt,b as At,R as Nt,c as qt}from"./sui-liquidity-price.6cac0854.js";import{u as $t,b as Ye,c as Rt}from"./index.56bf34fb.js";import{a as Be,c as Ge,p as st,b as oo,g as Lt,d as It,y as it}from"./common.84762dba.js";import"./decimal.a2826370.js";import{amountLock as De,fromCoinAmount as m,toCoinAmount as f,fromCoin as s,toCoin as i,showFromCoinLock as be,showToCoinLock as he,fixedFromCoin as ne,createPoolInfo as g,minPrice as R,maxPrice as S,currentPriceReverse as lo,currentPrice as Ne,initPrice as Ie,direction as A,createPoolFromCoin as Se,createPoolToCoin as Te,isFullRange as Ae,feeValue as Fe,resetData as Bt,defaultMinPrice as to,defaultMaxPrice as ao}from"./create-pool-data.1ed8a580.js";import{T as Ft}from"./token-input-block.5bf4e89b.js";import{D as q}from"./decimal.765d8738.js";import{_ as Ut}from"./lock.35e1d915.js";import{I as Mt}from"./icon-tooltip.d22a86ac.js";import{_ as Ot}from"./coin-select.986ee20b.js";import{_ as Dt}from"./token-warning-modal.497ebafd.js";import{T as Vt}from"./token-dropdown-select.50b77d6d.js";import{u as jt}from"./useDebounceFunction.bf6b8467.js";import"./img-lock_2x.a28135f4.js";import"./icon-slippage.d8f170d0.js";import"./swap-setting.71bf9c26.js";import"./icon-error_2x.7a817926.js";/* empty css              */import"./icon-refresh.eb52b22a.js";import"./coin-img-warning.d93f319b.js";import"./token.448a5d1d.js";import"./coin-img.025f7337.js";import"./deposit-ratio.ce1761ea.js";import"./notifi.113fcab6.js";import"./useWhale.3738eb9c.js";import"./sui-status-block.5425e0a4.js";import"./index.c3f9a5df.js";/* empty css              */import"./token-warning_2x.0aec013b.js";import"./img-no-Positions_2x.65d1e623.js";import"./img-no-Positions_2x.35ff1e1b.js";import"./check-box.f711f26a.js";const Et=Je({components:{NewLiquidityTile:wt,SuiLiquidityDepositRatio:Pt,TokenInputBlock:Ft,SuiAddOrCreate:At},setup(e,r){const j=$t(),E=xe(),M=L(()=>E),D=L(()=>M.value.chainName),c=L(()=>j),_=b(!1);b(),b(),b(),b(!1);const P=Qe(),{t:F,locale:v}=rt(),p=L(()=>D.value?uo(D.value):{}),h=ro(),O=L(()=>h),ge=L(()=>M.value.theme),ve=L(()=>c.value.assets&&s.value&&c.value.assets[s.value.address]?st(c.value.assets[s.value.address].balance,s.value.decimals):"0"),pe=L(()=>c.value.assets&&i.value&&c.value.assets[i.value.address]?st(c.value.assets[i.value.address].balance,i.value.decimals):"0");fe(()=>[O.value.tokensObj,P.query],async([o])=>{if(o){const y=o;if(P&&P.query&&P.query.fromCoin&&P.query.fromCoin){const I=y[P.query.fromCoin]||await p.value.getTokenBySymbol(y,P.query.fromCoin);s.value=I,Se.value=I}if(P&&P.query&&P.query.toCoin&&P.query.toCoin){const I=y[P.query.toCoin]||await p.value.getTokenBySymbol(y,P.query.toCoin);i.value=I,Te.value=I}}},{immediate:!0,deep:!0});const K=b("--"),k=L(()=>M.value.slippage),W=b(),ke=async()=>{if(!R.value&&!S.value)return!1;if(!m.value&&!f.value&&!R.value&&!S.value)return;const o=g.value||{};if(Ge(o))return;const{TickUtil:y,TickMath:I,getNearestTickByTick:Q}=p.value,V=o==null?void 0:o.token_a.decimals,le=o==null?void 0:o.token_b.decimals;let z,G,X,B,$,re,Z=o.current_tick_index,ce;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===i.value.address.toLowerCase()?ce=!0:ce=!1,R.value==="0"&&S.value==="∞")X=y.getMinIndex(Number(o.tickSpacing)),B=y.getMaxIndex(Number(o.tickSpacing));else{ce?(z=Number(R.value),G=Number(S.value)):(z=new q(1).div(S.value).toString(),G=new q(1).div(R.value).toString());try{$=z==0?-443636:I.priceToTickIndex(new q(z),V,le)}catch{$=-443636}try{re=I.priceToTickIndex(new q(G),V,le)}catch{re=443636}X=Q($,Number(o.tickSpacing)),B=Q(re,Number(o.tickSpacing))}if(S.value!=="∞"&&X>=B){be.value=!0,m.value="",he.value=!0,f.value="";return}if(Z==B||Z==X){be.value=!0,he.value=!0;return}if(S.value==="∞"||Z>=X&&Z<=B){be.value=!1,he.value=!1;let Ce;if(m.value||f.value){if(ne.value){const je=new q(m.value).mul(Math.pow(10,s.value.decimals)).toString();Ce=new Ye(je)}else{const je=new q(f.value).mul(Math.pow(10,i.value.decimals)).toString();Ce=new Ye(je)}const{liquidityAmount:de,tokenMaxA:ue,tokenMaxB:me,tokenMaxAOrigin:Oe,tokenMaxBOrigin:He}=p.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:X,upperTick:B,coinAmount:Ce,iscoinA:ce?ne.value:!ne.value,roundUp:!0,slippage:Number(k.value)/100,curSqrtPrice:new Ye(o.current_sqrt_price)});W.value={liquidityAmount:de,tokenMaxA:ue,tokenMaxB:me,tokenMaxAOrigin:Oe,tokenMaxBOrigin:He},ce?ne.value?f.value=Number(me)>0?me:"":m.value=Number(ue)>0?ue:"":ne.value?f.value=ue:m.value=me}}else Z>B?(be.value=!0,he.value=!0):Z<X?(be.value=!0,he.value=!0):(be.value=!0,m.value="",he.value=!0,f.value="")};fe(()=>Ie.value,o=>{o&&ke()},{immediate:!0}),fe(m,(o,y)=>{o==""&&ne.value&&(f.value=""),o&&ne.value&&!_.value&&ke()}),fe(f,(o,y)=>{o==""&&!ne.value&&(m.value=""),o&&!ne.value&&!_.value&&ke()}),fe(()=>Ae.value,o=>{ke()},{immediate:!0});const qe=o=>{const y=o.replace(/[^\d.]/g,""),I="$"+Be(y);_.value=!0,K.value=I,o>0?d():(m.value="",f.value="")};fe([R,S],([o,y])=>{Number(o)!==0&&Number(y)!==0&&!_.value?ke():Number(o)!==0&&Number(y)!==0&&_.value?d():ke()},{immediate:!0}),fe(()=>{var o;return(o=g)==null?void 0:o.value},o=>{ke()},{deep:!0});const Le=()=>{const o=se.value&&se.value[s.value.address]&&se.value[s.value.address].price,y=se.value&&se.value[i.value.address]&&se.value[i.value.address].price;if(o&&y){const I=new q(m.value>0?m.value:0).mul(o),Q=new q(f.value>0?f.value:0).mul(y),V=I.add(Q).toNumber();K.value=V>0&&V<.01?"$<0.01":"$"+Be(V,2)}else K.value="--"};fe(()=>[m.value,f.value,_.value],([o,y,I])=>{(o||y)&&!I?Le():(!o||!y)&&!I&&(K.value="--")},{immediate:!0});const se=L(()=>O.value.RATES),Ue=b(),d=async()=>{if(!R.value&&!S.value)return!1;if(!m.value&&!f.value&&!R.value&&!S.value)return;const o=g.value||{};if(Ge(o))return;const{TickUtil:y,TickMath:I,getNearestTickByTick:Q}=p.value,V=o==null?void 0:o.token_a.decimals,le=o==null?void 0:o.token_b.decimals;let z,G,X,B,$,re,Z;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===i.value.address.toLowerCase()?Z=!0:Z=!1,R.value==="0"&&S.value==="∞")X=y.getMinIndex(Number(o.tickSpacing)),B=y.getMaxIndex(Number(o.tickSpacing));else{Z?(z=Number(R.value),G=Number(S.value)):(z=new q(1).div(S.value).toString(),G=new q(1).div(R.value).toString());try{$=z==0?-443636:I.priceToTickIndex(new q(z),V,le)}catch{$=-443636}try{re=I.priceToTickIndex(new q(G),V,le)}catch{re=443636}X=Q($,Number(o.tickSpacing)),B=Q(re,Number(o.tickSpacing))}const ce=se.value[o==null?void 0:o.token_a.address].price,Ce=se.value[o==null?void 0:o.token_b.address].price;try{const{amountA:de,amountB:ue,tokenAmountsInfo:me}=await p.value.estCoinAmountsFromTotalAmount({lowerTick:X,upperTick:B,decimalsA:V,decimalsB:le,curSqrtPrice:new Ye(o.current_sqrt_price),totalAmount:K.value,tokenPriceA:ce,tokenPriceB:Ce});Ue.value=me,o.needReverse?A.value?(m.value=de,f.value=ue):(m.value=ue,f.value=de):(m.value=de,f.value=ue)}catch(de){console.log(de,"e===>")}},l=L(()=>{var I,Q,V,le,z,G;const o=(V=se.value[(Q=(I=s)==null?void 0:I.value)==null?void 0:Q.address])==null?void 0:V.price,y=(G=se.value[(z=(le=i)==null?void 0:le.value)==null?void 0:z.address])==null?void 0:G.price;return!!(o&&y)}),T=()=>{r.emit("toggle")},te=b(!1),ae=L(()=>{var o;return!s.value||!i.value?F("modal.selectTokenModalTitle"):!((o=P.query)!=null&&o.fee)&&Rt[D.value].hasCreatePool?"Select fee tier":!Number(m.value)&&!Number(f.value)?F("button.enterAmount"):Number(m.value)>Number(ve.value)?F("button.insufficientBalance",{name:s.value.symbol}):Number(f.value)>Number(pe.value)?F("button.insufficientBalance",{name:i.value.symbol}):S.value!=="∞"&&Number(R.value)>=Number(S.value)?F("newAdd.invalidRange"):F("newAdd.preview")}),Y=o=>{const y=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,2})?).*$");o.target.value=o.target.value.replace(y,"$1")},t=L(()=>{var o;return!!(!m.value&&!f.value||Number(m.value)>Number(ve.value)||Number(f.value)>Number(pe.value)||ae.value!==F("newAdd.preview")||!g.value&&!((o=g.value)!=null&&o.currentPrice)||Number(m.value)<=0&&Number(f.value)<=0||be.value||he.value)}),{setTransactionTxid:n,setTransactionDesc:u,setIsShowWaiting:w,setIsShowSuccess:C,setIsShowRejected:N,setPositiomNum:ie}=E,_e=()=>{D.value=="Sui"&&Me()},{$notify:ye}=ft(),J=b(!1),Me=async()=>{var ce,Ce,de,ue,me,Oe,He,je,vo,po,mo,fo,go,ko,Co,bo,ho,_o,yo,So,To,wo,Po,Ao,No,qo,$o,Ro,Lo,Io,Bo,Fo,Uo,Mo,Oo,Do,Vo,jo,Eo,Wo,zo,Xo,Go,Ho,Ko,Yo,Jo,Qo,Zo,xo,et,ot,tt,at;te.value=!1;let o=!1;p.value.getIsSortedSymbols(Se.value.address,Te.value.address)&&(o=!0),n("");const y=be.value?"":`${m.value} ${(ce=s.value)==null?void 0:ce.symbol}`,I=he.value?"":`${f.value} ${(Ce=i.value)==null?void 0:Ce.symbol}`;u(F("tips.increaseLiquiditySuccess",{from:!o&&!((ue=(de=g)==null?void 0:de.value)!=null&&ue.needReverse)||o&&((Oe=(me=g)==null?void 0:me.value)!=null&&Oe.needReverse)?y:I,and:!be.value&&!he.value?"and":"",to:!o&&!((je=(He=g)==null?void 0:He.value)!=null&&je.needReverse)||o&&((po=(vo=g)==null?void 0:vo.value)!=null&&po.needReverse)?I:y})),w(!0);let Q="",V="",le="",z="",G="",X="",B=0,$=0,re=!1,Z;if(o||(fo=(mo=g)==null?void 0:mo.value)!=null&&fo.needReverse){const $e=o&&!((ko=(go=g)==null?void 0:go.value)!=null&&ko.needReverse);Q=$e?(So=(yo=(_o=g)==null?void 0:_o.value)==null?void 0:yo.token_b)==null?void 0:So.address:(ho=(bo=(Co=g)==null?void 0:Co.value)==null?void 0:bo.token_a)==null?void 0:ho.address,V=$e?(qo=(No=(Ao=g)==null?void 0:Ao.value)==null?void 0:No.token_a)==null?void 0:qo.address:(Po=(wo=(To=g)==null?void 0:To.value)==null?void 0:wo.token_b)==null?void 0:Po.address,le=$e?(Fo=(Bo=(Io=g)==null?void 0:Io.value)==null?void 0:Bo.token_b)==null?void 0:Fo.decimals:(Lo=(Ro=($o=g)==null?void 0:$o.value)==null?void 0:Ro.token_a)==null?void 0:Lo.decimals,z=$e?(jo=(Vo=(Do=g)==null?void 0:Do.value)==null?void 0:Vo.token_a)==null?void 0:jo.decimals:(Oo=(Mo=(Uo=g)==null?void 0:Uo.value)==null?void 0:Mo.token_b)==null?void 0:Oo.decimals,(Wo=(Eo=g)==null?void 0:Eo.value)!=null&&Wo.needReverse?(G=A.value?m.value:f.value,X=A.value?f.value:m.value,B=A.value?Number(R.value):1/Number(S.value),$=A.value?Number(S.value):1/Number(R.value),re=A.value?ne.value:!ne.value,Z=A.value?Ne.value:1/Number(Ne.value)):(G=A.value?f.value:m.value,X=A.value?m.value:f.value,B=A.value?1/Number(S.value):Number(R.value),$=A.value?1/Number(R.value):Number(S.value),re=A.value?!ne.value:ne.value,Z=A.value?1/Number(Ne.value):Ne.value)}else Q=(Go=(Xo=(zo=g)==null?void 0:zo.value)==null?void 0:Xo.token_a)==null?void 0:Go.address,V=(Yo=(Ko=(Ho=g)==null?void 0:Ho.value)==null?void 0:Ko.token_b)==null?void 0:Yo.address,le=(Zo=(Qo=(Jo=g)==null?void 0:Jo.value)==null?void 0:Qo.token_a)==null?void 0:Zo.decimals,z=(ot=(et=(xo=g)==null?void 0:xo.value)==null?void 0:et.token_b)==null?void 0:ot.decimals,G=A.value?m.value:f.value,X=A.value?f.value:m.value,B=A.value?Number(R.value):1/Number(S.value),$=A.value?Number(S.value):1/Number(R.value),re=A.value?ne.value:!ne.value,Z=A.value?Ne.value:1/Number(Ne.value);try{console.log("0501###toCreatePool###params###",{coinTypeA:Q,coinTypeB:V,decimalsA:le,decimalsB:z,amountA:G,amountB:X,minPrice:B,maxPrice:$,fix_amount_a:re,tick_spacing:Number(g.value.tickSpacing),slippage:Number(k.value)/100,price:Z});const $e=await p.value.getCreatPoolTransactionPayload({coinTypeA:Q,coinTypeB:V,decimalsA:le,decimalsB:z,amountA:G,amountB:X,minPrice:R.value=="0"&&S.value=="∞"?"0":B,maxPrice:R.value=="0"&&S.value=="∞"?"∞":$,fix_amount_a:re,tick_spacing:Number(g.value.tickSpacing),slippage:Number(k.value)/100,price:Z}),vt=await p.value.signAndExecuteTransactionBlock(c.value.currentWallet,$e),ze=p.value.handleTx(vt);if(ze&&ze.hash){n(ze.hash),w(!1),C(!0);const eo={title:"Created pool",desc:"Pool created successfully ",hash:ze.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(tt=s.value)==null?void 0:tt.address}`,numa:be.value?"":`- ${m.value}`,logoa:O.value.tokensObj&&s.value&&s.value.address&&O.value.tokensObj[s.value.address]&&O.value.tokensObj[s.value.address].logoURI,tokenb:`${(at=i.value)==null?void 0:at.address}`,numb:he.value?"":`- ${f.value}`,logob:O.value.tokensObj&&i.value&&i.value.address&&O.value.tokensObj[i.value.address]&&O.value.tokensObj[i.value.address].logoURI},text:"Pool created successfully"};D.value!=="Aptos"&&(eo.res=ze.res),p.value.showTransitionPending(eo),(await p.value.watchTransaction(eo,!0)).status&&(C(!1),J.value=!0,setTimeout(()=>{h.setPoolConfigList(D.value,M.value.filterCoinsObj),p.value.getAccount(c.value.address)},1e3)),ie()}else w(!1),N(!0);m.value="",f.value=""}catch($e){console.log("0407###createPool###error##",String($e)),String($e).indexOf('Some("create_pool_internal") }, 1')>-1&&ye.error({icon:Ke("svg",{class:{icon:!0},"aria-hidden":!0},[Ke("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:Ke("div",{class:"notification-title"},[Ke("span",{innerHTML:"Pool already exists"},null)]),duration:4.5,description:"Something went wrong",class:"ant-notification-copy ant-notification-error"}),te.value=!1,h.setPoolConfigList(D.value,M.value.filterCoinsObj),m.value="",f.value="",w(!1),N(!0)}};return{isInputActive:b(!1),amountLock:De,wallet:c,inputChange:Y,fromCoinAmount:m,toCoinAmount:f,fromCoin:s,toCoin:i,showFromCoinLock:be,showToCoinLock:he,fromCoinBlance:ve,toCoinBlance:pe,fixedFromCoin:ne,isInputTotalAmount:_,toggle:T,theme:ge,liquidityTotalAmount:K,createPoolInfo:g,minPrice:R,maxPrice:S,currentPriceReverse:lo,currentPrice:Ne,onInput:qe,initPrice:Ie,isShowtotalAmount:l,direction:A,isShowLiquidityModal:te,createPoolBtnText:ae,createPoolBtnDisabled:t,toCreatePool:_e,isCreateSuccess:J}}});const co=e=>(no("data-v-4bcc029e"),e=e(),so(),e),Wt={class:"create-pool-right"},zt={key:0,class:"create-pool-lock"},Xt=co(()=>a("img",{class:"lock",src:Ut,alt:""},null,-1)),Gt=[Xt],Ht=co(()=>a("div",{class:"exchange-new"},[a("svg",{class:"icon icon-down","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_add1"})])],-1)),Kt=[Ht],Yt={key:1,class:"total-amount"},Jt=co(()=>a("span",null,"Total Amount",-1));function Qt(e,r,j,E,M,D){const c=we("NewLiquidityTile"),_=we("TokenInputBlock"),P=we("SuiLiquidityDepositRatio"),F=we("SuiAddOrCreate"),v=gt,p=yt;return U(),H("div",Wt,[x(c),e.amountLock||e.showFromCoinLock||e.showToCoinLock?(U(),H("div",zt,Gt)):ee("",!0),a("div",{class:Re(["card-container",e.isInputActive?e.fixedFromCoin?"input-block-add-top":"input-block-add-bottom":"input-block-add-top input-block-inactive"])},[x(_,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":r[0]||(r[0]=h=>e.fromCoinAmount=h),"input-value":e.fromCoinAmount,"token-info":e.fromCoin||null,"has-arrow":!1,onOnInput:r[1]||(r[1]=h=>{e.isInputActive=!0,e.fromCoinAmount=h,e.fixedFromCoin=!0,e.isInputTotalAmount=!1}),onOnFocus:r[2]||(r[2]=()=>{e.isInputActive=!0,e.fixedFromCoin=!0}),onOnBlur:r[3]||(r[3]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),x(_,{modelValue:e.toCoinAmount,"onUpdate:modelValue":r[4]||(r[4]=h=>e.toCoinAmount=h),"input-value":e.toCoinAmount,"token-info":e.toCoin||null,"has-arrow":!1,onOnInput:r[5]||(r[5]=h=>{e.isInputActive=!0,e.toCoinAmount=h,e.fixedFromCoin=!1,e.isInputTotalAmount=!1}),onOnFocus:r[6]||(r[6]=()=>{e.isInputActive=!0,e.fixedFromCoin=!1}),onOnBlur:r[7]||(r[7]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock?(U(),H("div",{key:0,class:"new-sui-exchange to-add-logo",onClick:r[8]||(r[8]=(...h)=>e.toggle&&e.toggle(...h))},Kt)):ee("",!0)],2),e.isShowtotalAmount?(U(),H("div",Yt,[Jt,a("span",null,Pe(e.liquidityTotalAmount),1)])):ee("",!0),e.initPrice?(U(),Ve(P,{key:2,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.custom,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"])):ee("",!0),e.isShowLiquidityModal?(U(),Ve(F,{key:3,"pool-info":e.createPoolInfo,title:e.$t("newAdd.preview"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":"custom","min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,"is-create":!0,onCreatePool:e.toCreatePool,onOnClose:r[9]||(r[9]=h=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onCreatePool"])):ee("",!0),e.wallet.connected?(U(),Ve(v,{key:5,class:"add-liquidity-btn",disabled:e.wallet.connected?e.createPoolBtnDisabled:!1,onClick:r[11]||(r[11]=h=>e.isShowLiquidityModal=!0)},{default:lt(()=>[Xe(Pe(e.createPoolBtnText),1)]),_:1},8,["disabled"])):(U(),Ve(v,{key:4,class:"add-liquidity-btn",onClick:r[10]||(r[10]=h=>e.wallet.setIsShowWalletModal(!0))},{default:lt(()=>[Xe(Pe(e.$t("button.connectWallet")),1)]),_:1})),e.isCreateSuccess?(U(),Ve(p,{key:6,onOnClose:r[12]||(r[12]=h=>e.isCreateSuccess=!1)})):ee("",!0)])}const Zt=Ze(Et,[["render",Qt],["__scopeId","data-v-4bcc029e"]]),xt=Je({setup(){const{t:e,locale:r}=rt(),j=io(),E=b(!1),M=ro(),D=xe(),c=Qe(),_=b(null),P=b(c.query.poolAddress),F=b(""),v=L(()=>D),p=L(()=>D.theme),h=L(()=>M),O=L(()=>v.value.chainName),ge=L(()=>O.value?uo(O.value):null),ve=L(()=>[{label:.01+"% "+e("common.feeTier"),title:.01+"% ",fee:1e-4,text:e("newAdd.bestVeryStablePairs")},{label:.05+"% "+e("common.feeTier"),title:.05+"% ",fee:5e-4,text:e("newAdd.bestStablePairs")},{label:.25+"% "+e("common.feeTier"),title:.25+"% ",fee:.0025,text:e("newAdd.bestMostPairs")},{label:"1% "+e("common.feeTier"),title:"1% ",fee:.01,text:e("newAdd.besteExoticPairs")}]),pe=L(()=>{if(h.value.poolConfigList&&s.value&&i.value){const d=h.value.poolConfigList.filter(T=>{var te,ae,Y,t;return T.token_a.address.toUpperCase()===((te=s.value.address)==null?void 0:te.toUpperCase())&&T.token_b.address.toUpperCase()===((ae=i.value.address)==null?void 0:ae.toUpperCase())||T.token_b.address.toUpperCase()===((Y=s.value.address)==null?void 0:Y.toUpperCase())&&T.token_a.address.toUpperCase()===((t=i.value.address)==null?void 0:t.toUpperCase())}),l=[];return d.forEach(T=>{l.push(Number(T.fee))}),l}else return[]}),K=d=>{const l={};let T=new q(0);d.forEach(n=>{var w;const u=(w=n==null?void 0:n.object)==null?void 0:w.liquidity;T=T.add(new q(u||0))});const te=[];let ae=new q(0);d.forEach(n=>{var ie;const u=new q(((ie=n==null?void 0:n.object)==null?void 0:ie.liquidity)||0),w=u.gt(0)?new q(u||0).div(T).mul(100).toString():0,C=oo(w,2);ae=ae.plus(C);const N=C.split(".");te.push({value:C,int:N[0],decimal:N[1],fee:n.fee})});let Y=new q(100).minus(ae).toNumber();const t=te.sort((n,u)=>Number(u.decimal)-Number(n.decimal));if(Y)for(let n=0;n<t.length&&Y;n++)t[n].value=new q(t[n].value).plus(.01).toString(),Y=new q(Y).minus(.01).toNumber();return d.forEach(n=>{var w;const u=(w=t.find(C=>n.fee===C.fee))==null?void 0:w.value;l[n.fee]={rateText:(u>0&&u<.01?"<0.01":u==0?0:oo(u,2))+"% select",rate:u}}),l},k=L(()=>{if(h.value.poolConfigList&&s.value&&i.value){const d=h.value.poolConfigList.filter(T=>{var te,ae,Y,t;return T.token_a.address.toUpperCase()===((te=s.value.address)==null?void 0:te.toUpperCase())&&T.token_b.address.toUpperCase()===((ae=i.value.address)==null?void 0:ae.toUpperCase())||T.token_b.address.toUpperCase()===((Y=s.value.address)==null?void 0:Y.toUpperCase())&&T.token_a.address.toUpperCase()===((t=i.value.address)==null?void 0:t.toUpperCase())});return K(d)}else return""}),W=L(()=>{var d;return(d=v.value)==null?void 0:d.filterCreatePoolCoin});kt(()=>{document.addEventListener("click",()=>{E.value=!1})}),ut(()=>{document.removeEventListener("click",()=>{E.value=!1})}),fe(()=>[j,h.value.tokensObj],async([d,l])=>{var T;d&&(((T=j==null?void 0:j.currentRoute)==null?void 0:T.value.name)=="liquidity-create"||c.query.action=="newposition")&&l&&(s.value||(s.value=h.value.tokensObj[c.query.fromCoin]||await ge.value.getTokenBySymbol(l,c.query.fromCoin)),i.value||(i.value=h.value.tokensObj[c.query.toCoin]||await ge.value.getTokenBySymbol(l,c.query.toCoin)),Fe.value=c.query.fee!=="null"&&c.query.fee?c.query.fee:"")},{immediate:!0,deep:!0});const ke=()=>{var T,te,ae,Y,t,n,u,w,C,N,ie,_e;let d=null;const l=h.value.poolConfigList;for(let ye=0;ye<l.length;ye++){const J=l[ye];if(J.token_a.address.toUpperCase()===((ae=(te=(T=s)==null?void 0:T.value)==null?void 0:te.address)==null?void 0:ae.toUpperCase())&&J.token_b.address.toUpperCase()===((n=(t=(Y=i)==null?void 0:Y.value)==null?void 0:t.address)==null?void 0:n.toUpperCase())||J.token_b.address.toUpperCase()===((C=(w=(u=s)==null?void 0:u.value)==null?void 0:w.address)==null?void 0:C.toUpperCase())&&J.token_a.address.toUpperCase()===((_e=(ie=(N=i)==null?void 0:N.value)==null?void 0:ie.address)==null?void 0:_e.toUpperCase())){d=J;break}}return d},qe=d=>{var T;console.log("🚀 ~ selectFee ~ item:",d);const l=ke();if(l&&(Se.value=l.needReverse?l==null?void 0:l.token_b:l==null?void 0:l.token_a,Te.value=l.needReverse?l==null?void 0:l.token_a:l==null?void 0:l.token_b,s.value=l.needReverse?l==null?void 0:l.token_b:l==null?void 0:l.token_a,i.value=l.needReverse?l==null?void 0:l.token_a:l==null?void 0:l.token_b,A.value=s.value.address===((T=l==null?void 0:l.token_a)==null?void 0:T.address)),!pe.value.includes(d.fee))if(!W.value[s.value.address]&&!W.value[i.value.address]){console.log("🚀 ~ selectFee ~ filterCreatePoolCoin:",W);return}else _.value=d,Fe.value=d.fee,console.log("🚀 ~ selectFee ~ feeValue.value:",Fe.value),E.value=!1},Le=b("--");return{currentPriceReverse:b("--"),Decimal:q,chainName:O,currentPrice:Le,creatFeeItem:_,feeValue:Fe,checkNullObj:Ge,poolTvl:k,isShowFeeList:E,filterCreatePoolCoin:W,route:c,selectFee:qe,isCreatePool:pe,feeTierList:ve,currentToken:F,fromCoin:s,toCoin:i,getCoinIcon:d=>{var l,T;return(d==null?void 0:d.logoURI)||(d==null?void 0:d.logo_url)||((T=(l=h.value.tokensObj)==null?void 0:l[d==null?void 0:d.address])==null?void 0:T.logo_url)||(v.value.theme==="default"?Ee("/image/coins/unknown.png"):Ee("/image/coins/sui-unknown.png"))},currentPoolAddress:P,store:v,t:e,router:j,addCommom:Be,theme:p,pools:h,sFixD:oo}}});const dt=e=>(no("data-v-6c84b5ab"),e=e(),so(),e),ea={class:"fee-tier"},oa=dt(()=>a("svg",{class:"icon edit-fee-icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_arrow"})],-1)),ta={key:0,class:"fee-tier-box"},aa=["onClick"],la={key:0,class:"text-active"},na={key:1},sa={key:0,class:"icon fee-disabled","aria-hidden":"true"},ia=dt(()=>a("use",{"xlink:href":"#icon-icon-disable"},null,-1)),ra=[ia];function ua(e,r,j,E,M,D){return U(),H("div",ea,[a("div",{class:Re(["fee-text",[{"fee-tier-action":e.fromCoin&&e.toCoin},{"no-cursor":!e.fromCoin||!e.toCoin}]]),onClick:r[0]||(r[0]=nt(c=>!e.fromCoin||!e.toCoin?"":e.isShowFeeList=!e.isShowFeeList,["stop"]))},[a("p",null,Pe(e.feeValue?e.feeValue*100:"--")+"%",1),oa],2),e.isShowFeeList?(U(),H("div",ta,[(U(!0),H(ct,null,Ct(e.feeTierList,(c,_)=>{var P,F,v;return U(),H("div",{key:_,class:Re(["fee-item",[e.feeValue==c.fee?"fee-item-active":"",e.isCreatePool.includes(c.fee)?" pool-created":" pool-not-created"]]),onClick:nt(p=>e.selectFee(c),["stop"])},[a("p",{class:Re(e.isCreatePool&&e.isCreatePool.includes(c.fee)?"text-active":"text-default")},Pe(c.title),3),a("div",null,[e.isCreatePool&&e.isCreatePool.includes(c.fee)?(U(),H("p",la,Pe(e.poolTvl&&e.poolTvl[c.fee]&&((P=e.poolTvl[c.fee])==null?void 0:P.rateText)),1)):ee("",!0),e.isCreatePool&&!e.isCreatePool.includes(c.fee)?(U(),H("p",na,[Xe(Pe(e.$t("newAdd.notCreated"))+" ",1),!e.isCreatePool.includes(c.fee)&&!e.filterCreatePoolCoin[(F=e.fromCoin)==null?void 0:F.address]&&!e.filterCreatePoolCoin[(v=e.toCoin)==null?void 0:v.address]?(U(),H("svg",sa,ra)):ee("",!0)])):ee("",!0),a("span",null,Pe(c.text),1)])],10,aa)}),128))])):ee("",!0)])}const ca=Ze(xt,[["render",ua],["__scopeId","data-v-6c84b5ab"]]),da=Je({components:{TokenDropdownSelect:Vt},setup(e,r){const j=xe(),E=L(()=>j),M=Qe(),D=b(!1),c=b("coinA"),_=b(!1),P=b(!1),F=io(),v=b(),p=b(),h=b(!1);let O=b(!0);const ge=(k,W)=>{var se,Ue,d,l;console.log("🚀🚀🚀 ~ file: liquidity.vue:919 ~ getTokenSource ~ token:",k);const ke=localStorage.getItem(k==null?void 0:k.address),qe=E.value.importTokenListObj,Le=k==null?void 0:k.isSelfBuilt;(O.value?Le&&!ke:Le&&!(qe!=null&&qe.hasOwnProperty(k==null?void 0:k.address)))&&(W=="fromCoin"&&(v.value=k),W=="toCoin"&&(p.value=k),console.log("🚀🚀🚀 ~ file: liquidity.vue:919 ~ getTokenSource ~ warningFromCoin.value:",v.value),console.log("🚀🚀🚀 ~ file: liquidity.vue:922 ~ getTokenSource ~ warningToCoin.value:",p.value),((se=v==null?void 0:v.value)==null?void 0:se.address)==((Ue=p==null?void 0:p.value)==null?void 0:Ue.address)&&(p.value={}),((d=v==null?void 0:v.value)!=null&&d.address||(l=p==null?void 0:p.value)!=null&&l.address)&&(h.value=!0))};return fe(()=>[s.value,i.value],([k,W])=>{O.value&&(k&&!Ge(k)&&ge(k,"fromCoin"),W&&!Ge(W)&&ge(W,"toCoin"))},{immediate:!0}),{onCoinSelect:k=>{Fe.value="",O.value=!1,v.value={},p.value={},c.value=="coinA"?(s.value=k,ge(k,"fromCoin"),(i.value&&i.value.address)==k.address&&(i.value=null)):(i.value=k,ge(k,"toCoin"),(s.value&&s.value.address)==k.address&&(s.value=null))},selectToken:k=>{c.value=k,k=="coinA"&&(M.name=="liquidity-create"||!g.value)?(D.value=!0,_.value=!1):k=="coinB"&&(M.name=="liquidity-create"||!g.value)?(D.value=!1,_.value=!0):(k=="coinA"&&M.name=="liquidity-deposit"||k=="coinB"&&M.name=="liquidity-deposit")&&(D.value=!1,_.value=!1),P.value=!0},isCreatePoolFromCoin:D,isCreatePoolToCoin:_,showCoinSelect:P,firstWarning:O,closeTokenWarning:()=>{F.push("/pool/list")},fromCoin:s,toCoin:i,currentToken:c,warningFromCoin:v,warningToCoin:p}}});const va={class:"select-token-box"};function pa(e,r,j,E,M,D){const c=we("TokenDropdownSelect"),_=Ot,P=Dt;return U(),H(ct,null,[a("div",va,[x(c,{"token-info":e.fromCoin,"has-opcity":!0,"coin-size":"32px","is-loading":!1,onOnSelect:r[0]||(r[0]=F=>e.selectToken("coinA"))},null,8,["token-info"]),x(c,{"token-info":e.toCoin,"has-opcity":!0,"coin-size":"32px","is-loading":!1,onOnSelect:r[1]||(r[1]=F=>e.selectToken("coinB"))},null,8,["token-info"])]),e.showCoinSelect?(U(),Ve(_,{key:0,"existing-coins":e.currentToken=="coinA"?e.fromCoin&&e.fromCoin.address:e.toCoin&&e.toCoin.address,"last-select-coin":e.currentToken=="coinA"?e.fromCoin&&e.fromCoin.address:e.toCoin&&e.toCoin.address,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,"have-import-btn":!0,onOnSelect:e.onCoinSelect,onOnClose:r[2]||(r[2]=F=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):ee("",!0),e.isShowTokenWarning?(U(),Ve(P,{key:1,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,"is-import-modal":!0,onClose:e.closeTokenWarning,onClickContinue:r[3]||(r[3]=()=>{e.isShowTokenWarning=!1,e.warningFromCoin="",e.warningToCoin=""})},null,8,["from-coin","to-coin","onClose"])):ee("",!0)],64)}const ma=Ze(da,[["render",pa],["__scopeId","data-v-b798e496"]]),fa=Je({components:{CreatePoolRight:Zt,RectangleTab:Nt,IconTooltip:Mt,SuiLiquidityPrice:qt,FeeTierBlock:ca,SelectTokenBlock:ma},setup(e,r){var Y;const j=b(!0),E=b(!0),M=b(!0),D=b(!0),c=b(!1),_=b("1"),P=b(!0),F=b(""),v=Qe(),p=io(),h=xe(),O=L(()=>h),ge=ro(),ve=L(()=>ge),pe=L(()=>O.value.chainName),K=L(()=>pe.value?uo(pe.value):{});fe(()=>[p,ve.value.tokensObj],async([t,n])=>{var u,w,C;((u=p==null?void 0:p.currentRoute)==null?void 0:u.value.name)=="liquidity-create"&&n&&(s.value=ve.value.tokensObj[v.query.fromCoin]||await K.value.getTokenBySymbol(n,v.query.fromCoin),i.value=ve.value.tokensObj[v.query.toCoin]||await K.value.getTokenBySymbol(n,v.query.toCoin),Fe.value=v.query.fee!=="null"&&v.query.fee?v.query.fee:""),((w=p==null?void 0:p.currentRoute)==null?void 0:w.value.name)=="liquidity-create"&&((C=v==null?void 0:v.query)!=null&&C.fee)&&(Ie.value="",m.value="",f.value="",Ae.value=!0)},{immediate:!0,deep:!0}),fe(()=>[s.value,i.value,Ie.value,Fe.value,R.value,S.value,m.value,f.value],([t,n,u,w,C,N,ie])=>{console.log("🚀 ~ setup ~ fee:",t,n,u,w,C,N,ie),!t||!n?(_.value="1",j.value=!0,E.value=!0,M.value=!0,De.value=!0):w?u?!C||!N?(_.value="4",j.value=!1,E.value=!1,M.value=!1,De.value=!0):ie||(_.value="5",j.value=!1,E.value=!1,M.value=!1,De.value=!1):(_.value="3",j.value=!1,E.value=!1,M.value=!0,De.value=!0):(_.value="2",j.value=!1,E.value=!0,M.value=!0,De.value=!0)},{immediate:!0}),fe(()=>_.value,t=>{Number(t)<5&&(m.value="",f.value="")});const k=t=>{var n;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((n=ve.value.tokensObj[t==null?void 0:t.address])==null?void 0:n.logo_url)||(O.value.theme==="default"?Ee("/image/coins/unknown.png"):Ee("/image/coins/sui-unknown.png"))},W=async t=>{var _e,ye,J,Me,We,o,y,I,Q,V,le,z,G,X;console.log("#####emitCurrentPrice",t),t?(Ie.value=t,Ne.value=t,lo.value=new q(1).div(new q(t)).toString()):(Ie.value="",Ne.value="",lo.value="");let n,u;const w=ve.value.poolConfigList;for(let B=0;B<w.length;B++){const $=w[B];if($.token_a.address.toUpperCase()===((J=(ye=(_e=Se)==null?void 0:_e.value)==null?void 0:ye.address)==null?void 0:J.toUpperCase())&&$.token_b.address.toUpperCase()===((o=(We=(Me=Te)==null?void 0:Me.value)==null?void 0:We.address)==null?void 0:o.toUpperCase())){n=$.needReverse,u=$;break}else if($.token_b.address.toUpperCase()===((Q=(I=(y=Se)==null?void 0:y.value)==null?void 0:I.address)==null?void 0:Q.toUpperCase())&&$.token_a.address.toUpperCase()===((z=(le=(V=Te)==null?void 0:V.value)==null?void 0:le.address)==null?void 0:z.toUpperCase())){n=$.needReverse,u=$;break}}let C=!1;await K.value.getIsSortedSymbols((G=Se.value)==null?void 0:G.address,(X=Te.value)==null?void 0:X.address)&&(C=!0);let N;console.log(C,"###changeCurrentPrice createPoolNeedReverse 289"),console.log(A.value,"####changeCurrentPrice direction.value 290"),C&&!A.value?N=!0:C&&A.value||!C&&A.value?N=!1:N=!0,console.log(N,"###changeCurrentPrice newDirect 298");const ie=pe.value=="Aptos"?St:Tt;if(s.value&&i.value&&t){const B=u?u==null?void 0:u.token_a.decimals:C?Te.value.decimals:Se.value.decimals,$=u?u==null?void 0:u.token_b.decimals:C?Se.value.decimals:Te.value.decimals,re=t&&K.value.TickMath.priceToSqrtPriceX64(N?new q(1/t):new q(t),B,$);console.log(re.toString(),"===>current_sqrt_price"),console.log(t&&t>0,"## emitCurrentPrice &&emitCurrentPrice>0");const Z=t&&t>0&&K.value.TickMath.priceToSqrtPriceX64(new q(1).div(t),s.value.decimals,i.value.decimals);console.log(!N,t,"===>!newDirect"),console.log(B,$,"decimalsA,decimalsB===>");const ce=t&&t>0&&K.value.TickMath.priceToTickIndex(N?new q(1).div(t):new q(t),B,$);console.log(ce,"==>currentTickIndex");const Ce=ce-ie[v.query.fee]*5,de=ce+ie[v.query.fee]*5,ue=K.value.TickMath.tickIndexToPrice(Ce,B,$).toString(),me=K.value.TickMath.tickIndexToPrice(de,B,$).toString();Ae.value?(R.value="0",S.value="∞"):N?(R.value=String(1/me),S.value=String(1/ue),to.value=String(1/me),ao.value=String(1/ue)):(R.value=ue,S.value=me,to.value=ue,ao.value=me),console.log("0518###c####createPoolFromCoin.value####",Se.value),console.log("0518###c####createPoolToCoin.value####",Te.value),console.log("0518###c####createPoolNeedReverse####",C);const Oe={token_a:u?u.token_a:C?Te.value:Se.value,token_b:u?u.token_b:C?Se.value:Te.value,isCreate:!0,tickSpacing:ie[v.query.fee],currentPrice:t,current_sqrt_price:re,tick_lower:Ce,tick_upper:de,current_tick_index:ce,currentPriceReverse:Lt(String(1/t),6),reverse_current_sqrt_price:Z,needReverse:n,fee:v.query.fee};g.value=Oe,console.log("0518###c####poolInfos####",Oe)}else g.value=null,R.value="",S.value=""},ke=()=>{Ae.value=!Ae.value,W(g.value.currentPrice)},qe=t=>{console.log(t,"####0731 priceRangeChangeMin"),Ae.value?(Ae.value=!1,W(g.value.currentPrice)):R.value=t},Le=t=>{Ae.value?(Ae.value=!1,W(g.value.currentPrice)):t=="0"?S.value="∞":S.value=t},se=()=>{var n,u;console.log(g.value,"==>createPoolInfo.value"),A.value=!A.value;const t=s.value;s.value=i.value,i.value=t,g.value&&(W(It(new q(1).div(g.value.currentPrice).toString(),(u=(n=i)==null?void 0:n.value)==null?void 0:u.decimals)),ne.value?m.value=f.value:f.value=m.value),console.log(A.value,"####toggle direction.value")};ut(()=>{Bt()});const Ue=jt(t=>{console.log("🚀 ~ file: create.vue:514 ~ updateDebouncedValue ~ value:",t),W(t)},500),d=b(""),l=t=>{const n=A.value?i.value.decimals:s.value.decimals,u=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${n}})?).*$`),w=t.target.value.replace(/,/g,"").replace(u,"$1");Ue(w)},T=t=>{var Me;const n=t.target.selectionStart,u=A.value?i.value.decimals:s.value.decimals,w=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${u}})?).*$`);console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",t.target.value);let C=t.target.value.replace(/,/g,"").replace(w,"$1");console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ value:",C);let N=C.includes(".")&&String(Be(C))==="0"?C:String(Be(C));const ie=it(t.target.value),_e=it(N),ye=_e.length-ie.length;let J=n+ye;if((Me=t==null?void 0:t.inputType)!=null&&Me.includes("delete")&&ye>0&&n===_e[_e.length-1]){const We=t.target.value.slice(0,n-1)+t.target.value.slice(n);N=String(Be(We.replace(/,/g,""))),J=J-2}console.log("🚀 ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",N),d.value=N,setTimeout(()=>{t.target.setSelectionRange(J<0?0:J,J<0?0:J)},0)};fe(()=>Ie.value,t=>{console.log("🚀 ~ file: assets-card.vue:287 ~ setup ~ newValue:",t);const n=t!=null&&t.includes(".")&&String(Be(t))==="0"?t:String(Be(t));console.log("🚀 ~ file: assets-card.vue:287 ~ setup ~ fValue:",n),n!==d.value&&(d.value=n)},{immediate:!0});const te=L(()=>{var t,n,u,w,C,N;return[{label:(t=s.value)==null?void 0:t.symbol,value:(n=s.value)==null?void 0:n.address,logo:(u=s.value)==null?void 0:u.logo_url},{label:(w=i.value)==null?void 0:w.symbol,value:(C=i.value)==null?void 0:C.address,logo:(N=i.value)==null?void 0:N.logo_url}]}),ae=b((Y=s.value)==null?void 0:Y.address);return{rectangleTabList:te,currentRectangleTab:ae,amountLock:De,currentStep:_,coinAmount:c,pricerange:F,fromCoin:s,toCoin:i,feeValue:Fe,direct:P,getCoinIcon:k,isSelectFullRange:D,store:O,initPrice:Ie,feeTierLock:j,inputPriceLock:E,specifyPriceLock:M,changeCurrentPrice:W,minPrice:R,maxPrice:S,defaultMinPrice:to,defaultMaxPrice:ao,clickFullRange:ke,createPoolInfo:g,isFullRange:Ae,priceRangeChangeMin:qe,priceRangeChangeMax:Le,fromCoinAmount:m,toggle:se,showFromCoinLock:be,showToCoinLock:he,inputChange:l,currentPrice:Ne,importIcon:Ee,formattedValue:d,handleInput:T}}});const oe=e=>(no("data-v-7563b1bb"),e=e(),so(),e),ga={class:"create-pool-container"},ka={class:"back-box"},Ca={class:"create-pool-top"},ba={class:"progress-text"},ha=oe(()=>a("span",null,"1",-1)),_a=oe(()=>a("div",{class:"text"},"Select Tokens",-1)),ya=[ha,_a],Sa=oe(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Ta=oe(()=>a("span",null,"2",-1)),wa=oe(()=>a("div",{class:"text"},"Select Fee Tier",-1)),Pa=[Ta,wa],Aa=oe(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Na=oe(()=>a("span",null,"3",-1)),qa=oe(()=>a("div",{class:"text"}," Set Initial Price",-1)),$a=[Na,qa],Ra=oe(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),La=oe(()=>a("span",null,"4",-1)),Ia=oe(()=>a("div",{class:"text"},"Select Price Range",-1)),Ba=[La,Ia],Fa=oe(()=>a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_descending_nor"})],-1)),Ua=oe(()=>a("span",null,"5",-1)),Ma=oe(()=>a("div",{class:"text"},"Confirm Liquidity",-1)),Oa=[Ua,Ma],Da={class:"create-pool-bottom"},Va={class:"bottom-left"},ja={class:"item-block select-fee-tier"},Ea=oe(()=>a("div",{class:"title"},[a("div",{class:"left"}," Select Tokens ")],-1)),Wa={class:"content"},za={class:"item-block select-fee-tier"},Xa=oe(()=>a("div",{class:"title"},[a("div",{class:"left"}," Select Fee Tier ")],-1)),Ga={class:"content"},Ha={key:0,class:"lock"},Ka={class:"initial-price-box item-block"},Ya={class:"title"},Ja={class:"left"},Qa={class:"right"},Za={key:0,class:"tab-box"},xa={class:"content"},el={class:"input-div"},ol={key:0,class:"lock"},tl={class:"price-range-box item-block"},al={class:"title"},ll={class:"left"},nl={class:"content"},sl={class:"set-price-box"},il={key:0,class:"lock"},rl={key:1,class:"create-pool-warning"},ul={key:2,class:"position-tips"},cl=["src"],dl={class:"error"},vl={class:"reset-full-range"},pl=oe(()=>a("div",{class:"item",onClick:()=>{}},[a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_refresh"})]),a("span",null,"Reset Range")],-1)),ml=oe(()=>a("span",null,"Full Range",-1)),fl={class:"bottom-right"};function gl(e,r,j,E,M,D){const c=pt,_=we("SelectTokenBlock"),P=we("FeeTierBlock"),F=mt,v=we("IconTooltip"),p=we("RectangleTab"),h=ht,O=we("SuiLiquidityPrice"),ge=_t,ve=we("CreatePoolRight");return U(),H("div",ga,[a("div",ka,[x(c)]),a("div",Ca,[a("div",ba,[a("div",{class:Re(["row",Number(e.currentStep)>=1&&e.fromCoin&&e.toCoin?"color-text":""])},ya,2),Sa,a("div",{class:Re(["row",Number(e.currentStep)>=2&&e.feeValue?"color-text":""])},Pa,2),Aa,a("div",{class:Re(["row",Number(e.currentStep)>=3&&e.initPrice?"color-text":""])},$a,2),Ra,a("div",{class:Re(["row",Number(e.currentStep)>=4&&e.minPrice&&e.maxPrice?"color-text":""])},Ba,2),Fa,a("div",{class:Re(["row",Number(e.currentStep)>=5&&e.fromCoinAmount?"color-text":""])},Oa,2)])]),a("div",Da,[a("div",Va,[a("div",ja,[Ea,a("div",Wa,[x(_)])]),a("div",za,[Xa,a("div",Ga,[x(P),e.feeTierLock?(U(),H("div",Ha,[x(F)])):ee("",!0)])]),a("div",Ka,[a("div",Ya,[a("div",Ja,[Xe(" Set Initial Price "),x(v,{"xlink-href":"#icon-icon_tips",type:"createInitPrice"})]),a("div",Qa,[e.fromCoin&&e.toCoin?(U(),H("div",Za,[x(p,{"current-rectangle-tab":e.currentRectangleTab,"rectangle-tab-list":e.rectangleTabList,onClickTab:r[0]||(r[0]=pe=>{e.toggle()})},null,8,["current-rectangle-tab","rectangle-tab-list"])])):ee("",!0)])]),a("div",xa,[a("div",el,[x(h,{value:e.formattedValue,type:"text",placeholder:"0.0",onChange:e.inputChange,onInput:e.handleInput},null,8,["value","onChange","onInput"]),a("span",null,Pe(e.toCoin&&e.toCoin.symbol)+" per "+Pe(e.fromCoin&&e.fromCoin.symbol),1)]),e.inputPriceLock?(U(),H("div",ol,[x(F)])):ee("",!0)])]),a("div",tl,[a("div",al,[a("div",ll,[Xe(" Set Price Range "),x(v,{"xlink-href":"#icon-icon_tips",type:"createPriceRange"})])]),a("div",nl,[a("div",sl,[x(O,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.createPoolInfo,loading:!1,"current-price-tab":"custom",onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","onOnChangeMinPrice","onOnChangeMaxPrice"])]),e.specifyPriceLock?(U(),H("div",il,[x(F)])):ee("",!0),Number(e.currentStep)>=4&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(U(),H("div",rl," To create a new pool, the initial price you set must be within your price range. ")):ee("",!0),Number(e.currentStep)>=4&&Number(e.minPrice)>Number(e.maxPrice)?(U(),H("div",ul,[a("img",{src:("importIcon"in e?e.importIcon:bt(Ee))("/image/icon-tips-error@2x.png"),alt:""},null,8,cl),a("p",dl,Pe(e.$t("tips.positionError")),1)])):ee("",!0),a("div",vl,[pl,a("div",{class:"plus-switch plus-liquidity-switch item",onClick:r[1]||(r[1]=(...pe)=>e.clickFullRange&&e.clickFullRange(...pe))},[ml,x(ge,{class:"range-alerts-switch",checked:e.isFullRange},null,8,["checked"])])])])])]),a("div",fl,[x(ve,{"create-pool-info":e.createPoolInfo,onToggle:e.toggle},null,8,["create-pool-info","onToggle"])])])])}const ln=Ze(fa,[["render",gl],["__scopeId","data-v-7563b1bb"]]);export{ln as default};
