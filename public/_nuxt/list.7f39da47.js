import{_ as so}from"./pool-position-tab.51465ee3.js";import{P as ao}from"./pool-filter-block.2ced07dd.js";import{R as N,a as io,A as no,T as ro,b as uo,P as co}from"./to-add.184f9fb9.js";import{u as po}from"./useToken.15049d74.js";import{u as Q}from"./pool.fef7f7f3.js";import{u as vo}from"./stats.69bb4779.js";import{c as M,s as mo}from"./common.923681a5.js";import{H as fo,T as _o}from"./h5-table-card.3cbf0893.js";import{N as ho}from"./no-data.df5f7b0f.js";import{u as X}from"./token.5343f0b4.js";import{a as go,r as B,m as c,A as D,q as Y,l as Po,o as b,f as C,h as a,i,c as J,w as K,x as I,G as bo,p as So,k as Lo,e as Z,s as yo}from"./entry.ec51292c.js";import"./index.1602a5cd.js";import"./decimal.765d8738.js";import{u as Ao}from"./usePoolList.795a237a.js";import"./select-tab.fa0700fd.js";import"./index.5ec39a2c.js";import"./decimal.a2826370.js";import"./filter-pool-by-coin.f17283ca.js";import"./coin-select.9edf4f53.js";import"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./icon-tooltip.7a57c664.js";import"./token-warning_2x.fd4b3ec1.js";import"./img-no-Positions_2x.90bb01f4.js";import"./img-no-Positions_2x.9e24c205.js";import"./coin-img-warning.b8d58195.js";import"./coin-img.bd146cea.js";import"./is-all-pool.2b67770f.js";/* empty css              */import"./icon-selected_3x.873560ed.js";import"./nuxt-link.8e0f9709.js";import"./icon_farms_2x.9decfb95.js";import"./farms.02b92dd0.js";import"./icon_autopools_2x.89f0fe68.js";import"./icon_autopools_2x.32bff443.js";import"./icon_fee_2x.1f7b0c67.js";import"./icon_rewards_2x.6258c5ab.js";import"./fetchFun.ff4aae28.js";import"./useSDK.f15fa82d.js";import"./index.ef83fc04.js";const E=S=>(So("data-v-479eddcb"),S=S(),Lo(),S),ko={class:"h5-table"},To={class:"pc-table"},wo={key:1,class:"virtual-table"},xo=E(()=>a("th",null,"Pool",-1)),No=E(()=>a("th",null,"Mining Rewards",-1)),Bo=E(()=>a("th",null,"Actions",-1)),Co={class:"action"},Fo=go({__name:"pool-list-table",setup(S){const p=B([]),T=c(()=>p.value.map(u=>Object.assign({},{random:Math.random()},u)));D(()=>T.value,r=>{console.log("pool-list-table è™šæ‹Ÿdom list: ",r)});const{getTokenList:V,getToken:w}=po(),L=Q(),n=c(()=>L),F=c(()=>(console.log("ðŸš€ ~ poolList ~ suiPool.value.poolList:",n.value.poolList),n.value.poolList)),y=c(()=>n.value.isAllPool),f=c(()=>n.value.incentiveTypeList),A=c(()=>n.value.selectLabel),d=c(()=>n.value.filterPoolCoinList),oo=vo(),W=c(()=>oo),$=c(()=>W.value.poolsStatsObj),eo=c(()=>W.value.isStatsApiError),q=async(r,u)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,u);let _=[];for(let o=0;o<u.length;o++){const e=u[o],h=r[e.address],g=await w(u[o].displayTokenAAddress),P=await w(u[o].displayTokenBAddress),R=[];g!=null&&g.labels&&R.push(...g.labels),P!=null&&P.labels&&R.push(...P.labels);let O=!1,G=!1;h&&h.stableFarming&&h.stableFarming.length>0&&(O=!0),h&&h.autoPool&&h.autoPool.clmm_pool&&(G=!0);const U={...e,tvl:0,fees24:0,totalApr:0,volume24:0,...h,tokenA:g,tokenB:P,labels:[...new Set(R)],isFarming:O,isVaults:G};(!y.value&&g.is_trusted&&P.is_trusted||y.value)&&_.push(U)}let s=[];f.value.length>0?_.forEach(o=>{(f.value.includes("Mining")&&o.haveMining||f.value.includes("Farming")&&o.isFarming||f.value.includes("No incentives")&&!o.haveMining&&!o.isFarming)&&s.push(o)}):s=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",s);let l=[];A.value!=="All"?s.forEach(o=>{o.labels.includes(A.value)&&l.push(o)}):l=s;let x=[];d.value&&d.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",d.value.length),l.forEach(o=>{d.value.length==2&&(d.value[0]==o.displayTokenAAddress||d.value[0]==o.displayTokenBAddress)&&(d.value[1]==o.displayTokenAAddress||d.value[1]==o.displayTokenBAddress)&&x.push(o),d.value.length==1&&(d.value[0]==o.displayTokenAAddress||d.value[0]==o.displayTokenBAddress)&&x.push(o)})):x=l;let v=x,m=[];t.value.label=="Volume (24H)"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.volume24-o.volume24):v.sort((o,e)=>o.volume24-e.volume24)),t.value.label=="Liquidity"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.tvl-o.tvl):v.sort((o,e)=>o.tvl-e.tvl)),t.value.label=="Fees (24H)"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.fees24-o.fees24):v.sort((o,e)=>o.fees24-e.fees24)),t.value.label=="APR (24H)"&&(m=t.value.sort=="desc"?v.sort((o,e)=>e.totalApr-o.totalApr):v.sort((o,e)=>o.totalApr-e.totalApr)),L.setPoolListNum(m&&m.length),p.value=m,L.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",m)},t=B({label:"Volume (24H)",sort:"desc"}),k=r=>{t.value=r,q($.value,F.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",t.value)},H=c(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-table.vue:265 ~ isPoolLoading ~ suiPool.value.isPoolLoading:",n.value.isPoolLoading),n.value.isPoolLoading)),to=X(),lo=c(()=>to.allTokensObj);D(()=>[$.value,F.value,eo.value,lo.value,y.value,f.value,A.value,d.value],([r,u,_,s])=>{console.log("ðŸš€ ~ watch ~ poolsStatsObj:",u,r,s),(r&&!M(r)||_)&&u&&u.length>0&&s&&!M(s)&&(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-table.vue:276 ~ buildPoolList:",s),q(r,u))},{immediate:!0});const j=B(null);Y(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),window.scroller=j.value});const z=[{title:"Pools",hasSort:!1,tdWidth:"370px",isNotShowTitle:!0,component:"pool-name-block"},{title:"Liquidity",hasSort:!0,tdWidth:"150px",value:"tvlDisplay"},{title:"Volume (24H)",hasSort:!0,tdWidth:"150px",value:"volume24Display"},{title:"Fees (24H)",hasSort:!0,tdWidth:"150px",value:"fees24Display"},{title:"Mining Rewards",hasSort:!1,tdWidth:"150px",component:"reward-coin"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"130px",component:"apr-tips"},{title:"Actions",hasSort:!1,tdWidth:"180px",isNotShowTitle:!0,component:"swap-add"}];return(r,u)=>{const _=co,s=Po("RecycleScroller");return b(),C("div",null,[a("div",ko,[i(fo,{"h5-title":"Pools","page-name":"pools","key-field":"poolAddress","sort-info":t.value,"item-size":325,"data-source-length":10,loading:H.value,columns:z,"data-source":p.value,"card-action":"swap-add",onChangeSort:k},null,8,["sort-info","loading","data-source"])]),a("div",To,[H.value?(b(),J(_o,{key:0,columns:z,"data-source-length":10})):(b(),C("table",wo,[i(s,{ref_key:"scroller",ref:j,class:"scroller",items:T.value,"item-size":86,"key-field":"address","page-mode":"",full:"",page:"",prerender:20,buffer:500},{before:K(()=>[a("thead",null,[xo,i(N,{label:"Liquidity","sort-info":t.value,onSort:k},null,8,["sort-info"]),i(N,{label:"Volume (24H)","sort-info":t.value,onSort:k},null,8,["sort-info"]),i(N,{label:"Fees (24H)","sort-info":t.value,onSort:k},null,8,["sort-info"]),No,i(N,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":t.value,onSort:k},null,8,["sort-info"]),Bo])]),default:K(({item:l})=>[(b(),C("tr",{key:l.address},[a("td",null,[i(_,{"pool-info":l},null,8,["pool-info"])]),a("td",null,I(l.tvlDisplay||"$0"),1),a("td",null,I(l.volume24Display||"$0"),1),a("td",null,I(l.fees24Display||"$0"),1),a("td",null,[i(io,{"reward-list":l.miningRewardList||[]},null,8,["reward-list"])]),a("td",null,[i(no,{"pool-info":l},null,8,["pool-info"])]),a("td",null,[a("div",Co,[i(ro,{"from-coin-address":l.tokenAAddress,"to-coin-address":l.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),i(uo,{"pool-address":l.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])]))]),!H.value&&p.value&&p.value.length==0?(b(),J(ho,{key:0,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):bo("",!0)])}}});const Ho=Z(Fo,[["__scopeId","data-v-479eddcb"]]);const Ro={class:"pools-list-container"},Io={__name:"list",setup(S){const p=Q(),T=B(!1),{getPoolList:V}=Ao(),w=X(),L=c(()=>w.allTokensObj);return Y(async()=>{await mo(1e3),T.value=!0}),D(()=>L.value,n=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: list.vue:47 ~ watch ~ allTokensObj:",n),n&&!M(n)&&V()}),yo(()=>{p.setIncentiveTypeList(""),p.setPoolListNum(""),p.setIsAllPool(!0),p.setLabel("All"),p.setFilterPoolCoinList([])}),(n,F)=>{const y=so,f=ao,A=Ho;return b(),C("div",Ro,[i(y,{"current-tab":"Pools"}),i(f),i(A)])}}},ye=Z(Io,[["__scopeId","data-v-dc6d14c8"]]);export{ye as default};
