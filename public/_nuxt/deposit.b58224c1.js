import{a as Ge,r as P,m as y,q as Li,A as se,e as Ke,o as a,f as l,I as lt,M as ut,h as r,N as Bi,x as n,u as k,G as v,c as Ze,p as bi,k as ki,O as Zi,L as hi,i as ee,w as Oe,y as ni,S as Gi,K as ct,l as Se,B as Ni,j as ci,F as Ve,E as Di,z as zi,s as Ki,Y as Ei,P as Ji,$ as Yi,a6 as dt,b as Qi,a0 as mt}from"./entry.a28c3c26.js";/* empty css              */import{positionError as pi,fromCoin as E,toCoin as j,tickList as fi,currentPrice as gi,currentPriceReverse as _i,direction as Pe,currentPriceTab as re,defaultMinPrice as Fi,defaultMaxPrice as Oi,minPrice as X,maxPrice as R,toggle as Vi,isStableFarmingRange as Ue,isInputTotalAmount as We,priceConfigObj as vi,fromCoinAmount as Q,toCoinAmount as V,fixedFromCoin as Fe,resetTickList as Hi,resetData as vt}from"./data.dad67ca8.js";import{g as xi,n as ji,d as $,a as G,c as fe,b as et,o as ft,s as pt,p as Xi}from"./common.b1684a4d.js";import{i as oi}from"./import-icon.de3e6c66.js";/* empty css              */import"./index.dcd44d7f.js";/* empty css              */import{u as ri,b as qi,a as yi}from"./index.114f7700.js";import{T as $i,g as gt,c as it,u as bt,b as je}from"./index.37490fb1.js";import"./decimal.a2826370.js";import{s as Ai,m as kt,l as ht,b as yt,a as Ct}from"./transform.c672907f.js";import{D as _}from"./decimal.765d8738.js";/* empty css              */import{C as tt}from"./coin-img.25dbd0c9.js";import{u as Mi}from"./farms.a0949396.js";import{_ as nt}from"./icon_farms_2x.204c9926.js";import{_ as Pt}from"./coin-select.7aca0b2f.js";import{S as St,a as It}from"./sui-liquidity-deposit-ratio.41214b0e.js";import{_ as wt}from"./deposit-ratio.f12eac50.js";import{u as ot}from"./notifi.689ca3cf.js";import{C as Tt}from"./coin-img-warning.73e4a287.js";import{N as $t,I as At}from"./input-lock.3300864a.js";import{I as _t}from"./icon-tooltip.bea03d61.js";import{_ as Lt}from"./status-block.e8c4f5d1.js";import{_ as rt}from"./icon-arrow_2x.4ffddb8e.js";import{T as Nt}from"./token-input-block.5b8ecb86.js";import{_ as qt}from"./lock.35e1d915.js";import"./token-warning_2x.808d17f6.js";import"./img-no-Positions_2x.130ba3b4.js";import"./img-no-Positions_2x.ba2e4891.js";import"./icon-slippage.354313e1.js";import"./swap-setting.0b2765d7.js";import"./icon-error_2x.be07dab0.js";import"./icon-refresh.491cc051.js";import"./useWhale.9028c5d3.js";import"./token.7f5a4d18.js";import"./token-dropdown-select.f5cf17d3.js";import"./useDebounceFunction.35818047.js";function Wi(e,u,N){const w=new _(10).pow(u-N);return new _(1.0001).pow(e).mul(w)}const Mt=Ge({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""},zoom:{type:Number,default:1}},setup(e,u){const N=P(""),w=P(""),M=y(()=>{var t,g,f,B,F,K;return(t=e.poolInfo)!=null&&t.current_sqrt_price&&((g=e.poolInfo)!=null&&g.coinA)&&((f=e.poolInfo)!=null&&f.coinB)?s.sqrtPriceX64ToPrice((B=e.poolInfo)==null?void 0:B.current_sqrt_price,(F=e.poolInfo)==null?void 0:F.coinA.decimals,(K=e.poolInfo)==null?void 0:K.coinB.decimals).toString():"0"}),H=y(()=>{let t=0;return e.direction?t=(Number(e.minPrice)/Number(M.value)-1)*100:t=(Number(e.minPrice)/Number(1/Number(M.value))-1)*100,t=t>0&&t<.1?.1:t,t=t<0&&t>-.1?-.1:t,t}),C=y(()=>{let t=0;return e.direction?t=(Number(e.maxPrice)/Number(M.value)-1)*100:t=(Number(e.maxPrice)/Number(1/Number(M.value))-1)*100,t=t>0&&t<.1?.1:t,t=t<0&&t>-.1?-.1:t,t}),I=ri(),p=y(()=>I),Y=y(()=>p.value.chainName?qi(p.value.chainName):{}),{TickMath:s,getNearestTickByTick:T}=Y.value,U=(t=[])=>{let g=6;const f=Math.abs(Number(t[0])-Number(t[t.length-1]));return f>=6?g=0:f>=1?g=1:f>=.1?g=2:f>=.01?g=3:f>=.001?g=4:f>=1e-4?g=5:f>=1e-5?g=6:f>=1e-6?g=7:f>=1e-7&&(g=8),g},D=(t,g=1)=>{if(t&&t.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const f=Number(e.poolInfo.current_tick_index);let B=f+100*g,F=f-100*g,K,S;if(e.maxPrice==="âˆž")S=Y.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?S=s.priceToTickIndex(new _(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):S=s.priceToTickIndex(new _(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{S=443636}if(e.minPrice==="0")K=Y.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?K=s.priceToTickIndex(new _(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):K=s.priceToTickIndex(new _(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{K=-443636}let ae=0;if(e.currentPriceTab!=="full range"){if(f>=K&&f<=S){const W=f-K,ce=S-f;ae=Math.max(Math.abs(W),Math.abs(ce))}else f<K?ae=Math.abs(S-f):ae=Math.abs(f-K);B=f+ae+100*g,F=f-ae-100*g}else{const W=(Math.abs(f)>5e3,2e4);B=f+W*g,F=f-W*g}F<-443636&&(F=-443636),B>443636&&(B=443636);const A=new _(t.liquidity).div(Math.pow(10,8)).toString(),L=e.tickList,O=[],ue=[];let ge={};for(let W=0;W<L.length;W++){if(ge=L[W],ge.index<=f&&ge.index>=F){if(O.length<1&&W!==0){const ce=L[W-1];O.unshift({...ce,index:F,source:"left"})}O.unshift(ge)}else if(ge.index>f&&ge.index<=B&&(ue.push(ge),O.length<1&&W!==0)){const ce=L[W-1];O.push({...ce,index:F,source:"left"})}if(ge.index>B){const ce=L[W];if(ue.push({...ce,index:B,source:"right"}),O.length<1&&W!==0){const ze=L[W-1];O.push({...ze,index:F,source:"left"})}break}}let x="0";for(let W=O.length-1;W>=0;W--)x=new _(x).plus(new _(O[W].liquidityNet.toString()).div(Math.pow(10,8))).toString(),O[W].liquityAmount=x;let J=A;for(let W=0;W<ue.length;W++)J=new _(J).plus(new _(ue[W].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ue[W].liquityAmount=J;let de=[];const te=L&&L.length>0?{index:f,liquityAmount:Number(A)}:{index:f,liquityAmount:0};(O.length>0||ue.length>0)&&(de=[...O.reverse(),te,...ue],e.direction||(de=de.reverse()));const Ae=[];L.forEach(W=>{Ae.push({...W,liquidityGross:W.liquidityGross.toString(),liquidityNet:W.liquidityNet.toString()})}),d(de,F,B,K,S,f)}};let ie=P(!1);const z=P(!1);Li(()=>{const t=document.body.clientWidth;z.value=!0,t<750?ie.value=!1:ie.value=!0,window.onresize=()=>{document.body.clientWidth<750?ie.value=!1:ie.value=!0,D(e.poolInfo,e.zoom)}});const d=(t,g,f,B,F,K)=>{let S,ae;e.direction?(S=Number(e.before7dContractPriceLowest)!==0?s.priceToTickIndex(new _(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ae=Number(e.before7dContractPriceHighest)!==0?s.priceToTickIndex(new _(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(S=Number(e.before7dContractPriceLowest)!==0?s.priceToTickIndex(new _(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ae=Number(e.before7dContractPriceHighest)!==0?s.priceToTickIndex(new _(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const A={top:30,right:35,bottom:58,left:80};let L,O;ie.value?(L=528-A.left-A.right,O=242-A.top-A.bottom):(L=340-A.left-A.right,O=205-A.top-A.bottom);const ue=f-g,ge=parseInt(String(ue/4));let x=[g+ge/4,g+ge,g+2*ge,f-ge,f-ge/4];const J=g,de=f,te=L/(de-J);e.currentPriceTab==="full range"&&(x=[g,g+2*ge,f]);const Ae=x.map(c=>e.direction?Wi(c,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new _(1).div(Wi(c,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),W=U(Ae);Ai("#chart").selectAll("*").remove();const ce=Ai("#chart").attr("width",L+A.left+A.right).attr("height",O+A.top+A.bottom).append("g").attr("transform",`translate(${A.left},${A.right})`),ze=kt(t,function(c){return Number(Math.abs(c.liquityAmount))})||0,_e=ht().range([0,O]).domain([ze,0]);yt().rangeRound([0,L]).padding(.1);const xe=ce.append("g").attr("id","barsBox").selectAll("rect").data(t).enter().append("rect");p.value.theme=="default"?xe.attr("x",function(c,m){return m===0?0:e.direction?Math.abs(c.index-J)*te:Math.abs(de-c.index)*te}).attr("y",function(c,m){return e.direction?m===t.length-1?0:_e(c.liquityAmount):m===t.length-1?0:_e(t[m+1].liquityAmount)}).attr("width",function(c,m){return m===0&&t.length===1&&c.liquityAmount>0?L:(e.direction,m!==t.length-1?Math.abs(t[m+1].index-c.index)*te:0)}).attr("height",function(c,m){return m===0&&t.length===1&&c.liquityAmount>0?O:e.direction?m===t.length-1?0:O-_e(c.liquityAmount):m===t.length-1?0:O-_e(t[m+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):xe.attr("x",function(c,m){return m===0?0:e.direction?Math.abs(c.index-J)*te:Math.abs(de-c.index)*te}).attr("y",function(c,m){return e.direction?m===t.length-1?0:_e(Math.abs(c.liquityAmount)):m===t.length-1?0:_e(Math.abs(t[m+1].liquityAmount))}).attr("width",function(c,m){return m===0&&t.length===1&&c.liquityAmount>0?L:(e.direction,m!==t.length-1?Math.abs(t[m+1].index-c.index)*te:0)}).attr("height",function(c,m){if(m===0&&t.length===1&&c.liquityAmount>0)return O;if(e.direction)return m===t.length-1?0:Number(c.liquityAmount)?O-_e(Math.abs(c.liquityAmount)):0;{if(m===t.length-1)return 0;const ne=O-_e(Math.abs(t[m+1].liquityAmount));return Number(t[m+1].liquityAmount)?ne:0}}).attr("fill",function(c,m){return"#417494"}).attr("class","bars").attr("stroke-width",1).attr("stroke",function(c,m){return"#417494"});const Ee=ce.append("g");Ee.append("line").attr("x1",0).attr("y1",155).attr("x2",L).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const di=Ee.append("g");let Be=0;if(e.direction){for(let c=0;c<x.length;c++){const m=$(Ae[c],W)||"0";Ae.push(m);const ne=Math.abs(x[c]-J)*te;let oe=0;for(let me=0;me<m.length;me++)m[me]==="1"?oe+=4.02:m[me]==="."?oe+=2.64:m[me]==="7"?oe+=5.48:oe+=6;di.append("text").text(m).attr("x",ne-oe/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Be=Math.abs(K-J)*te}else{for(let c=x.length-1;c>=0;c--){const m=$(Ae[c],W)||0;Ae.push(m);const ne=Math.abs(x[c]-de)*te;let oe=0;for(let me=0;me<m.length;me++)m[me]==="1"?oe+=4.02:m[me]==="."?oe+=2.64:m[me]==="7"?oe+=5.48:oe+=6;di.append("text").text(m).attr("x",ne-oe/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Be=Math.abs(K-de)*te}(p.value.theme=="default"?ce.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):ce.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+Be+", 0)");let He,Je,Ye,Xe;e.direction?(He=B<J?-100:parseInt(String(Math.abs(B-J)*te)),Je=F<J?-100:parseInt(String(Math.abs(F-J)*te)),Ye=S<J?-100:Math.abs(S-J)*te,Xe=ae<J?-100:Math.abs(ae-J)*te):(Je=B<J?-100:Math.abs(de-B)*te,He=F<J?-100:Math.abs(de-F)*te,Xe=S>de?-100:Math.abs(de-S)*te,Ye=ae>de?-100:Math.abs(de-ae)*te),e.minPrice==="0"&&(He=0),e.maxPrice==="âˆž"&&(Je=L),ie.value?N.value=L-He+94+"px":N.value=L-He+87+"px",w.value=Je+98+"px",S&&Ye<L&&ce.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Ye+", 0)"),ae&&Xe<L&&ce.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Xe+", 0)");const Le=ce.append("g").attr("id","left-handle"),i=ce.append("g").attr("id","right-handle");p.value.theme=="default"?(Le.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Le.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(-1, 20) rotate(180)"),Le.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Le.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),i.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),i.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(1, 0)"),i.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),i.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Le.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Le.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(-1, 24) rotate(180)"),Le.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Le.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),i.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),i.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#23252C").attr("stroke","#23252C").attr("transform","translate(1, 0)"),i.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),i.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Le.attr("transform","translate("+He+", 0)"),i.attr("transform","translate("+Je+", 0)");const h=Ct().extent([[0,0],[L,O]]).handleSize(30).on("end",Z);ce.append("g").attr("class","brush").call(h).call(h.move,[He,Je]);function Z(c){if(!c.sourceEvent||!c.selection)return;Le.attr("transform","translate("+c.selection[0]+", 0)"),i.attr("transform","translate("+c.selection[1]+", 0)"),ie.value,N.value=L-c.selection[0]+87+"px",w.value=c.selection[1]+74+"px";let m,ne,oe=0,me=0;e.direction?(oe=T(parseInt(String(c.selection[0]/te+J)),Number(e.poolInfo.tickSpacing)),m=s.tickIndexToPrice(oe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),me=T(parseInt(String(c.selection[1]/te+J)),Number(e.poolInfo.tickSpacing)),ne=s.tickIndexToPrice(me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(me=T(de-c.selection[0]/te,Number(e.poolInfo.tickSpacing)),m=1/s.tickIndexToPrice(me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),oe=T(de-c.selection[1]/te,Number(e.poolInfo.tickSpacing)),ne=1/s.tickIndexToPrice(oe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),u.emit("onChangeMinPrice",String($(String(m),6))),u.emit("onChangeMaxPrice",String($(String(ne),6)))}p.value.theme=="default"?Ai(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):Ai(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};return P(""),se(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.zoom,e.tickList],([t,g,f,B,F,K])=>{t&&g&&f&&(t!=null&&t.liquidity)&&D(t,F)},{immediate:!0}),{store:p,loading:z,rangeSizeLower:H,rangeSizeUpper:C,rangeSizeLowerPosition:N,rangeSizeUpperPosition:w,decimalFormat:xi,numberformat:ji}}});const Rt=e=>(bi("data-v-03adb102"),e=e(),ki(),e),Ut={class:"chart-box"},Ft={class:"chart"},Ot=Rt(()=>r("svg",{id:"chart"},null,-1));function Bt(e,u,N,w,M,H){const C=Zi;return a(),l("div",Ut,[lt(r("div",Ft,[e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(a(),l("div",{key:0,class:"range-size range-size-lower",style:Bi({right:e.rangeSizeLowerPosition})},n(("numberformat"in e?e.numberformat:k(ji))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):v("",!0),e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(a(),l("div",{key:1,class:"range-size range-size-upper",style:Bi({left:e.rangeSizeUpperPosition})},n(("numberformat"in e?e.numberformat:k(ji))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):v("",!0),Ot],512),[[ut,!e.chartLoading]]),e.chartLoading?(a(),Ze(C,{key:0})):v("",!0)])}const Dt=Ke(Mt,[["render",Bt],["__scopeId","data-v-03adb102"]]),jt=Ge({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,u){const N=P(""),w=P("");let M=P(""),H=P("");const C=hi(),I=ri(),p=y(()=>I),Y=y(()=>p.value.chainName?qi(p.value.chainName):{}),s=()=>{var t,g,f,B;if(!(Number.isNaN(N.value)||Number(N.value)!==0&&!N.value||!e.poolInfo.tickSpacing))try{const{TickUtil:F,TickMath:K,getNearestTickByTick:S}=Y.value,ae=K.priceToTickIndex(new _(N.value.toString()),(t=z.value.token_a)==null?void 0:t.decimals,(g=z.value.token_b)==null?void 0:g.decimals),A=S(ae,Number(z.value.tickSpacing),!0);let L;if(L=K.tickIndexToPrice(A+Number(z.value.tickSpacing),(f=z.value.token_a)==null?void 0:f.decimals,(B=z.value.token_b)==null?void 0:B.decimals),e.pType=="Min"&&Number(L.toString())>Number(H.value.toString()))return;const O=L.toString();u.emit("onInput",O)}catch{u.emit("onInput","")}},T=()=>{var t,g,f,B;try{if(Number.isNaN(N.value)||!N.value||!e.poolInfo.tickSpacing)return;const{TickUtil:F,TickMath:K,getNearestTickByTick:S}=Y.value,ae=K.priceToTickIndex(new _(N.value.toString()),(t=z.value.token_a)==null?void 0:t.decimals,(g=z.value.token_b)==null?void 0:g.decimals),A=S(ae,Number(z.value.tickSpacing),!0);let L;L=K.tickIndexToPrice(A-Number(z.value.tickSpacing),(f=z.value.token_a)==null?void 0:f.decimals,(B=z.value.token_b)==null?void 0:B.decimals);const O=L.toString();if(e.pType=="Max"&&Number(L)<Number(M.value))return;u.emit("onInput",O)}catch{u.emit("onInput","")}},U=t=>{let g=t.toString().replace(/[^\d.]/g,"");const f=/^\d+(\.\d+)?$/;g.split(".").length>2&&!f.exec(g)&&(g=g.substr(0,g.length-1)),w.value=String(g)},D=t=>{if(t&&t!=="0"&&t!=="âˆž"){N.value=t;const f=t.toString().split(".")[1];w.value=t!=="0"&&t!=="âˆž"&&f&&f.length>6?$(t.toString(),6):t.toString()}else(t=="0"||t=="âˆž"||C.query.action)&&(w.value=t)},ie=t=>{var S,ae,A,L;const{TickUtil:g,TickMath:f,getNearestTickByTick:B}=Y.value,F=t.target.value;let K;if(F==="0"){K=-443636,u.emit("onInput","0");return}else if(F!=="0"&&F){const O=f.priceToTickIndex(new _(F),(S=z.value.token_a)==null?void 0:S.decimals,(ae=z.value.token_b)==null?void 0:ae.decimals);K=B(Number(O),Number(z.value.tickSpacing),!0);const ue=f.tickIndexToPrice(new _(K),(A=z.value.token_a)==null?void 0:A.decimals,(L=z.value.token_b)==null?void 0:L.decimals);D(ue.toString()),u.emit("onInput",ue.toString())}else u.emit("onInput")};se(()=>e.defaultMinPrice,(t,g)=>{t!==g&&(M.value=e.defaultMinPrice)},{immediate:!0}),se(()=>e.defaultMaxPrice,(t,g)=>{t!==g&&(H.value=e.defaultMaxPrice)},{immediate:!0}),se(()=>[e.inputValue,C.query.action],([t])=>{D(t)},{immediate:!0});const z=P({});se(()=>e.poolInfo,(t,g)=>{t&&(z.value=t)},{immediate:!0});const d=P("");return se(()=>e.currentPriceTab,t=>{d.value=t},{immediate:!0}),{addPrice:s,minusPrice:T,oValue:w,changeValue:U,isDisabled:d,route:C,onBlur:ie}}});const zt={class:"set-price-item"},Et={class:"title"},Ht={class:"input-box"},Xt={key:0,class:"minus-btn"},Wt={key:1,class:"plus-btn"};function Zt(e,u,N,w,M,H){const C=ct,I=Gi;return a(),l("div",zt,[r("div",Et,n(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ee(I,{loading:e.loading,active:"",paragraph:!1},{default:Oe(()=>[r("div",Ht,[e.currentPriceTab!=="full range"?(a(),l("a",Xt,[r("div",{class:ni(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:u[0]||(u[0]=(...p)=>e.minusPrice&&e.minusPrice(...p))},"-",2)])):v("",!0),ee(C,{id:"pValu",value:e.oValue,"onUpdate:value":u[1]||(u[1]=p=>e.oValue=p),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:u[2]||(u[2]=p=>e.changeValue(p.target.value)),onBlur:u[3]||(u[3]=p=>e.onBlur(p))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(a(),l("a",Wt,[r("div",{class:ni(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:u[4]||(u[4]=(...p)=>e.addPrice&&e.addPrice(...p))},"+",2)])):v("",!0)])]),_:1},8,["loading"]),r("p",{class:ni(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},n(e.toCoin&&e.toCoin.symbol)+" per "+n(e.fromCoin&&e.fromCoin.symbol),3)])}const Gt=Ke(jt,[["render",Zt],["__scopeId","data-v-bf0c9bd5"]]),Kt=Ge({components:{SuiLiquiditySetPrice:Gt},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,u){let N=P(""),w=P(""),M=P(),H=P(!1),C=P(!1);const I=P({}),p=ri(),Y=y(()=>p);Li(()=>{N.value=e.min,w.value=e.max}),se(()=>e.currentPriceTab,(d,t)=>{d!==t&&(M.value=e.currentPriceTab)},{immediate:!0}),se(()=>e.min,(d,t)=>{d!==t&&(N.value=d)}),se(()=>e.max,(d,t)=>{d!==t&&(w.value=d)}),se(()=>e.poolInfo,(d,t)=>{d&&(I.value=d)},{immediate:!0});const s=P("");se(()=>e.intPrice,d=>{s.value=d},{immediate:!0,deep:!0});const T=d=>{N.value=d,u.emit("onChangeMinPrice",d)},U=d=>{w.value=d,u.emit("onChangeMaxPrice",d)};se(H,(d,t)=>{d!==t&&u.emit("onChangeFullRange",d)});const D=()=>{N.value=e.defaultMinPrice,w.value=e.defaultMaxPrice,C.value=!1,H.value=!1},ie=()=>{C.value=!1,N.value="0",w.value="âˆž"};return se(H,(d,t)=>{d!==t&&u.emit("onChangeFullRange",d)}),{store:Y,changeMinPrice:T,changeMaxPrice:U,importIcon:oi,resetPrice:D,changeShowUnderStand:()=>{H.value=!H.value,H.value?C.value=!0:D(),C.value||(N.value=e.defaultMinPrice,w.value=e.defaultMaxPrice)},showUnderStand:C,minPrice:N,maxPrice:w,understand:ie,isRadio:H,initPirce:s}}});const Jt={class:"set-price"},Yt={class:"card-container"},Qt={key:0,class:"card"},Vt={key:1,class:"understand"},xt={class:"left"},en={class:"right"};function tn(e,u,N,w,M,H){const C=Se("SuiLiquiditySetPrice"),I=Ni;return a(),l("div",Jt,[r("div",Yt,[e.showUnderStand?(a(),l("div",Vt,[r("div",xt,[r("p",null,n(e.$t("common.lowerEfficiency")),1),r("p",null,n(e.$t("common.lowerEfficiencyTips")),1)]),r("div",en,[ee(I,{onClick:e.understand},{default:Oe(()=>[ci(n(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(a(),l("div",Qt,[ee(C,{value:e.minPrice,"onUpdate:value":u[0]||(u[0]=p=>e.minPrice=p),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ee(C,{value:e.maxPrice,"onUpdate:value":u[1]||(u[1]=p=>e.maxPrice=p),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const nn=Ke(Kt,[["render",tn],["__scopeId","data-v-6fa4beef"]]),on=Ge({components:{CoinImage:tt},props:{rectangleTabList:{type:Object,default:()=>null},currentRectangleTab:{type:String,default:()=>""}},setup(e){const u=e.rectangleTabList;return{activeIndex:P(0),list:u}}});const rn={class:"rectangle-tab"},an=["onClick"];function sn(e,u,N,w,M,H){const C=Se("CoinImage");return a(),l("div",rn,[(a(!0),l(Ve,null,Di(e.list,(I,p)=>(a(),l("div",{key:I.link,class:ni(e.activeIndex==p?"tab-active tab":"tab"),onClick:()=>{e.$emit("clickTab",I),e.activeIndex=p}},[I.logo?(a(),Ze(C,{key:0,url:I.logo,size:e.logoSize||"16px"},null,8,["url","size"])):v("",!0),r("span",null,n(I.label),1)],10,an))),128))])}const ln=Ke(on,[["render",sn],["__scopeId","data-v-1558c80e"]]),un=Ge({components:{SuiLiquidityD3Chart:Dt,RectangleTab:ln,SuiLiquidityPrice:nn},setup(){var Le;const{t:e,locale:u}=zi(),N=P("liquidity"),w=ri(),M=y(()=>w),H=y(()=>M.value.chainName),C=yi(),I=y(()=>C),p=y(()=>M.value.chainName?qi(M.value.chainName):{});Li(()=>{pi.value=!1});const Y=hi(),s=y(()=>{let i=null;for(let h=0;h<I.value.poolConfigList.length;h++){const Z=I.value.poolConfigList[h];Z.address==Y.query.poolAddress&&(i=Z)}return i}),T=y(()=>{let i=null;console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:481 ~ constpoolInfo:any=computed ~ pools.value.poolsObj:",I.value.poolsObj);for(const h in I.value.poolsObj){const Z=I.value.poolsObj[h];Z.address==Y.query.poolAddress&&(i=Z)}return i}),U=P(),D=P(!0),ie=async(i,h)=>{var Z,c,m,ne,oe,me,si,mi,ei,li,Si,Ii;if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:497 ~ watchPoolInfo ~ pool:",i),i&&(E.value=i.needReverse?i.token_b:i.token_a,j.value=i.needReverse?i.token_a:i.token_b),h&&i.current_tick_index){D.value=!0,fi.value=[],d.value=[],Ue.value=!1;const wi=i.token_a.decimals,Ri=i.token_b.decimals;gi.value=$i.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((Z=i==null?void 0:i.object)==null?void 0:Z.current_sqrt_price),wi,Ri).toString(),_i.value=new _(1).div($i.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((c=i==null?void 0:i.object)==null?void 0:c.current_sqrt_price),wi,Ri)).toString(),U.value=i.needReverse,((ne=(m=i==null?void 0:i.token_a)==null?void 0:m.address)==null?void 0:ne.toLowerCase())===((si=(me=(oe=E)==null?void 0:oe.value)==null?void 0:me.address)==null?void 0:si.toLowerCase())&&((ei=(mi=i==null?void 0:i.token_b)==null?void 0:mi.address)==null?void 0:ei.toLowerCase())===((Ii=(Si=(li=j)==null?void 0:li.value)==null?void 0:Si.address)==null?void 0:Ii.toLowerCase())?Pe.value=!0:Pe.value=!1;let o={poolAddress:i.address,coinTypeA:i.coin_a_address,coinTypeB:i.coin_b_address};const{list:b,address:q}=await p.value.getTicks(o);fi.value=b&&q==i.address?p.value.getTickDataFromUrlData(b):[],i!=null&&i.current_tick_index&&(g(i),D.value=!1)}},z=i=>{var c,m;const h=i.token_a.decimals,Z=i.token_b.decimals;gi.value=$i.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((c=i==null?void 0:i.object)==null?void 0:c.current_sqrt_price),h,Z).toString(),_i.value=new _(1).div($i.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((m=i==null?void 0:i.object)==null?void 0:m.current_sqrt_price),h,Z)).toString()},d=P([]),t=P(),g=async i=>{const h=i.token_a.decimals,Z=i.token_b.decimals;let c=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[i.address]&&I.value.poolPriceConfigObj[i.address].recommend_ranges||{};const m=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[i.address]&&I.value.poolPriceConfigObj[i.address].type||"";let ne,oe;const me=gt(i.current_tick_index,i.tickSpacing);t.value=i.current_tick_index,ne=me-Number(i.type=="unstable"?Number(i.tickSpacing)*2:Number(i.tickSpacing)*3),oe=me+Number(i.type=="unstable"?Number(i.tickSpacing)*2:Number(i.tickSpacing)*3);const si=p.value.TickMath.tickIndexToPrice(ne,h,Z).toString(),mi=p.value.TickMath.tickIndexToPrice(oe,h,Z).toString();c["full range"]={lower:p.value.TickUtil.getMinIndex(Number(T.value.tickSpacing)),upper:p.value.TickUtil.getMaxIndex(Number(T.value.tickSpacing))},c.custom={lower:ne,upper:oe,minPrice:si,maxPrice:mi};const ei=[];for(let li in c)c[li]&&ei.push({...c[li],key:li});m&&ei&&ei.length>2?i.isSelfBuilt?re.value="custom":m=="stable"?re.value="suggested":re.value="passive":re.value="custom",d.value=ei||{},vi.value=c,F({key:re.value,...c[re.value]})},f=P(""),B=P(""),F=i=>{re.value=i.key.toLowerCase();const h=T.value.token_a.decimals,Z=T.value.token_b.decimals,{lower:c,upper:m}=i;We.value=!1;const ne=p.value.TickMath.tickIndexToPrice(c,h,Z).toString(),oe=p.value.TickMath.tickIndexToPrice(m,h,Z).toString();if(i.key=="full range"){f.value=c,B.value=m,K();return}Pe.value?(Fi.value=String(ne),X.value=String(ne),Oi.value=String(oe),R.value=String(oe),f.value=c,B.value=m):(Fi.value=new _(1).div(new _(oe)).toString(),X.value=new _(1).div(new _(oe)).toString(),Oi.value=new _(1).div(new _(ne)).toString(),R.value=new _(1).div(new _(ne)).toString(),f.value=p.value.TickMath.priceToTickIndex(new _(1/Number(oe)),h,Z),B.value=p.value.TickMath.priceToTickIndex(new _(1/Number(ne)),h,Z))},K=i=>{X.value="0",R.value="âˆž"};se(()=>T.value,(i,h)=>{(!h&&i&&!fe(i)||h&&i&&(!(h!=null&&h.current_tick_index)||(h==null?void 0:h.address)!==(i==null?void 0:i.address)))&&ie(i,!h||!(h!=null&&h.current_tick_index)||(h==null?void 0:h.address)!==(i==null?void 0:i.address)),i&&!fe(i)&&z(i),i||(fi.value=[])},{immediate:!0}),Ki(()=>{E.value=P(),j.value=P(),fi.value=[]}),se(()=>s.value,(i,h)=>{i&&C.setSinglePool(i,{},H.value)},{immediate:!0});const S=i=>{switch(i){case"passive":return"/sui-image/icon_conservative@2x.png";case"active":return"/sui-image/icon_active@2x.png";case"full range":return"/sui-image/icon_fullrange@2x.png";case"custom":return"/sui-image/icon_costom@2x.png";case"suggested":return"/sui-image/icon_stabel@2x.png"}},ae=i=>{switch(i){case"passive":return"/sui-image/img_conservative_def@2x.png";case"active":return"/sui-image/img_active_def@2x.png";case"full range":return"/sui-image/img_fullrange_def.png";case"custom":return"/sui-image/img_custom_def.png";case"suggested":return"/sui-image/icon_stabel_def@2x.png"}},A=i=>{switch(i){case"suggested":return e("newAdd.suggested");case"active":return e("newAdd.active");case"passive":return e("newAdd.conservative");case"full range":return e("newAdd.fullRange");case"custom":return e("newAdd.custom")}},L=i=>{var Z,c;const h=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[(Z=T.value)==null?void 0:Z.address]&&I.value.poolPriceConfigObj[(c=T.value)==null?void 0:c.address].type||"";if(d.value.length>2)if(h=="unstable")switch(i){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(i){case"suggested":return{top:"25%"};case"full range":return{top:"49%"};case"custom":return{top:"75%"}}else if(h=="unstable")switch(i){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(i){case"full range":return{top:"35%"};case"custom":return{top:"60%"}}},O=P(1),ue=()=>{const i=O.value/2;O.value=i},ge=()=>{const i=O.value*2;O.value=i},x=y(()=>{var i,h,Z;return!T.value||fe(M.value.addressHistTokens)||!M.value.addressHistTokens[(i=T.value)==null?void 0:i.poolAddress]?null:Object.fromEntries((Z=M.value.addressHistTokens[(h=T.value)==null?void 0:h.poolAddress])==null?void 0:Z.data.map(c=>[c.key,c.value]))}),J=P(30),de=P("30D"),te=y(()=>Pe.value?x.value&&$(J.value==7?x.value.before_7_d_contract_price_lowest:J.value==24?x.value.before_24_h_contract_price_lowest:x.value.before_30_d_contract_price_lowest,6)||0:x.value&&$(new _(1).div(J.value==7?x.value.before_7_d_contract_price_highest:J.value==24?x.value.before_24_h_contract_price_highest:x.value.before_30_d_contract_price_highest).toString(),6)||0),Ae=y(()=>Pe.value?x.value&&$(J.value==7?x.value.before_7_d_contract_price_highest:J.value==24?x.value.before_24_h_contract_price_highest:x.value.before_30_d_contract_price_highest,6)||0:(x.value&&$(1/Number(J.value==7?x.value.before_7_d_contract_price_lowest:J.value==24?x.value.before_24_h_contract_price_lowest:x.value.before_30_d_contract_price_lowest),6))==1/0?0:x.value&&$(1/Number(J.value==7?x.value.before_7_d_contract_price_lowest:J.value==24?x.value.before_24_h_contract_price_lowest:x.value.before_30_d_contract_price_lowest),6)||0),W=y(()=>{const i=Number(X.value),h=Number(R.value);if(X.value=="0"&&R.value=="âˆž"||re.value=="full range")return"1x";if(X.value==R.value||re.value=="full range")return"--";if(X.value&&R.value&&X.value!=="0"&&R.value!=="âˆž"){const Z=et(1/(1-Number((i/h)**.25)),2);return Number(Z)>0?Z+"x":"--"}else return 1}),ce=y(()=>{var i,h,Z,c,m,ne;return((i=E.value)==null?void 0:i.isSelfBuilt)||((h=j.value)==null?void 0:h.isSelfBuilt)||((c=I.value.tokensObj[(Z=E.value)==null?void 0:Z.address])==null?void 0:c.isSelfBuilt)||((ne=I.value.tokensObj[(m=j.value)==null?void 0:m.address])==null?void 0:ne.isSelfBuilt)}),ze=(i,h)=>{i!==X.value&&re.value=="full range"?F({key:"custom",...d.value.custom}):re.value!=="full range"&&re.value!=="custom"?(re.value="custom",X.value=i):X.value=i,Te.value&&(Ue.value?(Pe.value&&X.value!==Te.value.minPrice&&(Ue.value=!1),!Pe.value&&Number(X.value)!==1/Number(Te.value.maxPrice)&&(Ue.value=!1)):(Pe.value&&X.value==Te.value.minPrice&&R.value==Te.value.maxPrice&&(Ue.value=!0),!Pe.value&&Number(X.value)==1/Number(Te.value.maxPrice)&&Number(R.value)==1/Number(Te.value.minPrice)&&(Ue.value=!0)))},_e=(i,h)=>{i!==R.value&&re.value=="full range"?F({key:"custom",...d.value.custom}):re.value!=="full range"&&re.value!=="custom"?(re.value="custom",i=="0"?R.value="âˆž":R.value=i):i=="0"?R.value="âˆž":R.value=i,Te.value&&(Ue.value?(Pe.value&&R.value!==Te.value.maxPrice&&(Ue.value=!1),!Pe.value&&Number(R.value)!==1/Number(Te.value.minPrice)&&(Ue.value=!1)):(Pe.value&&X.value==Te.value.minPrice&&R.value==Te.value.maxPrice&&(Ue.value=!0),!Pe.value&&Number(X.value)==1/Number(Te.value.maxPrice)&&Number(R.value)==1/Number(Te.value.minPrice)&&(Ue.value=!0)))},ai=i=>{var h;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:1215 ~ getCoinIcon ~ info:",i),(i==null?void 0:i.logoURI)||(i==null?void 0:i.logo_url)||((h=I.value.tokensObj[i==null?void 0:i.address])==null?void 0:h.logo_url)||(M.value.theme==="default"?oi("/image/coins/unknown.png"):oi("/image/coins/sui-unknown.png"))},xe=i=>{switch(i){case"active":return e("newAdd.activeTips");case"passive":return e("newAdd.passiveTips");case"full range":return e("newAdd.fullRangTips");case"suggested":return e("newAdd.suggestedTips");case"custom":return e("newAdd.customTips")}},Ee=[{label:"24H",value:24},{label:"7D",value:7},{label:"30D",value:30}],di=Mi(),Be=y(()=>di),Te=y(()=>{var i;return Be.value.farmsPoolObj[(i=T==null?void 0:T.value)==null?void 0:i.address]}),He=y(()=>I.value.poolPriceConfigObj);se(()=>[Ue.value,T.value,d.value,He.value,Te.value,Pe.value],(i,h)=>{var Z,c;if(i[0]&&i[4]&&!fe(i[4]))re.value="custom",X.value=i[5]?i[4].minPrice:String(1/i[4].maxPrice),R.value=i[5]?i[4].maxPrice:String(1/i[4].minPrice);else if(i[1]&&!fe(i[1])&&i[2]&&!fe(i[2])&&i[3]&&!fe(i[3])&&i[4]&&!fe(i[4])){i[3]&&i[3][(Z=i[1])==null?void 0:Z.address]&&i[3][(c=i[1])==null?void 0:c.address].type;const m=i[2].filter(ne=>ne.key===(i[2].length==4?"passive":"suggested"));m!=null&&m[0]&&(!h||h[0]!==i[0])&&F({...m[0]})}},{immediate:!0});const Je=y(()=>I.value.poolsLoading),Ye=y(()=>{var i,h,Z,c,m,ne;return[{label:(i=E.value)==null?void 0:i.symbol,value:(h=E.value)==null?void 0:h.address,logo:(Z=E.value)==null?void 0:Z.logo_url},{label:(c=j.value)==null?void 0:c.symbol,value:(m=j.value)==null?void 0:m.address,logo:(ne=j.value)==null?void 0:ne.logo_url}]});return{currentRectangleTab:P((Le=E.value)==null?void 0:Le.address),rectangleTabList:Ye,positionError:pi,getCoinIcon:ai,chainName:H,store:M,currentTab:N,currentPrice:gi,currentPriceReverse:_i,fromCoin:E,toCoin:j,direction:Pe,needReverse:U,addCommom:G,decimalUi:$,priceTabList:d,currentPriceTab:re,sliderStyle:L,poolInfo:T,tickList:fi,getPriceTabImage:S,getPriceTabDefImage:ae,getPriceTabText:A,defaultMinPrice:Fi,defaultMaxPrice:Oi,minPrice:X,maxPrice:R,currentTick:t,chartLoading:D,zoomOut:ue,zoomIn:ge,zoom:O,priceTab:F,before7dContractPriceLowest:te,before7dContractPriceHighest:Ae,aprRewardsTime:de,lever:W,aprRewardsParameter:J,isSelfBuilt:ce,priceRangeChangeMin:ze,priceRangeChangeMax:_e,toggle:Vi,getPirceTabTips:xe,timeList:Ee,farmsPoolInfo:Te,checkNullObj:fe,isStableFarmingRange:Ue,poolsLoading:Je}}});const cn={class:"sui-liquidity-left"},dn={class:"title-box"},mn=r("span",{class:"selectRange"},"Select Range",-1),vn={key:0,class:"tab-box"},fn={class:"range-top"},pn={class:"price-tab-list"},gn=["onClick"],bn={class:"block"},kn=["src"],hn={class:"price-leverage"},yn={class:"price-info"},Cn={class:"left"},Pn={class:"current-price"},Sn=r("div",{class:"current-price-title"},"Current Price",-1),In={key:0,class:"from-pre-to"},wn={class:"right"},Tn={class:"chart-box"},$n={class:"leverage"},An={class:"right-time"},_n={class:"day-7-price-range"},Ln=r("i",null,null,-1),Nn={class:"gray"},qn={key:0},Mn={key:1,class:"skeleton"},Rn={class:"time-list"},Un=["onClick"],Fn={class:"range pc-range"},On={key:0,class:"position-tips"},Bn=["src"],Dn={class:"error"},jn={key:1,class:"stable-farming-range pc-stable-farming-range"},zn={class:"value"},En=r("img",{src:nt},null,-1),Hn=r("span",{class:"text"},"Farm rewards rangeï¼š",-1),Xn={class:"text"},Wn={class:"check-box-active plus-switch plus-liquidity-switch"};function Zn(e,u,N,w,M,H){var U,D,ie,z;const C=Se("RectangleTab"),I=Ji,p=Se("SuiLiquidityD3Chart"),Y=Gi,s=Se("SuiLiquidityPrice"),T=Ei;return a(),l("div",cn,[r("div",dn,[mn,e.fromCoin&&e.toCoin?(a(),l("div",vn,[ee(C,{"current-rectangle-tab":e.currentRectangleTab,"rectangle-tab-list":e.rectangleTabList,onClickTab:u[0]||(u[0]=d=>{e.toggle()})},null,8,["current-rectangle-tab","rectangle-tab-list"])])):v("",!0)]),r("div",fn,[r("div",pn,[(a(!0),l(Ve,null,Di(e.priceTabList,d=>(a(),l("div",{key:d.key,class:ni(["price-tab-item",e.currentPriceTab==d.key?"price-tab-item-active":""]),onClick:t=>e.priceTab(d)},[ee(I,{placement:"top","arrow-point-at-center":""},{title:Oe(()=>[ci(n(e.getPirceTabTips(d.key)),1)]),default:Oe(()=>[r("div",bn,[r("img",{src:e.currentPriceTab==d.key?e.getPriceTabImage(d.key):e.getPriceTabDefImage(d.key),alt:""},null,8,kn),r("span",null,n(e.getPriceTabText(d.key)),1)])]),_:2},1024)],10,gn))),128))]),r("div",hn,[r("div",yn,[r("div",Cn,[r("div",Pn,[Sn,r("div",null,[r("span",null,n(e.poolInfo?e.direction?("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,6)):("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(a(),l("span",In,n((U=e.toCoin)==null?void 0:U.symbol)+" per "+n((D=e.fromCoin)==null?void 0:D.symbol),1)):v("",!0)])])]),r("div",wn,[e.currentTab=="liquidity"?(a(),l("div",{key:0,class:"zoom-out",onClick:u[1]||(u[1]=(...d)=>e.zoomOut&&e.zoomOut(...d))}," + ")):v("",!0),e.currentTab=="liquidity"?(a(),l("div",{key:1,class:"zoom-in",onClick:u[2]||(u[2]=(...d)=>e.zoomIn&&e.zoomIn(...d))}," - ")):v("",!0)])]),r("div",Tn,[e.poolInfo?(a(),Ze(p,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direction,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,zoom:e.zoom,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","zoom","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):v("",!0),r("div",$n,[r("div",An,[r("div",null,[r("div",_n,[Ln,r("span",Nn,n(e.aprRewardsParameter==7?"7D":e.aprRewardsParameter==24?"24H":"30D")+" Price Range",1),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(a(),l("span",qn,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.before7dContractPriceLowest,6)))+" - "+n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.before7dContractPriceHighest,6))),1)):(a(),l("div",Mn,[ee(Y,{loading:!0,size:"large",active:"",paragraph:!1})]))])]),r("div",Rn,[(a(!0),l(Ve,null,Di(e.timeList,d=>(a(),l("div",{key:d.value,class:ni(["time-item",d.value==e.aprRewardsParameter?"time-item-active":""]),onClick:t=>e.aprRewardsParameter=d.value},n(d.label),11,Un))),128))])])])])])]),r("div",{class:ni(["apr-and-price",e.positionError&&e.poolInfo?"padding-apr-and-price":""])},[r("div",Fn,[ee(s,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direction,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice"]),e.positionError&&e.poolInfo?(a(),l("div",On,[r("img",{src:("importIcon"in e?e.importIcon:k(oi))("/image/icon-tips-error@2x.png"),alt:""},null,8,Bn),r("p",Dn,n(e.$t("tips.positionError")),1)])):v("",!0),e.farmsPoolInfo&&!("checkNullObj"in e?e.checkNullObj:k(fe))(e.farmsPoolInfo)&&e.fromCoin&&e.toCoin?(a(),l("div",jn,[r("div",zn,[En,Hn,ci(" "+n(("decimalUi"in e?e.decimalUi:k($))(e.direction?e.farmsPoolInfo.minPrice:1/e.farmsPoolInfo.maxPrice,6))+" - "+n(("decimalUi"in e?e.decimalUi:k($))(e.direction?e.farmsPoolInfo.maxPrice:1/e.farmsPoolInfo.minPrice,6))+" ",1),r("div",Xn,"Â Â "+n((ie=e.toCoin)==null?void 0:ie.symbol)+" per "+n((z=e.fromCoin)==null?void 0:z.symbol),1)]),r("div",Wn,[ee(T,{class:"liquidity-switch",checked:e.isStableFarmingRange,onClick:u[3]||(u[3]=d=>e.isStableFarmingRange=!e.isStableFarmingRange)},null,8,["checked"])])])):v("",!0)])],2)])}const Gn=Ke(un,[["render",Zn]]),Kn=Ge({components:{Modal:Yi,CoinImgWarning:Tt,NewStatusBlock:$t},props:{title:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"11111111111"},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},isIncrease:{type:Boolean,default:!1},fixedFromCoin:{type:Boolean,default:!0},currentPriceTab:{type:String,default:""},currentPrice:{type:String,default:""},currentPriceReverse:{type:String,default:""},showFromCoinLock:{type:Boolean,default:!1},showToCoinLock:{type:Boolean,default:!1},currentDirect:{type:Boolean,default:!0},positionTotalAmount:{type:Number,default:0},tickLower:{type:Number,default:0},tickUpper:{type:Number,default:0},isCreate:{type:Boolean,default:!1}},setup(e,u){const{t:N}=zi(),w=y(()=>{var A,L,O;return((A=e==null?void 0:e.poolInfo)==null?void 0:A.needReverse)||((O=(L=e==null?void 0:e.poolInfo)==null?void 0:L.poolInfo)==null?void 0:O.needReverse)}),M=yi(),H=y(()=>M),C=ri(),I=y(()=>C),p=A=>{var L;return(A==null?void 0:A.logoURI)||(A==null?void 0:A.logo_url)||((L=H.value.tokensObj[A==null?void 0:A.address])==null?void 0:L.logo_url)||(I.value.theme==="default"?oi("/image/coins/unknown.png"):oi("/image/coins/sui-unknown.png"))},Y=P(!1),s=P(!0);function T(){s.value=!s.value}const U=y(()=>I.value.slippage),D=ot(),ie=y(()=>D),z=y(()=>ie.value.status),d=y(()=>I.value.chainName),t=y(()=>it[d.value].hasNotifi),g=hi(),f=P(!1),B=P(""),F=P(""),K=P(""),S=P("");return Li(()=>{B.value=String($(String(e.minPrice),6)),F.value=String($(String(e.maxPrice),6)),K.value=e.currentPrice,S.value=e.currentPriceReverse,e.isIncrease&&(B.value=w.value?String($(String(1/e.maxPrice),6)):String($(String(e.minPrice),6)),F.value=w.value?String($(String(1/e.minPrice),6)):String($(String(e.maxPrice),6)),K.value=w.value?e.currentPriceReverse:e.currentPrice,S.value=w.value?e.currentPrice:e.currentPriceReverse)}),se(s,A=>{!e.isIncrease&&A||e.isIncrease&&!w.value&&A?(B.value=String($(String(e.minPrice),6)),F.value=String($(String(e.maxPrice),6))):!e.isIncrease&&!A||e.isIncrease&&!w.value&&!A?(B.value=String($(String(1/Number(e.maxPrice)),6)),F.value=String($(String(1/Number(e.minPrice)),6))):e.isIncrease&&w.value&&(e.currentDirect?A:!A)?(B.value=String($(String(1/Number(e.maxPrice)),6)),F.value=String($(String(1/Number(e.minPrice)),6))):e.isIncrease&&w.value&&(e.currentDirect?!A:A)&&(B.value=String($(String(e.minPrice),6)),F.value=String($(String(e.maxPrice),6))),K.value=e.currentPrice,S.value=e.currentPriceReverse}),{needReverse:w,getCoinIcon:p,addCommom:G,rateChange:Y,changeDirect:T,direct:s,t:N,slippage:U,notifiStatus:z,hasNotifi:t,route:g,checked:f,min:B,max:F,decimalUi:$,clickSubmit:()=>{e.isIncrease?u.emit("toAdd"):e.title==dt.global.t("newAdd.preview")?u.emit("createPool"):u.emit("toAdd",f.value&&z.value=="authenticated")}}}});const Ci=e=>(bi("data-v-791af3fe"),e=e(),ki(),e),Jn=Ci(()=>r("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[r("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Yn={class:"modal-content"},Qn={class:"pool-info"},Vn={class:"left"},xn={class:"pool-name"},eo={class:"right"},io={class:"coin-info"},to={class:"from-coin-info"},no={class:"left"},oo={class:"coin-amount"},ro={class:"coin-symbol"},ao={class:"right"},so={class:"to-coin-info"},lo={class:"left"},uo={class:"coin-amount"},co={class:"coin-symbol"},mo={class:"right"},vo={class:"select-range"},fo=Ci(()=>r("div",{class:"select-range-title"},"Selected Range",-1)),po={class:"price-conent"},go={class:"current-price"},bo={class:"left"},ko={key:0,class:"current-price-title"},ho={key:1,class:"current-price-title"},yo={key:0,class:"a2b"},Co={key:0},Po={key:1},So={key:2},Io={key:3},wo={key:4},To={key:5},$o={key:6},Ao={key:7},_o={key:1,class:"a2b"},Lo={key:0},No={key:1},qo={key:2},Mo={key:3},Ro={key:4},Uo={key:5},Fo={key:6},Oo={key:7},Bo={key:2,class:"a2b"},Do={key:0},jo={key:1},zo={key:2},Eo={key:3},Ho={key:3,class:"a2b"},Xo={key:0},Wo={key:1},Zo={key:2},Go={key:3},Ko={key:0,class:"a2b"},Jo={key:0},Yo={key:1},Qo={key:2},Vo={key:3},xo={key:4},er={key:5},ir={key:6},tr={key:7},nr={key:1,class:"a2b"},or={key:0},rr={key:1},ar={key:2},sr={key:3},lr={key:4},ur={key:5},cr={key:6},dr={key:7},mr={class:"right"},vr=Ci(()=>r("use",{"xlink:href":"#icon-icon_swap2"},null,-1)),fr=[vr],pr={class:"price-range-block-content"},gr={class:"price-range-block"},br={class:"price-item"},kr={class:"title"},hr={class:"price"},yr={key:0,class:"text"},Cr={key:1,class:"text"},Pr={key:0,class:"text"},Sr={key:1,class:"text"},Ir={key:0,class:"text"},wr={key:1,class:"text"},Tr={class:"price-item"},$r={class:"title"},Ar={class:"price"},_r={key:0,class:"text"},Lr={key:1,class:"text"},Nr={key:0,class:"text"},qr={key:1,class:"text"},Mr={key:0,class:"text"},Rr={key:1,class:"text"},Ur={class:"deposit-ratio-content"},Fr={key:0,class:"range-alerts"},Or={class:"plus-switch plus-liquidity-switch"},Br=Ci(()=>r("div",{class:"title"}," Range alerts for this position ",-1)),Dr=Ci(()=>r("div",{class:"range-alerts-bottom"}," Subscribe to receive alerts on email, SMS, or Telegram when the price for this pool moves out of your selected range. ",-1));function jr(e,u,N,w,M,H){const C=Se("CoinImgWarning"),I=Se("NewStatusBlock"),p=wt,Y=Ei,s=Ni,T=Se("Modal");return a(),Ze(T,{width:"440px",visible:!0,footer:null,title:e.title,onCancel:u[2]||(u[2]=U=>e.$emit("onClose"))},{closeIcon:Oe(()=>[Jn]),default:Oe(()=>{var U,D,ie,z,d,t,g,f,B,F;return[r("div",Yn,[r("div",Qn,[r("div",Vn,[ee(C,{"token-info":(U=e.poolInfo)==null?void 0:U.token_a,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),ee(C,{"token-info":(D=e.poolInfo)==null?void 0:D.token_b,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"]),r("div",xn,[r("span",null,n(e.needReverse?(t=(d=e.poolInfo)==null?void 0:d.token_b)==null?void 0:t.symbol:(z=(ie=e.poolInfo)==null?void 0:ie.token_a)==null?void 0:z.symbol)+"Â -Â  ",1),r("span",null,n(e.needReverse?(F=(B=e.poolInfo)==null?void 0:B.token_a)==null?void 0:F.symbol:(f=(g=e.poolInfo)==null?void 0:g.token_b)==null?void 0:f.symbol),1)])]),r("div",eo,[ci(" Fee tier "),r("span",null,n(e.poolInfo&&e.poolInfo.fee*100)+"%",1)])]),r("div",io,[r("div",to,[r("div",no,[r("div",oo,n(("addCommom"in e?e.addCommom:k(G))(e.fromCoinAmount)||0),1),r("div",ro,n(e.fromCoin&&e.fromCoin.symbol),1)]),r("div",ao,[ee(C,{"token-info":e.fromCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])]),r("div",so,[r("div",lo,[r("div",uo,n(("addCommom"in e?e.addCommom:k(G))(e.toCoinAmount)||0),1),r("div",co,n(e.toCoin&&e.toCoin.symbol),1)]),r("div",mo,[ee(C,{"token-info":e.toCoin,"coin-size":"28px","warning-coin-size":"12px"},null,8,["token-info"])])])]),r("div",vo,[fo,e.title!==e.$t("newAdd.preview")?(a(),Ze(I,{key:0,"position-info":e.showFromCoinLock||e.showToCoinLock?{positionStatus:"Active"}:{positionStatus:"Inactive"}},null,8,["position-info"])):v("",!0)]),r("div",po,[r("div",go,[r("div",bo,[e.title!==e.$t("newAdd.preview")?(a(),l("div",ko,"Current Price")):(a(),l("div",ho,"Initial Price")),e.isCreate?(a(),l(Ve,{key:3},[!e.isIncrease&&!e.needReverse?(a(),l("div",Ko,[e.direct&&e.currentDirect?(a(),l("span",Jo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.toCoin.decimals))),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("span",Yo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.toCoin.decimals))),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("span",Qo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.fromCoin.decimals))),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("span",Vo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.fromCoin.decimals))),1)):v("",!0),e.direct&&e.currentDirect?(a(),l("div",xo,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("div",er,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("div",ir,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("div",tr,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0)])):!e.isIncrease&&e.needReverse?(a(),l("div",nr,[e.direct&&e.currentDirect?(a(),l("span",or,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.toCoin.decimals))),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("span",rr,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.fromCoin.decimals))),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("span",ar,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.toCoin.decimals))),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("span",sr,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.fromCoin.decimals))),1)):v("",!0),e.direct&&e.currentDirect?(a(),l("div",lr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("div",ur,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("div",cr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("div",dr,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0)])):v("",!0)],64)):(a(),l(Ve,{key:2},[!e.isIncrease&&!e.needReverse?(a(),l("div",yo,[e.direct&&e.currentDirect?(a(),l("span",Co,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.toCoin.decimals))),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("span",Po,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.toCoin.decimals))),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("span",So,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.fromCoin.decimals))),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("span",Io,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.fromCoin.decimals))),1)):v("",!0),e.direct&&e.currentDirect?(a(),l("div",wo,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("div",To,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("div",$o,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("div",Ao,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0)])):!e.isIncrease&&e.needReverse?(a(),l("div",_o,[e.direct&&e.currentDirect?(a(),l("span",Lo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.toCoin.decimals))),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("span",No,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.fromCoin.decimals))),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("span",qo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.toCoin.decimals))),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("span",Mo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.fromCoin.decimals))),1)):v("",!0),e.direct&&e.currentDirect?(a(),l("div",Ro,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),!e.direct&&e.currentDirect?(a(),l("div",Uo,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0),e.direct&&!e.currentDirect?(a(),l("div",Fo,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),!e.direct&&!e.currentDirect?(a(),l("div",Oo,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0)])):v("",!0),e.isIncrease&&!e.needReverse?(a(),l("div",Bo,[e.direct?(a(),l("span",Do,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.toCoin.decimals))),1)):(a(),l("span",jo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,6))),1)),e.direct?(a(),l("div",Eo,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):(a(),l("div",zo,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1))])):v("",!0),e.isIncrease&&e.needReverse?(a(),l("div",Ho,[e.direct?(a(),l("span",Xo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPriceReverse,e.fromCoin.decimals))),1)):(a(),l("span",Wo,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(e.currentPrice,e.toCoin.decimals))),1)),e.direct?(a(),l("div",Zo,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):(a(),l("div",Go,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1))])):v("",!0)],64))]),r("div",mr,[(a(),l("svg",{class:"icon icon-up","aria-hidden":"true",onClick:u[0]||(u[0]=(...K)=>e.changeDirect&&e.changeDirect(...K))},fr))])]),r("div",pr,[r("div",gr,[r("div",br,[r("div",kr,n(e.$t("common.minPrice")),1),r("p",hr,n(("addCommom"in e?e.addCommom:k(G))(e.min)),1),!e.isIncrease&&!e.direct?(a(),l("div",yr,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(a(),l("div",Cr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),e.isIncrease&&e.needReverse?(a(),l(Ve,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(a(),l("div",Pr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(a(),l("div",Sr,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0)],64)):v("",!0),e.isIncrease&&!e.needReverse?(a(),l(Ve,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(a(),l("div",Ir,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(a(),l("div",wr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0)],64)):v("",!0)]),r("div",Tr,[r("div",$r,n(e.$t("common.maxPrice")),1),r("p",Ar,n(e.maxPrice.indexOf("âˆž")>-1||e.maxPrice.indexOf("+")>-1?"âˆž":("addCommom"in e?e.addCommom:k(G))(e.max)),1),!e.isIncrease&&!e.direct?(a(),l("div",_r,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):!e.isIncrease&&e.direct?(a(),l("div",Lr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0),e.isIncrease&&e.needReverse?(a(),l(Ve,{key:2},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(a(),l("div",Nr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(a(),l("div",qr,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):v("",!0)],64)):v("",!0),e.isIncrease&&!e.needReverse?(a(),l(Ve,{key:3},[e.isIncrease&&(e.needReverse?e.direct:!e.direct)?(a(),l("div",Mr,n(e.fromCoin.symbol)+" per "+n(e.toCoin.symbol),1)):e.isIncrease&&(e.needReverse?!e.direct:e.direct)?(a(),l("div",Rr,n(e.toCoin.symbol)+" per "+n(e.fromCoin.symbol),1)):v("",!0)],64)):v("",!0)])])])]),r("div",Ur,[e.poolInfo?(a(),Ze(p,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"position-total-amount":e.positionTotalAmount,"tick-lower":e.tickLower,"tick-upper":e.tickUpper},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount","position-total-amount","tick-lower","tick-upper"])):v("",!0)])]),e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(a(),l("div",Fr,[r("div",Or,[Br,ee(Y,{class:"range-alerts-switch",checked:e.checked,onClick:u[1]||(u[1]=K=>e.checked=!e.checked)},null,8,["checked"])]),Dr])):v("",!0),ee(s,{class:"big-btn modal-bottom-btn",style:Bi(e.notifiStatus=="authenticated"&&e.hasNotifi&&e.route.name=="liquidity-deposit"&&e.title==e.$t("button.addLiquidity")&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?{bottom:"-172px"}:{bottom:"-65px"}),onClick:e.clickSubmit},{default:Oe(()=>[ci(n(e.isIncrease?"Increase Liquidity":e.title==e.$t("button.addLiquidity")?"Add Liquidity":"Create and Add Liquidity"),1)]),_:1},8,["style","onClick"])]}),_:1},8,["title"])}const zr=Ke(Kn,[["render",jr],["__scopeId","data-v-791af3fe"]]),Er=Ge({components:{IconTooltip:_t},props:{lever:{type:String,default:""}},setup(){return{}}});const Hr=e=>(bi("data-v-0923a380"),e=e(),ki(),e),Xr={class:"lever"},Wr={class:"left"},Zr=Hr(()=>r("span",{class:"lever-title"},"Leverage",-1)),Gr={class:"lever-text"};function Kr(e,u,N,w,M,H){const C=Se("IconTooltip");return a(),l("div",Xr,[r("div",Wr,[Zr,ee(C,{type:"leverage","xlink-href":"#icon-icon_tips"})]),r("div",Gr,n(e.lever),1)])}const Jr=Ke(Er,[["render",Kr],["__scopeId","data-v-0923a380"]]),Yr=Ge({components:{Modal:Yi,CoinImg:tt},props:{positionInfo:{type:Object,default:()=>({})},poolInfo:{type:Object,required:!0},farmPoolInfo:{type:Object,default:()=>({})},isAutoStakeFarming:{type:Boolean,default:!0}},setup(e){const u=ri(),N=y(()=>u),w=y(()=>N.value.chainName),M=y(()=>it[w.value]);let H=P(!0);const C=yi(),I=y(()=>C),p=Qi(),Y=y(()=>{var D;return(D=e.poolInfo)==null?void 0:D.needResever}),s=y(()=>e.farmPoolInfo&&e.isAutoStakeFarming?`/new-position-detail?position_nft_id=${e.positionInfo.id}&positionSource=farming`:`/new-position-detail?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`),T=D=>{var ie;return(D==null?void 0:D.logoURI)||(D==null?void 0:D.logo_url)||((ie=I.value.tokensObj[D==null?void 0:D.address])==null?void 0:ie.logo_url)||(N.value.theme==="default"?oi("/image/coins/unknown.png"):oi("/image/coins/sui-unknown.png"))},U=y(()=>N.value.currentExplorer);return{getExplorerUrl:ft,addCommom:G,router:p,pools:I,decimalFormat:xi,rateChange:H,config:M,importIcon:oi,store:N,chainName:w,checkNullObj:fe,needReverse:Y,getCoinIcon:T,decimalUi:$,currentExplorer:U,positionDetailUrl:s}}});const Pi=e=>(bi("data-v-b2b2fe57"),e=e(),ki(),e),Qr=Pi(()=>r("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[r("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Vr={class:"view-detail-box"},xr=Pi(()=>r("div",{class:"coin-pair"},null,-1)),ea={class:"coin-pair"},ia={class:"fee"},ta={class:"status"},na={class:"min-and-max"},oa={key:0},ra={class:"text"},aa=Pi(()=>r("img",{src:rt,alt:""},null,-1)),sa={class:"text"},la={key:1},ua={class:"text"},ca=Pi(()=>r("img",{src:rt,alt:""},null,-1)),da={class:"text"},ma=Pi(()=>r("use",{"xlink:href":"#icon-icon_swap2"},null,-1)),va=[ma];function fa(e,u,N,w,M,H){const C=Se("CoinImg"),I=Lt,p=Ni,Y=Se("Modal");return a(),Ze(Y,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:u[2]||(u[2]=s=>e.$emit("onClose"))},{closeIcon:Oe(()=>[Qr]),default:Oe(()=>{var s,T,U,D,ie,z,d,t,g,f,B,F,K,S,ae,A,L,O,ue,ge,x,J,de,te,Ae,W,ce,ze,_e,ai;return[r("div",Vr,[xr,r("div",{class:ni(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[r("div",ea,[r("div",null,[ee(C,{url:e.getCoinIcon(e.needReverse?(T=e.positionInfo)==null?void 0:T.token_b:(s=e.positionInfo)==null?void 0:s.token_a)},null,8,["url"]),ee(C,{url:e.getCoinIcon(e.needReverse?(D=e.positionInfo)==null?void 0:D.token_a:(U=e.positionInfo)==null?void 0:U.token_b)},null,8,["url"])]),r("span",null,n(e.needReverse?(t=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:t.symbol:(z=(ie=e.positionInfo)==null?void 0:ie.token_a)==null?void 0:z.symbol)+" - "+n(e.needReverse?(F=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:F.symbol:(f=(g=e.positionInfo)==null?void 0:g.token_b)==null?void 0:f.symbol),1)]),r("div",ia,n(e.$t("common.fee"))+" "+n(e.poolInfo.fee*100)+"%",1)],2),r("div",ta,[ee(I,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),r("div",na,[(e.needReverse?!e.rateChange:e.rateChange)?(a(),l("div",oa,[r("div",ra,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(String(e.positionInfo&&e.positionInfo.minPrice),6))),1),aa,r("div",sa,n(e.positionInfo&&((S=(K=e.positionInfo)==null?void 0:K.maxPrice)==null?void 0:S.indexOf("âˆž"))>-1||e.positionInfo&&((A=(ae=e.positionInfo)==null?void 0:ae.maxPrice)==null?void 0:A.indexOf("+"))>-1?"âˆž":("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(String(e.positionInfo&&((L=e.positionInfo)==null?void 0:L.maxPrice)),6)))+" "+n((ue=(O=e.positionInfo)==null?void 0:O.token_b)==null?void 0:ue.symbol)+" per "+n((x=(ge=e.positionInfo)==null?void 0:ge.token_a)==null?void 0:x.symbol),1)])):(a(),l("div",la,[r("div",ua,n(("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(String(1/Number(e.positionInfo&&((J=e.positionInfo)==null?void 0:J.maxPrice))),6))),1),ca,r("div",da,n(e.positionInfo&&((de=e.positionInfo.maxPrice)==null?void 0:de.indexOf("âˆž"))>-1||e.positionInfo&&((te=e.positionInfo.maxPrice)==null?void 0:te.indexOf("+"))>-1?"âˆž":("addCommom"in e?e.addCommom:k(G))(("decimalUi"in e?e.decimalUi:k($))(String(1/Number(e.positionInfo&&((Ae=e.positionInfo)==null?void 0:Ae.minPrice))),6)))+" "+n((ce=(W=e.positionInfo)==null?void 0:W.token_a)==null?void 0:ce.symbol)+" per "+n((_e=(ze=e.positionInfo)==null?void 0:ze.token_b)==null?void 0:_e.symbol),1)])),(a(),l("svg",{class:"icon-change","aria-hidden":"true",onClick:u[0]||(u[0]=xe=>e.rateChange=!e.rateChange)},va))])]),ee(p,{disabled:("checkNullObj"in e?e.checkNullObj:k(fe))(e.positionInfo)||e.isAutoStakeFarming&&!((ai=e.positionInfo)!=null&&ai.clmm_pool_id),onClick:u[1]||(u[1]=xe=>e.router.push(e.positionDetailUrl))},{default:Oe(()=>[ci(n(e.$t("newAdd.viewDetail")),1)]),_:1},8,["disabled"])]}),_:1},8,["title"])}const pa=Ke(Yr,[["render",fa],["__scopeId","data-v-b2b2fe57"]]),ga=Ge({props:{poolInfo:{type:Object,default:()=>({})},isActive:{type:Boolean,default:!0}},setup(e,u){const N=Mi();y(()=>N);const w=P(!1),M=P(),H=P(!0),C=ri(),I=y(()=>C),p=y(()=>I.value.newTopPoolsObj),Y=T=>{var ie,z,d,t;const U=T[(ie=e==null?void 0:e.poolInfo)==null?void 0:ie.poolAddress]||{};let D=0;U&&!fe(U)&&((d=(z=U==null?void 0:U.stable_farming)==null?void 0:z.stable_rewarder)==null||d.forEach(g=>{g.amount_second>0&&(D+=g.amount_second)}),D>0?(w.value=!0,M.value={id:U.stable_farming.stable_farming_pool,clmm_pool_id:(t=e==null?void 0:e.poolInfo)==null?void 0:t.poolAddress},u.emit("sendFarmsPoolInfo",H.value&&e.isActive?M.value:"")):(w.value=!1,u.emit("sendFarmsPoolInfo","")))};return se(()=>[p.value,e.poolInfo],([T,U])=>{T&&!fe(T)&&U&&!fe(U)&&Y(T)},{immediate:!0}),se(()=>[e.isActive,H.value,M.value],([T,U,D])=>{u.emit("sendFarmsPoolInfo",U&&e.isActive?D:"")},{immediate:!0}),{isShowAutoStake:w,changeIsOpen:()=>{H.value=!H.value,u.emit("sendFarmsPoolInfo",H.value&&e.isActive?M.value:"")},isOpen:H}}});const ba=e=>(bi("data-v-489098d8"),e=e(),ki(),e),ka={key:0,class:"farms-auto-stake"},ha=ba(()=>r("div",{class:"icon-desc"},[r("img",{class:"farms-icon",src:nt,alt:""}),r("div",{class:"desc"},"Automatically stake your position into the farm to enjoy higher yield.")],-1)),ya={class:"switch-box"},Ca={key:0,class:"check-box-active plus-switch plus-liquidity-switch"},Pa={class:"check-box-active plus-switch plus-liquidity-switch"};function Sa(e,u,N,w,M,H){const C=Ei,I=Ji;return e.isShowAutoStake?(a(),l("div",ka,[ha,r("div",ya,[e.isActive?(a(),l("div",Ca,[ee(C,{class:"liquidity-switch",checked:e.isOpen,onClick:e.changeIsOpen},null,8,["checked","onClick"])])):(a(),Ze(I,{key:1,"overlay-style":{"min-width":"200px"},"overlay-class-name":"ant-tooltip-text-color"},mt({default:Oe(()=>[r("div",Pa,[ee(C,{class:"liquidity-switch",checked:!1,onClick:()=>{}})])]),_:2},[e.isActive?void 0:{name:"title",fn:Oe(()=>[ci("Farming rewards only available for active positions.")]),key:"0"}]),1024))])])):v("",!0)}const Ia=Ke(ga,[["render",Sa],["__scopeId","data-v-489098d8"]]),wa=Ge({components:{SuiLiquidityTitle:St,SuiLiquidityDepositRatio:It,InputLock:At,SuiAddOrCreate:zr,SuiFarmsAutoStake:Ia,TokenInputBlock:Nt,SuiLiquidityLever:Jr,SuiViewDetail:pa},setup(){const{t:e,locale:u}=zi(),N=ri(),w=y(()=>N),M=y(()=>w.value.chainName),H=yi(),C=y(()=>H),I=bt(),p=y(()=>I),Y=hi(),s=y(()=>{let o=null;for(const b in C.value.poolsObj){const q=C.value.poolsObj[b];q.address==Y.query.poolAddress&&(o=q)}return console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:272 ~ constpoolInfo:any=computed ~ info:",o),o}),T=P(!1),U=P(!1),D=y(()=>w.value.theme),ie=async(o,b)=>{E.value=o.needReverse?o.token_b:o.token_a,j.value=o.needReverse?o.token_a:o.token_b,Q.value="",V.value=""},z=y(()=>p.value.assets&&E.value&&p.value.assets[E.value.address]?Xi(p.value.assets[E.value.address].balance,E.value.decimals):"0"),d=y(()=>p.value.assets&&j.value&&p.value.assets[j.value.address]?Xi(p.value.assets[j.value.address].balance,j.value.decimals):"0"),t=P(),g=P(),f=P(),B=P(!1),F=o=>{var b,q,be,le;t.value=o,o==="fromCoin"?(g.value=((b=j.value)==null?void 0:b.address)||"",f.value=Y.query.actions=="new-position"?(q=E.value)==null?void 0:q.address:s.value.needReverse?s.value.token_b.address:s.value.token_a.address):(g.value=((be=E.value)==null?void 0:be.address)||"",f.value=Y.query.actions=="new-position"?(le=j.value)==null?void 0:le.address:s.value.needReverse?s.value.token_a.address:s.value.token_b.address),B.value=!0},K=o=>{var be,le,Ie,we,ke,ye,Ce,$e;const b=s.value.needReverse?s.value.token_b:s.value.token_a,q=s.value.needReverse?s.value.token_a:s.value.token_b;t.value==="fromCoin"?(((be=E.value)==null?void 0:be.address)===(b==null?void 0:b.address)||!((le=E.value)!=null&&le.address)?(j.value&&o.address.toLowerCase()===((Ie=j)==null?void 0:Ie.value.address.toLowerCase())&&(j.value=null),E.value=o):(E.value&&o.address.toLowerCase()===((we=E)==null?void 0:we.value.address.toLowerCase())&&(E.value=null),j.value=o),Y.query.action||(Y.query.fee="")):((ke=j.value)==null?void 0:ke.address)===(q==null?void 0:q.address)||!((ye=j.value)!=null&&ye.address)?(E.value&&o.address.toLowerCase()===((Ce=E)==null?void 0:Ce.value.address.toLowerCase())&&(E.value=null),j.value=o):(j.value&&o.address.toLowerCase()===(($e=j)==null?void 0:$e.value.address.toLowerCase())&&(j.value=null),E.value=o),B.value=!1},S=y(()=>w.value.chainName?qi(w.value.chainName):{}),ae=y(()=>w.value.slippage),A=P(),L=async()=>{var De,qe,Me,ii;if(We.value||!X.value&&!R.value)return!1;if(!Q.value&&!V.value&&!X.value&&!R.value)return;const o=s.value||{};if(fe(o))return;const{TickUtil:b,TickMath:q,getNearestTickByTick:be}=S.value,le=o==null?void 0:o.token_a.decimals,Ie=o==null?void 0:o.token_b.decimals;let we,ke,ye,Ce,$e,Ne,Qe,ui,he=o==null?void 0:o.current_tick_index;if(!he)return;let ve;if(o.token_a.address.toLowerCase()===E.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===j.value.address.toLowerCase()?ve=!0:ve=!1,X.value==="0"&&R.value==="âˆž")ye=b.getMinIndex(Number(o.tickSpacing)),Ce=b.getMaxIndex(Number(o.tickSpacing)),$e=q.tickIndexToSqrtPriceX64(ye),Ne=q.tickIndexToSqrtPriceX64(Ce);else if(re.value=="custom"){ve?(we=X.value,ke=R.value):(we=R.value!=="âˆž"?new _(1).div(R.value).toString():1/0,ke=new _(1).div(X.value).toString());try{Qe=new _(we).equals(new _(0))?-443636:q.priceToTickIndex(new _(we),le,Ie)}catch{Qe=-443636}try{ui=q.priceToTickIndex(new _(ke),le,Ie)}catch{ui=443636}ye=be(Qe,Number(o.tickSpacing),!0),Ce=be(ui,Number(o.tickSpacing),!0);try{$e=q.priceToSqrtPriceX64(new _(we),le,Ie)}catch{(ke===1/0||ke==="âˆž")&&($e=q.tickIndexToSqrtPriceX64(b.getMinIndex(Number(o.tickSpacing))))}try{Ne=q.priceToSqrtPriceX64(new _(ke),le,Ie)}catch{(ke===1/0||ke==="âˆž")&&(Ne=q.tickIndexToSqrtPriceX64(b.getMaxIndex(Number(o.tickSpacing))))}}else ye=(De=vi.value[re.value])==null?void 0:De.lower,Ce=(qe=vi.value[re.value])==null?void 0:qe.upper,$e=q.tickIndexToSqrtPriceX64(ye),Ne=q.tickIndexToSqrtPriceX64(Ce);if(R.value!=="âˆž"&&ye>=Ce){console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:639 ~ updateAmounts ~",R.value!=="âˆž"&&ye>=Ce),T.value=!0,Q.value="",U.value=!0,V.value="";return}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:708 ~ updateAmounts ~ currentTickIndex:",he),R.value==="âˆž"||he>=ye&&he<Ce){T.value=!1,U.value=!1;let pe;if(Q.value||V.value){if(Fe.value){const Ui=new _(Q.value).mul(Math.pow(10,E.value.decimals)).toString();pe=new je(Ui)}else{const Ui=new _(V.value).mul(Math.pow(10,j.value.decimals)).toString();pe=new je(Ui)}q.tickIndexToSqrtPriceX64(s.value.current_tick_index);const{liquidityAmount:Re,tokenMaxA:ti,tokenMaxB:Ti,tokenMaxAOrigin:at,tokenMaxBOrigin:st}=S.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:ye,upperTick:Ce,coinAmount:pe,iscoinA:ve?Fe.value:!Fe.value,roundUp:!0,slippage:Number(ae.value)/100,curSqrtPrice:new je(s.value.current_sqrt_price)});A.value={liquidityAmount:Re,tokenMaxA:ti,tokenMaxB:Ti,tokenMaxAOrigin:at,tokenMaxBOrigin:st},ve?Fe.value?V.value=Number(Ti)>0?Ti:"":Q.value=Number(ti)>0?ti:"":Fe.value?V.value=ti:Q.value=Ti}}else if(he>=Ce){if(ve?Q.value="":V.value="",T.value=ve,U.value=!ve,Q.value||V.value){let pe;if(ve){const Re=new _(V.value).mul(Math.pow(10,(Me=j.value)==null?void 0:Me.decimals)).toString();pe=new je(Re),A.value={liquidityAmount:S.value.estimateLiquidityForCoinB($e,Ne,pe),tokenMaxA:0,tokenMaxB:V.value}}else{const Re=new _(Q.value).mul(Math.pow(10,(ii=E.value)==null?void 0:ii.decimals)).toString();pe=new je(Re),A.value={liquidityAmount:S.value.estimateLiquidityForCoinB($e,Ne,pe),tokenMaxA:0,tokenMaxB:Q.value}}}}else if(he<ye){if(T.value=!ve,U.value=ve,ve?V.value="":Q.value="",Q.value||V.value){let pe;if(ve){const Re=new _(Q.value).mul(Math.pow(10,E.value.decimals)).toString();pe=new je(Re),A.value={liquidityAmount:S.value.estimateLiquidityForCoinA($e,Ne,pe),tokenMaxA:Q.value,tokenMaxB:0}}else{const Re=new _(V.value).mul(Math.pow(10,j.value.decimals)).toString();pe=new je(Re),A.value={liquidityAmount:S.value.estimateLiquidityForCoinA($e,Ne,pe),tokenMaxA:V.value,tokenMaxB:0}}}}else T.value=!0,console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:783 ~ updateAmounts ~ showFromCoinLock.value:",T.value),Q.value="",U.value=!0,V.value=""};se(()=>s.value,(o,b)=>{(!b&&o&&!fe(o)||b&&o&&b.address!==o.address)&&ie(o,!b||o.address!==b.address),o&&!fe(o)&&L()},{immediate:!0}),se(Q,(o,b)=>{o==""&&Fe.value&&(V.value=""),o&&Fe.value&&!We.value&&L()}),se(V,(o,b)=>{o==""&&!Fe.value&&(Q.value=""),o&&!Fe.value&&!We.value&&L()}),se(()=>Pe.value,(o,b)=>{L()}),se(()=>[E.value,j.value],([o,b])=>{o&&b&&(T.value=!1,U.value=!1)});const O=P("--"),ue=y(()=>C.value.RATES),ge=()=>{const o=ue.value&&ue.value[E.value.address]&&ue.value[E.value.address].price,b=ue.value&&ue.value[j.value.address]&&ue.value[j.value.address].price;if(o&&b){const q=new _(Q.value>0?Q.value:0).mul(o),be=new _(V.value>0?V.value:0).mul(b),le=q.add(be).toNumber();O.value=le>0&&le<.01?"<$0.01":"$"+G(le,2)}else O.value="--"};se(()=>[Q.value,V.value,We.value],([o,b,q])=>{(o||b)&&!q?ge():(!o||!b)&&!q&&(O.value="--")},{immediate:!0});const x=P(),J=async()=>{var ve,De;if(!X.value&&!R.value)return!1;if(!Q.value&&!V.value&&!X.value&&!R.value)return;const o=s.value;if(fe(o))return;const{TickUtil:b,TickMath:q,getNearestTickByTick:be}=S.value,le=o==null?void 0:o.token_a.decimals,Ie=o==null?void 0:o.token_b.decimals;let we,ke,ye,Ce,$e,Ne,Qe;if(o.token_a.address.toLowerCase()===E.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===j.value.address.toLowerCase()?Qe=!0:Qe=!1,X.value==="0"&&R.value==="âˆž")ye=b.getMinIndex(Number(o.tickSpacing)),Ce=b.getMaxIndex(Number(o.tickSpacing));else if(re.value=="custom"){Qe?(we=Number(X.value),ke=Number(R.value)):(we=new _(1).div(R.value).toString(),ke=new _(1).div(X.value).toString());try{$e=we==0?-443636:q.priceToTickIndex(new _(we),le,Ie)}catch{$e=-443636}try{Ne=q.priceToTickIndex(new _(ke),le,Ie)}catch{Ne=443636}ye=be($e,Number(o.tickSpacing),!0),Ce=be(Ne,Number(o.tickSpacing),!0)}else ye=(ve=vi.value[re.value])==null?void 0:ve.lower,Ce=(De=vi.value[re.value])==null?void 0:De.upper;const ui=ue.value[o==null?void 0:o.token_a.address].price,he=ue.value[o==null?void 0:o.token_b.address].price;Pe.value?new je(o.current_sqrt_price):new je(1/o.current_sqrt_price);try{const{amountA:qe,amountB:Me,tokenAmountsInfo:ii}=await S.value.estCoinAmountsFromTotalAmount({lowerTick:ye,upperTick:Ce,decimalsA:le,decimalsB:Ie,curSqrtPrice:new je(o.current_sqrt_price),totalAmount:O.value.replace(/[^\d.]/g,""),tokenPriceA:ui,tokenPriceB:he});x.value=ii,o.needReverse?Pe.value?(Q.value=qe,V.value=Me):(Q.value=Me,V.value=qe):(Q.value=qe,V.value=Me)}catch(qe){console.log(qe,"e===>")}};se([X,R],([o,b])=>{We.value?We.value&&J():L(),b!=="âˆž"&&Number(o)!==0&&Number(b)!==0&&Number(o)>=Number(b)?pi.value=!0:pi.value=!1,Number(o)==0&&Number(b)==0&&gi.value&&(pi.value=!0)},{deep:!0,immediate:!0});const de=o=>{const b=o.replace(/[^\d.]/g,""),q="$"+G(b);We.value=!0,O.value=q,b>0?J():(Q.value="",V.value="")},te=P(!1),{setTransactionTxid:Ae,setTransactionDesc:W,setIsShowWaiting:ce,setIsShowSuccess:ze,setPositiomNum:_e,setIsShowRejected:ai}=N,xe=ot(),Ee=y(()=>C.value.currentPositionInfo),di=P(!1),Be=P(!0),Te=Mi(),He=y(()=>Te),Je=y(()=>He.value.farmsPoolObj);se(()=>[Je.value,s.value],([o,b])=>{o&&!fe(o)&&b&&!fe(b)&&(o[b.address]||(Be.value=!1))},{immediate:!0});const Ye=P(),Xe=P(),Le=o=>{Ye.value=o,o?Be.value=!0:Be.value=!1},i=async(o,b,q,be)=>{try{b=="farming"?await C.value.setCurrentPositionInfo("","","","Sui",q,"farming"):await C.value.setCurrentPositionInfo(o,"","",M.value,be),await pt(3e3),Be.value?await xe.subscribePosition({pool_address:Ee.value.clmm_pool_id,position_index:Ee.value.name.split("-")[1]},Ee.value.clmm_position_id):await xe.subscribePosition({pool_address:Ee.value.poolAddress,position_index:Ee.value.index},Ee.value.nftHash)}catch(le){console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1151 ~ notifiSubscribePosition ~ error:",le)}},h=async o=>{var $e,Ne,Qe,ui;te.value=!1,C.value.currentPositionInfo={},Ae(""),W(e("tips.increaseLiquiditySuccess",{from:T.value?"":`${G(Q.value)} ${($e=E.value)==null?void 0:$e.symbol}`,and:!T.value&&!U.value?"and":"",to:U.value?"":`${G(V.value)} ${(Ne=j.value)==null?void 0:Ne.symbol}`})),ce(!0);const b=Pe.value?Fe.value:!Fe.value;let q,be,le,Ie,we,ke;const ye=s.value.token_a.decimals,Ce=s.value.token_b.decimals;if(X.value==="0"&&R.value==="âˆž")le=S.value.TickUtil.getMinIndex(Number(s.value.tickSpacing)),Ie=S.value.TickUtil.getMaxIndex(Number(s.value.tickSpacing));else if(re.value=="custom"){Pe.value?(q=X.value,be=R.value):(q=new _(1).div(R.value).toString(),be=new _(1).div(X.value).toString());try{we=q==0?S.value.TickUtil.getMinIndex(Number(s.value.tickSpacing)):S.value.TickMath.priceToTickIndex(new _(q),ye,Ce)}catch{we=S.value.TickUtil.getMinIndex(Number(s.value.tickSpacing))}try{ke=S.value.TickMath.priceToTickIndex(new _(be),ye,Ce)}catch{ke=S.value.TickUtil.getMaxIndex(Number(s.value.tickSpacing))}le=S.value.getNearestTickByTick(we,Number(s.value.tickSpacing),!0),Ie=S.value.getNearestTickByTick(ke,Number(s.value.tickSpacing),!0)}else le=vi.value[re.value].lower,Ie=vi.value[re.value].upper;try{let he;We.value?he=await S.value.getCreateAddLiquidityPayload({pool:s.value,curSqrtPrice:new je(s.value.current_sqrt_price),tickLower:le,tickUpper:Ie,slippage:Number(ae.value)/100,tokenAmounts:x.value}):he=await S.value.getAddLiquidityTransactionPayload({pool:{poolAddress:s.value.poolAddress,token_a:s.value.token_a,token_b:s.value.token_b},amount:Fe.value?Q.value:V.value,fix_amount_a:b,tick_lower:le,tick_upper:Ie,index:0,slippage:Number(ae.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new je(s.value.current_sqrt_price),farmPoolInfo:Ye.value});let ve;if(M.value==="Aptos")ve=await p.value.currentWallet.signAndSubmitTransaction(he);else{const De=await S.value.signAndExecuteTransactionBlock(p.value.currentWallet,he==null?void 0:he.txb,he==null?void 0:he.payloadParams);ve=S.value.handleTx(De)}if(console.log("0410###tx###",ve),ve&&ve.hash){Ae(ve.hash),ce(!1),ze(!0);let De;s.value.needReverse?s.value.token_a.address.toLowerCase()===E.value.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===j.value.address.toLowerCase()?De=!1:De=!0:s.value.token_a.address.toLowerCase()===E.value.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===j.value.address.toLowerCase()?De=!0:De=!1;const qe={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:T.value?"":`${G(Q.value)} ${(Qe=E.value)==null?void 0:Qe.symbol}`,and:!T.value&&!U.value?"and":"",to:U.value?"":`${G(V.value)} ${(ui=j.value)==null?void 0:ui.symbol}`}),hash:ve.hash,tit:"Position Created",icon:"icon-icon-Position-Created"};M.value!=="Aptos"&&(qe.res=ve.res),S.value.showTransitionPending(qe),console.log(qe,"toAdd params###");const Me=await S.value.watchTransaction(qe,!0);if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1295 ~ toAdd ~ watchInfo:",Me),Me.status){ze(!1),C.value.setCurrentPositionLoading(!0);let ii,pe;M.value==="Aptos"?Xe.value={token_a:s.value.token_a,token_b:s.value.token_b,minPrice:X.value,maxPrice:R.value,pool:s.value.address,collection:Me.nftInfo[0].data.id.collection,tokenName:Me.nftInfo[0].data.name}:(pe=Me.nftInfo,console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1319 ~ toAdd ~ nftInfo:",pe),Be.value?(Me.res.events.forEach(ti=>{ti.type.indexOf("::pool::DepositEvent")>-1&&(ii=ti.parsedJson.wrapped_position_id)}),Xe.value={token_a:s.value.needReverse?s.value.token_b:s.value.token_a,token_b:s.value.needReverse?s.value.token_a:s.value.token_b,minPrice:X.value,maxPrice:R.value,id:ii,clmm_pool_id:s.value.address,pool:s.value.address}):Xe.value={token_a:s.value.needReverse?s.value.token_b:s.value.token_a,token_b:s.value.needReverse?s.value.token_a:s.value.token_b,minPrice:X.value,maxPrice:R.value,pos_object_id:pe.position,pool:s.value.address},console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1389 ~ toAdd ~ positionInfoDetail:",Xe.value)),di.value=!0;const Re=s.value.poolAddress;setTimeout(()=>{if(o){const ti=ii?"farming":"clmm";console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1400 ~ setTimeout ~ poolInfo.value.poolAddress:",Re),i(Re,ti,ii,pe==null?void 0:pe.position)}},3e3),setTimeout(()=>{H.updateCurrentPools(Re,M.value),S.value.getAccount(p.value.address)},3e3),setTimeout(async()=>{Hi(S,s)},7e3)}_e()}else ce(!1),ai(!0);Q.value="",V.value=""}catch(he){Q.value="",V.value="",console.log("0330###Add liquidity Error###",he),ce(!1),ai(!0)}},Z=y(()=>!!(!Q.value&&!V.value||Number(Q.value)>Number(z.value)||Number(V.value)>Number(d.value)||m.value!==e("button.addLiquidity")&&m.value!==e("newAdd.preview")||s.value&&s.value&&s.value.is_pause||Number(Q.value)<=0&&Number(V.value)<=0||!T.value&&Number(Q.value)==0||!U.value&&Number(V.value)==0)),c=y(()=>!E.value||!j.value),m=y(()=>s.value&&s.value.is_pause?"Pool Closed":!E.value||!j.value||c.value?e("modal.selectTokenModalTitle"):Number(Q.value)>Number(z.value)?e("button.insufficientBalance",{name:E.value.symbol}):Number(V.value)>Number(d.value)?e("button.insufficientBalance",{name:j.value.symbol}):!Number(Q.value)&&!Number(V.value)?e("button.enterAmount"):R.value!=="âˆž"&&Number(X.value)>=Number(R.value)?e("newAdd.invalidRange"):e("button.addLiquidity")),ne=P({}),oe=P({}),me=P(!1),si=(o,b)=>{const q=localStorage.getItem(o.address);console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-right.vue:1518 ~ getTokenSource ~ coinLocak:",q,o),o!=null&&o.isSelfBuilt&&!q&&(b=="fromCoin"&&(ne.value=o),b=="toCoin"&&(oe.value=o),me.value=!0)};se(()=>[E.value,j.value],([o,b])=>{o&&!fe(o)&&si(o,"fromCoin"),b&&!fe(b)&&si(b,"toCoin")},{immediate:!0});const mi=Qi(),ei=()=>{M.value!=="Aptos"?mi.push("/pool/list"):mi.push("/pools")},li=o=>{We.value,h(o)},Si=()=>{Y.query.action!=="create-pool"&&Y.query.actions!=="new-position"&&(Hi(S,s),L(),p.value.address&&S.value.getAccount(p.value.address),H.updateCurrentPools(s.value.poolAddress,M.value)),H.setPoolConfigList(M.value,w.value.filterCoinsObj)},Ii=y(()=>{var q,be,le,Ie,we,ke;const o=(le=ue.value[(be=(q=E)==null?void 0:q.value)==null?void 0:be.address])==null?void 0:le.price,b=(ke=ue.value[(we=(Ie=j)==null?void 0:Ie.value)==null?void 0:we.address])==null?void 0:ke.price;return!!(o&&b)});se(()=>[Y,C.value.tokensObj],([o,b])=>{var q;b&&!fe(b)&&(j.value||(j.value=C.value.tokensObj[(q=o==null?void 0:o.query)==null?void 0:q.toCoin]))},{immediate:!0,deep:!0});const wi=P(!1);return{lever:y(()=>{const o=Number(X.value),b=Number(R.value);if(X.value=="0"&&R.value=="âˆž"||re.value=="full range")return"1x";if(X.value==R.value||re.value=="full range")return"--";if(X.value&&R.value&&X.value!=="0"&&R.value!=="âˆž"){const q=et(1/(1-Number((o/b)**.25)),2);return Number(q)>0?q+"x":"--"}else return 1}),isInputActive:wi,positionError:pi,decimalUi:$,poolInfo:s,fromCoinAmount:Q,toCoinAmount:V,fromCoin:E,toCoin:j,theme:D,showFromCoinLock:T,showToCoinLock:U,fromCoinBlance:z,toCoinBlance:d,fixedFromCoin:Fe,openCoinSelect:F,currentCoinKey:t,existingCoins:g,lastSelectCoin:f,showCoinSelect:B,onCoinSelect:K,liquidityTotalAmount:O,toggle:Vi,onInput:de,isInputTotalAmount:We,isViewDetail:di,addLiquidityBtnDisabled:Z,addLiquidityBtnText:m,isShowTokenWarning:me,chainName:M,closeTokenWarning:ei,warningFromCoin:ne,warningToCoin:oe,isShowLiquidityModal:te,currentPrice:gi,currentPriceReverse:_i,currentPriceTab:re,minPrice:X,maxPrice:R,toAdd:h,direction:Pe,wallet:p,getAddLiquidityType:li,clickRefresh:Si,isShowtotalAmount:Ii,isAutoStakeFarming:Be,farmPoolInfo:Ye,getFarmsPoolInfo:Le,positionInfoDetail:Xe,getTokenSource:si}}});const Ta={class:"sui-liquidity-right-box"},$a={class:"sui-liquidity-right"},Aa={class:"deposit-title"},_a={key:0,class:"create-pool-lock"},La=r("img",{src:qt,alt:""},null,-1),Na=[La],qa={key:0,class:"from-lock"},Ma={key:1,class:"to-lock"},Ra=r("div",{class:"exchange-new"},[r("svg",{class:"icon icon-down","aria-hidden":"true"},[r("use",{"xlink:href":"#icon-icon_add1"})])],-1),Ua=[Ra],Fa={class:"show-info"},Oa={key:0,class:"total-amount"},Ba=r("span",null,"Total Amount",-1);function Da(e,u,N,w,M,H){const C=Se("SuiLiquidityTitle"),I=Se("TokenInputBlock"),p=Se("InputLock"),Y=Se("SuiLiquidityDepositRatio"),s=Se("SuiLiquidityLever"),T=Ni,U=Pt,D=Se("SuiViewDetail"),ie=Se("SuiAddOrCreate"),z=Se("SuiFarmsAutoStake");return a(),l("div",Ta,[r("div",$a,[r("div",Aa,[ee(C,{"pool-info":e.poolInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"])]),e.positionError?(a(),l("div",_a,Na)):v("",!0),r("div",{class:ni(["card-container",e.isInputActive?e.fixedFromCoin?"input-block-add-top":"input-block-add-bottom":"input-block-add-top input-block-inactive"])},[ee(I,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":u[0]||(u[0]=d=>e.fromCoinAmount=d),"input-value":e.fromCoinAmount,"token-info":e.fromCoin||null,"has-arrow":!1,onOnInput:u[1]||(u[1]=d=>{e.isInputActive=!0,e.fromCoinAmount=d,e.fixedFromCoin=!0,e.isInputTotalAmount=!1}),onOnFocus:u[2]||(u[2]=()=>{e.isInputActive=!0,e.fixedFromCoin=!0}),onOnBlur:u[3]||(u[3]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),ee(I,{modelValue:e.toCoinAmount,"onUpdate:modelValue":u[4]||(u[4]=d=>e.toCoinAmount=d),"input-value":e.toCoinAmount,"token-info":e.toCoin||null,"has-arrow":!1,onOnInput:u[5]||(u[5]=d=>{e.isInputActive=!0,e.toCoinAmount=d,e.fixedFromCoin=!1,e.isInputTotalAmount=!1}),onOnFocus:u[6]||(u[6]=()=>{e.isInputActive=!0,e.fixedFromCoin=!1}),onOnBlur:u[7]||(u[7]=()=>{e.isInputActive=!1})},null,8,["modelValue","input-value","token-info"]),e.showFromCoinLock&&!e.positionError?(a(),l("div",qa,[ee(p,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])])):v("",!0),e.showToCoinLock&&!e.positionError?(a(),l("div",Ma,[ee(p,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])])):v("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(a(),l("div",{key:2,class:"new-sui-exchange to-add-logo",onClick:u[8]||(u[8]=(...d)=>e.toggle&&e.toggle(...d))},Ua)):v("",!0)],2),r("div",Fa,[e.isShowtotalAmount?(a(),l("div",Oa,[Ba,r("span",null,n(e.liquidityTotalAmount),1)])):v("",!0),ee(Y,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.currentPriceTab,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"]),ee(s,{lever:e.lever},null,8,["lever"])]),ee(T,{class:"big-btn",disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,onClick:u[9]||(u[9]=d=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:Oe(()=>[ci(n(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),e.showCoinSelect?(a(),Ze(U,{key:1,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:u[10]||(u[10]=d=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):v("",!0),e.isViewDetail?(a(),Ze(D,{key:2,"pool-info":e.poolInfo,"farm-pool-info":e.farmPoolInfo,"position-info":e.positionInfoDetail,"is-auto-stake-farming":e.isAutoStakeFarming,onOnClose:u[11]||(u[11]=d=>e.isViewDetail=!1)},null,8,["pool-info","farm-pool-info","position-info","is-auto-stake-farming"])):v("",!0),e.isShowLiquidityModal?(a(),Ze(ie,{key:3,"pool-info":e.poolInfo,title:e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,onToAdd:e.getAddLiquidityType,onOnClose:u[12]||(u[12]=d=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onToAdd"])):v("",!0)]),ee(z,{"pool-info":e.poolInfo,"is-active":!e.showFromCoinLock&&!e.showToCoinLock,"is-auto-stake-farming":e.isAutoStakeFarming,onSendFarmsPoolInfo:e.getFarmsPoolInfo},null,8,["pool-info","is-active","is-auto-stake-farming","onSendFarmsPoolInfo"])])}const ja=Ke(wa,[["render",Da]]),za=Ge({components:{SuiLiquidityLeft:Gn,SuiLiquidityRight:ja},setup(){const e=Mi(),u=y(()=>e),N=y(()=>u.value.farmsPoolObj);Ki(()=>{vt(),H.setPoolsLoading(!0)}),se(()=>N.value,C=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: deposit.vue:41 ~ watch ~ newVal:",C),C&&fe(C)&&e.getFarmsPoolList(!0)},{immediate:!0});const w=hi(),M=ri();y(()=>M);const H=yi();return{tickList:fi,route:w}}});const Ea={key:0,class:"loading-spin-liquidity loading-global"},Ha={class:"privide-liquidity"};function Xa(e,u,N,w,M,H){var Y,s;const C=Zi,I=Se("SuiLiquidityLeft"),p=Se("SuiLiquidityRight");return a(),l(Ve,null,[!e.tickList&&((s=(Y=e.route)==null?void 0:Y.query)!=null&&s.poolAddress)?(a(),l("div",Ea,[ee(C)])):v("",!0),r("div",Ha,[ee(I),ee(p)])],64)}const Ls=Ke(za,[["render",Xa],["__scopeId","data-v-d32d60da"]]);export{Ls as default};
