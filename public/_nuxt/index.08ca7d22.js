import{k as Jt}from"./pool.83f6439f.js";import{r as xr,a as Hr}from"./index.3f134baf.js";var Fe=xr,Kr=Hr,Wr=Object.create,Ke=Object.defineProperty,Gr=Object.defineProperties,zr=Object.getOwnPropertyDescriptor,Xr=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertyNames,pr=Object.getOwnPropertySymbols,Jr=Object.getPrototypeOf,Or=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,mr=(t,e,r)=>e in t?Ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,We=(t,e)=>{for(var r in e||(e={}))Or.call(e,r)&&mr(t,r,e[r]);if(pr)for(var r of pr(e))Yr.call(e,r)&&mr(t,r,e[r]);return t},Ge=(t,e)=>Gr(t,Xr(e)),Qr=(t=>typeof Jt<"u"?Jt:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof Jt<"u"?Jt:e)[r]}):t)(function(t){if(typeof Jt<"u")return Jt.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),ti=(t,e)=>function(){return e||(0,t[Er(t)[0]])((e={exports:{}}).exports,e),e.exports},ei=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Er(e))!Or.call(t,n)&&n!==r&&Ke(t,n,{get:()=>e[n],enumerable:!(s=zr(e,n))||s.enumerable});return t},se=(t,e,r)=>(r=t!=null?Wr(Jr(t)):{},ei(!t||!t.__esModule?Ke(r,"default",{value:t,enumerable:!0}):r,t)),$=(t,e,r)=>new Promise((s,n)=>{var l=g=>{try{f(r.next(g))}catch(c){n(c)}},a=g=>{try{f(r.throw(g))}catch(c){n(c)}},f=g=>g.done?s(g.value):Promise.resolve(g.value).then(l,a);f((r=r.apply(t,e)).next())}),oe=ti({"node_modules/bn.js/lib/bn.js"(t,e){(function(r,s){function n(w,i){if(!w)throw new Error(i||"Assertion failed")}function l(w,i){w.super_=i;var u=function(){};u.prototype=i.prototype,w.prototype=new u,w.prototype.constructor=w}function a(w,i,u){if(a.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((i==="le"||i==="be")&&(u=i,i=10),this._init(w||0,i||10,u||"be"))}typeof r=="object"?r.exports=a:s.BN=a,a.BN=a,a.wordSize=26;var f;try{typeof window<"u"&&typeof window.Buffer<"u"?f=window.Buffer:f=Qr("buffer").Buffer}catch{}a.isBN=function(i){return i instanceof a?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===a.wordSize&&Array.isArray(i.words)},a.max=function(i,u){return i.cmp(u)>0?i:u},a.min=function(i,u){return i.cmp(u)<0?i:u},a.prototype._init=function(i,u,h){if(typeof i=="number")return this._initNumber(i,u,h);if(typeof i=="object")return this._initArray(i,u,h);u==="hex"&&(u=16),n(u===(u|0)&&u>=2&&u<=36),i=i.toString().replace(/\s+/g,"");var p=0;i[0]==="-"&&(p++,this.negative=1),p<i.length&&(u===16?this._parseHex(i,p,h):(this._parseBase(i,u,p),h==="le"&&this._initArray(this.toArray(),u,h)))},a.prototype._initNumber=function(i,u,h){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(n(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),u,h)},a.prototype._initArray=function(i,u,h){if(n(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,y,C=0;if(h==="be")for(p=i.length-1,v=0;p>=0;p-=3)y=i[p]|i[p-1]<<8|i[p-2]<<16,this.words[v]|=y<<C&67108863,this.words[v+1]=y>>>26-C&67108863,C+=24,C>=26&&(C-=26,v++);else if(h==="le")for(p=0,v=0;p<i.length;p+=3)y=i[p]|i[p+1]<<8|i[p+2]<<16,this.words[v]|=y<<C&67108863,this.words[v+1]=y>>>26-C&67108863,C+=24,C>=26&&(C-=26,v++);return this._strip()};function g(w,i){var u=w.charCodeAt(i);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;n(!1,"Invalid character in "+w)}function c(w,i,u){var h=g(w,u);return u-1>=i&&(h|=g(w,u-1)<<4),h}a.prototype._parseHex=function(i,u,h){this.length=Math.ceil((i.length-u)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,y=0,C;if(h==="be")for(p=i.length-1;p>=u;p-=2)C=c(i,u,p)<<v,this.words[y]|=C&67108863,v>=18?(v-=18,y+=1,this.words[y]|=C>>>26):v+=8;else{var d=i.length-u;for(p=d%2===0?u+1:u;p<i.length;p+=2)C=c(i,u,p)<<v,this.words[y]|=C&67108863,v>=18?(v-=18,y+=1,this.words[y]|=C>>>26):v+=8}this._strip()};function M(w,i,u,h){for(var p=0,v=0,y=Math.min(w.length,u),C=i;C<y;C++){var d=w.charCodeAt(C)-48;p*=h,d>=49?v=d-49+10:d>=17?v=d-17+10:v=d,n(d>=0&&v<h,"Invalid character"),p+=v}return p}a.prototype._parseBase=function(i,u,h){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=u)p++;p--,v=v/u|0;for(var y=i.length-h,C=y%p,d=Math.min(y,y-C)+h,o=0,m=h;m<d;m+=p)o=M(i,m,m+p,u),this.imuln(v),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(C!==0){var k=1;for(o=M(i,m,i.length,u),m=0;m<C;m++)k*=u;this.imuln(k),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this._strip()},a.prototype.copy=function(i){i.words=new Array(this.length);for(var u=0;u<this.length;u++)i.words[u]=this.words[u];i.length=this.length,i.negative=this.negative,i.red=this.red};function _(w,i){w.words=i.words,w.length=i.length,w.negative=i.negative,w.red=i.red}if(a.prototype._move=function(i){_(i,this)},a.prototype.clone=function(){var i=new a(null);return this.copy(i),i},a.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{a.prototype.inspect=b}else a.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var N=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(i,u){i=i||10,u=u|0||1;var h;if(i===16||i==="hex"){h="";for(var p=0,v=0,y=0;y<this.length;y++){var C=this.words[y],d=((C<<p|v)&16777215).toString(16);v=C>>>24-p&16777215,p+=2,p>=26&&(p-=26,y--),v!==0||y!==this.length-1?h=N[6-d.length]+d+h:h=d+h}for(v!==0&&(h=v.toString(16)+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(i===(i|0)&&i>=2&&i<=36){var o=O[i],m=S[i];h="";var k=this.clone();for(k.negative=0;!k.isZero();){var T=k.modrn(m).toString(i);k=k.idivn(m),k.isZero()?h=T+h:h=N[o-T.length]+T+h}for(this.isZero()&&(h="0"+h);h.length%u!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},a.prototype.toJSON=function(){return this.toString(16,2)},f&&(a.prototype.toBuffer=function(i,u){return this.toArrayLike(f,i,u)}),a.prototype.toArray=function(i,u){return this.toArrayLike(Array,i,u)};var P=function(i,u){return i.allocUnsafe?i.allocUnsafe(u):new i(u)};a.prototype.toArrayLike=function(i,u,h){this._strip();var p=this.byteLength(),v=h||Math.max(1,p);n(p<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0");var y=P(i,v),C=u==="le"?"LE":"BE";return this["_toArrayLike"+C](y,p),y},a.prototype._toArrayLikeLE=function(i,u){for(var h=0,p=0,v=0,y=0;v<this.length;v++){var C=this.words[v]<<y|p;i[h++]=C&255,h<i.length&&(i[h++]=C>>8&255),h<i.length&&(i[h++]=C>>16&255),y===6?(h<i.length&&(i[h++]=C>>24&255),p=0,y=0):(p=C>>>24,y+=2)}if(h<i.length)for(i[h++]=p;h<i.length;)i[h++]=0},a.prototype._toArrayLikeBE=function(i,u){for(var h=i.length-1,p=0,v=0,y=0;v<this.length;v++){var C=this.words[v]<<y|p;i[h--]=C&255,h>=0&&(i[h--]=C>>8&255),h>=0&&(i[h--]=C>>16&255),y===6?(h>=0&&(i[h--]=C>>24&255),p=0,y=0):(p=C>>>24,y+=2)}if(h>=0)for(i[h--]=p;h>=0;)i[h--]=0},Math.clz32?a.prototype._countBits=function(i){return 32-Math.clz32(i)}:a.prototype._countBits=function(i){var u=i,h=0;return u>=4096&&(h+=13,u>>>=13),u>=64&&(h+=7,u>>>=7),u>=8&&(h+=4,u>>>=4),u>=2&&(h+=2,u>>>=2),h+u},a.prototype._zeroBits=function(i){if(i===0)return 26;var u=i,h=0;return u&8191||(h+=13,u>>>=13),u&127||(h+=7,u>>>=7),u&15||(h+=4,u>>>=4),u&3||(h+=2,u>>>=2),u&1||h++,h},a.prototype.bitLength=function(){var i=this.words[this.length-1],u=this._countBits(i);return(this.length-1)*26+u};function R(w){for(var i=new Array(w.bitLength()),u=0;u<i.length;u++){var h=u/26|0,p=u%26;i[u]=w.words[h]>>>p&1}return i}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,u=0;u<this.length;u++){var h=this._zeroBits(this.words[u]);if(i+=h,h!==26)break}return i},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},a.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var u=0;u<i.length;u++)this.words[u]=this.words[u]|i.words[u];return this._strip()},a.prototype.ior=function(i){return n((this.negative|i.negative)===0),this.iuor(i)},a.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},a.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},a.prototype.iuand=function(i){var u;this.length>i.length?u=i:u=this;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]&i.words[h];return this.length=u.length,this._strip()},a.prototype.iand=function(i){return n((this.negative|i.negative)===0),this.iuand(i)},a.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},a.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},a.prototype.iuxor=function(i){var u,h;this.length>i.length?(u=this,h=i):(u=i,h=this);for(var p=0;p<h.length;p++)this.words[p]=u.words[p]^h.words[p];if(this!==u)for(;p<u.length;p++)this.words[p]=u.words[p];return this.length=u.length,this._strip()},a.prototype.ixor=function(i){return n((this.negative|i.negative)===0),this.iuxor(i)},a.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},a.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},a.prototype.inotn=function(i){n(typeof i=="number"&&i>=0);var u=Math.ceil(i/26)|0,h=i%26;this._expand(u),h>0&&u--;for(var p=0;p<u;p++)this.words[p]=~this.words[p]&67108863;return h>0&&(this.words[p]=~this.words[p]&67108863>>26-h),this._strip()},a.prototype.notn=function(i){return this.clone().inotn(i)},a.prototype.setn=function(i,u){n(typeof i=="number"&&i>=0);var h=i/26|0,p=i%26;return this._expand(h+1),u?this.words[h]=this.words[h]|1<<p:this.words[h]=this.words[h]&~(1<<p),this._strip()},a.prototype.iadd=function(i){var u;if(this.negative!==0&&i.negative===0)return this.negative=0,u=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,u=this.isub(i),i.negative=1,u._normSign();var h,p;this.length>i.length?(h=this,p=i):(h=i,p=this);for(var v=0,y=0;y<p.length;y++)u=(h.words[y]|0)+(p.words[y]|0)+v,this.words[y]=u&67108863,v=u>>>26;for(;v!==0&&y<h.length;y++)u=(h.words[y]|0)+v,this.words[y]=u&67108863,v=u>>>26;if(this.length=h.length,v!==0)this.words[this.length]=v,this.length++;else if(h!==this)for(;y<h.length;y++)this.words[y]=h.words[y];return this},a.prototype.add=function(i){var u;return i.negative!==0&&this.negative===0?(i.negative=0,u=this.sub(i),i.negative^=1,u):i.negative===0&&this.negative!==0?(this.negative=0,u=i.sub(this),this.negative=1,u):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},a.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var u=this.iadd(i);return i.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var h=this.cmp(i);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;h>0?(p=this,v=i):(p=i,v=this);for(var y=0,C=0;C<v.length;C++)u=(p.words[C]|0)-(v.words[C]|0)+y,y=u>>26,this.words[C]=u&67108863;for(;y!==0&&C<p.length;C++)u=(p.words[C]|0)+y,y=u>>26,this.words[C]=u&67108863;if(y===0&&C<p.length&&p!==this)for(;C<p.length;C++)this.words[C]=p.words[C];return this.length=Math.max(this.length,C),p!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(i){return this.clone().isub(i)};function Tt(w,i,u){u.negative=i.negative^w.negative;var h=w.length+i.length|0;u.length=h,h=h-1|0;var p=w.words[0]|0,v=i.words[0]|0,y=p*v,C=y&67108863,d=y/67108864|0;u.words[0]=C;for(var o=1;o<h;o++){for(var m=d>>>26,k=d&67108863,T=Math.min(o,i.length-1),q=Math.max(0,o-w.length+1);q<=T;q++){var kt=o-q|0;p=w.words[kt]|0,v=i.words[q]|0,y=p*v+k,m+=y/67108864|0,k=y&67108863}u.words[o]=k|0,d=m|0}return d!==0?u.words[o]=d|0:u.length--,u._strip()}var L=function(i,u,h){var p=i.words,v=u.words,y=h.words,C=0,d,o,m,k=p[0]|0,T=k&8191,q=k>>>13,kt=p[1]|0,j=kt&8191,Z=kt>>>13,Xe=p[2]|0,K=Xe&8191,W=Xe>>>13,Je=p[3]|0,G=Je&8191,z=Je>>>13,Ye=p[4]|0,X=Ye&8191,J=Ye>>>13,Qe=p[5]|0,Y=Qe&8191,Q=Qe>>>13,tr=p[6]|0,tt=tr&8191,et=tr>>>13,er=p[7]|0,rt=er&8191,it=er>>>13,rr=p[8]|0,nt=rr&8191,st=rr>>>13,ir=p[9]|0,ot=ir&8191,at=ir>>>13,nr=v[0]|0,ut=nr&8191,lt=nr>>>13,sr=v[1]|0,ht=sr&8191,ft=sr>>>13,or=v[2]|0,ct=or&8191,dt=or>>>13,ar=v[3]|0,pt=ar&8191,mt=ar>>>13,ur=v[4]|0,gt=ur&8191,vt=ur>>>13,lr=v[5]|0,wt=lr&8191,Mt=lr>>>13,hr=v[6]|0,yt=hr&8191,_t=hr>>>13,fr=v[7]|0,bt=fr&8191,Ct=fr>>>13,cr=v[8]|0,At=cr&8191,Nt=cr>>>13,dr=v[9]|0,St=dr&8191,Et=dr>>>13;h.negative=i.negative^u.negative,h.length=19,d=Math.imul(T,ut),o=Math.imul(T,lt),o=o+Math.imul(q,ut)|0,m=Math.imul(q,lt);var Me=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Me>>>26)|0,Me&=67108863,d=Math.imul(j,ut),o=Math.imul(j,lt),o=o+Math.imul(Z,ut)|0,m=Math.imul(Z,lt),d=d+Math.imul(T,ht)|0,o=o+Math.imul(T,ft)|0,o=o+Math.imul(q,ht)|0,m=m+Math.imul(q,ft)|0;var ye=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(ye>>>26)|0,ye&=67108863,d=Math.imul(K,ut),o=Math.imul(K,lt),o=o+Math.imul(W,ut)|0,m=Math.imul(W,lt),d=d+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0,o=o+Math.imul(Z,ht)|0,m=m+Math.imul(Z,ft)|0,d=d+Math.imul(T,ct)|0,o=o+Math.imul(T,dt)|0,o=o+Math.imul(q,ct)|0,m=m+Math.imul(q,dt)|0;var _e=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(_e>>>26)|0,_e&=67108863,d=Math.imul(G,ut),o=Math.imul(G,lt),o=o+Math.imul(z,ut)|0,m=Math.imul(z,lt),d=d+Math.imul(K,ht)|0,o=o+Math.imul(K,ft)|0,o=o+Math.imul(W,ht)|0,m=m+Math.imul(W,ft)|0,d=d+Math.imul(j,ct)|0,o=o+Math.imul(j,dt)|0,o=o+Math.imul(Z,ct)|0,m=m+Math.imul(Z,dt)|0,d=d+Math.imul(T,pt)|0,o=o+Math.imul(T,mt)|0,o=o+Math.imul(q,pt)|0,m=m+Math.imul(q,mt)|0;var be=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(be>>>26)|0,be&=67108863,d=Math.imul(X,ut),o=Math.imul(X,lt),o=o+Math.imul(J,ut)|0,m=Math.imul(J,lt),d=d+Math.imul(G,ht)|0,o=o+Math.imul(G,ft)|0,o=o+Math.imul(z,ht)|0,m=m+Math.imul(z,ft)|0,d=d+Math.imul(K,ct)|0,o=o+Math.imul(K,dt)|0,o=o+Math.imul(W,ct)|0,m=m+Math.imul(W,dt)|0,d=d+Math.imul(j,pt)|0,o=o+Math.imul(j,mt)|0,o=o+Math.imul(Z,pt)|0,m=m+Math.imul(Z,mt)|0,d=d+Math.imul(T,gt)|0,o=o+Math.imul(T,vt)|0,o=o+Math.imul(q,gt)|0,m=m+Math.imul(q,vt)|0;var Ce=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,d=Math.imul(Y,ut),o=Math.imul(Y,lt),o=o+Math.imul(Q,ut)|0,m=Math.imul(Q,lt),d=d+Math.imul(X,ht)|0,o=o+Math.imul(X,ft)|0,o=o+Math.imul(J,ht)|0,m=m+Math.imul(J,ft)|0,d=d+Math.imul(G,ct)|0,o=o+Math.imul(G,dt)|0,o=o+Math.imul(z,ct)|0,m=m+Math.imul(z,dt)|0,d=d+Math.imul(K,pt)|0,o=o+Math.imul(K,mt)|0,o=o+Math.imul(W,pt)|0,m=m+Math.imul(W,mt)|0,d=d+Math.imul(j,gt)|0,o=o+Math.imul(j,vt)|0,o=o+Math.imul(Z,gt)|0,m=m+Math.imul(Z,vt)|0,d=d+Math.imul(T,wt)|0,o=o+Math.imul(T,Mt)|0,o=o+Math.imul(q,wt)|0,m=m+Math.imul(q,Mt)|0;var Ae=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,d=Math.imul(tt,ut),o=Math.imul(tt,lt),o=o+Math.imul(et,ut)|0,m=Math.imul(et,lt),d=d+Math.imul(Y,ht)|0,o=o+Math.imul(Y,ft)|0,o=o+Math.imul(Q,ht)|0,m=m+Math.imul(Q,ft)|0,d=d+Math.imul(X,ct)|0,o=o+Math.imul(X,dt)|0,o=o+Math.imul(J,ct)|0,m=m+Math.imul(J,dt)|0,d=d+Math.imul(G,pt)|0,o=o+Math.imul(G,mt)|0,o=o+Math.imul(z,pt)|0,m=m+Math.imul(z,mt)|0,d=d+Math.imul(K,gt)|0,o=o+Math.imul(K,vt)|0,o=o+Math.imul(W,gt)|0,m=m+Math.imul(W,vt)|0,d=d+Math.imul(j,wt)|0,o=o+Math.imul(j,Mt)|0,o=o+Math.imul(Z,wt)|0,m=m+Math.imul(Z,Mt)|0,d=d+Math.imul(T,yt)|0,o=o+Math.imul(T,_t)|0,o=o+Math.imul(q,yt)|0,m=m+Math.imul(q,_t)|0;var Ne=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,d=Math.imul(rt,ut),o=Math.imul(rt,lt),o=o+Math.imul(it,ut)|0,m=Math.imul(it,lt),d=d+Math.imul(tt,ht)|0,o=o+Math.imul(tt,ft)|0,o=o+Math.imul(et,ht)|0,m=m+Math.imul(et,ft)|0,d=d+Math.imul(Y,ct)|0,o=o+Math.imul(Y,dt)|0,o=o+Math.imul(Q,ct)|0,m=m+Math.imul(Q,dt)|0,d=d+Math.imul(X,pt)|0,o=o+Math.imul(X,mt)|0,o=o+Math.imul(J,pt)|0,m=m+Math.imul(J,mt)|0,d=d+Math.imul(G,gt)|0,o=o+Math.imul(G,vt)|0,o=o+Math.imul(z,gt)|0,m=m+Math.imul(z,vt)|0,d=d+Math.imul(K,wt)|0,o=o+Math.imul(K,Mt)|0,o=o+Math.imul(W,wt)|0,m=m+Math.imul(W,Mt)|0,d=d+Math.imul(j,yt)|0,o=o+Math.imul(j,_t)|0,o=o+Math.imul(Z,yt)|0,m=m+Math.imul(Z,_t)|0,d=d+Math.imul(T,bt)|0,o=o+Math.imul(T,Ct)|0,o=o+Math.imul(q,bt)|0,m=m+Math.imul(q,Ct)|0;var Se=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Se>>>26)|0,Se&=67108863,d=Math.imul(nt,ut),o=Math.imul(nt,lt),o=o+Math.imul(st,ut)|0,m=Math.imul(st,lt),d=d+Math.imul(rt,ht)|0,o=o+Math.imul(rt,ft)|0,o=o+Math.imul(it,ht)|0,m=m+Math.imul(it,ft)|0,d=d+Math.imul(tt,ct)|0,o=o+Math.imul(tt,dt)|0,o=o+Math.imul(et,ct)|0,m=m+Math.imul(et,dt)|0,d=d+Math.imul(Y,pt)|0,o=o+Math.imul(Y,mt)|0,o=o+Math.imul(Q,pt)|0,m=m+Math.imul(Q,mt)|0,d=d+Math.imul(X,gt)|0,o=o+Math.imul(X,vt)|0,o=o+Math.imul(J,gt)|0,m=m+Math.imul(J,vt)|0,d=d+Math.imul(G,wt)|0,o=o+Math.imul(G,Mt)|0,o=o+Math.imul(z,wt)|0,m=m+Math.imul(z,Mt)|0,d=d+Math.imul(K,yt)|0,o=o+Math.imul(K,_t)|0,o=o+Math.imul(W,yt)|0,m=m+Math.imul(W,_t)|0,d=d+Math.imul(j,bt)|0,o=o+Math.imul(j,Ct)|0,o=o+Math.imul(Z,bt)|0,m=m+Math.imul(Z,Ct)|0,d=d+Math.imul(T,At)|0,o=o+Math.imul(T,Nt)|0,o=o+Math.imul(q,At)|0,m=m+Math.imul(q,Nt)|0;var Ee=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,d=Math.imul(ot,ut),o=Math.imul(ot,lt),o=o+Math.imul(at,ut)|0,m=Math.imul(at,lt),d=d+Math.imul(nt,ht)|0,o=o+Math.imul(nt,ft)|0,o=o+Math.imul(st,ht)|0,m=m+Math.imul(st,ft)|0,d=d+Math.imul(rt,ct)|0,o=o+Math.imul(rt,dt)|0,o=o+Math.imul(it,ct)|0,m=m+Math.imul(it,dt)|0,d=d+Math.imul(tt,pt)|0,o=o+Math.imul(tt,mt)|0,o=o+Math.imul(et,pt)|0,m=m+Math.imul(et,mt)|0,d=d+Math.imul(Y,gt)|0,o=o+Math.imul(Y,vt)|0,o=o+Math.imul(Q,gt)|0,m=m+Math.imul(Q,vt)|0,d=d+Math.imul(X,wt)|0,o=o+Math.imul(X,Mt)|0,o=o+Math.imul(J,wt)|0,m=m+Math.imul(J,Mt)|0,d=d+Math.imul(G,yt)|0,o=o+Math.imul(G,_t)|0,o=o+Math.imul(z,yt)|0,m=m+Math.imul(z,_t)|0,d=d+Math.imul(K,bt)|0,o=o+Math.imul(K,Ct)|0,o=o+Math.imul(W,bt)|0,m=m+Math.imul(W,Ct)|0,d=d+Math.imul(j,At)|0,o=o+Math.imul(j,Nt)|0,o=o+Math.imul(Z,At)|0,m=m+Math.imul(Z,Nt)|0,d=d+Math.imul(T,St)|0,o=o+Math.imul(T,Et)|0,o=o+Math.imul(q,St)|0,m=m+Math.imul(q,Et)|0;var Oe=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,d=Math.imul(ot,ht),o=Math.imul(ot,ft),o=o+Math.imul(at,ht)|0,m=Math.imul(at,ft),d=d+Math.imul(nt,ct)|0,o=o+Math.imul(nt,dt)|0,o=o+Math.imul(st,ct)|0,m=m+Math.imul(st,dt)|0,d=d+Math.imul(rt,pt)|0,o=o+Math.imul(rt,mt)|0,o=o+Math.imul(it,pt)|0,m=m+Math.imul(it,mt)|0,d=d+Math.imul(tt,gt)|0,o=o+Math.imul(tt,vt)|0,o=o+Math.imul(et,gt)|0,m=m+Math.imul(et,vt)|0,d=d+Math.imul(Y,wt)|0,o=o+Math.imul(Y,Mt)|0,o=o+Math.imul(Q,wt)|0,m=m+Math.imul(Q,Mt)|0,d=d+Math.imul(X,yt)|0,o=o+Math.imul(X,_t)|0,o=o+Math.imul(J,yt)|0,m=m+Math.imul(J,_t)|0,d=d+Math.imul(G,bt)|0,o=o+Math.imul(G,Ct)|0,o=o+Math.imul(z,bt)|0,m=m+Math.imul(z,Ct)|0,d=d+Math.imul(K,At)|0,o=o+Math.imul(K,Nt)|0,o=o+Math.imul(W,At)|0,m=m+Math.imul(W,Nt)|0,d=d+Math.imul(j,St)|0,o=o+Math.imul(j,Et)|0,o=o+Math.imul(Z,St)|0,m=m+Math.imul(Z,Et)|0;var Ie=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,d=Math.imul(ot,ct),o=Math.imul(ot,dt),o=o+Math.imul(at,ct)|0,m=Math.imul(at,dt),d=d+Math.imul(nt,pt)|0,o=o+Math.imul(nt,mt)|0,o=o+Math.imul(st,pt)|0,m=m+Math.imul(st,mt)|0,d=d+Math.imul(rt,gt)|0,o=o+Math.imul(rt,vt)|0,o=o+Math.imul(it,gt)|0,m=m+Math.imul(it,vt)|0,d=d+Math.imul(tt,wt)|0,o=o+Math.imul(tt,Mt)|0,o=o+Math.imul(et,wt)|0,m=m+Math.imul(et,Mt)|0,d=d+Math.imul(Y,yt)|0,o=o+Math.imul(Y,_t)|0,o=o+Math.imul(Q,yt)|0,m=m+Math.imul(Q,_t)|0,d=d+Math.imul(X,bt)|0,o=o+Math.imul(X,Ct)|0,o=o+Math.imul(J,bt)|0,m=m+Math.imul(J,Ct)|0,d=d+Math.imul(G,At)|0,o=o+Math.imul(G,Nt)|0,o=o+Math.imul(z,At)|0,m=m+Math.imul(z,Nt)|0,d=d+Math.imul(K,St)|0,o=o+Math.imul(K,Et)|0,o=o+Math.imul(W,St)|0,m=m+Math.imul(W,Et)|0;var Te=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Te>>>26)|0,Te&=67108863,d=Math.imul(ot,pt),o=Math.imul(ot,mt),o=o+Math.imul(at,pt)|0,m=Math.imul(at,mt),d=d+Math.imul(nt,gt)|0,o=o+Math.imul(nt,vt)|0,o=o+Math.imul(st,gt)|0,m=m+Math.imul(st,vt)|0,d=d+Math.imul(rt,wt)|0,o=o+Math.imul(rt,Mt)|0,o=o+Math.imul(it,wt)|0,m=m+Math.imul(it,Mt)|0,d=d+Math.imul(tt,yt)|0,o=o+Math.imul(tt,_t)|0,o=o+Math.imul(et,yt)|0,m=m+Math.imul(et,_t)|0,d=d+Math.imul(Y,bt)|0,o=o+Math.imul(Y,Ct)|0,o=o+Math.imul(Q,bt)|0,m=m+Math.imul(Q,Ct)|0,d=d+Math.imul(X,At)|0,o=o+Math.imul(X,Nt)|0,o=o+Math.imul(J,At)|0,m=m+Math.imul(J,Nt)|0,d=d+Math.imul(G,St)|0,o=o+Math.imul(G,Et)|0,o=o+Math.imul(z,St)|0,m=m+Math.imul(z,Et)|0;var Be=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Be>>>26)|0,Be&=67108863,d=Math.imul(ot,gt),o=Math.imul(ot,vt),o=o+Math.imul(at,gt)|0,m=Math.imul(at,vt),d=d+Math.imul(nt,wt)|0,o=o+Math.imul(nt,Mt)|0,o=o+Math.imul(st,wt)|0,m=m+Math.imul(st,Mt)|0,d=d+Math.imul(rt,yt)|0,o=o+Math.imul(rt,_t)|0,o=o+Math.imul(it,yt)|0,m=m+Math.imul(it,_t)|0,d=d+Math.imul(tt,bt)|0,o=o+Math.imul(tt,Ct)|0,o=o+Math.imul(et,bt)|0,m=m+Math.imul(et,Ct)|0,d=d+Math.imul(Y,At)|0,o=o+Math.imul(Y,Nt)|0,o=o+Math.imul(Q,At)|0,m=m+Math.imul(Q,Nt)|0,d=d+Math.imul(X,St)|0,o=o+Math.imul(X,Et)|0,o=o+Math.imul(J,St)|0,m=m+Math.imul(J,Et)|0;var ke=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(ke>>>26)|0,ke&=67108863,d=Math.imul(ot,wt),o=Math.imul(ot,Mt),o=o+Math.imul(at,wt)|0,m=Math.imul(at,Mt),d=d+Math.imul(nt,yt)|0,o=o+Math.imul(nt,_t)|0,o=o+Math.imul(st,yt)|0,m=m+Math.imul(st,_t)|0,d=d+Math.imul(rt,bt)|0,o=o+Math.imul(rt,Ct)|0,o=o+Math.imul(it,bt)|0,m=m+Math.imul(it,Ct)|0,d=d+Math.imul(tt,At)|0,o=o+Math.imul(tt,Nt)|0,o=o+Math.imul(et,At)|0,m=m+Math.imul(et,Nt)|0,d=d+Math.imul(Y,St)|0,o=o+Math.imul(Y,Et)|0,o=o+Math.imul(Q,St)|0,m=m+Math.imul(Q,Et)|0;var qe=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(qe>>>26)|0,qe&=67108863,d=Math.imul(ot,yt),o=Math.imul(ot,_t),o=o+Math.imul(at,yt)|0,m=Math.imul(at,_t),d=d+Math.imul(nt,bt)|0,o=o+Math.imul(nt,Ct)|0,o=o+Math.imul(st,bt)|0,m=m+Math.imul(st,Ct)|0,d=d+Math.imul(rt,At)|0,o=o+Math.imul(rt,Nt)|0,o=o+Math.imul(it,At)|0,m=m+Math.imul(it,Nt)|0,d=d+Math.imul(tt,St)|0,o=o+Math.imul(tt,Et)|0,o=o+Math.imul(et,St)|0,m=m+Math.imul(et,Et)|0;var Re=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Re>>>26)|0,Re&=67108863,d=Math.imul(ot,bt),o=Math.imul(ot,Ct),o=o+Math.imul(at,bt)|0,m=Math.imul(at,Ct),d=d+Math.imul(nt,At)|0,o=o+Math.imul(nt,Nt)|0,o=o+Math.imul(st,At)|0,m=m+Math.imul(st,Nt)|0,d=d+Math.imul(rt,St)|0,o=o+Math.imul(rt,Et)|0,o=o+Math.imul(it,St)|0,m=m+Math.imul(it,Et)|0;var Pe=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,d=Math.imul(ot,At),o=Math.imul(ot,Nt),o=o+Math.imul(at,At)|0,m=Math.imul(at,Nt),d=d+Math.imul(nt,St)|0,o=o+Math.imul(nt,Et)|0,o=o+Math.imul(st,St)|0,m=m+Math.imul(st,Et)|0;var Le=(C+d|0)+((o&8191)<<13)|0;C=(m+(o>>>13)|0)+(Le>>>26)|0,Le&=67108863,d=Math.imul(ot,St),o=Math.imul(ot,Et),o=o+Math.imul(at,St)|0,m=Math.imul(at,Et);var De=(C+d|0)+((o&8191)<<13)|0;return C=(m+(o>>>13)|0)+(De>>>26)|0,De&=67108863,y[0]=Me,y[1]=ye,y[2]=_e,y[3]=be,y[4]=Ce,y[5]=Ae,y[6]=Ne,y[7]=Se,y[8]=Ee,y[9]=Oe,y[10]=Ie,y[11]=Te,y[12]=Be,y[13]=ke,y[14]=qe,y[15]=Re,y[16]=Pe,y[17]=Le,y[18]=De,C!==0&&(y[19]=C,h.length++),h};Math.imul||(L=Tt);function U(w,i,u){u.negative=i.negative^w.negative,u.length=w.length+i.length;for(var h=0,p=0,v=0;v<u.length-1;v++){var y=p;p=0;for(var C=h&67108863,d=Math.min(v,i.length-1),o=Math.max(0,v-w.length+1);o<=d;o++){var m=v-o,k=w.words[m]|0,T=i.words[o]|0,q=k*T,kt=q&67108863;y=y+(q/67108864|0)|0,kt=kt+C|0,C=kt&67108863,y=y+(kt>>>26)|0,p+=y>>>26,y&=67108863}u.words[v]=C,h=y,y=p}return h!==0?u.words[v]=h:u.length--,u._strip()}function Ft(w,i,u){return U(w,i,u)}a.prototype.mulTo=function(i,u){var h,p=this.length+i.length;return this.length===10&&i.length===10?h=L(this,i,u):p<63?h=Tt(this,i,u):p<1024?h=U(this,i,u):h=Ft(this,i,u),h},a.prototype.mul=function(i){var u=new a(null);return u.words=new Array(this.length+i.length),this.mulTo(i,u)},a.prototype.mulf=function(i){var u=new a(null);return u.words=new Array(this.length+i.length),Ft(this,i,u)},a.prototype.imul=function(i){return this.clone().mulTo(i,this)},a.prototype.imuln=function(i){var u=i<0;u&&(i=-i),n(typeof i=="number"),n(i<67108864);for(var h=0,p=0;p<this.length;p++){var v=(this.words[p]|0)*i,y=(v&67108863)+(h&67108863);h>>=26,h+=v/67108864|0,h+=y>>>26,this.words[p]=y&67108863}return h!==0&&(this.words[p]=h,this.length++),u?this.ineg():this},a.prototype.muln=function(i){return this.clone().imuln(i)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(i){var u=R(i);if(u.length===0)return new a(1);for(var h=this,p=0;p<u.length&&u[p]===0;p++,h=h.sqr());if(++p<u.length)for(var v=h.sqr();p<u.length;p++,v=v.sqr())u[p]!==0&&(h=h.mul(v));return h},a.prototype.iushln=function(i){n(typeof i=="number"&&i>=0);var u=i%26,h=(i-u)/26,p=67108863>>>26-u<<26-u,v;if(u!==0){var y=0;for(v=0;v<this.length;v++){var C=this.words[v]&p,d=(this.words[v]|0)-C<<u;this.words[v]=d|y,y=C>>>26-u}y&&(this.words[v]=y,this.length++)}if(h!==0){for(v=this.length-1;v>=0;v--)this.words[v+h]=this.words[v];for(v=0;v<h;v++)this.words[v]=0;this.length+=h}return this._strip()},a.prototype.ishln=function(i){return n(this.negative===0),this.iushln(i)},a.prototype.iushrn=function(i,u,h){n(typeof i=="number"&&i>=0);var p;u?p=(u-u%26)/26:p=0;var v=i%26,y=Math.min((i-v)/26,this.length),C=67108863^67108863>>>v<<v,d=h;if(p-=y,p=Math.max(0,p),d){for(var o=0;o<y;o++)d.words[o]=this.words[o];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=p);o--){var k=this.words[o]|0;this.words[o]=m<<26-v|k>>>v,m=k&C}return d&&m!==0&&(d.words[d.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(i,u,h){return n(this.negative===0),this.iushrn(i,u,h)},a.prototype.shln=function(i){return this.clone().ishln(i)},a.prototype.ushln=function(i){return this.clone().iushln(i)},a.prototype.shrn=function(i){return this.clone().ishrn(i)},a.prototype.ushrn=function(i){return this.clone().iushrn(i)},a.prototype.testn=function(i){n(typeof i=="number"&&i>=0);var u=i%26,h=(i-u)/26,p=1<<u;if(this.length<=h)return!1;var v=this.words[h];return!!(v&p)},a.prototype.imaskn=function(i){n(typeof i=="number"&&i>=0);var u=i%26,h=(i-u)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(u!==0&&h++,this.length=Math.min(h,this.length),u!==0){var p=67108863^67108863>>>u<<u;this.words[this.length-1]&=p}return this._strip()},a.prototype.maskn=function(i){return this.clone().imaskn(i)},a.prototype.iaddn=function(i){return n(typeof i=="number"),n(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<=i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},a.prototype._iaddn=function(i){this.words[0]+=i;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},a.prototype.isubn=function(i){if(n(typeof i=="number"),n(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},a.prototype.addn=function(i){return this.clone().iaddn(i)},a.prototype.subn=function(i){return this.clone().isubn(i)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(i,u,h){var p=i.length+h,v;this._expand(p);var y,C=0;for(v=0;v<i.length;v++){y=(this.words[v+h]|0)+C;var d=(i.words[v]|0)*u;y-=d&67108863,C=(y>>26)-(d/67108864|0),this.words[v+h]=y&67108863}for(;v<this.length-h;v++)y=(this.words[v+h]|0)+C,C=y>>26,this.words[v+h]=y&67108863;if(C===0)return this._strip();for(n(C===-1),C=0,v=0;v<this.length;v++)y=-(this.words[v]|0)+C,C=y>>26,this.words[v]=y&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(i,u){var h=this.length-i.length,p=this.clone(),v=i,y=v.words[v.length-1]|0,C=this._countBits(y);h=26-C,h!==0&&(v=v.ushln(h),p.iushln(h),y=v.words[v.length-1]|0);var d=p.length-v.length,o;if(u!=="mod"){o=new a(null),o.length=d+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var k=p.clone()._ishlnsubmul(v,1,d);k.negative===0&&(p=k,o&&(o.words[d]=1));for(var T=d-1;T>=0;T--){var q=(p.words[v.length+T]|0)*67108864+(p.words[v.length+T-1]|0);for(q=Math.min(q/y|0,67108863),p._ishlnsubmul(v,q,T);p.negative!==0;)q--,p.negative=0,p._ishlnsubmul(v,1,T),p.isZero()||(p.negative^=1);o&&(o.words[T]=q)}return o&&o._strip(),p._strip(),u!=="div"&&h!==0&&p.iushrn(h),{div:o||null,mod:p}},a.prototype.divmod=function(i,u,h){if(n(!i.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var p,v,y;return this.negative!==0&&i.negative===0?(y=this.neg().divmod(i,u),u!=="mod"&&(p=y.div.neg()),u!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.iadd(i)),{div:p,mod:v}):this.negative===0&&i.negative!==0?(y=this.divmod(i.neg(),u),u!=="mod"&&(p=y.div.neg()),{div:p,mod:y.mod}):this.negative&i.negative?(y=this.neg().divmod(i.neg(),u),u!=="div"&&(v=y.mod.neg(),h&&v.negative!==0&&v.isub(i)),{div:y.div,mod:v}):i.length>this.length||this.cmp(i)<0?{div:new a(0),mod:this}:i.length===1?u==="div"?{div:this.divn(i.words[0]),mod:null}:u==="mod"?{div:null,mod:new a(this.modrn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new a(this.modrn(i.words[0]))}:this._wordDiv(i,u)},a.prototype.div=function(i){return this.divmod(i,"div",!1).div},a.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},a.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},a.prototype.divRound=function(i){var u=this.divmod(i);if(u.mod.isZero())return u.div;var h=u.div.negative!==0?u.mod.isub(i):u.mod,p=i.ushrn(1),v=i.andln(1),y=h.cmp(p);return y<0||v===1&&y===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},a.prototype.modrn=function(i){var u=i<0;u&&(i=-i),n(i<=67108863);for(var h=(1<<26)%i,p=0,v=this.length-1;v>=0;v--)p=(h*p+(this.words[v]|0))%i;return u?-p:p},a.prototype.modn=function(i){return this.modrn(i)},a.prototype.idivn=function(i){var u=i<0;u&&(i=-i),n(i<=67108863);for(var h=0,p=this.length-1;p>=0;p--){var v=(this.words[p]|0)+h*67108864;this.words[p]=v/i|0,h=v%i}return this._strip(),u?this.ineg():this},a.prototype.divn=function(i){return this.clone().idivn(i)},a.prototype.egcd=function(i){n(i.negative===0),n(!i.isZero());var u=this,h=i.clone();u.negative!==0?u=u.umod(i):u=u.clone();for(var p=new a(1),v=new a(0),y=new a(0),C=new a(1),d=0;u.isEven()&&h.isEven();)u.iushrn(1),h.iushrn(1),++d;for(var o=h.clone(),m=u.clone();!u.isZero();){for(var k=0,T=1;!(u.words[0]&T)&&k<26;++k,T<<=1);if(k>0)for(u.iushrn(k);k-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(o),v.isub(m)),p.iushrn(1),v.iushrn(1);for(var q=0,kt=1;!(h.words[0]&kt)&&q<26;++q,kt<<=1);if(q>0)for(h.iushrn(q);q-- >0;)(y.isOdd()||C.isOdd())&&(y.iadd(o),C.isub(m)),y.iushrn(1),C.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(y),v.isub(C)):(h.isub(u),y.isub(p),C.isub(v))}return{a:y,b:C,gcd:h.iushln(d)}},a.prototype._invmp=function(i){n(i.negative===0),n(!i.isZero());var u=this,h=i.clone();u.negative!==0?u=u.umod(i):u=u.clone();for(var p=new a(1),v=new a(0),y=h.clone();u.cmpn(1)>0&&h.cmpn(1)>0;){for(var C=0,d=1;!(u.words[0]&d)&&C<26;++C,d<<=1);if(C>0)for(u.iushrn(C);C-- >0;)p.isOdd()&&p.iadd(y),p.iushrn(1);for(var o=0,m=1;!(h.words[0]&m)&&o<26;++o,m<<=1);if(o>0)for(h.iushrn(o);o-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);u.cmp(h)>=0?(u.isub(h),p.isub(v)):(h.isub(u),v.isub(p))}var k;return u.cmpn(1)===0?k=p:k=v,k.cmpn(0)<0&&k.iadd(i),k},a.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var u=this.clone(),h=i.clone();u.negative=0,h.negative=0;for(var p=0;u.isEven()&&h.isEven();p++)u.iushrn(1),h.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;h.isEven();)h.iushrn(1);var v=u.cmp(h);if(v<0){var y=u;u=h,h=y}else if(v===0||h.cmpn(1)===0)break;u.isub(h)}while(!0);return h.iushln(p)},a.prototype.invm=function(i){return this.egcd(i).a.umod(i)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(i){return this.words[0]&i},a.prototype.bincn=function(i){n(typeof i=="number");var u=i%26,h=(i-u)/26,p=1<<u;if(this.length<=h)return this._expand(h+1),this.words[h]|=p,this;for(var v=p,y=h;v!==0&&y<this.length;y++){var C=this.words[y]|0;C+=v,v=C>>>26,C&=67108863,this.words[y]=C}return v!==0&&(this.words[y]=v,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(i){var u=i<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var h;if(this.length>1)h=1;else{u&&(i=-i),n(i<=67108863,"Number is too big");var p=this.words[0]|0;h=p===i?0:p<i?-1:1}return this.negative!==0?-h|0:h},a.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var u=this.ucmp(i);return this.negative!==0?-u|0:u},a.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var u=0,h=this.length-1;h>=0;h--){var p=this.words[h]|0,v=i.words[h]|0;if(p!==v){p<v?u=-1:p>v&&(u=1);break}}return u},a.prototype.gtn=function(i){return this.cmpn(i)===1},a.prototype.gt=function(i){return this.cmp(i)===1},a.prototype.gten=function(i){return this.cmpn(i)>=0},a.prototype.gte=function(i){return this.cmp(i)>=0},a.prototype.ltn=function(i){return this.cmpn(i)===-1},a.prototype.lt=function(i){return this.cmp(i)===-1},a.prototype.lten=function(i){return this.cmpn(i)<=0},a.prototype.lte=function(i){return this.cmp(i)<=0},a.prototype.eqn=function(i){return this.cmpn(i)===0},a.prototype.eq=function(i){return this.cmp(i)===0},a.red=function(i){return new D(i)},a.prototype.toRed=function(i){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(i){return this.red=i,this},a.prototype.forceRed=function(i){return n(!this.red,"Already a number in reduction context"),this._forceRed(i)},a.prototype.redAdd=function(i){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},a.prototype.redIAdd=function(i){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},a.prototype.redSub=function(i){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},a.prototype.redISub=function(i){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},a.prototype.redShl=function(i){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},a.prototype.redMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},a.prototype.redIMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(i){return n(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var V={k256:null,p224:null,p192:null,p25519:null};function x(w,i){this.name=w,this.p=new a(i,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}x.prototype._tmp=function(){var i=new a(null);return i.words=new Array(Math.ceil(this.n/13)),i},x.prototype.ireduce=function(i){var u=i,h;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),h=u.bitLength();while(h>this.n);var p=h<this.n?-1:u.ucmp(this.p);return p===0?(u.words[0]=0,u.length=1):p>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},x.prototype.split=function(i,u){i.iushrn(this.n,0,u)},x.prototype.imulK=function(i){return i.imul(this.k)};function Rt(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(Rt,x),Rt.prototype.split=function(i,u){for(var h=4194303,p=Math.min(i.length,9),v=0;v<p;v++)u.words[v]=i.words[v];if(u.length=p,i.length<=9){i.words[0]=0,i.length=1;return}var y=i.words[9];for(u.words[u.length++]=y&h,v=10;v<i.length;v++){var C=i.words[v]|0;i.words[v-10]=(C&h)<<4|y>>>22,y=C}y>>>=22,i.words[v-10]=y,y===0&&i.length>10?i.length-=10:i.length-=9},Rt.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var u=0,h=0;h<i.length;h++){var p=i.words[h]|0;u+=p*977,i.words[h]=u&67108863,u=p*64+(u/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function H(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(H,x);function Vt(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(Vt,x);function It(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(It,x),It.prototype.imulK=function(i){for(var u=0,h=0;h<i.length;h++){var p=(i.words[h]|0)*19+u,v=p&67108863;p>>>=26,i.words[h]=v,u=p}return u!==0&&(i.words[i.length++]=u),i},a._prime=function(i){if(V[i])return V[i];var u;if(i==="k256")u=new Rt;else if(i==="p224")u=new H;else if(i==="p192")u=new Vt;else if(i==="p25519")u=new It;else throw new Error("Unknown prime "+i);return V[i]=u,u};function D(w){if(typeof w=="string"){var i=a._prime(w);this.m=i.p,this.prime=i}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}D.prototype._verify1=function(i){n(i.negative===0,"red works only with positives"),n(i.red,"red works only with red numbers")},D.prototype._verify2=function(i,u){n((i.negative|u.negative)===0,"red works only with positives"),n(i.red&&i.red===u.red,"red works only with red numbers")},D.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):(_(i,i.umod(this.m)._forceRed(this)),i)},D.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},D.prototype.add=function(i,u){this._verify2(i,u);var h=i.add(u);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},D.prototype.iadd=function(i,u){this._verify2(i,u);var h=i.iadd(u);return h.cmp(this.m)>=0&&h.isub(this.m),h},D.prototype.sub=function(i,u){this._verify2(i,u);var h=i.sub(u);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},D.prototype.isub=function(i,u){this._verify2(i,u);var h=i.isub(u);return h.cmpn(0)<0&&h.iadd(this.m),h},D.prototype.shl=function(i,u){return this._verify1(i),this.imod(i.ushln(u))},D.prototype.imul=function(i,u){return this._verify2(i,u),this.imod(i.imul(u))},D.prototype.mul=function(i,u){return this._verify2(i,u),this.imod(i.mul(u))},D.prototype.isqr=function(i){return this.imul(i,i.clone())},D.prototype.sqr=function(i){return this.mul(i,i)},D.prototype.sqrt=function(i){if(i.isZero())return i.clone();var u=this.m.andln(3);if(n(u%2===1),u===3){var h=this.m.add(new a(1)).iushrn(2);return this.pow(i,h)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);n(!p.isZero());var y=new a(1).toRed(this),C=y.redNeg(),d=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new a(2*o*o).toRed(this);this.pow(o,d).cmp(C)!==0;)o.redIAdd(C);for(var m=this.pow(o,p),k=this.pow(i,p.addn(1).iushrn(1)),T=this.pow(i,p),q=v;T.cmp(y)!==0;){for(var kt=T,j=0;kt.cmp(y)!==0;j++)kt=kt.redSqr();n(j<q);var Z=this.pow(m,new a(1).iushln(q-j-1));k=k.redMul(Z),m=Z.redSqr(),T=T.redMul(m),q=j}return k},D.prototype.invm=function(i){var u=i._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},D.prototype.pow=function(i,u){if(u.isZero())return new a(1).toRed(this);if(u.cmpn(1)===0)return i.clone();var h=4,p=new Array(1<<h);p[0]=new a(1).toRed(this),p[1]=i;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],i);var y=p[0],C=0,d=0,o=u.bitLength()%26;for(o===0&&(o=26),v=u.length-1;v>=0;v--){for(var m=u.words[v],k=o-1;k>=0;k--){var T=m>>k&1;if(y!==p[0]&&(y=this.sqr(y)),T===0&&C===0){d=0;continue}C<<=1,C|=T,d++,!(d!==h&&(v!==0||k!==0))&&(y=this.mul(y,p[C]),d=0,C=0)}o=26}return y},D.prototype.convertTo=function(i){var u=i.umod(this.m);return u===i?u.clone():u},D.prototype.convertFrom=function(i){var u=i.clone();return u.red=null,u},a.mont=function(i){return new Pt(i)};function Pt(w){D.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(Pt,D),Pt.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},Pt.prototype.convertFrom=function(i){var u=this.imod(i.mul(this.rinv));return u.red=null,u},Pt.prototype.imul=function(i,u){if(i.isZero()||u.isZero())return i.words[0]=0,i.length=1,i;var h=i.imul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},Pt.prototype.mul=function(i,u){if(i.isZero()||u.isZero())return new a(0)._forceRed(this);var h=i.mul(u),p=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=h.isub(p).iushrn(this.shift),y=v;return v.cmp(this.m)>=0?y=v.isub(this.m):v.cmpn(0)<0&&(y=v.iadd(this.m)),y._forceRed(this)},Pt.prototype.invm=function(i){var u=this.imod(i._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(typeof e>"u"||e,t)}}),te=9e15,zt=1e9,je="0123456789abcdef",de="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",pe="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ze={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-te,maxE:te,crypto:!1},Ir,Ut,B=!0,ge="[DecimalError] ",Wt=ge+"Invalid argument: ",Tr=ge+"Precision limit exceeded",Br=ge+"crypto unavailable",kr="[object Decimal]",qt=Math.floor,Ot=Math.pow,ri=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ii=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ni=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,qr=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$t=1e7,I=7,si=9007199254740991,oi=de.length-1,Ue=pe.length-1,A={toStringTag:kr};A.absoluteValue=A.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),E(t)};A.ceil=function(){return E(new this.constructor(this),this.e+1,2)};A.clampedTo=A.clamp=function(t,e){var r,s=this,n=s.constructor;if(t=new n(t),e=new n(e),!t.s||!e.s)return new n(NaN);if(t.gt(e))throw Error(Wt+e);return r=s.cmp(t),r<0?t:s.cmp(e)>0?e:new n(s)};A.comparedTo=A.cmp=function(t){var e,r,s,n,l=this,a=l.d,f=(t=new l.constructor(t)).d,g=l.s,c=t.s;if(!a||!f)return!g||!c?NaN:g!==c?g:a===f?0:!a^g<0?1:-1;if(!a[0]||!f[0])return a[0]?g:f[0]?-c:0;if(g!==c)return g;if(l.e!==t.e)return l.e>t.e^g<0?1:-1;for(s=a.length,n=f.length,e=0,r=s<n?s:n;e<r;++e)if(a[e]!==f[e])return a[e]>f[e]^g<0?1:-1;return s===n?0:s>n^g<0?1:-1};A.cosine=A.cos=function(){var t,e,r=this,s=r.constructor;return r.d?r.d[0]?(t=s.precision,e=s.rounding,s.precision=t+Math.max(r.e,r.sd())+I,s.rounding=1,r=ai(s,$r(s,r)),s.precision=t,s.rounding=e,E(Ut==2||Ut==3?r.neg():r,t,e,!0)):new s(1):new s(NaN)};A.cubeRoot=A.cbrt=function(){var t,e,r,s,n,l,a,f,g,c,M=this,_=M.constructor;if(!M.isFinite()||M.isZero())return new _(M);for(B=!1,l=M.s*Ot(M.s*M,1/3),!l||Math.abs(l)==1/0?(r=Bt(M.d),t=M.e,(l=(t-r.length+1)%3)&&(r+=l==1||l==-2?"0":"00"),l=Ot(r,1/3),t=qt((t+1)/3)-(t%3==(t<0?-1:2)),l==1/0?r="5e"+t:(r=l.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),s=new _(r),s.s=M.s):s=new _(l.toString()),a=(t=_.precision)+3;;)if(f=s,g=f.times(f).times(f),c=g.plus(M),s=F(c.plus(M).times(f),c.plus(g),a+2,1),Bt(f.d).slice(0,a)===(r=Bt(s.d)).slice(0,a))if(r=r.slice(a-3,a+1),r=="9999"||!n&&r=="4999"){if(!n&&(E(f,t+1,0),f.times(f).times(f).eq(M))){s=f;break}a+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(E(s,t+1,1),e=!s.times(s).times(s).eq(M));break}return B=!0,E(s,t,_.rounding,e)};A.decimalPlaces=A.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-qt(this.e/I))*I,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};A.dividedBy=A.div=function(t){return F(this,new this.constructor(t))};A.dividedToIntegerBy=A.divToInt=function(t){var e=this,r=e.constructor;return E(F(e,new r(t),0,1,1),r.precision,r.rounding)};A.equals=A.eq=function(t){return this.cmp(t)===0};A.floor=function(){return E(new this.constructor(this),this.e+1,3)};A.greaterThan=A.gt=function(t){return this.cmp(t)>0};A.greaterThanOrEqualTo=A.gte=function(t){var e=this.cmp(t);return e==1||e===0};A.hyperbolicCosine=A.cosh=function(){var t,e,r,s,n,l=this,a=l.constructor,f=new a(1);if(!l.isFinite())return new a(l.s?1/0:NaN);if(l.isZero())return f;r=a.precision,s=a.rounding,a.precision=r+Math.max(l.e,l.sd())+4,a.rounding=1,n=l.d.length,n<32?(t=Math.ceil(n/3),e=(1/we(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),l=ie(a,1,l.times(e),new a(1),!0);for(var g,c=t,M=new a(8);c--;)g=l.times(l),l=f.minus(g.times(M.minus(g.times(M))));return E(l,a.precision=r,a.rounding=s,!0)};A.hyperbolicSine=A.sinh=function(){var t,e,r,s,n=this,l=n.constructor;if(!n.isFinite()||n.isZero())return new l(n);if(e=l.precision,r=l.rounding,l.precision=e+Math.max(n.e,n.sd())+4,l.rounding=1,s=n.d.length,s<3)n=ie(l,2,n,n,!0);else{t=1.4*Math.sqrt(s),t=t>16?16:t|0,n=n.times(1/we(5,t)),n=ie(l,2,n,n,!0);for(var a,f=new l(5),g=new l(16),c=new l(20);t--;)a=n.times(n),n=n.times(f.plus(a.times(g.times(a).plus(c))))}return l.precision=e,l.rounding=r,E(n,e,r,!0)};A.hyperbolicTangent=A.tanh=function(){var t,e,r=this,s=r.constructor;return r.isFinite()?r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+7,s.rounding=1,F(r.sinh(),r.cosh(),s.precision=t,s.rounding=e)):new s(r.s)};A.inverseCosine=A.acos=function(){var t,e=this,r=e.constructor,s=e.abs().cmp(1),n=r.precision,l=r.rounding;return s!==-1?s===0?e.isNeg()?Dt(r,n,l):new r(0):new r(NaN):e.isZero()?Dt(r,n+4,l).times(.5):(r.precision=n+6,r.rounding=1,e=e.asin(),t=Dt(r,n+4,l).times(.5),r.precision=n,r.rounding=l,t.minus(e))};A.inverseHyperbolicCosine=A.acosh=function(){var t,e,r=this,s=r.constructor;return r.lte(1)?new s(r.eq(1)?0:NaN):r.isFinite()?(t=s.precision,e=s.rounding,s.precision=t+Math.max(Math.abs(r.e),r.sd())+4,s.rounding=1,B=!1,r=r.times(r).minus(1).sqrt().plus(r),B=!0,s.precision=t,s.rounding=e,r.ln()):new s(r)};A.inverseHyperbolicSine=A.asinh=function(){var t,e,r=this,s=r.constructor;return!r.isFinite()||r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,s.rounding=1,B=!1,r=r.times(r).plus(1).sqrt().plus(r),B=!0,s.precision=t,s.rounding=e,r.ln())};A.inverseHyperbolicTangent=A.atanh=function(){var t,e,r,s,n=this,l=n.constructor;return n.isFinite()?n.e>=0?new l(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(t=l.precision,e=l.rounding,s=n.sd(),Math.max(s,t)<2*-n.e-1?E(new l(n),t,e,!0):(l.precision=r=s-n.e,n=F(n.plus(1),new l(1).minus(n),r+t,1),l.precision=t+4,l.rounding=1,n=n.ln(),l.precision=t,l.rounding=e,n.times(.5))):new l(NaN)};A.inverseSine=A.asin=function(){var t,e,r,s,n=this,l=n.constructor;return n.isZero()?new l(n):(e=n.abs().cmp(1),r=l.precision,s=l.rounding,e!==-1?e===0?(t=Dt(l,r+4,s).times(.5),t.s=n.s,t):new l(NaN):(l.precision=r+6,l.rounding=1,n=n.div(new l(1).minus(n.times(n)).sqrt().plus(1)).atan(),l.precision=r,l.rounding=s,n.times(2)))};A.inverseTangent=A.atan=function(){var t,e,r,s,n,l,a,f,g,c=this,M=c.constructor,_=M.precision,b=M.rounding;if(c.isFinite()){if(c.isZero())return new M(c);if(c.abs().eq(1)&&_+4<=Ue)return a=Dt(M,_+4,b).times(.25),a.s=c.s,a}else{if(!c.s)return new M(NaN);if(_+4<=Ue)return a=Dt(M,_+4,b).times(.5),a.s=c.s,a}for(M.precision=f=_+10,M.rounding=1,r=Math.min(28,f/I+2|0),t=r;t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(B=!1,e=Math.ceil(f/I),s=1,g=c.times(c),a=new M(c),n=c;t!==-1;)if(n=n.times(g),l=a.minus(n.div(s+=2)),n=n.times(g),a=l.plus(n.div(s+=2)),a.d[e]!==void 0)for(t=e;a.d[t]===l.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),B=!0,E(a,M.precision=_,M.rounding=b,!0)};A.isFinite=function(){return!!this.d};A.isInteger=A.isInt=function(){return!!this.d&&qt(this.e/I)>this.d.length-2};A.isNaN=function(){return!this.s};A.isNegative=A.isNeg=function(){return this.s<0};A.isPositive=A.isPos=function(){return this.s>0};A.isZero=function(){return!!this.d&&this.d[0]===0};A.lessThan=A.lt=function(t){return this.cmp(t)<0};A.lessThanOrEqualTo=A.lte=function(t){return this.cmp(t)<1};A.logarithm=A.log=function(t){var e,r,s,n,l,a,f,g,c=this,M=c.constructor,_=M.precision,b=M.rounding,N=5;if(t==null)t=new M(10),e=!0;else{if(t=new M(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new M(NaN);e=t.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new M(r&&!r[0]?-1/0:c.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)l=!0;else{for(n=r[0];n%10===0;)n/=10;l=n!==1}if(B=!1,f=_+N,a=Kt(c,f),s=e?me(M,f+10):Kt(t,f),g=F(a,s,f,1),ue(g.d,n=_,b))do if(f+=10,a=Kt(c,f),s=e?me(M,f+10):Kt(t,f),g=F(a,s,f,1),!l){+Bt(g.d).slice(n+1,n+15)+1==1e14&&(g=E(g,_+1,0));break}while(ue(g.d,n+=10,b));return B=!0,E(g,_,b)};A.minus=A.sub=function(t){var e,r,s,n,l,a,f,g,c,M,_,b,N=this,O=N.constructor;if(t=new O(t),!N.d||!t.d)return!N.s||!t.s?t=new O(NaN):N.d?t.s=-t.s:t=new O(t.d||N.s!==t.s?N:NaN),t;if(N.s!=t.s)return t.s=-t.s,N.plus(t);if(c=N.d,b=t.d,f=O.precision,g=O.rounding,!c[0]||!b[0]){if(b[0])t.s=-t.s;else if(c[0])t=new O(N);else return new O(g===3?-0:0);return B?E(t,f,g):t}if(r=qt(t.e/I),M=qt(N.e/I),c=c.slice(),l=M-r,l){for(_=l<0,_?(e=c,l=-l,a=b.length):(e=b,r=M,a=c.length),s=Math.max(Math.ceil(f/I),a)+2,l>s&&(l=s,e.length=1),e.reverse(),s=l;s--;)e.push(0);e.reverse()}else{for(s=c.length,a=b.length,_=s<a,_&&(a=s),s=0;s<a;s++)if(c[s]!=b[s]){_=c[s]<b[s];break}l=0}for(_&&(e=c,c=b,b=e,t.s=-t.s),a=c.length,s=b.length-a;s>0;--s)c[a++]=0;for(s=b.length;s>l;){if(c[--s]<b[s]){for(n=s;n&&c[--n]===0;)c[n]=$t-1;--c[n],c[s]+=$t}c[s]-=b[s]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=ve(c,r),B?E(t,f,g):t):new O(g===3?-0:0)};A.modulo=A.mod=function(t){var e,r=this,s=r.constructor;return t=new s(t),!r.d||!t.s||t.d&&!t.d[0]?new s(NaN):!t.d||r.d&&!r.d[0]?E(new s(r),s.precision,s.rounding):(B=!1,s.modulo==9?(e=F(r,t.abs(),0,3,1),e.s*=t.s):e=F(r,t,0,s.modulo,1),e=e.times(t),B=!0,r.minus(e))};A.naturalExponential=A.exp=function(){return Ve(this)};A.naturalLogarithm=A.ln=function(){return Kt(this)};A.negated=A.neg=function(){var t=new this.constructor(this);return t.s=-t.s,E(t)};A.plus=A.add=function(t){var e,r,s,n,l,a,f,g,c,M,_=this,b=_.constructor;if(t=new b(t),!_.d||!t.d)return!_.s||!t.s?t=new b(NaN):_.d||(t=new b(t.d||_.s===t.s?_:NaN)),t;if(_.s!=t.s)return t.s=-t.s,_.minus(t);if(c=_.d,M=t.d,f=b.precision,g=b.rounding,!c[0]||!M[0])return M[0]||(t=new b(_)),B?E(t,f,g):t;if(l=qt(_.e/I),s=qt(t.e/I),c=c.slice(),n=l-s,n){for(n<0?(r=c,n=-n,a=M.length):(r=M,s=l,a=c.length),l=Math.ceil(f/I),a=l>a?l+1:a+1,n>a&&(n=a,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for(a=c.length,n=M.length,a-n<0&&(n=a,r=M,M=c,c=r),e=0;n;)e=(c[--n]=c[n]+M[n]+e)/$t|0,c[n]%=$t;for(e&&(c.unshift(e),++s),a=c.length;c[--a]==0;)c.pop();return t.d=c,t.e=ve(c,s),B?E(t,f,g):t};A.precision=A.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wt+t);return r.d?(e=Rr(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};A.round=function(){var t=this,e=t.constructor;return E(new e(t),t.e+1,e.rounding)};A.sine=A.sin=function(){var t,e,r=this,s=r.constructor;return r.isFinite()?r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+Math.max(r.e,r.sd())+I,s.rounding=1,r=li(s,$r(s,r)),s.precision=t,s.rounding=e,E(Ut>2?r.neg():r,t,e,!0)):new s(NaN)};A.squareRoot=A.sqrt=function(){var t,e,r,s,n,l,a=this,f=a.d,g=a.e,c=a.s,M=a.constructor;if(c!==1||!f||!f[0])return new M(!c||c<0&&(!f||f[0])?NaN:f?a:1/0);for(B=!1,c=Math.sqrt(+a),c==0||c==1/0?(e=Bt(f),(e.length+g)%2==0&&(e+="0"),c=Math.sqrt(e),g=qt((g+1)/2)-(g<0||g%2),c==1/0?e="5e"+g:(e=c.toExponential(),e=e.slice(0,e.indexOf("e")+1)+g),s=new M(e)):s=new M(c.toString()),r=(g=M.precision)+3;;)if(l=s,s=l.plus(F(a,l,r+2,1)).times(.5),Bt(l.d).slice(0,r)===(e=Bt(s.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!n&&e=="4999"){if(!n&&(E(l,g+1,0),l.times(l).eq(a))){s=l;break}r+=4,n=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(E(s,g+1,1),t=!s.times(s).eq(a));break}return B=!0,E(s,g,M.rounding,t)};A.tangent=A.tan=function(){var t,e,r=this,s=r.constructor;return r.isFinite()?r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+10,s.rounding=1,r=r.sin(),r.s=1,r=F(r,new s(1).minus(r.times(r)).sqrt(),t+10,0),s.precision=t,s.rounding=e,E(Ut==2||Ut==4?r.neg():r,t,e,!0)):new s(NaN)};A.times=A.mul=function(t){var e,r,s,n,l,a,f,g,c,M=this,_=M.constructor,b=M.d,N=(t=new _(t)).d;if(t.s*=M.s,!b||!b[0]||!N||!N[0])return new _(!t.s||b&&!b[0]&&!N||N&&!N[0]&&!b?NaN:!b||!N?t.s/0:t.s*0);for(r=qt(M.e/I)+qt(t.e/I),g=b.length,c=N.length,g<c&&(l=b,b=N,N=l,a=g,g=c,c=a),l=[],a=g+c,s=a;s--;)l.push(0);for(s=c;--s>=0;){for(e=0,n=g+s;n>s;)f=l[n]+N[s]*b[n-s-1]+e,l[n--]=f%$t|0,e=f/$t|0;l[n]=(l[n]+e)%$t|0}for(;!l[--a];)l.pop();return e?++r:l.shift(),t.d=l,t.e=ve(l,r),B?E(t,_.precision,_.rounding):t};A.toBinary=function(t,e){return ze(this,2,t,e)};A.toDecimalPlaces=A.toDP=function(t,e){var r=this,s=r.constructor;return r=new s(r),t===void 0?r:(Lt(t,0,zt),e===void 0?e=s.rounding:Lt(e,0,8),E(r,t+r.e+1,e))};A.toExponential=function(t,e){var r,s=this,n=s.constructor;return t===void 0?r=jt(s,!0):(Lt(t,0,zt),e===void 0?e=n.rounding:Lt(e,0,8),s=E(new n(s),t+1,e),r=jt(s,!0,t+1)),s.isNeg()&&!s.isZero()?"-"+r:r};A.toFixed=function(t,e){var r,s,n=this,l=n.constructor;return t===void 0?r=jt(n):(Lt(t,0,zt),e===void 0?e=l.rounding:Lt(e,0,8),s=E(new l(n),t+n.e+1,e),r=jt(s,!1,t+s.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};A.toFraction=function(t){var e,r,s,n,l,a,f,g,c,M,_,b,N=this,O=N.d,S=N.constructor;if(!O)return new S(N);if(c=r=new S(1),s=g=new S(0),e=new S(s),l=e.e=Rr(O)-N.e-1,a=l%I,e.d[0]=Ot(10,a<0?I+a:a),t==null)t=l>0?e:c;else{if(f=new S(t),!f.isInt()||f.lt(c))throw Error(Wt+f);t=f.gt(e)?l>0?e:c:f}for(B=!1,f=new S(Bt(O)),M=S.precision,S.precision=l=O.length*I*2;_=F(f,e,0,1,1),n=r.plus(_.times(s)),n.cmp(t)!=1;)r=s,s=n,n=c,c=g.plus(_.times(n)),g=n,n=e,e=f.minus(_.times(n)),f=n;return n=F(t.minus(r),s,0,1,1),g=g.plus(n.times(c)),r=r.plus(n.times(s)),g.s=c.s=N.s,b=F(c,s,l,1).minus(N).abs().cmp(F(g,r,l,1).minus(N).abs())<1?[c,s]:[g,r],S.precision=M,B=!0,b};A.toHexadecimal=A.toHex=function(t,e){return ze(this,16,t,e)};A.toNearest=function(t,e){var r=this,s=r.constructor;if(r=new s(r),t==null){if(!r.d)return r;t=new s(1),e=s.rounding}else{if(t=new s(t),e===void 0?e=s.rounding:Lt(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(B=!1,r=F(r,t,0,e,1).times(t),B=!0,E(r)):(t.s=r.s,r=t),r};A.toNumber=function(){return+this};A.toOctal=function(t,e){return ze(this,8,t,e)};A.toPower=A.pow=function(t){var e,r,s,n,l,a,f=this,g=f.constructor,c=+(t=new g(t));if(!f.d||!t.d||!f.d[0]||!t.d[0])return new g(Ot(+f,c));if(f=new g(f),f.eq(1))return f;if(s=g.precision,l=g.rounding,t.eq(1))return E(f,s,l);if(e=qt(t.e/I),e>=t.d.length-1&&(r=c<0?-c:c)<=si)return n=Pr(g,f,r,s),t.s<0?new g(1).div(n):E(n,s,l);if(a=f.s,a<0){if(e<t.d.length-1)return new g(NaN);if(t.d[e]&1||(a=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=a,f}return r=Ot(+f,c),e=r==0||!isFinite(r)?qt(c*(Math.log("0."+Bt(f.d))/Math.LN10+f.e+1)):new g(r+"").e,e>g.maxE+1||e<g.minE-1?new g(e>0?a/0:0):(B=!1,g.rounding=f.s=1,r=Math.min(12,(e+"").length),n=Ve(t.times(Kt(f,s+r)),s),n.d&&(n=E(n,s+5,1),ue(n.d,s,l)&&(e=s+10,n=E(Ve(t.times(Kt(f,e+r)),e),e+5,1),+Bt(n.d).slice(s+1,s+15)+1==1e14&&(n=E(n,s+1,0)))),n.s=a,B=!0,g.rounding=l,E(n,s,l))};A.toPrecision=function(t,e){var r,s=this,n=s.constructor;return t===void 0?r=jt(s,s.e<=n.toExpNeg||s.e>=n.toExpPos):(Lt(t,1,zt),e===void 0?e=n.rounding:Lt(e,0,8),s=E(new n(s),t,e),r=jt(s,t<=s.e||s.e<=n.toExpNeg,t)),s.isNeg()&&!s.isZero()?"-"+r:r};A.toSignificantDigits=A.toSD=function(t,e){var r=this,s=r.constructor;return t===void 0?(t=s.precision,e=s.rounding):(Lt(t,1,zt),e===void 0?e=s.rounding:Lt(e,0,8)),E(new s(r),t,e)};A.toString=function(){var t=this,e=t.constructor,r=jt(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};A.truncated=A.trunc=function(){return E(new this.constructor(this),this.e+1,1)};A.valueOf=A.toJSON=function(){var t=this,e=t.constructor,r=jt(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Bt(t){var e,r,s,n=t.length-1,l="",a=t[0];if(n>0){for(l+=a,e=1;e<n;e++)s=t[e]+"",r=I-s.length,r&&(l+=Ht(r)),l+=s;a=t[e],s=a+"",r=I-s.length,r&&(l+=Ht(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return l+a}function Lt(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Wt+t)}function ue(t,e,r,s){var n,l,a,f;for(l=t[0];l>=10;l/=10)--e;return--e<0?(e+=I,n=0):(n=Math.ceil((e+1)/I),e%=I),l=Ot(10,I-e),f=t[n]%l|0,s==null?e<3?(e==0?f=f/100|0:e==1&&(f=f/10|0),a=r<4&&f==99999||r>3&&f==49999||f==5e4||f==0):a=(r<4&&f+1==l||r>3&&f+1==l/2)&&(t[n+1]/l/100|0)==Ot(10,e-2)-1||(f==l/2||f==0)&&(t[n+1]/l/100|0)==0:e<4?(e==0?f=f/1e3|0:e==1?f=f/100|0:e==2&&(f=f/10|0),a=(s||r<4)&&f==9999||!s&&r>3&&f==4999):a=((s||r<4)&&f+1==l||!s&&r>3&&f+1==l/2)&&(t[n+1]/l/1e3|0)==Ot(10,e-3)-1,a}function ce(t,e,r){for(var s,n=[0],l,a=0,f=t.length;a<f;){for(l=n.length;l--;)n[l]*=e;for(n[0]+=je.indexOf(t.charAt(a++)),s=0;s<n.length;s++)n[s]>r-1&&(n[s+1]===void 0&&(n[s+1]=0),n[s+1]+=n[s]/r|0,n[s]%=r)}return n.reverse()}function ai(t,e){var r,s,n;if(e.isZero())return e;s=e.d.length,s<32?(r=Math.ceil(s/3),n=(1/we(4,r)).toString()):(r=16,n="2.3283064365386962890625e-10"),t.precision+=r,e=ie(t,1,e.times(n),new t(1));for(var l=r;l--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=r,e}var F=function(){function t(s,n,l){var a,f=0,g=s.length;for(s=s.slice();g--;)a=s[g]*n+f,s[g]=a%l|0,f=a/l|0;return f&&s.unshift(f),s}function e(s,n,l,a){var f,g;if(l!=a)g=l>a?1:-1;else for(f=g=0;f<l;f++)if(s[f]!=n[f]){g=s[f]>n[f]?1:-1;break}return g}function r(s,n,l,a){for(var f=0;l--;)s[l]-=f,f=s[l]<n[l]?1:0,s[l]=f*a+s[l]-n[l];for(;!s[0]&&s.length>1;)s.shift()}return function(s,n,l,a,f,g){var c,M,_,b,N,O,S,P,R,Tt,L,U,Ft,V,x,Rt,H,Vt,It,D,Pt=s.constructor,w=s.s==n.s?1:-1,i=s.d,u=n.d;if(!i||!i[0]||!u||!u[0])return new Pt(!s.s||!n.s||(i?u&&i[0]==u[0]:!u)?NaN:i&&i[0]==0||!u?w*0:w/0);for(g?(N=1,M=s.e-n.e):(g=$t,N=I,M=qt(s.e/N)-qt(n.e/N)),It=u.length,H=i.length,R=new Pt(w),Tt=R.d=[],_=0;u[_]==(i[_]||0);_++);if(u[_]>(i[_]||0)&&M--,l==null?(V=l=Pt.precision,a=Pt.rounding):f?V=l+(s.e-n.e)+1:V=l,V<0)Tt.push(1),O=!0;else{if(V=V/N+2|0,_=0,It==1){for(b=0,u=u[0],V++;(_<H||b)&&V--;_++)x=b*g+(i[_]||0),Tt[_]=x/u|0,b=x%u|0;O=b||_<H}else{for(b=g/(u[0]+1)|0,b>1&&(u=t(u,b,g),i=t(i,b,g),It=u.length,H=i.length),Rt=It,L=i.slice(0,It),U=L.length;U<It;)L[U++]=0;D=u.slice(),D.unshift(0),Vt=u[0],u[1]>=g/2&&++Vt;do b=0,c=e(u,L,It,U),c<0?(Ft=L[0],It!=U&&(Ft=Ft*g+(L[1]||0)),b=Ft/Vt|0,b>1?(b>=g&&(b=g-1),S=t(u,b,g),P=S.length,U=L.length,c=e(S,L,P,U),c==1&&(b--,r(S,It<P?D:u,P,g))):(b==0&&(c=b=1),S=u.slice()),P=S.length,P<U&&S.unshift(0),r(L,S,U,g),c==-1&&(U=L.length,c=e(u,L,It,U),c<1&&(b++,r(L,It<U?D:u,U,g))),U=L.length):c===0&&(b++,L=[0]),Tt[_++]=b,c&&L[0]?L[U++]=i[Rt]||0:(L=[i[Rt]],U=1);while((Rt++<H||L[0]!==void 0)&&V--);O=L[0]!==void 0}Tt[0]||Tt.shift()}if(N==1)R.e=M,Ir=O;else{for(_=1,b=Tt[0];b>=10;b/=10)_++;R.e=_+M*N-1,E(R,f?l+R.e+1:l,a,O)}return R}}();function E(t,e,r,s){var n,l,a,f,g,c,M,_,b,N=t.constructor;t:if(e!=null){if(_=t.d,!_)return t;for(n=1,f=_[0];f>=10;f/=10)n++;if(l=e-n,l<0)l+=I,a=e,M=_[b=0],g=M/Ot(10,n-a-1)%10|0;else if(b=Math.ceil((l+1)/I),f=_.length,b>=f)if(s){for(;f++<=b;)_.push(0);M=g=0,n=1,l%=I,a=l-I+1}else break t;else{for(M=f=_[b],n=1;f>=10;f/=10)n++;l%=I,a=l-I+n,g=a<0?0:M/Ot(10,n-a-1)%10|0}if(s=s||e<0||_[b+1]!==void 0||(a<0?M:M%Ot(10,n-a-1)),c=r<4?(g||s)&&(r==0||r==(t.s<0?3:2)):g>5||g==5&&(r==4||s||r==6&&(l>0?a>0?M/Ot(10,n-a):0:_[b-1])%10&1||r==(t.s<0?8:7)),e<1||!_[0])return _.length=0,c?(e-=t.e+1,_[0]=Ot(10,(I-e%I)%I),t.e=-e||0):_[0]=t.e=0,t;if(l==0?(_.length=b,f=1,b--):(_.length=b+1,f=Ot(10,I-l),_[b]=a>0?(M/Ot(10,n-a)%Ot(10,a)|0)*f:0),c)for(;;)if(b==0){for(l=1,a=_[0];a>=10;a/=10)l++;for(a=_[0]+=f,f=1;a>=10;a/=10)f++;l!=f&&(t.e++,_[0]==$t&&(_[0]=1));break}else{if(_[b]+=f,_[b]!=$t)break;_[b--]=0,f=1}for(l=_.length;_[--l]===0;)_.pop()}return B&&(t.e>N.maxE?(t.d=null,t.e=NaN):t.e<N.minE&&(t.e=0,t.d=[0])),t}function jt(t,e,r){if(!t.isFinite())return Dr(t);var s,n=t.e,l=Bt(t.d),a=l.length;return e?(r&&(s=r-a)>0?l=l.charAt(0)+"."+l.slice(1)+Ht(s):a>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(t.e<0?"e":"e+")+t.e):n<0?(l="0."+Ht(-n-1)+l,r&&(s=r-a)>0&&(l+=Ht(s))):n>=a?(l+=Ht(n+1-a),r&&(s=r-n-1)>0&&(l=l+"."+Ht(s))):((s=n+1)<a&&(l=l.slice(0,s)+"."+l.slice(s)),r&&(s=r-a)>0&&(n+1===a&&(l+="."),l+=Ht(s))),l}function ve(t,e){var r=t[0];for(e*=I;r>=10;r/=10)e++;return e}function me(t,e,r){if(e>oi)throw B=!0,r&&(t.precision=r),Error(Tr);return E(new t(de),e,1,!0)}function Dt(t,e,r){if(e>Ue)throw Error(Tr);return E(new t(pe),e,r,!0)}function Rr(t){var e=t.length-1,r=e*I+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function Ht(t){for(var e="";t--;)e+="0";return e}function Pr(t,e,r,s){var n,l=new t(1),a=Math.ceil(s/I+4);for(B=!1;;){if(r%2&&(l=l.times(e),vr(l.d,a)&&(n=!0)),r=qt(r/2),r===0){r=l.d.length-1,n&&l.d[r]===0&&++l.d[r];break}e=e.times(e),vr(e.d,a)}return B=!0,l}function gr(t){return t.d[t.d.length-1]&1}function Lr(t,e,r){for(var s,n=new t(e[0]),l=0;++l<e.length;)if(s=new t(e[l]),s.s)n[r](s)&&(n=s);else{n=s;break}return n}function Ve(t,e){var r,s,n,l,a,f,g,c=0,M=0,_=0,b=t.constructor,N=b.rounding,O=b.precision;if(!t.d||!t.d[0]||t.e>17)return new b(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(B=!1,g=O):g=e,f=new b(.03125);t.e>-2;)t=t.times(f),_+=5;for(s=Math.log(Ot(2,_))/Math.LN10*2+5|0,g+=s,r=l=a=new b(1),b.precision=g;;){if(l=E(l.times(t),g,1),r=r.times(++M),f=a.plus(F(l,r,g,1)),Bt(f.d).slice(0,g)===Bt(a.d).slice(0,g)){for(n=_;n--;)a=E(a.times(a),g,1);if(e==null)if(c<3&&ue(a.d,g-s,N,c))b.precision=g+=10,r=l=f=new b(1),M=0,c++;else return E(a,b.precision=O,N,B=!0);else return b.precision=O,a}a=f}}function Kt(t,e){var r,s,n,l,a,f,g,c,M,_,b,N=1,O=10,S=t,P=S.d,R=S.constructor,Tt=R.rounding,L=R.precision;if(S.s<0||!P||!P[0]||!S.e&&P[0]==1&&P.length==1)return new R(P&&!P[0]?-1/0:S.s!=1?NaN:P?0:S);if(e==null?(B=!1,M=L):M=e,R.precision=M+=O,r=Bt(P),s=r.charAt(0),Math.abs(l=S.e)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)S=S.times(t),r=Bt(S.d),s=r.charAt(0),N++;l=S.e,s>1?(S=new R("0."+r),l++):S=new R(s+"."+r.slice(1))}else return c=me(R,M+2,L).times(l+""),S=Kt(new R(s+"."+r.slice(1)),M-O).plus(c),R.precision=L,e==null?E(S,L,Tt,B=!0):S;for(_=S,g=a=S=F(S.minus(1),S.plus(1),M,1),b=E(S.times(S),M,1),n=3;;){if(a=E(a.times(b),M,1),c=g.plus(F(a,new R(n),M,1)),Bt(c.d).slice(0,M)===Bt(g.d).slice(0,M))if(g=g.times(2),l!==0&&(g=g.plus(me(R,M+2,L).times(l+""))),g=F(g,new R(N),M,1),e==null)if(ue(g.d,M-O,Tt,f))R.precision=M+=O,c=a=S=F(_.minus(1),_.plus(1),M,1),b=E(S.times(S),M,1),n=f=1;else return E(g,R.precision=L,Tt,B=!0);else return R.precision=L,g;g=c,n+=2}}function Dr(t){return String(t.s*t.s/0)}function xe(t,e){var r,s,n;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charCodeAt(s)===48;s++);for(n=e.length;e.charCodeAt(n-1)===48;--n);if(e=e.slice(s,n),e){if(n-=s,t.e=r=r-s-1,t.d=[],s=(r+1)%I,r<0&&(s+=I),s<n){for(s&&t.d.push(+e.slice(0,s)),n-=I;s<n;)t.d.push(+e.slice(s,s+=I));e=e.slice(s),s=I-e.length}else s-=n;for(;s--;)e+="0";t.d.push(+e),B&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ui(t,e){var r,s,n,l,a,f,g,c,M;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),qr.test(e))return xe(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(ii.test(e))r=16,e=e.toLowerCase();else if(ri.test(e))r=2;else if(ni.test(e))r=8;else throw Error(Wt+e);for(l=e.search(/p/i),l>0?(g=+e.slice(l+1),e=e.substring(2,l)):e=e.slice(2),l=e.indexOf("."),a=l>=0,s=t.constructor,a&&(e=e.replace(".",""),f=e.length,l=f-l,n=Pr(s,new s(r),l,l*2)),c=ce(e,r,$t),M=c.length-1,l=M;c[l]===0;--l)c.pop();return l<0?new s(t.s*0):(t.e=ve(c,M),t.d=c,B=!1,a&&(t=F(t,n,f*4)),g&&(t=t.times(Math.abs(g)<54?Ot(2,g):le.pow(2,g))),B=!0,t)}function li(t,e){var r,s=e.d.length;if(s<3)return e.isZero()?e:ie(t,2,e,e);r=1.4*Math.sqrt(s),r=r>16?16:r|0,e=e.times(1/we(5,r)),e=ie(t,2,e,e);for(var n,l=new t(5),a=new t(16),f=new t(20);r--;)n=e.times(e),e=e.times(l.plus(n.times(a.times(n).minus(f))));return e}function ie(t,e,r,s,n){var l,a,f,g,c=t.precision,M=Math.ceil(c/I);for(B=!1,g=r.times(r),f=new t(s);;){if(a=F(f.times(g),new t(e++*e++),c,1),f=n?s.plus(a):s.minus(a),s=F(a.times(g),new t(e++*e++),c,1),a=f.plus(s),a.d[M]!==void 0){for(l=M;a.d[l]===f.d[l]&&l--;);if(l==-1)break}l=f,f=s,s=a,a=l}return B=!0,a.d.length=M+1,a}function we(t,e){for(var r=t;--e;)r*=t;return r}function $r(t,e){var r,s=e.s<0,n=Dt(t,t.precision,1),l=n.times(.5);if(e=e.abs(),e.lte(l))return Ut=s?4:1,e;if(r=e.divToInt(n),r.isZero())Ut=s?3:2;else{if(e=e.minus(r.times(n)),e.lte(l))return Ut=gr(r)?s?2:3:s?4:1,e;Ut=gr(r)?s?1:4:s?3:2}return e.minus(n).abs()}function ze(t,e,r,s){var n,l,a,f,g,c,M,_,b,N=t.constructor,O=r!==void 0;if(O?(Lt(r,1,zt),s===void 0?s=N.rounding:Lt(s,0,8)):(r=N.precision,s=N.rounding),!t.isFinite())M=Dr(t);else{for(M=jt(t),a=M.indexOf("."),O?(n=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):n=e,a>=0&&(M=M.replace(".",""),b=new N(1),b.e=M.length-a,b.d=ce(jt(b),10,n),b.e=b.d.length),_=ce(M,10,n),l=g=_.length;_[--g]==0;)_.pop();if(!_[0])M=O?"0p+0":"0";else{if(a<0?l--:(t=new N(t),t.d=_,t.e=l,t=F(t,b,r,s,0,n),_=t.d,l=t.e,c=Ir),a=_[r],f=n/2,c=c||_[r+1]!==void 0,c=s<4?(a!==void 0||c)&&(s===0||s===(t.s<0?3:2)):a>f||a===f&&(s===4||c||s===6&&_[r-1]&1||s===(t.s<0?8:7)),_.length=r,c)for(;++_[--r]>n-1;)_[r]=0,r||(++l,_.unshift(1));for(g=_.length;!_[g-1];--g);for(a=0,M="";a<g;a++)M+=je.charAt(_[a]);if(O){if(g>1)if(e==16||e==8){for(a=e==16?4:3,--g;g%a;g++)M+="0";for(_=ce(M,n,e),g=_.length;!_[g-1];--g);for(a=1,M="1.";a<g;a++)M+=je.charAt(_[a])}else M=M.charAt(0)+"."+M.slice(1);M=M+(l<0?"p":"p+")+l}else if(l<0){for(;++l;)M="0"+M;M="0."+M}else if(++l>g)for(l-=g;l--;)M+="0";else l<g&&(M=M.slice(0,l)+"."+M.slice(l))}M=(e==16?"0x":e==2?"0b":e==8?"0o":"")+M}return t.s<0?"-"+M:M}function vr(t,e){if(t.length>e)return t.length=e,!0}function hi(t){return new this(t).abs()}function fi(t){return new this(t).acos()}function ci(t){return new this(t).acosh()}function di(t,e){return new this(t).plus(e)}function pi(t){return new this(t).asin()}function mi(t){return new this(t).asinh()}function gi(t){return new this(t).atan()}function vi(t){return new this(t).atanh()}function wi(t,e){t=new this(t),e=new this(e);var r,s=this.precision,n=this.rounding,l=s+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=Dt(this,l,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?Dt(this,s,n):new this(0),r.s=t.s):!t.d||e.isZero()?(r=Dt(this,l,1).times(.5),r.s=t.s):e.s<0?(this.precision=l,this.rounding=1,r=this.atan(F(t,e,l,1)),e=Dt(this,l,1),this.precision=s,this.rounding=n,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(F(t,e,l,1)),r}function Mi(t){return new this(t).cbrt()}function yi(t){return E(t=new this(t),t.e+1,2)}function _i(t,e,r){return new this(t).clamp(e,r)}function bi(t){if(!t||typeof t!="object")throw Error(ge+"Object expected");var e,r,s,n=t.defaults===!0,l=["precision",1,zt,"rounding",0,8,"toExpNeg",-te,0,"toExpPos",0,te,"maxE",0,te,"minE",-te,0,"modulo",0,9];for(e=0;e<l.length;e+=3)if(r=l[e],n&&(this[r]=Ze[r]),(s=t[r])!==void 0)if(qt(s)===s&&s>=l[e+1]&&s<=l[e+2])this[r]=s;else throw Error(Wt+r+": "+s);if(r="crypto",n&&(this[r]=Ze[r]),(s=t[r])!==void 0)if(s===!0||s===!1||s===0||s===1)if(s)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Br);else this[r]=!1;else throw Error(Wt+r+": "+s);return this}function Ci(t){return new this(t).cos()}function Ai(t){return new this(t).cosh()}function Fr(t){var e,r,s;function n(l){var a,f,g,c=this;if(!(c instanceof n))return new n(l);if(c.constructor=n,wr(l)){c.s=l.s,B?!l.d||l.e>n.maxE?(c.e=NaN,c.d=null):l.e<n.minE?(c.e=0,c.d=[0]):(c.e=l.e,c.d=l.d.slice()):(c.e=l.e,c.d=l.d?l.d.slice():l.d);return}if(g=typeof l,g==="number"){if(l===0){c.s=1/l<0?-1:1,c.e=0,c.d=[0];return}if(l<0?(l=-l,c.s=-1):c.s=1,l===~~l&&l<1e7){for(a=0,f=l;f>=10;f/=10)a++;B?a>n.maxE?(c.e=NaN,c.d=null):a<n.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[l]):(c.e=a,c.d=[l]);return}else if(l*0!==0){l||(c.s=NaN),c.e=NaN,c.d=null;return}return xe(c,l.toString())}else if(g!=="string")throw Error(Wt+l);return(f=l.charCodeAt(0))===45?(l=l.slice(1),c.s=-1):(f===43&&(l=l.slice(1)),c.s=1),qr.test(l)?xe(c,l):ui(c,l)}if(n.prototype=A,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=bi,n.clone=Fr,n.isDecimal=wr,n.abs=hi,n.acos=fi,n.acosh=ci,n.add=di,n.asin=pi,n.asinh=mi,n.atan=gi,n.atanh=vi,n.atan2=wi,n.cbrt=Mi,n.ceil=yi,n.clamp=_i,n.cos=Ci,n.cosh=Ai,n.div=Ni,n.exp=Si,n.floor=Ei,n.hypot=Oi,n.ln=Ii,n.log=Ti,n.log10=ki,n.log2=Bi,n.max=qi,n.min=Ri,n.mod=Pi,n.mul=Li,n.pow=Di,n.random=$i,n.round=Fi,n.sign=ji,n.sin=Zi,n.sinh=Ui,n.sqrt=Vi,n.sub=xi,n.sum=Hi,n.tan=Ki,n.tanh=Wi,n.trunc=Gi,t===void 0&&(t={}),t&&t.defaults!==!0)for(s=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<s.length;)t.hasOwnProperty(r=s[e++])||(t[r]=this[r]);return n.config(t),n}function Ni(t,e){return new this(t).div(e)}function Si(t){return new this(t).exp()}function Ei(t){return E(t=new this(t),t.e+1,3)}function Oi(){var t,e,r=new this(0);for(B=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return B=!0,new this(1/0);r=e}return B=!0,r.sqrt()}function wr(t){return t instanceof le||t&&t.toStringTag===kr||!1}function Ii(t){return new this(t).ln()}function Ti(t,e){return new this(t).log(e)}function Bi(t){return new this(t).log(2)}function ki(t){return new this(t).log(10)}function qi(){return Lr(this,arguments,"lt")}function Ri(){return Lr(this,arguments,"gt")}function Pi(t,e){return new this(t).mod(e)}function Li(t,e){return new this(t).mul(e)}function Di(t,e){return new this(t).pow(e)}function $i(t){var e,r,s,n,l=0,a=new this(1),f=[];if(t===void 0?t=this.precision:Lt(t,1,zt),s=Math.ceil(t/I),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(s));l<s;)n=e[l],n>=429e7?e[l]=crypto.getRandomValues(new Uint32Array(1))[0]:f[l++]=n%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(s*=4);l<s;)n=e[l]+(e[l+1]<<8)+(e[l+2]<<16)+((e[l+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(e,l):(f.push(n%1e7),l+=4);l=s/4}else throw Error(Br);else for(;l<s;)f[l++]=Math.random()*1e7|0;for(s=f[--l],t%=I,s&&t&&(n=Ot(10,I-t),f[l]=(s/n|0)*n);f[l]===0;l--)f.pop();if(l<0)r=0,f=[0];else{for(r=-1;f[0]===0;r-=I)f.shift();for(s=1,n=f[0];n>=10;n/=10)s++;s<I&&(r-=I-s)}return a.e=r,a.d=f,a}function Fi(t){return E(t=new this(t),t.e+1,this.rounding)}function ji(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Zi(t){return new this(t).sin()}function Ui(t){return new this(t).sinh()}function Vi(t){return new this(t).sqrt()}function xi(t,e){return new this(t).sub(e)}function Hi(){var t=0,e=arguments,r=new this(e[t]);for(B=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return B=!0,E(r,this.precision,this.rounding)}function Ki(t){return new this(t).tan()}function Wi(t){return new this(t).tanh()}function Gi(t){return E(t=new this(t),t.e+1,1)}A[Symbol.for("nodejs.util.inspect.custom")]=A.toString;A[Symbol.toStringTag]="Decimal";var le=A.constructor=Fr(Ze);de=new le(de);pe=new le(pe);var ae=le,Zt=se(oe()),$e=se(oe()),zi=class{constructor(t){if(t!==0)throw new Error("Aftermath only supported on mainnet");this.slippage="900000000000000000",this.poolRegistry="0xfcc774493db2c45c79f688f88d28023a3e7d98e4ee9f48bbf5c7990f651577ae",this.protocolFeeVault="0xf194d9b1bcad972e45a7dd67dd49b3ee1e3357a00a50850c52cd51bb450e13b4",this.treasury="0x28e499dff5e864a2eafe476269a4f5035f1c16f338da7be18b103499abf271ce",this.insuranceFund="0xf0c40d67b078000e18032334c3325c47b9ec9f3d9ae4128be820d54663d14e3b",this.referrealVault="0x35d35b0e5b177593d8c3a801462485572fc30861e6ce96a55af6dc4730709278"}amountLimit(t){return Number(new $e.default(t).mul(new $e.default(this.slippage)).div(new $e.default("1000000000000000000")).toString())}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l];if(r.extendedDetails==null)throw new Error("Extended details not supported");if(r.extendedDetails.aftermathLpSupplyType==null)throw new Error("LP supply type not supported");const M=[e.object(r.id),e.object(this.poolRegistry),e.object(this.protocolFeeVault),e.object(this.treasury),e.object(this.insuranceFund),e.object(this.referrealVault),e.pure.u64(this.amountLimit(r.amountOut)),e.pure.u64(this.slippage),s];return e.moveCall({target:`${t.publishedAt()}::aftermath::${f}`,typeArguments:[g,c,r.extendedDetails.aftermathLpSupplyType],arguments:M})})}},Mr="0x000000000000000000000000000000000000000000000000000000000000dee9",Xi=class{constructor(t){if(t!==0)throw new Error("Aftermath only supported on mainnet")}getAccountCap(t,e){return $(this,null,function*(){let r=50,s=null;for(;;){const n=t.getOwnedObjects({owner:e,cursor:s,limit:r,filter:{MoveModule:{package:Mr,module:"custodian_v2"}}});if(n!=null&&n.data!=null){if(n.data.length!==0)return n.data[0].data.objectId;if(n.data.length<50)break}else break}return null})}getOrCreateAccountCap(t,e,r){return $(this,null,function*(){let s=yield this.getAccountCap(e,r);return s!==null?{accountCap:t.object(s),isCreate:!1}:{accountCap:t.moveCall({target:`${Mr}::clob_v2::create_account`,typeArguments:[],arguments:[]}),isCreate:!0}})}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l],M=yield this.getOrCreateAccountCap(e,t.client,t.signer),_=[e.object(r.id),s,M.accountCap,e.object(ne)],b=e.moveCall({target:`${t.publishedAt()}::deepbook::${f}`,typeArguments:[g,c],arguments:_});return M.isCreate&&e.transferObjects([M.accountCap],t.signer),b})}},Ji=class{constructor(t){if(t!==0)throw new Error("Kriya amm only supported on mainnet")}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l],M=[e.object(r.id),s];return e.moveCall({target:`${t.publishedAt()}::kriya_amm::${f}`,typeArguments:[g,c],arguments:M})})}},Yi=class{constructor(t){if(t!==0)throw new Error("Kriya clmm only supported on mainnet");this.version="0xf5145a7ac345ca8736cf8c76047d00d6d378f30e81be6f6eb557184d9de93c78"}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l],M=[e.object(r.id),s,e.object(this.version),e.object(ne)];return e.moveCall({target:`${t.publishedAt()}::kriya_clmm::${f}`,typeArguments:[g,c],arguments:M})})}},Qi=class{constructor(t){if(t!==0)throw new Error("Flowx only supported on mainnet");this.container="0xb65dcbf63fd3ad5d0ebfbf334780dc9f785eff38a4459e37ab08fa79576ee511"}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l],M=[e.object(this.container),s];return e.moveCall({target:`${t.publishedAt()}::flowx_amm::${f}`,typeArguments:[g,c],arguments:M})})}},tn=class{constructor(t){if(t!==0)throw new Error("Flowx clmm only supported on mainnet");this.versioned="0x67624a1533b5aff5d0dfcf5e598684350efd38134d2d245f475524c03a64e656",this.poolRegistry="0x27565d24a4cd51127ac90e4074a841bbe356cca7bf5759ddc14a975be1632abc"}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l],M=[e.object(this.poolRegistry),e.pure.u64(r.feeRate*1e6),s,e.object(this.versioned),e.object(ne)];return e.moveCall({target:`${t.publishedAt()}::flowx_clmm::${f}`,typeArguments:[g,c],arguments:M})})}},en=class{constructor(t){if(t!==0)throw new Error("Turbos only supported on mainnet");this.versioned="0xf1cf0e81048df168ebeb1b8030fad24b3e0b53ae827c25053fff0779c1445b6f"}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l];if(r.extendedDetails==null)throw new Error("Extended details not supported");if(r.extendedDetails.turbosFeeType==null)throw new Error("Turbos fee type not supported");const M=[e.object(r.id),s,e.object(ne),e.object(this.versioned)];return e.moveCall({target:`${t.publishedAt()}::turbos::${f}`,typeArguments:[g,c,r.extendedDetails.turbosFeeType],arguments:M})})}},yr=class{constructor(t,e){this.globalConfig=t===0?"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f":"0x6f4149091a5aea0e818e7243a13adcfb403842d670b9a2089de058512620687a",this.partner=e??t===0?"0x639b5e433da31739e800cd085f356e64cae222966d0f1b11bd9dc76b322ff58b":"0x8e0b7668a79592f70fbfb1ae0aebaf9e2019a7049783b9a4b6fe7c6ae038b528"}flash_swap(t,e,r,s){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["flash_swap_a2b",l,a]:["flash_swap_b2a",a,l];let M=s?r.amountIn:r.amountOut;const _=[e.object(this.globalConfig),e.object(r.id),e.object(this.partner),e.pure.u64(M),e.pure.bool(s),e.object(ne)],b=e.moveCall({target:`${t.publishedAt()}::cetus::${f}`,typeArguments:[g,c],arguments:_});return{targetCoin:b[0],flashReceipt:b[1],payAmount:b[2]}}repay_flash_swap(t,e,r,s,n){const{direction:l,from:a,target:f}=r,[g,c,M]=l?["repay_flash_swap_a2b",a,f]:["repay_flash_swap_b2a",f,a],_=[e.object(this.globalConfig),e.object(r.id),e.object(this.partner),s,n];return e.moveCall({target:`${t.publishedAt()}::cetus::${g}`,typeArguments:[c,M],arguments:_})[0]}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l],M=[e.object(this.globalConfig),e.object(r.id),e.object(this.partner),s,e.object(ne)];return e.moveCall({target:`${t.publishedAt()}::cetus::${f}`,typeArguments:[g,c],arguments:M})})}};function _r(t,...e){const r=Array.isArray(e[e.length-1])?e.pop():[];let n=[t,...e].filter(Boolean).join("::");return r&&r.length&&(n+=`<${r.join(", ")}>`),n}function re(t){var e;try{let r=t.replace(/\s/g,"");const s=r.match(/(<.+>)$/),n=(e=s==null?void 0:s[0])==null?void 0:e.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(n){r=r.slice(0,r.indexOf("<"));const g=re(r),c=Ge(We({},g),{type_arguments:n.map(M=>re(M).source_address)});return c.type_arguments=c.type_arguments.map(M=>Xt.isSuiCoin(M)?M:re(M).source_address),c.source_address=_r(c.full_address,c.type_arguments),c}const l=r.split("::"),f={full_address:r,address:r===jr||r===sn?"0x2":Fe.normalizeSuiObjectId(l[0]),module:l[1],name:l[2],type_arguments:[],source_address:""};return f.full_address=`${f.address}::${f.module}::${f.name}`,f.source_address=_r(f.full_address,f.type_arguments),f}catch{return{full_address:t,address:"",module:"",name:"",type_arguments:[],source_address:t}}}function br(t){return re(t).source_address}var rn="0x2::coin::Coin",nn=/^0x2::coin::Coin<(.+)>$/,jr="0x2::sui::SUI",sn="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",Xt=class xt{static getCoinTypeArg(e){const r=e.type.match(nn);return r?r[1]:null}static isSUI(e){const r=xt.getCoinTypeArg(e);return r?xt.getCoinSymbol(r)==="SUI":!1}static getCoinSymbol(e){return e.substring(e.lastIndexOf(":")+1)}static getBalance(e){return BigInt(e.fields.balance)}static totalBalance(e,r){let s=BigInt(0);return e.forEach(n=>{r===n.coinAddress&&(s+=BigInt(n.balance))}),s}static getID(e){return e.fields.id.id}static getCoinTypeFromArg(e){return`${rn}<${e}>`}static getCoinAssets(e,r){const s=[];return r.forEach(n=>{br(n.coinAddress)===br(e)&&s.push(n)}),s}static isSuiCoin(e){return re(e).full_address===jr}static selectCoinObjectIdGreaterThanOrEqual(e,r,s=[]){const n=xt.selectCoinAssetGreaterThanOrEqual(e,r,s),l=n.selectedCoins.map(g=>g.coinObjectId),a=n.remainingCoins,f=n.selectedCoins.map(g=>g.balance.toString());return{objectArray:l,remainCoins:a,amountArray:f}}static selectCoinAssetGreaterThanOrEqual(e,r,s=[]){const n=xt.sortByBalance(e.filter(c=>!s.includes(c.coinObjectId))),l=xt.calculateTotalBalance(n);if(l<r)return{selectedCoins:[],remainingCoins:n};if(l===r)return{selectedCoins:n,remainingCoins:[]};let a=BigInt(0);const f=[],g=[...n];for(;a<l;){const c=r-a,M=g.findIndex(b=>b.balance>=c);if(M!==-1){f.push(g[M]),g.splice(M,1);break}const _=g.pop();_.balance>0&&(f.push(_),a+=_.balance)}return{selectedCoins:xt.sortByBalance(f),remainingCoins:xt.sortByBalance(g)}}static sortByBalance(e){return e.sort((r,s)=>r.balance<s.balance?-1:r.balance>s.balance?1:0)}static sortByBalanceDes(e){return e.sort((r,s)=>r.balance>s.balance?-1:r.balance<s.balance?0:1)}static calculateTotalBalance(e){return e.reduce((r,s)=>r+s.balance,BigInt(0))}};function Cr(t){switch(t){case 1e4:return"Calculate error";case 10001:return"Input number too large can not fit in target type";case 10002:return"No router";case 10003:return"Insufficient Liquidity";default:return"Unknown error"}}function Gt(t){const e=t.indexOf("::");if(e===-1)return t;const r=t.substring(0,e),s=t.substring(e);if(!r.startsWith("0x"))return t;const n=r.substring(2);return n.length>64?t:`0x${n.padStart(64,"0")}${s}`}function on(t,e){t=Gt(t),e=Gt(e);const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){if(t[s]>e[s])return!0;if(t[s]<e[s])return!1}return!0}function an(t,e){return t.moveCall({target:"0x2::coin::zero",typeArguments:[e]})}function Ar(t,e,r,s){const n=Xt.getCoinAssets(s,e);if(r===BigInt(0)&&n.length===0)return{targetCoin:an(t,s),isMintZeroCoin:!0,targetCoinAmount:0};if(Xt.calculateTotalBalance(n)<r)throw new AggregateError("Insufficient balance when build merge coin","InsufficientBalance");if(Xt.isSuiCoin(s))return{targetCoin:t.splitCoins(t.gas,[t.pure.u64(r.toString())]),isMintZeroCoin:!0,targetCoinAmount:Number(r.toString())};let a=Xt.sortByBalance(n);a.slice(0,3).reduce((_,b)=>_+b.balance,BigInt(0))<BigInt(r)&&(a=Xt.sortByBalanceDes(n));let g=Xt.selectCoinObjectIdGreaterThanOrEqual(a,r);const[c,...M]=g.objectArray;return M.length>0&&t.mergeCoins(c,M.map(_=>t.object(_))),{targetCoin:t.object(c),isMintZeroCoin:!1,targetCoinAmount:Number(r.toString())}}function un(t){return!(!t.startsWith("0x")||t.length!==66)}var Yt=se(oe()),fe=se(oe()),he=se(oe()),ee=new he.default(0);new he.default(1);var ln=new he.default(2);ln.pow(new he.default(128));var hn=new he.default("18446744073709551615"),Qt=1e9;function Nr(t,e,r){let s=ee;return e?s=t.mul(new fe.default(Qt-r*Qt)).div(new fe.default(Qt)):s=t.mul(new fe.default(Qt+r*Qt)).div(new fe.default(Qt)),Number(s.toString())}function fn(t,e,r){return new ae(t).mul(ae.pow(2,-64)).pow(2).mul(ae.pow(10,e-r))}function cn(t,e,r){return $(this,null,function*(){var s,n,l,a,f;const{from:g,target:c,amount:M,byAmountIn:_,pools:b}=e,N=Gt(g),O=Gt(c),S=new Kr.Transaction,P=on(N,O),R="0x8faab90228e4c4df91c41626bbaefa19fc25c514405ac64de54578dec9e6f5ee",Tt=P?N:O,L=P?O:N,U=[Tt,L];for(let u=0;u<b.length;u++){const h=[S.object(b[u]),S.pure.bool(P),S.pure.bool(_),S.pure.u64(M.toString())];S.moveCall({target:`${R}::fetcher_script::calculate_swap_result`,arguments:h,typeArguments:U})}if(!un(r))throw new AggregateError("Aggregator package not set","InvalidWallet");const Ft=yield t.devInspectTransactionBlock({transactionBlock:S,sender:r});if(Ft.error!=null)throw new AggregateError("Aggregator package not set","SimulateError");const V=(s=Ft.events)==null?void 0:s.filter(u=>u.type.includes("CalculatedSwapResultEvent"));if(V.length===0||V.length!==b.length)throw new AggregateError("Simulate event result error","simulateEventError");let x=_?ee:hn,Rt=0;for(let u=0;u<V.length;u+=1)if(!V[u].parsedJson.data.is_exceed)if(e.byAmountIn){const h=new Yt.BN(V[u].parsedJson.data.amount_out);h.gt(x)&&(Rt=u,x=h)}else{const h=new Yt.BN(V[u].parsedJson.data.amount_out);h.lt(x)&&(Rt=u,x=h)}const H=V[Rt].parsedJson.data;console.log("event",JSON.stringify(H,null,2));const Vt=H.step_results[0].current_sqrt_price,[It,D]=yield Promise.all([t.getCoinMetadata({coinType:Tt}).then(u=>u==null?void 0:u.decimals),t.getCoinMetadata({coinType:L}).then(u=>u==null?void 0:u.decimals)]);if(It==null||D==null)throw new AggregateError("Simulate event result error","CannotGetDecimals");const Pt=fn(Vt,It,D),w={amountIn:new Yt.BN((n=H.amount_in)!=null?n:0),amountOut:new Yt.BN((l=H.amount_out)!=null?l:0),routes:[{path:[{id:b[Rt],direction:P,provider:"CETUS",from:N,target:O,feeRate:H.fee_rate,amountIn:H.amount_in,amountOut:H.amount_out,extendedDetails:{afterSqrtPrice:H.after_sqrt_price}}],amountIn:new Yt.BN((a=H.amount_in)!=null?a:0),amountOut:new Yt.BN((f=H.amount_out)!=null?f:0),initialPrice:Pt}],insufficientLiquidity:!1};return{isExceed:H.is_exceed,routeData:w}})}var dn=class{constructor(t){if(t!==0)throw new Error("Haedal only supported on mainnet")}swap(t,e,r,s){return $(this,null,function*(){const{direction:n}=r;if(!n)throw new Error("Haedal not support b2a swap");const l="swap_a2b",a=[e.object(r.id),e.object("0x5"),s];return e.moveCall({target:`${t.publishedAt()}::haedal::${l}`,typeArguments:[],arguments:a})})}},pn=class{constructor(t){if(t!==0)throw new Error("Afsui only supported on mainnet");this.stakedSuiVault="0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",this.safe="0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",this.referVault="0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",this.validator="0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2"}swap(t,e,r,s){return $(this,null,function*(){const{direction:n}=r;if(!n)throw new Error("Afsui not support b2a swap");const l="swap_a2b",a=[e.object(this.stakedSuiVault),e.object(this.safe),e.object("0x5"),e.object(this.referVault),e.object(this.validator),s];return e.moveCall({target:`${t.publishedAt()}::afsui::${l}`,typeArguments:[],arguments:a})})}},mn=class{constructor(t){if(t!==0)throw new Error("Volo only supported on mainnet");this.nativePool="0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",this.metadata="0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60"}swap(t,e,r,s){return $(this,null,function*(){const{direction:n}=r;if(!n)throw new Error("Volo not support b2a swap");const l="swap_a2b",a=[e.object(this.nativePool),e.object(this.metadata),e.object("0x5"),s];return e.moveCall({target:`${t.publishedAt()}::volo::${l}`,typeArguments:[],arguments:a})})}},gn=class{constructor(t){if(t!==0)throw new Error("Bluemove only supported on mainnet");this.dexInfo="0x3f2d9f724f4a1ce5e71676448dc452be9a6243dac9c5b975a588c8c867066e92"}swap(t,e,r,s){return $(this,null,function*(){const{direction:n,from:l,target:a}=r,[f,g,c]=n?["swap_a2b",l,a]:["swap_b2a",a,l],M=[e.object(this.dexInfo),s];return e.moveCall({target:`${t.publishedAt()}::bluemove::${f}`,typeArguments:[g,c],arguments:M})})}},Zr="CETUS",vn="DEEPBOOK",wn="KRIYA",Mn="FLOWX",yn="FLOWXV3",_n="KRIYAV3",Ur="TURBOS",He="AFTERMATH",bn="HAEDAL",Cn="VOLO",An="AFSUI",Nn="BLUEMOVE",Sn=class{constructor(t,e,r,s){this.endpoint=t,this.client=r,this.signer=e,this.env=s,this.allCoins=[]}getAllCoins(){return $(this,null,function*(){let t=null,e=50;const r=[];for(;;){const s=yield this.client.getAllCoins({owner:this.signer,cursor:t,limit:e});for(const n of s.data)r.push({coinAddress:re(n.coinType).source_address,coinObjectId:n.coinObjectId,balance:BigInt(n.balance)});if(s.data.length<e)break;t=s.data[e-1].coinObjectId}return r})}findRouters(t){return $(this,null,function*(){return Tn(this.endpoint,t)})}expectInputSwap(t,e,r,s,n){return $(this,null,function*(){if(r.length===0)throw new Error("No router found");const l=r.map(_=>_.amountIn.toString()),a=r[0].path[0].from,f=r[0].path[r[0].path.length-1].target,g=t.splitCoins(e,l),c=[];for(let _=0;_<r.length;_++){if(r[_].path.length===0)throw new Error("Empty path");let b=g[_];for(const N of r[_].path)b=yield this.newDex(N.provider,n).swap(this,t,N,b);c.push(b)}return this.transferOrDestoryCoin(t,e,a),this.checkCoinThresholdAndMergeCoin(t,c,f,s)})}expectOutputSwap(t,e,r,s){return $(this,null,function*(){const n=[],l=[],a=[],f=new yr(this.env,s);for(let c=0;c<r.length;c++){const M=r[c];for(let b=M.path.length-1;b>=0;b--){const N=M.path[b],O=f.flash_swap(this,t,N,!1);n.unshift(O.targetCoin),l.unshift(O.flashReceipt)}let _=e;for(let b=0;b<M.path.length;b++){const N=M.path[b],O=f.repay_flash_swap(this,t,N,_,l[b]);_=n[b],b===0?e=O:this.transferOrDestoryCoin(t,O,N.from),b===M.path.length-1&&a.push(_)}}const g=r[0].path[0].from;if(this.transferOrDestoryCoin(t,e,g),a.length>1){const c=t.makeMoveVec({elements:a.slice(1)});t.moveCall({target:`${Fe.SUI_FRAMEWORK_ADDRESS}::pay::join_vec`,typeArguments:[r[0].path[r[0].path.length-1].target],arguments:[a[0],c]})}return a[0]})}swapInPools(t){return $(this,null,function*(){let e;try{e=yield cn(this.client,t,this.signer)}catch(r){return console.error("swapInPools error:",r),null}return e})}routerSwap(t){return $(this,null,function*(){const{routers:e,inputCoin:r,slippage:s,byAmountIn:n,txb:l,partner:a}=t,f=e.reduce((b,N)=>b.add(N.amountIn),new Zt.default(0)),g=e.reduce((b,N)=>b.add(N.amountOut),new Zt.default(0)),c=Nr(n?g:f,n,s);if(n)return yield this.expectInputSwap(l,r,e,new Zt.default(c),a);const M=l.splitCoins(r,[c.toString()]);return this.transferOrDestoryCoin(l,r,e[0].path[0].from),yield this.expectOutputSwap(l,M[0],e,a)})}fastRouterSwap(t){return $(this,null,function*(){const{routers:e,byAmountIn:r,slippage:s,txb:n,partner:l,isMergeTragetCoin:a,refreshAllCoins:f}=t;(f||this.allCoins.length===0)&&(this.allCoins=yield this.getAllCoins());const g=e[0].path[0].from,c=e[0].path[e[0].path.length-1].target,M=e.reduce((P,R)=>P.add(R.amountIn),new Zt.default(0)),_=e.reduce((P,R)=>P.add(R.amountOut),new Zt.default(0)),b=Nr(r?_:M,r,s),N=r?M:b,O=Ar(n,this.allCoins,BigInt(N.toString()),g),S=yield this.routerSwap({routers:e,inputCoin:O.targetCoin,slippage:s,byAmountIn:r,txb:n,partner:l});if(a){const P=Ar(n,this.allCoins,BigInt(0),c);n.mergeCoins(P.targetCoin,[S]),P.isMintZeroCoin&&this.transferOrDestoryCoin(n,P.targetCoin,c)}else this.transferOrDestoryCoin(n,S,c)})}publishedAt(){return this.env===0?"0x764b8132a94d35abc9dfd91b23a0757b2a717d5ecb04c03098794aa2a508db91":"0x6cbaa3e9fbe902d90191b12f315932bc58079cba422bafbd4b4369f80e61f595"}transferOrDestoryCoin(t,e,r){t.moveCall({target:`${this.publishedAt()}::utils::transfer_or_destroy_coin`,typeArguments:[r],arguments:[e]})}checkCoinThresholdAndMergeCoin(t,e,r,s){let n=e[0];if(e.length>1){let l=t.makeMoveVec({elements:e.slice(1)});t.moveCall({target:`${Fe.SUI_FRAMEWORK_ADDRESS}::pay::join_vec`,typeArguments:[r],arguments:[e[0],l]}),n=e[0]}return t.moveCall({target:`${this.publishedAt()}::utils::check_coin_threshold`,typeArguments:[r],arguments:[n,t.pure.u64(s.toString())]}),n}newDex(t,e){switch(t){case Zr:return new yr(this.env,e);case vn:return new Xi(this.env);case wn:return new Ji(this.env);case _n:return new Yi(this.env);case Mn:return new Qi(this.env);case yn:return new tn(this.env);case Ur:return new en(this.env);case He:return new zi(this.env);case bn:return new dn(this.env);case An:return new pn(this.env);case Cn:return new mn(this.env);case Nn:return new gn(this.env);default:throw new Error(`Unsupported dex ${t}`)}}signAndExecuteTransaction(t,e){return $(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:t,signer:e,options:{showEffects:!0,showEvents:!0,showInput:!0,showBalanceChanges:!0}})})}devInspectTransactionBlock(t){return $(this,null,function*(){return yield this.client.devInspectTransactionBlock({transactionBlock:t,sender:this.signer})})}sendTransaction(t,e){return $(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:t,signer:e})})}};function En(t){return{amountIn:new Zt.default(t.amount_in.toString()),amountOut:new Zt.default(t.amount_out.toString()),insufficientLiquidity:!1,routes:t.routes.map(e=>({path:e.path.map(r=>{var s,n,l;let a;r.provider===He&&(a=r.extended_details.aftermath_pool_flatness===0?"v2":"v3");let f;return(r.provider===Ur||r.provider===He||r.provider===Zr)&&(f={aftermathLpSupplyType:(s=r.extended_details)==null?void 0:s.aftermath_lp_supply_type,turbosFeeType:(n=r.extended_details)==null?void 0:n.turbos_fee_type,afterSqrtPrice:(l=r.extended_details)==null?void 0:l.after_sqrt_price}),{id:r.id,direction:r.direction,provider:r.provider,from:r.from,target:r.target,feeRate:r.fee_rate,amountIn:r.amount_in,amountOut:r.amount_out,extendedDetails:f,version:a}}),amountIn:new Zt.default(e.amount_in.toString()),amountOut:new Zt.default(e.amount_out.toString()),initialPrice:new ae(e.initial_price.toString())}))}}var ne="0x0000000000000000000000000000000000000000000000000000000000000006",Sr=se(oe()),On=t=>t.map(r=>Ge(We({},r),{amountIn:r.amountIn.toString(),amountOut:r.amountOut.toString(),initialPrice:r.initialPrice.toString(),path:r.path})),In=t=>t.map(r=>Ge(We({},r),{amountIn:new Sr.default(r.amountIn),amountOut:new Sr.default(r.amountOut),initialPrice:new ae(r.initialPrice.toString()),path:r.path}));function Tn(t,e){return $(this,null,function*(){let r;if(e.liquidityChanges&&e.liquidityChanges.length>0?r=yield kn(t,e):r=yield Bn(t,e),!r)return null;if(!r.ok)return{amountIn:ee,amountOut:ee,routes:[],insufficientLiquidity:!1,error:{code:10001,msg:Cr(10001)}};const s=yield r.json();if(s.data!=null)return En(s.data);const n=s.msg==="liquidity is not enough";return{amountIn:ee,amountOut:ee,routes:[],insufficientLiquidity:n,error:{code:10003,msg:Cr(10003)}}})}function Bn(t,e){return $(this,null,function*(){try{const{from:r,target:s,amount:n,byAmountIn:l,depth:a,splitAlgorithm:f,splitFactor:g,splitCount:c,providers:M}=e,_=Gt(r),b=Gt(s);let N=`${t}?from=${_}&target=${b}&amount=${n.toString()}&by_amount_in=${l}`;return a&&(N+=`&depth=${a}`),f&&(N+=`&split_algorithm=${f}`),g&&(N+=`&split_factor=${g}`),c&&(N+=`&split_count=${c}`),M&&M.length>0&&(N+=`&providers=${M.join(",")}`),yield fetch(N)}catch(r){return console.error(r),null}})}function kn(t,e){return $(this,null,function*(){const{from:r,target:s,amount:n,byAmountIn:l,depth:a,splitAlgorithm:f,splitFactor:g,splitCount:c,providers:M,liquidityChanges:_}=e,b=Gt(r),N=Gt(s),O=`${t}`,S=M==null?void 0:M.join(","),P={from:b,target:N,amount:Number(n.toString()),by_amount_in:l,depth:a,split_algorithm:f,split_factor:g,split_count:c,providers:S,liquidity_changes:_.map(R=>({pool:R.poolID,tick_lower:R.ticklower,tick_upper:R.tickUpper,delta_liquidity:R.deltaLiquidity}))};console.log("requestData",JSON.stringify(P,null,2));try{return yield fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})}catch(R){return console.error("Error:",R),null}})}var Vr=(t=>(t[t.Mainnet=0]="Mainnet",t[t.Testnet=1]="Testnet",t))(Vr||{}),Pn=Sn,Ln=Vr,Dn=On,$n=In;export{Pn as A,Ln as E,Dn as d,$n as r};
