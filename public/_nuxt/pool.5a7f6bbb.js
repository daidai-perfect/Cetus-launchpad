import{e as D,m as y,o as i,f as c,h as e,x as S,i as p,S as F,p as N,k as z,a as W,r as v,A as C,q as A,s as X,u as Y,F as Z,E as M,y as tt,v as et,t as st,l as ot}from"./entry.acdca605.js";import"./index.8f6ad64c.js";import{u as E}from"./stats.52bb3344.js";import"./index.cd369779.js";import{u as at}from"./index.694816b3.js";import{c as lt}from"./index.be8ffb7b.js";import{l as it}from"./lodash.5807d01d.js";import{c as L,s as ct}from"./common.f371ec22.js";import{f as nt}from"./formatter.c1da724b.js";import{u as rt}from"./useStatsData.602d559f.js";import"./install.d2555671.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./fetchFun.ff4aae28.js";const w=t=>(N("data-v-da9173fd"),t=t(),z(),t),ut={class:"pool-list-stats-info"},_t=w(()=>e("div",{class:"concentrate-pools"},"Concentrated Pools",-1)),dt={class:"tvl-vol"},vt={class:"tvl"},pt=w(()=>e("div",{class:"title"},"Total Value Locked",-1)),mt={key:0,class:"text"},ft={key:1,class:"text"},yt={class:"vol"},gt=w(()=>e("div",{class:"title"},"Cumulative Volume",-1)),ht={key:0,class:"text"},St={key:1,class:"text"},xt={__name:"pool-list-stats-info",setup(t){const a=E(),u=y(()=>a),_=y(()=>(console.log("ðŸš€ ~ overallStatistics ~ overallStatistics:",u.value.overallStatistics),u.value.overallStatistics));return(g,m)=>{const l=F;return i(),c("div",ut,[_t,e("div",dt,[e("div",vt,[e("div",null,[pt,_.value.totalValueLockedDisplay?(i(),c("div",mt,"$"+S(_.value.totalValueLockedDisplay),1)):(i(),c("div",ft,[p(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])]),e("div",yt,[e("div",null,[gt,_.value.cumulativeVolumeDisplay?(i(),c("div",ht,"$"+S(_.value.cumulativeVolumeDisplay),1)):(i(),c("div",St,[p(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])])])])}}},kt=D(xt,[["__scopeId","data-v-da9173fd"]]),B=t=>(N("data-v-e4268d15"),t=t(),z(),t),$t={class:"pool-list-chart-container"},Dt={class:"chart-top"},wt={class:"trading-vol"},Vt=B(()=>e("div",{class:"title"},"Trading Volume (24H)",-1)),bt={key:0,class:"text"},It={key:1,class:"text"},Ct={class:"time-list"},Lt=["onClick"],Ft=B(()=>e("div",{class:"chart-content"},[e("div",{id:"stats-chart",class:"stats-chart"})],-1));var J=(t=>(t.D="day",t.W="wek",t.M="mon",t))(J||{}),T=(t=>(t[t.D=40]="D",t[t.W=30]="W",t[t.M=20]="M",t))(T||{}),O=(t=>(t[t.Jan=1]="Jan",t[t.Feb=2]="Feb",t[t.Mar=3]="Mar",t[t.Apr=4]="Apr",t[t.May=5]="May",t[t.Jun=6]="Jun",t[t.Jul=7]="Jul",t[t.Aug=8]="Aug",t[t.Sep=9]="Sep",t[t.Oct=10]="Oct",t[t.Nov=11]="Nov",t[t.Dec=12]="Dec",t))(O||{}),R=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(R||{}),U=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(U||{});const Nt=W({__name:"pool-list-chart",setup(t){const a=v("D"),u=["D","W","M"],_=at();y(()=>_);const g=v(),m=v(),l=v(""),x=E(),j=y(()=>x),h=y(()=>j.value.overallStatistics);C(()=>[h.value],([s])=>{L(s)||(l.value=s.volInUsd24hSumV1)},{immediate:!0});const V=async()=>{try{const s=T[a.value],{data:n}=await fetch(`${lt.Sui.api}/v2/sui/histogram?date_type=${J[a.value]}&typ=vol&limit=${s}`).then(o=>o.json()),f=n.list.map(o=>o.num),r=n.list.map(o=>o.date);g.value=f,m.value=r,q(f,r,s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(s){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",s)}},k=v(),q=(s,n,f)=>{const r=document.getElementById("stats-chart"),o=et(r);k.value=o;let I={tooltip:{trigger:"axis",backgroundColor:"#28353F",borderColor:"transparent",formatter:function(d){let H=d[0].axisValue.slice(5,7),G=O[Number(H)];const K=d[0].axisValue.slice(8,10),P=G,Q=d[0].axisValue.slice(0,4);return l.value=nt(d[0].value,2),"&nbsp;&nbsp;&nbsp;"+K+"&nbsp;"+P+"&nbsp;"+Q+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#76C8FF"}}},xAxis:{show:!1,type:"category",data:n},yAxis:{show:!1,max:function(d){return d.max}},series:[{data:s,type:"bar",itemStyle:{normal:{barBorderRadius:4,color:"#72C1F7"}},barWidth:$.value?R[a.value]:U[a.value]}],grid:{left:0,right:0,top:0,bottom:0}};I&&o.setOption(I),o&&o.resize(),o.on("globalout",d=>{l.value=h.value&&h.value.volInUsd24hSumV1})};C(()=>a.value,(s,n)=>{(!n||s!==n)&&V()},{immediate:!0});const $=v(!0),b=it.debounce(()=>{document.body.clientWidth>750?$.value=!0:$.value=!1,!g.value&&!m.value?V():k.value&&k.value.resize()},300);return A(()=>{window.addEventListener("resize",b)}),X(()=>{window.removeEventListener("resize",b)}),(s,n)=>{const f=F;return i(),c("div",$t,[e("div",Dt,[e("div",wt,[Vt,Y(L)(h.value)?(i(),c("div",It,[p(f,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])):(i(),c("div",bt," $"+S(l.value===""?"--":Number(l.value)==0?0:l.value),1))]),e("div",Ct,[(i(),c(Z,null,M(u,r=>e("div",{key:r,class:tt(["time-item",r==a.value?"time-item-active":""]),onClick:o=>a.value=r},S(r),11,Lt)),64))])]),Ft])}}});const zt=D(Nt,[["__scopeId","data-v-e4268d15"]]);const At={class:"pool-container"},Et={class:"pool-container-top-bg"},Bt={class:"pool-container-top"},Jt={__name:"pool",setup(t){const{getStatusData:a}=rt(),u=v(!1);return A(async()=>{await ct(1e3),u.value=!0}),st(()=>{u.value&&a()}),(_,g)=>{const m=kt,l=zt,x=ot("router-view");return i(),c("div",At,[e("div",Et,[e("div",Bt,[p(m),p(l)]),p(x)])])}}},Zt=D(Jt,[["__scopeId","data-v-902f36d3"]]);export{Zt as default};
