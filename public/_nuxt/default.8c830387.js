import{_ as rt,l as wt,M as fe,a as Ct,b as yt,c as It,d as _t,u as kt,e as it,f as At,g as bt,h as Nt,i as $t,j as Tt,k as Ot,m as Rt,n as Mt,o as Lt,p as Wt}from"./global.ce57a773.js";import{a as Se,$ as Et,z as ct,r as _,m as y,a1 as qt,t as Ht,a2 as j,e as we,l as ut,C as Bt,o as u,c as M,w as he,h as i,x as K,f as k,F as dt,E as pt,I as Ut,u as ve,i as Z,j as Dt,B as Pt,b as mt,L as ht,q as ge,A as q,G as S,D as ne,y as ae,p as ft,k as vt,s as jt,V as Ft,fs as zt}from"./entry.16727275.js";import{i as ie}from"./import-icon.de3e6c66.js";import{u as Ce,c as J}from"./index.f3805b23.js";import{a as ye,u as me,b as de,e as Gt,j as lt}from"./index.038a8f13.js";import{a as Kt}from"./data.712deea2.js";import{_ as Qt}from"./term-and-conditions.b6966c1a.js";import{u as gt}from"./useTheme.d5097d6f.js";import{c as Zt}from"./common.a6a58fe8.js";import{u as Jt}from"./notifi.3bc041c1.js";import"./img-no-Positions_2x.c43f3c39.js";import"./img-no-Positions_2x.fb17cac4.js";/* empty css              */import"./check-box.855b82b2.js";import"./index.b8998d8e.js";import"./nuxt-link.dca1e423.js";import"./launchpad.009d8eb0.js";/* empty css              */import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./bignumber.266e6c56.js";import"./useWhale.8682e4d5.js";const Yt=Se({components:{Modal:Et},setup(){const{t:e,locale:o}=ct(),d=_(!1),l=ye(),O=me(),B=me(),t=y(()=>B),H=R=>{const b=R.address||`${J.Aptos.faucetObjectId}::coin::${R.name}`;return l.tokensObj&&l.tokensObj[b]?l.tokensObj[b].logoURI:""},m=y(()=>t.value.chainName!=="Aptos"?Kt:[{symbol:"USDT",name:"CetusUSDT",num:"200",amount:"200000000"},{symbol:"USDC",name:"CetusUSDC",num:"200",amount:"200000000"},{symbol:"ETH",name:"CetusETH",num:"0.1",amount:"100000000"},{symbol:"BTC",name:"CetusBTC",num:"0.01",amount:"10000000"}]),n=y(()=>Object.fromEntries(m.value.map(R=>[R.symbol,R]))),{$notify:L}=qt(),$=Ce(),p=y(()=>$),{setIsShowSuccess:h,setIsShowRejected:c,setIsShowWaiting:W,setTransactionDesc:w,setTransactionTxid:A}=O,T=_(!1),U=_(!1),g=_(""),X=async R=>{const b=de(t.value.chainName);if(!p.value.connected)p.value.setIsShowWalletModal(!0);else{U.value=!0,A(""),w(""),W(!0),g.value=R.symbol;try{const r=b.mintCoin(R);let N;if(t.value.chainName==="Aptos")N=await p.value.currentWallet.signAndSubmitTransaction(r);else{const E=await b.signAndExecuteTransactionBlock(p.value.currentWallet,r);N=b.handleTx(E)}if(N){T.value=!1,A(N.hash),W(!1),h(!0);const E={title:"Request Coins",desc:"",hash:N.hash,icon:"icon-icon-Increased",tit:"Request Coins",tokenInfo:{tokena:g.value,numa:`+ ${n.value[g.value].num}`,logoa:l.tokensObj&&l.tokensObj[R.address].logoURI},text:""};t.value.chainName!=="Aptos"&&(E.res=N.res),b.showTransitionPending(E),await b.watchTransaction(E)&&setTimeout(()=>{b.getAccount(p.value.address)},1e3)}else W(!1),L.error({icon:j("svg",{class:{icon:!0},"aria-hidden":!0},[j("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:j("div",{class:"notification-title"},[j("span",{innerHTML:"Request Coins Failed"},null)]),description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});U.value=!1}catch(r){U.value=!1,W(!1),console.log("mint coin error###",r),L.error({icon:j("svg",{class:{icon:!0},"aria-hidden":!0},[j("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:j("div",{class:"notification-title"},[j("span",{innerHTML:"Request Coins Failed"},null)]),duration:4.5,description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}}};_(0),_(0);const D=_("--"),le=_("--"),F=_("--");Ht(async()=>{p.value.address&&t.value.chainName!=="Aptos"&&(T.value=!0)});const Q=_("0");return{t:e,storeCounter:t,wallet:p,importIcon:ie,list:m,requestError:d,start:T,hour:D,min:le,sec:F,loading:U,aptosBalance:Q,toMintCoin:X,currentCoin:g,getCoinIcon:H}}}),Xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAR23aI5H0hshDAAAAIElEQVQoz2NggII0AQZUMCpAsUCoAwP1gTFBa5WoaC0ASoUK6Z2VFk8AAAAASUVORK5CYII=";const Vt=i("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[i("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),xt={class:"request-title"},eo={class:"top"},to={class:"left"},oo={key:0,src:Xt,alt:""},so={key:1,src:rt,alt:""},no={class:"right"},ao={class:"bottom"},io={class:"img-name"},lo={alt:""};function ro(e,o,d,l,O,B){const t=Pt,H=ut("Modal"),m=Bt("image");return u(),M(H,{width:440,visible:!0,class:"request-modal",title:e.$t("common.requestCoins"),footer:null,centered:"",onCancel:o[0]||(o[0]=n=>e.$emit("onClose"))},{closeIcon:he(()=>[Vt]),default:he(()=>[i("div",xt,K(e.t("newAdd.youNeedSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"Sui"})),1),i("div",eo,[i("div",to,[e.storeCounter.theme=="default"?(u(),k("img",oo)):(u(),k("img",so))]),i("div",no,K(e.t("newAdd.toGetSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"SUI"})),1)]),i("div",ao,[(u(!0),k(dt,null,pt(e.list,n=>(u(),k("div",{key:n.symbol,class:"item"},[i("div",io,[Ut(i("img",lo,null,512),[[m,e.getCoinIcon(n)||("importIcon"in e?e.importIcon:ve(ie))(`/image/coins/${n.symbol.toLowerCase()}.png`)]]),i("span",null,"Â Â "+K(n.symbol),1)]),Z(t,{class:"mint-coin-btn",loading:e.loading&&n.symbol===e.currentCoin,onClick:L=>e.toMintCoin(n)},{default:he(()=>[Dt(K(e.$t("button.request")),1)]),_:2},1032,["loading","onClick"])]))),128))])]),_:1},8,["title"])}const co=we(Yt,[["render",ro]]);var uo=globalThis&&globalThis.__classPrivateFieldSet||function(e,o,d,l,O){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?e!==o||!O:!o.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?O.call(e,d):O?O.value=d:o.set(e,d),d},po=globalThis&&globalThis.__classPrivateFieldGet||function(e,o,d,l){if(d==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?e!==o||!l:!o.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?l:d==="a"?l.call(e):l?l.value:o.get(e)},pe;function mo(e){const o=({register:d})=>d(e);try{window.dispatchEvent(new ho(o))}catch(d){console.error(`wallet-standard:register-wallet event could not be dispatched
`,d)}try{window.addEventListener("wallet-standard:app-ready",({detail:d})=>o(d))}catch(d){console.error(`wallet-standard:app-ready event listener could not be added
`,d)}}class ho extends Event{constructor(o){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),pe.set(this,void 0),uo(this,pe,o,"f")}get detail(){return po(this,pe,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}pe=new WeakMap;const fo=Se({setup(e){const o=y(()=>fe.inMSafeWallet()),d=Ce(),l=y(()=>d),O=ye();let B=_(!1);const t=mt(),H=ht(),{t:m,locale:n}=ct(),L=[{id:"Sui",name:"Sui",env:"",network:"Mainnet"},{id:"Aptos",name:"Aptos",env:"",network:"Mainnet"}],$=[{name:m("contactUS.docs"),icon:"#icon-svg-docs",link:"https://cetus-1.gitbook.io/cetus-docs/"},{name:m("contactUS.twitter"),icon:"#icon-svg-twitter",link:"https://twitter.com/cetusprotocol"},{name:m("contactUS.discord"),icon:"#icon-svg-Discord",link:"https://discord.gg/cetusprotocol"},{name:m("contactUS.tgChannel"),icon:"#icon-svg-tg",link:"https://t.me/cetusprotocol"},{name:m("contactUS.medium"),icon:"#icon-svg-medium",link:"https://medium.com/@CetusProtocol"}],p=me(),h=_(""),c=y(()=>p);let W=_(c.value.chainName||"Aptos");const w=gt();ge(()=>{var E,P,z;const r=(z=(P=(E=t==null?void 0:t.currentRoute)==null?void 0:E.value)==null?void 0:P.query)==null?void 0:z.language;r&&D(r);const N=localStorage.getItem("theme");!N||N==="sui"?w.selectSuiTheme():N==="sui2"?w.selectSui2Theme():w.seleteDefaultTheme(),document.addEventListener("click",()=>{c.value.setOpenH5Icon(!1),c.value.setOpenSwitchChain(!1),c.value.setOpenMore(!1),c.value.setIsShowMore(!1),c.value.setOpenSwitchLang(!1),c.value.setIsShowHeaderMore(!1)}),h.value=n.value,T()});const A=()=>{t.push("/")},T=()=>{window.setInterval(()=>{$[0].name=m("contactUS.docs"),$[1].name=m("contactUS.twitter"),$[2].name=m("contactUS.discord"),$[3].name=m("contactUS.tgChannel"),$[4].name=m("contactUS.medium")},1e3)};q(()=>p.lang,r=>{h.value=r});const U=y(()=>c.value.chainName?J[c.value.chainName]:{}),g=r=>{var N,E,P,z,re,ce,ue,V,x,ee,te,oe,se,s,a,f,I,C,v,G,Ie,_e,ke,Ae,be,Ne,$e,Te,Oe,Re,Me,Le,We,Ee,qe,He,Be,Ue,De,Pe,je,Fe,ze,Ge,Ke,Qe,Ze,Je,Ye,Xe,Ve,xe,et,tt,ot,st,nt,at;console.log("ðŸš€ ~ changeChain ~ item:",r),W.value!==r.id&&(O.setChainPoolConfigList([]),p.setPositiomAmount("--")),W.value!=r.id&&(W.value=r.id,r.id=="Aptos"?(w.seleteDefaultTheme(),d.setCurrentWallet({wallet:l.value.aptosCurrentWallet,isConnected:l.value.aptosConnected,account:l.value.aptosAddress,platform:"Aptos",icon:l.value.aptosWalletIcon})):r.id=="Sui"?(w.selectSuiTheme(),d.setCurrentWallet({wallet:l.value.suiCurrentWallet,isConnected:l.value.suiConnected,account:l.value.suiAddress,platform:"Sui",icon:l.value.suiWalletIcon})):r.id==="Sui2"&&(w.selectSui2Theme(),d.setCurrentWallet({wallet:l.value.suiCurrentWallet,isConnected:l.value.suiConnected,account:l.value.suiAddress,platform:"Sui",icon:l.value.suiWalletIcon})),(((E=(N=t==null?void 0:t.currentRoute)==null?void 0:N.value)==null?void 0:E.name)==="position-detail-id"||((z=(P=t==null?void 0:t.currentRoute)==null?void 0:P.value)==null?void 0:z.name)==="position-detail"||((ce=(re=t==null?void 0:t.currentRoute)==null?void 0:re.value)==null?void 0:ce.name)==="remove-liquidity"||((V=(ue=t==null?void 0:t.currentRoute)==null?void 0:ue.value)==null?void 0:V.name)==="increase-liquidity"||((ee=(x=t==null?void 0:t.currentRoute)==null?void 0:x.value)==null?void 0:ee.name)==="pool-position"||((oe=(te=t==null?void 0:t.currentRoute)==null?void 0:te.value)==null?void 0:oe.name)==="new-position-detail"||((s=(se=t==null?void 0:t.currentRoute)==null?void 0:se.value)==null?void 0:s.name)==="xcetus")&&t.push("/pools"),((f=(a=t==null?void 0:t.currentRoute)==null?void 0:a.value)==null?void 0:f.name)==="deposit"&&r.id=="Sui"&&t.push("/pool/list"),((C=(I=t==null?void 0:t.currentRoute)==null?void 0:I.value)==null?void 0:C.name)==="deposit"&&r.id=="Aptos"&&t.push("/pools"),((G=(v=t==null?void 0:t.currentRoute)==null?void 0:v.value)==null?void 0:G.name)==="pools"&&r.id=="Cetus"&&t.push("/pool-list"),((_e=(Ie=t==null?void 0:t.currentRoute)==null?void 0:Ie.value)==null?void 0:_e.name)==="pool/list"&&r.id=="Aptos"&&t.push("/pools"),((Ae=(ke=t==null?void 0:t.currentRoute)==null?void 0:ke.value)==null?void 0:Ae.name)==="new-position-detail"&&r.id=="Aptos"&&t.push("/pools"),((Ne=(be=t==null?void 0:t.currentRoute)==null?void 0:be.value)==null?void 0:Ne.name)==="new-position-detail"&&r.id=="Sui"&&t.push("/pool/list"),((Te=($e=t==null?void 0:t.currentRoute)==null?void 0:$e.value)==null?void 0:Te.name)==="pool-position"&&r.id=="Aptos"&&t.push("/position"),(Re=(Oe=t==null?void 0:t.currentRoute)==null?void 0:Oe.value)!=null&&Re.path.includes("/launchpad")&&r.id=="Aptos"&&t.push("/pools"),((Le=(Me=t==null?void 0:t.currentRoute)==null?void 0:Me.value)!=null&&Le.path.includes("/liquidity/deposit")||(Ee=(We=t==null?void 0:t.currentRoute)==null?void 0:We.value)!=null&&Ee.path.includes("/liquidity/position")||(He=(qe=t==null?void 0:t.currentRoute)==null?void 0:qe.value)!=null&&He.path.includes("/liquidity/analytics")||(Ue=(Be=t==null?void 0:t.currentRoute)==null?void 0:Be.value)!=null&&Ue.path.includes("/liquidity/create")||(Pe=(De=t==null?void 0:t.currentRoute)==null?void 0:De.value)!=null&&Pe.path.includes("/vaults-detail")||(Fe=(je=t==null?void 0:t.currentRoute)==null?void 0:je.value)!=null&&Fe.path.includes("/pool/vaults")||(Ge=(ze=t==null?void 0:t.currentRoute)==null?void 0:ze.value)!=null&&Ge.path.includes("/vaults")||(Qe=(Ke=t==null?void 0:t.currentRoute)==null?void 0:Ke.value)!=null&&Qe.path.includes("/farms"))&&r.id=="Aptos"&&t.replace("/pools"),((Je=(Ze=t==null?void 0:t.currentRoute)==null?void 0:Ze.value)!=null&&Je.path.includes("/liquidity/deposit")||(Xe=(Ye=t==null?void 0:t.currentRoute)==null?void 0:Ye.value)!=null&&Xe.path.includes("/liquidity/position")||(xe=(Ve=t==null?void 0:t.currentRoute)==null?void 0:Ve.value)!=null&&xe.path.includes("/liquidity/analytics")||(tt=(et=t==null?void 0:t.currentRoute)==null?void 0:et.value)!=null&&tt.path.includes("/liquidity/create")||(st=(ot=t==null?void 0:t.currentRoute)==null?void 0:ot.value)!=null&&st.path.includes("/pools"))&&r.id=="Sui"&&t.push("/pool/list"),((at=(nt=t==null?void 0:t.currentRoute)==null?void 0:nt.value)==null?void 0:at.name)==="swap"&&t.push("/swap"))},{setLang:X}=p,D=r=>{X(r),n.value=r},le=()=>{p.setIsSelect("head"),c.value.setOpenSwitchChain(!c.value.openSwitchChain),c.value.setOpenMore(!1),c.value.setOpenSwitchLang(!1),c.value.setOpenH5Icon(!1),c.value.setIsShowSetting(!1),c.value.setIsShowMore(!1),c.value.setIsShowNotifi(!1),c.value.setIsShowHeaderMore(!1),l.value.setIsShowWalletCard(!1)};q(()=>c.value.isSelect,r=>{r!=="head"&&c.value.setOpenSwitchChain(!1)},{immediate:!0});const F=y(()=>{if(c.value.chainName&&c.value.chainName.toLowerCase().includes("sui")){const r=c.value.chainName.split("2");return console.log("ðŸš€ðŸš€ðŸš€ ~ file: head.vue:498 ~ chainName ~ arr[0]:",r[0]),r[0]}return console.log("ðŸš€ðŸš€ðŸš€ ~ file: head.vue:501 ~ chainName ~ store.value.chainName:",c.value.chainName),c.value.chainName}),Q=_(!1),R=y(()=>c.value.openSwitchChain);return{hasNotifi:y(()=>{var r;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: head.vue:510 ~ hasNotifi ~ chainName.value:",F.value),(r=J[F.value])==null?void 0:r.hasNotifi}),configure:J,openNotification:Q,openSwitch:le,changeChain:g,currentChain:W,chainList:L,store:c,isRequestCoins:B,importIcon:ie,list:$,gotoHome:A,changeLang:D,langList:wt,counter:p,config:U,chainName:F,openSwitchChain:R,route:H,wallet:l,isInMsafeWallet:o}}});const Y=e=>(ft("data-v-d095b966"),e=e(),vt(),e),vo={key:0,class:"head-aptos"},go={key:0,class:"tips"},So=Y(()=>i("img",{src:rt,alt:""},null,-1)),wo=Y(()=>i("span",null,"Devnet environment is being upgraded. Services can not be accessed temporarily.",-1)),Co=[So,wo],yo={class:"left"},Io={class:"menu-right"},_o=["src"],ko={class:"chain-name"},Ao=Y(()=>i("svg",{"aria-hidden":"true",class:"icon"},[i("use",{"xlink:href":"#icon-icon_on"})],-1)),bo={key:0,class:"list"},No=["onClick"],$o=["src"],To={class:"name"},Oo={class:"checked-box"},Ro=["src"],Mo={key:1},Lo=Y(()=>i("div",{class:"info-icon"},[i("svg",{"aria-hidden":"true",class:"icon"},[i("use",{"xlink:href":"#icon-icon_message"})])],-1)),Wo=Y(()=>i("div",{class:"current-lang"},[i("svg",{"aria-hidden":"true",class:"icon"},[i("use",{"xlink:href":"#icon-icon_set"})])],-1)),Eo=Y(()=>i("svg",{"aria-hidden":"true",class:"icon"},[i("use",{"xlink:href":"#icon-icon_menu"})],-1)),qo=[Eo];function Ho(e,o,d,l,O,B){var L,$;const t=Ct,H=yt,m=It,n=_t;return(($=(L=e.$route)==null?void 0:L.name)==null?void 0:$.indexOf("403"))>=0?S("",!0):(u(),k("header",vo,[e.store.theme=="sui"&&e.configure&&e.configure.network=="devnet"?(u(),k("div",go,Co)):S("",!0),i("div",{class:ae(["header-con",e.$route.name==="stats"&&e.chainName=="Sui"?"sui-header":""])},[i("div",yo,[i("div",{class:"logo",onClick:o[0]||(o[0]=(...p)=>e.gotoHome&&e.gotoHome(...p))}),Z(t)]),i("div",Io,[e.isInMsafeWallet?S("",!0):(u(),k("div",{key:0,class:"swaichChain",onClick:o[1]||(o[1]=ne((...p)=>e.openSwitch&&e.openSwitch(...p),["stop"]))},[i("div",{class:ae(e.openSwitchChain?"text rodegText":"text")},[i("img",{src:("importIcon"in e?e.importIcon:ve(ie))(`/image/${e.chainName.toLowerCase()}.png`),alt:""},null,8,_o),i("span",ko,K(e.chainName),1),Ao],2),e.store.openSwitchChain?(u(),k("div",bo,[i("p",null,K(e.$t("common.switchChain")),1),(u(!0),k(dt,null,pt(e.chainList,p=>(u(),k("div",{key:p.id,class:ae(p.id==e.chainName?`item-container item-active-container item-${e.chainName.toLocaleLowerCase()}-active-container`:"item-container")},[i("div",{class:"item",onClick:ne(h=>e.changeChain(p),["stop"])},[i("div",null,[i("img",{src:("importIcon"in e?e.importIcon:ve(ie))(`/image/${p.name.toLowerCase()}.png`),alt:""},null,8,$o),i("span",To,K(p.name),1)]),i("div",Oo,[p.id==e.chainName?(u(),k("img",{key:0,class:"current-chain",src:e.chainName=="Sui"?"/sui-image/icon-selected@3x.png":"/image/aptos-icon-selected@3x.png"},null,8,Ro)):S("",!0)])],8,No)],2))),128))])):S("",!0)])),e.isInMsafeWallet?S("",!0):(u(),k("div",Mo,[Z(H)])),e.hasNotifi?(u(),k("div",{key:2,class:"noti-fication",onClick:o[4]||(o[4]=ne(()=>{e.store.setOpenH5Icon(!1),e.store.setOpenSwitchChain(!1),e.store.setOpenSwitchLang(!1),e.store.setIsShowMore(!1),e.store.setOpenMore(!1),e.store.setIsShowSetting(!1),e.store.setIsShowHeaderMore(!1),e.store.setIsShowNotifi(!e.store.isShowNotifi),e.wallet.setIsShowWalletCard(!1)},["stop"]))},[Lo,e.store&&e.store.isShowNotifi?(u(),M(m,{key:0,"open-notification":e.store&&e.store.isShowNotifi,onOpenOpenNotification:o[2]||(o[2]=()=>{e.store.setIsShowNotifi(!1)}),onCloseOpenNotification:o[3]||(o[3]=()=>{e.store.setIsShowNotifi(!1)})},null,8,["open-notification"])):S("",!0)])):S("",!0),i("div",{class:"switch-lang",onClick:o[6]||(o[6]=ne(()=>{e.store.setIsShowSetting(!e.store.isShowSetting),e.store.setOpenH5Icon(!1),e.store.setOpenSwitchChain(!1),e.store.setOpenMore(!1),e.store.setIsShowMore(!1),e.store.setOpenSwitchLang(!1),e.store.setIsShowHeaderMore(!1),e.store.setIsShowNotifi(!1),e.wallet.setIsShowWalletCard(!1)},["stop"]))},[Wo,e.store.isShowSetting?(u(),M(n,{key:0,onOnClose:o[5]||(o[5]=p=>e.store.setIsShowSetting(!1))})):S("",!0)]),i("div",{class:"img-box",onClick:o[7]||(o[7]=ne(()=>{e.store.setOpenMore(!1),e.store.setOpenSwitchChain(!1),e.store.setOpenSwitchLang(!1),e.store.setIsShowMore(!1),e.store.setIsShowNotifi(!1),e.store.setIsShowSetting(!1),e.store.setOpenH5Icon(!e.store.openH5Icon)},["stop"]))},qo)])],2)]))}const Bo=we(fo,[["render",Ho],["__scopeId","data-v-d095b966"]]);const Uo="default-layout",Do=Se({components:{HeadAptos:Bo},setup(){var V,x,ee,te,oe,se;const e=_(!1),o=ht(),d=gt(),l=Ce(),O=kt(),B=_(!0);ge(()=>{var I;const a=de("Sui").getFullClient(),f=new fe("cetus",a,((I=J.Sui)==null?void 0:I.network)==="testnet"?"sui:testnet":"sui:mainnet");mo(f)});const{connect:t,disconnect:H}=it(),m=me(),n=y(()=>m),L=y(()=>n.value.chainName?J[n.value.chainName]:{});let $=_(!1);const p=()=>{m.setTransactionDescText(""),m.setIsShowWaiting(!1)},h=y(()=>l);let c=_(null);q(()=>[h.value.address,n.value.chainName],([s,a])=>{if(s&&a){const f=de(a);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:209 ~ watch ~ is connect wallet:",a),f.getAccount(s,!0)}},{immediate:!0});const W=()=>{const s=it(),a=localStorage.getItem("chainName"),f=localStorage.getItem(`cetus-${a}-current-wallet`),I=localStorage.getItem(`cetus-${a}-wallet-icon-name`),C=localStorage.getItem(`cetus-${a}-current-suiwallet`);fe.inMSafeWallet()?s.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):f?s.connect(f,I,a,"",C):a&&a.toLowerCase().includes("sui")&&s.disconnect(),c.value=window.setInterval(async()=>{if(h.value.address&&!h.value.loading&&h.value&&h.value.address&&h.value.countdown<h.value.autoRefreshTime&&(l.setCountdown(h.value.countdown+1),h.value.countdown===h.value.autoRefreshTime))try{await de(n.value.chainName).getAccount(h.value.address)}catch(v){console.log(v,"errorBalance")}},1e4)};q(()=>n.value.theme,s=>{const a=s==="sui2"?"sui":s;document.getElementsByTagName("body")[0].className=`theme-${a}`,s&&(W(),B.value=!0,setTimeout(()=>{O.setLayoutInitialized(Uo),B.value=!1},1e3))},{immediate:!0});const w=ye(),A=y(()=>w);(V=window==null?void 0:window.aptos)!=null&&V.onNetworkChange&&((x=window==null?void 0:window.aptos)==null||x.onNetworkChange(s=>{l.setNetwork(s.networkName)})),(ee=window==null?void 0:window.martian)!=null&&ee.onNetworkChange&&((te=window==null?void 0:window.martian)==null||te.onNetworkChange(s=>l.setNetwork(s))),(oe=window==null?void 0:window.pontem)!=null&&oe.onNetworkChange&&((se=window==null?void 0:window.pontem)==null||se.onNetworkChange(s=>{l.setNetwork(s.name)}));const T=mt(),U=y(()=>A.value.chainName=="Aptos"?n.value.collectTokenListAptos:n.value.collectTokenListSui);q(()=>[A.value.tokens,U.value],([s,a])=>{if(s&&s.length>0&&a&&a.length==0){const f=A.value.chainName=="Aptos"?lt("collectTokenListAptos1"):lt("collectTokenListSui");if(f&&f.length>0)n.value.setCollectTokenList(f,A.value.chainName);else{const I=s.filter(C=>C.suggested_priority&&C.suggested_priority>0).sort((C,v)=>Number(v.suggested_priority)-Number(C.suggested_priority));n.value.setCollectTokenList(I,A.value.chainName)}}},{immediate:!0}),ge(()=>{var f,I;m.getFrontConfig();const s=JSON.parse(localStorage.getItem("importTokenList")||"[]")||[];if(m.setImportTokenList(s),o&&o.query&&o.query.source)d.seleteDefaultTheme();else{const C=(f=o==null?void 0:o.query)==null?void 0:f.chain,v=(I=o==null?void 0:o.query)==null?void 0:I.network,G=C||localStorage.getItem("theme");!G||G&&G.includes("sui")?v==="testnet"||G==="sui2"?d.selectSui2Theme():d.selectSuiTheme():d.seleteDefaultTheme()}const a=localStorage.getItem("chainName");window.setInterval(()=>{w.setRates(n.value.chainName),o.name!=="swap"&&m.getStatsData(n.value.chainName,n.value.filterCoinsObj)},12e4),document.addEventListener("click",()=>{n.value.setIsShowMore(!1),n.value.setOpenMore(!1),n.value.setOpenSwitchLang(!1),n.value.setOpenH5Icon(!1),n.value.setOpenSwitchChain(!1),n.value.setIsShowSetting(!1),n.value.setIsIdoOpenTerm(!1),n.value.setIsOpenExplorer(!1),n.value.setIsShowNotifi(!1),n.value.setIsShowHeaderMore(!1),n.value.setIsShowHeaderEarn(!1),h.value.setIsShowWalletCard(!1)}),window.addEventListener("updateExplorer",C=>{const v=localStorage.getItem(`${a}-currentExplorerUrl`);m.setCurrentExplorer(v)})}),jt(()=>{document.removeEventListener("click",()=>{n.value.setOpenH5Icon(!1),n.value.setOpenSwitchChain(!1),n.value.setOpenMore(!1),n.value.setIsShowMore(!1),n.value.setOpenSwitchLang(!1),n.value.setIsShowSetting(!1),n.value.setIsIdoOpenTerm(!1),n.value.setIsOpenExplorer(!1),n.value.setIsShowNotifi(!1),n.value.setIsShowHeaderMore(!1),n.value.setIsShowHeaderEarn(!1),h.value.setIsShowWalletCard(!1)})}),q(()=>n.value.chainName,(s,a)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:395 ~ setup ~ newValue:",s),s&&s!==a&&(w.setTokens(s),w.setRates(s),w.getRecommendRanges(s))},{immediate:!0}),q(()=>[n.value.chainName,n.value.filterCoinsObj],(s,a)=>{s&&a&&s[0]&&s[0]!==a[0]&&(a[1]&&Zt(a[1])||!a[0]&&!a[1])&&m.getStatsData(s[0],s[1])},{immediate:!0}),q(()=>[n.value.chainName,n.value.filterCoinsObj,o.name,A.value.poolConfigList],([s,a,f,I])=>{a&&s&&(f!=="stats"||s=="Aptos")&&I&&I.length==0&&w.setPoolConfigList(n.value.chainName,a,s=="Aptos")}),Ft(()=>{window.clearInterval(c)});const g=()=>{l.setIsShowWalletModal(!1),H()},X=()=>{l.setSwitchWallet(!0)},D=_(!1);localStorage.getItem("isFirstAccess")||(D.value=!0);const F=()=>{localStorage.setItem("isFirstAccess",!0),D.value=!1},Q=Jt(),R=y(()=>Q),b=y(()=>m),r=()=>{if(b.value.chainName==="Aptos"){const s=h.value.currentWallet.publicAccount,a=s.address,f=s.publicKey;R.value.initNotifi(a,f,b.value.chainName)}else R.value.initNotifi(h.value.address,h.value.address,b.value.chainName)};q(()=>[b.value.chainName,h.value.address],([s,a])=>{L.value.hasNotifi&&(a?r():Q.setNotifiStatus("logOut")),s==="Aptos"&&(o.name=="pool"||o.name=="pool-vaults"||o.path.includes("/launchpad")||o.path.includes("/xcetus")||o.path.includes("/pool/list")||o.path.includes("/pool/vaults")||o.path.includes("/pool/position")||o.path.includes("/vaults")||o.path.includes("/farms"))&&T.push("/pools"),s==="Aptos"&&o.path.includes("/limit")&&T.push("/swap"),s==="Sui"&&o.path.includes("/pools")&&T.push("/pool/list"),o.name=="liquidity"&&T.push("/liquidity/deposit"),s==="Sui"&&o.name=="position"&&T.push("/pool/position"),s=="Sui"&&o.name==="aptos-stats"&&(console.log("ðŸš€ ~ setup ~ newChainName:",s,o.name),T.push("/stats")),s=="Aptos"&&o.name==="stats"&&T.push("/aptos/stats")},{immediate:!0});const N=y(()=>A.value.poolListPageSize),E=y(()=>b.value.poolAmount),P=()=>{if(!o.name.includes("stats")){e.value=!1;return}const s=document.querySelector(".new-sui-stats-container-bg");s&&(s.scrollTop>0?e.value=!0:e.value=!1,Math.ceil(s.scrollTop+s.clientHeight)>=s.scrollHeight&&20+N.value<E.value&&w.setPageSize(20+N.value))},z=()=>{const s=document.querySelector(".new-sui-stats-container-bg");s&&s.scrollTo({top:0,behavior:"smooth"})},re=s=>{let a={};const f=s.filter(C=>!C.is_pause),I={};for(let C=0;C<f.length;C++){const v=f[C];if(!a[v.routerSymbol]){a[v.routerSymbol]=v,I[v.routerSymbol]={base:v.token_a.address,quote:v.token_b.address,addressMap:new Map([[v.fee_rate,v.address]])};continue}a[v.routerSymbol]&&I[v.routerSymbol].addressMap.set(v.fee_rate,v.address)}return{paths:Object.values(I)}},ce=Gt();q(()=>[A.value.openPool],async([s])=>{if(s&&s.length>0){const a=re(s);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:695 ~ paths:",a),ce.setPoolListGroupByTokenAB(a==null?void 0:a.paths)}},{immediate:!0}),q(()=>[A.value.poolConfigList,n.value.chainName],([s,a],[f,I])=>{var C;s.length!==f.length&&a&&a.toLowerCase().includes((C=s[0])==null?void 0:C.chain)&&(w.setPools(s,a),a=="Aptos"&&w.getTokensObj(s,a))}),q(()=>n.value.chainName,s=>{s=="Sui"&&w.getTokensObj([],"Sui")},{immediate:!0});const ue=y(()=>n.value.chainName);return{handleScroll:P,scrollToTop:z,showScrollTop:e,isRequestCoins:$,config:L,store:n,wallet:h,onSwitch:X,onDisconnect:g,isLoading:B,closeTerm:F,showTerm:D,closeWaitingModal:p,chainName:ue}}}),St=e=>(ft("data-v-22f141ee"),e=e(),vt(),e),Po=St(()=>i("svg",{"aria-hidden":"true",class:"scrollTop"},[i("use",{"xlink:href":"#icon-icon_top"})],-1)),jo=[Po],Fo={key:1,class:"web-loading-box"},zo={key:2,class:"default-container"},Go={class:"header-container"},Ko={class:"body-container"},Qo={key:0,class:"launchpad-banner"},Zo=St(()=>i("div",{class:"center"},[i("div",{class:"center-text"},[i("p",null,"Cetus Launchpad"),i("span",null,"Discover gems on Sui")])],-1)),Jo=[Zo];function Yo(e,o,d,l,O,B){const t=At,H=ut("HeadAptos"),m=zt,n=co,L=bt,$=Nt,p=$t,h=Tt,c=Qt,W=Ot,w=Rt,A=Mt,T=Lt,U=Wt;return u(),k("div",null,[e.showScrollTop&&e.$route.name!=="swap"?(u(),k("div",{key:0,class:"scroll-top-svg",onClick:o[0]||(o[0]=(...g)=>e.scrollToTop&&e.scrollToTop(...g))},jo)):S("",!0),e.isLoading?(u(),k("div",Fo,[Z(t)])):(u(),k("div",zo,[i("div",Go,[Z(H)]),i("div",Ko,[i("div",{ref:"scrollContainer",class:ae(["body-container-bg",e.$route.name.indexOf("403")>=0?"body-container-denied":""]),onScroll:o[1]||(o[1]=(...g)=>e.handleScroll&&e.handleScroll(...g))},[e.$route.name==="launchpad"?(u(),k("div",Qo,Jo)):S("",!0),i("div",{class:ae(["body-container-con",[e.$route.name==="launchpad"||e.$route.name.includes("upgrade-pools")||e.$route.name.includes("pool-list")||e.$route.name.includes("pool-position")||e.$route.name.includes("pool-vaults")?"launchpad-body-container-con":e.$route.name.indexOf("403")>=0?"delMargin":"",e.$route.name==="farms"||e.$route.name==="vaults"?"farms-body-container":""].join("")])},[Z(m)],2)],34)]),e.isRequestCoins?(u(),M(n,{key:0,onOnClose:o[2]||(o[2]=g=>e.isRequestCoins=!1)})):S("",!0),e.store&&e.store.isShowSuccess?(u(),M(L,{key:1,onOnClose:o[3]||(o[3]=g=>e.store.setIsShowSuccess(!1))})):S("",!0),e.store&&e.store.isShowRejected?(u(),M($,{key:2,onOnClose:o[4]||(o[4]=g=>e.store.setIsShowRejected(!1))})):S("",!0),e.store&&e.store.isShowWaiting?(u(),M(p,{key:3,onOnClose:e.closeWaitingModal},null,8,["onOnClose"])):S("",!0),e.wallet&&e.wallet.isShowWalletModal?(u(),M(h,{key:4,onOnDisconnect:o[5]||(o[5]=g=>e.onDisconnect()),onOnSwitch:o[6]||(o[6]=g=>e.onSwitch()),onOnClose:o[7]||(o[7]=g=>e.wallet.setIsShowWalletModal(!1))})):S("",!0),e.showTerm?(u(),M(c,{key:5,onClose:e.closeTerm},null,8,["onClose"])):S("",!0),e.store&&e.store.isShowSettingH5?(u(),M(W,{key:6,onOnClose:o[8]||(o[8]=g=>e.store.setIsShowSettingH5(!1))})):S("",!0),e.store&&e.store.isShowBuyCrypto?(u(),M(w,{key:7,onOnClose:o[9]||(o[9]=g=>e.store.setIsShowBuyCrypto(!1))})):S("",!0),e.store&&e.store.isShowBuyCryptoKODO?(u(),M(A,{key:8,onOnClose:o[10]||(o[10]=g=>e.store.setIsShowBuyCryptoKODO(!1))})):S("",!0),e.store&&e.store.isShowBuyCryptoConfirm?(u(),M(T,{key:9,onClose:o[11]||(o[11]=g=>e.store.setIsShowBuyCryptoConfirm(!1))})):S("",!0),e.store&&e.store.isShowBuyCryptoSelect?(u(),M(U,{key:10,onClose:o[12]||(o[12]=g=>e.store.setIsShowBuyCryptoSelect(!1))})):S("",!0)]))])}const ws=we(Do,[["render",Yo],["__scopeId","data-v-22f141ee"]]);export{ws as default};
