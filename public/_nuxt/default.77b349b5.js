import{_ as be,C as _e,M as re,u as ue,a as Ae,b as Te,c as Ie,d as ke,e as $e,f as Ne,g as Oe,h as Ee,i as Me,j as Be}from"./head.05954b1a.js";import{a as pe,Y as Re,l as We,r as w,m as b,a2 as Le,N as je,a3 as M,e as me,M as fe,q as qe,o as u,c as I,w as J,h as p,v as z,f as N,F as De,s as Pe,t as He,u as Fe,i as G,j as Ue,B as Ke,E as ze,y as ce,D as $,b as Ge,C as Qe,T as Ye,x as A,z as X,fh as Ze,p as Je,k as Xe}from"./entry.1237ae89.js";import{i as he}from"./import-icon.de3e6c66.js";import{u as ve,g as V,c as Ve}from"./index.1c4d7e0e.js";import{u as ge,a as x,b as Q,q as xe,A as de}from"./pool.af987f29.js";import{a as et}from"./data.712deea2.js";import{_ as tt}from"./term-and-conditions.4251890f.js";import{u as ot}from"./useTheme.7c5c0caa.js";import{u as st}from"./notifi.06c7b509.js";import"./img-no-Positions_2x.77fadbae.js";import"./img-no-Positions_2x.b5c857e3.js";/* empty css              */import"./index.23854693.js";import"./icon-selected_3x.09e9a6f0.js";import"./nuxt-link.eb2ac89d.js";import"./launchpad.024fcfe9.js";import"./bignumber.aed59f7f.js";/* empty css              */import"./decimal.0bdeb344.js";import"./useWhale.6c207cce.js";const nt=pe({components:{Modal:Re},setup(){const{t:e,locale:n}=We(),a=w(!1),i=ge(),f=x(),P=x(),T=b(()=>P),g=S=>{const k=S.address||`${V.Aptos.faucetObjectId}::coin::${S.name}`;return i.tokensObj&&i.tokensObj[k]?i.tokensObj[k].logoURI:""},o=b(()=>T.value.chainName!=="Aptos"?et:[{symbol:"USDT",name:"CetusUSDT",num:"200",amount:"200000000"},{symbol:"USDC",name:"CetusUSDC",num:"200",amount:"200000000"},{symbol:"ETH",name:"CetusETH",num:"0.1",amount:"100000000"},{symbol:"BTC",name:"CetusBTC",num:"0.01",amount:"10000000"}]),y=b(()=>Object.fromEntries(o.value.map(S=>[S.symbol,S]))),{$notify:B}=Le(),q=ve(),l=b(()=>q),{setIsShowSuccess:j,setIsShowRejected:H,setIsShowWaiting:h,setTransactionDesc:_,setTransactionTxid:C}=f,R=w(!1),O=w(!1),c=w(""),D=async S=>{const k=Q(T.value.chainName);if(!l.value.connected)l.value.setIsShowWalletModal(!0);else{O.value=!0,C(""),_(""),h(!0),c.value=S.symbol;try{const W=k.mintCoin(S);let E;if(T.value.chainName==="Aptos")E=await l.value.currentWallet.signAndSubmitTransaction(W);else{const L=await k.signAndExecuteTransactionBlock(l.value.currentWallet,W);E=k.handleTx(L)}if(E){R.value=!1,C(E.hash),h(!1),j(!0);const L={title:"Request Coins",desc:"",hash:E.hash,icon:"icon-icon-Increased",tit:"Request Coins",tokenInfo:{tokena:c.value,numa:`+ ${y.value[c.value].num}`,logoa:i.tokensObj&&i.tokensObj[S.address].logoURI},text:""};T.value.chainName!=="Aptos"&&(L.res=E.res),k.showTransitionPending(L),await k.watchTransaction(L)&&setTimeout(()=>{k.getAccount(l.value.address)},1e3)}else h(!1),B.error({icon:M("svg",{class:{icon:!0},"aria-hidden":!0},[M("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:M("div",{class:"notification-title"},[M("span",{innerHTML:"Request Coins Failed"},null)]),description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});O.value=!1}catch(W){O.value=!1,h(!1),console.log("mint coin error###",W),B.error({icon:M("svg",{class:{icon:!0},"aria-hidden":!0},[M("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:M("div",{class:"notification-title"},[M("span",{innerHTML:"Request Coins Failed"},null)]),duration:4.5,description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}}};w(0),w(0);const ee=w("--"),Z=w("--"),F=w("--");je(async()=>{l.value.address&&T.value.chainName!=="Aptos"&&(R.value=!0)});const U=w("0");return{t:e,storeCounter:T,wallet:l,importIcon:he,list:o,requestError:a,start:R,hour:ee,min:Z,sec:F,loading:O,aptosBalance:U,toMintCoin:D,currentCoin:c,getCoinIcon:g}}}),at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAR23aI5H0hshDAAAAIElEQVQoz2NggII0AQZUMCpAsUCoAwP1gTFBa5WoaC0ASoUK6Z2VFk8AAAAASUVORK5CYII=";const lt=p("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[p("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),it={class:"request-title"},rt={class:"top"},ut={class:"left"},ct={key:0,src:at,alt:""},dt={key:1,src:be,alt:""},pt={class:"right"},mt={class:"bottom"},ft={class:"img-name"},ht={alt:""};function vt(e,n,a,i,f,P){const T=Ke,g=fe("Modal"),o=qe("image");return u(),I(g,{width:440,visible:!0,class:"request-modal",title:e.$t("common.requestCoins"),footer:null,centered:"",onCancel:n[0]||(n[0]=y=>e.$emit("onClose"))},{closeIcon:J(()=>[lt]),default:J(()=>[p("div",it,z(e.t("newAdd.youNeedSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"Sui"})),1),p("div",rt,[p("div",ut,[e.storeCounter.theme=="default"?(u(),N("img",ct)):(u(),N("img",dt))]),p("div",pt,z(e.t("newAdd.toGetSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"SUI"})),1)]),p("div",mt,[(u(!0),N(De,null,Pe(e.list,y=>(u(),N("div",{key:y.symbol,class:"item"},[p("div",ft,[He(p("img",ht,null,512),[[o,e.getCoinIcon(y)||("importIcon"in e?e.importIcon:Fe(he))(`/image/coins/${y.symbol.toLowerCase()}.png`)]]),p("span",null,"Â Â "+z(y.symbol)+" ",1)]),G(T,{class:"mint-coin-btn",loading:e.loading&&y.symbol===e.currentCoin,onClick:B=>e.toMintCoin(y)},{default:J(()=>[Ue(z(e.$t("button.request")),1)]),_:2},1032,["loading","onClick"])]))),128))])]),_:1},8,["title"])}const gt=me(nt,[["render",vt]]);var St=globalThis&&globalThis.__classPrivateFieldSet||function(e,n,a,i,f){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!f:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?f.call(e,a):f?f.value=a:n.set(e,a),a},wt=globalThis&&globalThis.__classPrivateFieldGet||function(e,n,a,i){if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?i:a==="a"?i.call(e):i?i.value:n.get(e)},Y;function yt(e){const n=({register:a})=>a(e);try{window.dispatchEvent(new Ct(n))}catch(a){console.error(`wallet-standard:register-wallet event could not be dispatched
`,a)}try{window.addEventListener("wallet-standard:app-ready",({detail:a})=>n(a))}catch(a){console.error(`wallet-standard:app-ready event listener could not be added
`,a)}}class Ct extends Event{constructor(n){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Y.set(this,void 0),St(this,Y,n,"f")}get detail(){return wt(this,Y,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Y=new WeakMap;const bt=pe({components:{CHead:_e},setup(){var oe,se,ne,ae,le,ie;const e=w(!0),n=w(!1),a=ze(),i=ot(),f=ve();ce(()=>{var v;setTimeout(()=>{e.value=!1},1e3);const s=Q("Sui").getFullClient(),r=new re("cetus",s,((v=V.Sui)==null?void 0:v.network)==="testnet"?"sui:testnet":"sui:mainnet");yt(r)});const{connect:P,disconnect:T}=ue(),g=x(),o=b(()=>g),y=b(()=>o.value.chainName?V[o.value.chainName]:{});let B=w(!1);const q=()=>{g.setTransactionDescText(""),g.setIsShowWaiting(!1)},l=b(()=>f);let j=w(null);$(()=>[l.value.address,o.value.chainName],([t,s])=>{if(t&&s){const r=Q(s);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:209 ~ watch ~ is connect wallet:",s),r.getAccount(t,!0)}},{immediate:!0});const H=()=>{const t=ue(),s=localStorage.getItem("chainName"),r=localStorage.getItem(`cetus-${s}-current-wallet`),v=localStorage.getItem(`cetus-${s}-wallet-icon-name`),m=localStorage.getItem(`cetus-${s}-current-suiwallet`);re.inMSafeWallet()?t.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):r?t.connect(r,v,s,"",m):s&&s.toLowerCase().includes("sui")&&t.disconnect(),j.value=window.setInterval(async()=>{if(l.value.address&&!l.value.loading&&l.value&&l.value.address&&l.value.countdown<l.value.autoRefreshTime&&(f.setCountdown(l.value.countdown+1),l.value.countdown===l.value.autoRefreshTime))try{await Q(o.value.chainName).getAccount(l.value.address)}catch(d){console.log(d,"errorBalance")}},1e4)};$(()=>o.value.theme,t=>{const s=t==="sui2"?"sui":t;document.getElementsByTagName("body")[0].className=`theme-${s}`,t&&(H(),e.value=!0,setTimeout(()=>{e.value=!1},1e3))},{immediate:!0});const h=ge(),_=b(()=>h);(oe=window==null?void 0:window.aptos)!=null&&oe.onNetworkChange&&((se=window==null?void 0:window.aptos)==null||se.onNetworkChange(t=>{f.setNetwork(t.networkName)})),(ne=window==null?void 0:window.martian)!=null&&ne.onNetworkChange&&((ae=window==null?void 0:window.martian)==null||ae.onNetworkChange(t=>f.setNetwork(t))),(le=window==null?void 0:window.pontem)!=null&&le.onNetworkChange&&((ie=window==null?void 0:window.pontem)==null||ie.onNetworkChange(t=>{f.setNetwork(t.name)}));const C=Ge(),R=b(()=>_.value.chainName=="Aptos"?o.value.collectTokenListAptos:o.value.collectTokenListSui);$(()=>[_.value.tokens,R.value],([t,s])=>{if(t&&t.length>0&&s&&s.length==0){const r=_.value.chainName=="Aptos"?de("collectTokenListAptos1"):de("collectTokenListSui");if(r&&r.length>0)o.value.setCollectTokenList(r,_.value.chainName);else{const v=t.filter(m=>m.suggested_priority&&m.suggested_priority>0).sort((m,d)=>Number(d.suggested_priority)-Number(m.suggested_priority));o.value.setCollectTokenList(v,_.value.chainName)}}},{immediate:!0}),ce(()=>{var r,v;g.getFrontConfig();const t=JSON.parse(localStorage.getItem("importTokenList")||"[]")||[];if(g.setImportTokenList(t),a&&a.query&&a.query.source)i.seleteDefaultTheme();else{const m=(r=a==null?void 0:a.query)==null?void 0:r.chain,d=(v=a==null?void 0:a.query)==null?void 0:v.network,K=m||localStorage.getItem("theme");!K||K&&K.includes("sui")?d==="testnet"||K==="sui2"?i.selectSui2Theme():i.selectSuiTheme():i.seleteDefaultTheme()}const s=localStorage.getItem("chainName");window.setInterval(()=>{h.setRates(o.value.chainName),a.name!=="swap"&&g.getStatsData(o.value.chainName,o.value.filterCoinsObj)},12e4),document.addEventListener("click",()=>{o.value.setIsShowMore(!1),o.value.setOpenMore(!1),o.value.setOpenSwitchLang(!1),o.value.setOpenH5Icon(!1),o.value.setOpenSwitchChain(!1),o.value.setIsShowSetting(!1),o.value.setIsIdoOpenTerm(!1),o.value.setIsOpenExplorer(!1),o.value.setIsShowNotifi(!1),o.value.setIsShowHeaderMore(!1),o.value.setIsShowHeaderEarn(!1),l.value.setIsShowWalletCard(!1)}),window.addEventListener("updateExplorer",m=>{const d=localStorage.getItem(`${s}-currentExplorerUrl`);g.setCurrentExplorer(d)})}),Qe(()=>{document.removeEventListener("click",()=>{o.value.setOpenH5Icon(!1),o.value.setOpenSwitchChain(!1),o.value.setOpenMore(!1),o.value.setIsShowMore(!1),o.value.setOpenSwitchLang(!1),o.value.setIsShowSetting(!1),o.value.setIsIdoOpenTerm(!1),o.value.setIsOpenExplorer(!1),o.value.setIsShowNotifi(!1),o.value.setIsShowHeaderMore(!1),o.value.setIsShowHeaderEarn(!1),l.value.setIsShowWalletCard(!1)})}),$(()=>o.value.chainName,(t,s)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:395 ~ setup ~ newValue:",t),t&&t!==s&&(h.setTokens(t),h.setRates(t),h.getRecommendRanges(t))},{immediate:!0}),$(()=>[o.value.chainName,o.value.filterCoinsObj],(t,s)=>{t&&s&&t[0]&&t[0]!==s[0]&&(s[1]&&Ve(s[1])||!s[0]&&!s[1])&&g.getStatsData(t[0],t[1])},{immediate:!0}),$(()=>[o.value.chainName,o.value.filterCoinsObj,a.name,_.value.poolConfigList],([t,s,r,v])=>{s&&t&&(r!=="stats"||t=="Aptos")&&v&&v.length==0&&h.setPoolConfigList(o.value.chainName,s,t=="Aptos")}),Ye(()=>{window.clearInterval(j)});const O=()=>{f.setIsShowWalletModal(!1),T()},c=()=>{f.setSwitchWallet(!0)},D=w(!1);localStorage.getItem("isFirstAccess")||(D.value=!0);const Z=()=>{localStorage.setItem("isFirstAccess",!0),D.value=!1},F=st(),U=b(()=>F),S=b(()=>g),k=()=>{if(S.value.chainName==="Aptos"){const t=l.value.currentWallet.publicAccount,s=t.address,r=t.publicKey;U.value.initNotifi(s,r,S.value.chainName)}else U.value.initNotifi(l.value.address,l.value.address,S.value.chainName)};$(()=>[S.value.chainName,l.value.address],([t,s])=>{y.value.hasNotifi&&(s?k():F.setNotifiStatus("logOut")),t==="Sui"&&a.name=="pool"&&C.push("/pool/list"),t==="Aptos"&&a.name=="pool"&&C.push("/pools"),t==="Aptos"&&a.name=="pool-vaults"&&C.replace("/pools"),t==="Aptos"&&(a.path.includes("/launchpad")||a.path.includes("/xcetus")||a.path.includes("/pool/list")||a.path.includes("/pool/vaults")||a.path.includes("/vaults")||a.path.includes("/farms"))&&(console.log("ðŸš€ ~ setup ~ newChainName:",t),C.push("/pools")),t==="Aptos"&&a.path.includes("/limit")&&C.push("/swap"),t==="Aptos"&&a.path.includes("/pool/position")&&C.push("/pools"),t==="Sui"&&a.path.includes("/pools")&&C.push("/pool/list"),a.name=="liquidity"&&C.push("/liquidity/deposit"),t==="Sui"&&a.name=="position"&&C.push("/pool/list")},{immediate:!0});const W=b(()=>_.value.poolListPageSize),E=b(()=>S.value.poolAmount),L=()=>{if(!a.name.includes("pool-list")&&!a.name.includes("pool-position")){n.value=!1;return}const t=document.querySelector(".body-container-bg");t&&(t.scrollTop>0?n.value=!0:n.value=!1,Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight&&20+W.value<E.value&&h.setPageSize(20+W.value))},te=()=>{const t=document.querySelector(".body-container-bg");t&&t.scrollTo({top:0,behavior:"smooth"})},we=t=>{let s={};const r=t.filter(m=>!m.is_pause),v={};for(let m=0;m<r.length;m++){const d=r[m];if(!s[d.routerSymbol]){s[d.routerSymbol]=d,v[d.routerSymbol]={base:d.token_a.address,quote:d.token_b.address,addressMap:new Map([[d.fee_rate,d.address]])};continue}s[d.routerSymbol]&&v[d.routerSymbol].addressMap.set(d.fee_rate,d.address)}return{paths:Object.values(v)}},ye=xe();$(()=>[_.value.openPool],async([t])=>{if(t&&t.length>0){const s=we(t);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:695 ~ paths:",s),ye.setPoolListGroupByTokenAB(s==null?void 0:s.paths)}},{immediate:!0}),$(()=>[_.value.poolConfigList,o.value.chainName],([t,s],[r,v])=>{var m;t.length!==r.length&&s&&s.toLowerCase().includes((m=t[0])==null?void 0:m.chain)&&(h.setPools(t,s),s=="Aptos"&&h.getTokensObj(t,s))}),$(()=>o.value.chainName,t=>{t=="Sui"&&h.getTokensObj([],"Sui")},{immediate:!0});const Ce=b(()=>o.value.chainName);return{handleScroll:L,scrollToTop:te,showScrollTop:n,isRequestCoins:B,config:y,store:o,wallet:l,onSwitch:c,onDisconnect:O,isLoading:e,closeTerm:Z,showTerm:D,closeWaitingModal:q,chainName:Ce}}}),Se=e=>(Je("data-v-88b80f42"),e=e(),Xe(),e),_t={key:0,class:"scroll-top-svg"},At=Se(()=>p("use",{"xlink:href":"#icon-scroll"},null,-1)),Tt=[At],It={key:1,class:"web-loading-box"},kt={key:2,class:"default-container"},$t={class:"body-container"},Nt={key:0,class:"launchpad-banner"},Ot=Se(()=>p("div",{class:"center"},[p("div",{class:"center-text"},[p("p",null,"Cetus Launchpad"),p("span",null,"Discover gems on Sui")])],-1)),Et=[Ot];function Mt(e,n,a,i,f,P){const T=Ae,g=fe("c-head"),o=Ze,y=gt,B=Te,q=Ie,l=ke,j=$e,H=tt,h=Ne,_=Oe,C=Ee,R=Me,O=Be;return u(),N("div",null,[e.showScrollTop&&e.$route.name!=="swap"?(u(),N("div",_t,[(u(),N("svg",{"aria-hidden":"true",class:"scrollTop",onClick:n[0]||(n[0]=(...c)=>e.scrollToTop&&e.scrollToTop(...c))},Tt))])):A("",!0),e.isLoading?(u(),N("div",It,[G(T)])):(u(),N("div",kt,[p("div",{class:X(["header-container",e.$route.name==="stats"&&e.chainName=="Sui"?"sui-stats-header":""])},[G(g)],2),p("div",$t,[p("div",{ref:"scrollContainer",class:X(e.$route.name.indexOf("403")>=0?"body-container-denied body-container-bg":e.$route.name==="stats"&&e.chainName=="Sui"?"new-sui-stats-container-bg":"body-container-bg"),onScroll:n[1]||(n[1]=(...c)=>e.handleScroll&&e.handleScroll(...c))},[e.$route.name==="launchpad"?(u(),N("div",Nt,Et)):A("",!0),p("div",{class:X(["body-container-con",[e.$route.name==="launchpad"||e.$route.name.includes("upgrade-pools")||e.$route.name.includes("pool-list")||e.$route.name.includes("pool-position")||e.$route.name.includes("pool-vaults")?"launchpad-body-container-con":e.$route.name.indexOf("403")>=0?"delMargin":"",e.$route.name==="farms"||e.$route.name==="vaults"?"farms-body-container":""].join("")])},[G(o)],2)],34)]),e.isRequestCoins?(u(),I(y,{key:0,onOnClose:n[2]||(n[2]=c=>e.isRequestCoins=!1)})):A("",!0),e.store&&e.store.isShowSuccess?(u(),I(B,{key:1,onOnClose:n[3]||(n[3]=c=>e.store.setIsShowSuccess(!1))})):A("",!0),e.store&&e.store.isShowRejected?(u(),I(q,{key:2,onOnClose:n[4]||(n[4]=c=>e.store.setIsShowRejected(!1))})):A("",!0),e.store&&e.store.isShowWaiting?(u(),I(l,{key:3,onOnClose:e.closeWaitingModal},null,8,["onOnClose"])):A("",!0),e.wallet&&e.wallet.isShowWalletModal?(u(),I(j,{key:4,onOnDisconnect:n[5]||(n[5]=c=>e.onDisconnect()),onOnSwitch:n[6]||(n[6]=c=>e.onSwitch()),onOnClose:n[7]||(n[7]=c=>e.wallet.setIsShowWalletModal(!1))})):A("",!0),e.showTerm?(u(),I(H,{key:5,onClose:e.closeTerm},null,8,["onClose"])):A("",!0),e.store&&e.store.isShowSettingH5?(u(),I(h,{key:6,onOnClose:n[8]||(n[8]=c=>e.store.setIsShowSettingH5(!1))})):A("",!0),e.store&&e.store.isShowBuyCrypto?(u(),I(_,{key:7,onOnClose:n[9]||(n[9]=c=>e.store.setIsShowBuyCrypto(!1))})):A("",!0),e.store&&e.store.isShowBuyCryptoKODO?(u(),I(C,{key:8,onOnClose:n[10]||(n[10]=c=>e.store.setIsShowBuyCryptoKODO(!1))})):A("",!0),e.store&&e.store.isShowBuyCryptoConfirm?(u(),I(R,{key:9,onClose:n[11]||(n[11]=c=>e.store.setIsShowBuyCryptoConfirm(!1))})):A("",!0),e.store&&e.store.isShowBuyCryptoSelect?(u(),I(O,{key:10,onClose:n[12]||(n[12]=c=>e.store.setIsShowBuyCryptoSelect(!1))})):A("",!0)]))])}const xt=me(bt,[["render",Mt],["__scopeId","data-v-88b80f42"]]);export{xt as default};
