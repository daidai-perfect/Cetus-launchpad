import{s as Vs,a as O,u as _s,d as ls,c as z}from"./pool.ec7155de.js";import{a as Z,l as p,r as P,e as x,o as t,f as n,h as o,i as _,v as h,u as $,S as zs,p as as,k as is,j as D,F as M,E as ds,M as Rs,b as ps,Q as hs,s as Os,w as cs,t as E,B as vs,y as Ns,z as us,A as X,x as q,H as Bs,q as G,K as Hs,c as Js}from"./entry.99d20ac2.js";/* empty css              */import{a as ss,u as gs}from"./sha256.f7311d31.js";import{_ as Ts}from"./auto-pool-apy-tips.18fe3d85.js";/* empty css              */import{u as Ks}from"./farms.852b257b.js";import{_ as Qs}from"./upgrade-loading.e3c6faf2.js";import{_ as js}from"./token-warning.11ff7cab.js";import{i as ns}from"./import-icon.de3e6c66.js";import{u as rs}from"./autoPool.14882d02.js";import{R as Ds}from"./farms-range.451bd5cc.js";import{_ as Us}from"./img-connect-wallet_2x.f27a2290.js";import{_ as Gs}from"./img-no-Positions_2x.be9f9259.js";import"./decimal.0bdeb344.js";/* empty css              */import"./icon-Amount-for-Sale_2x.b2e65df2.js";const Xs=Z({props:{list:{type:Array,default:()=>[]},listLoading:{type:Boolean,default:!1},totalTVL:{type:Number,default:0}},setup(s){const l=ss(),b=p(()=>l),m=P(!1);return{wallet:b,sFixD:Vs,loading:m,addCommom:O}}});const ms=s=>(as("data-v-5a52c866"),s=s(),is(),s),Zs={class:"farms-banner-bg"},xs={class:"vaults-banner"},so={class:"vaults-banner-center"},oo=ms(()=>o("div",{class:"title"},"Vaults",-1)),eo=ms(()=>o("div",{class:"desc"},"Harvesting, compounding & rebalancing is automated.Stake your tokens to earn.",-1)),to={class:"claim-rewards"},no={class:"claim-title"},lo=ms(()=>o("span",null,"Total Value Locked",-1)),ao={key:0,class:"loading-spin"},io={key:1},co={key:2};function ro(s,l,b,m,L,f){const r=zs;return t(),n("div",Zs,[o("div",xs,[o("div",so,[oo,eo,o("div",to,[o("div",no,[lo,s.listLoading?(t(),n("span",ao,[_(r)])):s.wallet.address?(t(),n("span",io,"$"+h(("addCommom"in s?s.addCommom:$(O))(("sFixD"in s?s.sFixD:$(Vs))(s.totalTVL||0,2))),1)):(t(),n("span",co,"--"))])])])])])}const uo=x(Xs,[["render",ro],["__scopeId","data-v-5a52c866"]]),_o=Z({setup(){const s=P(!1),l=ss(),b=p(()=>l),m=Ks(),L=p(()=>m),f=p(()=>L.value.farmsPoolList);return{isShowMore:s,wallet:b,walletStore:l,farmsPoolList:f}}});const os=s=>(as("data-v-6c925870"),s=s(),is(),s),po={class:"vaults-table"},ho=os(()=>o("th",null,"Vaults",-1)),vo=os(()=>o("th",null,"TVL",-1)),go=os(()=>o("th",null,"Your Deposit",-1)),mo=os(()=>o("th",null,"Actions",-1)),ko=os(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),$o={class:"pool"},yo={class:"staked-tvl"},bo={class:"apr"},fo={class:"my-staked"},wo={class:"actions"},So=os(()=>o("tr",{style:{height:"8px",background:"unset !important"}},null,-1));function Co(s,l,b,m,L,f){const r=Ts,v=Rs;return t(),n("div",po,[o("table",null,[o("thead",null,[o("tr",null,[ho,vo,o("th",null,[o("span",null,[D("APY "),_(r)])]),go,mo]),ko]),o("tbody",null,[(t(),n(M,null,ds(4,(S,R)=>(t(),n(M,{key:R},[o("tr",null,[o("td",null,[o("div",$o,[_(v,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1}),_(v,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",yo,[_(v,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",bo,[o("span",null,[_(v,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),o("td",null,[o("div",fo,[_(v,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",wo,[_(v,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),So],64))),64))])])])}const Lo=x(_o,[["render",Co],["__scopeId","data-v-6c925870"]]),Po=Z({components:{Range:Ds},props:{pItem:{type:Object,default:()=>({})}},setup(s){const l=gs(),b=p(()=>l),m=_s(),L=p(()=>m),f=d=>{var i;return(d==null?void 0:d.logoURI)||(d==null?void 0:d.logo_url)||((i=L.value.tokensObj[d==null?void 0:d.address])==null?void 0:i.logo_url)||(b.value.theme==="default"?ns("/image/coins/unknown.png"):ns("/image/coins/sui-unknown.png"))},r=P(!0),v=rs(),S=p(()=>v),R=p(()=>S.value.positionInfoObj[s.pItem.id]),A=ps(),C=(d,i)=>{A.push(`/vaults-detail/${d.id}?action=${i}`)},g=d=>{const i=d.needReverse,I=i?d.token_b.address:d.token_a.address,U=i?d.token_a.address:d.token_b.address;A.push(`/swap?from=${I}&to=${U}`)},e=ss(),y=p(()=>e);return console.log(s.pItem,"pItem##"),{getCoinIcon:f,direct:r,decimalUi:ls,addCommom:O,autoPool:S,positionInfo:R,toAutoPoolDetail:C,toSwap:g,wallet:y}}}),qs=""+globalThis.__publicAssetsURL("sui-image/range-vaults.png");const H=s=>(as("data-v-117caa62"),s=s(),is(),s),Ao={class:"vaults-position-card"},Io={class:"auto-position-card-conetent"},Vo={key:0,class:"no-vaults-data no-data"},Ro=H(()=>o("img",{src:Us},null,-1)),Oo={key:1,class:"auto-position-card"},No={class:"position-range"},Bo=H(()=>o("div",{class:"inrange"},[o("img",{src:qs,alt:""}),o("span",null,"In range")],-1)),To={class:"right"},jo={class:"top"},Do=H(()=>o("p",null,"Position Range",-1)),Uo={key:0},qo={key:1},Mo={class:"item lp-tokens"},Yo=H(()=>o("div",{class:"top"},"Your LP Tokens",-1)),Wo={class:"bottom"},Fo={key:0,class:"lp-num"},Eo={key:1,class:"lp-num"},zo={class:"item share"},Ho=H(()=>o("div",{class:"top"},"Share",-1)),Jo={class:"bottom"},Ko={key:0},Qo={key:1},Go={class:"item yourBanlance"},Xo=H(()=>o("div",{class:"top"},"Your Balance",-1)),Zo={class:"bottom"},xo={class:"token-info"},se={class:"token-num"},oe={alt:""},ee={key:0},te={key:1},ne=H(()=>o("p",null,"--",-1)),le=[ne],ae={class:"token-num"},ie={alt:""},de={key:0},ce={key:1},re=H(()=>o("p",null,"--",-1)),ue=[re],_e={class:"action"};function pe(s,l,b,m,L,f){var R,A,C,g,e,y,d,i;const r=vs,v=hs("Range"),S=Os("image");return t(),n("div",Ao,[o("div",Io,[s.wallet.address?(t(),n("div",Oo,[o("div",No,[Bo,o("div",To,[o("div",jo,[Do,s.direct?(t(),n("span",Uo,h(("addCommom"in s?s.addCommom:$(O))(("decimalUi"in s?s.decimalUi:$(ls))(s.pItem.price,6)))+" Current",1)):(t(),n("span",qo,h(("addCommom"in s?s.addCommom:$(O))(("decimalUi"in s?s.decimalUi:$(ls))(1/s.pItem.price,6)))+" Current",1))]),_(v,{"pool-info":s.positionInfo,"prop-direct":s.direct,"use-props-direct":!0,onClickChange:l[1]||(l[1]=I=>s.direct=!s.direct)},null,8,["pool-info","prop-direct"])])]),o("div",Mo,[Yo,o("div",Wo,[(R=s.wallet)!=null&&R.connected?(t(),n("div",Fo,h(("addCommom"in s?s.addCommom:$(O))((A=s.positionInfo)==null?void 0:A.myLiquidity))+" LP",1)):(t(),n("div",Eo,"--"))])]),o("div",zo,[Ho,o("div",Jo,[(C=s.wallet)!=null&&C.connected?(t(),n("span",Ko,h((g=s.positionInfo)==null?void 0:g.myShare)+"%",1)):(t(),n("span",Qo,"--%"))])]),o("div",Go,[Xo,o("div",Zo,[o("div",xo,[o("div",se,[E(o("img",oe,null,512),[[S,s.pItem.needReverse?s.pItem.coinB.logo_url:s.pItem.coinA.logo_url]]),(e=s.wallet)!=null&&e.connected?(t(),n("div",ee,[o("span",null,h(("addCommom"in s?s.addCommom:$(O))((y=s.positionInfo)==null?void 0:y.amountA)),1)])):(t(),n("div",te,le))]),o("div",ae,[E(o("img",ie,null,512),[[S,s.pItem.needReverse?s.pItem.coinA.logo_url:s.pItem.coinB.logo_url]]),(d=s.wallet)!=null&&d.connected?(t(),n("div",de,[o("span",null,h(("addCommom"in s?s.addCommom:$(O))((i=s.positionInfo)==null?void 0:i.amountB)),1)])):(t(),n("div",ce,ue))])])])]),o("div",_e,[o("div",null,[o("div",{class:"remove-btn",onClick:l[2]||(l[2]=I=>s.toAutoPoolDetail(s.pItem,"remove"))},"Withdraw")])])])):(t(),n("div",Vo,[Ro,_(r,{class:"add-liquidity-btn",onClick:l[0]||(l[0]=I=>s.wallet.setIsShowWalletModal(!0))},{default:cs(()=>[D("Connect Wallet")]),_:1})]))])])}const he=x(Po,[["render",pe],["__scopeId","data-v-117caa62"]]),ve=Z({components:{TokenWarning:js,Range:Ds},props:{list:{type:Array,default:()=>[]}},setup(){const{t:s}=Ns(),l=gs(),b=p(()=>l),m=_s(),L=p(()=>m),f=a=>{var N;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((N=L.value.tokensObj[a==null?void 0:a.address])==null?void 0:N.logo_url)||(b.value.theme==="default"?ns("/image/coins/unknown.png"):ns("/image/coins/sui-unknown.png"))},r=p(()=>L.value.tokensObj),v=p(()=>b.value.statsData),S=p(()=>b.value.theme),R=rs(),A=p(()=>R),C=P({}),g=a=>{C.value[a]?C.value[a]=!1:C.value[a]=!0,console.log(C.value,"##isShowPosition.value")},e=p(()=>A.value.positionInfoObj),y=ss(),d=p(()=>y),i=P(!1),I=ps(),U=(a,N)=>{I.push(`/vaults-detail/${a.id}?action=${N}`)},T=a=>{const N=a.needReverse,Y=N?a.token_b.address:a.token_a.address,W=N?a.token_a.address:a.token_b.address;I.push(`/swap?from=${Y}&to=${W}`)},j=P(!0);return{router:I,getCoinIcon:f,tokensObj:r,t:s,statsData:v,checkNullObj:z,addCommom:O,importIcon:ns,theme:S,isShowPosition:C,togglePosition:g,positionInfo:e,wallet:d,isShowDetail:i,toAutoPoolDetail:U,toSwap:T,direct:j}}});const V=s=>(as("data-v-961474ed"),s=s(),is(),s),ge={class:"vaults-table-contianer"},me={class:"table pc-pool-item"},ke={class:"table-header"},$e={class:"table-tr"},ye=V(()=>o("th",null,"Vaults",-1)),be=V(()=>o("th",null,"TVL",-1)),fe=V(()=>o("th",null,"Your Deposit",-1)),we=V(()=>o("th",null,"Actions",-1)),Se=V(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),Ce={class:"table-body"},Le=["onClick"],Pe={class:"token"},Ae={class:"img-box"},Ie={class:"img-box img-last-box"},Ve={class:"name"},Re={class:"top"},Oe={class:"token-name"},Ne={class:"tokena"},Be={class:"tokenb"},Te={class:"fee-warning"},je={class:"fee-tier-top"},De={key:0},Ue={class:"skeleton-box"},qe={key:1},Me={key:2},Ye={class:"skeleton-box"},We={key:3},Fe={key:4},Ee={class:"skeleton-box"},ze={key:5},He={class:"show-position"},Je={class:"svg-icon"},Ke=V(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),Qe=[Ke],Ge={key:0,class:"table-tr view-table-tr"},Xe={colspan:"5"},Ze=V(()=>o("td",null,null,-1)),xe=V(()=>o("tr",{style:{height:"8px",background:"unset"}},null,-1)),st={class:"h5-pool-item"},ot={class:"token"},et={class:"img-box"},tt={key:0,class:"pool-warning"},nt={class:"img-box img-last-box"},lt={key:0,class:"pool-warning"},at={class:"name"},it={class:"top"},dt={class:"token-name"},ct={class:"tokena"},rt={class:"tokenb"},ut={class:"fee-warning"},_t={class:"fee-tier-top"},pt={class:"bottom"},ht={class:"row"},vt=V(()=>o("div",{class:"left"},"TVL",-1)),gt={key:0,class:"right"},mt={key:1,class:"right"},kt={class:"row"},$t=V(()=>o("div",{class:"left"},"APY",-1)),yt={key:0,class:"right"},bt={key:1,class:"right theme-right"},ft={class:"row"},wt=V(()=>o("div",{class:"left"},"Your Deposit",-1)),St={key:0,class:"right"},Ct={key:1,class:"right"},Lt=["onClick"],Pt=V(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),At=[Pt],It={key:0,class:"h5-auto-pool-details"},Vt={class:"position-range"},Rt=V(()=>o("div",{class:"inrange"},[o("img",{src:qs,alt:""}),o("span",null,"In range")],-1)),Ot={class:"right"},Nt={class:"top"},Bt=V(()=>o("p",null,"Position Range",-1)),Tt={key:0},jt={key:1},Dt={class:"h5-item lp-tokens"},Ut=V(()=>o("div",{class:"top"},"Your LP Tokens",-1)),qt={class:"bottom"},Mt={key:0,class:"lp-num"},Yt={key:1,class:"lp-num"},Wt={class:"h5-item share"},Ft=V(()=>o("div",{class:"top"},"Share",-1)),Et={class:"bottom"},zt={key:0},Ht={key:1},Jt={class:"h5-item yourBanlance"},Kt=V(()=>o("div",{class:"top"},"Your Balance",-1)),Qt={class:"bottom"},Gt={class:"token-info"},Xt={class:"token-num"},Zt={alt:""},xt={key:0},sn={key:1},on=V(()=>o("p",null,"--",-1)),en=[on],tn={class:"token-num"},nn={alt:""},ln={key:0},an={key:1},dn=V(()=>o("p",null,"--",-1)),cn=[dn],rn={class:"action"};function un(s,l,b,m,L,f){const r=Ts,v=js,S=Rs,R=vs,A=he,C=hs("Range"),g=Os("image");return t(),n("div",ge,[o("table",me,[o("thead",ke,[o("tr",$e,[ye,be,o("th",null,[o("span",null,[D("APY "),_(r)])]),fe,we]),Se]),o("tbody",Ce,[(t(!0),n(M,null,ds(s.list,(e,y)=>{var d,i,I,U,T,j,a,N,Y,W,J;return t(),n(M,{key:y},[o("tr",{class:"table-tr",onClick:K=>s.togglePosition(y)},[o("td",null,[o("div",Pe,[o("div",Ae,[E(o("img",null,null,512),[[g,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),_(v,{address:e.needReverse?(i=e==null?void 0:e.coinB)==null?void 0:i.address:(d=e==null?void 0:e.coinA)==null?void 0:d.address,"style-params":{right:0,bottom:0,width:"12px",height:"12px"}},null,8,["address"])]),o("div",Ie,[E(o("img",null,null,512),[[g,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),_(v,{address:e.needReverse?(U=e.coinA)==null?void 0:U.address:(I=e==null?void 0:e.coinB)==null?void 0:I.address,"style-params":{right:0,bottom:0,width:"12px",height:"12px"}},null,8,["address"])]),o("div",Ve,[o("div",Re,[o("p",Oe,[o("span",Ne,h(e.needReverse?(j=e==null?void 0:e.coinB)==null?void 0:j.symbol:(T=e==null?void 0:e.coinA)==null?void 0:T.symbol),1),D(" - "),o("span",Be,h(e.needReverse?(a=e==null?void 0:e.coinA)==null?void 0:a.symbol:(N=e==null?void 0:e.coinB)==null?void 0:N.symbol),1)]),o("div",Te,[o("div",je,h((e==null?void 0:e.fee)*100)+"%",1)])])])])]),("checkNullObj"in s?s.checkNullObj:$(z))(s.statsData)?(t(),n("td",De,[o("div",Ue,[_(S,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",qe," $"+h(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:$(O))(e.poolUSD,2)),1)),("checkNullObj"in s?s.checkNullObj:$(z))(s.statsData)?(t(),n("td",Me,[o("div",Ye,[_(S,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",We,h(e.apy),1)),(Y=s.wallet)!=null&&Y.connected&&!s.positionInfo[e.id].myLiquidityUSD?(t(),n("td",Fe,[o("div",Ee,[_(S,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",ze,[s.wallet.connected?(t(),n(M,{key:0},[D(h(((W=s.positionInfo[e.id])==null?void 0:W.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:$(O))((J=s.positionInfo[e.id])==null?void 0:J.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(M,{key:1},[D("--")],64))])),o("td",null,[o("div",He,[_(R,{class:"add-liquidity-btn",onClick:us(K=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:cs(()=>[D("Deposit")]),_:2},1032,["onClick"]),o("div",Je,[(t(),n("svg",{"aria-hidden":"true",class:X(["icon",s.isShowPosition&&s.isShowPosition[y]?"icon-open":""])},Qe,2))])])])],8,Le),s.isShowPosition&&s.isShowPosition[y]?(t(),n("tr",Ge,[o("td",Xe,[_(A,{"p-item":e},null,8,["p-item"])]),Ze])):q("",!0),xe],64)}),128))])]),o("div",st,[(t(!0),n(M,null,ds(s.list,(e,y)=>{var d,i,I,U,T,j,a,N,Y,W,J,K;return t(),n("div",{key:e.address,class:"item"},[o("div",ot,[o("div",et,[E(o("img",null,null,512),[[g,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),(e.needReverse?(i=s.tokensObj[e.coinB.address])!=null&&i.isSelfBuilt:(d=s.tokensObj[e.coinA.address])!=null&&d.isSelfBuilt)?(t(),n("div",tt)):q("",!0)]),o("div",nt,[E(o("img",null,null,512),[[g,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),(e.needReverse?(I=s.tokensObj[e.coinA.address])!=null&&I.isSelfBuilt:(U=s.tokensObj[e.coinB.address])!=null&&U.isSelfBuilt)?(t(),n("div",lt)):q("",!0)]),o("div",at,[o("div",it,[o("p",dt,[o("span",ct,h(e.needReverse?e.coinB.symbol:e.coinA.symbol),1),D(" - "),o("span",rt,h(e.needReverse?e.coinA.symbol:e.coinB.symbol),1)]),o("div",ut,[o("div",_t,h((e==null?void 0:e.fee)*100)+"%",1)])])])]),o("div",pt,[o("div",ht,[vt,("checkNullObj"in s?s.checkNullObj:$(z))(s.statsData)?(t(),n("div",gt,[_(S,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",mt," $"+h(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:$(O))(e.poolUSD,2)),1))]),o("div",kt,[$t,("checkNullObj"in s?s.checkNullObj:$(z))(s.statsData)?(t(),n("div",yt,[_(S,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",bt,[o("i",null,h(e.apy),1),_(r)]))]),o("div",ft,[wt,("checkNullObj"in s?s.checkNullObj:$(z))(s.positionInfo)&&((T=s.wallet)!=null&&T.connected)?(t(),n("div",St,[_(S,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",Ct,[(j=s.wallet)!=null&&j.connected?(t(),n(M,{key:0},[D(h(((a=s.positionInfo[e.id])==null?void 0:a.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:$(O))((N=s.positionInfo[e.id])==null?void 0:N.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(M,{key:1},[D("--")],64))]))])]),_(R,{class:"h5-add-liquidity-btn",onClick:us(ts=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:cs(()=>[D("Deposit")]),_:2},1032,["onClick"]),o("div",{class:X(["details-btn",s.isShowPosition&&s.isShowPosition[y]?"details-btn-text-active":""]),onClick:ts=>s.togglePosition(y)},[(t(),n("svg",{"aria-hidden":"true",class:X(["icon",s.isShowPosition&&s.isShowPosition[y]?"icon-active":""])},At,2))],10,Lt),s.isShowPosition&&s.isShowPosition[y]?(t(),n("div",It,[o("div",Vt,[Rt,o("div",Ot,[o("div",Nt,[Bt,s.direct?(t(),n("span",Tt,h(("addCommom"in s?s.addCommom:$(O))(("decimalUi"in s?s.decimalUi:$(ls))(e.price,6)))+" Current",1)):(t(),n("span",jt,h(("addCommom"in s?s.addCommom:$(O))(("decimalUi"in s?s.decimalUi:$(ls))(1/e.price,6)))+" Current",1))]),_(C,{"pool-info":e,"prop-direct":s.direct,"use-props-direct":!0,onClickChange:l[0]||(l[0]=ts=>s.direct=!s.direct)},null,8,["pool-info","prop-direct"])])]),o("div",Dt,[Ut,o("div",qt,[(Y=s.wallet)!=null&&Y.connected?(t(),n("div",Mt,h(("addCommom"in s?s.addCommom:$(O))(e==null?void 0:e.myLiquidity))+" LP",1)):(t(),n("div",Yt,"--"))])]),o("div",Wt,[Ft,o("div",Et,[(W=s.wallet)!=null&&W.connected?(t(),n("span",zt,h(e==null?void 0:e.myShare)+"%",1)):(t(),n("span",Ht,"--%"))])]),o("div",Jt,[Kt,o("div",Qt,[o("div",Gt,[o("div",Xt,[E(o("img",Zt,null,512),[[g,e.needReverse?e.coinB.logo_url:e.coinA.logo_url]]),(J=s.wallet)!=null&&J.connected?(t(),n("div",xt,[o("span",null,h(("addCommom"in s?s.addCommom:$(O))(e==null?void 0:e.amountA)),1)])):(t(),n("div",sn,en))]),o("div",tn,[E(o("img",nn,null,512),[[g,e.needReverse?e.coinA.logo_url:e.coinB.logo_url]]),(K=s.wallet)!=null&&K.connected?(t(),n("div",ln,[o("span",null,h(("addCommom"in s?s.addCommom:$(O))(e==null?void 0:e.amountB)),1)])):(t(),n("div",an,cn))])])])]),o("div",rn,[o("div",null,[o("div",{class:"remove-btn",onClick:l[1]||(l[1]=ts=>s.toAutoPoolDetail(s.pItem,"remove"))},"Withdraw")])])])):q("",!0)])}),128))])])}const _n=x(ve,[["render",un],["__scopeId","data-v-961474ed"]]),pn=Z({props:{selectValue:{type:String,default:""},showList:{type:Object,default:()=>({})}},setup(s,l){const b=["All Vaults","My Vaults"],m=P("All Vaults"),L=P(s.selectValue),f=P(!1),r=P(!1),v=ss(),S=p(()=>v),R=rs(),A=p(()=>R),C=p(()=>A.value.autoPoolList),g=()=>s.showList.length,e=()=>{l.emit("clickRefresh")},y=i=>{L.value=i,l.emit("changeSort",i)},d=i=>{m.value=i,console.log(i,"itemitem"),i=="My Vaults"?l.emit("changeTab",!0):l.emit("changeTab",!1)};return Bs(()=>{document.addEventListener("click",()=>{r.value=!1})}),{isOpenList:r,wallet:S,changeSort:y,tabList:b,currentTab:m,sortValue:L,clickRefresh:e,isRefresh:f,vaultsPoolList:C,getListNum:g,changeTab:d}}});const es=s=>(as("data-v-1d1eae2e"),s=s(),is(),s),hn={class:"vaults-tab"},vn={class:"tab-left"},gn=["onClick"],mn={key:0},kn={class:"tab-right"},$n={class:"sort-select"},yn=es(()=>o("div",null,"Sort by",-1)),bn={class:"showSort"},fn=es(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),wn=es(()=>o("use",{"xlink:href":"#icon-icon_arrow"},null,-1)),Sn=[wn],Cn={key:0,class:"sort-list"},Ln=es(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),Pn=es(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),An={class:"refresh"},In=es(()=>o("use",{"xlink:href":"#icon-icon-refresh2"},null,-1)),Vn=[In];function Rn(s,l,b,m,L,f){return t(),n("div",hn,[o("div",vn,[(t(!0),n(M,null,ds(s.tabList,r=>(t(),n("div",{key:r,class:X(["tab-item",s.currentTab==r?"tab-item-active":""]),onClick:v=>s.changeTab(r)},[o("span",null,h(r),1),s.currentTab==r&&s.getListNum()?(t(),n("p",mn,h(s.currentTab=="My Vaults"&&!s.wallet.address?0:s.getListNum()),1)):q("",!0)],10,gn))),128))]),o("div",kn,[o("div",$n,[o("div",{class:"sort-select-box",onClick:l[0]||(l[0]=us(r=>s.isOpenList=!s.isOpenList,["stop"]))},[yn,o("div",bn,[o("span",null,h(s.sortValue),1),fn,(t(),n("svg",{class:X(["arrow-icon",s.isOpenList?"arrow-icon-active":""]),"aria-hidden":"true"},Sn,2))])]),s.isOpenList?(t(),n("div",Cn,[o("div",{class:"sort-item",onClick:l[1]||(l[1]=r=>s.changeSort("APY"))},[D(" APY "),Ln]),o("div",{class:"sort-item",onClick:l[2]||(l[2]=r=>s.changeSort("TVL"))},[D(" TVL "),Pn])])):q("",!0)]),o("div",An,[(t(),n("svg",{"aria-hidden":"true",class:X(["refresh-icon",s.isRefresh?"refreshing":""]),onClick:l[3]||(l[3]=(...r)=>s.clickRefresh&&s.clickRefresh(...r))},Vn,2))])])])}const On=x(pn,[["render",Rn],["__scopeId","data-v-1d1eae2e"]]),Nn=Z({components:{VaultsTabs:On},setup(){Ns();const s=gs(),l=p(()=>s),b=_s(),m=p(()=>b),L=rs(),f=p(()=>L),r=ss(),v=p(()=>r),S=p(()=>f.value.positionInfoObj),R=p(()=>l.value.chainName),A=P(!1),C=P(!1),g=P("TVL"),e=P(["APY"]),y=P(!1),d=u=>{console.log(u,"w121");const B=[];B.push(g.value),e.value.forEach((w,c)=>{w!=u&&B.push(w)}),e.value=B,g.value=u,U(f.value.positionInfoList)};Bs(()=>{document.addEventListener("click",()=>{K("")})});const i=P([]),I=P(!0),U=u=>{console.log(u,g.value,"##poolListselectValue.valueselectValue.value");const B=[];u.filter(c=>!c.is_pause).forEach(c=>{var $s,ys,bs,fs,ws,Ss,Cs,Ls,Ps,As,Is;const k=l.value.addressLpTokens[c.address],F=m.value.poolsObj[c.address];console.log(f.value.apyObj,"##autoPool.value.apyObj");const Q=(($s=f.value.apyObj[c.id])==null?void 0:$s.apr)||"0%",Ms=((ys=f.value.apyObj[c.id])==null?void 0:ys.resultApr)||"0",Ys=((bs=f.value.apyObj[c.id])==null?void 0:bs.tvl)||0;console.log(c.autoPoolPositionInfo.id,"###watchPools 246"),console.log(k,"##statsObj");const Ws=c.needReverse?((Cs=m.value.tokensObj[(Ss=c.coinB)==null?void 0:Ss.address])==null?void 0:Cs.labels)||[]:((ws=m.value.tokensObj[(fs=c.coinA)==null?void 0:fs.address])==null?void 0:ws.labels)||[],Fs=c.needReverse?((Ps=m.value.tokensObj[(Ls=c.coinA)==null?void 0:Ls.address])==null?void 0:Ps.labels)||[]:((Is=m.value.tokensObj[(As=c.coinB)==null?void 0:As.address])==null?void 0:Is.labels)||[],Es=[...new Set(Ws.concat(Fs))];B.push({...c,liqidity:Ys,vol:k?k.vol_in_usd_24h:"0",fee:c.fee?c.fee:F!=null&&F.fee?F.fee:"--",labels:Es,isFarming:c==null?void 0:c.isFarming,fee_24_h:k&&k.fee_24_h,apy:Q,resultApr:Ms})});let w=[];g.value=="APY"?(console.log(g.value,"selectValue.valueselectValue.value"),w=B.sort((c,k)=>Number(k.resultApr)-Number(c.resultApr))):w=B.sort((c,k)=>Number(k.liqidity)-Number(c.liqidity)),i.value=w,I.value=!1,console.log(i.value.length,"##list.value.length"),b.setAutoPoolNum(i.value.length),console.log(i.value,"##list.value")};G(()=>[f.value.positionInfoList,f.value.apyObj,m.value.poolConfigObj],([u,B,w])=>{console.log("执行次数###",w),u&&u.length>0&&w&&!z(w)&&(console.log(u,"###autoPoolList"),U(u))},{immediate:!0,deep:!0}),G(()=>[v.value.address,f.value.autoPoolList,m.value.poolConfigObj],([u,B,w])=>{u&&B&&B.length>0&&w&&!z(w)&&L.getMyAutoPoolPosition()},{immediate:!0});const T=P(null),j=p(()=>T.value&&T.value.firstToken?T.value.firstToken:null),a=p(()=>T.value&&T.value.lastToken?T.value.lastToken:null),N=P(),Y=P(0),W=()=>{let u=[];u=i.value,console.log(u,"##pageList");const B=u.filter((k,F)=>j.value&&a.value?k.coinA.address==j.value.address&&k.coinB.address==a.value.address||k.coinA.address==a.value.address&&k.coinB.address==j.value.address:j.value?k.coinA.address.toLowerCase().includes(j.value.address.toLowerCase())||k.coinB.address.toLowerCase().includes(j.value.address.toLowerCase()):a.value?k.coinA.address.toLowerCase().includes(a.value.address.toLowerCase())||k.coinB.address.toLowerCase().includes(a.value.address.toLowerCase()):u);let w=[],c=[];console.log(B,"##filterArr"),B.forEach((k,F)=>{console.log(k,"irem##");const Q=S.value&&S.value[k.id];console.log(Q,"##positionInfo"),A.value&&Number(Q==null?void 0:Q.myLiquidity)>0&&v.value.connected?c.push(k):w.push({...k})}),Y.value=w.reduce((k,F)=>Number(k)+Number(F.poolUSD),0),console.log(w,"121arrnewValnewValnewVal"),N.value=A.value&&v.value.connected?c:w,console.log(N.value,"##showList.value "),I.value||(A.value&&v.value.connected?b.setAutoPoolNum(c.length):b.setAutoPoolNum(w.length))};G(()=>[j.value,a.value,i.value,A.value,v.value.address],([u,B,w,c])=>{(u||B||w||c)&&(console.log("newValnewValnewVal",u,B,w,JSON.stringify(w)),W())},{immediate:!0}),Hs(()=>{b.setAutoPoolNum("--")});const J=p(()=>m.value.autoPoolNum),K=u=>{u=="label"?(s.setIsSelect("pools"),y.value=!y.value,C.value=!1,l.value.setIsShowMore(!1)):u=="select"?(s.setIsSelect("pools"),C.value=!C.value,y.value=!1,l.value.setIsShowMore(!1)):(C.value=!1,y.value=!1)};G(()=>l.value.isSelect,u=>{u!=="pools"&&K("")},{immediate:!0});const ts=ps(),ks=()=>{I.value=!0,L.getAutoPoolList(),L.getAutoPoolAPY()};return G(()=>l.value.isRefresh,u=>{ks()},{immediate:!0}),G(()=>R.value,u=>{u=="Aptos"&&ts.push("/pools")},{immediate:!0}),{totalTVL:Y,clickRefresh:ks,isMyLiquidity:A,chainName:R,store:l,select:C,selectValue:g,selectList:e,label:y,changeSort:d,list:i,listLoading:I,showList:N,childTokenSelectRef:T,wallet:v,autoPoolNum:J}}});const Bn={class:"vaults-container-new"},Tn={class:"vaults-container-center"},jn={class:"auto-pool"},Dn={key:0,class:"no-vaults-data no-data"},Un=o("img",{src:Us},null,-1),qn={key:0,class:"upgrade-loading pc-loading"},Mn={key:1,class:"upgrade-loading h5-loading"},Yn={key:3,class:"no-vaults-data"},Wn=o("img",{src:Gs},null,-1),Fn=o("span",{class:"no-vaults"},"No vaults found",-1),En=[Wn,Fn];function zn(s,l,b,m,L,f){const r=uo,v=hs("VaultsTabs"),S=vs,R=Lo,A=Qs,C=_n;return t(),n("div",Bn,[_(r,{list:s.showList,"total-t-v-l":s.totalTVL,"list-loading":s.listLoading},null,8,["list","total-t-v-l","list-loading"]),o("div",Tn,[_(v,{"select-value":s.selectValue,"show-list":s.showList,onChangeSort:l[0]||(l[0]=g=>s.changeSort(g)),onChangeTab:l[1]||(l[1]=g=>{s.isMyLiquidity=g}),onClickRefresh:s.clickRefresh},null,8,["select-value","show-list","onClickRefresh"]),o("div",jn,[s.isMyLiquidity&&!s.wallet.address?(t(),n("div",Dn,[Un,_(S,{class:"add-liquidity-btn",onClick:l[2]||(l[2]=g=>s.wallet.setIsShowWalletModal(!0))},{default:cs(()=>[D("Connect Wallet")]),_:1})])):q("",!0),s.isMyLiquidity&&s.wallet.address&&s.listLoading||!s.isMyLiquidity&&s.listLoading?(t(),n(M,{key:1},[s.listLoading?(t(),n("div",qn,[_(R)])):q("",!0),s.listLoading?(t(),n("div",Mn,[_(A,{type:"poolsCard",loading:!0})])):q("",!0)],64)):q("",!0),s.isMyLiquidity&&s.wallet.address&&!s.listLoading||!s.isMyLiquidity&&!s.listLoading?(t(),Js(C,{key:2,list:s.showList},null,8,["list"])):q("",!0),s.autoPoolNum!=="--"&&Number(s.autoPoolNum)<=0&&!s.listLoading?(t(),n("div",Yn,En)):q("",!0)])])])}const cl=x(Nn,[["render",zn]]);export{cl as default};
