import{_ as _e,C as Ce,M as ie,u as re,a as be,b as Ae,c as Te,d as Ie,e as ke,f as $e,g as Ne,h as Oe,i as Ee,j as Me}from"./head.bf2ff446.js";import{a as pe,Y as Be,l as Re,r as S,m as A,a2 as We,N as Le,a3 as M,e as me,M as fe,q as je,o as u,c as I,w as J,h as p,v as z,f as N,F as qe,s as De,t as Pe,u as He,i as G,j as Fe,B as Ue,E as Ke,y as ue,D as $,b as ze,C as Ge,T as Qe,x as b,z as ce,fh as Ye,p as Ze,k as Je}from"./entry.245dc163.js";import{i as he}from"./import-icon.de3e6c66.js";import{u as ve,g as X,c as Xe}from"./index.881efd6c.js";import{u as ge,a as V,b as Q,q as Ve,A as de}from"./pool.521bfdc1.js";import{a as xe}from"./data.712deea2.js";import{_ as et}from"./term-and-conditions.28d97c9c.js";import{u as tt}from"./useTheme.11ffba81.js";import{u as ot}from"./notifi.d3f750b8.js";import"./img-no-Positions_2x.ca3d4a5d.js";import"./img-no-Positions_2x.88c08ae0.js";/* empty css              */import"./index.4b6109f8.js";import"./icon-selected_3x.09e9a6f0.js";import"./nuxt-link.22eaa5d1.js";import"./launchpad.3ef3b23a.js";import"./vesrion-beta.b644a634.js";/* empty css              */import"./decimal.0bdeb344.js";import"./bignumber.266e6c56.js";import"./useWhale.b60c72d7.js";const st=pe({components:{Modal:Be},setup(){const{t:e,locale:s}=Re(),a=S(!1),i=ge(),f=V(),P=V(),T=A(()=>P),g=w=>{const k=w.address||`${X.Aptos.faucetObjectId}::coin::${w.name}`;return i.tokensObj&&i.tokensObj[k]?i.tokensObj[k].logoURI:""},n=A(()=>T.value.chainName!=="Aptos"?xe:[{symbol:"USDT",name:"CetusUSDT",num:"200",amount:"200000000"},{symbol:"USDC",name:"CetusUSDC",num:"200",amount:"200000000"},{symbol:"ETH",name:"CetusETH",num:"0.1",amount:"100000000"},{symbol:"BTC",name:"CetusBTC",num:"0.01",amount:"10000000"}]),y=A(()=>Object.fromEntries(n.value.map(w=>[w.symbol,w]))),{$notify:B}=We(),q=ve(),l=A(()=>q),{setIsShowSuccess:j,setIsShowRejected:H,setIsShowWaiting:h,setTransactionDesc:C,setTransactionTxid:_}=f,R=S(!1),O=S(!1),c=S(""),D=async w=>{const k=Q(T.value.chainName);if(!l.value.connected)l.value.setIsShowWalletModal(!0);else{O.value=!0,_(""),C(""),h(!0),c.value=w.symbol;try{const W=k.mintCoin(w);let E;if(T.value.chainName==="Aptos")E=await l.value.currentWallet.signAndSubmitTransaction(W);else{const L=await k.signAndExecuteTransactionBlock(l.value.currentWallet,W);E=k.handleTx(L)}if(E){R.value=!1,_(E.hash),h(!1),j(!0);const L={title:"Request Coins",desc:"",hash:E.hash,icon:"icon-icon-Increased",tit:"Request Coins",tokenInfo:{tokena:c.value,numa:`+ ${y.value[c.value].num}`,logoa:i.tokensObj&&i.tokensObj[w.address].logoURI},text:""};T.value.chainName!=="Aptos"&&(L.res=E.res),k.showTransitionPending(L),await k.watchTransaction(L)&&setTimeout(()=>{k.getAccount(l.value.address)},1e3)}else h(!1),B.error({icon:M("svg",{class:{icon:!0},"aria-hidden":!0},[M("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:M("div",{class:"notification-title"},[M("span",{innerHTML:"Request Coins Failed"},null)]),description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});O.value=!1}catch(W){O.value=!1,h(!1),console.log("mint coin error###",W),B.error({icon:M("svg",{class:{icon:!0},"aria-hidden":!0},[M("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:M("div",{class:"notification-title"},[M("span",{innerHTML:"Request Coins Failed"},null)]),duration:4.5,description:e("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}}};S(0),S(0);const x=S("--"),Z=S("--"),F=S("--");Le(async()=>{l.value.address&&T.value.chainName!=="Aptos"&&(R.value=!0)});const U=S("0");return{t:e,storeCounter:T,wallet:l,importIcon:he,list:n,requestError:a,start:R,hour:x,min:Z,sec:F,loading:O,aptosBalance:U,toMintCoin:D,currentCoin:c,getCoinIcon:g}}}),nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAR23aI5H0hshDAAAAIElEQVQoz2NggII0AQZUMCpAsUCoAwP1gTFBa5WoaC0ASoUK6Z2VFk8AAAAASUVORK5CYII=";const at=p("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[p("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),lt={class:"request-title"},it={class:"top"},rt={class:"left"},ut={key:0,src:nt,alt:""},ct={key:1,src:_e,alt:""},dt={class:"right"},pt={class:"bottom"},mt={class:"img-name"},ft={alt:""};function ht(e,s,a,i,f,P){const T=Ue,g=fe("Modal"),n=je("image");return u(),I(g,{width:440,visible:!0,class:"request-modal",title:e.$t("common.requestCoins"),footer:null,centered:"",onCancel:s[0]||(s[0]=y=>e.$emit("onClose"))},{closeIcon:J(()=>[at]),default:J(()=>[p("div",lt,z(e.t("newAdd.youNeedSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"Sui"})),1),p("div",it,[p("div",rt,[e.storeCounter.theme=="default"?(u(),N("img",ut)):(u(),N("img",ct))]),p("div",dt,z(e.t("newAdd.toGetSuiFaucetCoinsToReceiveOurTestCoins",{theme:e.storeCounter.theme=="default"?"Aptos":"SUI"})),1)]),p("div",pt,[(u(!0),N(qe,null,De(e.list,y=>(u(),N("div",{key:y.symbol,class:"item"},[p("div",mt,[Pe(p("img",ft,null,512),[[n,e.getCoinIcon(y)||("importIcon"in e?e.importIcon:He(he))(`/image/coins/${y.symbol.toLowerCase()}.png`)]]),p("span",null,"Â Â "+z(y.symbol)+" ",1)]),G(T,{class:"mint-coin-btn",loading:e.loading&&y.symbol===e.currentCoin,onClick:B=>e.toMintCoin(y)},{default:J(()=>[Fe(z(e.$t("button.request")),1)]),_:2},1032,["loading","onClick"])]))),128))])]),_:1},8,["title"])}const vt=me(st,[["render",ht]]);var gt=globalThis&&globalThis.__classPrivateFieldSet||function(e,s,a,i,f){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?e!==s||!f:!s.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?f.call(e,a):f?f.value=a:s.set(e,a),a},wt=globalThis&&globalThis.__classPrivateFieldGet||function(e,s,a,i){if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?e!==s||!i:!s.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?i:a==="a"?i.call(e):i?i.value:s.get(e)},Y;function St(e){const s=({register:a})=>a(e);try{window.dispatchEvent(new yt(s))}catch(a){console.error(`wallet-standard:register-wallet event could not be dispatched
`,a)}try{window.addEventListener("wallet-standard:app-ready",({detail:a})=>s(a))}catch(a){console.error(`wallet-standard:app-ready event listener could not be added
`,a)}}class yt extends Event{constructor(s){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Y.set(this,void 0),gt(this,Y,s,"f")}get detail(){return wt(this,Y,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Y=new WeakMap;const _t=pe({components:{CHead:Ce},setup(){var te,oe,se,ne,ae,le;const e=S(!0),s=S(!1),a=Ke(),i=tt(),f=ve();ue(()=>{var v;setTimeout(()=>{e.value=!1},1e3);const o=Q("Sui").getFullClient(),r=new ie("cetus",o,((v=X.Sui)==null?void 0:v.network)==="testnet"?"sui:testnet":"sui:mainnet");St(r)});const{connect:P,disconnect:T}=re(),g=V(),n=A(()=>g),y=A(()=>n.value.chainName?X[n.value.chainName]:{});let B=S(!1);const q=()=>{g.setTransactionDescText(""),g.setIsShowWaiting(!1)},l=A(()=>f);let j=S(null);$(()=>[l.value.address,n.value.chainName],([t,o])=>{if(t&&o){const r=Q(o);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:209 ~ watch ~ is connect wallet:",o),r.getAccount(t,!0)}},{immediate:!0});const H=()=>{const t=re(),o=localStorage.getItem("chainName"),r=localStorage.getItem(`cetus-${o}-current-wallet`),v=localStorage.getItem(`cetus-${o}-wallet-icon-name`),m=localStorage.getItem(`cetus-${o}-current-suiwallet`);ie.inMSafeWallet()?t.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):r?t.connect(r,v,o,"",m):o&&o.toLowerCase().includes("sui")&&t.disconnect(),j.value=window.setInterval(async()=>{if(l.value.address&&!l.value.loading&&l.value&&l.value.address&&l.value.countdown<l.value.autoRefreshTime&&(f.setCountdown(l.value.countdown+1),l.value.countdown===l.value.autoRefreshTime))try{await Q(n.value.chainName).getAccount(l.value.address)}catch(d){console.log(d,"errorBalance")}},1e4)};$(()=>n.value.theme,t=>{const o=t==="sui2"?"sui":t;document.getElementsByTagName("body")[0].className=`theme-${o}`,t&&(H(),e.value=!0,setTimeout(()=>{e.value=!1},1e3))},{immediate:!0});const h=ge(),C=A(()=>h);(te=window==null?void 0:window.aptos)!=null&&te.onNetworkChange&&((oe=window==null?void 0:window.aptos)==null||oe.onNetworkChange(t=>{f.setNetwork(t.networkName)})),(se=window==null?void 0:window.martian)!=null&&se.onNetworkChange&&((ne=window==null?void 0:window.martian)==null||ne.onNetworkChange(t=>f.setNetwork(t))),(ae=window==null?void 0:window.pontem)!=null&&ae.onNetworkChange&&((le=window==null?void 0:window.pontem)==null||le.onNetworkChange(t=>{f.setNetwork(t.name)}));const _=ze(),R=A(()=>C.value.chainName=="Aptos"?n.value.collectTokenListAptos:n.value.collectTokenListSui);$(()=>[C.value.tokens,R.value],([t,o])=>{if(t&&t.length>0&&o&&o.length==0){const r=C.value.chainName=="Aptos"?de("collectTokenListAptos1"):de("collectTokenListSui");if(r&&r.length>0)n.value.setCollectTokenList(r,C.value.chainName);else{const v=t.filter(m=>m.suggested_priority&&m.suggested_priority>0).sort((m,d)=>Number(d.suggested_priority)-Number(m.suggested_priority));n.value.setCollectTokenList(v,C.value.chainName)}}},{immediate:!0}),ue(()=>{var r,v;g.getFrontConfig();const t=JSON.parse(localStorage.getItem("importTokenList")||"[]")||[];if(g.setImportTokenList(t),a&&a.query&&a.query.source)i.seleteDefaultTheme();else{const m=(r=a==null?void 0:a.query)==null?void 0:r.chain,d=(v=a==null?void 0:a.query)==null?void 0:v.network,K=m||localStorage.getItem("theme");!K||K&&K.includes("sui")?d==="testnet"||K==="sui2"?i.selectSui2Theme():i.selectSuiTheme():i.seleteDefaultTheme()}const o=localStorage.getItem("chainName");window.setInterval(()=>{h.setRates(n.value.chainName),a.name!=="swap"&&g.getStatsData(n.value.chainName,n.value.filterCoinsObj)},12e4),document.addEventListener("click",()=>{n.value.setIsShowMore(!1),n.value.setOpenMore(!1),n.value.setOpenSwitchLang(!1),n.value.setOpenH5Icon(!1),n.value.setOpenSwitchChain(!1),n.value.setIsShowSetting(!1),n.value.setIsIdoOpenTerm(!1),n.value.setIsOpenExplorer(!1),n.value.setIsShowNotifi(!1),n.value.setIsShowHeaderMore(!1),n.value.setIsShowHeaderEarn(!1),l.value.setIsShowWalletCard(!1)}),window.addEventListener("updateExplorer",m=>{const d=localStorage.getItem(`${o}-currentExplorerUrl`);g.setCurrentExplorer(d)})}),Ge(()=>{document.removeEventListener("click",()=>{n.value.setOpenH5Icon(!1),n.value.setOpenSwitchChain(!1),n.value.setOpenMore(!1),n.value.setIsShowMore(!1),n.value.setOpenSwitchLang(!1),n.value.setIsShowSetting(!1),n.value.setIsIdoOpenTerm(!1),n.value.setIsOpenExplorer(!1),n.value.setIsShowNotifi(!1),n.value.setIsShowHeaderMore(!1),n.value.setIsShowHeaderEarn(!1),l.value.setIsShowWalletCard(!1)})}),$(()=>n.value.chainName,(t,o)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:395 ~ setup ~ newValue:",t),t&&t!==o&&(h.setTokens(t),h.setRates(t),h.getRecommendRanges(t))},{immediate:!0}),$(()=>[n.value.chainName,n.value.filterCoinsObj],(t,o)=>{t&&o&&t[0]&&t[0]!==o[0]&&(o[1]&&Xe(o[1])||!o[0]&&!o[1])&&g.getStatsData(t[0],t[1])},{immediate:!0}),$(()=>[n.value.chainName,n.value.filterCoinsObj,a.name,C.value.poolConfigList],([t,o,r,v])=>{o&&t&&(r!=="stats"||t=="Aptos")&&v&&v.length==0&&h.setPoolConfigList(n.value.chainName,o,t=="Aptos")}),Qe(()=>{window.clearInterval(j)});const O=()=>{f.setIsShowWalletModal(!1),T()},c=()=>{f.setSwitchWallet(!0)},D=S(!1);localStorage.getItem("isFirstAccess")||(D.value=!0);const Z=()=>{localStorage.setItem("isFirstAccess",!0),D.value=!1},F=ot(),U=A(()=>F),w=A(()=>g),k=()=>{if(w.value.chainName==="Aptos"){const t=l.value.currentWallet.publicAccount,o=t.address,r=t.publicKey;U.value.initNotifi(o,r,w.value.chainName)}else U.value.initNotifi(l.value.address,l.value.address,w.value.chainName)};$(()=>[w.value.chainName,l.value.address],([t,o])=>{y.value.hasNotifi&&(o?k():F.setNotifiStatus("logOut")),t==="Sui"&&a.name=="pool"&&_.push("/pool/list"),t==="Aptos"&&a.name=="pool"&&_.push("/pools"),t==="Aptos"&&a.name=="pool-vaults"&&_.replace("/pools"),t==="Aptos"&&(a.path.includes("/launchpad")||a.path.includes("/xcetus")||a.path.includes("/pool/list")||a.path.includes("/pool/vaults")||a.path.includes("/vaults")||a.path.includes("/farms"))&&(console.log("ðŸš€ ~ setup ~ newChainName:",t),_.push("/pools")),t==="Aptos"&&a.path.includes("/limit")&&_.push("/swap"),t==="Aptos"&&a.path.includes("/pool/position")&&_.push("/pools"),t==="Sui"&&a.path.includes("/pools")&&_.push("/pool/list"),a.name=="liquidity"&&_.push("/liquidity/deposit"),t==="Sui"&&a.name=="position"&&_.push("/pool/list")},{immediate:!0});const W=A(()=>C.value.poolListPageSize),E=A(()=>w.value.poolAmount),L=()=>{if(!a.name.includes("pool-list")&&!a.name.includes("pool-position")){s.value=!1;return}const t=document.querySelector(".body-container-bg");t&&(t.scrollTop>0?s.value=!0:s.value=!1,Math.ceil(t.scrollTop+t.clientHeight)>=t.scrollHeight&&20+W.value<E.value&&h.setPageSize(20+W.value))},ee=()=>{const t=document.querySelector(".body-container-bg");t&&t.scrollTo({top:0,behavior:"smooth"})},Se=t=>{let o={};const r=t.filter(m=>!m.is_pause),v={};for(let m=0;m<r.length;m++){const d=r[m];if(!o[d.routerSymbol]){o[d.routerSymbol]=d,v[d.routerSymbol]={base:d.token_a.address,quote:d.token_b.address,addressMap:new Map([[d.fee_rate,d.address]])};continue}o[d.routerSymbol]&&v[d.routerSymbol].addressMap.set(d.fee_rate,d.address)}return{paths:Object.values(v)}},ye=Ve();return $(()=>[C.value.openPool],async([t])=>{if(t&&t.length>0){const o=Se(t);console.log("ðŸš€ðŸš€ðŸš€ ~ file: default.vue:695 ~ paths:",o),ye.setPoolListGroupByTokenAB(o==null?void 0:o.paths)}},{immediate:!0}),$(()=>[C.value.poolConfigList,n.value.chainName],([t,o],[r,v])=>{var m;t.length!==r.length&&o&&o.toLowerCase().includes((m=t[0])==null?void 0:m.chain)&&(h.setPools(t,o),o=="Aptos"&&h.getTokensObj(t,o))}),$(()=>n.value.chainName,t=>{t=="Sui"&&h.getTokensObj([],"Sui")},{immediate:!0}),{handleScroll:L,scrollToTop:ee,showScrollTop:s,isRequestCoins:B,config:y,store:n,wallet:l,onSwitch:c,onDisconnect:O,isLoading:e,closeTerm:Z,showTerm:D,closeWaitingModal:q}}}),we=e=>(Ze("data-v-b9ce650e"),e=e(),Je(),e),Ct={key:0,class:"scroll-top-svg"},bt=we(()=>p("use",{"xlink:href":"#icon-scroll"},null,-1)),At=[bt],Tt={key:1,class:"web-loading-box"},It={key:2,class:"default-container"},kt={class:"header-container"},$t={class:"body-container"},Nt={key:0,class:"launchpad-banner"},Ot=we(()=>p("div",{class:"center"},[p("div",{class:"center-text"},[p("p",null,"Cetus Launchpad"),p("span",null,"Discover gems on Sui")])],-1)),Et=[Ot];function Mt(e,s,a,i,f,P){const T=be,g=fe("c-head"),n=Ye,y=vt,B=Ae,q=Te,l=Ie,j=ke,H=et,h=$e,C=Ne,_=Oe,R=Ee,O=Me;return u(),N("div",null,[e.showScrollTop&&e.$route.name!=="swap"?(u(),N("div",Ct,[(u(),N("svg",{"aria-hidden":"true",class:"scrollTop",onClick:s[0]||(s[0]=(...c)=>e.scrollToTop&&e.scrollToTop(...c))},At))])):b("",!0),e.isLoading?(u(),N("div",Tt,[G(T)])):(u(),N("div",It,[p("div",kt,[G(g)]),p("div",$t,[p("div",{ref:"scrollContainer",class:ce(["body-container-bg",e.$route.name.indexOf("403")>=0?"body-container-denied":""]),onScroll:s[1]||(s[1]=(...c)=>e.handleScroll&&e.handleScroll(...c))},[e.$route.name==="launchpad"?(u(),N("div",Nt,Et)):b("",!0),p("div",{class:ce(["body-container-con",[e.$route.name==="launchpad"||e.$route.name.includes("upgrade-pools")||e.$route.name.includes("pool-list")||e.$route.name.includes("pool-position")||e.$route.name.includes("pool-vaults")?"launchpad-body-container-con":e.$route.name.indexOf("403")>=0?"delMargin":"",e.$route.name==="farms"||e.$route.name==="vaults"?"farms-body-container":""].join("")])},[G(n)],2)],34)]),e.isRequestCoins?(u(),I(y,{key:0,onOnClose:s[2]||(s[2]=c=>e.isRequestCoins=!1)})):b("",!0),e.store&&e.store.isShowSuccess?(u(),I(B,{key:1,onOnClose:s[3]||(s[3]=c=>e.store.setIsShowSuccess(!1))})):b("",!0),e.store&&e.store.isShowRejected?(u(),I(q,{key:2,onOnClose:s[4]||(s[4]=c=>e.store.setIsShowRejected(!1))})):b("",!0),e.store&&e.store.isShowWaiting?(u(),I(l,{key:3,onOnClose:e.closeWaitingModal},null,8,["onOnClose"])):b("",!0),e.wallet&&e.wallet.isShowWalletModal?(u(),I(j,{key:4,onOnDisconnect:s[5]||(s[5]=c=>e.onDisconnect()),onOnSwitch:s[6]||(s[6]=c=>e.onSwitch()),onOnClose:s[7]||(s[7]=c=>e.wallet.setIsShowWalletModal(!1))})):b("",!0),e.showTerm?(u(),I(H,{key:5,onClose:e.closeTerm},null,8,["onClose"])):b("",!0),e.store&&e.store.isShowSettingH5?(u(),I(h,{key:6,onOnClose:s[8]||(s[8]=c=>e.store.setIsShowSettingH5(!1))})):b("",!0),e.store&&e.store.isShowBuyCrypto?(u(),I(C,{key:7,onOnClose:s[9]||(s[9]=c=>e.store.setIsShowBuyCrypto(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoKODO?(u(),I(_,{key:8,onOnClose:s[10]||(s[10]=c=>e.store.setIsShowBuyCryptoKODO(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoConfirm?(u(),I(R,{key:9,onClose:s[11]||(s[11]=c=>e.store.setIsShowBuyCryptoConfirm(!1))})):b("",!0),e.store&&e.store.isShowBuyCryptoSelect?(u(),I(O,{key:10,onClose:s[12]||(s[12]=c=>e.store.setIsShowBuyCryptoSelect(!1))})):b("",!0)]))])}const eo=me(_t,[["render",Mt],["__scopeId","data-v-b9ce650e"]]);export{eo as default};
