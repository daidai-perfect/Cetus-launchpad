import{e as $,m as g,o as u,f as _,h as e,v as h,i as f,S as P,p as N,k as B,a as Q,r as d,D as A,y as W,C as X,F as Y,s as Z,z as M,a1 as tt,M as et}from"./entry.a4db0d61.js";import"./index.b10985b1.js";import{u as J}from"./stats.d9e5968f.js";import"./index.97db82ac.js";import{a as st,c as ot}from"./pool.2587b8e2.js";import{c as at}from"./index.6288ac24.js";import{l as it}from"./lodash.9ecde681.js";import{f as F}from"./formatter.eb225502.js";import"./install.036e16d3.js";import"./decimal.765d8738.js";import"./decimal.a2826370.js";const lt=""+globalThis.__publicAssetsURL("sui-image/icon_value@2x.png"),nt=""+globalThis.__publicAssetsURL("sui-image/icon_volume@2x.png");const y=t=>(N("data-v-0d787769"),t=t(),B(),t),ct={class:"pool-list-stats-info"},rt={class:"stats-info-left"},ut=y(()=>e("div",{class:"concentrate-pools"},"Concentrated Pools",-1)),_t={class:"tvl-vol"},dt={class:"tvl"},vt=y(()=>e("img",{src:lt,alt:""},null,-1)),pt=y(()=>e("div",{class:"title"},"Total Value Locked",-1)),mt={key:0,class:"text"},gt={key:1,class:"text"},ft={class:"vol"},yt=y(()=>e("img",{src:nt,alt:""},null,-1)),ht=y(()=>e("div",{class:"title"},"Cumulative Volume",-1)),St={key:0,class:"text"},xt={key:1,class:"text"},bt={__name:"pool-list-stats-info",setup(t){const i=J(),v=g(()=>i),c=g(()=>v.value.overallStatistics);return(p,S)=>{const l=P;return u(),_("div",ct,[e("div",rt,[ut,e("div",_t,[e("div",dt,[vt,e("div",null,[pt,c.value.totalValueLockedDisplay?(u(),_("div",mt,"$"+h(c.value.totalValueLockedDisplay),1)):(u(),_("div",gt,[f(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])]),e("div",ft,[yt,e("div",null,[ht,c.value.cumulativeVolumeDisplay?(u(),_("div",St,"$"+h(c.value.cumulativeVolumeDisplay),1)):(u(),_("div",xt,[f(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])])])])])}}},$t=$(bt,[["__scopeId","data-v-0d787769"]]),T=t=>(N("data-v-397b9d6a"),t=t(),B(),t),kt={class:"pool-list-chart-container"},Dt={class:"chart-top"},wt={class:"trading-vol"},Vt=T(()=>e("div",{class:"title"},"Trading Volume (24H)",-1)),It={class:"text"},Lt={class:"time-list"},Ct=["onClick"],zt=T(()=>e("div",{class:"chart-content"},[e("div",{id:"stats-chart",class:"stats-chart"})],-1));var E=(t=>(t.D="day",t.W="wek",t.M="mon",t))(E||{}),R=(t=>(t[t.D=40]="D",t[t.W=30]="W",t[t.M=20]="M",t))(R||{}),U=(t=>(t[t.Jan=1]="Jan",t[t.Feb=2]="Feb",t[t.Mar=3]="Mar",t[t.Apr=4]="Apr",t[t.May=5]="May",t[t.Jun=6]="Jun",t[t.Jul=7]="Jul",t[t.Aug=8]="Aug",t[t.Sep=9]="Sep",t[t.Oct=10]="Oct",t[t.Nov=11]="Nov",t[t.Dec=12]="Dec",t))(U||{}),O=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(O||{}),j=(t=>(t[t.D=8]="D",t[t.W=8]="W",t[t.M=12]="M",t))(j||{});const At=Q({__name:"pool-list-chart",setup(t){const i=d("D"),v=["D","W","M"],c=st();g(()=>c);const p=d(),S=d(),l=d(""),H=J(),q=g(()=>H),k=g(()=>q.value.overallStatistics);A(()=>[k.value,l.value],([s,o])=>{!ot(s)&&!o&&(l.value=s.volInUsd24hSumV1)},{immediate:!0});const D=async()=>{try{const s=R[i.value],{data:o}=await fetch(`${at.Sui.api}/v2/sui/histogram?date_type=${E[i.value]}&typ=vol&limit=${s}`).then(a=>a.json()),r=o.list.map(a=>a.num),m=o.list.map(a=>a.date);p.value=r,S.value=m,G(r,m,s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",o)}catch(s){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",s)}},x=d(),G=(s,o,r)=>{const m=document.getElementById("stats-chart"),a=tt(m);x.value=a;let V={tooltip:{trigger:"axis",position:function(n,I,L,C,z){return[n[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",formatter:function(n){let I=n[0].axisValue.slice(5,7),L=U[Number(I)];const C=n[0].axisValue.slice(8,10),z=L,K=n[0].axisValue.slice(0,4);return l.value=F(n[0].value,2),"&nbsp;&nbsp;&nbsp;"+C+"&nbsp;"+z+"&nbsp;"+K+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#76C8FF"}}},xAxis:{show:!1,type:"category",data:o},yAxis:{show:!1,max:function(n){return n.max}},series:[{data:s,type:"bar",itemStyle:{normal:{barBorderRadius:4,color:"#72C1F7"}},barWidth:b.value?O[i.value]:j[i.value]}],grid:{left:0,right:0,top:0,bottom:0}};V&&a.setOption(V),a&&a.resize(),a.on("globalout",n=>{l.value=F(k.value.volInUsd24hSumV1,2)})};A(()=>i.value,(s,o)=>{(!o||s!==o)&&D()},{immediate:!0});const b=d(!0),w=it.debounce(()=>{document.body.clientWidth>750?b.value=!0:b.value=!1,!p.value&&!S.value?D():x.value&&x.value.resize()},300);return W(()=>{window.addEventListener("resize",w)}),X(()=>{window.removeEventListener("resize",w)}),(s,o)=>(u(),_("div",kt,[e("div",Dt,[e("div",wt,[Vt,e("div",It," $"+h(l.value===""?"--":Number(l.value)==0?0:l.value),1)]),e("div",Lt,[(u(),_(Y,null,Z(v,r=>e("div",{key:r,class:M(["time-item",r==i.value?"time-item-active":""]),onClick:m=>i.value=r},h(r),11,Ct)),64))])]),zt]))}});const Ft=$(At,[["__scopeId","data-v-397b9d6a"]]);const Nt={},Bt={class:"pool-container"},Jt={class:"pool-container-top-bg"},Tt={class:"pool-container-top"};function Et(t,i){const v=$t,c=Ft,p=et("router-view");return u(),_("div",Bt,[e("div",Jt,[e("div",Tt,[f(v),f(c)]),f(p)])])}const Xt=$(Nt,[["render",Et],["__scopeId","data-v-84b7ad95"]]);export{Xt as default};
