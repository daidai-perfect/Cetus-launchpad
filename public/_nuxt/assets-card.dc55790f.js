import{_ as X}from"./token-warning.79224669.js";import{u as se,b as c,q as z,c as te,i as le}from"./index.1c4d7e0e.js";import{a as ie,l as de,m,a3 as re,a4 as ue,r as D,D as W,E as me,e as ce,q as pe,o,f as i,h as n,v,c as d,z as P,t as q,x as u,i as A,w as C,u as y,I as ge,S as fe,B as he,j as N,p as ve,k as ke,a5 as be}from"./entry.1237ae89.js";import"./index.34e13427.js";/* empty css              */import{i as ye}from"./import-icon.de3e6c66.js";import{a as we,u as $e,m as H}from"./pool.af987f29.js";import{D as U}from"./decimal.0bdeb344.js";import{u as Ce}from"./useDebounceFunction.fdf6dec1.js";const Se=ie({components:{TokenWarning:X},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},havehalf:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""},amountLeabl:{type:String,default:""},isShowAmountPrice:{type:Boolean,default:!0},convertAssetsLoading:{type:Boolean,default:!1},swapLoading:{type:Boolean,default:!1},title:{type:String,default:""}},setup(e,s){const{t:F,locale:G}=de(),M=we(),V=m(()=>M),S=m(()=>new U(Number(e.balance)).div(2)),g=re(ue,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function L(){this.$emit("onSelect")}D("");const I=Ce(a=>{s.emit("onInput",a),s.emit("onInputLoading",!1)},500),k=D(""),T=a=>{const t=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(r==null?void 0:r.value)&&(r==null?void 0:r.value)}})?).*$`),h=a.target.value.replace(/,/g,"").replace(t,"$1");h>0&&s.emit("onInputLoading",!0),I(h)},b=a=>{var E;const t=a.target.selectionStart,h=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(r==null?void 0:r.value)&&(r==null?void 0:r.value)}})?).*$`);console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",a.target.value);let p=a.target.value.replace(/,/g,"").replace(h,"$1");console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ value:",p),console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.inputType:",a.inputType);let w=p.includes(".")&&String(c(p))==="0"?p:String(c(p));const ne=H(a.target.value),j=H(w),R=j.length-ne.length;let $=t+R;if((E=a==null?void 0:a.inputType)!=null&&E.includes("delete")&&R>0&&t===j[j.length-1]){const O=a.target.value.slice(0,t-1)+a.target.value.slice(t);w=String(c(O.replace(/,/g,""))),$=$-2}console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",w),k.value=w||"",setTimeout(()=>{try{a.target.setSelectionRange($<0?0:$,$<0?0:$)}catch(O){console.log("ðŸš€ ~ file: assets-card.vue:307 ~ setTimeout ~ error:",O)}},0)};W(()=>e.inputValue,a=>{console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ newValue:",a);const t=a.includes(".")&&String(c(a))==="0"?a:String(c(a));console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ fValue:",t),t!==k.value&&(k.value=t)},{immediate:!0});const J=se(),K=m(()=>J),Q=$e(),l=m(()=>Q),Y=m(()=>l.value.tokensWarningObj);let f=D({});W(()=>l.value.RATES,a=>{a&&(f.value=a)},{immediate:!0,deep:!0});const Z=m(()=>{var h,p,w;const a=(f==null?void 0:f.value)&&((h=f==null?void 0:f.value)==null?void 0:h[e.address])&&((w=(p=f==null?void 0:f.value)==null?void 0:p[e.address])==null?void 0:w.price)||0,t=new U(e.inputValue||0).mul(a).toNumber();return a<=0?0:t>0&&t<.01?"<$0.01":le(t,2)}),_=m(()=>{var a,t;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.labels)&&((t=l.value.tokensObj[e.address])==null?void 0:t.labels[0])}),r=m(()=>{var a;return l.value.tokensObj&&e.address&&l.value.tokensObj[e.address]&&((a=l.value.tokensObj[e.address])==null?void 0:a.decimals)}),x=m(()=>{var a,t,h,p;return e.coinIcon||((t=(a=l==null?void 0:l.value)==null?void 0:a.tokensObj[e.address])==null?void 0:t.logo_url)||((p=(h=l==null?void 0:l.value)==null?void 0:h.tokensObj[e.address])==null?void 0:p.logoURI)||""}),ee=m(()=>l.value.tokensObj),ae=m(()=>V.value.theme),oe=m(()=>l.value.isTokenLoading);return{route:me(),theme:ae,currentIcon:x,tokensObj:ee,pool:l,halfBalance:S,coinLabels:_,t:F,addCommom:c,store:V,wallet:K,indicator:g,inputChange:T,importIcon:ye,selectCoin:L,amountPirce:Z,coinDecimals:r,formatNumber:z,tokensWarningObj:Y,checkNullObj:te,isTokenLoading:oe,formattedValue:k,handleInput:b}}});const B=e=>(ve("data-v-66e865a9"),e=e(),ke(),e),Le={class:"card"},Ie={class:"pc-card"},Te={class:"tit"},Pe={class:"card-top"},Ae={class:"loading-token"},Ne={key:1},Be={key:0},Ve=B(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),je=[Ve],Oe={class:"card-bottom"},De={key:0,class:"amount-price"},ze={key:1},Fe={class:"top"},Me={class:"right"},Re={key:0,class:"icon icon_wallet","aria-hidden":"true"},Ee=B(()=>n("use",{"xlink:href":"#icon-icon_wallet"},null,-1)),We=[Ee],qe={class:"balance"},He={key:1},Ue={class:"h5-card"},Xe={class:"card-bottom"},Ge={class:"tit"},Je={class:"top"},Ke={class:"right"},Qe=B(()=>n("svg",{class:"icon icon_wallet","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon_wallet"})],-1)),Ye={class:"balance"},Ze={key:1},_e={class:"card-top"},xe={class:"loading-token"},ea={key:1},aa={key:0},oa=B(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),na=[oa],sa={key:0,class:"amount-price"},ta={key:1};function la(e,s,F,G,M,V){const S=ge,g=fe,L=be,I=X,k=he,T=pe("image");return o(),i("div",Le,[n("div",Ie,[n("div",Te,v(e.title),1),n("div",Pe,[e.swapLoading?(o(),d(g,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(o(),d(S,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[0]||(s[0]=b=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),n("div",{class:P(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[1]||(s[1]=b=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[n("div",Ae,[e.isTokenLoading?(o(),d(L,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?q((o(),i("img",Ne,null,512)),[[T,e.currentIcon]]):u("",!0),A(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),A(g,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:C(()=>[n("div",null,[n("p",null,v(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(o(),i("p",Be,v(e.coinLabels),1)):u("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(o(),i("svg",{key:0,class:P(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},je,2)):u("",!0)],2)]),n("div",Oe,[e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(o(),i("div",De,v(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(z))(e.amountPirce)}`:`${e.amountPirce}`),1)):(o(),i("div",ze,[e.swapLoading?(o(),d(g,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):u("",!0)])),n("div",Fe,[n("div",Me,[e.wallet.connected?(o(),i("svg",Re,We)):u("",!0),n("span",qe,[e.convertAssetsLoading?(o(),d(g,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(o(),i("span",He,v(e.wallet.connected?("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals):""),1))]),e.havehalf&&e.wallet.connected?(o(),d(k,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[2]||(s[2]=b=>e.$emit("onHalf"))},{default:C(()=>[N("HALF")]),_:1},8,["disabled"])):u("",!0),e.havemax&&e.wallet.connected?(o(),d(k,{key:2,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[3]||(s[3]=b=>e.$emit("onMax"))},{default:C(()=>[N("MAX")]),_:1},8,["disabled"])):u("",!0)])])])]),n("div",Ue,[n("div",Xe,[n("div",Ge,v(e.title),1),n("div",Je,[n("div",Ke,[Qe,n("span",Ye,[e.convertAssetsLoading?(o(),d(g,{key:0,class:"token-loading-skeleton",loading:!0,active:"",paragraph:!1})):(o(),i("span",Ze,v(e.wallet.connected?("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals):"0"),1))]),e.havehalf&&e.wallet.connected?(o(),d(k,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:s[4]||(s[4]=b=>e.$emit("onHalf"))},{default:C(()=>[N("HALF")]),_:1},8,["disabled"])):u("",!0),e.havemax&&e.wallet.connected?(o(),d(k,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:y(c))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:s[5]||(s[5]=b=>e.$emit("onMax"))},{default:C(()=>[N("MAX")]),_:1},8,["disabled"])):u("",!0)])])]),n("div",_e,[e.swapLoading?(o(),d(g,{key:1,class:"input-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):(o(),d(S,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:s[6]||(s[6]=b=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),n("div",{class:P(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"||e.route.name=="limit"?"left-opcity":""].join("")]),onClick:s[7]||(s[7]=b=>e.hasArrow&&!e.isTokenLoading?e.selectCoin():"")},[n("div",xe,[e.isTokenLoading?(o(),d(L,{key:0,class:"token-img-loading-skeleton",active:"",size:"small",paragraph:!1})):e.address?q((o(),i("img",ea,null,512)),[[T,e.currentIcon]]):u("",!0),A(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),A(g,{loading:e.isTokenLoading,class:"token-loading-skeleton",active:"",paragraph:!1},{default:C(()=>[n("div",null,[n("p",null,v(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(o(),i("p",aa,v(e.coinLabels),1)):u("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(o(),i("svg",{key:0,class:P(["icon",e.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},na,2)):u("",!0)],2)]),e.inputValue&&e.amountPirce!="--"&&(Number(e.amountPirce)>0||e.amountPirce=="<$0.01")&&e.isShowAmountPrice&&!e.swapLoading?(o(),i("div",sa,v(e.amountPirce!=="<$0.01"?`$${("formatNumber"in e?e.formatNumber:y(z))(e.amountPirce)}`:`${e.amountPirce}`),1)):(o(),i("div",ta,[e.swapLoading?(o(),d(g,{key:0,class:"rate-loading-skeleton",loading:!0,size:"large",active:"",paragraph:!1})):u("",!0)]))])])}const va=ce(Se,[["render",la],["__scopeId","data-v-66e865a9"]]);export{va as _};
