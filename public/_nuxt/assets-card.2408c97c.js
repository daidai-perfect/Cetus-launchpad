import{_ as V}from"./token-warning.e1cf42ba.js";import{D as R,i as W,u as q,f as F,b as g,A as D}from"./pool.8a0325e3.js";import{a as H,l as M,m as s,a4 as K,a5 as U,D as G,e as J,q as Q,o as n,f as i,h as l,c,v as d,z as B,t as X,i as T,w as I,x as b,u as f,j as N,I as Y,K as Z,a2 as x,S as ee,B as oe,p as ae,k as ne}from"./entry.2d868adc.js";/* empty css              *//* empty css              *//* empty css              */import{i as te}from"./import-icon.de3e6c66.js";import{u as se}from"./index.03027a8f.js";const le=H({components:{TokenWarning:V},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""}},setup(e,t){const{t:w,locale:L}=M(),j=se(),k=s(()=>j),h=s(()=>new R(Number(e.balance)).div(2)),y=K(U,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function S(){this.$emit("onSelect")}const _=a=>{const u=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(r==null?void 0:r.value)&&(r==null?void 0:r.value)}})?).*$`);a.target.value=a.target.value.replace(u,"$1")},C=W(),p=s(()=>C),$=q(),o=s(()=>$);let v={};G(()=>o.value.RATES,a=>{a&&(console.log(a,"price====>"),v=a)},{immediate:!0});const A=s(()=>(console.log(e.inputValue,"==>props.inputValue"),console.log(e.coinName,"===>props.coinName"),F(Number(e.inputValue)*Number(v&&v[e.address]&&v[e.address].price),2))),P=s(()=>{var a,u,m;return console.log((a=o.value.tokensObj[e.address])==null?void 0:a.labels,"===> pool.value.tokensObj[props.address]?.labels"),o.value.tokensObj&&e.address&&o.value.tokensObj[e.address]&&((u=o.value.tokensObj[e.address])==null?void 0:u.labels)&&((m=o.value.tokensObj[e.address])==null?void 0:m.labels[0])}),r=s(()=>{var a;return o.value.tokensObj&&e.address&&o.value.tokensObj[e.address]&&((a=o.value.tokensObj[e.address])==null?void 0:a.decimals)}),z=s(()=>{var a,u,m,O;return e.coinIcon||((u=(a=o==null?void 0:o.value)==null?void 0:a.tokensObj[e.address])==null?void 0:u.logo_url)||((O=(m=o==null?void 0:o.value)==null?void 0:m.tokensObj[e.address])==null?void 0:O.logoURI)||""}),E=s(()=>o.value.tokensObj);return{theme:s(()=>k.value.theme),currentIcon:z,tokensObj:E,pool:o,halfBalance:h,coinLabels:P,t:w,addCommom:g,store:k,wallet:p,indicator:y,inputChange:_,importIcon:te,selectCoin:S,amountPirce:A,coinDecimals:r,formatNumber:D}}});const ie=e=>(ae("data-v-b33616d3"),e=e(),ne(),e),de={class:"card"},re={class:"top"},ue={key:1,class:"input-div"},me={key:0},ce={class:"loading-token"},pe={key:1},ve={key:0},be=ie(()=>l("use",{"xlink:href":"#icon-icon_on"},null,-1)),fe=[be],ge={class:"bottom"},ke={key:0,class:"amount-price"},he={key:1},ye={class:"top"},Se={class:"right"},_e={class:"balance"};function Ce(e,t,w,L,j,k){const h=Y,y=Z,S=x,_=V,C=ee,p=oe,$=Q("image");return n(),i("div",de,[l("div",re,[e.inputDisabled?(n(),i("div",ue,[e.inputValue?(n(),i("span",me,d(e.inputValue),1)):(n(),c(y,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(n(),c(h,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.inputValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:t[0]||(t[0]=o=>e.$emit("onInput",o.target.value)),onFocus:t[1]||(t[1]=o=>e.$emit("onFocus"))},null,8,["value","disabled","onChange"])),l("div",{class:B(["left",e.hasArrow?"":"nohands"]),onClick:t[2]||(t[2]=o=>e.hasArrow&&!e.pool.isTokenLoading?e.selectCoin():"")},[l("div",ce,[e.pool.isTokenLoading?(n(),c(S,{key:0,active:e.active,size:"small",paragraph:!1},null,8,["active"])):X((n(),i("img",pe,null,512)),[[$,e.currentIcon]]),T(_,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),T(C,{loading:e.pool.isTokenLoading,class:"loading-token-skeleton",active:"",paragraph:!1},{default:I(()=>[l("div",null,[l("p",null,d(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(n(),i("p",ve,d(e.coinLabels),1)):b("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(n(),i("svg",{key:0,class:B(["icon",e.pool.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},fe,2)):b("",!0)],2)]),l("div",ge,[e.inputValue&&e.amountPirce!="--"?(n(),i("div",ke," $"+d(("formatNumber"in e?e.formatNumber:f(D))(e.amountPirce)),1)):(n(),i("div",he)),l("div",ye,[l("div",Se,[N(d(e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),l("span",_e,d(e.wallet.connected?("addCommom"in e?e.addCommom:f(g))(e.balance,e.coinDecimals):"0"),1),e.havemax&&e.wallet.connected?(n(),c(p,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:f(g))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:t[3]||(t[3]=o=>e.$emit("onHalf"))},{default:I(()=>[N(d("Half"))]),_:1},8,["disabled"])):b("",!0),e.havemax&&e.wallet.connected?(n(),c(p,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:f(g))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:t[4]||(t[4]=o=>e.$emit("onMax"))},{default:I(()=>[N(d(e.$t("button.max")),1)]),_:1},8,["disabled"])):b("",!0)])])])])}const De=J(le,[["render",Ce],["__scopeId","data-v-b33616d3"]]);export{De as _};
