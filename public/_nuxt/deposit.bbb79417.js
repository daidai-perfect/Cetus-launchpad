import{a as Ye,r as g,L as pi,m as y,A as E,e as Qe,o as _,f as B,h as a,x as q,i as ue,w as ze,y as Je,S as Ji,G,K as Yi,q as Ri,B as Oi,j as De,P as Bi,p as Qi,k as Zi,z as Ui,s as Fi,l as Ti,C as Vi,I as xi,u as Y,N as et,F as _i,E as qi,c as Fe,Y as it,b as tt,O as nt}from"./entry.8e75b3ab.js";/* empty css              */import{positionError as Ge,fromCoin as p,toCoin as m,tickList as Ke,currentPrice as ei,currentPriceReverse as mi,direction as te,currentPriceTab as O,defaultMinPrice as Si,defaultMaxPrice as wi,minPrice as P,maxPrice as f,toggle as ji,isStableFarmingRange as Se,isInputTotalAmount as Le,priceConfigObj as je,fromCoinAmount as b,toCoinAmount as k,fixedFromCoin as fe,resetTickList as $i,resetData as ot}from"./data.f10e05c6.js";import{_ as Di,a as at}from"./farms-auto-stake.6ef26df4.js";import{e as rt,a as st,b as zi,c as Ei,d as Xi,_ as ut}from"./new-liquidity-title.85496391.js";import{d as se,a as ke,c as ne,b as Ii,s as lt,p as Mi}from"./common.26dbc61a.js";import{i as fi}from"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import{u as ii,b as Ni,a as Ai}from"./index.4ed5b0c4.js";import{T as vi,g as ct,u as dt,b as Ie}from"./index.91fc242d.js";import"./decimal.a2826370.js";import"./index.abd2f5b0.js";/* empty css              */import{D as s}from"./decimal.765d8738.js";import{u as Li}from"./farms.5f4e2bbb.js";import{_ as Hi}from"./icon_farms_2x.9af88e3f.js";import{_ as vt}from"./coin-lock.1c753790.js";import{_ as mt}from"./coin-select.176463ce.js";import{_ as ft}from"./viewDetail.4497f37a.js";import{_ as pt}from"./new-add-or-create.6aa27fe4.js";import{u as gt}from"./notifi.9707cd39.js";import{_ as bt,a as kt}from"./icon-Add-Liquidity_2x.0acb06cb.js";import"./transform.c672907f.js";import"./img-lock_2x.a28135f4.js";import"./lock.2bf3b5e4.js";import"./token-warning.45f58252.js";import"./useDebounceFunction.d68cdc11.js";import"./swap-setting.6504553c.js";import"./icon-error_2x.2c9cbac6.js";import"./img-lock_2x.b9ef127a.js";import"./icon-tooltip.9c059160.js";import"./token-warning_2x.0f0ae6ce.js";import"./img-no-Positions_2x.3896aa04.js";import"./img-no-Positions_2x.adeca125.js";import"./status-block.6e999e97.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./deposit-ratio.f0b9f347.js";import"./useWhale.6c927133.js";const ht=Ye({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,o){const M=g(""),$=g("");let A=g(""),U=g("");const h=pi(),I=ii(),d=y(()=>I),j=y(()=>d.value.chainName?Ni(d.value.chainName):{}),n=()=>{var c,D,W,de;if(!(Number.isNaN(M.value)||Number(M.value)!==0&&!M.value||!e.poolInfo.tickSpacing))try{const{TickUtil:le,TickMath:ve,getNearestTickByTick:N}=j.value,Te=ve.priceToTickIndex(new s(M.value.toString()),(c=C.value.token_a)==null?void 0:c.decimals,(D=C.value.token_b)==null?void 0:D.decimals),w=N(Te,Number(C.value.tickSpacing),!0);let oe;if(oe=ve.tickIndexToPrice(w+Number(C.value.tickSpacing),(W=C.value.token_a)==null?void 0:W.decimals,(de=C.value.token_b)==null?void 0:de.decimals),e.pType=="Min"&&Number(oe.toString())>Number(U.value.toString()))return;const Ce=oe.toString();o.emit("onInput",Ce)}catch{o.emit("onInput","")}},S=()=>{var c,D,W,de;try{if(Number.isNaN(M.value)||!M.value||!e.poolInfo.tickSpacing)return;const{TickUtil:le,TickMath:ve,getNearestTickByTick:N}=j.value,Te=ve.priceToTickIndex(new s(M.value.toString()),(c=C.value.token_a)==null?void 0:c.decimals,(D=C.value.token_b)==null?void 0:D.decimals),w=N(Te,Number(C.value.tickSpacing),!0);let oe;oe=ve.tickIndexToPrice(w-Number(C.value.tickSpacing),(W=C.value.token_a)==null?void 0:W.decimals,(de=C.value.token_b)==null?void 0:de.decimals);const Ce=oe.toString();if(e.pType=="Max"&&Number(oe)<Number(A.value))return;o.emit("onInput",Ce)}catch{o.emit("onInput","")}},H=c=>{let D=c.toString().replace(/[^\d.]/g,"");const W=/^\d+(\.\d+)?$/;D.split(".").length>2&&!W.exec(D)&&(D=D.substr(0,D.length-1)),$.value=String(D)},pe=c=>{if(c&&c!=="0"&&c!=="âˆž"){M.value=c;const W=c.toString().split(".")[1];$.value=c!=="0"&&c!=="âˆž"&&W&&W.length>6?se(c.toString(),6):c.toString()}else(c=="0"||c=="âˆž"||h.query.action)&&($.value=c)},we=c=>{var N,Te,w,oe;const{TickUtil:D,TickMath:W,getNearestTickByTick:de}=j.value,le=c.target.value;let ve;if(le==="0"){ve=-443636,o.emit("onInput","0");return}else if(le!=="0"&&le){const Ce=W.priceToTickIndex(new s(le),(N=C.value.token_a)==null?void 0:N.decimals,(Te=C.value.token_b)==null?void 0:Te.decimals);ve=de(Number(Ce),Number(C.value.tickSpacing),!0);const Ne=W.tickIndexToPrice(new s(ve),(w=C.value.token_a)==null?void 0:w.decimals,(oe=C.value.token_b)==null?void 0:oe.decimals);pe(Ne.toString()),o.emit("onInput",Ne.toString())}else o.emit("onInput")};E(()=>e.defaultMinPrice,(c,D)=>{c!==D&&(A.value=e.defaultMinPrice)},{immediate:!0}),E(()=>e.defaultMaxPrice,(c,D)=>{c!==D&&(U.value=e.defaultMaxPrice)},{immediate:!0}),E(()=>[e.inputValue,h.query.action],([c])=>{pe(c)},{immediate:!0});const C=g({});E(()=>e.poolInfo,(c,D)=>{c&&(C.value=c)},{immediate:!0});const r=g("");return E(()=>e.currentPriceTab,c=>{r.value=c},{immediate:!0}),{addPrice:n,minusPrice:S,oValue:$,changeValue:H,isDisabled:r,route:h,onBlur:we}}});const Ct={class:"set-price-item"},yt={class:"title"},Pt={class:"input-box"},St={key:0,class:"minus-btn"},wt={key:1,class:"plus-btn"};function Tt(e,o,M,$,A,U){const h=Yi,I=Ji;return _(),B("div",Ct,[a("div",yt,q(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ue(I,{loading:e.loading,active:"",paragraph:!1},{default:ze(()=>[a("div",Pt,[e.currentPriceTab!=="full range"?(_(),B("a",St,[a("div",{class:Je(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:o[0]||(o[0]=(...d)=>e.minusPrice&&e.minusPrice(...d))},"-",2)])):G("",!0),ue(h,{id:"pValu",value:e.oValue,"onUpdate:value":o[1]||(o[1]=d=>e.oValue=d),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:o[2]||(o[2]=d=>e.changeValue(d.target.value)),onBlur:o[3]||(o[3]=d=>e.onBlur(d))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(_(),B("a",wt,[a("div",{class:Je(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:o[4]||(o[4]=(...d)=>e.addPrice&&e.addPrice(...d))},"+",2)])):G("",!0)])]),_:1},8,["loading"]),a("p",{class:Je(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},q(e.toCoin&&e.toCoin.symbol)+" per "+q(e.fromCoin&&e.fromCoin.symbol),3)])}const _t=Qe(ht,[["render",Tt],["__scopeId","data-v-b8c01d0b"]]),It=Ye({components:{NewLiquiditySetPrice:_t},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,o){let M=g(""),$=g(""),A=g(),U=g(!1),h=g(!1);const I=g({}),d=ii(),j=y(()=>d);Ri(()=>{M.value=e.min,$.value=e.max}),E(()=>e.currentPriceTab,(r,c)=>{r!==c&&(A.value=e.currentPriceTab)},{immediate:!0}),E(()=>e.min,(r,c)=>{r!==c&&(M.value=r)}),E(()=>e.max,(r,c)=>{r!==c&&($.value=r)}),E(()=>e.poolInfo,(r,c)=>{r&&(I.value=r)},{immediate:!0});const n=g("");E(()=>e.intPrice,r=>{n.value=r},{immediate:!0,deep:!0});const S=r=>{M.value=r,o.emit("onChangeMinPrice",r)},H=r=>{$.value=r,o.emit("onChangeMaxPrice",r)};E(U,(r,c)=>{r!==c&&o.emit("onChangeFullRange",r)});const pe=()=>{M.value=e.defaultMinPrice,$.value=e.defaultMaxPrice,h.value=!1,U.value=!1},we=()=>{h.value=!1,M.value="0",$.value="âˆž"};return E(U,(r,c)=>{r!==c&&o.emit("onChangeFullRange",r)}),{store:j,changeMinPrice:S,changeMaxPrice:H,importIcon:fi,resetPrice:pe,changeShowUnderStand:()=>{U.value=!U.value,U.value?h.value=!0:pe(),h.value||(M.value=e.defaultMinPrice,$.value=e.defaultMaxPrice)},showUnderStand:h,minPrice:M,maxPrice:$,understand:we,isRadio:U,initPirce:n}}});const Nt={class:"set-price"},At={class:"card-container"},Lt={key:0,class:"card"},qt={key:1,class:"understand"},$t={class:"left"},Mt={class:"right"};function Rt(e,o,M,$,A,U){const h=rt,I=Oi;return _(),B("div",Nt,[a("div",At,[e.showUnderStand?(_(),B("div",qt,[a("div",$t,[a("p",null,q(e.$t("common.lowerEfficiency")),1),a("p",null,q(e.$t("common.lowerEfficiencyTips")),1)]),a("div",Mt,[ue(I,{onClick:e.understand},{default:ze(()=>[De(q(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(_(),B("div",Lt,[ue(h,{value:e.minPrice,"onUpdate:value":o[0]||(o[0]=d=>e.minPrice=d),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ue(h,{value:e.maxPrice,"onUpdate:value":o[1]||(o[1]=d=>e.maxPrice=d),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const Ot=Qe(It,[["render",Rt],["__scopeId","data-v-9c2b76ed"]]),Bt=Ye({props:{lever:{type:String,default:""}},setup(){return{}}});const Ut=e=>(Qi("data-v-10f3de01"),e=e(),Zi(),e),Ft={class:"lever"},jt=Ut(()=>a("div",{class:"lever-title"},[a("span",null,"Leverage"),a("svg",{"aria-hidden":"true",class:"icon"},[a("use",{"xlink:href":"#icon-icon-tips1"})])],-1)),Dt={class:"lever-text"};function zt(e,o,M,$,A,U){const h=Bi;return _(),B("div",Ft,[ue(h,{"overlay-class-name":"lever-tooltip"},{title:ze(()=>[De("This parameter indicates the concentration rate of your liquidity relative to a full range position.")]),default:ze(()=>[jt]),_:1}),a("div",Dt,q(e.lever),1)])}const Et=Qe(Bt,[["render",zt],["__scopeId","data-v-10f3de01"]]),Xt=Ye({components:{NewLiquidityD3Chart:Di,NewLiquidityPrice:Ot,SuiLiquidityLever:Et},setup(){const{t:e,locale:o}=Ui(),M=g("liquidity"),$=ii(),A=y(()=>$),U=y(()=>A.value.chainName),h=Ai(),I=y(()=>h),d=y(()=>A.value.chainName?Ni(A.value.chainName):{});Ri(()=>{Ge.value=!1});const j=pi(),n=y(()=>{let i=null;for(let l=0;l<I.value.poolConfigList.length;l++){const T=I.value.poolConfigList[l];T.address==j.query.poolAddress&&(i=T)}return i}),S=y(()=>{let i=null;console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:481 ~ constpoolInfo:any=computed ~ pools.value.poolsObj:",I.value.poolsObj);for(const l in I.value.poolsObj){const T=I.value.poolsObj[l];T.address==j.query.poolAddress&&(i=T)}return i}),H=g(),pe=g(!0),we=async(i,l)=>{var T,L,z,ce,he,$e,Xe,He,Ae,Me,Ze,Ve;if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:497 ~ watchPoolInfo ~ pool:",i),i&&(p.value=i.needReverse?i.token_b:i.token_a,m.value=i.needReverse?i.token_a:i.token_b),l&&i.current_tick_index){pe.value=!0,Ke.value=[],r.value=[],Se.value=!1;const We=i.token_a.decimals,xe=i.token_b.decimals;ei.value=vi.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((T=i==null?void 0:i.object)==null?void 0:T.current_sqrt_price),We,xe).toString(),mi.value=new s(1).div(vi.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((L=i==null?void 0:i.object)==null?void 0:L.current_sqrt_price),We,xe)).toString(),H.value=i.needReverse,((ce=(z=i==null?void 0:i.token_a)==null?void 0:z.address)==null?void 0:ce.toLowerCase())===((Xe=($e=(he=p)==null?void 0:he.value)==null?void 0:$e.address)==null?void 0:Xe.toLowerCase())&&((Ae=(He=i==null?void 0:i.token_b)==null?void 0:He.address)==null?void 0:Ae.toLowerCase())===((Ve=(Ze=(Me=m)==null?void 0:Me.value)==null?void 0:Ze.address)==null?void 0:Ve.toLowerCase())?te.value=!0:te.value=!1;let Ci={poolAddress:i.address,coinTypeA:i.coin_a_address,coinTypeB:i.coin_b_address};const{list:ci,address:yi}=await d.value.getTicks(Ci);Ke.value=ci&&yi==i.address?d.value.getTickDataFromUrlData(ci):[],i!=null&&i.current_tick_index&&(D(i),pe.value=!1)}},C=i=>{var L,z;const l=i.token_a.decimals,T=i.token_b.decimals;ei.value=vi.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((L=i==null?void 0:i.object)==null?void 0:L.current_sqrt_price),l,T).toString(),mi.value=new s(1).div(vi.sqrtPriceX64ToPrice((i==null?void 0:i.current_sqrt_price)||((z=i==null?void 0:i.object)==null?void 0:z.current_sqrt_price),l,T)).toString()},r=g([]),c=g(),D=async i=>{const l=i.token_a.decimals,T=i.token_b.decimals;let L=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[i.address]&&I.value.poolPriceConfigObj[i.address].recommend_ranges||{};const z=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[i.address]&&I.value.poolPriceConfigObj[i.address].type||"";let ce,he;const $e=ct(i.current_tick_index,i.tickSpacing);c.value=i.current_tick_index,ce=$e-Number(i.type=="unstable"?Number(i.tickSpacing)*2:Number(i.tickSpacing)*3),he=$e+Number(i.type=="unstable"?Number(i.tickSpacing)*2:Number(i.tickSpacing)*3);const Xe=d.value.TickMath.tickIndexToPrice(ce,l,T).toString(),He=d.value.TickMath.tickIndexToPrice(he,l,T).toString();L["full range"]={lower:d.value.TickUtil.getMinIndex(Number(S.value.tickSpacing)),upper:d.value.TickUtil.getMaxIndex(Number(S.value.tickSpacing))},L.custom={lower:ce,upper:he,minPrice:Xe,maxPrice:He};const Ae=[];for(let Me in L)L[Me]&&Ae.push({...L[Me],key:Me});z&&Ae&&Ae.length>2?i.isSelfBuilt?O.value="custom":z=="stable"?O.value="suggested":O.value="passive":O.value="custom",r.value=Ae||{},je.value=L,le({key:O.value,...L[O.value]})},W=g(""),de=g(""),le=i=>{O.value=i.key.toLowerCase();const l=S.value.token_a.decimals,T=S.value.token_b.decimals,{lower:L,upper:z}=i;Le.value=!1;const ce=d.value.TickMath.tickIndexToPrice(L,l,T).toString(),he=d.value.TickMath.tickIndexToPrice(z,l,T).toString();if(i.key=="full range"){W.value=L,de.value=z,ve();return}te.value?(Si.value=String(ce),P.value=String(ce),wi.value=String(he),f.value=String(he),W.value=L,de.value=z):(Si.value=new s(1).div(new s(he)).toString(),P.value=new s(1).div(new s(he)).toString(),wi.value=new s(1).div(new s(ce)).toString(),f.value=new s(1).div(new s(ce)).toString(),W.value=d.value.TickMath.priceToTickIndex(new s(1/Number(he)),l,T),de.value=d.value.TickMath.priceToTickIndex(new s(1/Number(ce)),l,T))},ve=i=>{P.value="0",f.value="âˆž"};E(()=>S.value,(i,l)=>{(!l&&i&&!ne(i)||l&&i&&(!(l!=null&&l.current_tick_index)||(l==null?void 0:l.address)!==(i==null?void 0:i.address)))&&we(i,!l||!(l!=null&&l.current_tick_index)||(l==null?void 0:l.address)!==(i==null?void 0:i.address)),i&&!ne(i)&&C(i),i||(Ke.value=[])},{immediate:!0}),Fi(()=>{p.value=g(),m.value=g(),Ke.value=[]}),E(()=>n.value,(i,l)=>{i&&h.setSinglePool(i,{},U.value)},{immediate:!0});const N=i=>{if(U.value=="Sui")switch(i){case"passive":return"/sui-image/icon_ conservative@2x.png";case"active":return"/sui-image/icon_active@2x.png";case"full range":return"/sui-image/icon_fullrange@2x.png";case"custom":return"/sui-image/icon_costom@2x.png";case"suggested":return"/sui-image/icon_stabel@2x.png"}else switch(i){case"passive":return"/image/icon_ conservative@2x.png";case"active":return"/image/icon_active@2x.png";case"full range":return"/image/icon_fullrange@2x.png";case"custom":return"/image/icon_costom@2x.png";case"suggested":return"/image/icon_stabel@2x.png"}},Te=i=>{switch(i){case"suggested":return e("newAdd.suggested");case"active":return e("newAdd.active");case"passive":return e("newAdd.conservative");case"full range":return e("newAdd.fullRange");case"custom":return e("newAdd.custom")}},w=i=>{var T,L;const l=I.value.poolPriceConfigObj&&I.value.poolPriceConfigObj[(T=S.value)==null?void 0:T.address]&&I.value.poolPriceConfigObj[(L=S.value)==null?void 0:L.address].type||"";if(r.value.length>2)if(l=="unstable")switch(i){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(i){case"suggested":return{top:"25%"};case"full range":return{top:"49%"};case"custom":return{top:"75%"}}else if(l=="unstable")switch(i){case"active":return{top:"38%"};case"passive":return{top:"13%"};case"full range":return{top:"63%"};case"custom":return{top:"87%"}}else switch(i){case"full range":return{top:"35%"};case"custom":return{top:"60%"}}},oe=g(1),Ce=()=>{const i=oe.value/2;oe.value=i},Ne=()=>{const i=oe.value*2;oe.value=i},F=y(()=>{var i,l,T;return!S.value||ne(A.value.addressHistTokens)||!A.value.addressHistTokens[(i=S.value)==null?void 0:i.poolAddress]?null:Object.fromEntries((T=A.value.addressHistTokens[(l=S.value)==null?void 0:l.poolAddress])==null?void 0:T.data.map(L=>[L.key,L.value]))}),Q=g(30),gi=g("30D"),ti=y(()=>te.value?F.value&&se(Q.value==7?F.value.before_7_d_contract_price_lowest:Q.value==24?F.value.before_24_h_contract_price_lowest:F.value.before_30_d_contract_price_lowest,6)||0:F.value&&se(new s(1).div(Q.value==7?F.value.before_7_d_contract_price_highest:Q.value==24?F.value.before_24_h_contract_price_highest:F.value.before_30_d_contract_price_highest).toString(),6)||0),ni=y(()=>te.value?F.value&&se(Q.value==7?F.value.before_7_d_contract_price_highest:Q.value==24?F.value.before_24_h_contract_price_highest:F.value.before_30_d_contract_price_highest,6)||0:(F.value&&se(1/Number(Q.value==7?F.value.before_7_d_contract_price_lowest:Q.value==24?F.value.before_24_h_contract_price_lowest:F.value.before_30_d_contract_price_lowest),6))==1/0?0:F.value&&se(1/Number(Q.value==7?F.value.before_7_d_contract_price_lowest:Q.value==24?F.value.before_24_h_contract_price_lowest:F.value.before_30_d_contract_price_lowest),6)||0),bi=y(()=>{const i=Number(P.value),l=Number(f.value);if(P.value=="0"&&f.value=="âˆž"||O.value=="full range")return"1x";if(P.value==f.value||O.value=="full range")return"--";if(P.value&&f.value&&P.value!=="0"&&f.value!=="âˆž"){const T=Ii(1/(1-Number((i/l)**.25)),2);return Number(T)>0?T+"x":"--"}else return 1}),oi=y(()=>{var i,l,T,L,z,ce;return((i=p.value)==null?void 0:i.isSelfBuilt)||((l=m.value)==null?void 0:l.isSelfBuilt)||((L=I.value.tokensObj[(T=p.value)==null?void 0:T.address])==null?void 0:L.isSelfBuilt)||((ce=I.value.tokensObj[(z=m.value)==null?void 0:z.address])==null?void 0:ce.isSelfBuilt)}),ai=(i,l)=>{i!==P.value&&O.value=="full range"?le({key:"custom",...r.value.custom}):O.value!=="full range"&&O.value!=="custom"?(O.value="custom",P.value=i):P.value=i,J.value&&(Se.value?(te.value&&P.value!==J.value.minPrice&&(Se.value=!1),!te.value&&Number(P.value)!==1/Number(J.value.maxPrice)&&(Se.value=!1)):(te.value&&P.value==J.value.minPrice&&f.value==J.value.maxPrice&&(Se.value=!0),!te.value&&Number(P.value)==1/Number(J.value.maxPrice)&&Number(f.value)==1/Number(J.value.minPrice)&&(Se.value=!0)))},ki=(i,l)=>{i!==f.value&&O.value=="full range"?le({key:"custom",...r.value.custom}):O.value!=="full range"&&O.value!=="custom"?(O.value="custom",i=="0"?f.value="âˆž":f.value=i):i=="0"?f.value="âˆž":f.value=i,J.value&&(Se.value?(te.value&&f.value!==J.value.maxPrice&&(Se.value=!1),!te.value&&Number(f.value)!==1/Number(J.value.minPrice)&&(Se.value=!1)):(te.value&&P.value==J.value.minPrice&&f.value==J.value.maxPrice&&(Se.value=!0),!te.value&&Number(P.value)==1/Number(J.value.maxPrice)&&Number(f.value)==1/Number(J.value.minPrice)&&(Se.value=!0)))},Ee=i=>{var l;return console.log("ðŸš€ðŸš€ðŸš€ ~ file: sui-liquidity-left.vue:1215 ~ getCoinIcon ~ info:",i),(i==null?void 0:i.logoURI)||(i==null?void 0:i.logo_url)||((l=I.value.tokensObj[i==null?void 0:i.address])==null?void 0:l.logo_url)||(A.value.theme==="default"?fi("/image/coins/unknown.png"):fi("/image/coins/sui-unknown.png"))},ri=i=>{switch(i){case"active":return e("newAdd.activeTips");case"passive":return e("newAdd.passiveTips");case"full range":return e("newAdd.fullRangTips");case"suggested":return e("newAdd.suggestedTips");case"custom":return e("newAdd.customTips")}},hi=[{label:"24H",value:24},{label:"7D",value:7},{label:"30D",value:30}],si=Li(),ui=y(()=>si),J=y(()=>{var i;return ui.value.farmsPoolObj[(i=S==null?void 0:S.value)==null?void 0:i.address]}),li=y(()=>I.value.poolPriceConfigObj);E(()=>[Se.value,S.value,r.value,li.value,J.value,te.value],(i,l)=>{var T,L;if(i[0]&&i[4]&&!ne(i[4]))O.value="custom",P.value=i[5]?i[4].minPrice:String(1/i[4].maxPrice),f.value=i[5]?i[4].maxPrice:String(1/i[4].minPrice);else if(i[1]&&!ne(i[1])&&i[2]&&!ne(i[2])&&i[3]&&!ne(i[3])&&i[4]&&!ne(i[4])){i[3]&&i[3][(T=i[1])==null?void 0:T.address]&&i[3][(L=i[1])==null?void 0:L.address].type;const z=i[2].filter(ce=>ce.key===(i[2].length==4?"passive":"suggested"));z!=null&&z[0]&&(!l||l[0]!==i[0])&&le({...z[0]})}},{immediate:!0});const Be=y(()=>I.value.poolsLoading);return{positionError:Ge,getCoinIcon:Ee,chainName:U,store:A,currentTab:M,currentPrice:ei,currentPriceReverse:mi,fromCoin:p,toCoin:m,direction:te,needReverse:H,addCommom:ke,decimalUi:se,priceTablList:r,currentPriceTab:O,sliderStyle:w,poolInfo:S,tickList:Ke,getPriceTabImage:N,getPriceTabText:Te,defaultMinPrice:Si,defaultMaxPrice:wi,minPrice:P,maxPrice:f,currentTick:c,chartLoading:pe,zoomOut:Ce,zoomIn:Ne,zoom:oe,priceTab:le,before7dContractPriceLowest:ti,before7dContractPriceHighest:ni,aprRewardsTime:gi,lever:bi,aprRewardsParameter:Q,isSelfBuilt:oi,priceRangeChangeMin:ai,priceRangeChangeMax:ki,toggle:ji,getPirceTabTips:ri,timeList:hi,farmsPoolInfo:J,checkNullObj:ne,isStableFarmingRange:Se,poolsLoading:Be}}});const Ht={class:"sui-liquidity-left"},Wt=a("span",{class:"selectRange"},"Select Range",-1),Kt={class:"price-info"},Gt={class:"left"},Jt={class:"base-coin"},Yt={class:"base-coin-title"},Qt=a("span",null,"Base coin",-1),Zt=a("svg",{class:"icon icon-up","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-exchange_up1"})],-1),Vt=a("svg",{class:"icon icon-down","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-exchange_down1"})],-1),xt=[Zt,Vt],en={class:"base-coin-bottom"},tn={alt:""},nn={class:"current-price"},on=a("div",{class:"current-price-title"},"Current Price",-1),an={key:0,class:"from-pre-to"},rn={class:"right"},sn={class:"price-range"},un={class:"left"},ln={class:"price-slider"},cn={class:"slider"},dn=a("div",{class:"slider-ratio-content"},null,-1),vn=[dn],mn={class:"price-tab-list"},fn=["onClick"],pn=["src"],gn={class:"right"},bn={class:"price-zoom"},kn={class:"current-price"},hn=a("div",{class:"current-price-title"},"Current Price",-1),Cn={key:0,class:"from-pre-to"},yn={class:"price-zoom-right"},Pn={class:"leverage"},Sn={class:"right"},wn={class:"right-time"},Tn={key:0,class:"day-7-price-range"},_n=a("i",null,null,-1),In={class:"gray"},Nn={class:"time-list"},An=["onClick"],Ln={class:"right-price-h5"},qn={class:"range pc-range"},$n={key:0,class:"stable-farming-range pc-stable-farming-range"},Mn=a("img",{src:Hi},null,-1),Rn={class:"check-box-active"},On={key:1,class:"stable-farming-range h5-stable-farming-range"},Bn=a("span",null,[a("img",{src:Hi}),De(" Farm rewards rangeï¼š ")],-1),Un={class:"check-box-active"},Fn={key:2,class:"position-tips"},jn=["src"],Dn={class:"error"};function zn(e,o,M,$,A,U){var H,pe,we,C,r,c,D,W,de,le,ve;const h=Bi,I=Di,d=Ti("SuiLiquidityLever"),j=it,n=st,S=Vi("image");return _(),B("div",Ht,[Wt,a("div",Kt,[a("div",Gt,[a("div",Jt,[a("div",Yt,[Qt,a("div",{class:"change-price",onClick:o[0]||(o[0]=(...N)=>e.toggle&&e.toggle(...N))},xt)]),a("div",en,[xi(a("img",tn,null,512),[[S,e.getCoinIcon(e.fromCoin)]]),a("span",null,q((H=e.fromCoin)==null?void 0:H.symbol),1)])]),a("div",nn,[on,a("div",null,[a("span",null,q(e.poolInfo?e.direction?("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.currentPrice,6)):("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(_(),B("span",an,q((pe=e.toCoin)==null?void 0:pe.symbol)+" per "+q((we=e.fromCoin)==null?void 0:we.symbol),1)):G("",!0)])])]),a("div",rn,[e.currentTab=="liquidity"?(_(),B("div",{key:0,class:"zoom-out",onClick:o[1]||(o[1]=(...N)=>e.zoomOut&&e.zoomOut(...N))}," + ")):G("",!0),e.currentTab=="liquidity"?(_(),B("div",{key:1,class:"zoom-in",onClick:o[2]||(o[2]=(...N)=>e.zoomIn&&e.zoomIn(...N))}," - ")):G("",!0)])]),a("div",sn,[a("div",un,[a("div",ln,[a("div",cn,[a("div",{class:"slider-ratio",style:et(e.sliderStyle(e.currentPriceTab))},vn,4)])]),a("div",mn,[(_(!0),B(_i,null,qi(e.priceTablList,N=>(_(),B("div",{key:N.key,class:Je(["price-tab-item",e.currentPriceTab==N.key?"price-tab-item-active":""]),onClick:Te=>e.priceTab(N)},[ue(h,{placement:"bottom","arrow-point-at-center":""},{title:ze(()=>[De(q(e.getPirceTabTips(N.key)),1)]),default:ze(()=>[a("img",{src:e.getPriceTabImage(N.key),alt:""},null,8,pn),a("span",null,q(e.getPriceTabText(N.key)),1)]),_:2},1024)],10,fn))),128))])]),a("div",gn,[a("div",bn,[a("div",kn,[hn,a("div",null,[a("span",null,q(e.poolInfo?e.direction&&!e.needReverse?("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.currentPrice,6)):("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(_(),B("span",Cn,q(e.direction&&!e.needReverse?`${(C=e.fromCoin)==null?void 0:C.symbol} per ${(r=e.toCoin)==null?void 0:r.symbol}`:`${(c=e.toCoin)==null?void 0:c.symbol} per ${(D=e.fromCoin)==null?void 0:D.symbol}`),1)):G("",!0)])]),a("div",yn,[e.currentTab=="liquidity"?(_(),B("div",{key:0,class:"zoom-out",onClick:o[3]||(o[3]=(...N)=>e.zoomOut&&e.zoomOut(...N))}," + ")):G("",!0),e.currentTab=="liquidity"?(_(),B("div",{key:1,class:"zoom-in",onClick:o[4]||(o[4]=(...N)=>e.zoomIn&&e.zoomIn(...N))}," - ")):G("",!0)])]),e.poolInfo?(_(),Fe(I,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direction,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,zoom:e.zoom,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","zoom","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):G("",!0)])]),a("div",Pn,[a("div",Sn,[a("div",wn,[e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(_(),B("div",Tn,[_n,a("span",In,q(e.aprRewardsParameter==7?"7D":e.aprRewardsParameter==24?"24H":"30D")+" Price Range",1),a("span",null,q(("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.before7dContractPriceLowest,6)))+" - "+q(("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.before7dContractPriceHighest,6))),1)])):G("",!0),a("div",Nn,[(_(!0),B(_i,null,qi(e.timeList,N=>(_(),B("div",{key:N.value,class:Je(["time-item",N.value==e.aprRewardsParameter?"time-item-active":""]),onClick:Te=>e.aprRewardsParameter=N.value},q(N.label),11,An))),128))])]),a("div",Ln,[a("span",null,q(("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.before7dContractPriceLowest,6)))+" - "+q(("addCommom"in e?e.addCommom:Y(ke))(("decimalUi"in e?e.decimalUi:Y(se))(e.before7dContractPriceHighest,6))),1)])])]),a("div",{class:Je(["apr-and-price",e.positionError&&e.poolInfo?"padding-apr-and-price":""])},[ue(d,{lever:e.lever},null,8,["lever"]),a("div",qn,[e.farmsPoolInfo&&!("checkNullObj"in e?e.checkNullObj:Y(ne))(e.farmsPoolInfo)&&e.fromCoin&&e.toCoin?(_(),B("div",$n,[a("span",null,[Mn,De(" Farm rewards rangeï¼š"+q(("decimalUi"in e?e.decimalUi:Y(se))(e.direction?e.farmsPoolInfo.minPrice:1/e.farmsPoolInfo.maxPrice,6))+" - "+q(("decimalUi"in e?e.decimalUi:Y(se))(e.direction?e.farmsPoolInfo.maxPrice:1/e.farmsPoolInfo.minPrice,6))+" "+q((W=e.toCoin)==null?void 0:W.symbol)+" per "+q((de=e.fromCoin)==null?void 0:de.symbol),1)]),a("div",Rn,[ue(j,{class:"range-alerts-switch",checked:e.isStableFarmingRange,onClick:o[5]||(o[5]=N=>e.isStableFarmingRange=!e.isStableFarmingRange)},null,8,["checked"])])])):G("",!0),e.farmsPoolInfo&&!("checkNullObj"in e?e.checkNullObj:Y(ne))(e.farmsPoolInfo)&&e.fromCoin&&e.toCoin?(_(),B("div",On,[Bn,a("div",Un,[De(q(("decimalUi"in e?e.decimalUi:Y(se))(e.direction?e.farmsPoolInfo.minPrice:1/e.farmsPoolInfo.maxPrice,6))+" - "+q(("decimalUi"in e?e.decimalUi:Y(se))(e.direction?e.farmsPoolInfo.maxPrice:1/e.farmsPoolInfo.minPrice,6))+" "+q((le=e.toCoin)==null?void 0:le.symbol)+" per "+q((ve=e.fromCoin)==null?void 0:ve.symbol)+" ",1),ue(j,{class:"range-alerts-switch",checked:e.isStableFarmingRange,onClick:o[6]||(o[6]=N=>e.isStableFarmingRange=!e.isStableFarmingRange)},null,8,["checked"])])])):G("",!0),ue(n,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direction,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice"]),e.positionError&&e.poolInfo?(_(),B("div",Fn,[a("img",{src:("importIcon"in e?e.importIcon:Y(fi))("/image/icon-tips-error@2x.png"),alt:""},null,8,jn),a("p",Dn,q(e.$t("tips.positionError")),1)])):G("",!0)])],2)])}const En=Qe(Xt,[["render",zn]]),Xn=Ye({components:{NewLiquidityTitle:zi,NewLiquidityAssetsCard:Ei,NewLiquidityDepositRatio:Xi},setup(){const{t:e,locale:o}=Ui(),M=ii(),$=y(()=>M),A=y(()=>$.value.chainName),U=Ai(),h=y(()=>U),I=dt(),d=y(()=>I),j=pi(),n=y(()=>{let t=null;for(const u in h.value.poolsObj){const v=h.value.poolsObj[u];v.address==j.query.poolAddress&&(t=v)}return console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:272 ~ constpoolInfo:any=computed ~ info:",t),t}),S=g(!1),H=g(!1),pe=y(()=>$.value.theme),we=async(t,u)=>{p.value=t.needReverse?t.token_b:t.token_a,m.value=t.needReverse?t.token_a:t.token_b,b.value="",k.value=""},C=y(()=>d.value.assets&&p.value&&d.value.assets[p.value.address]?Mi(d.value.assets[p.value.address].balance,p.value.decimals):"0"),r=y(()=>d.value.assets&&m.value&&d.value.assets[m.value.address]?Mi(d.value.assets[m.value.address].balance,m.value.decimals):"0"),c=t=>{t==="fromCoin"?(fe.value=!0,A.value==="Aptos"?b.value=Number(C.value)>0?p.value.symbol=="APT"?new s(Number(C.value)).sub(new s(.1)).lt(new s(0))?"0":new s(Number(C.value)).sub(new s(.1)).toString():String(C.value):"":b.value=Number(C.value)>0?p.value.symbol=="SUI"?new s(Number(C.value)).sub(new s(.05)).lt(new s(0))?"0":new s(Number(C.value)).sub(new s(.05)).toString():String(C.value):""):(fe.value=!1,A.value==="Aptos"?k.value=Number(r.value)>0?m.value.symbol=="APT"?new s(Number(r.value)).sub(new s(.1)).lt(new s(0))?"0":new s(Number(r.value)).sub(new s(.1)).toString():String(r.value):"":k.value=Number(r.value)>0?m.value.symbol=="SUI"?new s(Number(r.value)).sub(new s(.05)).lt(new s(0))?"0":new s(Number(r.value)).sub(new s(.05)).toString():String(r.value):"")},D=t=>{t==="fromCoin"?(fe.value=!0,b.value=Number(C.value)>0?Ii(new s(Number(C.value)).div(2).toString(),p.value.decimals).toString():""):(fe.value=!1,k.value=Number(r.value)>0?Ii(new s(Number(r.value)).div(2).toString(),m.value.decimals).toString():"")},W=g(),de=g(),le=g(),ve=g(!1),N=t=>{var u,v,Z,R;W.value=t,t==="fromCoin"?(de.value=((u=m.value)==null?void 0:u.address)||"",le.value=j.query.actions=="new-position"?(v=p.value)==null?void 0:v.address:n.value.needReverse?n.value.token_b.address:n.value.token_a.address):(de.value=((Z=p.value)==null?void 0:Z.address)||"",le.value=j.query.actions=="new-position"?(R=m.value)==null?void 0:R.address:n.value.needReverse?n.value.token_a.address:n.value.token_b.address),ve.value=!0},Te=t=>{var Z,R,ae,re,V,ee,ie,me;const u=n.value.needReverse?n.value.token_b:n.value.token_a,v=n.value.needReverse?n.value.token_a:n.value.token_b;W.value==="fromCoin"?(((Z=p.value)==null?void 0:Z.address)===(u==null?void 0:u.address)||!((R=p.value)!=null&&R.address)?(m.value&&t.address.toLowerCase()===((ae=m)==null?void 0:ae.value.address.toLowerCase())&&(m.value=null),p.value=t):(p.value&&t.address.toLowerCase()===((re=p)==null?void 0:re.value.address.toLowerCase())&&(p.value=null),m.value=t),j.query.action||(j.query.fee="")):((V=m.value)==null?void 0:V.address)===(v==null?void 0:v.address)||!((ee=m.value)!=null&&ee.address)?(p.value&&t.address.toLowerCase()===((ie=p)==null?void 0:ie.value.address.toLowerCase())&&(p.value=null),m.value=t):(m.value&&t.address.toLowerCase()===((me=m)==null?void 0:me.value.address.toLowerCase())&&(m.value=null),p.value=t),ve.value=!1},w=y(()=>$.value.chainName?Ni($.value.chainName):{}),oe=y(()=>$.value.slippage),Ce=g(),Ne=async()=>{var _e,be,ye,Re;if(Le.value||!P.value&&!f.value)return!1;if(!b.value&&!k.value&&!P.value&&!f.value)return;const t=n.value||{};if(ne(t))return;const{TickUtil:u,TickMath:v,getNearestTickByTick:Z}=w.value,R=t==null?void 0:t.token_a.decimals,ae=t==null?void 0:t.token_b.decimals;let re,V,ee,ie,me,ge,qe,Ue,x=t==null?void 0:t.current_tick_index;if(!x)return;let X;if(t.token_a.address.toLowerCase()===p.value.address.toLowerCase()&&t.token_b.address.toLowerCase()===m.value.address.toLowerCase()?X=!0:X=!1,P.value==="0"&&f.value==="âˆž")ee=u.getMinIndex(Number(t.tickSpacing)),ie=u.getMaxIndex(Number(t.tickSpacing)),me=v.tickIndexToSqrtPriceX64(ee),ge=v.tickIndexToSqrtPriceX64(ie);else if(O.value=="custom"){X?(re=P.value,V=f.value):(re=f.value!=="âˆž"?new s(1).div(f.value).toString():1/0,V=new s(1).div(P.value).toString());try{qe=new s(re).equals(new s(0))?-443636:v.priceToTickIndex(new s(re),R,ae)}catch{qe=-443636}try{Ue=v.priceToTickIndex(new s(V),R,ae)}catch{Ue=443636}ee=Z(qe,Number(t.tickSpacing),!0),ie=Z(Ue,Number(t.tickSpacing),!0);try{me=v.priceToSqrtPriceX64(new s(re),R,ae)}catch{(V===1/0||V==="âˆž")&&(me=v.tickIndexToSqrtPriceX64(u.getMinIndex(Number(t.tickSpacing))))}try{ge=v.priceToSqrtPriceX64(new s(V),R,ae)}catch{(V===1/0||V==="âˆž")&&(ge=v.tickIndexToSqrtPriceX64(u.getMaxIndex(Number(t.tickSpacing))))}}else ee=(_e=je.value[O.value])==null?void 0:_e.lower,ie=(be=je.value[O.value])==null?void 0:be.upper,me=v.tickIndexToSqrtPriceX64(ee),ge=v.tickIndexToSqrtPriceX64(ie);if(f.value!=="âˆž"&&ee>=ie){console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:639 ~ updateAmounts ~",f.value!=="âˆž"&&ee>=ie),S.value=!0,b.value="",H.value=!0,k.value="";return}if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:708 ~ updateAmounts ~ currentTickIndex:",x),f.value==="âˆž"||x>=ee&&x<ie){S.value=!1,H.value=!1;let K;if(b.value||k.value){if(fe.value){const Pi=new s(b.value).mul(Math.pow(10,p.value.decimals)).toString();K=new Ie(Pi)}else{const Pi=new s(k.value).mul(Math.pow(10,m.value.decimals)).toString();K=new Ie(Pi)}v.tickIndexToSqrtPriceX64(n.value.current_tick_index);const{liquidityAmount:Pe,tokenMaxA:Oe,tokenMaxB:di,tokenMaxAOrigin:Ki,tokenMaxBOrigin:Gi}=w.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:t.token_a,tokenB:t.token_b,lowerTick:ee,upperTick:ie,coinAmount:K,iscoinA:X?fe.value:!fe.value,roundUp:!0,slippage:Number(oe.value)/100,curSqrtPrice:new Ie(n.value.current_sqrt_price)});Ce.value={liquidityAmount:Pe,tokenMaxA:Oe,tokenMaxB:di,tokenMaxAOrigin:Ki,tokenMaxBOrigin:Gi},X?fe.value?k.value=Number(di)>0?di:"":b.value=Number(Oe)>0?Oe:"":fe.value?k.value=Oe:b.value=di}}else if(x>=ie){if(X?b.value="":k.value="",S.value=X,H.value=!X,b.value||k.value){let K;if(X){const Pe=new s(k.value).mul(Math.pow(10,(ye=m.value)==null?void 0:ye.decimals)).toString();K=new Ie(Pe),Ce.value={liquidityAmount:w.value.estimateLiquidityForCoinB(me,ge,K),tokenMaxA:0,tokenMaxB:k.value}}else{const Pe=new s(b.value).mul(Math.pow(10,(Re=p.value)==null?void 0:Re.decimals)).toString();K=new Ie(Pe),Ce.value={liquidityAmount:w.value.estimateLiquidityForCoinB(me,ge,K),tokenMaxA:0,tokenMaxB:b.value}}}}else if(x<ee){if(S.value=!X,H.value=X,X?k.value="":b.value="",b.value||k.value){let K;if(X){const Pe=new s(b.value).mul(Math.pow(10,p.value.decimals)).toString();K=new Ie(Pe),Ce.value={liquidityAmount:w.value.estimateLiquidityForCoinA(me,ge,K),tokenMaxA:b.value,tokenMaxB:0}}else{const Pe=new s(k.value).mul(Math.pow(10,m.value.decimals)).toString();K=new Ie(Pe),Ce.value={liquidityAmount:w.value.estimateLiquidityForCoinA(me,ge,K),tokenMaxA:k.value,tokenMaxB:0}}}}else S.value=!0,console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:783 ~ updateAmounts ~ showFromCoinLock.value:",S.value),b.value="",H.value=!0,k.value=""};E(()=>n.value,(t,u)=>{(!u&&t&&!ne(t)||u&&t&&u.address!==t.address)&&we(t,!u||t.address!==u.address),t&&!ne(t)&&Ne()},{immediate:!0}),E(b,(t,u)=>{t==""&&fe.value&&(k.value=""),t&&fe.value&&!Le.value&&Ne()}),E(k,(t,u)=>{t==""&&!fe.value&&(b.value=""),t&&!fe.value&&!Le.value&&Ne()}),E(()=>te.value,(t,u)=>{Ne()}),E(()=>[p.value,m.value],([t,u])=>{t&&u&&(S.value=!1,H.value=!1)});const F=g("--"),Q=y(()=>h.value.RATES),gi=()=>{const t=Q.value&&Q.value[p.value.address]&&Q.value[p.value.address].price,u=Q.value&&Q.value[m.value.address]&&Q.value[m.value.address].price;if(t&&u){const v=new s(b.value>0?b.value:0).mul(t),Z=new s(k.value>0?k.value:0).mul(u),R=v.add(Z).toNumber();F.value=R>0&&R<.01?"<$0.01":"$"+ke(R,2)}else F.value="--"};E(()=>[b.value,k.value,Le.value],([t,u,v])=>{(t||u)&&!v?gi():(!t||!u)&&!v&&(F.value="--")},{immediate:!0});const ti=g(),ni=async()=>{var X,_e;if(!P.value&&!f.value)return!1;if(!b.value&&!k.value&&!P.value&&!f.value)return;const t=n.value;if(ne(t))return;const{TickUtil:u,TickMath:v,getNearestTickByTick:Z}=w.value,R=t==null?void 0:t.token_a.decimals,ae=t==null?void 0:t.token_b.decimals;let re,V,ee,ie,me,ge,qe;if(t.token_a.address.toLowerCase()===p.value.address.toLowerCase()&&t.token_b.address.toLowerCase()===m.value.address.toLowerCase()?qe=!0:qe=!1,P.value==="0"&&f.value==="âˆž")ee=u.getMinIndex(Number(t.tickSpacing)),ie=u.getMaxIndex(Number(t.tickSpacing));else if(O.value=="custom"){qe?(re=Number(P.value),V=Number(f.value)):(re=new s(1).div(f.value).toString(),V=new s(1).div(P.value).toString());try{me=re==0?-443636:v.priceToTickIndex(new s(re),R,ae)}catch{me=-443636}try{ge=v.priceToTickIndex(new s(V),R,ae)}catch{ge=443636}ee=Z(me,Number(t.tickSpacing),!0),ie=Z(ge,Number(t.tickSpacing),!0)}else ee=(X=je.value[O.value])==null?void 0:X.lower,ie=(_e=je.value[O.value])==null?void 0:_e.upper;const Ue=Q.value[t==null?void 0:t.token_a.address].price,x=Q.value[t==null?void 0:t.token_b.address].price;te.value?new Ie(t.current_sqrt_price):new Ie(1/t.current_sqrt_price);try{const{amountA:be,amountB:ye,tokenAmountsInfo:Re}=await w.value.estCoinAmountsFromTotalAmount({lowerTick:ee,upperTick:ie,decimalsA:R,decimalsB:ae,curSqrtPrice:new Ie(t.current_sqrt_price),totalAmount:F.value.replace(/[^\d.]/g,""),tokenPriceA:Ue,tokenPriceB:x});ti.value=Re,t.needReverse?te.value?(b.value=be,k.value=ye):(b.value=ye,k.value=be):(b.value=be,k.value=ye)}catch(be){console.log(be,"e===>")}};E([P,f],([t,u])=>{Le.value?Le.value&&ni():Ne(),u!=="âˆž"&&Number(t)!==0&&Number(u)!==0&&Number(t)>=Number(u)?Ge.value=!0:Ge.value=!1,Number(t)==0&&Number(u)==0&&ei.value&&(Ge.value=!0)},{deep:!0,immediate:!0});const bi=t=>{const u=t.replace(/[^\d.]/g,""),v="$"+ke(u);Le.value=!0,F.value=v,u>0?ni():(b.value="",k.value="")},oi=g(!1),{setTransactionTxid:ai,setTransactionDesc:ki,setIsShowWaiting:Ee,setIsShowSuccess:ri,setPositiomNum:hi,setIsShowRejected:si}=M,ui=gt(),J=y(()=>h.value.currentPositionInfo),li=g(!1),Be=g(!0),i=Li(),l=y(()=>i),T=y(()=>l.value.farmsPoolObj);E(()=>[T.value,n.value],([t,u])=>{t&&!ne(t)&&u&&!ne(u)&&(t[u.address]||(Be.value=!1))},{immediate:!0});const L=g(),z=g(),ce=t=>{L.value=t,t?Be.value=!0:Be.value=!1},he=async(t,u,v,Z)=>{try{u=="farming"?await h.value.setCurrentPositionInfo("","","","Sui",v,"farming"):await h.value.setCurrentPositionInfo(t,"","",A.value,Z),await lt(3e3),Be.value?await ui.subscribePosition({pool_address:J.value.clmm_pool_id,position_index:J.value.name.split("-")[1]},J.value.clmm_position_id):await ui.subscribePosition({pool_address:J.value.poolAddress,position_index:J.value.index},J.value.nftHash)}catch(R){console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:1151 ~ notifiSubscribePosition ~ error:",R)}},$e=async t=>{var me,ge,qe,Ue;oi.value=!1,h.value.currentPositionInfo={},ai(""),ki(e("tips.increaseLiquiditySuccess",{from:S.value?"":`${ke(b.value)} ${(me=p.value)==null?void 0:me.symbol}`,and:!S.value&&!H.value?"and":"",to:H.value?"":`${ke(k.value)} ${(ge=m.value)==null?void 0:ge.symbol}`})),Ee(!0);const u=te.value?fe.value:!fe.value;let v,Z,R,ae,re,V;const ee=n.value.token_a.decimals,ie=n.value.token_b.decimals;if(P.value==="0"&&f.value==="âˆž")R=w.value.TickUtil.getMinIndex(Number(n.value.tickSpacing)),ae=w.value.TickUtil.getMaxIndex(Number(n.value.tickSpacing));else if(O.value=="custom"){te.value?(v=P.value,Z=f.value):(v=new s(1).div(f.value).toString(),Z=new s(1).div(P.value).toString());try{re=v==0?w.value.TickUtil.getMinIndex(Number(n.value.tickSpacing)):w.value.TickMath.priceToTickIndex(new s(v),ee,ie)}catch{re=w.value.TickUtil.getMinIndex(Number(n.value.tickSpacing))}try{V=w.value.TickMath.priceToTickIndex(new s(Z),ee,ie)}catch{V=w.value.TickUtil.getMaxIndex(Number(n.value.tickSpacing))}R=w.value.getNearestTickByTick(re,Number(n.value.tickSpacing),!0),ae=w.value.getNearestTickByTick(V,Number(n.value.tickSpacing),!0)}else R=je.value[O.value].lower,ae=je.value[O.value].upper;try{let x;Le.value?x=await w.value.getCreateAddLiquidityPayload({pool:n.value,curSqrtPrice:new Ie(n.value.current_sqrt_price),tickLower:R,tickUpper:ae,slippage:Number(oe.value)/100,tokenAmounts:ti.value}):x=await w.value.getAddLiquidityTransactionPayload({pool:{poolAddress:n.value.poolAddress,token_a:n.value.token_a,token_b:n.value.token_b},amount:fe.value?b.value:k.value,fix_amount_a:u,tick_lower:R,tick_upper:ae,index:0,slippage:Number(oe.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new Ie(n.value.current_sqrt_price),farmPoolInfo:L.value});let X;if(A.value==="Aptos")X=await d.value.currentWallet.signAndSubmitTransaction(x);else{const _e=await w.value.signAndExecuteTransactionBlock(d.value.currentWallet,x==null?void 0:x.txb,x==null?void 0:x.payloadParams);X=w.value.handleTx(_e)}if(console.log("0410###tx###",X),X&&X.hash){ai(X.hash),Ee(!1),ri(!0);let _e;n.value.needReverse?n.value.token_a.address.toLowerCase()===p.value.address.toLowerCase()&&n.value.token_b.address.toLowerCase()===m.value.address.toLowerCase()?_e=!1:_e=!0:n.value.token_a.address.toLowerCase()===p.value.address.toLowerCase()&&n.value.token_b.address.toLowerCase()===m.value.address.toLowerCase()?_e=!0:_e=!1;const be={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:S.value?"":`${ke(b.value)} ${(qe=p.value)==null?void 0:qe.symbol}`,and:!S.value&&!H.value?"and":"",to:H.value?"":`${ke(k.value)} ${(Ue=m.value)==null?void 0:Ue.symbol}`}),hash:X.hash,tit:"Position Created",icon:"icon-icon-Position-Created"};A.value!=="Aptos"&&(be.res=X.res),w.value.showTransitionPending(be),console.log(be,"toAdd params###");const ye=await w.value.watchTransaction(be,!0);if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:1295 ~ toAdd ~ watchInfo:",ye),ye.status){ri(!1),h.value.setCurrentPositionLoading(!0);let Re,K;A.value==="Aptos"?z.value={token_a:n.value.token_a,token_b:n.value.token_b,minPrice:P.value,maxPrice:f.value,pool:n.value.address,collection:ye.nftInfo[0].data.id.collection,tokenName:ye.nftInfo[0].data.name}:(K=ye.nftInfo,console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:1319 ~ toAdd ~ nftInfo:",K),Be.value?(ye.res.events.forEach(Oe=>{Oe.type.indexOf("::pool::DepositEvent")>-1&&(Re=Oe.parsedJson.wrapped_position_id)}),z.value={token_a:n.value.needReverse?n.value.token_b:n.value.token_a,token_b:n.value.needReverse?n.value.token_a:n.value.token_b,minPrice:P.value,maxPrice:f.value,id:Re,clmm_pool_id:n.value.address,pool:n.value.address}):z.value={token_a:n.value.needReverse?n.value.token_b:n.value.token_a,token_b:n.value.needReverse?n.value.token_a:n.value.token_b,minPrice:P.value,maxPrice:f.value,pos_object_id:K.position,pool:n.value.address},console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:1389 ~ toAdd ~ positionInfoDetail:",z.value)),li.value=!0;const Pe=n.value.poolAddress;setTimeout(()=>{if(t){const Oe=Re?"farming":"clmm";console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:1400 ~ setTimeout ~ poolInfo.value.poolAddress:",Pe),he(Pe,Oe,Re,K==null?void 0:K.position)}},3e3),setTimeout(()=>{U.updateCurrentPools(Pe,A.value),w.value.getAccount(d.value.address)},3e3),setTimeout(async()=>{$i(w,n)},7e3)}hi()}else Ee(!1),si(!0);b.value="",k.value=""}catch(x){b.value="",k.value="",console.log("0330###Add liquidity Error###",x),Ee(!1),si(!0)}},Xe=y(()=>!!(!b.value&&!k.value||Number(b.value)>Number(C.value)||Number(k.value)>Number(r.value)||Ae.value!==e("button.addLiquidity")&&Ae.value!==e("newAdd.preview")||n.value&&n.value&&n.value.is_pause||Number(b.value)<=0&&Number(k.value)<=0||!S.value&&Number(b.value)==0||!H.value&&Number(k.value)==0)),He=y(()=>!p.value||!m.value),Ae=y(()=>n.value&&n.value.is_pause?"Pool Closed":!p.value||!m.value||He.value?e("modal.selectTokenModalTitle"):Number(b.value)>Number(C.value)?e("button.insufficientBalance",{name:p.value.symbol}):Number(k.value)>Number(r.value)?e("button.insufficientBalance",{name:m.value.symbol}):!Number(b.value)&&!Number(k.value)?e("button.enterAmount"):f.value!=="âˆž"&&Number(P.value)>=Number(f.value)?e("newAdd.invalidRange"):e("button.addLiquidity")),Me=g({}),Ze=g({}),Ve=g(!1),We=(t,u)=>{const v=localStorage.getItem(t.address);console.log("ðŸš€ðŸš€ðŸš€ ~ file: new-liquidity-right.vue:1518 ~ getTokenSource ~ coinLocak:",v,t),t!=null&&t.isSelfBuilt&&!v&&(u=="fromCoin"&&(Me.value=t),u=="toCoin"&&(Ze.value=t),Ve.value=!0)};E(()=>[p.value,m.value],([t,u])=>{t&&!ne(t)&&We(t,"fromCoin"),u&&!ne(u)&&We(u,"toCoin")},{immediate:!0});const xe=tt(),Ci=()=>{A.value!=="Aptos"?xe.push("/pool/list"):xe.push("/pools")},ci=t=>{Le.value,$e(t)},yi=()=>{j.query.action!=="create-pool"&&j.query.actions!=="new-position"&&($i(w,n),Ne(),d.value.address&&w.value.getAccount(d.value.address),U.updateCurrentPools(n.value.poolAddress,A.value)),U.setPoolConfigList(A.value,$.value.filterCoinsObj)},Wi=y(()=>{var v,Z,R,ae,re,V;const t=(R=Q.value[(Z=(v=p)==null?void 0:v.value)==null?void 0:Z.address])==null?void 0:R.price,u=(V=Q.value[(re=(ae=m)==null?void 0:ae.value)==null?void 0:re.address])==null?void 0:V.price;return!!(t&&u)});return E(()=>[j,h.value.tokensObj],([t,u])=>{var v;u&&!ne(u)&&(m.value||(m.value=h.value.tokensObj[(v=t==null?void 0:t.query)==null?void 0:v.toCoin]))},{immediate:!0,deep:!0}),{positionError:Ge,decimalUi:se,poolInfo:n,fromCoinAmount:b,toCoinAmount:k,fromCoin:p,toCoin:m,theme:pe,showFromCoinLock:S,showToCoinLock:H,fromCoinBlance:C,toCoinBlance:r,maxBtnSelect:c,halfBtnSelect:D,fixedFromCoin:fe,openCoinSelect:N,currentCoinKey:W,existingCoins:de,lastSelectCoin:le,showCoinSelect:ve,onCoinSelect:Te,liquidityTotalAmount:F,toggle:ji,onInput:bi,isInputTotalAmount:Le,isViewDetail:li,addLiquidityBtnDisabled:Xe,addLiquidityBtnText:Ae,isShowTokenWarning:Ve,chainName:A,closeTokenWarning:Ci,warningFromCoin:Me,warningToCoin:Ze,isShowLiquidityModal:oi,currentPrice:ei,currentPriceReverse:mi,currentPriceTab:O,minPrice:P,maxPrice:f,toAdd:$e,direction:te,wallet:d,getAddLiquidityType:ci,clickRefresh:yi,isShowtotalAmount:Wi,isAutoStakeFarming:Be,farmPoolInfo:L,getFarmsPoolInfo:ce,positionInfoDetail:z,getTokenSource:We}}});const Hn={class:"new-liquidity-right"},Wn={class:"deposit-title"},Kn={class:"card-container"},Gn={key:0,class:"lock"},Jn={class:"card-item"},Yn={class:"card-item"},Qn={key:0,class:"total-amount"},Zn=a("span",null,"Total Amount",-1);function Vn(e,o,M,$,A,U){const h=zi,I=ut,d=Ei,j=vt,n=Xi,S=Oi,H=mt,pe=ft,we=pt,C=at;return _(),B("div",Hn,[a("div",Wn,[ue(h,{"pool-info":e.poolInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"])]),a("div",Kn,[e.positionError?(_(),B("div",Gn,[ue(I)])):G("",!0),a("div",Jn,[ue(d,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":o[0]||(o[0]=r=>e.fromCoinAmount=r),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:o[1]||(o[1]=r=>e.maxBtnSelect("fromCoin")),onOnHalf:o[2]||(o[2]=r=>e.halfBtnSelect("fromCoin")),onOnInput:o[3]||(o[3]=r=>{e.fromCoinAmount=r,e.fixedFromCoin=!0,e.isInputTotalAmount=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.positionError?(_(),Fe(j,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):G("",!0)]),a("div",Yn,[ue(d,{modelValue:e.toCoinAmount,"onUpdate:modelValue":o[4]||(o[4]=r=>e.toCoinAmount=r),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:o[5]||(o[5]=r=>e.maxBtnSelect("toCoin")),onOnHalf:o[6]||(o[6]=r=>e.halfBtnSelect("toCoin")),onOnInput:o[7]||(o[7]=r=>{e.toCoinAmount=r,e.fixedFromCoin=!1,e.isInputTotalAmount=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.positionError?(_(),Fe(j,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):G("",!0)]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme=="default"?(_(),B("img",{key:1,class:"add",src:bt,alt:"",onClick:o[8]||(o[8]=(...r)=>e.toggle&&e.toggle(...r))})):G("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(_(),B("img",{key:2,class:"add",src:kt,alt:"",onClick:o[9]||(o[9]=(...r)=>e.toggle&&e.toggle(...r))})):G("",!0)]),e.isShowtotalAmount?(_(),B("div",Qn,[Zn,a("span",null,q(e.liquidityTotalAmount),1)])):G("",!0),ue(n,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.currentPriceTab,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"]),ue(S,{class:"add-liquidity-btn",disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,onClick:o[10]||(o[10]=r=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:ze(()=>[De(q(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),e.showCoinSelect?(_(),Fe(H,{key:1,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:o[11]||(o[11]=r=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):G("",!0),e.isViewDetail?(_(),Fe(pe,{key:2,"pool-info":e.poolInfo,"farm-pool-info":e.farmPoolInfo,"position-info":e.positionInfoDetail,"is-auto-stake-farming":e.isAutoStakeFarming,onOnClose:o[12]||(o[12]=r=>e.isViewDetail=!1)},null,8,["pool-info","farm-pool-info","position-info","is-auto-stake-farming"])):G("",!0),e.isShowLiquidityModal?(_(),Fe(we,{key:3,"pool-info":e.poolInfo,title:e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,onToAdd:e.getAddLiquidityType,onOnClose:o[13]||(o[13]=r=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onToAdd"])):G("",!0),e.chainName=="Sui"?(_(),Fe(C,{key:4,"pool-info":e.poolInfo,"is-active":!e.showFromCoinLock&&!e.showToCoinLock,"is-auto-stake-farming":e.isAutoStakeFarming,onSendFarmsPoolInfo:e.getFarmsPoolInfo},null,8,["pool-info","is-active","is-auto-stake-farming","onSendFarmsPoolInfo"])):G("",!0)])}const xn=Qe(Xn,[["render",Vn]]),eo=Ye({components:{SuiLiquidityLeft:En,SuiLiquidityRight:xn},setup(){const e=Li(),o=y(()=>e),M=y(()=>o.value.farmsPoolObj);Fi(()=>{ot(),U.setPoolsLoading(!0)}),E(()=>M.value,h=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: deposit.vue:41 ~ watch ~ newVal:",h),h&&ne(h)&&e.getFarmsPoolList(!0)},{immediate:!0});const $=pi(),A=ii();y(()=>A);const U=Ai();return{tickList:Ke,route:$}}});const io={key:0,class:"loading-spin-liquidity loading-global"},to={class:"privide-liquidity"};function no(e,o,M,$,A,U){var j,n;const h=nt,I=Ti("SuiLiquidityLeft"),d=Ti("SuiLiquidityRight");return _(),B(_i,null,[!e.tickList&&((n=(j=e.route)==null?void 0:j.query)!=null&&n.poolAddress)?(_(),B("div",io,[ue(h)])):G("",!0),a("div",to,[ue(I),ue(d)])],64)}const Wo=Qe(eo,[["render",no],["__scopeId","data-v-16d7ae91"]]);export{Wo as default};
