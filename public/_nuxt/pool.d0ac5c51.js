import{_ as Se}from"./nuxt-link.976d8e5d.js";import{_ as Le}from"./no-data.b81d0f9e.js";import{a as N,e as U,o as c,f as g,p as oe,k as te,h as o,i as v,X as Ce,Y as Re,m as k,M as G,J as me,x as T,v as I,u as P,c as J,r as h,G as le,z as se,F as _e,s as ve,w as B,j as ie,B as fe,Z as we,P as Ae,l as Be,b as qe,y as Te,W as Pe,a7 as ze,Q as De,a8 as Ue}from"./entry.17136172.js";import{g as Z,u as ue,i as Oe,A as ge,d as ne,c as ae}from"./index.0a5fc01d.js";import{u as Q,b as ye}from"./pool.9a5cddd3.js";import"./index.e0495629.js";import{C as Ne}from"./coin-img.8f599e70.js";import{_ as Fe}from"./icon-selected_3x.09e9a6f0.js";/* empty css              *//* empty css              *//* empty css              */import"./decimal.0bdeb344.js";const Me=N({props:{},setup(e){return{}}});const re=e=>(oe("data-v-5037ea79"),e=e(),te(),e),Ee={class:"text-box"},Ve=re(()=>o("p",null," Token teams can permanently lock liquidity. The NFT representing your position is sent to a locked token account. Fees will still be claimable. ",-1)),je=re(()=>o("p",null," To start, select a CLMM position below to lock. Ensure that position value and NFT mint match the position you want to lock! ",-1)),We=re(()=>o("p",null," Note: Technically, your NFT is not burned but permanently locked. ",-1)),Ke=[Ve,je,We];function Ye(e,u,_,p,l,s){return c(),g("div",Ee,Ke)}const Ze=U(Me,[["render",Ye],["__scopeId","data-v-5037ea79"]]);const Ge={},Je={class:"loading-item full-range-item"},Qe={class:"item-top"},Xe={class:"token-info"},He={class:"logo-box"},xe={class:"label-name-fee"},eo={class:"liquidity-usd"};function oo(e,u){const _=Ce,p=Re;return c(),g("div",Je,[o("div",Qe,[o("div",Xe,[o("div",He,[v(_,{active:"",size:"large",paragraph:!1,class:"upgrade-avatar-skeleton"}),v(_,{active:"",size:"large",paragraph:!1,class:"upgrade-avatar-skeleton"}),o("div",xe,[v(p,{class:"upgrade-text-skeleton",active:"",paragraph:!1})])])])]),o("div",eo,[v(p,{active:"",paragraph:!1})])])}const to=U(Ge,[["render",oo],["__scopeId","data-v-7b5aa4c3"]]),no=N({components:{CoinImg:Ne},props:{token:{type:Object,default:()=>({})},logoSize:{type:String,default:"32px"},warnSize:{type:String,default:"14px"}},setup(e,u){const _=Q(),p=k(()=>_);return{getCoinIcon:s=>{var d;return(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((d=p.value.tokensObj[s==null?void 0:s.address])==null?void 0:d.logo_url)}}}});function so(e,u,_,p,l,s){var t;const d=G("CoinImg");return c(),g("div",{class:"token-item",style:me({width:e.logoSize,height:e.logoSize})},[v(d,{size:e.logoSize,url:e.getCoinIcon(e.token)},null,8,["size","url"]),(t=e.token)!=null&&t.isSelfBuilt?(c(),g("div",{key:0,style:me({width:e.warnSize,height:e.warnSize}),class:"token-warning"},null,4)):T("",!0)],4)}const ce=U(no,[["render",so],["__scopeId","data-v-5391700d"]]),ao=N({components:{TokenLogoWarning:ce},props:{pItem:{type:Object,default:()=>({})}},setup(e,u){const _=Q(),p=k(()=>_),l=t=>{var a;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((a=p.value.tokensObj[t==null?void 0:t.address])==null?void 0:a.logo_url)},s=k(()=>{var t,a,n;return(t=e.pItem)!=null&&t.needReverse?(n=e.pItem)==null?void 0:n.coinB:(a=e.pItem)==null?void 0:a.coinA}),d=k(()=>{var t,a,n;return(t=e.pItem)!=null&&t.needReverse?(n=e.pItem)==null?void 0:n.coinA:(a=e.pItem)==null?void 0:a.coinB});return{tokenA:s,tokenB:d,getCoinIcon:l}}});const lo={class:"pos-info"},io={class:"logo-box"},co={class:"label-name-fee"},uo={class:"name-fee"},ro={class:"name"},po={class:"fee"},mo={class:"label"};function _o(e,u,_,p,l,s){var t,a,n,f;const d=G("TokenLogoWarning");return c(),g("div",lo,[o("div",io,[v(d,{token:e.tokenA},null,8,["token"]),v(d,{token:e.tokenB},null,8,["token"])]),o("div",co,[o("div",uo,[o("div",ro,I((t=e.tokenA)==null?void 0:t.symbol)+" - "+I((a=e.tokenB)==null?void 0:a.symbol),1),o("div",po,I(e.pItem.fee*100)+"%",1)]),o("div",mo,I((n=e.tokenA)==null?void 0:n.name)+" - "+I((f=e.tokenB)==null?void 0:f.name),1)])])}const he=U(ao,[["render",_o],["__scopeId","data-v-86783f40"]]),vo=N({components:{PosInfo:he,FullRangeItemLoading:to},props:{pItem:{type:Object,default:()=>({})},isSelected:{type:Boolean,default:!1}},setup(e,u){const _=Q(),p=k(()=>_),l=d=>{u.emit("clickItemRadio",d)};return{loading:k(()=>p.value.myPositionsLoading),clickRadio:l}}});const go=e=>(oe("data-v-1e381fd5"),e=e(),te(),e),ko={key:0,class:"full-range-item"},fo={class:"item-top"},yo={key:0,src:Fe},ho={class:"pos-name"},$o={class:"liquidity-usd"},Io=go(()=>o("div",{class:"left"},"Liquidity",-1)),bo={class:"right"};function So(e,u,_,p,l,s){var a,n,f,$,C,r;const d=G("PosInfo"),t=G("FullRangeItemLoading");return e.loading?(c(),J(t,{key:1})):(c(),g("div",ko,[o("div",fo,[v(d,{"p-item":e.pItem},null,8,["p-item"]),o("div",{class:"radio",onClick:u[0]||(u[0]=()=>e.clickRadio(e.pItem))},[e.isSelected?(c(),g("img",yo)):T("",!0)])]),o("div",ho,I((a=e.pItem)==null?void 0:a.name),1),o("div",$o,[Io,o("div",bo,"$"+I(!((n=e.pItem)!=null&&n.amountUSD)||((f=e.pItem)==null?void 0:f.amountUSD)=="--"?"--":Number(($=e.pItem)==null?void 0:$.amountUSD)==0?0:Number((C=e.pItem)==null?void 0:C.amountUSD)<.01?"<0.01":("addCommom"in e?e.addCommom:P(Z))((r=e.pItem)==null?void 0:r.amountUSD,2)),1)])]))}const ke=U(vo,[["render",So],["__scopeId","data-v-1e381fd5"]]),Lo=e=>(oe("data-v-8adf9b67"),e=e(),te(),e),Co={class:"select-lock-content"},Ro={key:0,class:"no-data-box"},wo={key:1,class:"no-liquidity"},Ao=Lo(()=>o("div",{class:"desc"},"Burn/Lock Liquidity only available for Full-range position",-1)),Bo={key:0},qo={key:2,class:"action-btn"},To=N({__name:"select-lock-content",props:{isLockLiquidity:{type:Boolean,default:!1}},emits:["clickLock","cancel"],setup(e,{emit:u}){const _=ue(),p=k(()=>_),l=Q(),s=k(()=>l),d=k(()=>s.value.myPositionsLoading),t=h([]),a=h(null),n=r=>{var m;((m=a==null?void 0:a.value)==null?void 0:m.name)==(r==null?void 0:r.name)?(a.value=null,t.value=[]):(a.value=r,t.value.push(r==null?void 0:r.name)),console.log("ðŸš€ ~ clickItemRadio ~  posSelectList.value:",t.value)},f=ye(),$=k(()=>f),C=h();return le(()=>[s.value.myPositionsLoading,s.value.myPositions,p.value.address,s.value.poolConfigList,s.value.poolsObj,$.value.chainName],([r,m,w,i,R,b])=>{var S,y,A;!r&&m&&m.length>0||w&&i&&i.length>0&&b&&(b!=null&&b.toLowerCase().includes((S=i[0])==null?void 0:S.chain))&&!Oe(R)&&((A=(y=Object.values(R)[0])==null?void 0:y.chain)!=null&&A.includes("sui"))&&(console.log(R,i,"poolsVal, newpoolConfigList"),l.getMyPositons(p.value.address,R,b))},{immediate:!0,deep:!0}),le(()=>[s.value.myPositions,s.value.RATES],([r,m])=>{let w=[];r&&m&&(console.log("newValue && RATES",r,m),s.value.myPositions.forEach(i=>{var S,y,A,q,F,M,E,V;const R=ge.getMinIndex(i.tickSpacing),b=ge.getMaxIndex(i.tickSpacing);if(R==i.tick_lower_index&&b==i.tick_upper_index){console.log("ðŸš€ ~ pools.value.myPositions.forEach ~ ele:",i);let j=i.positionSource=="farming",z,O;const W=ne(i.amountA).mul(((y=(S=s.value.RATES)==null?void 0:S[i.token_a.address])==null?void 0:y.price)||"0").toString(),K=ne(i.amountB).mul(((q=(A=s.value.RATES)==null?void 0:A[i.token_b.address])==null?void 0:q.price)||"0").toString();console.log("ðŸš€ ~ pools.value.myPositions.forEach ~ ele.token_a.address:",W,K),(M=(F=s.value.RATES)==null?void 0:F[i.token_a.address])!=null&&M.price&&((V=(E=s.value.RATES)==null?void 0:E[i.token_b.address])!=null&&V.price)?(z=ne(W).plus(K).toString(),O=ne(W).plus(K).toString()):(z=" --",O=0),console.log("ðŸš€ ~ pools.value.myPositions.forEach ~ amountUSD:",z),w.push({...i,amountUSD:z,amountUSDOrigin:O,tokenARates:i!=null&&i.needReverse?K:W,tokenBRates:i!=null&&i.needReverse?W:K,isStableFarming:j})}}),console.log("ðŸš€ ~ newResult:",w),C.value=w)},{immediate:!0}),(r,m)=>{var R,b,S;const w=Le,i=fe;return c(),g("div",Co,[v(Ze),!p.value.address||!d.value&&C.value&&((R=C.value)==null?void 0:R.length)==0?(c(),g("div",Ro,[p.value.address?(c(),g("div",wo,[(c(),J(w,{key:0,"no-data-img":"/sui-image/img-no-Positions@2x.png",desc:"No Available Liquidity"})),Ao])):(c(),J(w,{key:0,"no-data-img":"/sui-image/img-connect-wallet@2x.png",type:"connectWallet"}))])):(c(),g("div",{key:1,class:se(["list-box",d.value||C.value&&((b=C.value)==null?void 0:b.length)>3?"list-box-scroll":""])},[d.value?(c(),g("div",Bo,[(c(),g(_e,null,ve([{},{},{},{},{}],y=>o("div",{key:y==null?void 0:y.name,class:"item-box"},[v(ke)])),64))])):T("",!0),(c(!0),g(_e,null,ve(C.value,y=>{var A;return c(),g("div",{key:y==null?void 0:y.name,class:"item-box"},[v(ke,{"is-selected":a.value&&((A=a.value)==null?void 0:A.name)==y.name,"p-item":y,onClickItemRadio:q=>n(q)},null,8,["is-selected","p-item","onClickItemRadio"])])}),128))],2)),p.value.address?(c(),g("div",qo,[v(i,{class:"big-btn",disabled:((S=t.value)==null?void 0:S.length)==0,onClick:m[0]||(m[0]=y=>r.$emit("clickLock",a.value))},{default:B(()=>[ie("Lock Liquidity")]),_:1},8,["disabled"]),o("span",{onClick:m[1]||(m[1]=y=>r.$emit("cancel"))},"Cancel")])):T("",!0)])}}});const Po=U(To,[["__scopeId","data-v-8adf9b67"]]),X=e=>(oe("data-v-9f43b9a8"),e=e(),te(),e),zo={class:"confirm-lock-content"},Do=X(()=>o("div",{class:"title"},"Lock Liquidity Permanently?",-1)),Uo=X(()=>o("div",{class:"desc"}," Are you sure you want to permanently lock/burn liquidity? You will be unable to access or withdraw underlying position assets, only trading fees and mining rewards earned will remain claimable. ",-1)),Oo={class:"pos-detail"},No={class:"top"},Fo={class:"pos-name"},Mo={class:"bottom"},Eo={class:"liquidity-usd"},Vo=X(()=>o("div",{class:"left"},"Liquidity",-1)),jo={class:"right"},Wo={class:"token-amount"},Ko={class:"info"},Yo={class:"left"},Zo={class:"right"},Go={class:"info"},Jo={class:"left"},Qo={class:"right"},Xo=X(()=>o("div",{class:"warning-info"},[o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-warning1"})]),o("span",null," By confirming below, l agree to permanently lock liquidity. l understand access to the underlying assets will be lost forever. ")],-1)),Ho={class:"confirm-input"},xo=X(()=>o("div",{class:"tit"},"To confirm, type the following:",-1)),et=X(()=>o("div",{class:"confirm-text"},"Lock my liquidity forever",-1)),ot={class:"action-btn"},tt=N({__name:"confirm-lock-content",props:{pItem:{type:Object,default:()=>null}},emits:["cancel"],setup(e,{emit:u}){const _=e,p=Q();k(()=>p);const l=k(()=>{var n,f,$;return(n=_.pItem)!=null&&n.needReverse?($=_.pItem)==null?void 0:$.coinB:(f=_.pItem)==null?void 0:f.coinA}),s=k(()=>{var n,f,$;return(n=_.pItem)!=null&&n.needReverse?($=_.pItem)==null?void 0:$.coinA:(f=_.pItem)==null?void 0:f.coinB}),d=h(""),t=h(!1),a=n=>{n.target.value=="Lock my liquidity forever"?t.value=!0:t.value=!1};return(n,f)=>{var r,m,w,i,R,b,S,y,A,q,F,M,E,V,j,z;const $=we,C=fe;return c(),g("div",zo,[Do,Uo,o("div",Oo,[o("div",No,[v(he,{"p-item":e.pItem},null,8,["p-item"]),o("div",Fo,I((r=e.pItem)==null?void 0:r.name),1)]),o("div",Mo,[o("div",Eo,[Vo,o("div",jo,"$"+I(!((m=e.pItem)!=null&&m.amountUSD)||((w=e.pItem)==null?void 0:w.amountUSD)=="--"?"--":Number((i=e.pItem)==null?void 0:i.amountUSD)==0?0:Number((R=e.pItem)==null?void 0:R.amountUSD)<.01?"<0.01":("addCommom"in n?n.addCommom:P(Z))((b=e.pItem)==null?void 0:b.amountUSD,2)),1)]),o("div",Wo,[o("div",Ko,[o("div",Yo,[v(ce,{"logo-size":"20px","warn-size":"10px",token:l.value},null,8,["token"]),o("span",null,I(("addCommom"in n?n.addCommom:P(Z))((S=e.pItem)!=null&&S.needReverse?(A=e.pItem)==null?void 0:A.amountB:(y=e.pItem)==null?void 0:y.amountA,(q=l.value)==null?void 0:q.decimals)),1)]),o("div",Zo,"$"+I(("addCommom"in n?n.addCommom:P(Z))((F=e.pItem)==null?void 0:F.tokenARates,2)),1)]),o("div",Go,[o("div",Jo,[v(ce,{"logo-size":"20px","warn-size":"10px",token:s.value},null,8,["token"]),o("span",null,I(("addCommom"in n?n.addCommom:P(Z))((M=e.pItem)!=null&&M.needReverse?(E=e.pItem)==null?void 0:E.amountA:(V=e.pItem)==null?void 0:V.amountB,(j=s.value)==null?void 0:j.decimals)),1)]),o("div",Qo,"$"+I(("addCommom"in n?n.addCommom:P(Z))((z=e.pItem)==null?void 0:z.tokenBRates,2)),1)])])])]),Xo,o("div",Ho,[xo,et,v($,{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=O=>d.value=O),class:"text-input",placeholder:"Type confirmation text here",onkeyup:"value=value.replace(/[^[a-zA-Z0-9\\s]+$/g,'')",onChange:a,onInput:n.handleInput},null,8,["modelValue","onInput"])]),o("div",ot,[v(C,{class:"big-btn",disabled:!t.value,onClick:()=>{}},{default:B(()=>[ie("Confirm")]),_:1},8,["disabled"]),o("span",{onClick:f[1]||(f[1]=O=>n.$emit("cancel"))},"Cancel")])])}}});const nt=U(tt,[["__scopeId","data-v-9f43b9a8"]]),st=N({__name:"lp-burn-modal",emits:["close"],setup(e,{emit:u}){const _=ue();k(()=>_);const p=Q();k(()=>p);const l=h(null),s=h(!1),d=t=>{console.log("ðŸš€ ~ clickLock ~ item:",t),l.value=t,s.value=!0};return(t,a)=>(c(),J(P(Ae),{title:"Burn/Lock Liquidity",class:"lp-burn-modal",footer:null,visible:!0,width:"460px",onCancel:a[3]||(a[3]=n=>t.$emit("close"))},{default:B(()=>[s.value?(c(),J(nt,{key:1,"p-item":l.value,onCancel:a[2]||(a[2]=n=>t.$emit("close"))},null,8,["p-item"])):(c(),J(Po,{key:0,"is-lock-liquidity":s.value,onClickLock:a[0]||(a[0]=n=>d(n)),onCancel:a[1]||(a[1]=n=>t.$emit("close"))},null,8,["is-lock-liquidity"]))]),_:1}))}});const $e=U(st,[["__scopeId","data-v-73f33de5"]]),at=N({components:{LpBurnModal:$e},setup(e,u){const{t:_,locale:p}=Be(),l=qe(),s=h(!1),d=h(!1),t=h(!1),a=h("TVL"),n=h(["APR","VOL"]),f=h([]),$=h(["pools"]),C=Q(),r=ye(),m=h(!0),w=h(!1),i=h(!1),R=h(!1),b=h(""),S=k(()=>C),y=k(()=>{const L=Array.from(new Set(S.value.poolConfigList.flatMap(D=>!D.category||D.category==""?"All":D.category)));return L.length<=1?[]:L}),A=L=>{S.value.setCurrentPoolTab(L)},q=k(()=>r),F=k(()=>r.theme),M=k(()=>ae[q.value.chainName]),E=k(()=>r.statsData);Te(()=>{var H,x,ee,Y;const L=(H=l==null?void 0:l.currentRoute)==null?void 0:H.value.name.split("-")[1];$.value=!L||L=="list"||L==""?["pools"]:[`${L}`];const D=(Y=(ee=(x=l==null?void 0:l.currentRoute)==null?void 0:x.value)==null?void 0:ee.query)==null?void 0:Y.language;D&&j(D),b.value=p.value,document.addEventListener("click",()=>{t.value=!1})}),le(()=>l,L=>{var D,H,x,ee;if(L){const Y=(D=l==null?void 0:l.currentRoute)==null?void 0:D.value.name.split("-")[1];$.value=!Y||Y=="list"||Y==""?["pools"]:[`${Y}`];const pe=(ee=(x=(H=l==null?void 0:l.currentRoute)==null?void 0:H.value)==null?void 0:x.query)==null?void 0:ee.language;pe&&j(pe),b.value=p.value}},{deep:!0});const{setLang:V}=r,j=L=>{V(L),p.value=L},z=()=>{m.value=!0,d.value=!0,r.setisRefresh(),setTimeout(()=>{d.value=!1},1e3)},O=ue(),W=k(()=>O),K=k(()=>S.value.autoPoolNum),de=k(()=>q.value.chainName),be=Pe();return le(()=>de.value,L=>{L=="Aptos"&&be.name=="pool-list"&&l.replace("/pools")},{immediate:!0}),{isOpenLpBurn:h(!1),autoPoolNum:K,tabArr:y,changeTab:A,isViewCard:R,isDisplayAll:w,isFarms:i,clickRefresh:z,store:q,config:M,t:_,router:l,loading:s,refresh:d,current:$,addCommom:Z,list:f,theme:F,statsData:E,pools:S,isOpenSort:t,selectValue:a,selectList:n,listLoading:m,languageValue:b,wallet:W,chainName:de}}});const Ie=e=>(oe("data-v-29ce2691"),e=e(),te(),e),lt={class:"upgrade-pools-header"},it={class:"header-left"},ct={key:0},ut={key:0},rt=["href"],dt=Ie(()=>o("span",null," Permanently burn/lock liquidity for an existing position. Trading fees remain claimable. ",-1)),pt=Ie(()=>o("svg",{"aria-hidden":"true",class:"refresh-icon"},[o("use",{"xlink:href":"#icon-icon-refresh2"})],-1)),mt=[pt];function _t(e,u,_,p,l,s){const d=G("mail-outlined"),t=Se,a=Ue,n=G("appstore-outlined"),f=ze,$=De,C=G("router-view"),r=$e;return c(),g("div",{class:se(["upgrade-pools-container",e.$route.name=="pool-position"?"":"container-bg"])},[o("div",lt,[o("div",it,[v(f,{selectedKeys:e.current,"onUpdate:selectedKeys":u[1]||(u[1]=m=>e.current=m),mode:"horizontal"},{default:B(()=>[v(a,{key:"pools"},{default:B(()=>[v(t,{to:"/pool/list"},{icon:B(()=>[v(d)]),default:B(()=>[ie(" "+I(e.$t("menu.pools"))+" ",1),e.store.poolAmount!=="--"?(c(),g("i",ct,I(e.store.poolAmount),1)):T("",!0)]),_:1})]),_:1}),v(a,{key:"position",onClick:u[0]||(u[0]=m=>e.current=["position"])},{default:B(()=>[v(t,{to:"/pool/position"},{icon:B(()=>[v(n)]),default:B(()=>[ie(" "+I(e.$t("common.myPosition"))+" ",1),e.store.positionAmount!=="--"&&e.wallet.connected?(c(),g("i",ut,I(e.store.positionAmount),1)):T("",!0)]),_:1})]),_:1})]),_:1},8,["selectedKeys"])]),o("div",{class:se(["header-right",e.$route.name=="pool-vaults"?"header-none":""])},[e.store.theme=="default"?(c(),g("a",{key:0,class:"quickly-enter-link quickly-enter",href:`${("config"in e?e.config:P(ae)).ammSite}/pools?language=${e.languageValue}&chain=aptos`},I(e.$t("common.ammPools")),9,rt)):T("",!0),v($,{"overlay-class-name":"lp-burn-tooltip","arrow-point-at-center":""},{title:B(()=>[dt]),default:B(()=>[e.current[0]=="position"?(c(),g("div",{key:0,class:"quickly-enter",onClick:u[2]||(u[2]=()=>e.isOpenLpBurn=!0)}," LP Burn ")):T("",!0)]),_:1}),e.current[0]=="pools"?(c(),g("div",{key:1,class:"quickly-enter",onClick:u[3]||(u[3]=m=>e.router.push(`/liquidity/create?toCoin=${("config"in e?e.config:P(ae)).currentChainTokenAddress}`))}," Create Pool ")):T("",!0),e.$route.name!=="pool-vaults"?(c(),g("div",{key:2,class:"quickly-enter",onClick:u[4]||(u[4]=m=>e.router.push(`/liquidity/deposit?action=newposition&toCoin=${("config"in e?e.config:P(ae)).currentChainTokenAddress}`))}," + Add Liquidity ")):T("",!0),o("div",{class:se(e.refresh?"refresh fresh-box":"fresh-box"),onClick:u[5]||(u[5]=(...m)=>e.clickRefresh&&e.clickRefresh(...m))},mt,2)],2)]),v(C),e.isOpenLpBurn?(c(),J(r,{key:0,onClose:u[6]||(u[6]=m=>e.isOpenLpBurn=!1)})):T("",!0)],2)}const wt=U(at,[["render",_t],["__scopeId","data-v-29ce2691"]]);export{wt as default};
