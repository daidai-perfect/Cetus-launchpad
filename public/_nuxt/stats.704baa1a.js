import{_ as Ee,a as Ye}from"./stats-echarts-aptos.f9d3d7df.js";import{i as Te}from"./import-icon.de3e6c66.js";import{a as ve,r as c,y as ie,l as Ce,m as M,b as we,G as ce,e as _e,M as te,o as n,f as l,h as o,v as t,i as _,j as A,O as J,z as k,F as ee,s as se,x as W,L as ye,u as d,w as pe,p as Se,k as Oe,B as Ae,c as Le,E as Je,a9 as qe,aa as Ge,S as Ke,Y as Qe}from"./entry.1afe32c4.js";import{u as je,b as he}from"./pool.83f6439f.js";import{_ as De}from"./back.73871274.js";import{_ as Xe}from"./apr-tips.a8eb9c82.js";import{_ as Pe}from"./upgrade-loading.b9ce7e54.js";import{_ as Ue}from"./token-warning.7014f9c6.js";import{z as Ne,k as be,h as b,f as q,I as Ve,i as ne,o as me,v as re,c as $e}from"./index.c41a185a.js";/* empty css              */import{p as Ze}from"./precision.a7a6c57b.js";import{C as Re}from"./coin-img.c319baa5.js";import{u as fe}from"./useSuiStatsData.ea0bbe2b.js";import{T as Ie}from"./top-pools.05a80f05.js";import{_ as xe}from"./token-warning-modal.08fbfc75.js";import{T as es}from"./top-tokens.1140ec37.js";/* empty css              */import"./index.fa5ab6c5.js";import{l as ss}from"./lodash.830c9782.js";import{f as os}from"./formatter.c5a5af41.js";import"./decimal.0bdeb344.js";import"./farms.2b755d68.js";import"./icon_fee_2x.b58688a2.js";import"./icon_rewards_2x.ae1618c5.js";/* empty css              */import"./fetchFun.ff4aae28.js";import"./icon-selected_3x.09e9a6f0.js";const as=ve({components:{CoinImg:Re},props:{isAll:{type:Boolean,default:!1}},setup(){const e=c(!0),r=c(1),g=c("10"),f=c("vol"),w=c("desc"),j=c(null),B=c(),{fetchStatsPoolsData:F}=fe(),L=async(a,h,v)=>{e.value=!0;const $=await F(a,h,v);j.value=$==null?void 0:$.pools,B.value=$==null?void 0:$.total,e.value=!1,console.log("ðŸš€ ~ getStatsPoolsData ~ statsPoolsList.value:",j.value)};ie(()=>{L("-vol",g.value,"0")});const P=je(),{t:T,locale:H}=Ce(),C=M(()=>P),s=M(()=>C.value.allTokenObj||{}),u=M(()=>(console.log("ðŸš€ðŸš€ðŸš€ ~ file: top-pools.vue:674 ~ tokensObj ~ pools.value.tokensObj:",C.value.tokensObj),C.value.tokensObj)),D=a=>a!=null&&a.is_forward?u.value[a==null?void 0:a.token_a_address]:u.value[a==null?void 0:a.token_b_address],O=a=>a!=null&&a.is_forward?u.value[a==null?void 0:a.token_b_address]:u.value[a==null?void 0:a.token_a_address],Y=he(),R=M(()=>Y),U=we();let i=c(!1);const m=c(!1);ie(async()=>{const a=document.body.clientWidth;a<750?i.value=!1:i.value=!0,window.onresize=()=>{a<750?i.value=!1:i.value=!0},await Ne(1e3),m.value=!0});const S=c(!1),y=c("Volume (24H)"),p=c(["TVL","Volume (24H)","APR","Fees (24h)"]);ce(()=>[m.value],([a])=>{a&&(p.value=["TVL","Volume (24H)","APR","Fees (24h)"])},{immediate:!0});const N=a=>{var E,X,Z,V;const h=a.is_forward?((E=C.value.tokensObj[a.token_a_address])==null?void 0:E.labels)||[]:((X=C.value.tokensObj[a.token_b_address])==null?void 0:X.labels)||[],v=a.is_forward?((V=C.value.tokensObj[a.token_b_address])==null?void 0:V.labels)||[]:((Z=C.value.tokensObj[a.token_a_address])==null?void 0:Z.labels)||[],$=h.concat(v);return[...new Set($)]},z=a=>{if(!ne(a)&&!ne(C.value.addressLpTokens)&&!ne(C.value.tokensObj)){const h=C.value.addressLpTokens[a.swap_account];return h==null?void 0:h.is_display_rewarder}else return!1},ae=(a,h)=>a&&h?Ze.plus(me(a),me(h)):a>0&&a<.01?"<0.01":0,Q=a=>{let h=0;return a&&a.forEach(v=>{v.rewarder_display&&(h+=me(String(v.rewarders)))}),String(h)},I=()=>{U&&U.push("/stats-pools")},x=c({});return ce(()=>[j.value,m.value],([a,h])=>{h&&a&&(a==null?void 0:a.length)>0&&a.forEach(v=>{var E,X,Z;const $=(X=(E=v==null?void 0:v.rewarder)==null?void 0:E.rewarder_coin)==null?void 0:X.map((V,G)=>({...V,emissionsEveryDay:0,rewarder_display:v==null?void 0:v.rewarder[`rewarder_display${G+1}`],rewarders:v.rewarder_apr[G]&&v.rewarder_apr[G].replace("%",""),logoUrl:V==null?void 0:V.logoURI,symbol:V==null?void 0:V.symbol,rewarderApr:v.rewarder_apr[G]&&v.rewarder_apr[G].replace("%","")}));(Z=v==null?void 0:v.rewarder)!=null&&Z.is_display_rewarder&&(x.value={...x.value,[v.swap_account]:$})})},{immediate:!0,deep:!0}),{getTokenA:D,getTokenB:O,onChangePools:(a,h)=>{r.value=a;const v=String((a-1)*Number(g.value));L(w.value==="asc"?f.value:"-"+f.value,g.value,v)},sortTable:a=>{a==f.value?w.value=w.value=="desc"?"asc":"desc":(f.value=a,w.value="desc");const h=String((r.value-1)*Number(g.value));L(w.value==="asc"?f.value:"-"+f.value,g.value,h)},isPageLoading:e,sFixD:be,statsPoolsListLength:B,currentSortColumn:f,currentSortOrder:w,addCommom:b,store:R,statsPoolsList:j,addressTokens:s,currentPools:r,router:U,isPc:i,getAprTotal:ae,getRewarderApr:Q,toPoolsList:I,select:S,selectValue:y,selectList:p,getLabel:N,tokensObj:u,rewardDisplay:z,rewardObj:x,t:T,decimalUi:q,formatNumberAddCommom:Ve}}});const K=e=>(Se("data-v-8fd4360c"),e=e(),Oe(),e),ns={key:0,class:"title"},ls={key:1,class:"title view-all-title"},ts={class:"sort-by"},rs=K(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),is=[rs],ds=K(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),us=[ds],cs={key:0,class:"select-item"},ps=["onClick"],vs=K(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),_s=[vs],hs={class:"table-contianer"},gs={class:"pools-table"},ms={class:"table-header"},bs=K(()=>o("th",null,"Pools",-1)),ks=K(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ws=[ks],fs=K(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),$s=[fs],Ts=K(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Cs=[Ts],ys=K(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ss=[ys],Os={class:"apr-hover-content"},As=K(()=>o("th",null,null,-1)),Ls={class:"table-body"},js={key:0},Ds={colspan:"6"},Ps={class:"upgrade-loading"},Us={class:"token"},Ns={class:"name"},Vs={class:"token-name"},Rs={class:"fee-tier-top"},Bs={class:"label-all"},Fs={key:0},Hs={class:"tvl"},zs={class:"volume-hour"},Ws={class:"fees-24h"},Ms=K(()=>o("br",null,null,-1)),Es={key:0,class:"farming-apr"},Ys={key:1,class:"apr-hover-content"},Js={class:"btn-box"},qs={class:"h5-item-container"},Gs={key:0,class:"upgrade-loading"},Ks={class:"top"},Qs={class:"token"},Xs={class:"name"},Zs={class:"token-name"},Is={class:"label-all"},xs={key:0},eo={class:"fee-tier-hint"},so={class:"middle"},oo={class:"item-pools"},ao={class:"item-pools"},no={class:"item-pools"},lo=K(()=>o("span",null,"Fees (24h)",-1)),to={key:0,class:"farming-apr"},ro={key:0,class:"apr-hover-content"},io={class:"bottom"},uo={class:"panation"};function co(e,r,g,f,w,j){const B=De,F=Xe,L=Pe,P=te("CoinImg"),T=Ue,H=Ae,C=ye;return n(),l("div",{class:k(["top-pools-new-table",e.isAll?"top-pools-new-table-all":""])},[e.isAll?(n(),l("div",ls,[_(B),A(" Pools ")])):(n(),l("div",ns,[o("div",null,t(e.$t("common.topPools")),1),o("div",{class:"view-all",onClick:r[0]||(r[0]=(...s)=>e.toPoolsList&&e.toPoolsList(...s))},t(e.$t("newAdd.viewAll"))+" Â Â > ",1)])),o("div",ts,[o("div",null,t(e.$t("newAdd.sortBy")),1),o("div",{class:"search-select",onClick:r[1]||(r[1]=J(s=>e.select=!e.select,["stop"]))},[o("div",null,[A(t(e.selectValue)+" ",1),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortOrder=="desc"?"desc-svg":"asc-svg"])},is,2))]),(n(),l("svg",{"aria-hidden":"true",class:k(e.select?"show-icon icon":"icon")},us,2))]),e.select?(n(),l("div",cs,[(n(!0),l(ee,null,se(e.selectList,(s,u)=>(n(),l("div",{key:u,class:"select-menu-item",onClick:J(()=>{e.select=!1,e.selectValue=s,e.sortTable(s=="TVL"?"tvl":s=="Volume (24H) "?"vol":s=="APR"?"totalApr":"fees")},["stop"])},[A(t(s)+" ",1),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="tvl"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},_s,2))],8,ps))),128))])):W("",!0)]),o("div",hs,[o("table",gs,[o("thead",ms,[o("tr",null,[bs,o("th",null,[o("span",{onClick:r[2]||(r[2]=J(s=>e.sortTable("tvl"),["stop"]))},[A(" TVL "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="tvl"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},ws,2))])]),o("th",null,[o("span",{onClick:r[3]||(r[3]=J(s=>e.sortTable("vol"),["stop"]))},[A(" Volume (24H) "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="vol"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},$s,2))])]),o("th",null,[o("span",{onClick:r[4]||(r[4]=J(s=>e.sortTable("fees"),["stop"]))},[A(" Fees (24H) "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="fees"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Cs,2))])]),o("th",null,[o("span",{class:"hover-box",onClick:r[5]||(r[5]=J(s=>e.sortTable("totalApr"),["stop"]))},[A(" APR "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="totalApr"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Ss,2)),o("div",Os,[_(F,{class:"noHover apr-hover-con"})])])]),As])]),o("tbody",Ls,[e.isPageLoading?(n(),l("tr",js,[o("td",Ds,[o("div",Ps,[_(L,{loading:!0,type:"statsPools"})])])])):W("",!0),(n(!0),l(ee,null,se(e.statsPoolsList,s=>{var u,D,O,Y,R,U,i,m,S,y;return n(),l("tr",{key:s.swap_account},[o("td",null,[o("div",Us,[o("div",null,[_(P,{url:((u=e.getTokenA(s))==null?void 0:u.logo_url)||((D=e.getTokenA(s))==null?void 0:D.logoURI)},null,8,["url"]),_(T,{address:(O=e.getTokenA(s))==null?void 0:O.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),o("div",null,[_(P,{url:((Y=e.getTokenB(s))==null?void 0:Y.logo_url)||((R=e.getTokenB(s))==null?void 0:R.logoURI)},null,8,["url"]),_(T,{address:(U=e.getTokenB(s))==null?void 0:U.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),o("div",Ns,[o("p",Vs,t(s.is_forward!==!1?s.token_a_reserves:s.token_b_reserves)+" - "+t(s.is_forward!==!1?s.token_b_reserves:s.token_a_reserves),1),o("div",Rs,t((s==null?void 0:s.fee)*100)+"%",1),o("div",Bs,[(n(!0),l(ee,null,se(e.getLabel(s),(p,N)=>(n(),l("div",{key:N,class:k(["label",p])},[p!=="Native"?(n(),l("span",Fs,t(p),1)):W("",!0)],2))),128))])])])]),o("td",null,[o("div",Hs,t(s.pure_tvl_in_usd>0&&s.pure_tvl_in_usd<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.pure_tvl_in_usd,2),2)}`),1)]),o("td",null,[o("div",zs,t(s.vol_in_usd_24h>0&&s.vol_in_usd_24h<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.vol_in_usd_24h,2),2)}`),1)]),o("td",null,[o("div",Ws,t(s.fee_24_h>0&&s.fee_24_h<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.fee_24_h,2),2)}`),1)]),o("td",null,[o("div",{class:k(["apr",!("checkNullObj"in e?e.checkNullObj:d(ne))(s.stable_farming)||e.rewardObj&&((i=e.rewardObj[s.swap_account])==null?void 0:i.length)>0?"apr-mark":""])},[A(t(e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account]))>0&&e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account]))<.01?"<0.01":e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account]))==0?0:("sFixD"in e?e.sFixD:d(be))(e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account])),2))+"% ",1),Ms,(m=s==null?void 0:s.stable_farming)!=null&&m.stable_farming_pool?(n(),l("i",Es,t(s.stable_farming.apr>0&&s.stable_farming.apr*100<1e-4?"+<0.01":`+${("addCommom"in e?e.addCommom:d(b))(s.stable_farming?(s==null?void 0:s.stable_farming.apr)*100:0,2)}`)+"% ",1)):W("",!0),!("checkNullObj"in e?e.checkNullObj:d(ne))(s.stable_farming)||e.rewardObj&&((S=e.rewardObj[s.swap_account])==null?void 0:S.length)>0&&e.rewardObj&&e.rewardObj[s.swap_account]?(n(),l("div",Ys,[_(F,{class:"noHover apr-hover-con","l-item":{apr:s.apr_24h&&s.apr_24h.replace("%",""),aprTotal:e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account])),is_display_rewarder:e.rewardObj&&e.rewardObj[s.swap_account],rewarder_apr:e.getRewarderApr(e.rewardObj[s.swap_account]),isStableFarming:s.stable_farming,stableFarmingApr:((y=s.stable_farming)==null?void 0:y.apr)*100},"rewarder-info":e.rewardObj&&e.rewardObj[s.swap_account]},null,8,["l-item","rewarder-info"])])):W("",!0)],2)]),o("td",null,[o("div",Js,[_(H,{class:"cancel-btn",onClick:()=>e.router.push(`/liquidity/deposit?poolAddress=${s==null?void 0:s.swap_account}`)},{default:pe(()=>[A(t(e.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])])}),128))])])]),o("div",qs,[e.isPageLoading?(n(),l("div",Gs,[_(L,{loading:!0,type:"statsPoolH5"})])):(n(!0),l(ee,{key:1},se(e.statsPoolsList,s=>{var u,D,O,Y,R,U,i,m,S,y;return n(),l("div",{key:s.swap_account,class:"item h5-item"},[o("div",Ks,[o("div",Qs,[o("div",null,[_(P,{url:((u=e.getTokenA(s))==null?void 0:u.logo_url)||((D=e.getTokenA(s))==null?void 0:D.logoURI)},null,8,["url"]),_(T,{address:(O=e.getTokenA(s))==null?void 0:O.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),o("div",null,[_(P,{url:((Y=e.getTokenB(s))==null?void 0:Y.logo_url)||((R=e.getTokenB(s))==null?void 0:R.logoURI)},null,8,["url"]),_(T,{address:(U=e.getTokenB(s))==null?void 0:U.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),o("div",Xs,[o("p",Zs,t(s.is_forward!==!1?s.token_a_reserves:s.token_b_reserves)+" - "+t(s.is_forward!==!1?s.token_b_reserves:s.token_a_reserves),1),o("div",Is,[(n(!0),l(ee,null,se(e.getLabel(s),(p,N)=>(n(),l("div",{key:N,class:k(["label",p])},[p!=="Native"?(n(),l("span",xs,t(p),1)):W("",!0)],2))),128))])])]),o("div",eo,t((s==null?void 0:s.fee)*100)+"%",1)]),o("div",so,[o("div",oo,[o("span",null,t(e.$t("common.tvl")),1),o("p",null,t(s.pure_tvl_in_usd>0&&s.pure_tvl_in_usd<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.pure_tvl_in_usd,2),2)}`),1)]),o("div",ao,[o("span",null,t(e.$t("common.volume24h")),1),o("p",null,t(s.vol_in_usd_24h>0&&s.vol_in_usd_24h<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.vol_in_usd_24h,2),2)}`),1)]),o("div",no,[lo,o("p",null,t(s.fee_24_h>0&&s.fee_24_h<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.fee_24_h,2),2)}`),1)]),o("div",{class:k(["item-pools",!("checkNullObj"in e?e.checkNullObj:d(ne))(s.stable_farming)||e.rewardObj&&((i=e.rewardObj[s.swap_account])==null?void 0:i.length)>0?"":"apr-mark-h5"])},[o("span",null,t(e.$t("common.apr")),1),o("p",null,[A(t(e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account]))>0&&e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account]))<.01?"<0.01":e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account]))==0?0:("sFixD"in e?e.sFixD:d(be))(e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account])),2))+"% ",1),(m=s==null?void 0:s.stable_farming)!=null&&m.stable_farming_pool?(n(),l("i",to,t(s.stable_farming.apr>0&&s.stable_farming.apr*100<1e-4?"+<0.01":`+${("addCommom"in e?e.addCommom:d(b))(s.stable_farming?(s==null?void 0:s.stable_farming.apr)*100:0,2)}`)+"% ",1)):W("",!0)]),!("checkNullObj"in e?e.checkNullObj:d(ne))(s.stable_farming)||e.rewardObj&&((S=e.rewardObj[s.swap_account])==null?void 0:S.length)>0&&e.rewardObj&&e.rewardObj[s.swap_account]?(n(),l("div",ro,[_(F,{class:"noHover apr-hover-con","l-item":{apr:s.apr_24h&&s.apr_24h.replace("%",""),aprTotal:e.getAprTotal(s.apr_24h,e.getRewarderApr(e.rewardObj[s.swap_account])),is_display_rewarder:e.rewardObj&&e.rewardObj[s.swap_account],rewarder_apr:e.getRewarderApr(e.rewardObj[s.swap_account]),isStableFarming:s.stable_farming,stableFarmingApr:((y=s.stable_farming)==null?void 0:y.apr)*100},"rewarder-info":e.rewardObj&&e.rewardObj[s.swap_account]},null,8,["l-item","rewarder-info"])])):W("",!0)],2)]),o("div",io,[_(H,{class:"cancel-btn",onClick:()=>e.router.push(`/liquidity/deposit?poolAddress=${s==null?void 0:s.swap_account}`)},{default:pe(()=>[A(t(e.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),o("div",uo,[_(C,{current:e.currentPools,"onUpdate:current":r[6]||(r[6]=s=>e.currentPools=s),"page-size":(e.isPc,10),simple:"",total:e.isAll?e.statsPoolsListLength:e.statsPoolsListLength>20?20:e.statsPoolsListLength,onChange:e.onChangePools},null,8,["current","page-size","total","onChange"])])],2)}const po=_e(as,[["render",co],["__scopeId","data-v-8fd4360c"]]),vo=ve({components:{CoinImg:Re},props:{isAll:{type:Boolean,default:!1}},setup(){const e=c(!0),r=c("10"),g=c(1),f=c("vol"),w=c("desc"),j=c(null),B=c(),{fetchStatsTokensData:F}=fe(),L=async(a,h,v)=>{e.value=!0;const $=await F(a,h,v);j.value=$==null?void 0:$.tokens,B.value=$==null?void 0:$.total,e.value=!1,console.log("ðŸš€ ~ getStatsTokensData ~ statsTokensList.value:",j.value)};ie(()=>{L("-vol",r.value,"0")});const P=je(),T=c(!1),H=c({}),{t:C,locale:s}=Ce(),u=M(()=>P),D=M(()=>u.value.allTokenObj||{}),O=M(()=>u.value.tokensObj||{}),Y=he(),R=M(()=>Y),U=we();let i=c(!1);const m=c(!1);ie(async()=>{const a=document.body.clientWidth;a<750?i.value=!1:i.value=!0,window.onresize=()=>{a<750?i.value=!1:i.value=!0},await Ne(1e3),m.value=!0});const S=c(!1),y=M(()=>R.value.chainName),p=c(!1),N=c("Volume (24H)"),z=c(["Price","TVL","Volume (24H)","Price Change"]);return{getTokenLabel:a=>O.value&&O.value[a.address]&&O.value[a.address].labels&&O.value[a.address].labels[0]?`${O.value[a.address].labels[0]}`:"",statsTokensListLength:B,clickSwap:a=>{const h=localStorage.getItem(a==null?void 0:a.address),v=R.value.importTokenListObj;u.value.tokensObj&&u.value.tokensObj[a.address]&&u.value.tokensObj[a.address].isSelfBuilt&&!h&&!(v!=null&&v.hasOwnProperty(a==null?void 0:a.address))?(H.value=a,T.value=!0):U.push(`/swap?to=${a.address}`)},isPageLoading:e,statsTokensList:j,warningTokenInfo:H,isShowTokenWarning:T,currentSortColumn:f,currentSortOrder:w,addCommom:b,store:R,importIcon:Te,addressTokens:D,onChangeTokens:(a,h)=>{g.value=a;const v=String((a-1)*Number(r.value));L(w.value==="asc"?f.value:"-"+f.value,r.value,v)},sortTable:a=>{a==f.value?w.value=w.value=="desc"?"asc":"desc":(f.value=a,w.value="desc");const h=String((g.value-1)*Number(r.value));L(w.value==="asc"?f.value:"-"+f.value,r.value,h)},currentTokens:g,router:U,isPc:i,toTokensList:()=>{U&&U.push("/stats-tokens")},labelToken:p,select:S,tokenValue:N,tokensList:z,getLabel:a=>{var h,v,$,E,X,Z;if(R.value.theme=="sui"){const V=a.needReverse?((v=u.value.tokensObj[a.token_b_address])==null?void 0:v.labels)||[]:((h=u.value.tokensObj[a.token_a_address])==null?void 0:h.labels)||[],G=a.needReverse?(($=u.value.tokensObj[a.token_a_address])==null?void 0:$.labels)||[]:((E=u.value.tokensObj[a.token_b_address])==null?void 0:E.labels)||[],ue=V.concat(G);return[...new Set(ue)]}else{const V=((X=u.value.tokensObj[a.token_a_address])==null?void 0:X.labels)||[],G=((Z=u.value.tokensObj[a.token_b_address])==null?void 0:Z.labels)||[],ue=V.concat(G);return[...new Set(ue)]}},tokensObj:O,t:C,decimalUi:q,chainName:y,formatNumberAddCommom:Ve}}});const oe=e=>(Se("data-v-029f9a33"),e=e(),Oe(),e),_o={key:0,class:"title"},ho={key:1,class:"title view-all-title"},go={class:"sort-by"},mo=oe(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),bo=[mo],ko=oe(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),wo=[ko],fo={key:0,class:"select-item"},$o=["onClick"],To=oe(()=>o("svg",{"aria-hidden":"true",class:"pools-icon"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),Co={class:"table-contianer"},yo={class:"pools-table"},So={class:"table-header"},Oo=oe(()=>o("th",null,"Tokens",-1)),Ao=oe(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Lo=[Ao],jo=oe(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Do=[jo],Po=oe(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Uo=[Po],No=oe(()=>o("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Vo=[No],Ro=oe(()=>o("th",null,null,-1)),Bo={class:"table-body"},Fo={key:0},Ho={colspan:"6"},zo={class:"upgrade-loading"},Wo={class:"token"},Mo={class:"left"},Eo={class:"right"},Yo={class:"name"},Jo={key:0,class:"label-all"},qo={class:"price onlyPrice"},Go={class:"price"},Ko={class:"volume"},Qo={class:"tvl"},Xo={class:"btn-box"},Zo={class:"h5-item-container"},Io={key:0,class:"upgrade-loading"},xo={class:"top"},ea={class:"token"},sa={class:"right"},oa={class:"name"},aa={key:0,class:"label-all"},na={class:"middle"},la={class:"item-pools"},ta={class:"price"},ra={class:"item-pools"},ia={class:"item-pools"},da={class:"item-pools"},ua={class:"bottom"},ca={class:"panation"};function pa(e,r,g,f,w,j){const B=De,F=Pe,L=te("CoinImg"),P=Ue,T=Ae,H=ye,C=xe;return n(),l("div",{class:k(["top-tokens-table",e.isAll?"top-tokens-table-all":""])},[e.isAll?(n(),l("div",ho,[_(B),A(" "+t(e.$t("common.tokens")),1)])):(n(),l("div",_o,[o("div",null,t(e.$t("common.topTokens")),1),o("div",{class:"view-all",onClick:r[0]||(r[0]=(...s)=>e.toTokensList&&e.toTokensList(...s))},t(e.$t("newAdd.viewAll"))+" Â Â > ",1)])),o("div",go,[o("div",null,t(e.$t("newAdd.sortBy")),1),o("div",{class:"search-select",onClick:r[1]||(r[1]=J(s=>e.labelToken=!e.labelToken,["stop"]))},[o("div",null,[A(t(e.tokenValue)+" ",1),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortOrder=="desc"?"desc-svg":"asc-svg"])},bo,2))]),(n(),l("svg",{"aria-hidden":"true",class:k(e.labelToken?"show-icon icon":"icon")},wo,2))]),e.labelToken?(n(),l("div",fo,[(n(!0),l(ee,null,se(e.tokensList,(s,u)=>(n(),l("div",{key:u,class:"select-menu-item",onClick:J(()=>{e.labelToken=!1,e.tokenValue=s,e.sortTable(s=="Price"?"price":s=="Volume (24H)"?"vol":s=="TVL"?"tvl":"priceChange")},["stop"])},[A(t(s)+" ",1),To],8,$o))),128))])):W("",!0)]),o("div",Co,[o("table",yo,[o("thead",So,[o("tr",null,[Oo,o("th",null,[o("span",{onClick:r[2]||(r[2]=J(s=>e.sortTable("price"),["stop"]))},[A(" Price "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="price"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Lo,2))])]),o("th",null,[o("span",{onClick:r[3]||(r[3]=J(s=>e.sortTable("priceChange"),["stop"]))},[A(" Price Change "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="priceChange"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Do,2))])]),o("th",null,[o("span",{onClick:r[4]||(r[4]=J(s=>e.sortTable("vol"),["stop"]))},[A(" Volume (24H) "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="vol"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Uo,2))])]),o("th",null,[o("span",{class:"hover-box",onClick:r[5]||(r[5]=J(s=>e.sortTable("tvl"),["stop"]))},[A(" TVL "),(n(),l("svg",{"aria-hidden":"true",class:k(["pools-icon",e.currentSortColumn=="tvl"?e.currentSortOrder=="desc"?"desc-svg active-svg":"asc-svg active-svg":""])},Vo,2))])]),Ro])]),o("tbody",Bo,[e.isPageLoading?(n(),l("tr",Fo,[o("td",Ho,[o("div",zo,[_(F,{loading:!0,type:"statsPools"})])])])):W("",!0),(n(!0),l(ee,null,se(e.statsTokensList,s=>{var u,D;return n(),l("tr",{key:s.address},[o("td",null,[o("div",Wo,[o("div",Mo,[o("div",null,[_(L,{url:((u=e.tokensObj[s.address])==null?void 0:u.logo_url)||((D=e.tokensObj[s.address])==null?void 0:D.logoURI)},null,8,["url"]),_(P,{address:s==null?void 0:s.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])])]),o("div",Eo,[o("div",Yo,[o("p",null,t(s.symbol),1),o("span",null,t(s.name),1)]),e.getTokenLabel(s)?(n(),l("div",Jo,[o("div",{class:k(["label",e.getTokenLabel(s)])},[o("span",null,t(e.getTokenLabel(s)?`${e.getTokenLabel(s)}`:""),1)],2)])):W("",!0)])])]),o("td",null,[o("div",qo,[o("p",null,t(s.price?"$"+(Number(s.price)>1?("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.price,2)):("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.price,4))):"--"),1)])]),o("td",null,[o("div",Go,[o("p",{class:k(s.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},t(s.price_rate_24h!=="0%"&&!s.price_rate_24h.includes("-")?`+${s.price_rate_24h}`:s.price_rate_24h),3)])]),o("td",null,[o("div",Ko," $"+t(("addCommom"in e?e.addCommom:d(b))(s.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:d(b))(s.vol_in_usd_24h,2)?("addCommom"in e?e.addCommom:d(b))(s.vol_in_usd_24h,2):"--"),1)]),o("td",null,[o("div",Qo," $"+t(("addCommom"in e?e.addCommom:d(b))(s.pure_tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:d(b))(s.pure_tvl_in_usd,2)?("addCommom"in e?e.addCommom:d(b))(s.pure_tvl_in_usd,2):"--"),1)]),o("td",null,[o("div",Xo,[_(T,{class:"cancel-btn",onClick:O=>e.clickSwap(s)},{default:pe(()=>[A(t(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])])])}),128))])])]),o("div",Zo,[e.isPageLoading?(n(),l("div",Io,[_(F,{loading:!0,type:"statsPoolH5"})])):(n(!0),l(ee,{key:1},se(e.statsTokensList,s=>{var u,D;return n(),l("div",{key:s.address,class:"item h5-item"},[o("div",xo,[o("div",ea,[o("div",null,[_(L,{url:((u=e.tokensObj[s.address])==null?void 0:u.logo_url)||((D=e.tokensObj[s.address])==null?void 0:D.logoURI)},null,8,["url"]),_(P,{address:s==null?void 0:s.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"])]),o("div",sa,[o("div",oa,[o("p",null,t(s.symbol),1),o("span",null,t(s.name),1)]),e.getTokenLabel(s)?(n(),l("div",aa,[o("div",{class:k(["label",e.getTokenLabel(s)])},[o("span",null,t(e.getTokenLabel(s)?`${e.getTokenLabel(s)}`:""),1)],2)])):W("",!0)])])]),o("div",na,[o("div",la,[o("span",null,t(e.$t("common.price")),1),o("div",ta,[o("p",null,t(s.price?"$"+(Number(s.price)>1?("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.price,2)):("addCommom"in e?e.addCommom:d(b))(("decimalUi"in e?e.decimalUi:d(q))(s.price,4))):"--"),1)])]),o("div",ra,[o("span",null,t(e.$t("newAdd.priceChange")),1),o("p",{class:k(s.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},t(s.price_rate_24h),3)]),o("div",ia,[o("span",null,t(e.$t("common.volume24h")),1),o("p",null," $"+t(("addCommom"in e?e.addCommom:d(b))(s.vol_in_usd_24h,2)=="0.00"?0:("addCommom"in e?e.addCommom:d(b))(s.vol_in_usd_24h,2)),1)]),o("div",da,[o("span",null,t(e.$t("common.tvl")),1),o("p",null," $"+t(("addCommom"in e?e.addCommom:d(b))(s.pure_tvl_in_usd,2)=="0.00"?0:("addCommom"in e?e.addCommom:d(b))(s.pure_tvl_in_usd,2)),1)])]),o("div",ua,[_(T,{class:"cancel-btn",onClick:O=>e.clickSwap(s)},{default:pe(()=>[A(t(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])])}),128))]),o("div",ca,[_(H,{current:e.currentTokens,"onUpdate:current":r[6]||(r[6]=s=>e.currentTokens=s),"page-size":(e.isPc,10),simple:"",total:e.isAll?e.statsTokensListLength:e.statsTokensListLength>20?20:e.statsTokensListLength,onChange:e.onChangeTokens},null,8,["current","page-size","total","onChange"])]),e.chainName=="Sui"&&e.isShowTokenWarning?(n(),Le(C,{key:2,"from-coin":e.warningTokenInfo,onClose:r[7]||(r[7]=s=>e.isShowTokenWarning=!1),onClickContinue:r[8]||(r[8]=()=>{e.isShowTokenWarning=!1,e.router.push(`/swap?to=${e.warningTokenInfo.address}`)})},null,8,["from-coin"])):W("",!0)],2)}const va=_e(vo,[["render",pa],["__scopeId","data-v-029f9a33"]]),_a={class:"stats-chart-container"},ha={class:"chart-top"},ga={class:"trading-vol"},ma={class:"title"},ba={class:"text"},ka={key:1},wa=["innerHTML"],fa={class:"time-list"},$a=["onClick"],Ta={key:0,class:"loading-box"},Ca={class:"chart-content"},ya=["id"];var ke=(e=>(e.D="day",e.W="wek",e.M="mon",e))(ke||{}),Be=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(Be||{}),le=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(le||{}),Fe=(e=>(e[e.D=1]="D",e[e.W=4]="W",e[e.M=12]="M",e))(Fe||{}),He=(e=>(e[e.D=1]="D",e[e.W=2]="W",e[e.M=4]="M",e))(He||{});const Sa=ve({__name:"sui-chart",props:{chartType:{type:String,default:"tvl"}},setup(e){const r=e,g=c("D"),f=["D","W","M"],w=c(""),j=c("24H"),B=he(),F=M(()=>B),L=c(),P=c(),T=c(""),H=c(!1),C=M(()=>F.value.overallStatistics);ce(()=>[C.value,r.chartType],([i,m])=>{ne(i)||(T.value=m=="tvl"?i.pure_tvl_in_usd:i.vol_in_usd_24h)},{immediate:!0});const s=async()=>{H.value=!0;try{const i=Be[g.value],{data:m}=r.chartType=="tvl"?await fetch(`${$e.Sui.api}/v2/sui/histogram/all?date_type=${ke[g.value]}&typ=pure_tvl`).then(p=>p.json()):await fetch(`${$e.Sui.api}/v2/sui/histogram/all?date_type=${ke[g.value]}&typ=vol`).then(p=>p.json());console.log("ðŸš€ ~ getHistogram ~ data:",m);const S=m.list.map(p=>p.num),y=m.list.map(p=>p.date);L.value=S,P.value=y,D(S,y,i),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",m)}catch(i){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",i)}},u=c(),D=(i,m,S)=>{const y=document.getElementById(`stats-chart-${r.chartType}`),p=qe(y);u.value=p;let N={animation:!1,tooltip:{trigger:"axis",position:function(z,ae,Q,I,x){return[z[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",formatter:function(z){U(z)},padding:0,axisPointer:{type:"line",lineStyle:{width:g.value=="D"?1:g.value=="W"?2:4,type:"solid",color:"#456D89"}}},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:m.reverse(),inverse:!0,axisLabel:{interval:parseInt(Number(i.length)/15),formatter:(z,ae)=>{const Q=re(Date.parse(z)-288e5,"YMD")||"";let I,x=Q.slice(5,7),de=le[Number(x)];return g.value=="M"?I=de:I=Q.slice(8,10),`${I}`}}},yAxis:{show:!1,max:function(z){return Math.ceil(z.max)}},series:[{data:i.reverse(),inverse:!0,type:r.chartType=="tvl"?"line":"bar",symbol:"none",itemStyle:{normal:{barBorderRadius:[6,6,0,0],color:"#72C1F7"}},areaStyle:{color:new Ge(0,0,0,1,[{offset:0,color:"rgba(0, 128, 255, 0.3)"},{offset:1,color:"rgba(0, 128, 255, 0)"}])},barWidth:O.value?Fe[g.value]:He[g.value]}],grid:{left:20,top:5,bottom:24,right:20}};H.value=!1,N&&p.setOption(N),p&&p.resize(),p.on("globalout",z=>{T.value=r.chartType=="tvl"?C.value.pure_tvl_in_usd:C.value.vol_in_usd_24h,j.value="24H",R()})};ce(()=>g.value,(i,m)=>{(!m||i!==m)&&s()},{immediate:!0});const O=c(!0),Y=ss.debounce(()=>{document.body.clientWidth>750?O.value=!0:O.value=!1,!L.value&&!P.value?s():u.value&&u.value.resize()},300);ie(()=>{window.addEventListener("resize",Y),R()}),Je(()=>{window.removeEventListener("resize",Y)});const R=()=>{const i=re(Date.parse(new Date().toUTCString()),"YMD")||"";let m=i.slice(5,7),S=le[Number(m)];const y=i.slice(8,10),p=S,N=i.slice(0,4);w.value=p+"&nbsp;"+y+",&nbsp;"+N+"&nbsp;(UTC)"},U=i=>{T.value=os(i[0].value,2),j.value=g.value=="D"?"24H":g.value=="W"?"7D":"30D";const m=Date.parse(i[0].axisValue),S=new Date(m);S.setDate(S.getDate()+7);const y=new Date(m);y.setDate(y.getDate()+31);const p=S.toUTCString(),N=y.toUTCString(),z=re(Date.parse(N),"YMD")||"",ae=re(Date.parse(new Date().toUTCString()),"YMD")||"",Q=Date.parse(p)>Date.parse(new Date().toUTCString())?re(Date.parse(new Date().toUTCString()),"YMD")||"":re(Date.parse(p),"YMD")||"";let I=ae.slice(5,7),x=le[Number(I)];const de=ae.slice(8,10),ge=x,a=ae.slice(0,4);let h=i[0].axisValue.slice(5,7),v=le[Number(h)];const $=i[0].axisValue.slice(8,10),E=v,X=i[0].axisValue.slice(0,4);let Z=Q.slice(5,7),V=le[Number(Z)];const G=Q.slice(8,10),ue=V,ze=Q.slice(0,4),We=le[Number(h)+1],Me=z.slice(0,4);g.value=="D"?w.value=E+"&nbsp;"+$+",&nbsp;"+X+"&nbsp;(UTC)":g.value=="W"?w.value=$+"&nbsp;"+E+"-"+G+"&nbsp;"+ue+"&nbsp;,&nbsp;"+ze+"&nbsp;(UTC)":w.value=Date.parse(N)>=Date.parse(new Date().toUTCString())?E+"&nbsp;01-"+ge+"&nbsp;"+de+",&nbsp;"+a+"&nbsp;(UTC)":E+"&nbsp;01-"+We+"&nbsp;01,&nbsp;"+Me+"&nbsp;(UTC)"};return(i,m)=>{const S=Qe,y=Ke;return n(),l("div",_a,[o("div",ha,[o("div",ga,[o("div",ma,t(e.chartType=="tvl"?"Total Value Locked":`Trading Volume  (${j.value})`),1),o("div",ba,[T.value===""?(n(),Le(S,{key:0,class:"upgrade-text-skeleton",active:"",paragraph:!1})):(n(),l("p",ka," $"+t(T.value===""?"--":Number(T.value)==0?0:d(b)(T.value,2)),1))]),o("span",{innerHTML:w.value},null,8,wa)]),o("div",fa,[(n(),l(ee,null,se(f,p=>o("div",{key:p,class:k(["time-item",p==g.value?"time-item-active":""]),onClick:N=>g.value=p},t(p),11,$a)),64))])]),H.value?(n(),l("div",Ta,[_(y)])):W("",!0),o("div",Ca,[o("div",{id:`stats-chart-${e.chartType}`,class:"stats-chart"},null,8,ya)])])}}});const Oa=_e(Sa,[["__scopeId","data-v-4027423e"]]),Aa=ve({components:{TopPools:Ie,SuiTopPools:po,SuiTopTokens:va,TopTokens:es,SuiChart:Oa},setup(){const e=he(),r=M(()=>e),g=we(),f=M(()=>r.value.chainName),{fetchStatsStatisticsData:w}=fe();ie(async()=>{w(),f.value!=="Sui"&&e.getStatsData(r.value.chainName,r.value.filterCoinsObj)});const j=M(()=>r.value.theme);return{chainName:f,theme:j,store:r,importIcon:Te,router:g}}});const La={class:"stats-container"},ja={key:0,class:"select-mask select-mask-sui"},Da={key:1,class:"select-mask"},Pa={key:2,class:"sui-banner"},Ua={class:"echart-box"},Na={key:3,class:"sui-banner"};function Va(e,r,g,f,w,j){const B=te("SuiChart"),F=Ee,L=te("SuiTopPools"),P=te("SuiTopTokens"),T=Ye,H=te("TopPools"),C=te("TopTokens");return n(),l("div",La,[e.chainName=="Sui"?(n(),l("div",ja)):(n(),l("div",Da)),o("div",{class:k(["title",e.chainName=="Sui"?"title-sui":""])},t(e.$t("menu.stats")),3),e.chainName=="Sui"?(n(),l("div",Pa,[o("div",Ua,[_(B,{"chart-type":"tvl"}),_(B,{"chart-type":"vol"})]),_(F),_(L),_(P)])):(n(),l("div",Na,[_(T,{class:"title-overview"}),_(H),_(C)]))])}const cn=_e(Aa,[["render",Va],["__scopeId","data-v-ca9f67b4"]]);export{cn as default};
