import{b as J,c as de,u as te,i as se}from"./pool.83f6439f.js";import{a as Q,m as y,e as X,o as f,f as S,r as k,W as K,G as T,h as a,v as C,i as V,w as F,z as W,Y as me,x as L,Z as fe,y as pe,B as ve,j as G,l as Pe,U as $e,V as Ce,q as Ie,c as H,t as Te,u as Y,S as Ne,X as we,p as ge,k as be,J as le,Q as Me,E as Oe,b as Re}from"./entry.1afe32c4.js";import{_ as Ae}from"./img-lock_2x.a28135f4.js";import"./index.fa5ab6c5.js";/* empty css              */import{f as je,u as Be,h as j,l as _e,i as ne,d as ee,n as Le,A as re,T as ue,y as ce,B as De,m as qe}from"./index.c41a185a.js";import{D as B}from"./decimal.0bdeb344.js";import{i as Z}from"./import-icon.de3e6c66.js";import{_ as ke}from"./token-warning.7014f9c6.js";/* empty css              */import{u as Ve}from"./useDebounceFunction.6fcad2ee.js";/* empty css              */import{_ as Ue}from"./swap-setting.a82a0c56.js";const Ee=Q({setup(){const e=J();return{storeIndex:y(()=>e)}}}),Fe=""+new URL("lock.aebbc2c5.png",import.meta.url).href;const We={class:"create-pool-lock"},ze={key:0,src:Ae,alt:""},He={key:1,src:Fe,alt:""};function Ge(e,t,r,p,_,c){return f(),S("div",We,[e.storeIndex.theme=="default"?(f(),S("img",ze)):(f(),S("img",He))])}const an=X(Ee,[["render",Ge],["__scopeId","data-v-fb497971"]]),Je=Q({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const r=k(""),p=k("");let _=k(""),c=k("");const s=K(),b=J(),u=y(()=>b),N=y(()=>u.value.chainName?de(u.value.chainName):{}),v=()=>{var o,l,h,O;if(!(Number.isNaN(r.value)||Number(r.value)!==0&&!r.value||!e.poolInfo.tickSpacing))try{const{TickUtil:g,TickMath:w,getNearestTickByTick:D}=N.value,q=w.priceToTickIndex(new B(r.value.toString()),(o=d.value.token_a)==null?void 0:o.decimals,(l=d.value.token_b)==null?void 0:l.decimals),U=D(q,Number(d.value.tickSpacing),!0);let i;if(i=w.tickIndexToPrice(U+Number(d.value.tickSpacing),(h=d.value.token_a)==null?void 0:h.decimals,(O=d.value.token_b)==null?void 0:O.decimals),e.pType=="Min"&&Number(i.toString())>Number(c.value.toString()))return;const m=i.toString();t.emit("onInput",m)}catch{t.emit("onInput","")}},P=()=>{var o,l,h,O;try{if(Number.isNaN(r.value)||!r.value||!e.poolInfo.tickSpacing)return;const{TickUtil:g,TickMath:w,getNearestTickByTick:D}=N.value,q=w.priceToTickIndex(new B(r.value.toString()),(o=d.value.token_a)==null?void 0:o.decimals,(l=d.value.token_b)==null?void 0:l.decimals),U=D(q,Number(d.value.tickSpacing),!0);let i;i=w.tickIndexToPrice(U-Number(d.value.tickSpacing),(h=d.value.token_a)==null?void 0:h.decimals,(O=d.value.token_b)==null?void 0:O.decimals);const m=i.toString();if(e.pType=="Max"&&Number(i)<Number(_.value))return;t.emit("onInput",m)}catch{t.emit("onInput","")}},$=o=>{let l=o.toString().replace(/[^\d.]/g,"");const h=/^\d+(\.\d+)?$/;l.split(".").length>2&&!h.exec(l)&&(l=l.substr(0,l.length-1)),p.value=String(l)},I=o=>{if(o&&o!=="0"&&o!=="âˆž"){r.value=o;const h=o.toString().split(".")[1];p.value=o!=="0"&&o!=="âˆž"&&h&&h.length>6?je(o.toString(),6):o.toString()}else(o=="0"||o=="âˆž"||s.query.action)&&(p.value=o)},M=o=>{var D,q,U,i;const{TickUtil:l,TickMath:h,getNearestTickByTick:O}=N.value,g=o.target.value;let w;if(g==="0"){w=-443636,t.emit("onInput","0");return}else if(g!=="0"&&g){const m=h.priceToTickIndex(new B(g),(D=d.value.token_a)==null?void 0:D.decimals,(q=d.value.token_b)==null?void 0:q.decimals);w=O(Number(m),Number(d.value.tickSpacing),!0);const R=h.tickIndexToPrice(new B(w),(U=d.value.token_a)==null?void 0:U.decimals,(i=d.value.token_b)==null?void 0:i.decimals);I(R.toString()),t.emit("onInput",R.toString())}else t.emit("onInput")};T(()=>e.defaultMinPrice,(o,l)=>{o!==l&&(_.value=e.defaultMinPrice)},{immediate:!0}),T(()=>e.defaultMaxPrice,(o,l)=>{o!==l&&(c.value=e.defaultMaxPrice)},{immediate:!0}),T(()=>[e.inputValue,s.query.action],([o])=>{I(o)},{immediate:!0});const d=k({});T(()=>e.poolInfo,(o,l)=>{o&&(d.value=o)},{immediate:!0});const n=k("");return T(()=>e.currentPriceTab,o=>{n.value=o},{immediate:!0}),{addPrice:v,minusPrice:P,oValue:p,changeValue:$,isDisabled:n,route:s,onBlur:M}}});const Qe={class:"set-price-item"},Xe={class:"title"},Ye={class:"input-box"},Ze={key:0,class:"minus-btn"},Ke={key:1,class:"plus-btn"};function xe(e,t,r,p,_,c){const s=fe,b=me;return f(),S("div",Qe,[a("div",Xe,C(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),V(b,{loading:e.loading,active:"",paragraph:!1},{default:F(()=>[a("div",Ye,[e.currentPriceTab!=="full range"?(f(),S("a",Ze,[a("div",{class:W(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:t[0]||(t[0]=(...u)=>e.minusPrice&&e.minusPrice(...u))},"-",2)])):L("",!0),V(s,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=u=>e.oValue=u),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=u=>e.changeValue(u.target.value)),onBlur:t[3]||(t[3]=u=>e.onBlur(u))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(f(),S("a",Ke,[a("div",{class:W(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...u)=>e.addPrice&&e.addPrice(...u))},"+",2)])):L("",!0)])]),_:1},8,["loading"]),a("p",{class:W(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},C(e.toCoin&&e.toCoin.symbol)+" per "+C(e.fromCoin&&e.fromCoin.symbol),3)])}const he=X(Je,[["render",xe],["__scopeId","data-v-c24339c0"]]),et=Q({components:{NewLiquiditySetPrice:he},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let r=k(""),p=k(""),_=k(),c=k(!1),s=k(!1);const b=k({}),u=J(),N=y(()=>u);pe(()=>{r.value=e.min,p.value=e.max}),T(()=>e.currentPriceTab,(n,o)=>{n!==o&&(_.value=e.currentPriceTab)},{immediate:!0}),T(()=>e.min,(n,o)=>{n!==o&&(r.value=n)}),T(()=>e.max,(n,o)=>{n!==o&&(p.value=n)}),T(()=>e.poolInfo,(n,o)=>{n&&(b.value=n)},{immediate:!0});const v=k("");T(()=>e.intPrice,n=>{v.value=n},{immediate:!0,deep:!0});const P=n=>{r.value=n,t.emit("onChangeMinPrice",n)},$=n=>{p.value=n,t.emit("onChangeMaxPrice",n)};T(c,(n,o)=>{n!==o&&t.emit("onChangeFullRange",n)});const I=()=>{r.value=e.defaultMinPrice,p.value=e.defaultMaxPrice,s.value=!1,c.value=!1},M=()=>{s.value=!1,r.value="0",p.value="âˆž"};return T(c,(n,o)=>{n!==o&&t.emit("onChangeFullRange",n)}),{store:N,changeMinPrice:P,changeMaxPrice:$,importIcon:Z,resetPrice:I,changeShowUnderStand:()=>{c.value=!c.value,c.value?s.value=!0:I(),s.value||(r.value=e.defaultMinPrice,p.value=e.defaultMaxPrice)},showUnderStand:s,minPrice:r,maxPrice:p,understand:M,isRadio:c,initPirce:v}}});const tt={class:"set-price"},nt={class:"card-container"},ot={key:0,class:"card"},it={key:1,class:"understand"},at={class:"left"},st={class:"right"};function lt(e,t,r,p,_,c){const s=he,b=ve;return f(),S("div",tt,[a("div",nt,[e.showUnderStand?(f(),S("div",it,[a("div",at,[a("p",null,C(e.$t("common.lowerEfficiency")),1),a("p",null,C(e.$t("common.lowerEfficiencyTips")),1)]),a("div",st,[V(b,{onClick:e.understand},{default:F(()=>[G(C(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(f(),S("div",ot,[V(s,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),V(s,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const sn=X(et,[["render",lt],["__scopeId","data-v-cd90a1d8"]]),rt=Q({components:{TokenWarning:ke},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""}},setup(e,t){const{t:r,locale:p}=Pe(),_=J(),c=y(()=>_),s=y(()=>new B(Number(e.balance)).div(2)),b=$e(Ce,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function u(){this.$emit("onSelect")}const N=Ve(i=>{t.emit("onInput",i),t.emit("onInputLoading",!1)},500),v=k(""),P=i=>{const m=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(g==null?void 0:g.value)&&(g==null?void 0:g.value)}})?).*$`),R=i.target.value.replace(/,/g,"").replace(m,"$1");t.emit("onInputLoading",!0),N(R)},$=i=>{var ae;const m=i.target.selectionStart,R=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(g==null?void 0:g.value)&&(g==null?void 0:g.value)}})?).*$`);console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ event.target.value:",i.target.value);let A=i.target.value.replace(/,/g,"").replace(R,"$1");console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ value:",A);let E=A.includes(".")&&String(j(A))==="0"?A:String(j(A));const ye=se(i.target.value),x=se(E),ie=x.length-ye.length;let z=m+ie;if((ae=i==null?void 0:i.inputType)!=null&&ae.includes("delete")&&ie>0&&m===x[x.length-1]){const Se=i.target.value.slice(0,m-1)+i.target.value.slice(m);E=String(j(Se.replace(/,/g,""))),z=z-2}console.log("ðŸš€ ~ file: assets-card.vue:287 ~ handleInput ~ fValue:",E),v.value=E,setTimeout(()=>{i.target.setSelectionRange(z<0?0:z,z<0?0:z)},0)};T(()=>e.inputValue,i=>{console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ newValue:",i);const m=i.includes(".")&&String(j(i))==="0"?i:String(j(i));console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ fValue:",m),console.log("ðŸš€ ~ file: assets-card.vue:287 ~ setup ~ addCommom(newValue):",j(i)),m!==v.value&&(v.value=m)},{immediate:!0});const I=Be(),M=y(()=>I),d=te(),n=y(()=>d),o=y(()=>n.value.tokensWarningObj);let l=k({});T(()=>n.value.RATES,i=>{i&&(l.value=i)},{immediate:!0,deep:!0});const h=y(()=>{var R,A,E;const i=(l==null?void 0:l.value)&&((R=l==null?void 0:l.value)==null?void 0:R[e.address])&&((E=(A=l==null?void 0:l.value)==null?void 0:A[e.address])==null?void 0:E.price)||0,m=ee(e.inputValue||0).mul(i).toNumber();return i<=0?0:(console.log("ðŸš€ðŸš€ðŸš€ ~ file: assets-card.vue:567 ~ amountPirce ~ amount:",m),m>0&&m<.01?"<$0.01":`$${Le(m,2)}`)}),O=y(()=>{var i,m;return n.value.tokensObj&&e.address&&n.value.tokensObj[e.address]&&((i=n.value.tokensObj[e.address])==null?void 0:i.labels)&&((m=n.value.tokensObj[e.address])==null?void 0:m.labels[0])}),g=y(()=>{var i;return n.value.tokensObj&&e.address&&n.value.tokensObj[e.address]&&((i=n.value.tokensObj[e.address])==null?void 0:i.decimals)}),w=y(()=>{var i,m,R,A;return e.coinIcon||((m=(i=n==null?void 0:n.value)==null?void 0:i.tokensObj[e.address])==null?void 0:m.logo_url)||((A=(R=n==null?void 0:n.value)==null?void 0:R.tokensObj[e.address])==null?void 0:A.logoURI)||(c.value.theme==="default"?Z("/image/coins/unknown.png"):Z("/image/coins/sui-unknown.png"))}),D=y(()=>n.value.tokensObj),q=y(()=>c.value.theme);return{route:K(),theme:q,currentIcon:w,tokensObj:D,pool:n,halfBalance:s,coinLabels:O,t:r,addCommom:j,store:c,wallet:M,indicator:b,inputChange:P,importIcon:Z,selectCoin:u,amountPirce:h,coinDecimals:g,formatNumber:_e,tokensWarningObj:o,checkNullObj:ne,handleInput:$,formattedValue:v}}});const ut=e=>(ge("data-v-ff535736"),e=e(),be(),e),ct={class:"card"},dt={class:"top"},mt={key:1,class:"input-div"},ft={key:0},pt={class:"loading-token"},vt={key:1},gt={key:0},bt=ut(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),_t=[bt],kt={class:"bottom"},ht={key:0,class:"amount-price"},yt={key:1},St={class:"top"},Pt={class:"right"},$t={class:"balance"};function Ct(e,t,r,p,_,c){const s=fe,b=Ne,u=we,N=ke,v=me,P=ve,$=Ie("image");return f(),S("div",ct,[a("div",dt,[e.inputDisabled?(f(),S("div",mt,[e.inputValue?(f(),S("span",ft,C(e.inputValue),1)):(f(),H(b,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(f(),H(s,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.formattedValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:e.handleInput,onFocus:t[0]||(t[0]=I=>e.$emit("onFocus"))},null,8,["value","disabled","onChange","onInput"])),a("div",{class:W(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"?"left-opcity":""].join("")]),onClick:t[1]||(t[1]=I=>e.pool.isTokenLoading?"":e.selectCoin())},[a("div",pt,[e.pool.isTokenLoading?(f(),H(u,{key:0,active:"",size:"small",paragraph:!1})):e.address?Te((f(),S("img",vt,null,512)),[[$,e.currentIcon]]):L("",!0),V(N,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),V(v,{loading:e.pool.isTokenLoading,class:"loading-token-skeleton",active:"",paragraph:!1},{default:F(()=>[a("div",null,[a("p",null,C(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(f(),S("p",gt,C(e.coinLabels),1)):L("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(f(),S("svg",{key:0,class:W(["icon",e.pool.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},_t,2)):L("",!0)],2)]),a("div",kt,[e.inputValue&&e.amountPirce!="--"?(f(),S("div",ht,C(("formatNumber"in e?e.formatNumber:Y(_e))(e.amountPirce)),1)):(f(),S("div",yt)),a("div",St,[a("div",Pt,[G(C(e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),a("span",$t,C(e.wallet.connected?("addCommom"in e?e.addCommom:Y(j))(e.balance,e.coinDecimals):"0"),1),e.havemax&&e.wallet.connected?(f(),H(P,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:Y(j))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:t[2]||(t[2]=I=>e.$emit("onHalf"))},{default:F(()=>[G(C("Half"))]),_:1},8,["disabled"])):L("",!0),e.havemax&&e.wallet.connected?(f(),H(P,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:Y(j))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:t[3]||(t[3]=I=>e.$emit("onMax"))},{default:F(()=>[G(C(e.$t("button.max")),1)]),_:1},8,["disabled"])):L("",!0)])])])])}const ln=X(rt,[["render",Ct],["__scopeId","data-v-ff535736"]]),It=Q({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const t=te(),r=y(()=>t),p=J(),_=y(()=>p),c=K(),s=y(()=>{let v=null;if(c.name=="liquidity-create")v=e.createPoolInfo;else for(const P in r.value.poolsObj){const $=r.value.poolsObj[P];$.address==c.query.poolAddress&&(v=$)}return v});y(()=>_.value.chainName?de(_.value.chainName):{}),y(()=>_.value.slippage);const b=k(),u=k(),N=()=>{let v,P,$,I,M,d,n;s.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&s.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?M=!0:M=!1;const o=s.value.token_a.decimals,l=s.value.token_b.decimals;let h=r.value.poolPriceConfigObj&&r.value.poolPriceConfigObj[s.value.address]&&r.value.poolPriceConfigObj[s.value.address].recommend_ranges||{};if(e.minPrice==="0"&&e.maxPrice==="âˆž")v=re.getMinIndex(s.value.tickSpacing),P=re.getMaxIndex(s.value.tickSpacing);else if(e.currentPriceTab=="custom"){M?($=e.minPrice,I=e.maxPrice):($=e.maxPrice!=="âˆž"?new B(1).div(e.maxPrice).toString():1/0,I=new B(1).div(e.minPrice).toString());try{d=ue.priceToTickIndex(new B($),o,l)}catch{d=-443636}try{n=ue.priceToTickIndex(new B(I),o,l)}catch{n=443636}$==0&&(d=-443636),v=ce(d,Number(s.value.tickSpacing)),P=ce(n,Number(s.value.tickSpacing))}else v=h&&h[e.currentPriceTab]&&h[e.currentPriceTab].lower,P=h&&h[e.currentPriceTab]&&h[e.currentPriceTab].upper;const O=De.calculateDepositRatio(v,P,new qe(s.value.current_sqrt_price));console.log("ðŸš€ðŸš€ðŸš€ ~ file: useDepositRatio.ts:6 ~ getDepositRatio ~ ratios:",O);const g=O.ratioA.mul(100).toDP(0,B.ROUND_HALF_UP);b.value=s.value.needReverse?ee(100).sub(g).toString():g.toString(),u.value=s.value.needReverse?g.toString():ee(100).sub(g).toString()};return T(()=>[s.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([v,P,$,I,M])=>{P&&$&&v&&!ne(v)&&(P!=="0"||$!=="0")?N():(b.value="",u.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:b,toCoinRatio:u}}});const Tt={class:"deposit-ratio"},Nt={class:"deposit-ratio-text"},wt=a("span",null,"Deposit Ratio",-1),Mt=a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-tips1"})],-1),Ot={class:"deposit-ratio-content"},Rt={class:"coin-ratio"},At={class:"coin-a-ratio"},jt={class:"coin-b-ratio"},Bt={class:"ratio-progress"};function Lt(e,t,r,p,_,c){var b,u;const s=Me;return f(),S("div",Tt,[a("div",Nt,[wt,V(s,{placement:"bottom","arrow-point-at-center":""},{title:F(()=>[a("span",null,C(e.$t("newAdd.depositRatioTips")),1)]),default:F(()=>[Mt]),_:1})]),a("div",Ot,[a("div",Rt,[a("div",At,[a("span",null,C((b=e.fromCoin)==null?void 0:b.symbol),1),G(" "+C(e.fromCoinRatio)+"% ",1)]),a("div",jt,[a("span",null,C((u=e.toCoin)==null?void 0:u.symbol),1),G(" "+C(e.toCoinRatio)+"% ",1)])]),a("div",Bt,[a("div",{class:"from-percent",style:le({width:e.fromCoinRatio+"%"})},null,4),a("div",{class:"to-percent",style:le({width:e.toCoinRatio+"%"})},null,4)])])])}const rn=X(It,[["render",Lt]]),Dt=Q({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const r=k(!1),p=k(null),_=k(0);let c=k(!1);const s=k(20),b=te(),u=J(),N=k(!1);pe(()=>{}),Oe(()=>{clearInterval(p.value)});const v=()=>{c.value=!1,p.value=setInterval(()=>{var n;N.value||_.value<s.value&&(_.value+=1,_.value===s.value&&(c.value=!0,(n=e==null?void 0:e.poolInfo)!=null&&n.poolAddress&&b.updateCurrentPools(e.poolInfo.poolAddress,u.chainName),_.value=0,setTimeout(()=>{c.value=!1},1e3)))},1e3)},P=y(()=>u.slippage),$=()=>{t.emit("clearAll")},I=()=>{c.value||(c.value=!0,_.value=0,t.emit("clickRefresh"),setTimeout(()=>{c.value=!1,v()},1e3))};T(()=>e.poolInfo,n=>{n&&!p.value&&v()},{immediate:!0});const M=Re(),d=K();return{refresh:c,clickRefresh:I,isShowSwapSetting:r,countdown:_,autoRefreshTime:s,slippage:P,clearAll:$,checkNullObj:ne,router:M,route:d}}});const oe=e=>(ge("data-v-906fb979"),e=e(),be(),e),qt={class:"title"},Vt=oe(()=>a("div",{class:"left"},[a("span",null,"Deposit Amounts")],-1)),Ut=oe(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Et={key:0,class:"deposit-progress"},Ft=oe(()=>a("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Wt=[Ft];function zt(e,t,r,p,_,c){const s=Ue;return f(),S("div",qt,[Vt,a("div",{class:W(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[a("div",{class:"slippage-icon",onClick:t[0]||(t[0]=b=>e.isShowSwapSetting=!0)},[Ut,a("span",null,C(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(f(),S("div",Et,[(f(),S("svg",{"aria-hidden":"true",class:W(e.refresh?"refresh-icon refresh":"refresh-icon"),onClick:t[1]||(t[1]=(...b)=>e.clickRefresh&&e.clickRefresh(...b))},Wt,2))])):L("",!0)],2),e.isShowSwapSetting?(f(),H(s,{key:0,onOnClose:t[2]||(t[2]=b=>e.isShowSwapSetting=!1)})):L("",!0)])}const un=X(Dt,[["render",zt],["__scopeId","data-v-906fb979"]]);export{un as _,rn as a,an as b,ln as c,sn as d};
