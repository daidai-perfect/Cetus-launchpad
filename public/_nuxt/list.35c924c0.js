import{P as oe}from"./pool-position-tab.5f3bc930.js";import{u as te,P as le}from"./pool-filter-block.6c671d7c.js";import{R as x,A as se,P as ae}from"./apr-tips.f03c5c69.js";import{u as ie}from"./useToken.31e8d532.js";import{u as U}from"./filter-pool-by-coin.344cb510.js";import{u as ne}from"./stats.d9e5968f.js";import{c as re,G}from"./pool.2587b8e2.js";import{u as ue}from"./useStatsData.a76cccba.js";import{R as ce,T as de,a as pe}from"./to-add.03535952.js";import{N as ve,T as me}from"./no-data.d7ce3ac1.js";import{a as fe,r as H,m as u,D as he,y as X,M as _e,o as g,f as F,i as s,w as J,h as n,v as V,x as K,c as Q,F as ge,p as Pe,k as be,e as Se}from"./entry.a4db0d61.js";import"./index.6288ac24.js";import"./decimal.765d8738.js";import"./select-tab.1eda41c8.js";import"./icon-selected_3x.09e9a6f0.js";import"./useSDK.96ba4be6.js";import"./decimal.a2826370.js";import"./coin-img.a6207125.js";import"./icon_autopools_2x.e198b988.js";import"./token-warning_2x.9203e937.js";import"./import-icon.de3e6c66.js";/* empty css              */import"./nuxt-link.5f3bcca1.js";import"./icon_farms_2x.ee5d6380.js";import"./farms.e6aa98f0.js";import"./icon_autopools_2x.662dc271.js";import"./icon_fee_2x.2835f470.js";import"./icon_rewards_2x.5f9847a6.js";import"./coin-select.f0a208bf.js";/* empty css              */import"./img-no-Positions_2x.03349b71.js";import"./img-no-Positions_2x.dac445b1.js";import"./formatter.eb225502.js";/* empty css              */import"./index.b10985b1.js";const D=P=>(Pe("data-v-82232009"),P=P(),be(),P),ye={key:0,class:"virtual-table"},ke=D(()=>n("th",null,"Pools",-1)),Ae=D(()=>n("th",null,"Mining Rewards",-1)),Le=D(()=>n("th",null,"Actions",-1)),Te={class:"acion"},we=fe({__name:"pool-list-table",setup(P){const{getPoolList:R}=te(),{getStatusData:A}=ue(),c=H([]),b=u(()=>c.value.map(i=>Object.assign({},{random:Math.random()},i))),{getTokenList:B,getToken:L}=ie(),S=U(),f=u(()=>S),W=u(()=>f.value.poolList),I=u(()=>f.value.isAllPool),y=u(()=>f.value.incentiveTypeList),N=u(()=>f.value.selectLabel),a=u(()=>f.value.filterPoolCoinList),Y=ne(),Z=u(()=>Y),E=u(()=>Z.value.poolsStatsObj),q=async(r,i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:181 ~ buildPoolList ~ statsInfo, list:",r,i);let k=[];for(let e=0;e<i.length;e++){const o=i[e],m=r[o.address],h=await L(i[e].displayTokenAAddress),_=await L(i[e].displayTokenBAddress),M=[];h!=null&&h.labels&&M.push(...h.labels),_!=null&&_.labels&&M.push(..._.labels);let j=!1,$=!1;m&&m.stableFarming&&m.stableFarming.length>0&&(j=!0),m&&m.autoPool&&m.autoPool.clmm_pool&&($=!0);const z={...o,tvl:0,fees24:0,totalApr:0,volume24:0,...m,tokenA:h,tokenB:_,labels:[...new Set(M)],isFarming:j,isVaults:$};(!I.value&&h.is_trusted&&_.is_trusted||I.value)&&k.push(z)}let d=[];y.value.length>0?k.forEach(e=>{(y.value.includes("Mining")&&e.haveMining||y.value.includes("Farming")&&e.isFarming||y.value.includes("No incentives")&&!e.haveMining&&!e.isFarming)&&d.push(e)}):d=[],console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:259 ~ buildPoolList ~ incentivePool:",d);let t=[];N.value!=="All"?d.forEach(e=>{e.labels.includes(N.value)&&t.push(e)}):t=d;let w=[];a.value&&a.value.length>0?(console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:282 ~ buildPoolList ~ filterPoolCoinList.value.length:",a.value.length),t.forEach(e=>{a.value.length==2&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&(a.value[1]==e.displayTokenAAddress||a.value[1]==e.displayTokenBAddress)&&w.push(e),a.value.length==1&&(a.value[0]==e.displayTokenAAddress||a.value[0]==e.displayTokenBAddress)&&w.push(e)})):w=t;let p=w,v=[];l.value.label=="Volume (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.volume24-e.volume24):p.sort((e,o)=>e.volume24-o.volume24)),l.value.label=="Liquidity"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.tvl-e.tvl):p.sort((e,o)=>e.tvl-o.tvl)),l.value.label=="Fees (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.fees24-e.fees24):p.sort((e,o)=>e.fees24-o.fees24)),l.value.label=="APR (24H)"&&(v=l.value.sort=="desc"?p.sort((e,o)=>o.totalApr-e.totalApr):p.sort((e,o)=>e.totalApr-o.totalApr)),S.setPoolListNum(v&&v.length),c.value=v,S.setPoolListLoading(!1),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:194 ~ buildPoolList ~ pageList.value:",v)},l=H({label:"Volume (24H)",sort:"desc"}),T=r=>{l.value=r,q(E.value,W.value),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pools.vue:234 ~ changeSort ~ sortInfo.value:",l.value)},C=u(()=>f.value.isPoolLoading);he(()=>[E.value,W.value,I.value,y.value,N.value,a.value],([r,i])=>{r&&!re(r)&&i&&i.length>0&&q(r,i)},{immediate:!0});const O=H(null);X(()=>{console.log("ðŸš€ ~ file: pools.vue:20 ~ onMounted ~ onMounted start"),R(),B(),A(),window.scroller=O.value});const ee=[{title:"Pools",hasSort:!1,tdWidth:"330px"},{title:"Liquidity",hasSort:!0,tdWidth:"158px"},{title:"Volume (24H)",hasSort:!0,tdWidth:"158px"},{title:"Fees (24H)",hasSort:!0,tdWidth:"158px"},{title:"Mining Rewards",hasSort:!1,tdWidth:"158px"},{title:"APR (24H)",hasSort:!0,toolTip:"Estimated according to trading activity in the past 24 hours",tdWidth:"138px"},{title:"Actions",hasSort:!1,tdWidth:"178px"}];return(r,i)=>{const k=ae,d=_e("RecycleScroller");return g(),F(ge,null,[C.value?K("",!0):(g(),F("table",ye,[s(d,{ref_key:"scroller",ref:O,class:"scroller",items:b.value,"item-size":80,"page-mode":"","key-field":"address"},{before:J(()=>[n("thead",null,[ke,s(x,{label:"Liquidity","sort-info":l.value,onSort:T},null,8,["sort-info"]),s(x,{label:"Volume (24H)","sort-info":l.value,onSort:T},null,8,["sort-info"]),s(x,{label:"Fees (24H)","sort-info":l.value,onSort:T},null,8,["sort-info"]),Ae,s(x,{label:"APR (24H)","tool-tip":"Estimated according to trading activity in the past 24 hours","sort-info":l.value,onSort:T},null,8,["sort-info"]),Le])]),default:J(({item:t})=>[(g(),F("tr",{key:t.address},[n("td",null,[s(k,{"pool-info":t},null,8,["pool-info"])]),n("td",null,V(t.tvlDisplay||"--"),1),n("td",null,V(t.volume24Display||"--"),1),n("td",null,V(t.fees24Display||"--"),1),n("td",null,[s(ce,{"reward-list":t.miningRewardList||[]},null,8,["reward-list"])]),n("td",null,[s(se,{"pool-info":t},null,8,["pool-info"])]),n("td",null,[n("div",Te,[s(de,{"from-coin-address":t.tokenAAddress,"to-coin-address":t.tokenBAddress},null,8,["from-coin-address","to-coin-address"]),s(pe,{"pool-address":t.address},null,8,["pool-address"])])])]))]),_:1},8,["items"])])),!C.value&&c.value&&c.value.length==0?(g(),Q(ve,{key:1,url:"/sui-image/img-no-Positions@2x.png",text:"No pools found"})):C.value?(g(),Q(me,{key:2,columns:ee,"data-source-length":10})):K("",!0)],64)}}});const xe=Se(we,[["__scopeId","data-v-82232009"]]),Fe={class:"pools-list-container"},po={__name:"list",setup(P){const R=[{label:"Mining"},{label:"Farming"},{label:"No incentives"}],A=U();return X(()=>{const c=G("pools-Sui-selectall");c&&A.setIsAllPool(c);const b=G("selectIncentiveTypeList");b&&A.setIncentiveTypeList(b)}),(c,b)=>{const B=oe,L=le,S=xe;return g(),F("div",Fe,[s(B),s(L,{"dropdown-checkbox-options":R,"dropdown-checkbox-value":c.dropdownCheckboxValue},null,8,["dropdown-checkbox-value"]),s(S)])}}};export{po as default};
