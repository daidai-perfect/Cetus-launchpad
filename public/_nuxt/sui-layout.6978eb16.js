import{u as I,C as j,a as q,b as F,c as P,e as K,f as U,g as z,h as G,i as J,j as Q,d as X,M as Y}from"./head.bf2ff446.js";import{a as Z,E as V,m as g,y as ee,r as w,T as te,D as C,o as n,f as x,i as y,x as a,c as l,fh as oe}from"./entry.245dc163.js";import{_ as se}from"./term-and-conditions.28d97c9c.js";import{a as ne,u as ae,b as le}from"./pool.521bfdc1.js";import{u as ue}from"./index.881efd6c.js";import{u as re}from"./useTheme.11ffba81.js";import"./import-icon.de3e6c66.js";import"./img-no-Positions_2x.ca3d4a5d.js";import"./img-no-Positions_2x.88c08ae0.js";/* empty css              */import"./index.4b6109f8.js";import"./icon-selected_3x.09e9a6f0.js";import"./nuxt-link.22eaa5d1.js";import"./launchpad.3ef3b23a.js";import"./vesrion-beta.b644a634.js";/* empty css              */import"./decimal.0bdeb344.js";import"./notifi.d3f750b8.js";import"./useWhale.b60c72d7.js";import"./bignumber.266e6c56.js";const ce={class:"sui-default-container"},ie={key:0,class:"web-loading-box"},He=Z({__name:"sui-layout",setup(me){const p=re(),u=V(),f=ne(),e=g(()=>f);ee(()=>{var t,i;if(u&&u.query&&u.query.source)p.seleteDefaultTheme();else{const v=(t=u==null?void 0:u.query)==null?void 0:t.chain,m=(i=u==null?void 0:u.query)==null?void 0:i.network,r=v||localStorage.getItem("theme");!r||r&&r.includes("sui")?m==="testnet"||r==="sui2"?p.selectSui2Theme():p.selectSuiTheme():p.seleteDefaultTheme()}document.addEventListener("click",()=>{e.value.setIsShowMore(!1),e.value.setOpenMore(!1),e.value.setOpenSwitchLang(!1),e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),o.value.setIsShowWalletCard(!1)});const s=localStorage.getItem("chainName");window.addEventListener("updateExplorer",v=>{const m=localStorage.getItem(`${s}-currentExplorerUrl`);f.setCurrentExplorer(m)})});let h=w();const S=ue(),o=g(()=>S),{connect:ve,disconnect:O}=I(),T=()=>{const s=I(),t=localStorage.getItem("chainName")||"",i=localStorage.getItem(`cetus-${t}-current-wallet`),v=localStorage.getItem(`cetus-${t}-wallet-icon-name`)||"",m=localStorage.getItem(`cetus-${t}-current-suiwallet`)||"";Y.inMSafeWallet()?s.connect("MSafe Wallet","Msafe","Sui","","MSafe Wallet"):i?s.connect(i,v,t,"",m):t&&t.toLowerCase().includes("sui")&&s.disconnect(),h.value=window.setInterval(async()=>{if(o.value.address&&!o.value.loading&&o.value&&o.value.address&&o.value.countdown<o.value.autoRefreshTime&&(S.setCountdown(o.value.countdown+1),o.value.countdown===o.value.autoRefreshTime))try{await le(e.value.chainName).getAccount(o.value.address)}catch(r){console.log(r,"errorBalance")}},1e4)};te(()=>{document.removeEventListener("click",()=>{e.value.setOpenH5Icon(!1),e.value.setOpenSwitchChain(!1),e.value.setOpenMore(!1),e.value.setIsShowMore(!1),e.value.setOpenSwitchLang(!1),e.value.setIsShowSetting(!1),e.value.setIsIdoOpenTerm(!1),e.value.setIsOpenExplorer(!1),e.value.setIsShowNotifi(!1),e.value.setIsShowHeaderMore(!1),e.value.setIsShowHeaderEarn(!1),o.value.setIsShowWalletCard(!1)}),window.clearInterval(h.value)});const k=()=>{S.setIsShowWalletModal(!1),O()},B=()=>{S.setSwitchWallet(!0)},_=w(!0);C(()=>e.value.theme,s=>{const t=s==="sui2"?"sui":s;document.getElementsByTagName("body")[0].className=`theme-${t}`,s&&(T(),_.value=!0,setTimeout(()=>{_.value=!1},1e3))},{immediate:!0});const d=w(!1);localStorage.getItem("isFirstAccess")||(d.value=!0);const M=()=>{localStorage.setItem("isFirstAccess","true"),d.value=!1},W=()=>{f.setTransactionDescText(""),f.setIsShowWaiting(!1)},N=ae();return C(()=>e.value.chainName,(s,t)=>{s&&s!==t&&N.setTokens(s)},{immediate:!0}),(s,t)=>{const i=q,v=oe,m=F,r=P,$=X,E=K,H=se,L=U,D=z,b=G,A=J,R=Q;return n(),x("div",ce,[y(j),_.value?(n(),x("div",ie,[y(i)])):a("",!0),y(v),e.value&&e.value.isShowSuccess?(n(),l(m,{key:1,onOnClose:t[0]||(t[0]=c=>e.value.setIsShowSuccess(!1))})):a("",!0),e.value&&e.value.isShowRejected?(n(),l(r,{key:2,onOnClose:t[1]||(t[1]=c=>e.value.setIsShowRejected(!1))})):a("",!0),e.value&&e.value.isShowWaiting?(n(),l($,{key:3,onOnClose:W})):a("",!0),o.value&&o.value.isShowWalletModal?(n(),l(E,{key:4,onOnDisconnect:t[2]||(t[2]=c=>k()),onOnSwitch:t[3]||(t[3]=c=>B()),onOnClose:t[4]||(t[4]=c=>o.value.setIsShowWalletModal(!1))})):a("",!0),d.value?(n(),l(H,{key:5,onClose:M})):a("",!0),e.value&&e.value.isShowSettingH5?(n(),l(L,{key:6,onOnClose:t[5]||(t[5]=c=>e.value.setIsShowSettingH5(!1))})):a("",!0),e.value&&e.value.isShowBuyCrypto?(n(),l(D,{key:7,onOnClose:t[6]||(t[6]=c=>e.value.setIsShowBuyCrypto(!1))})):a("",!0),e.value&&e.value.isShowBuyCryptoKODO?(n(),l(b,{key:8,onOnClose:t[7]||(t[7]=c=>e.value.setIsShowBuyCryptoKODO(!1))})):a("",!0),e.value&&e.value.isShowBuyCryptoConfirm?(n(),l(A,{key:9,onClose:t[8]||(t[8]=c=>e.value.setIsShowBuyCryptoConfirm(!1))})):a("",!0),e.value&&e.value.isShowBuyCryptoSelect?(n(),l(R,{key:10,onClose:t[9]||(t[9]=c=>e.value.setIsShowBuyCryptoSelect(!1))})):a("",!0)])}}});export{He as default};
