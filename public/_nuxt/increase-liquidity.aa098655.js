import{_ as Eo}from"./back.2e6d11f1.js";import{_ as Wo}from"./coin-pair-name.3eff6aae.js";import{_ as Xo}from"./status-block.2c403ed7.js";import{_ as _o,a as jo,c as Ho,b as zo}from"./add-liquidity.9fb46e36.js";import{_ as Ko}from"./assets-card.58c4187e.js";import{_ as Go}from"./token-warning.58f95af8.js";import{a as Jo,_ as Qo}from"./network-tips.f01384cc.js";import{_ as Vo}from"./coin-select.3f304d8a.js";import{u as Yo,i as Zo,a as xo,p as Ze,k as Q,b as en,f as Uo,g as on,e as se,c as Ce,D as b,d as Se,l as nn,m as sn,s as Mo}from"./pool.93e3442c.js";import{p as Ae}from"./precision.a7a6c57b.js";import{a as an,l as tn,m as D,r as m,b as ln,y as un,N as rn,D as Ne,e as dn,q as vn,o as k,f as h,h as n,i as W,v as i,z as Do,u as S,x as z,t as pe,j as fe,F as mn,s as pn,w as fn,c as xe,H as cn,B as bn,K as kn,p as In,k as yn}from"./entry.498536d1.js";/* empty css              */import{u as hn}from"./index.b4474164.js";import{i as eo}from"./import-icon.de3e6c66.js";/* empty css              *//* empty css              */import"./notifi.2adf71a4.js";/* empty css              *//* empty css              */import"./img-no-Positions_2x.21b63493.js";const wn=an({setup(){const{t:e,locale:t}=tn(),$e=hn(),N=D(()=>$e),Pe=m(20),V=m(0),Te=m(null);let ce=m(!1);const Be=m(!1),ae=m(!1),te=m("fromCoin"),le=m(""),be=m(""),ke=m(!1),Ie=m(!1),q=m(!0),u=m(""),r=m(""),G=m(!1),Oe=m(!1),ue=D(()=>$e.slippage),qe=D(()=>{const o=Number(u.value)>Number(A.value),d=Number(r.value)>Number(R.value);return ye.value?e("button.enterAmount"):o?e("button.insufficientBalance",{name:s.value.symbol}):d?e("button.insufficientBalance",{name:a.value.symbol}):e("newAdd.addMore")}),Le=D(()=>f.value&&!c.value&&r.value||c.value&&!f.value&&u.value?!1:!(!c.value&&!f.value&&r.value&&u.value)),Ue=D(()=>{const o=Number(u.value)>Number(A.value),d=Number(r.value)>Number(R.value);return f.value&&!c.value&&!d||c.value&&!f.value&&!o?!1:!(!f.value&&!c.value&&!o&&!d.value)}),ye=D(()=>f.value&&!c.value&&!r.value||c.value&&!f.value&&!u.value?!0:!f.value&&!c.value&&(!u.value||!r.value)),Y=m(""),Z=m(""),x=m(""),Me=Yo(),p=D(()=>Me),s=m({}),a=m({}),l=m(p.value.currentPositionInfo||{}),De=Zo(),B=D(()=>De),K=ln();un(()=>{he()}),rn(()=>{B.value.connected||K.push("/position")});const _e=D(()=>N.value.chainName),O=D(()=>N.value.chainName?xo(N.value.chainName):{}),re=async()=>{p.value.setCurrentPositionLoading(!0);const o=K.currentRoute.value.query.token||"",d=K.currentRoute.value.query.collect||"",w=K.currentRoute.value.query.pos||"";N.value.chainName==="Aptos"?o&&d&&(Y.value=d,Z.value=K.currentRoute.value.query.address,x.value=o,p.value.setCurrentPositionInfo(Z.value,Y.value,x.value,N.value.chainName),l.value=p.value.currentPositionInfo):w&&(Y.value=d,Z.value=K.currentRoute.value.query.address,x.value=o,p.value.setCurrentPositionInfo(Z.value,Y.value,x.value,N.value.chainName,w),l.value=p.value.currentPositionInfo)};Ne(()=>p.value.addressLpTokens,o=>{Ce(o)||re()},{immediate:!0}),Ne(()=>p.value.currentPositionInfo,o=>{if(o){l.value=o,s.value=l.value.token_a,a.value=l.value.token_b;let d=Number(l.value.tick_lower_index),w=Number(l.value.tick_upper_index);const I=Number(l.value.current_tick_index);(l.value.maxPrice.indexOf("+")>0||l.value.maxPrice==="∞"?"∞":l.value.maxPrice)=="∞"||I>d&&I<w?(f.value=!1,c.value=!1):I>=w?(u.value="",f.value=!0,c.value=!1):I<=d?(f.value=!1,c.value=!0,r.value=""):(f.value=!0,u.value="",c.value=!0,r.value=""),me()}});const f=m(!1),c=m(!1),J=m({}),de=m(),ve=m(),me=()=>{var H;if(!l.value||!u.value&&!r.value)return;const{TickMath:o,TickUtil:d}=O.value;let w=l.value.minPrice,I=l.value.maxPrice.indexOf("+")>0?"∞":l.value.maxPrice;console.log(l.value,"positionInfo.value====>");let y=Number(l.value.tick_lower_index),$=Number(l.value.tick_upper_index);const j=Number(l.value.current_tick_index);let L,F,X=Number(w).toString(),P=l.value.maxPrice.indexOf("+")>0||l.value.maxPrice==="∞"?"∞":Number(I);if(X=="0"&&P=="∞"?(y=Number(l.value.tick_lower_index),$=Number(l.value.tick_upper_index)):(L=o.priceToSqrtPriceX64(new b(w),s.value.decimals,a.value.decimals),F=o.priceToSqrtPriceX64(new b(I),s.value.decimals,a.value.decimals)),de.value=y,ve.value=$,console.log(y,$,"tick_lowertick_lower"),I!=="∞"&&y>=$){f.value=!0,u.value="",c.value=!0,r.value="";return}if(I=="∞"||j>y&&j<$){console.log("0413###increase###11111"),f.value=!1,c.value=!1;let g;if(u.value||r.value){if(q.value){const ie=new b(u.value).mul(Math.pow(10,s.value.decimals)).toString();g=new Se(ie)}else{const ie=new b(r.value).mul(Math.pow(10,a.value.decimals)).toString();g=new Se(ie)}const{liquidityAmount:U,tokenMaxA:E,tokenMaxB:C,tokenMaxAOrigin:T,tokenMaxBOrigin:M}=O.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:s.value,tokenB:a.value,lowerTick:y,upperTick:$,coinAmount:g,iscoinA:ee.value?q.value:!q.value,roundUp:!0,slippage:Number(ue.value)/100,curSqrtPrice:new Se(l.value.current_sqrt_price)});J.value={liquidityAmount:U,tokenMaxA:E,tokenMaxB:C,tokenMaxAOrigin:T,tokenMaxBOrigin:M},ee.value?q.value?r.value=Number(C)>0?C:"":u.value=Number(E)>0?E:"":q.value?r.value=E:u.value=C}}else if(j>=$){if(console.log("0413###increase###22222"),u.value="",f.value=!0,c.value=!1,u.value||r.value){let g;const U=new b(r.value).mul(Math.pow(10,(H=a.value)==null?void 0:H.decimals)).toString();g=new Se(U),J.value={liquidityAmount:nn(L,F,g),tokenMaxA:0,tokenMaxB:r.value}}}else if(j<=y){if(console.log("0413###increase###33333"),f.value=!1,c.value=!0,r.value="",u.value||r.value){let g;const U=new b(u.value).mul(Math.pow(10,s.value.decimals)).toString();g=new Se(U),J.value={liquidityAmount:sn(L,F,g),tokenMaxA:u.value,tokenMaxB:0}}}else console.log("0413###increase###4444"),f.value=!0,u.value="",c.value=!0,r.value=""};Ne(u,(o,d)=>{o&&me(),o==""&&(r.value="")}),Ne(r,(o,d)=>{o&&me(),o==""&&(u.value="")});const A=D(()=>B.value.assets&&s.value&&B.value.assets[s.value.address]?Ze(B.value.assets[s.value.address].balance,s.value.decimals):0),R=D(()=>B.value.assets&&a.value&&B.value.assets[a.value.address]?Ze(B.value.assets[a.value.address].balance,a.value.decimals):0),ee=m(!0);function je(o){ee.value=o}const Fe=()=>{re(),V.value=0,ce.value=!0,setTimeout(()=>{ce.value=!1},1e3)},Ee=()=>{const o=s.value;s.value=a.value,a.value=o,Ie.value=!Ie.value},We=o=>{var d,w,I,y;te.value=o,o==="fromCoin"?(le.value=((d=a.value)==null?void 0:d.symbol)||"",be.value=((w=s.value)==null?void 0:w.symbol)||""):(le.value=((I=s.value)==null?void 0:I.symbol)||"",be.value=((y=a.value)==null?void 0:y.symbol)||""),ke.value=!0},Xe=o=>{te.value==="fromCoin"?(a.value&&o.symbol.toLowerCase()===(a==null?void 0:a.value.symbol.toLowerCase())&&(a.value=null),s.value=o):(s.value&&o.symbol.toLowerCase()===(s==null?void 0:s.value.symbol.toLowerCase())&&(s.value=null),a.value=o),ke.value=!1},He=o=>{o==="fromCoin"?(q.value=!0,N.value.chainName==="Aptos"?u.value=A.value>0?s.value.symbol=="APT"?new b(Number(A.value)).sub(new b(.1)).lt(new b(0))?"0":new b(Number(A.value)).sub(new b(.1)).toString():String(A.value):"":u.value=A.value>0?s.value.symbol=="SUI"?new b(Number(A.value)).sub(new b(.05)).lt(new b(0))?"0":new b(Number(A.value)).sub(new b(.05)).toString():String(A.value):""):(q.value=!1,N.value.chainName==="Aptos"?r.value=R.value>0?a.value.symbol=="APT"?new b(Number(R.value)).sub(new b(.1)).lt(new b(0))?"0":new b(Number(R.value)).sub(new b(.1)).toString():String(R.value):"":r.value=R.value>0?a.value.symbol=="SUI"?new b(Number(R.value)).sub(new b(.05)).lt(new b(0))?"0":new b(Number(R.value)).sub(new b(.05)).toString():String(R.value):"")},ze=o=>{o==="fromCoin"?(q.value=!0,u.value=Mo(new b(Number(A.value)).div(2).toString(),s.value.decimals).toString()):(q.value=!1,r.value=Mo(new b(Number(R.value)).div(2).toString(),a.value.decimals).toString())},he=()=>{Te.value=setInterval(()=>{Be.value||V.value<Pe.value&&(V.value+=1,V.value===Pe.value&&(V.value=0))},1e3)},{setIsShowSuccess:Ke,setIsShowRejected:we,setIsShowWaiting:oe,setTransactionDesc:Ge,setTransactionTxid:ge,setPositiomNum:Je}=$e,Qe=async()=>{var $,j,L,F,X,P,H,g,U,E;G.value=!1,ae.value=!0,ge("");const o=f.value?"":`${u.value} ${($=s.value)==null?void 0:$.symbol}`,d=c.value?"":`${r.value} ${(j=a.value)==null?void 0:j.symbol}`;Ge(e("tips.increaseLiquiditySuccess",{from:_.value?d:o,and:!f.value&&!c.value?"and":"",to:_.value?o:d})),oe(!0);const w=q.value;console.log(w,"===>fix_amount_a"),console.log(de.value,"tickLower.value===>"),console.log(ve.value,"tickUpper.value,===>"),console.log("0222###increase###positionInfo###",l);const I=ne.value;let y={};console.log(ne,"===>pendingRewarderArr"),y.coinTypeC=I[0]?I[0].coin_address:"",y.coinTypeD=I[1]?I[1].coin_address:"",y.coinTypeE=I[2]?I[2].coin_address:"";try{const C=await O.value.getAddLiquidityTransactionPayload({pool:{poolAddress:l.value.poolAddress,token_a:l.value.token_a,token_b:l.value.token_b},amount:w?J.value.tokenMaxA:J.value.tokenMaxB,fix_amount_a:w,tick_lower:de.value,tick_upper:ve.value,index:N.value.chainName==="Aptos"?l.value.index:l.value.pos_object_id,slippage:Number(ue.value)/100,roundUp:!0,...y});console.log(C,"===>payloadAdd11111");let T;if(N.value.chainName==="Aptos")T=await B.value.currentWallet.signAndSubmitTransaction(C);else{const M=await B.value.currentWallet.signAndExecuteTransactionBlock(C);T=O.value.handleTx(M)}if(console.log("toAdd###tx###",T),T&&T.hash){ge(T.hash),oe(!1),Ke(!0),console.log(l,"===>positionInfo");const M={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:f.value?"":`${u.value} ${(L=s.value)==null?void 0:L.symbol}`,and:!f.value&&!c.value?"and":"",to:c.value?"":`${r.value} ${(F=a.value)==null?void 0:F.symbol}`}),hash:T.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",tokenInfo:{tokena:_.value?`${(P=a.value)==null?void 0:P.address}`:`${(X=s.value)==null?void 0:X.address}`,numa:_.value?`- ${r.value}`:`- ${u.value}`,logoa:_.value?p.value.tokensObj&&a.value&&a.value.address&&p.value.tokensObj[a.value.address]&&p.value.tokensObj[a.value.address].logoURI:p.value.tokensObj&&s.value&&s.value.address&&p.value.tokensObj[s.value.address]&&p.value.tokensObj[s.value.address].logoURI,tokenb:_.value?`${(g=s.value)==null?void 0:g.address}`:`${(H=a.value)==null?void 0:H.address}`,numb:_.value?`- ${u.value}`:`- ${r.value}`,logob:_.value?p.value.tokensObj&&s.value&&s.value.address&&p.value.tokensObj[s.value.address]&&p.value.tokensObj[s.value.address].logoURI:p.value.tokensObj&&a.value&&a.value.address&&p.value.tokensObj[a.value.address]&&p.value.tokensObj[a.value.address].logoURI},text:`Deopsit ${f.value?"":`${u.value} ${(U=s.value)==null?void 0:U.symbol}`} ${!f.value&&!c.value?"and":""} ${c.value?"":`${r.value} ${(E=a.value)==null?void 0:E.symbol}`}`};N.value.chainName!=="Aptos"&&(M.res=T.res),O.value.showTransitionPending(M),await O.value.watchTransaction(M)&&setTimeout(()=>{re(),O.value.getAccount(B.value.address)},1e3),Je()}else oe(!1),we(!0);u.value="",r.value="",ae.value=!1}catch(C){u.value="",r.value="",console.log("addError###",C),ae.value=!1,oe(!1),we(!0)}},_=D(()=>{var o,d;return(d=(o=l.value)==null?void 0:o.poolInfo)==null?void 0:d.needReverse}),ne=m([]),Ve=m(0),Ye=o=>{var d;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((d=p.value.tokensObj[o==null?void 0:o.address])==null?void 0:d.logo_url)||(N.value.theme==="default"?eo("/image/coins/unknown.png"):eo("/image/coins/sui-unknown.png"))};return Ne(()=>[l.value,p.value.addressLpTokens,p.value.tokensObj,p.value.RATES],async([o,d,w,I])=>{if(!Ce(o)&&!Ce(d)&&!Ce(w)&&!Ce(I)){const y=d[o.poolAddress];console.log(y,"===>pool");const $=await O.value.getTickDataByIndex(y.ticks_handle,Number(o.tick_lower_index)),j=await O.value.getTickDataByIndex(y.ticks_handle,Number(o.tick_upper_index));let L={};N.value.chainName==="Aptos"?L=await O.value.getPosRewardersAmount({poolAddress:o.poolAddress,positionName:o.tokenName,tickLowerData:$,tickUpperData:j}):(console.log(o,"===>newValue"),L=await O.value.fetchPosRewardersAmount({poolAddress:o.poolAddress,positionId:o.pos_object_id,coinTypeA:o.coin_type_a,coinTypeB:o.coin_type_b,rewarderInfo:y.rewarderInfo}));const F=[];let X=0;L.forEach((P,H)=>{const g=w[P.coin_address].decimals,U=w[P.coin_address],C=(Number(P.amount_owed.toString())>99999999999999?0:Number(P.amount_owed.toString()))/Math.pow(10,g);if(l.value.poolInfo[`rewarder_display${H+1}`]||Number(C)>0){console.log(P.amount_owed.toString(),"===>element.amount_owed.toString()");const T=I[P.coin_address].price,M=C*T;X+=M,F.push({...P,...U,amount:C,amountUSD:M})}}),ne.value=F,Ve.value=Number(Uo(X,2))}},{immediate:!0}),{halfBtnSelect:ze,showNum:Q,precision:Ae,noEnterAmount:ye,insufficientBalance:Ue,isDisabled:Le,prettyAmount:Ze,addCommom:en,wallet:B,addLoading:ae,toAdd:Qe,fromCoinBlance:A,toCoinBlance:R,storeIndex:N,showToCoinLock:c,showFromCoinLock:f,pools:p,t:e,importIcon:eo,changeDirect:je,fixD:Uo,decimalFormat:on,decimalUi:se,direct:ee,positionInfo:l,clickRefresh:Fe,refresh:ce,autoRefreshTime:Pe,countdown:V,setMarketTimer:he,marketTimer:Te,loading:Be,slippage:ue,fromCoin:s,toCoin:a,openCoinSelect:We,onCoinSelect:Xe,existingCoins:le,lastSelectCoin:be,currentCoinKey:te,showCoinSelect:ke,fromCoinAmount:u,toCoinAmount:r,maxBtnSelect:He,fixedFromCoin:q,change:Ie,toggle:Ee,addLiquidityBtnText:qe,isShowLiquidityModal:G,isShowSwapSetting:Oe,needReverse:_,pendingRewarderArr:ne,getCoinIcon:Ye,chainName:_e}}});const Re=e=>(In("data-v-93ba14db"),e=e(),yn(),e),gn={class:"increase-liquidity-container"},Cn={class:"back-title"},Sn={class:"title"},Nn={class:"right title-right"},An=Re(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Rn=Re(()=>n("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),$n=[Rn],Pn={class:"price-range"},Tn={class:"price-range-header"},Bn={class:"left"},On={class:"right"},qn={class:"fee"},Ln={class:"price-range-footer"},Un={class:"select-range"},Mn={class:"range-bottom"},Dn={key:0,class:"price"},_n={key:1,class:"price"},jn={class:"price-range-block"},Fn={class:"price-item"},En={class:"title"},Wn={key:0,class:"price"},Xn={key:1,class:"price"},Hn={key:2,class:"text"},zn={key:3,class:"text"},Kn={class:"price-item"},Gn={class:"title"},Jn={key:0,class:"price"},Qn={key:1,class:"price"},Vn={key:2,class:"text"},Yn={key:3,class:"text"},Zn={class:"text-block"},xn={class:"note"},ei={class:"note"},oi={class:"card-item"},ni={key:0,class:"unilateral"},ii={key:0,src:_o,alt:""},si={key:1,src:jo,alt:""},ai={class:"card-item"},ti={key:0,class:"unilateral"},li={key:0,src:_o,alt:""},ui={key:1,src:jo,alt:""},ri={class:"remove-liquidity-bottom-box"},di={class:"induction remove-liquidity-bottom"},vi={class:"item"},mi={class:"induction-text"},pi={class:"induction-value"},fi={class:"text-default"},ci={class:"text-default"},bi={class:"item"},ki=Re(()=>n("div",{class:"induction-text"},null,-1)),Ii={class:"induction-value"},yi={class:"text-default"},hi={key:0,class:"item"},wi={class:"induction-text"},gi={class:"induction-value"},Ci={class:"text-default"},Si={key:1,class:"item"},Ni=Re(()=>n("div",{class:"induction-text"},null,-1)),Ai={class:"induction-value"},Ri={class:"text-default"},$i={key:0,class:"induction-text"},Pi={key:1,class:"induction-value"},Ti={class:"text-default"},Bi=Re(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon-add"})],-1)),Oi={class:"loading-global"};function qi(e,t,$e,N,Pe,V){var Oe,ue,qe,Le,Ue,ye,Y,Z,x,Me,p,s,a,l,De,B,K,_e,O,re,f,c,J,de,ve,me,A,R,ee,je,Fe,Ee,We,Xe,He,ze,he,Ke,we,oe,Ge,ge,Je,Qe,_,ne,Ve,Ye,o,d,w,I,y,$,j,L,F,X,P,H,g,U,E,C,T,M,ie,oo,no,io,so,ao,to,lo,uo,ro,vo,mo,po,fo,co,bo,ko,Io,yo,ho,wo,go,Co,So,No,Ao,Ro,$o,Po,To,Bo,Oo,qo,Lo;const Te=Eo,ce=Wo,Be=Xo,ae=Ho,te=Ko,le=Go,be=bn,ke=Jo,Ie=Vo,q=Qo,u=zo,r=kn,G=vn("image");return k(),h("div",gn,[n("div",Cn,[W(Te),n("div",Sn,[n("p",null,i(e.$t("common.increaseLiquidity")),1),n("div",Nn,[n("div",{class:"slippage-icon",onClick:t[0]||(t[0]=v=>e.isShowSwapSetting=!0)},[An,n("span",null,i(e.slippage)+"%",1)]),(k(),h("svg",{"aria-hidden":"true",class:Do(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:t[1]||(t[1]=(...v)=>e.clickRefresh&&e.clickRefresh(...v))},$n,2))])])]),n("div",Pn,[n("div",Tn,[n("div",Bn,[W(ce,{"from-coin":e.needReverse?e.positionInfo.token_b:e.positionInfo.token_a,"to-coin":e.needReverse?e.positionInfo.token_a:e.positionInfo.token_b},null,8,["from-coin","to-coin"]),n("div",On,[n("div",qn,i(e.positionInfo.fee*100)+"%",1)])]),W(Be,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),n("div",Ln,[n("div",Un,[n("p",null,i(e.$t("common.selectedRange")),1),n("div",Mn,[(e.needReverse?!e.direct:e.direct)?(k(),h("div",Dn," 1 "+i(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" ≈ "+i(("decimalUi"in e?e.decimalUi:S(se))((Oe=e.positionInfo)==null?void 0:Oe.currentPrice,e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.decimals))+" "+i(e.positionInfo&&e.positionInfo.token_b&&((ue=e.positionInfo)==null?void 0:ue.token_b.symbol)),1)):(k(),h("div",_n," 1 "+i(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" ≈ "+i(("decimalUi"in e?e.decimalUi:S(se))(1/((qe=e.positionInfo)==null?void 0:qe.currentPrice),e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.decimals))+" "+i(e.positionInfo&&e.positionInfo.token_a&&((Le=e.positionInfo)==null?void 0:Le.token_a.symbol)),1)),W(ae,{direct:e.direct,"form-coin-symbol":e.needReverse?(Z=(Y=e.positionInfo)==null?void 0:Y.token_b)==null?void 0:Z.symbol:(ye=(Ue=e.positionInfo)==null?void 0:Ue.token_a)==null?void 0:ye.symbol,"to-coin-symbol":e.needReverse?(s=(p=e.positionInfo)==null?void 0:p.token_a)==null?void 0:s.symbol:(Me=(x=e.positionInfo)==null?void 0:x.token_b)==null?void 0:Me.symbol,onChangeDirect:t[2]||(t[2]=v=>e.direct=v)},null,8,["direct","form-coin-symbol","to-coin-symbol"])])]),n("div",jn,[n("div",Fn,[n("div",En,i(e.$t("common.minPrice")),1),(e.needReverse?!e.direct:e.direct)?(k(),h("p",Wn,i(((a=e.positionInfo)==null?void 0:a.minPrice)&&("decimalUi"in e?e.decimalUi:S(se))(e.positionInfo.minPrice,6)),1)):(k(),h("p",Xn,i(e.positionInfo&&e.positionInfo.minPrice&&("decimalUi"in e?e.decimalUi:S(se))(1/((l=e.positionInfo)==null?void 0:l.maxPrice),6)),1)),(e.needReverse?e.direct:!e.direct)?(k(),h("div",Hn,i(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" per "+i(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)):(k(),h("div",zn,i(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" per "+i(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1))]),n("div",Kn,[n("div",Gn,i(e.$t("common.maxPrice")),1),(e.needReverse?!e.direct:e.direct)?(k(),h("p",Jn,i(((B=(De=e.positionInfo)==null?void 0:De.maxPrice)==null?void 0:B.indexOf("+"))>0||((K=e.positionInfo)==null?void 0:K.maxPrice)==="∞"?"∞":("decimalUi"in e?e.decimalUi:S(se))(e.positionInfo.maxPrice,6)),1)):(k(),h("p",Qn,i(((O=(_e=e.positionInfo)==null?void 0:_e.maxPrice)==null?void 0:O.indexOf("+"))>0||((re=e.positionInfo)==null?void 0:re.minPrice)=="0"?"∞":("decimalUi"in e?e.decimalUi:S(se))(1/e.positionInfo.minPrice,6)),1)),(e.needReverse?e.direct:!e.direct)?(k(),h("div",Vn,i(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" per "+i(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)):(k(),h("div",Yn,i(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" per "+i(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1))])]),n("div",Zn,[n("div",xn,i(e.t("common.positionwillBe",{symbol:(e.needReverse?!e.direct:e.direct)?`${e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol}`:`${e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol}`})),1),n("div",ei,i(e.t("common.positionwillBe",{symbol:(e.needReverse?!e.direct:e.direct)?`${e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol}`:`${e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol}`})),1)])])]),n("div",{class:Do(e.needReverse?"card-container reverse":"card-container")},[n("div",oi,[W(te,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=v=>e.fromCoinAmount=v),"has-arrow":!1,"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:t[4]||(t[4]=v=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=v=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=v=>e.fromCoinAmount=v),onOnFocus:t[7]||(t[7]=()=>{e.fixedFromCoin=!0}),onOnSelect:t[8]||(t[8]=v=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(k(),h("div",ni,[e.storeIndex.theme=="default"?(k(),h("img",ii)):(k(),h("img",si)),n("p",null,i(e.$t("tips.marketprice")),1)])):z("",!0)]),n("div",ai,[W(te,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[9]||(t[9]=v=>e.toCoinAmount=v),"has-arrow":!1,"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"",onOnMax:t[10]||(t[10]=v=>e.maxBtnSelect("toCoin")),onOnHalf:t[11]||(t[11]=v=>e.halfBtnSelect("toCoin")),onOnInput:t[12]||(t[12]=v=>e.toCoinAmount=v),onOnFocus:t[13]||(t[13]=()=>{e.fixedFromCoin=!1}),onOnSelect:t[14]||(t[14]=v=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(k(),h("div",ti,[e.storeIndex.theme=="default"?(k(),h("img",li)):(k(),h("img",ui)),n("p",null,i(e.$t("tips.marketprice")),1)])):z("",!0)])],2),n("div",ri,[n("div",di,[n("div",vi,[n("div",mi,i(e.$t("common.liquidity")),1),n("div",pi,[n("span",fi,[pe(n("img",null,null,512),[[G,e.getCoinIcon(e.needReverse?(c=e.positionInfo)==null?void 0:c.token_b:(f=e.positionInfo)==null?void 0:f.token_a)]]),n("span",ci,i(("showNum"in e?e.showNum:S(Q))(e.needReverse?e.positionInfo.amountB:e.positionInfo.amountA,e.needReverse?(me=(ve=e.positionInfo)==null?void 0:ve.token_b)==null?void 0:me.decimals:(de=(J=e.positionInfo)==null?void 0:J.token_a)==null?void 0:de.decimals))+" "+i(e.needReverse?(je=(ee=e.positionInfo)==null?void 0:ee.token_b)==null?void 0:je.symbol:(R=(A=e.positionInfo)==null?void 0:A.token_a)==null?void 0:R.symbol)+" → ",1)]),n("span",null,i(("showNum"in e?e.showNum:S(Q))(e.needReverse?("precision"in e?e.precision:S(Ae)).plus(Number(e.positionInfo.amountB),Number(e.toCoinAmount)):("precision"in e?e.precision:S(Ae)).plus(Number(e.positionInfo.amountA),Number(e.fromCoinAmount)),e.needReverse?(Xe=(We=e.positionInfo)==null?void 0:We.token_b)==null?void 0:Xe.decimals:(Ee=(Fe=e.positionInfo)==null?void 0:Fe.token_a)==null?void 0:Ee.decimals))+" "+i(e.needReverse?(Ke=(he=e.positionInfo)==null?void 0:he.token_b)==null?void 0:Ke.symbol:(ze=(He=e.positionInfo)==null?void 0:He.token_a)==null?void 0:ze.symbol),1)])]),n("div",bi,[ki,n("div",Ii,[n("span",yi,[pe(n("img",null,null,512),[[G,e.getCoinIcon(e.needReverse?(oe=e.positionInfo)==null?void 0:oe.token_a:(we=e.positionInfo)==null?void 0:we.token_b)]]),fe(" "+i(("showNum"in e?e.showNum:S(Q))(e.needReverse?e.positionInfo.amountA:e.positionInfo.amountB,e.needReverse?(Qe=(Je=e.positionInfo)==null?void 0:Je.token_a)==null?void 0:Qe.decimals:(ge=(Ge=e.positionInfo)==null?void 0:Ge.token_b)==null?void 0:ge.decimals))+" "+i(e.needReverse?(Ye=(Ve=e.positionInfo)==null?void 0:Ve.token_a)==null?void 0:Ye.symbol:(ne=(_=e.positionInfo)==null?void 0:_.token_b)==null?void 0:ne.symbol)+" → ",1)]),n("span",null,i(e.needReverse?("showNum"in e?e.showNum:S(Q))(("precision"in e?e.precision:S(Ae)).plus(Number(e.positionInfo.amountA),Number(e.fromCoinAmount)),(I=(w=e.positionInfo)==null?void 0:w.token_a)==null?void 0:I.decimals):("showNum"in e?e.showNum:S(Q))(("precision"in e?e.precision:S(Ae)).plus(Number(e.positionInfo.amountB),Number(e.toCoinAmount)),(d=(o=e.positionInfo)==null?void 0:o.token_b)==null?void 0:d.decimals))+" "+i(e.needReverse?(L=(j=e.positionInfo)==null?void 0:j.token_a)==null?void 0:L.symbol:($=(y=e.positionInfo)==null?void 0:y.token_b)==null?void 0:$.symbol),1)])]),e.chainName=="Sui"&&e.positionInfo&&(((F=e.positionInfo)==null?void 0:F.feeOwedA)>0||((X=e.positionInfo)==null?void 0:X.feeOwedB)>0)?(k(),h("div",hi,[n("div",wi,i(e.$t("common.fees")),1),n("div",gi,[n("span",Ci,[pe(n("img",null,null,512),[[G,e.getCoinIcon(e.needReverse?(H=e.positionInfo)==null?void 0:H.token_b:(P=e.positionInfo)==null?void 0:P.token_a)]]),fe(" "+i(("showNum"in e?e.showNum:S(Q))(e.needReverse?(U=e.positionInfo)==null?void 0:U.feeOwedB:(g=e.positionInfo)==null?void 0:g.feeOwedA,e.needReverse?(M=(T=e.positionInfo)==null?void 0:T.token_b)==null?void 0:M.decimals:(C=(E=e.positionInfo)==null?void 0:E.token_a)==null?void 0:C.decimals))+" ",1),W(le,{address:e.needReverse?(io=(no=e.positionInfo)==null?void 0:no.token_b)==null?void 0:io.address:(oo=(ie=e.positionInfo)==null?void 0:ie.token_a)==null?void 0:oo.address,"style-params":{width:"8px",height:"8px",left:"10px",bottom:"0px"}},null,8,["address"]),fe(" "+i(e.needReverse?(lo=(to=e.positionInfo)==null?void 0:to.token_b)==null?void 0:lo.symbol:(ao=(so=e.positionInfo)==null?void 0:so.token_a)==null?void 0:ao.symbol)+" → ",1)]),n("span",null," 0 "+i(e.needReverse?(mo=(vo=e.positionInfo)==null?void 0:vo.token_b)==null?void 0:mo.symbol:(ro=(uo=e.positionInfo)==null?void 0:uo.token_a)==null?void 0:ro.symbol),1)])])):z("",!0),e.chainName=="Sui"&&e.positionInfo&&(((po=e.positionInfo)==null?void 0:po.feeOwedB)>0||((fo=e.positionInfo)==null?void 0:fo.feeOwedA)>0)?(k(),h("div",Si,[Ni,n("div",Ai,[n("span",Ri,[pe(n("img",null,null,512),[[G,e.getCoinIcon(e.needReverse?(bo=e.positionInfo)==null?void 0:bo.token_a:(co=e.positionInfo)==null?void 0:co.token_b)]]),fe(" "+i(("showNum"in e?e.showNum:S(Q))(e.needReverse?(Io=e.positionInfo)==null?void 0:Io.feeOwedA:(ko=e.positionInfo)==null?void 0:ko.feeOwedB,e.needReverse?(go=(wo=e.positionInfo)==null?void 0:wo.token_a)==null?void 0:go.decimals:(ho=(yo=e.positionInfo)==null?void 0:yo.token_b)==null?void 0:ho.decimals))+" ",1),W(le,{address:e.needReverse?(Ao=(No=e.positionInfo)==null?void 0:No.token_a)==null?void 0:Ao.address:(So=(Co=e.positionInfo)==null?void 0:Co.token_b)==null?void 0:So.address,"style-params":{width:"8px",height:"8px",left:"10px",bottom:"0px"}},null,8,["address"]),fe(" "+i(e.needReverse?(To=(Po=e.positionInfo)==null?void 0:Po.token_a)==null?void 0:To.symbol:($o=(Ro=e.positionInfo)==null?void 0:Ro.token_b)==null?void 0:$o.symbol)+" → ",1)]),n("span",null," 0 "+i(e.needReverse?(Lo=(qo=e.positionInfo)==null?void 0:qo.token_a)==null?void 0:Lo.symbol:(Oo=(Bo=e.positionInfo)==null?void 0:Bo.token_b)==null?void 0:Oo.symbol),1)])])):z("",!0),e.chainName=="Sui"&&e.positionInfo.is_display_rewarder?(k(!0),h(mn,{key:2},pn(e.pendingRewarderArr,(v,Fo)=>(k(),h("div",{key:v,class:"item"},[Number(v.amount)>0?(k(),h("div",$i,i(Fo==0?e.$t("common.rewards"):""),1)):z("",!0),v.amount>0?(k(),h("div",Pi,[n("span",Ti,[pe(n("img",null,null,512),[[G,e.getCoinIcon(v)]]),fe(" "+i(v.amount>1e-6?v.amount:v.amount===0?"0":"<0.000001")+" "+i(v.symbol)+" → ",1)]),n("span",null," 0 "+i(v.symbol),1)])):z("",!0)]))),128)):z("",!0)])]),W(be,{disabled:e.wallet.connected?e.noEnterAmount||e.insufficientBalance||e.isDisabled||e.addLoading||e.addLiquidityBtnText!==e.t("newAdd.addMore"):!1,class:"big-btn",onClick:t[15]||(t[15]=v=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:fn(()=>[Bi,n("span",null,i(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),W(ke),e.showCoinSelect?(k(),xe(Ie,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:t[16]||(t[16]=v=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):z("",!0),e.isShowSwapSetting?(k(),xe(q,{key:1,onOnClose:t[17]||(t[17]=v=>e.isShowSwapSetting=!1)})):z("",!0),e.isShowLiquidityModal?(k(),xe(u,{key:2,"is-increase":!0,"from-coin":e.positionInfo.token_a,"to-coin":e.positionInfo.token_b,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice,"current-price":e.positionInfo.currentPrice,"current-price-reverse":1/e.positionInfo.currentPrice,"pool-info":e.positionInfo,onToAdd:e.toAdd,onOnClose:t[18]||(t[18]=v=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","onToAdd"])):z("",!0),pe(n("div",Oi,[W(r)],512),[[cn,e.pools.currentPositionLoading]])])}const es=dn(wn,[["render",qi],["__scopeId","data-v-93ba14db"]]);export{es as default};
