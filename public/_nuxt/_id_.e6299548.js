import{_ as un}from"./back.ea9ec38c.js";import{_ as rn}from"./refresh-icon.bfde19ff.js";import{a as ze,$ as Vo,y as Ao,r as $,ag as dn,e as je,V as so,o as l,c as K,w as $e,h as o,i as X,j as We,v as m,f as y,F as to,E as Eo,A as Ve,x as F,ah as vn,I as mn,B as Po,p as Ge,k as He,H as go,K as So,l as h,q as Ce,b as To,m as eo,s as No,t as xe,u as A,G as Wo,O as wo,D as vo,C as cn,L as pn,z as jo,M as Xo,S as fn}from"./entry.2356a469.js";/* empty css              */import{a as gn,b as yn,_ as bn}from"./icon-error_2x.f3376577.js";import{u as Ze,a as zo}from"./autoPool.f12c9457.js";import{u as oo,c as Ke,a as R,g as Io,d as Fe,s as T,T as Xe,b as ue,p as Oo,e as Go,f as kn}from"./pool.bb70887e.js";import{_ as yo}from"./token-warning.f508744c.js";import{_ as Ho}from"./auto-pool-apy-tips.8a529085.js";import{u as bo,a as qo}from"./sha256.0b273565.js";import{i as uo}from"./import-icon.de3e6c66.js";/* empty css              */import{_ as Yo}from"./assets-card.8c859bd7.js";import{_ as Ko}from"./coin-lock.c78b8a5a.js";import{_ as Zo,a as Jo}from"./auto-pool-remove-modal.a5d3542d.js";/* empty css              */import{D as u}from"./decimal.0bdeb344.js";import{V as Co}from"./index.128f5049.js";/* empty css              *//* empty css              */import"./decimal.6f03adc8.js";import{u as hn}from"./swapRouter.8cd9dd28.js";/* empty css              */import"./img-lock_2x.a28135f4.js";import"./img-lock_2x.0539eaac.js";const _n=ze({components:{Modal:Vo},setup(e,t){const{t:E,locale:W}=Ao(),N=Ze(),P=["0.1","0.5","1"],c=$(N.slippage||.1),{setSlippage:S}=N,w=dn();console.log(c.value,"slippage.value");const a=$(!1);function s(n,v){a.value=!1,c.value=v}function B(){S(c.value),t.emit("onClose",!1)}return{settingArr:P,changeActiveIndex:s,confirm:B,emit:w,slippage:c,t:E,isInput:a,inputChange:n=>{const v=new RegExp(/[^\d^\.]+/g);n.target.value=n.target.value.replace(v,""),c.value=n.target.value}}}});const Qo=e=>(Ge("data-v-c5b99de4"),e=e(),He(),e),$n=Qo(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),wn={class:"setting-container"},In={class:"title"},Cn=Qo(()=>o("img",{src:bn,alt:""},null,-1)),An={class:"tag-list"},Pn={key:0,src:gn,alt:""},Sn={key:1,src:yn,alt:""},Tn={class:"footer"};function Nn(e,t,E,W,N,P){const c=vn,S=mn,w=Po,a=so("Modal");return l(),K(a,{title:"Settings",class:"setting",centered:"",visible:!0,width:"400px",onCancel:t[3]||(t[3]=s=>e.$emit("onClose"))},{closeIcon:$e(()=>[$n]),footer:$e(()=>[o("div",Tn,[X(w,{type:"cancel",class:"cancel-btn cancel-btn-new",onClick:t[2]||(t[2]=s=>e.$emit("onClose"))},{default:$e(()=>[We(m(e.$t("button.cancel")),1)]),_:1}),X(w,{class:"confirmbtn",disabled:Number(e.slippage)==0||Number(e.slippage)>1||Number(e.slippage)<.01,onClick:e.confirm},{default:$e(()=>[We(m(e.$t("button.confirm")),1)]),_:1},8,["disabled","onClick"])])]),default:$e(()=>[o("div",wn,[o("div",In,[Cn,o("span",null,m(e.$t("modal.slippageTolerance")),1)]),o("div",An,[(l(!0),y(to,null,Eo(e.settingArr,(s,B)=>(l(),K(c,{key:B,class:Ve(!e.isInput&&s==e.slippage?"tag-active":""),onClick:p=>e.changeActiveIndex(B,s)},{default:$e(()=>[We(m(s)+"% ",1)]),_:2},1032,["class","onClick"]))),128)),X(c,{class:Ve(["input-tag",e.isInput?"tag-active":""]),onClick:t[1]||(t[1]=s=>e.isInput=!0)},{default:$e(()=>[X(S,{value:e.slippage,"onUpdate:value":t[0]||(t[0]=s=>e.slippage=s),placeholder:"",suffix:"%",class:Ve(["slippage-input",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-input-waring":Number(e.slippage)>1?"slippage-input-error":""]),onChange:e.inputChange},null,8,["value","class","onChange"])]),_:1},8,["class"])])]),Number(e.slippage)>.5&&Number(e.slippage)<1||Number(e.slippage)>1?(l(),y("div",{key:0,class:Ve(["slippage-hint",Number(e.slippage)>.5&&Number(e.slippage)<1?"slippage-hint-waring":Number(e.slippage)>1?"slippage-hint-error":""])},[Number(e.slippage)>.5&&1>=Number(e.slippage)?(l(),y("img",Pn)):F("",!0),Number(e.slippage)>1?(l(),y("img",Sn)):F("",!0),o("p",null,m(Number(e.slippage)>.5&&1>=Number(e.slippage)?e.$t("tips.slippageTolerance2"):Number(e.slippage)>1?e.$t("tips.slippageTolerance1"):""),1)],2)):F("",!0)]),_:1})}const qn=je(_n,[["render",Nn],["__scopeId","data-v-c5b99de4"]]),Rn=ze({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const E=$(!1),W=$(null),N=$(0);let P=$(!1);const c=$(20);oo();const S=Ze(),w=$(!1);go(()=>{}),So(()=>{clearInterval(W.value)});const a=()=>{P.value=!1,W.value=setInterval(()=>{var d;w.value||N.value<c.value&&(N.value+=1,N.value===c.value&&((d=e==null?void 0:e.poolInfo)!=null&&d.address&&p(),N.value=0))},1e3)},s=h(()=>S.slippage),B=()=>{t.emit("clearAll")},p=()=>{P.value||(P.value=!0,N.value=0,t.emit("clickRefresh"),setTimeout(()=>{P.value=!1},1e3))};Ce(()=>e.poolInfo,d=>{d&&!W.value&&a()},{immediate:!0});const n=To(),v=eo();return console.log(v,"route"),{refresh:P,clickRefresh:p,isShowSwapSetting:E,countdown:N,autoRefreshTime:c,slippage:s,clearAll:B,checkNullObj:Ke,router:n,route:v}}});const Dn=e=>(Ge("data-v-71491a33"),e=e(),He(),e),Bn={class:"title"},Ln={class:"left"},Un=Dn(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Fn={key:0,class:"deposit-progress"};function Mn(e,t,E,W,N,P){const c=un,S=rn,w=qn;return l(),y("div",Bn,[o("div",Ln,[X(c)]),o("div",{class:Ve(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[o("div",{class:"slippage-icon",onClick:t[0]||(t[0]=a=>e.isShowSwapSetting=!0)},[Un,o("span",null,m(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(l(),y("div",Fn,[X(S,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])):F("",!0)],2),e.isShowSwapSetting?(l(),K(w,{key:0,onOnClose:t[1]||(t[1]=a=>e.isShowSwapSetting=!1)})):F("",!0)])}const On=je(Rn,[["render",Mn],["__scopeId","data-v-71491a33"]]),Vn=ze({components:{AutoPoolApyTips:Ho},setup(){const e=bo(),t=h(()=>e),E=oo(),W=h(()=>E),N=Ze(),P=h(()=>N),c=h(()=>t.value.theme),S=eo(),w=$();Ce(()=>[P.value.positionInfoObj,S.params.id],([v,d])=>{v&&!Ke(v)&&d&&(w.value=v[d],console.log(w.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const a=h(()=>{var v;return(v=w.value)==null?void 0:v.needReverse}),s=v=>{var d;return(v==null?void 0:v.logoURI)||(v==null?void 0:v.logo_url)||((d=W.value.tokensObj[v==null?void 0:v.address])==null?void 0:d.logo_url)||(c.value==="default"?uo("/image/coins/unknown.png"):uo("/image/coins/sui-unknown.png"))},B=h(()=>{var v,d;return console.log((v=w==null?void 0:w.value)==null?void 0:v.poolUSD,"##positionInfo?.value?.poolUSD"),(d=w==null?void 0:w.value)==null?void 0:d.poolUSD}),p=h(()=>{var v,d;return P.value.apyObj&&((d=P.value.apyObj[(v=w.value)==null?void 0:v.id])==null?void 0:d.apr)||"--"}),n=h(()=>t.value.currentExplorer);return{positionInfo:w,needReverse:a,getCoinIcon:s,tvl:B,apy:p,addCommom:R,getExplorerUrl:Io,currentExplorer:n}}});const Ye=e=>(Ge("data-v-0947d30b"),e=e(),He(),e),En={class:"auto-pool-v2-info"},Wn={class:"pool-info"},jn={class:"left"},Xn={class:"coin-a"},zn={alt:""},Gn={class:"coin-b"},Hn={alt:""},Yn={class:"position-name"},Kn={key:0,class:"pool-fee"},Zn=Ye(()=>o("span",null,"Fee tier",-1)),Jn={class:"vault-address"},Qn=["href"],xn=Ye(()=>o("span",null,"Vault Address",-1)),et=Ye(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),ot=[xn,et],nt={class:"apy-and-tvl"},tt={class:"apy"},st=Ye(()=>o("div",{class:"apy-title"},"APY",-1)),it={class:"apy-text"},lt={class:"tvl"},at=Ye(()=>o("div",{class:"tvl-title"},"TVL",-1)),ut={class:"tvl-text"},rt={class:"pool-info h5-pool-info"},dt={class:"left"},vt={class:"coin-a"},mt={alt:""},ct={class:"coin-b"},pt={alt:""},ft={class:"position-name"},gt={key:0,class:"pool-fee"},yt=Ye(()=>o("span",null,"Fee tier",-1)),bt={class:"left"},kt={class:"vault-address"},ht=["href"],_t=Ye(()=>o("span",null,"Vault Address",-1)),$t=Ye(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-link"})],-1)),wt=[_t,$t],It={class:"apy-and-tvl"},Ct={class:"apy"},At=Ye(()=>o("div",{class:"apy-title"},"APY",-1)),Pt={class:"apy-text"},St={class:"tvl"},Tt=Ye(()=>o("div",{class:"tvl-title"},"TVL",-1)),Nt={class:"tvl-text"};function qt(e,t,E,W,N,P){var a,s,B,p,n,v,d,b,C,f,L,U,M,Z,x,J,g,r,D,te,se,ve,z,oe,he,_e,fe,me,G,ie,be,ce,_,H,Ne,ge,De,Ae,Be,we,Me,Je,ro,re,Pe,qe;const c=yo,S=Ho,w=No("image");return l(),y("div",En,[o("div",Wn,[o("div",jn,[o("div",Xn,[xe(o("img",zn,null,512),[[w,e.needReverse?e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b):e.getCoinIcon((a=e.positionInfo)==null?void 0:a.token_a)]]),X(c,{address:e.needReverse?(v=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:v.address:(p=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:p.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Gn,[xe(o("img",Hn,null,512),[[w,e.needReverse?e.getCoinIcon((b=e.positionInfo)==null?void 0:b.token_a):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_b)]]),X(c,{address:e.needReverse?(U=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:U.address:(f=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:f.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",Yn,m(e.needReverse?(Z=(M=e.positionInfo)==null?void 0:M.token_b)==null?void 0:Z.symbol:(J=(x=e.positionInfo)==null?void 0:x.token_a)==null?void 0:J.symbol)+" - "+m(e.needReverse?(r=(g=e.positionInfo)==null?void 0:g.token_a)==null?void 0:r.symbol:(te=(D=e.positionInfo)==null?void 0:D.token_b)==null?void 0:te.symbol),1),(se=e.positionInfo)!=null&&se.fee?(l(),y("div",Kn,[Zn,We(" "+m(((ve=e.positionInfo)==null?void 0:ve.fee)*100)+"% ",1)])):F("",!0),o("div",Jn,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Io))(e.currentExplorer,"poolAddress",(z=e.positionInfo)==null?void 0:z.id),target:"_blank"},ot,8,Qn)])]),o("div",nt,[o("div",tt,[st,o("div",it,[We(m(e.apy)+" ",1),X(S)])]),o("div",lt,[at,o("div",ut,"$"+m(("addCommom"in e?e.addCommom:A(R))(e.tvl,2)),1)])])]),o("div",rt,[o("div",dt,[o("div",vt,[xe(o("img",mt,null,512),[[w,e.needReverse?e.getCoinIcon((he=e.positionInfo)==null?void 0:he.token_b):e.getCoinIcon((oe=e.positionInfo)==null?void 0:oe.token_a)]]),X(c,{address:e.needReverse?(G=(me=e.positionInfo)==null?void 0:me.token_b)==null?void 0:G.address:(fe=(_e=e.positionInfo)==null?void 0:_e.token_a)==null?void 0:fe.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",ct,[xe(o("img",pt,null,512),[[w,e.needReverse?e.getCoinIcon((be=e.positionInfo)==null?void 0:be.token_a):e.getCoinIcon((ie=e.positionInfo)==null?void 0:ie.token_b)]]),X(c,{address:e.needReverse?(Ne=(H=e.positionInfo)==null?void 0:H.token_a)==null?void 0:Ne.address:(_=(ce=e.positionInfo)==null?void 0:ce.token_b)==null?void 0:_.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),o("div",ft,m(e.needReverse?(De=(ge=e.positionInfo)==null?void 0:ge.token_b)==null?void 0:De.symbol:(Be=(Ae=e.positionInfo)==null?void 0:Ae.token_a)==null?void 0:Be.symbol)+" - "+m(e.needReverse?(Me=(we=e.positionInfo)==null?void 0:we.token_a)==null?void 0:Me.symbol:(ro=(Je=e.positionInfo)==null?void 0:Je.token_b)==null?void 0:ro.symbol),1),(re=e.positionInfo)!=null&&re.fee?(l(),y("div",gt,[yt,We(" "+m(((Pe=e.positionInfo)==null?void 0:Pe.fee)*100)+"% ",1)])):F("",!0)]),o("div",bt,[o("div",kt,[o("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:A(Io))(e.currentExplorer,"poolAddress",(qe=e.positionInfo)==null?void 0:qe.id),target:"_blank"},wt,8,ht)])]),o("div",It,[o("div",Ct,[At,o("div",Pt,[We(m(e.apy)+" ",1),X(S)])]),o("div",St,[Tt,o("div",Nt,"$"+m(("addCommom"in e?e.addCommom:A(R))(e.tvl,2)),1)])])])])}const xo=je(Vn,[["render",qt],["__scopeId","data-v-0947d30b"]]),Rt=ze({components:{Slider:Wo},setup(){const e=$(!0),t=oo(),E=h(()=>t),W=Ze(),N=h(()=>W),P=eo(),c=$();Ce(()=>[N.value.positionInfoObj,P.params.id],([p,n])=>{p&&!Ke(p)&&n&&(c.value=p[n],console.log(c.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const S=h(()=>{var p;return(p=c.value)==null?void 0:p.needReverse}),w=p=>{var n;return(p==null?void 0:p.logoURI)||(p==null?void 0:p.logo_url)||((n=E.value.tokensObj[p==null?void 0:p.address])==null?void 0:n.logo_url)||uo("/image/coins/sui-unknown.png")},a=h(()=>{var b,C,f,L,U,M,Z;const p=e.value?((b=c.value)==null?void 0:b.minPrice)&&T(c==null?void 0:c.value.minPrice,6):((C=c.value)==null?void 0:C.maxPrice)&&T(1/(c==null?void 0:c.value.maxPrice),6),n=e.value?((f=c.value)==null?void 0:f.maxPrice)&&T((L=c.value)==null?void 0:L.maxPrice,6):((U=c.value)==null?void 0:U.minPrice)&&T(1/(c==null?void 0:c.value.minPrice),6),v=(S.value?!e.value:e.value)?T((M=c.value)==null?void 0:M.price,6):T(1/((Z=c.value)==null?void 0:Z.price),6);let d={};return d[p]={label:"Min Price"},d[n]={label:"Max Price"},v>p&&v<n?d[v]={label:"Current Price"}:v<p?d[Number(p)+1e-9]={label:"Current Price"}:v>n&&(d[Number(n)-1e-9]={label:"Current Price"}),console.log(d,"obj###"),d}),s=h(()=>{var n,v;const p=(S.value?!e.value:e.value)?Fe((n=c.value)==null?void 0:n.price,6):Fe(1/((v=c.value)==null?void 0:v.price),6);return console.log(p,"result##"),p}),B=h(()=>{var n,v;const p=(S.value?!e.value:e.value)?Fe((n=c.value)==null?void 0:n.price,6):Fe(1/((v=c.value)==null?void 0:v.price),6);return console.log(p,"result##111"),p});return{direct:e,positionInfo:c,needReverse:S,getCoinIcon:w,decimalUi:Fe,addCommom:R,sFixD:T,marks:a,currentPrice:s,currentPriceResever:B}}});const ko=e=>(Ge("data-v-44da997b"),e=e(),He(),e),Dt={class:"v2-position-range"},Bt={class:"position-range-top"},Lt=ko(()=>o("div",null,"Position Range",-1)),Ut={class:"base-coin"},Ft={key:0},Mt={alt:""},Ot={key:1},Vt={alt:""},Et={key:2},Wt={key:3},jt=ko(()=>o("p",null,"Base coin",-1)),Xt={class:"coin-rate"},zt=ko(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Gt=ko(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Ht=[zt,Gt],Yt={class:"position-range-bottom"},Kt={class:"price-range"},Zt={class:"price-range-bg"},Jt={key:0,class:"min-price"},Qt={key:0},xt={key:1},es={key:1,class:"max-price"},os={key:0},ns={key:1},ts={key:0,class:"min-price"},ss={key:0},is={key:1},ls={key:1,class:"max-price"},as={key:0},us={key:1};function rs(e,t,E,W,N,P){var a,s,B,p,n,v,d,b,C,f,L,U,M,Z,x,J,g,r,D,te,se,ve,z,oe,he,_e,fe,me;const c=yo,S=so("Slider"),w=No("image");return l(),y("div",Dt,[o("div",Bt,[Lt,o("div",Ut,[e.needReverse?(l(),y("div",Ot,[xe(o("img",Vt,null,512),[[w,e.direct?e.getCoinIcon((b=e.positionInfo)==null?void 0:b.token_b):e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_a)]]),X(c,{address:e.direct?(U=(L=e.positionInfo)==null?void 0:L.token_b)==null?void 0:U.address:(f=(C=e.positionInfo)==null?void 0:C.token_a)==null?void 0:f.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])):(l(),y("div",Ft,[xe(o("img",Mt,null,512),[[w,e.direct?e.getCoinIcon((a=e.positionInfo)==null?void 0:a.token_a):e.getCoinIcon((s=e.positionInfo)==null?void 0:s.token_b)]]),X(c,{address:e.direct?(p=(B=e.positionInfo)==null?void 0:B.token_a)==null?void 0:p.address:(v=(n=e.positionInfo)==null?void 0:n.token_b)==null?void 0:v.address,"style-params":{width:"10px",height:"10px",right:"0",bottom:"0"}},null,8,["address"])])),e.needReverse?(l(),y("span",Wt,m(e.direct?(r=(g=e.positionInfo)==null?void 0:g.token_b)==null?void 0:r.symbol:(te=(D=e.positionInfo)==null?void 0:D.token_a)==null?void 0:te.symbol),1)):(l(),y("span",Et,m(e.direct?(Z=(M=e.positionInfo)==null?void 0:M.token_a)==null?void 0:Z.symbol:(J=(x=e.positionInfo)==null?void 0:x.token_b)==null?void 0:J.symbol),1)),jt,o("div",Xt,[o("div",{onClick:t[0]||(t[0]=G=>e.direct=!e.direct)},Ht)])])]),o("div",Yt,[o("div",Kt,[o("div",Zt,[e.direct?(l(),K(S,{key:0,value:e.currentPrice,class:Ve(["position-slider",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(T))((se=e.positionInfo)==null?void 0:se.minPrice,6))||e.currentPrice>Number(("sFixD"in e?e.sFixD:A(T))((ve=e.positionInfo)==null?void 0:ve.maxPrice,6))?"hide-handler":""]),step:null,marks:e.marks,disabled:!0,min:Number(("decimalUi"in e?e.decimalUi:A(Fe))((z=e.positionInfo)==null?void 0:z.minPrice,6)),max:Number(("decimalUi"in e?e.decimalUi:A(Fe))((oe=e.positionInfo)==null?void 0:oe.maxPrice,6))},{mark:$e(({label:G})=>{var ie,be,ce,_,H,Ne,ge,De,Ae,Be,we,Me;return[G=="Min Price"?(l(),y("div",Jt,[o("div",null,m(G),1),e.direct?(l(),y("div",Qt,m(((ie=e.positionInfo)==null?void 0:ie.minPrice)&&("sFixD"in e?e.sFixD:A(T))((be=e.positionInfo)==null?void 0:be.minPrice,6)),1)):(l(),y("div",xt,m(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((_=e.positionInfo)==null?void 0:_.maxPrice),6)),1))])):F("",!0),G=="Max Price"?(l(),y("div",es,[o("div",null,m(G),1),e.direct?(l(),y("div",os,m(((H=e.positionInfo)==null?void 0:H.maxPrice)&&("sFixD"in e?e.sFixD:A(T))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(l(),y("div",ns,m(((ge=e.positionInfo)==null?void 0:ge.minPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):F("",!0),G=="Current Price"?(l(),y("div",{key:2,class:Ve(["current-price",e.currentPrice<Number(("sFixD"in e?e.sFixD:A(T))((Ae=e.positionInfo)==null?void 0:Ae.minPrice,6))?"current-price-left":e.currentPrice>Number(("sFixD"in e?e.sFixD:A(T))((Be=e.positionInfo)==null?void 0:Be.maxPrice,6))?"current-price-right":""])},[o("div",null,m(G),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(l(),y(to,{key:0},[We(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))((we=e.positionInfo)==null?void 0:we.price,6))),1)],64)):(l(),y(to,{key:1},[We(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))(1/((Me=e.positionInfo)==null?void 0:Me.price),6))),1)],64))])],2)):F("",!0)]}),_:1},8,["value","class","marks","min","max"])):(l(),K(S,{key:1,value:e.currentPriceResever,class:Ve(["position-slider",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(T))(1/((he=e.positionInfo)==null?void 0:he.maxPrice),6))||e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(T))(1/((_e=e.positionInfo)==null?void 0:_e.minPrice),6))?"hide-handler":""]),step:null,min:Number(("decimalUi"in e?e.decimalUi:A(Fe))(1/((fe=e.positionInfo)==null?void 0:fe.maxPrice),6)),max:Number(("decimalUi"in e?e.decimalUi:A(Fe))(1/((me=e.positionInfo)==null?void 0:me.minPrice),6)),marks:e.marks,disabled:!0},{mark:$e(({label:G})=>{var ie,be,ce,_,H,Ne,ge,De,Ae,Be,we,Me;return[G=="Min Price"?(l(),y("div",ts,[o("div",null,m(G),1),e.direct?(l(),y("div",ss,m(((ie=e.positionInfo)==null?void 0:ie.minPrice)&&("sFixD"in e?e.sFixD:A(T))((be=e.positionInfo)==null?void 0:be.minPrice,6)),1)):(l(),y("div",is,m(((ce=e.positionInfo)==null?void 0:ce.maxPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((_=e.positionInfo)==null?void 0:_.maxPrice),6)),1))])):F("",!0),G=="Max Price"?(l(),y("div",ls,[o("div",null,m(G),1),e.direct?(l(),y("div",as,m(((H=e.positionInfo)==null?void 0:H.maxPrice)&&("sFixD"in e?e.sFixD:A(T))((Ne=e.positionInfo)==null?void 0:Ne.maxPrice,6)),1)):(l(),y("div",us,m(((ge=e.positionInfo)==null?void 0:ge.minPrice)&&("sFixD"in e?e.sFixD:A(T))(1/((De=e.positionInfo)==null?void 0:De.minPrice),6)),1))])):F("",!0),G=="Current Price"?(l(),y("div",{key:2,class:Ve(["current-price current-price-direct",e.currentPriceResever<Number(("sFixD"in e?e.sFixD:A(T))(1/((Ae=e.positionInfo)==null?void 0:Ae.maxPrice),6))?"current-price-left":e.currentPriceResever>Number(("sFixD"in e?e.sFixD:A(T))(1/((Be=e.positionInfo)==null?void 0:Be.minPrice),6))?"current-price-right":""])},[o("div",null,m(G),1),o("div",null,[(e.needReverse?!e.direct:e.direct)?(l(),y(to,{key:0},[We(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))((we=e.positionInfo)==null?void 0:we.price,6))),1)],64)):(l(),y(to,{key:1},[We(m(("addCommom"in e?e.addCommom:A(R))(("decimalUi"in e?e.decimalUi:A(Fe))(1/((Me=e.positionInfo)==null?void 0:Me.price),6))),1)],64))])],2)):F("",!0)]}),_:1},8,["value","class","min","max","marks"]))])])])])}const en=je(Rt,[["render",rs],["__scopeId","data-v-44da997b"]]),ds=ze({components:{Modal:Vo},props:{positionInfo:{type:Object,default:()=>({})}},setup(e){const t=h(()=>{var W,N;const E=Math.ceil(((W=e.positionInfo)==null?void 0:W.poolUSD)/((N=e.positionInfo)==null?void 0:N.quoteUSD)*100);return console.log(E,"Pool Capacity Ratio"),Number(E)});return{sFixD:T,addCommom:R,ratio:t}}});const Ro=e=>(Ge("data-v-78a51262"),e=e(),He(),e),vs=Ro(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),ms={class:"deposit-slider"},cs={class:"info-block"},ps=Ro(()=>o("div",{class:"leabl"},"Current Deposit：",-1)),fs={class:"text"},gs={class:"info-block"},ys=Ro(()=>o("div",{class:"leabl"},"Max Capacity：",-1)),bs={class:"text"};function ks(e,t,E,W,N,P){const c=so("Modal");return l(),K(c,{width:"440px",visible:!0,footer:null,title:"Vault Capacity",onCancel:t[0]||(t[0]=S=>e.$emit("onClose"))},{closeIcon:$e(()=>[vs]),default:$e(()=>{var S,w,a,s;return[o("div",ms,[o("div",{class:"current-deposit",style:wo({width:`${e.ratio>100?100:e.ratio}%`})},null,4)]),o("div",cs,[ps,o("div",fs,m(("addCommom"in e?e.addCommom:A(R))(("sFixD"in e?e.sFixD:A(T))((S=e.positionInfo)==null?void 0:S.currentDeposit,2)))+" "+m((w=e.positionInfo)==null?void 0:w.quoteCoinInfo.symbol),1)]),o("div",gs,[ys,o("div",bs,m(("addCommom"in e?e.addCommom:A(R))(("sFixD"in e?e.sFixD:A(T))((a=e.positionInfo)==null?void 0:a.quoteUSD,2)))+" "+m((s=e.positionInfo)==null?void 0:s.quoteCoinInfo.symbol),1)])]}),_:1})}const on=je(ds,[["render",ks],["__scopeId","data-v-78a51262"]]),hs=ze({components:{AutoPoolV2PoolCapacity:on},setup(){const e=oo(),t=h(()=>e),E=Ze(),W=h(()=>E),N=eo(),P=$();Ce(()=>[W.value.positionInfoObj,N.params.id],([a,s])=>{console.log(a,"##positionInfoObj"),a&&!Ke(a)&&s&&(P.value=a[s],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=h(()=>{var a;return(a=P.value)==null?void 0:a.needReverse}),S=a=>{var s;return console.log(a,"info##"),(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((s=t.value.tokensObj[a==null?void 0:a.address])==null?void 0:s.logo_url)||uo("/image/coins/sui-unknown.png")},w=$(!1);return{needReverse:c,positionInfo:P,getCoinIcon:S,addCommom:R,isShowModal:w}}});const _s=e=>(Ge("data-v-ad8a33e9"),e=e(),He(),e),$s={class:"pool-composition"},ws={class:"pool-composition-top"},Is=_s(()=>o("span",null,"Vault Composition",-1)),Cs={class:"pool-composition-bottom"},As={class:"token-ratio"},Ps={class:"before-coin"},Ss={alt:""},Ts={class:"after-coin"},Ns={alt:""},qs={class:"token-num"},Rs={class:"num-box"},Ds={class:"num-box"};function Bs(e,t,E,W,N,P){var a,s,B,p,n,v,d,b,C,f,L,U,M,Z,x,J,g,r,D,te,se,ve,z,oe,he,_e,fe,me,G;const c=yo,S=on,w=No("image");return l(),y("div",$s,[o("div",ws,[Is,Number((a=e.positionInfo)==null?void 0:a.quoteUSD)>0?(l(),y("div",{key:0,class:"pool-capacity",onClick:t[0]||(t[0]=ie=>e.isShowModal=!0)},"Vault Capacity")):F("",!0)]),o("div",Cs,[o("div",As,[o("div",Ps,[o("div",null,[X(c,{address:e.needReverse?(n=(p=e.positionInfo)==null?void 0:p.token_b)==null?void 0:n.address:(B=(s=e.positionInfo)==null?void 0:s.token_a)==null?void 0:B.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"]),xe(o("img",Ss,null,512),[[w,e.needReverse?e.getCoinIcon((d=e.positionInfo)==null?void 0:d.token_b):e.getCoinIcon((v=e.positionInfo)==null?void 0:v.token_a)]])]),o("span",null,m((b=e.positionInfo)==null?void 0:b.poolCoinARatio)+"%",1)]),o("div",Ts,[o("span",null,m((C=e.positionInfo)==null?void 0:C.poolCoinBRatio)+"%",1),o("div",null,[xe(o("img",Ns,null,512),[[w,e.needReverse?e.getCoinIcon((L=e.positionInfo)==null?void 0:L.token_a):e.getCoinIcon((f=e.positionInfo)==null?void 0:f.token_b)]]),X(c,{address:e.needReverse?(x=(Z=e.positionInfo)==null?void 0:Z.token_a)==null?void 0:x.address:(M=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:M.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])])])]),o("div",qs,[o("div",{class:"token-a-bg",style:wo({width:`${(J=e.positionInfo)==null?void 0:J.poolCoinARatio}%`})},null,4),o("div",{class:"token-b-bg",style:wo({width:`${(g=e.positionInfo)==null?void 0:g.poolCoinBRatio}%`})},null,4),o("div",Rs,[o("div",null,m(("addCommom"in e?e.addCommom:A(R))((r=e.positionInfo)==null?void 0:r.poolCoinANum))+" "+m(e.needReverse?(ve=(se=e.positionInfo)==null?void 0:se.token_b)==null?void 0:ve.symbol:(te=(D=e.positionInfo)==null?void 0:D.token_a)==null?void 0:te.symbol),1),o("div",null,"$"+m(("addCommom"in e?e.addCommom:A(R))((z=e.positionInfo)==null?void 0:z.poolCoinAUSD)),1)]),o("div",Ds,[o("div",null,m(("addCommom"in e?e.addCommom:A(R))((oe=e.positionInfo)==null?void 0:oe.poolCoinBNum))+" "+m(e.needReverse?(me=(fe=e.positionInfo)==null?void 0:fe.token_a)==null?void 0:me.symbol:(_e=(he=e.positionInfo)==null?void 0:he.token_b)==null?void 0:_e.symbol),1),o("div",null,"$"+m(("addCommom"in e?e.addCommom:A(R))((G=e.positionInfo)==null?void 0:G.poolCoinBUSD)),1)])])]),e.isShowModal?(l(),K(S,{key:0,"position-info":e.positionInfo,onOnClose:t[1]||(t[1]=ie=>e.isShowModal=!1)},null,8,["position-info"])):F("",!0)])}const nn=je(hs,[["render",Bs],["__scopeId","data-v-ad8a33e9"]]),Ls=ze({setup(){const e=oo(),t=h(()=>e),E=Ze(),W=h(()=>E),N=eo(),P=$();Ce(()=>[W.value.positionInfoObj,N.params.id],([s,B])=>{console.log(s,"##positionInfoObj"),s&&!Ke(s)&&B&&(P.value=s[B],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=h(()=>{var s;return(s=P.value)==null?void 0:s.needReverse}),S=s=>{var B;return console.log(s,"info##"),(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((B=t.value.tokensObj[s==null?void 0:s.address])==null?void 0:B.logo_url)||uo("/image/coins/sui-unknown.png")},w=qo(),a=h(()=>w);return{needReverse:c,positionInfo:P,getCoinIcon:S,addCommom:R,wallet:a}}});const mo=e=>(Ge("data-v-61c3efe6"),e=e(),He(),e),Us={class:"my-liquidity"},Fs={class:"my-liquidity-top"},Ms=mo(()=>o("div",null,"My Liquidity",-1)),Os=mo(()=>o("p",null,"My share of pool",-1)),Vs={class:"my-liquidity-bottom"},Es={class:"lp-token"},Ws=mo(()=>o("div",null,[o("span",null,"LP Token Balance ")],-1)),js={class:"lp-balance"},Xs={class:"token-num-content"},zs={class:"token-num token-a-num"},Gs={class:"logo"},Hs=["src"],Ys={class:"text"},Ks={class:"lp-logo"},Zs=["src"],Js=mo(()=>o("div",null,"Pooled Assets",-1)),Qs={class:"token-num"},xs={class:"logo"},ei=["src"],oi={class:"text"},ni=mo(()=>o("div",{class:"token-num-content-bg"},null,-1));function ti(e,t,E,W,N,P){var S,w,a,s,B,p,n,v,d,b,C,f,L,U,M,Z,x,J,g,r,D,te,se,ve,z,oe,he,_e,fe;const c=yo;return l(),y("div",Us,[o("div",Fs,[Ms,o("div",null,[Os,o("p",null,m(e.wallet.connected?(S=e.positionInfo)==null?void 0:S.myShare:"--")+"%",1)])]),o("div",Vs,[o("div",Es,[Ws,o("div",null,[o("span",js,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((w=e.positionInfo)==null?void 0:w.myLiquidity):"--")+" LP",1),o("span",null,m(e.wallet.connected?((a=e.positionInfo)==null?void 0:a.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in e?e.addCommom:A(R))((s=e.positionInfo)==null?void 0:s.myLiquidityUSD)}`:"<$0.01":"--"),1)])]),o("div",Xs,[o("div",zs,[o("div",Gs,[o("img",{src:e.needReverse?e.getCoinIcon((p=e.positionInfo)==null?void 0:p.token_b):e.getCoinIcon((B=e.positionInfo)==null?void 0:B.token_a),alt:""},null,8,Hs),X(c,{address:e.needReverse?(b=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:b.address:(v=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:v.address,"style-params":{width:"14px",height:"14px",left:"18px",bottom:"0"}},null,8,["address"])]),o("div",Ys,[o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((C=e.positionInfo)==null?void 0:C.amountA):"--")+" "+m(e.needReverse?(M=(U=e.positionInfo)==null?void 0:U.token_b)==null?void 0:M.symbol:(L=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:L.symbol),1),o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((Z=e.positionInfo)==null?void 0:Z.myAmountAUSD):"--"),1)])]),o("div",Ks,[o("img",{src:e.getCoinIcon((x=e.positionInfo)==null?void 0:x.lpInfo),alt:""},null,8,Zs),Js]),o("div",Qs,[o("div",xs,[o("img",{src:e.needReverse?e.getCoinIcon((g=e.positionInfo)==null?void 0:g.token_a):e.getCoinIcon((J=e.positionInfo)==null?void 0:J.token_b),alt:""},null,8,ei),X(c,{address:e.needReverse?(se=(te=e.positionInfo)==null?void 0:te.token_a)==null?void 0:se.address:(D=(r=e.positionInfo)==null?void 0:r.token_b)==null?void 0:D.address,"style-params":{width:"14px",height:"14px",right:"0",bottom:"0"}},null,8,["address"])]),o("div",oi,[o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((ve=e.positionInfo)==null?void 0:ve.amountB):"--")+" "+m(e.needReverse?(_e=(he=e.positionInfo)==null?void 0:he.token_a)==null?void 0:_e.symbol:(oe=(z=e.positionInfo)==null?void 0:z.token_b)==null?void 0:oe.symbol),1),o("div",null,m(e.wallet.connected?("addCommom"in e?e.addCommom:A(R))((fe=e.positionInfo)==null?void 0:fe.myAmountBUSD):"--"),1)])]),ni])])])}const tn=je(Ls,[["render",ti],["__scopeId","data-v-61c3efe6"]]),si=""+globalThis.__publicAssetsURL("image/icon-tips-error@2x.png");const ii={},sn=e=>(Ge("data-v-fcbc716b"),e=e(),He(),e),li={class:"status"},ai=sn(()=>o("img",{src:si,alt:""},null,-1)),ui=sn(()=>o("span",null,"Rebalancing is in processing. New deposits and withdraws are paused and will be back in minutes. ",-1)),ri=[ai,ui];function di(e,t){return l(),y("div",li,ri)}const ln=je(ii,[["render",di],["__scopeId","data-v-fcbc716b"]]),vi=ze({components:{AutoPoolAddModal:Zo,AutoPoolV2PoolStatus:ln},setup(){const e=qo(),t=$(!1),E=bo(),W=h(()=>E),N=h(()=>W.value.chainName),P=h(()=>e),c=Ze(),S=h(()=>c),w=oo(),a=h(()=>w),s=$(),B=eo(),p=$(!1),n=$(!1);Ce(()=>[S.value.positionInfoObj,B.params.id],([I,O])=>{I&&!Ke(I)&&O&&(s.value=I[O],console.log(s.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const v=h(()=>{var I,O;return console.log((I=s.value)==null?void 0:I.needReverse,"##positionInfo.value?.needReverse"),(O=s.value)==null?void 0:O.needReverse}),d=$(),b=$(),C=$(),f=$(),L=$(!0),U=h(()=>P.value.assets&&d.value&&P.value.assets[d.value.address]?Oo(P.value.assets[d.value.address].balance,d.value.decimals):0),M=h(()=>P.value.assets&&b.value&&P.value.assets[b.value.address]?Oo(P.value.assets[b.value.address].balance,b.value.decimals):0),Z=I=>{I==="fromCoin"?(L.value=!0,C.value=U.value>0?d.value.symbol=="SUI"?new u(Number(U.value)).sub(new u(.05)).lt(new u(0))?"0":new u(Number(U.value)).sub(new u(.05)).toString():String(U.value):""):(L.value=!1,f.value=M.value>0?b.value.symbol=="SUI"?new u(Number(M.value)).sub(new u(.05)).lt(new u(0))?"0":new u(Number(M.value)).sub(new u(.05)).toString():String(M.value):"")},x=I=>{I==="fromCoin"?(L.value=!0,C.value=U.value>0?T(new u(Number(U.value)).div(2).toString(),d.value.decimals).toString():""):(L.value=!1,f.value=M.value>0?T(new u(Number(M.value)).div(2).toString(),b.value.decimals).toString():"")},J=h(()=>N.value?Go(N.value):{}),g=h(()=>S.value.slippage),r=$("--"),D=$("--"),te=I=>{const O=new u(s.value.autoPoolPositionInfo.liquidity),le=new u(I.toString());if(O.toNumber()>0&&le.toNumber()>0){const k=le.add(O);console.log("totalLiquidity:",le.div(k).mul(100).toString());const Se=le.div(k).mul(100).toNumber(),pe=kn(Se),ye=pe==-1?2:pe+2,ke=T(le.div(k).mul(100).toNumber(),ye);console.log(s.value.decimals,"##positionInfo.value.decimal");const Te=new u(1).div(new u(Math.pow(10,s.value.lpInfo.decimals))).toString();console.log(ke,Te,"###288"),Number(ke)<Number(Te)?r.value=`<${Te}`:r.value=ke}else le.toNumber()>0&&O.toNumber()<=0?r.value="100":r.value="--"},se=I=>{const O=new u(I.toString()),le=new u(g.value).div(100);console.log(le.toString(),"#slippageNum");const k=Co.get_lp_amount_by_liquidity({liquidity:s.value.liquidity,total_supply:s.value.total_supply},I.toString()),Se=new u(Math.pow(10,s.value.lpInfo.decimals)),pe=new u(k).div(Se).toString(),ye=new u(pe).mul(le);console.log(k,ye.toString(),"###409");const ke=new u(pe).sub(ye);console.log(ke.toString(),"##minLp"),console.log(O.toString(),k,pe,"lpDecimalNum##"),D.value=T(ke.toString(),s.value.decimals)},ve=$(!1),z=$(!1),oe=$(""),he=$(),_e=$(!1),fe=async()=>{if(console.log(s.value,"positionInfo.value###432"),!s.value)return;console.log(C.value,f.value,"####updateAmounts"),n.value=!1,_e.value=!0;const I=s.value.autoPoolPositionInfo.tick_lower_index,O=s.value.autoPoolPositionInfo.tick_upper_index,le=Xe.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));Xe.tickIndexToSqrtPriceX64(I),Xe.tickIndexToSqrtPriceX64(O),le<I&&(v.value?ve.value=!0:z.value=!0),le>O&&(v.value?z.value=!0:ve.value=!0);let k;if(console.log(C.value||f.value,"#fromCoinAmount.value || toCoinAmount.value"),C.value||f.value){L.value?k=new u(C.value).mul(Math.pow(10,d.value.decimals)).toString():k=new u(f.value).mul(Math.pow(10,b.value.decimals)).toString();let Se,pe=L.value;if(console.log("执行##"),console.log(le,I,O,"###520"),re.value||Pe.value){const q=new u(1);if(console.log(q.toString(),k,"decimalNum###"),new u(k).lte(q))return n.value=!0,!1;console.log(v.value?L.value:!L.value,"#needReverse.value?fixedFromCoin.value:!fixedFromCoin.value"),console.log(k,"##coinAmount"),console.log("1106###needReverse.value####",v.value),console.log("1106###calculateDepositSwapAmount###params###",{lowerTick:I,upperTick:O,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:k,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(g.value)/100,decimals:re.value?d.value.decimals:b.value.decimals});const j=await Je.calculateDepositSwapAmount({lowerTick:I,upperTick:O,curSqrtPrice:new ue(s.value.current_sqrt_price),fix_amount_a:pe,input_amount:k,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,clmm_pool:s.value.address,slippage:Number(g.value)/100,decimals:re.value?d.value.decimals:b.value.decimals,request_id:k});if(console.log(j,"###swapResult"),console.log("1106###calculateDepositSwapAmount###result###",j),j){if(j.request_id!==k)return;p.value=j.is_exceed,Se=new ue(j.afterSqrtPrice),k=j.fixAmountA===pe?new ue(new u(k).sub(j.swapInAmount).toString()):new ue(j.swapOutAmount),he.value={swap_amount:j.swapInAmount,route_obj:j.route_obj,a2b:pe,input_amount:k},pe=j.fixAmountA;const ne=s.value.token_a.decimals,Y=s.value.token_b.decimals,de=new u(j.swapInAmount).div(new u(Math.pow(10,ne))).toString(),ae=T(new u(j.swapOutAmountLimit).div(new u(Math.pow(10,Y))).toString(),Y),Q=v.value?s.value.token_b.symbol:s.value.token_a.symbol,V=v.value?s.value.token_a.symbol:s.value.token_b.symbol;oe.value=`To deposit ${R(re.value?C.value:f.value)} ${re.value?Q:V},
          ${R(de)} ${re.value?Q:V}  will be traded for ${R(ae)} ${re.value?V:Q} added to the pool.`}else Se=s.value.current_sqrt_price,k=new ue(k)}else p.value=!1,Se=s.value.current_sqrt_price,k=new ue(k),oe.value="";console.log(he,"##swapParams");let ye,ke,Te;const i=J.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:d.value,tokenB:b.value,lowerTick:I,upperTick:O,coinAmount:k,iscoinA:pe,roundUp:!0,slippage:Number(g.value)/100,curSqrtPrice:new ue(Se)});console.log("amount#",i),ye=i.liquidityAmount,ke=i.tokenMaxA,Te=i.tokenMaxB,!re.value&&!Pe.value&&(L.value?f.value=Number(Te)>0?Te:"":C.value=Number(ke)>0?ke:""),console.log(ye.toString(),"liquidityAmount###"),te(ye),se(ye),_e.value=!1}};Ce(()=>s.value,I=>{I&&!Ke(I)&&(d.value=I==null?void 0:I.token_a,b.value=I==null?void 0:I.token_b,ve.value=!1,z.value=!1,fe())},{immediate:!0});const me=h(()=>a.value.RATES),G=h(()=>{var I,O,le,k,Se,pe,ye,ke,Te,i;if((O=me.value[(I=d.value)==null?void 0:I.address])!=null&&O.price&&((k=me.value[(le=b.value)==null?void 0:le.address])!=null&&k.price)){console.log((pe=me.value[(Se=d.value)==null?void 0:Se.address])==null?void 0:pe.price,"RATES.value[fromCoin.value?.address]?.price");const q=new u(C.value||0).mul(new u((ke=me.value[(ye=d.value)==null?void 0:ye.address])==null?void 0:ke.price)),j=new u(f.value||0).mul(new u((i=me.value[(Te=b.value)==null?void 0:Te.address])==null?void 0:i.price));return q.add(j).toNumber()}else return"--"});Ce(()=>C.value,vo((I,O)=>{console.log(I,"##newVal"),I?fe():(r.value="--",f.value="",D.value="--")},500),{immediate:!0}),Ce(()=>f.value,vo((I,O)=>{I?fe():(C.value="",r.value="--",D.value="--")},500),{immediate:!0});const{t:ie,locale:be}=Ao(),ce=h(()=>{var I,O;if(re.value||Pe.value){const le=re.value?C.value:f.value,k=re.value?d.value:b.value;if((I=me.value[k==null?void 0:k.address])!=null&&I.price)return new u(le||0).mul(new u((O=me.value[k==null?void 0:k.address])==null?void 0:O.price)).toNumber()}return 0}),_=h(()=>{const I=Number(C.value)>Number(U.value),O=Number(f.value)>Number(M.value);return!C.value&&!f.value?ie("button.enterAmount"):I?ie("button.insufficientBalance",{name:d.value.symbol}):O?ie("button.insufficientBalance",{name:b.value.symbol}):p.value?ie("button.insufficientLiquidity"):Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(G.value)>Number(s.value.remainingTokenUSD)?"Exceeded the max capacity":n.value?ie("button.enterAmount"):(console.log(ce.value),"Add Liquidity")}),H=h(()=>{const I=Number(C.value)>Number(U.value),O=Number(f.value)>Number(M.value);return!!(!C.value&&!f.value||I||O||C.value<=0&&f.value<=0||p.value||po.value!=="STATUS_RUNNING"||(console.log(G.value,s.value.quoteUSD,"positionInfo.value.quoteUSD#"),Number(s.value.remainingTokenUSD)!==0&&Number(s.value.quoteUSD)>0&&Number(G.value)>Number(s.value.remainingTokenUSD))||n.value||ce.value>1e4)}),Ne=$(!0),{setIsShowSuccess:ge,setIsShowRejected:De,setIsShowWaiting:Ae,setTransactionDesc:Be,setTransactionTxid:we,setPositiomNum:Me}=E,Je=zo("Sui"),ro=async()=>{var Te,i;t.value=!1,Ne.value=!0,we("");const I=`${R(C.value)} ${(Te=d.value)==null?void 0:Te.symbol}`,O=`${R(f.value)} ${(i=b.value)==null?void 0:i.symbol}`;Be(`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?O:""}`),Ae(!0);const le=L.value,k=s.value.autoPoolPositionInfo.tick_lower_index,Se=s.value.autoPoolPositionInfo.tick_upper_index,pe=Xe.sqrtPriceX64ToTickIndex(new ue(s.value.current_sqrt_price));let ye;L.value?ye=new u(C.value).mul(Math.pow(10,d.value.decimals)).toString():ye=new u(f.value).mul(Math.pow(10,b.value.decimals)).toString();const ke=s.value.rewarderInfo.map(q=>q.coinAddress);console.log("1109###deposit###positionInfo###",s);try{const q={lowerTick:k,upperTick:Se,coinAmount:ye,fix_amount_a:le,slippage:Number(g.value)/100,curSqrtPrice:new ue(s.value.current_sqrt_price),id:s.value.id,clmm_pool:s.value.autoPoolPositionInfo.pool,lp_token_type:s.value.lp_token_type,coinTypeA:s.value.autoPoolPositionInfo.coin_type_a,coinTypeB:s.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:ke,swapParams:he.value,isOnlyA:re.value,isOnlyB:Pe.value,currentTickIndex:pe,decimal_b:s.value.coinB.decimals};console.log("1106###deposit###params###",q);const j=await Je.deposit(q);console.log(j,"===>payloadAdd11111");const ne=await P.value.currentWallet.signAndExecuteTransactionBlock(j);let Y=J.value.handleTx(ne);if(console.log("toAdd###tx###",Y),Y&&Y.hash){we(Y.hash),Ae(!1),ge(!0),console.log(s,"===>positionInfo");const de={title:"Supplied",desc:`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?O:""}`,hash:Y.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",text:`Deposit ${C.value>0?I:""} ${f.value>0&&C.value>0?"and":""} ${f.value>0?O:""}`};N.value!=="Aptos"&&(de.res=Y.res),J.value.showTransitionPending(de),await J.value.watchTransaction(de)&&setTimeout(()=>{c.updatePositionItem(s.value.id),J.value.getAccount(P.value.address)},1e3),Me()}else Ae(!1),De(!0);C.value="",f.value="",Ne.value=!1}catch(q){C.value="",f.value="",console.log("addError###",q),Ne.value=!1,Ae(!1),De(!0)}},re=$(!1),Pe=$(!1),qe=I=>{C.value="",f.value="",oe.value="",I=="only-a"?(re.value=!re.value,Pe.value=!1):(Pe.value=!Pe.value,re.value=!1)},po=h(()=>S.value.currentAutoPoolStatus),fo=$(),ho=()=>{fo.value=window.setInterval(()=>{(C.value||f.value)&&fe()},2e4)};go(()=>{ho()}),So(()=>{window.clearInterval(fo.value)});const _o=cn(pn,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0});return{currentAutoPoolStatus:po,wallet:P,positionInfo:s,isShowAddModal:t,needReverse:v,fromCoin:d,toCoin:b,fromCoinAmount:C,toCoinAmount:f,fromCoinBlance:U,toCoinBlance:M,fixedFromCoin:L,maxBtnSelect:Z,halfBtnSelect:x,totalAmountUSD:G,addCommom:R,shareOfPool:r,minimumReceivedLP:D,addLiquidityBtnText:_,addLiquidityBtnDisabled:H,toAdd:ro,showToCoinLock:z,showFromCoinLock:ve,isOnlyA:re,isOnlyB:Pe,onlyToken:qe,onlyText:oe,onlyTokenUSD:ce,calculateLoading:_e,indicator:_o}}});const no=e=>(Ge("data-v-b557fa66"),e=e(),He(),e),mi={class:"auto-pool-add"},ci={class:"auto-pool-add-content"},pi={class:"liquidity-action-tab"},fi=no(()=>o("div",{class:"increase tab-active"},"Add",-1)),gi={class:"only-token"},yi=no(()=>o("div",null,"Deposit Amounts",-1)),bi={key:0},ki=no(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),hi={key:0},_i=no(()=>o("div",{class:"hover-text"},"You can also choose to deposit in only one asset type. In that case, the vault will convert your asset to the required propositions using Cetus. Please note that trading fees & slippage will be applied. When slippage is involved, a certain amount of post-swap dust (no loss of funds) will be returned to you.",-1)),$i={key:0,class:"card-item"},wi={key:1,class:"card-item"},Ii=no(()=>o("span",null,"Pool Closed",-1)),Ci={key:0,class:"add-info"},Ai={key:0,class:"only-text"},Pi={class:"total-amount"},Si=no(()=>o("span",null,"Total Amount",-1)),Ti={key:0},Ni={class:"total-amount"},qi=no(()=>o("span",null,"Share of Pool",-1)),Ri={key:0},Di={class:"total-amount"},Bi=no(()=>o("span",null,"Minimum Received LP",-1)),Li={key:0};function Ui(e,t,E,W,N,P){var p,n,v,d,b,C,f,L,U,M,Z,x,J,g,r;const c=Yo,S=Ko,w=so("AutoPoolV2PoolStatus"),a=Po,s=Xo,B=Zo;return l(),y("div",mi,[o("div",ci,[o("div",pi,[fi,o("div",{class:"remove",onClick:t[0]||(t[0]=jo(D=>e.$emit("changeCurrentTab"),["stop"]))},"Remove")]),o("div",gi,[yi,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=D=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(l(),y("span",bi)):F("",!0)]),o("span",null,m(e.needReverse?(d=(v=e.positionInfo)==null?void 0:v.token_b)==null?void 0:d.symbol:(n=(p=e.positionInfo)==null?void 0:p.token_a)==null?void 0:n.symbol)+" only",1),ki]),o("div",{class:"only-b",onClick:t[2]||(t[2]=D=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(l(),y("span",hi)):F("",!0)]),o("span",null,m(e.needReverse?(L=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:L.symbol:(C=(b=e.positionInfo)==null?void 0:b.token_b)==null?void 0:C.symbol)+" only",1),_i])])]),o("div",{class:Ve(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(l(),y("div",$i,[X(c,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=D=>e.fromCoinAmount=D),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=D=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=D=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=D=>{e.fromCoinAmount=D}),onOnFocus:t[7]||(t[7]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.isOnlyA?(l(),K(S,{key:0})):F("",!0)])):F("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(l(),y("div",wi,[X(c,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=D=>e.toCoinAmount=D),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=D=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=D=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=D=>{e.toCoinAmount=D}),onOnFocus:t[12]||(t[12]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.isOnlyB?(l(),K(S,{key:0})):F("",!0)])):F("",!0)],2)]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(l(),K(w,{key:0})):F("",!0),(U=e.positionInfo)!=null&&U.is_pause?(l(),K(a,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:$e(()=>[Ii]),_:1})):e.wallet.connected?(l(),K(a,{key:2,class:"big-btn liquidity-btn",disabled:e.addLiquidityBtnDisabled,onClick:t[13]||(t[13]=D=>e.isShowAddModal=!0)},{default:$e(()=>[o("span",null,m(e.addLiquidityBtnText),1)]),_:1},8,["disabled"])):(l(),K(a,{key:3,class:"big-btn liquidity-btn",onClick:t[14]||(t[14]=D=>e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[o("span",null,m(e.$t("button.connectWallet")),1)]),_:1})),(((M=e.positionInfo)==null?void 0:M.quoteUSD)==0||Number((Z=e.positionInfo)==null?void 0:Z.remainingTokenUSD)>Number(e.totalAmountUSD))&&(Number(e.fromCoinAmount)>0||Number(e.toCoinAmount)>0)&&!e.addLiquidityBtnDisabled?(l(),y(to,{key:4},[e.onlyTokenUSD<=1e4?(l(),y("div",Ci,[e.onlyText&&(e.isOnlyA&&e.fromCoinAmount>0||e.isOnlyB&&e.toCoinAmount>0)?(l(),y("div",Ai,m(e.onlyText),1)):F("",!0),o("div",Pi,[Si,e.calculateLoading?(l(),K(s,{key:1,paragraph:!1,active:""})):(l(),y("span",Ti,m(Number(e.totalAmountUSD)>0&&Number(e.totalAmountUSD)<.01?"<$0.01":`$${("addCommom"in e?e.addCommom:A(R))(e.totalAmountUSD,2)}`),1))]),o("div",Ni,[qi,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),y("span",Ri,m(e.shareOfPool)+"%",1)):(l(),K(s,{key:1,paragraph:!1,active:""}))]),o("div",Di,[Bi,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),y("span",Li,m(("addCommom"in e?e.addCommom:A(R))(e.minimumReceivedLP))+" "+m(e.needReverse?(x=e.toCoin)==null?void 0:x.symbol:(J=e.fromCoin)==null?void 0:J.symbol)+"-"+m(e.needReverse?(g=e.fromCoin)==null?void 0:g.symbol:(r=e.toCoin)==null?void 0:r.symbol),1)):(l(),K(s,{key:1,paragraph:!1,active:""}))])])):F("",!0)],64)):F("",!0),e.isShowAddModal?(l(),K(B,{key:5,"pool-info":e.positionInfo,"from-coin":e.needReverse?e.positionInfo.token_b:e.positionInfo.token_a,"to-coin":e.needReverse?e.positionInfo.token_a:e.positionInfo.token_b,"from-coin-amount":e.needReverse?e.toCoinAmount:e.fromCoinAmount,"to-coin-amount":e.needReverse?e.fromCoinAmount:e.toCoinAmount,"total-amount":e.totalAmountUSD,"share-of-pool":e.shareOfPool,"minimum-received-l-p":e.minimumReceivedLP,"is-only-a":e.isOnlyA,"is-only-b":e.isOnlyB,onOnClose:t[15]||(t[15]=D=>e.isShowAddModal=!1),onToAdd:e.toAdd},null,8,["pool-info","from-coin","to-coin","from-coin-amount","to-coin-amount","total-amount","share-of-pool","minimum-received-l-p","is-only-a","is-only-b","onToAdd"])):F("",!0)])}const Fi=je(vi,[["render",Ui],["__scopeId","data-v-b557fa66"]]),Mi=ze({components:{AutoPoolRemoveModal:Jo,AutoPoolV2PoolStatus:ln},setup(){const e=qo(),t=h(()=>e),E=bo(),W=h(()=>E),N=h(()=>p.value.slippage),P=h(()=>W.value.chainName),c=hn(),S=h(()=>c),w=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],a=$(25),s=eo(),B=Ze(),p=h(()=>B),n=h(()=>(console.log(p.value.positionInfoObj[s.params.id],"autoPool.value.positionInfoObj[route.params.id]###"),p.value.positionInfoObj[s.params.id])),v=h(()=>{var i;return(i=n.value)==null?void 0:i.needReverse}),d=$(),b=$(),C=$(!1),f=$(),L=h(()=>{var i;return(i=n.value)==null?void 0:i.myLiquidity}),U=$(!0),M=h(()=>P.value?Go(P.value):{}),Z=$(),x=$(),J=zo("Sui"),g=$(""),r=$(""),D=$("--"),te=$(!1),se=$(!1),ve=$(),z=$(!0),oe=$(),he=oo(),_e=h(()=>he),fe=h(()=>_e.value.RATES),me=$(!1),G=async()=>{if(U.value||!n.value)return;x.value=!1,me.value=!0;const i=n.value.autoPoolPositionInfo.tick_lower_index,q=n.value.autoPoolPositionInfo.tick_upper_index,j=Xe.sqrtPriceX64ToTickIndex(new ue(n.value.current_sqrt_price));j<i&&(v.value?te.value=!0:se.value=!0),j>q&&(v.value?se.value=!0:te.value=!0);let ne;if(console.log(g.value||r.value,"#fromCoinAmount.value || toCoinAmount.value"),g.value||r.value){z.value?ne=new u(g.value).mul(Math.pow(10,d.value.decimals)).toString():ne=new u(r.value).mul(Math.pow(10,b.value.decimals)).toString();let Y,de=z.value;if(_.value||H.value){_.value?Number(g.value)/Number(k.value):Number(r.value)/Number(k.value);const ee=await J.calculateRemoveSwapAmount({lowerTick:i,upperTick:q,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:de,receiveAmount:ne,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(N.value)/100,decimals:_.value?d.value.decimals:b.value.decimals,liquidity:g.value==k.value||r.value==k.value?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity,request_id:ne});if(console.log(ee,"###swapResult"),ee){if(ee.request_id!==ne)return;Z.value=ee.is_exceed,ne=new ue(ee.swapOutAmount),Y=n.value.current_sqrt_price,ve.value={swap_amount:ee.swapInAmount,liquidity:ee.liquidity,a2b:!de,route_obj:ee.route_obj},de=!de;const Ee=n.value.token_a.decimals,Oe=n.value.token_b.decimals,Re=new u(ee.swapInAmount).div(new u(Math.pow(10,Ee))).toString(),io=T(new u(ee.swapOutAmountLimit).div(new u(Math.pow(10,Oe))).toString(),Oe),Ie=v.value?n.value.token_b.symbol:n.value.token_a.symbol,Le=v.value?n.value.token_a.symbol:n.value.token_b.symbol;oe.value=g.value==k.value||r.value==k.value?`To withdraw ${R(_.value?g.value:r.value)} ${_.value?Ie:Le},
          ${R(_.value?n.value.amountB:n.value.amountA)} ${_.value?Le:Ie} 
           in the pool will be traded for ${Re} ${_.value?Ie:Le}`:`To withdraw ${R(_.value?g.value:r.value)} ${_.value?Ie:Le},
          ${R(Re)} ${_.value?Le:Ie}  in the pool will be traded for ${R(io)} ${_.value?Ie:Le}`}else{x.value=!0,oe.value="";return}}else Z.value=!1,Y=n.value.current_sqrt_price,ne=new ue(ne);console.log(Y,"##curSqrtPrice"),console.log("执行了吗##");const{liquidityAmount:ae,tokenMaxA:Q,tokenMaxB:V}=M.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:d.value,tokenB:b.value,lowerTick:i,upperTick:q,coinAmount:ne,iscoinA:de,roundUp:!1,slippage:Number(N.value)/100,curSqrtPrice:new ue(Y)});if(console.log(n.value.current_sqrt_price,"##positionInfo.value.current_sqrt_price"),console.log(V.toString(),Q.toString(),n.value,"###323"),!_.value&&!H.value&&(z.value?r.value=Number(V)>0?V:"":g.value=Number(Q)>0?Q:""),(_.value||H.value)&&(Number(g.value)>=Number(k.value)||Number(r.value)>=Number(k.value))){console.log("执行这里了吗"),f.value=n.value.myLiquidity;const ee=new u(100);D.value=new u(n.value.myLiquidity).mul(new u(Math.pow(10,n.value.lpInfo.decimals))).toString(),ie.value=ae.toString(),a.value=ee.toNumber()}else{console.log("执行这里了吗1");const ee=Co.get_lp_amount_by_liquidity({liquidity:n.value.liquidity,total_supply:n.value.total_supply},ae.toString()),Ee=new u(ee).div(new u(Math.pow(10,n.value.lpInfo.decimals))).toString();console.log(Ee,L.value,ae.toString(),n.value.liquidity,n.value.total_supply,"##lpBalance.value");const Oe=new u(Ee).div(new u(L.value)).mul(100);console.log(Ee,L.value,Oe.toNumber(),"lp##"),f.value=new u(L.value).mul(Oe.div(100)).toString(),D.value=ee,ie.value=ae.toString(),a.value=Oe.toNumber()}me.value=!1}},ie=$(),be=h(()=>{var i;return(i=n==null?void 0:n.value)==null?void 0:i.amountA}),ce=h(()=>{var i;return(i=n==null?void 0:n.value)==null?void 0:i.amountB}),_=$(!1),H=$(!1),Ne=h(()=>{var de,ae,Q,V;const i=(ae=fe.value[(de=d==null?void 0:d.value)==null?void 0:de.address])==null?void 0:ae.price,q=(V=fe.value[(Q=b==null?void 0:b.value)==null?void 0:Q.address])==null?void 0:V.price;console.log(i,q,g.value,r.value,"####totalWithdraw");let j=g.value!=="--"&&g.value!==""?g.value:0,ne=r.value!=="--"&&r.value!==""?r.value:0,Y;return i&&q&&(_.value||H.value?Y=new u(_.value?j:ne).mul(new u(_.value?i:q)).toString():(Y=new u(j).mul(new u(i)).add(new u(ne).mul(new u(q))).toString(),console.log(Y,"result##"))),Y>0&&Y<.01?"<$0.01":`$${R(T(Y,2))}`}),ge=async i=>{var Ee,Oe,Re,io,Ie,Le,$o,Do,Bo,Lo,Uo;if(!U.value)return;U.value=!0,x.value=!1,(Oe=(Ee=n.value)==null?void 0:Ee.token_a)==null||Oe.decimals,(io=(Re=n.value)==null?void 0:Re.token_b)==null||io.decimals;const q=(Ie=n.value)==null?void 0:Ie.tick_lower_index,j=(Le=n.value)==null?void 0:Le.tick_upper_index;Xe.tickIndexToSqrtPriceX64(q),Xe.tickIndexToSqrtPriceX64(j);const ne=(Do=($o=n.value)==null?void 0:$o.autoPoolPositionInfo)==null?void 0:Do.tick_lower_index,Y=(Lo=(Bo=n.value)==null?void 0:Bo.autoPoolPositionInfo)==null?void 0:Lo.tick_upper_index,de=Xe.sqrtPriceX64ToTickIndex(new ue((Uo=n==null?void 0:n.value)==null?void 0:Uo.current_sqrt_price));de<ne&&(v.value?te.value=!0:se.value=!0),de>Y&&(v.value?se.value=!0:te.value=!0);let ae="",Q,V;console.log(i.value,"##item.value"),console.log(V,"##coinAmount");let ee=z.value;if(console.log("执行##"),_.value||H.value&&!te.value&&!se.value){if(_.value){const Qe=new u(k.value).mul(Math.pow(10,d.value.decimals)).mul(i.value).toString();console.log(Qe,"##amount"),V=T(Qe,0),g.value=T(new u(k.value).mul(i.value).toString(),d.value.decimals)}if(H.value){const Qe=new u(k.value).mul(i.value).mul(Math.pow(10,b.value.decimals)).toString();V=T(Qe,0),r.value=T(new u(k.value).mul(i.value).toString(),b.value.decimals)}console.log(g.value,"##fromCoinAmount.value");const Ue=await J.calculateRemoveSwapAmount({lowerTick:q,upperTick:j,curSqrtPrice:new ue(n.value.current_sqrt_price),fix_amount_a:ee,receiveAmount:V,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,clmm_pool:n.value.address,slippage:Number(N.value)/100,decimals:_.value?d.value.decimals:b.value.decimals,liquidity:i.value==1?n.value.positionLiquidity:"",maxLiquidity:n.value.positionLiquidity,request_id:V});if(console.log(Ue,"###swapResult536"),Ue){if(Ue.request_id!==V)return;Z.value=Ue.is_exceed,V=new ue(Ue.swapOutAmount),n.value.current_sqrt_price,ve.value={swap_amount:Ue.swapInAmount,liquidity:Ue.liquidity,route_obj:Ue.route_obj,a2b:!ee},ee=!ee;const Qe=n.value.token_a.decimals,Fo=n.value.token_b.decimals,an=new u(Ue.swapInAmount).div(new u(Math.pow(10,Qe))).toString(),Mo=T(new u(Ue.swapOutAmountLimit).div(new u(Math.pow(10,Fo))).toString(),Fo),lo=v.value?n.value.token_b.symbol:n.value.token_a.symbol,ao=v.value?n.value.token_a.symbol:n.value.token_b.symbol;oe.value=i.value==1?`To withdraw ${R(_.value?g.value:r.value)} ${_.value?lo:ao},
          ${R(_.value?n.value.amountB:n.value.amountA)} ${_.value?ao:lo}  in the pool will be traded for ${R(Mo)} ${_.value?lo:ao}`:`To withdraw ${R(_.value?g.value:r.value)} ${_.value?lo:ao},
          ${R(an)} ${_.value?ao:lo}  in the pool will be traded for ${R(Mo)} ${_.value?lo:ao}`,ae=Ue.liquidity}else n.value.current_sqrt_price,V=new ue(V),oe.value="",x.value=!0;console.log(Q,"result###"),D.value=new u(n.value.myLiquidity).mul(new u(i.value)).toString(),console.log(n.value,n.value.liquidity,ae,D.value,"###positionInfo.value.liquidity"),console.log(D.value,"##lpTokenAmount.value"),f.value=new u(D.value),ie.value=ae}else{Z.value=!1;const Ue=new u(be.value).mul(Math.pow(10,d.value.decimals)).mul(i.value).toString();V=T(Ue,0),g.value=T(new u(be.value).mul(i.value).toString(),d.value.decimals);const Qe=new u(ce.value).mul(i.value).mul(Math.pow(10,b.value.decimals)).toString();V=T(Qe,0),r.value=T(new u(ce.value).mul(i.value).toString(),b.value.decimals),n.value.current_sqrt_price,V=new ue(V),i.value!==1?Q=new u(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).mul(i.value).toString():Q=new u(n.value.myLiquidity).mul(Math.pow(10,n.value.lpInfo.decimals)).toString(),f.value=new u(Q).div(Math.pow(10,n.value.lpInfo.decimals)),ae=Co.get_share_liquidity_by_amount({liquidity:n.value.liquidity,total_supply:n.value.total_supply},Q),D.value=T(Q,0),ie.value=T(ae,0),console.log(ae,"###newLiquidity525")}};Ce(a,vo((i,q)=>{i!==q&&(Number(i)>100?a.value=100:i&&n.value?(console.log("687===>"),a.value=i,ge({value:a.value/100})):(g.value="",r.value=""))},300)),Ce(()=>g.value,vo((i,q)=>{i?G():!_.value&&!H.value&&(r.value="",a.value=0)},500),{immediate:!0}),Ce(()=>r.value,vo((i,q)=>{i?G():!_.value&&!H.value&&(g.value="",a.value=0)},500),{immediate:!0});const De=To(),{setIsShowSuccess:Ae,setIsShowRejected:Be,setIsShowWaiting:we,setTransactionDesc:Me,setTransactionTxid:Je,setPositiomNum:ro,setTransactionDescText:re}=E,Pe=$(!1),{t:qe}=Ao(),po=async()=>{var Ee,Oe;Pe.value=!0,Je("");const i=Number(g.value)>0?`${R(g.value,d.value.decimals)} ${d.value.symbol}`:"",q=Number(r.value)>0?`${R(r.value,b.value.decimals)} ${b.value.symbol}`:"";console.log(i,q,"###transactionDescTo"),Me(qe("tips.removeLiquidiyText",{from:v.value?q:i,and:Number(g.value)>0&&Number(r.value)>0?"and":"",to:v.value?i:q})),we(!0);const j=qe("modal.removeLiquidityText2");re(j);const ne=n.value.autoPoolPositionInfo.tick_lower_index,Y=n.value.autoPoolPositionInfo.tick_upper_index,de=Xe.tickIndexToSqrtPriceX64(ne),ae=Xe.tickIndexToSqrtPriceX64(Y),Q=n.value.rewarderInfo.map(Re=>Re.coinAddress);console.log(D.value,"##lpTokenAmount.value431");let V;z.value?V=new u(g.value).mul(Math.pow(10,d.value.decimals)).toString():V=new u(r.value).mul(Math.pow(10,b.value.decimals)).toString(),console.log();const ee={lowerSqrtPrice:de,upperSqrtPrice:ae,lpTokenAmount:D.value,liquidity:ie.value,curSqrtPrice:new ue(n.value.object.current_sqrt_price),slippage:Number(N.value)/100,id:n.value.id,clmm_pool:n.value.autoPoolPositionInfo.pool,lp_token_type:n.value.lp_token_type,coinTypeA:n.value.autoPoolPositionInfo.coin_type_a,coinTypeB:n.value.autoPoolPositionInfo.coin_type_b,rewarder_coin_types:Q,swapParams:ve.value,fix_amount_a:z.value,isOnlyA:!te.value&&!se.value?_.value:!1,isOnlyB:!se.value&&!te.value?H.value:!1,lowerTick:ne,upperTick:Y,receiveAmount:V,sliderVal:a.value,positionInfo:n.value,maxLiquidity:n.value.positionLiquidity};try{const Re=await J.remove(ee);console.log(Re,"移除流动性payload");const io=await t.value.currentWallet.signAndExecuteTransactionBlock(Re);let Ie=M.value.handleTx(io);if(console.log("0331###remove###tx####",Ie),Ie&&Ie.hash){Je(Ie.hash),we(!1),Ae(!0);const Le={title:qe("common.removeLiquidity"),desc:"",hash:Ie.hash,descTransactions:`Remove ${i} ${Number(g.value)>0&&Number(r.value)>0?"and":""} ${q} from the pool`,sender:t.value.address,chainName:"Sui",tit:"Liquidity Removed",icon:"icon-icon-Removed",text:`Withdraw ${g.value} ${(Ee=d.value)==null?void 0:Ee.symbol} and ${r.value} ${(Oe=b.value)==null?void 0:Oe.symbol}`};Le.res=Ie.res,M.value.showTransitionPending(Le),await M.value.watchTransaction(Le)&&(g.value="",r.value="",f.value="",a.value=0,setTimeout(()=>{B.updatePositionItem(n.value.id),M.value.getAccount(t.value.address)},1e3),Number(a.value)==100&&s.name=="auto-pool-detail"&&De.push("/pool/vaults"))}else we(!1),Be(!0);Pe.value=!1}catch(Re){console.log("Remove error",Re),Pe.value=!1,we(!1),Be(!0)}};Ce(()=>n.value,(i,q)=>{i&&!Ke(i)&&(d.value=i==null?void 0:i.token_a,b.value=i==null?void 0:i.token_b,console.log("触发###"),(!q||q&&q.address!==i.address)&&(a.value=a.value>0?a.value:25,ge({value:a.value/100})),q&&q.current_sqrt_price!==i.current_sqrt_price&&(U.value?ge({value:a.value/100}):G()))},{immediate:!0});const fo=h(()=>{const i=Number(f.value)>Number(L.value);return!g.value&&!r.value||!f.value||f.value<=0||!g.value&&_.value||!r.value&&H.value?qe("button.enterAmount"):i?"Invalid Amount":Z.value?qe("button.insufficientLiquidity"):x.value?qe("button.enterAmount"):(console.log(g.value,k.value,r.value,"856##"),_.value&&Number(g.value)>Number(k.value)||H.value&&Number(r.value)>Number(k.value)?"Invalid Amount":qe("button.remove"))}),ho=h(()=>{const i=Number(f.value)>Number(L.value);return!!(!g.value&&!r.value||Number(g.value)<=0&&_.value||Number(r.value)<=0&&H.value||!f.value||f.value<=0||i||Z.value||ye.value!=="STATUS_RUNNING"||x.value||_.value&&Number(g.value)>Number(k.value)||H.value&&Number(r.value)>Number(k.value))}),_o=i=>(i==null?void 0:i.logoURI)||(i==null?void 0:i.logo_url)||uo("/image/coins/sui-unknown.png"),I=i=>{g.value="",r.value="",U.value=!0,oe.value="",i=="only-a"?(_.value=!_.value,H.value=!1,z.value=!0):(H.value=!H.value,_.value=!1,z.value=!1)},O=i=>{U.value=!0,a.value=100,i==="fromCoin"?z.value=!0:z.value=!1},le=i=>{U.value=!0,a.value=50,i==="fromCoin"?z.value=!0:z.value=!1},k=$(),Se=async()=>{const i=n.value.token_a.decimals,q=n.value.token_b.decimals,j=new u(be.value).mul(new u(Math.pow(10,i))).toNumber(),ne=new u(ce.value).mul(new u(Math.pow(10,q))).toNumber(),Y=_.value?ne:j,de=_.value?b.value.address===n.value.token_a.address:d.value.address===n.value.token_a.address;try{const ae=await S.value.swapRouterContract.getSwapRouter(_.value?b:d,_.value?d:b,Y,!0,Number(N.value)/100,"",void 0,[{pool_id:n.value.address,tick_lower:n.value.autoPoolPositionInfo.tick_lower_index,tick_upper:n.value.autoPoolPositionInfo.tick_upper_index,delta_liquidity:Number(n.value.positionLiquidity),is_increase:!1}]),Q=new u(ae.amountOut);k.value=Q.sub(Q.mul(Number(N.value)/100)).add(new u(_.value?be.value:ce.value)).toString()}catch{if(_.value||H.value){console.log(Y,"##receiveAmount");let Q=await M.value.preSwap({pool:{address:n.value.address,coinA:n.value.token_a,coinB:n.value.token_b},a2b:de,byAmountIn:!0,amount:Y});console.log(Q,Q.estimatedAmountOut,i,q,"##preSwapRes");const V=new u(Q.estimatedAmountOut);k.value=V.sub(V.mul(Number(N.value)/100)).add(new u(_.value?be.value:ce.value)).toString(),console.log("转换之后数量:",Q.estimatedAmountOut),console.log("转换之后滑点数量:",V.mul(Number(N.value)/100).toNumber()),console.log("原有数量减滑点数量:",V.sub(V.mul(Number(N.value)/100)).toNumber()),console.log("fromCoin原有数量:",be.value),console.log(k.value,"###onlyTokenBalance.value"),_.value?g.value=T(new u(k.value).mul(a.value/100).toString(),d.value.decimals):r.value=T(new u(k.value).mul(a.value/100).toString(),b.value.decimals),ge({value:a.value/100})}}ge({value:a.value/100})};Ce(()=>[_.value,H.value,be.value,ce.value],([i,q])=>{i||q?Se():ge({value:a.value/100})},{immediate:!0});const pe=i=>`${i}%`,ye=h(()=>p.value.currentAutoPoolStatus),ke=$(),Te=()=>{ke.value=window.setInterval(()=>{(g.value||r.value)&&!U.value?G():ge({value:a.value/100})},2e4)};return go(()=>{Te()}),So(()=>{window.clearInterval(ke.value)}),{removeLiquidityBtnText:fo,removeLiquidityBtnDisabled:ho,wallet:t,ratioArr:w,positionInfo:n,isShowRemoveModal:C,needReverse:v,fromCoin:d,toCoin:b,lpAmount:f,lpBalance:L,sliderVal:a,sFixD:T,isSlider:U,fromCoinAmount:g,toCoinAmount:r,setPercent:ge,toRemove:po,addCommom:R,getCoinIcon:_o,isOnlyA:_,isOnlyB:H,onlyToken:I,fixedFromCoin:z,maxBtnSelect:O,halfBtnSelect:le,fromCoinBlance:be,toCoinBlance:ce,showFromCoinLock:te,showToCoinLock:se,removeText:oe,onlyTokenBalance:k,totalWithdraw:Ne,formatter:pe,currentAutoPoolStatus:ye,calculateLoading:me}}});const co=e=>(Ge("data-v-7b9122a1"),e=e(),He(),e),Oi={class:"auto-pool-add"},Vi={class:"auto-pool-add-content"},Ei={class:"liquidity-action-tab"},Wi=co(()=>o("div",{class:"remove tab-active"},"Remove",-1)),ji={key:0,class:"only-token"},Xi=co(()=>o("div",null,"Deposit Amounts",-1)),zi={key:0},Gi={key:0},Hi={key:0,class:"card-item"},Yi={key:1,class:"card-item"},Ki={class:"remove-ratio"},Zi={class:"remove-ratio-select"},Ji={key:0,class:"ratio"},Qi={key:1,class:"ratio"},xi={class:"ratio-list"},el=["onClick"],ol=co(()=>o("span",null,"Pool Closed",-1)),nl={key:4,class:"remove-info"},tl={key:0,class:"remove-text total-amount"},sl={class:"total-amount"},il=co(()=>o("span",null,"Total Withdraw",-1)),ll={key:0},al={class:"total-amount"},ul=co(()=>o("span",null,"LP Burn Amount",-1)),rl={key:0};function dl(e,t,E,W,N,P){var n,v,d,b,C,f,L,U,M,Z,x,J,g;const c=Yo,S=Ko,w=Wo,a=so("AutoPoolV2PoolStatus"),s=Po,B=Xo,p=Jo;return l(),y("div",Oi,[o("div",Vi,[o("div",Ei,[o("div",{class:"increase",onClick:t[0]||(t[0]=jo(r=>e.$emit("changeCurrentTab"),["stop"]))},"Add"),Wi]),!e.showFromCoinLock&&!e.showToCoinLock?(l(),y("div",ji,[Xi,o("div",null,[o("div",{class:"only-a",onClick:t[1]||(t[1]=r=>e.onlyToken("only-a"))},[o("p",null,[e.isOnlyA?(l(),y("span",zi)):F("",!0)]),o("span",null,m(e.needReverse?(b=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:b.symbol:(v=(n=e.positionInfo)==null?void 0:n.token_a)==null?void 0:v.symbol)+" only",1)]),o("div",{class:"only-b",onClick:t[2]||(t[2]=r=>e.onlyToken("only-b"))},[o("p",null,[e.isOnlyB?(l(),y("span",Gi)):F("",!0)]),o("span",null,m(e.needReverse?(U=(L=e.positionInfo)==null?void 0:L.token_a)==null?void 0:U.symbol:(f=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:f.symbol)+" only",1)])])])):F("",!0),o("div",{class:Ve(e.needReverse?"card-container reverse":"card-container")},[(e.needReverse?!e.isOnlyA:!e.isOnlyB)?(l(),y("div",Hi,[X(c,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=r=>e.fromCoinAmount=r),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.isOnlyA?e.onlyTokenBalance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[4]||(t[4]=r=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=r=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=r=>{e.isSlider=!1,e.fromCoinAmount=r}),onOnFocus:t[7]||(t[7]=()=>{e.isSlider=!1,e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(l(),K(S,{key:0})):F("",!0)])):F("",!0),(e.needReverse?!e.isOnlyB:!e.isOnlyA)?(l(),y("div",Yi,[X(c,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=r=>e.toCoinAmount=r),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.isOnlyB?e.onlyTokenBalance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","amount-leabl":"Available","has-arrow":!1,onOnMax:t[9]||(t[9]=r=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=r=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=r=>{e.isSlider=!1,e.toCoinAmount=r}),onOnFocus:t[12]||(t[12]=()=>{e.isSlider=!1,e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(l(),K(S,{key:0})):F("",!0)])):F("",!0)],2),o("div",Ki,[o("div",Zi,[Number(e.lpBalance)>=Number(e.lpAmount)?(l(),y("div",Ji,m(e.sliderVal>0&&Number(("sFixD"in e?e.sFixD:A(T))(e.sliderVal,2))<.01?"<0.01":("sFixD"in e?e.sFixD:A(T))(e.sliderVal,2))+"% ",1)):(l(),y("div",Qi,"--")),o("div",xi,[(l(!0),y(to,null,Eo(e.ratioArr,(r,D)=>(l(),y("div",{key:D,class:Ve(["ratio-item",e.sliderVal==r.value?"ratio-item-active":""]),onClick:()=>{e.isSlider=!0,e.sliderVal=r.value}},m(r.name),11,el))),128))])]),X(w,{value:e.sliderVal,"onUpdate:value":t[13]||(t[13]=r=>e.sliderVal=r),"tip-formatter":e.formatter,onChange:t[14]||(t[14]=r=>e.isSlider=!0)},null,8,["value","tip-formatter"])])]),e.currentAutoPoolStatus=="STATUS_REBALANCING"?(l(),K(a,{key:0})):F("",!0),(M=e.positionInfo)!=null&&M.is_pause?(l(),K(s,{key:1,class:"big-btn liquidity-btn",disabled:!0},{default:$e(()=>[ol]),_:1})):e.wallet.connected?(l(),K(s,{key:2,class:"big-btn liquidity-btn",disabled:e.removeLiquidityBtnDisabled,onClick:t[15]||(t[15]=r=>e.toRemove())},{default:$e(()=>[o("span",null,m(e.removeLiquidityBtnText),1)]),_:1},8,["disabled"])):(l(),K(s,{key:3,class:"big-btn liquidity-btn",onClick:t[16]||(t[16]=r=>e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[o("span",null,m(e.$t("button.connectWallet")),1)]),_:1})),e.removeLiquidityBtnDisabled?F("",!0):(l(),y("div",nl,[e.removeText&&(e.isOnlyA&&Number(e.fromCoinAmount)>0||e.isOnlyB&&Number(e.toCoinAmount)>0)?(l(),y("div",tl,m(e.removeText),1)):F("",!0),o("div",sl,[il,e.calculateLoading?(l(),K(B,{key:1,paragraph:!1,active:""})):(l(),y("span",ll,m(e.totalWithdraw),1))]),o("div",al,[ul,(e.fromCoinAmount||e.toCoinAmount)&&!e.calculateLoading?(l(),y("span",rl,m(("addCommom"in e?e.addCommom:A(R))(("sFixD"in e?e.sFixD:A(T))(e.lpAmount,e.positionInfo.decimals)))+" "+m(e.needReverse?(Z=e.toCoin)==null?void 0:Z.symbol:(x=e.fromCoin)==null?void 0:x.symbol)+"-"+m(e.needReverse?(J=e.fromCoin)==null?void 0:J.symbol:(g=e.toCoin)==null?void 0:g.symbol),1)):(l(),K(B,{key:1,paragraph:!1,active:""}))])])),e.isShowRemoveModal?(l(),K(p,{key:5,"pool-info":e.positionInfo,"from-coin":e.positionInfo.token_a,"to-coin":e.positionInfo.token_b,onOnClose:t[17]||(t[17]=r=>e.isShowRemoveModal=!1)},null,8,["pool-info","from-coin","to-coin"])):F("",!0)])}const vl=je(Mi,[["render",dl],["__scopeId","data-v-7b9122a1"]]),ml=ze({components:{AutoPoolV2Info:xo,AutoPoolV2PositionRange:en,AutoPoolV2PoolComposition:nn,AutoPoolV2PoolLiquidity:tn,AutoPoolV2PoolAdd:Fi,AutoPoolV2PoolRemove:vl},setup(){const e=Ze();oo();const t=bo(),E=h(()=>t),W=h(()=>e),N=eo(),P=$();Ce(()=>[W.value.positionInfoObj,N.params.id],([a,s])=>{a&&!Ke(a)&&s&&(P.value=a[s],console.log(P.value,"##positionInfo.value"))},{immediate:!0,deep:!0});const c=async()=>{console.log("重新获取数据"),e.getAutoPoolAPY(),e.getVault(N.params.id)},S=$();Ce(()=>N.query.action,a=>{a&&(S.value=a)},{immediate:!0}),go(()=>{e.getVault(N.params.id)}),h(()=>E.value.chainName),To();const w=h(()=>W.value.autoPoolLoading);return{clickRefresh:c,currentTab:S,positionInfo:P,autoPoolLoading:w}}});const cl={class:"auto-pool-detail-v2"},pl={class:"detail-top"},fl={class:"detail-bottom pc-detail"},gl={class:"detail-bottom-left"},yl={class:"detail-bottom-right"},bl={class:"h5-detail"},kl={key:0,class:"loading-global"};function hl(e,t,E,W,N,P){const c=On,S=xo,w=en,a=nn,s=tn,B=so("AutoPoolV2PoolAdd"),p=so("AutoPoolV2PoolRemove"),n=fn;return l(),y("div",cl,[o("div",pl,[X(c,{"pool-info":e.positionInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"]),X(S)]),o("div",fl,[o("div",gl,[X(w),X(a),X(s)]),o("div",yl,[e.currentTab=="deposit"?(l(),K(B,{key:0,onChangeCurrentTab:t[0]||(t[0]=v=>e.currentTab="remove")})):(l(),K(p,{key:1,onChangeCurrentTab:t[1]||(t[1]=v=>e.currentTab="deposit")}))])]),o("div",bl,[e.currentTab=="deposit"?(l(),K(B,{key:0,onChangeCurrentTab:t[2]||(t[2]=v=>e.currentTab="remove")})):(l(),K(p,{key:1,onChangeCurrentTab:t[3]||(t[3]=v=>e.currentTab="deposit")})),X(w),X(a),X(s)]),e.autoPoolLoading?(l(),y("div",kl,[X(n)])):F("",!0)])}const Gl=je(ml,[["render",hl],["__scopeId","data-v-3aa945f2"]]);export{Gl as default};
