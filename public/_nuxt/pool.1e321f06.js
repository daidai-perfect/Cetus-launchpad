import{e as L,m as h,o as i,f as c,h as t,x as b,i as p,S as J,p as T,k as q,a as Q,r as v,A as E,q as O,s as W,u as X,F as Z,E as M,y as ee,v as te,t as se,l as oe}from"./entry.bd76aa8a.js";import"./index.6e8abe19.js";import{u as R}from"./stats.ef374b59.js";import"./index.10559593.js";import{u as ae}from"./index.c8a42a56.js";import{c as le}from"./index.9e94cc31.js";import{l as ie}from"./lodash.bcfd92ad.js";import{c as B,q as ce,s as ne}from"./common.d439d58b.js";import{f as re}from"./formatter.87724d46.js";import{u as ue}from"./useStatsData.575bca6a.js";import"./install.d72ba9cd.js";import"./decimal.a2826370.js";import"./decimal.765d8738.js";import"./fetchFun.ff4aae28.js";const N=e=>(T("data-v-ebfc80b6"),e=e(),q(),e),_e={class:"pool-list-stats-info"},de=N(()=>t("div",{class:"concentrate-pools"},"Liquidity Pools",-1)),ve={class:"tvl-vol"},pe={class:"tvl"},me=N(()=>t("div",{class:"title"},"Total Value Locked",-1)),fe={key:0,class:"text"},ge={key:1,class:"text"},he={class:"vol"},ye=N(()=>t("div",{class:"title"},"Cumulative Volume",-1)),Se={key:0,class:"text"},xe={key:1,class:"text"},be={__name:"pool-list-stats-info",setup(e){const o=R(),_=h(()=>o),d=h(()=>(console.log("ðŸš€ ~ overallStatistics ~ overallStatistics:",_.value.overallStatistics),_.value.overallStatistics));return(y,m)=>{const l=J;return i(),c("div",_e,[de,t("div",ve,[t("div",pe,[t("div",null,[me,d.value.totalValueLockedDisplay?(i(),c("div",fe,"$"+b(d.value.totalValueLockedDisplay),1)):(i(),c("div",ge,[p(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])]),t("div",he,[t("div",null,[ye,d.value.cumulativeVolumeDisplay?(i(),c("div",Se,"$"+b(d.value.cumulativeVolumeDisplay),1)):(i(),c("div",xe,[p(l,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})]))])])])])}}},ke=L(be,[["__scopeId","data-v-ebfc80b6"]]),U=e=>(T("data-v-fbefdcdf"),e=e(),q(),e),$e={class:"pool-list-chart-container"},we={class:"chart-top"},De={class:"trading-vol"},Ve=U(()=>t("div",{class:"title"},"Trading Volume (24H)",-1)),Ie={key:0,class:"text"},Le={key:1,class:"text"},Ne={class:"time-list"},Ce=["onClick"],Fe=U(()=>t("div",{class:"chart-content"},[t("div",{id:"stats-chart",class:"stats-chart"})],-1));var j=(e=>(e.D="day",e.W="wek",e.M="mon",e))(j||{}),H=(e=>(e[e.D=40]="D",e[e.W=30]="W",e[e.M=20]="M",e))(H||{}),I=(e=>(e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec",e))(I||{}),Y=(e=>(e[e.D=8]="D",e[e.W=8]="W",e[e.M=12]="M",e))(Y||{}),G=(e=>(e[e.D=8]="D",e[e.W=8]="W",e[e.M=12]="M",e))(G||{});const Ae=Q({__name:"pool-list-chart",setup(e){const o=v("D"),_=["D","W","M"],d=ae();h(()=>d);const y=v(),m=v(),l=v(""),k=R(),K=h(()=>k),S=h(()=>K.value.overallStatistics);E(()=>[S.value],([s])=>{B(s)||(l.value=s.volInUsd24hSumV1)},{immediate:!0});const C=async()=>{try{const s=H[o.value],{data:n}=await fetch(`${le.Sui.api}/v2/sui/histogram?date_type=${j[o.value]}&typ=vol&limit=${s}`).then(a=>a.json()),f=n.list.map(a=>a.num),r=n.list.map(a=>a.date);y.value=f,m.value=r,P(f,r,s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:70 ~ getHistogram ~ data:",n)}catch(s){console.info("ðŸš€ðŸš€ðŸš€ ~ file: pool-list-chart.vue:50 ~ getHistogram ~ error:",s)}},$=v(),P=(s,n,f)=>{const r=document.getElementById("stats-chart"),a=te(r);$.value=a;let A={tooltip:{trigger:"axis",backgroundColor:"#28353F",borderColor:"transparent",formatter:function(u){let z=u[0].axisValue.slice(5,7),x=I[Number(z)];const g=u[0].axisValue.slice(8,10),D=x,V=u[0].axisValue.slice(0,4);return l.value=re(u[0].value,2),"&nbsp;&nbsp;&nbsp;"+g+"&nbsp;"+D+"&nbsp;"+V+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:"#76C8FF"}}},xAxis:{type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:n.reverse(),inverse:!0,axisLabel:{interval:parseInt(Number(s.length)/15),formatter:(u,z)=>{const x=ce(Date.parse(u)-288e5,"YMD")||"";let g,D=x.slice(5,7),V=I[Number(D)];return o.value=="M"?g=V:g=x.slice(8,10),`${g}`}}},yAxis:{show:!1,max:function(u){return u.max}},series:[{data:s.reverse(),inverse:!0,type:"bar",itemStyle:{normal:{barBorderRadius:4,color:"#72C1F7"}},barWidth:w.value?Y[o.value]:G[o.value]}],grid:{left:5,right:5,top:0,bottom:20}};A&&a.setOption(A),a&&a.resize(),a.on("globalout",u=>{l.value=S.value&&S.value.volInUsd24hSumV1})};E(()=>o.value,(s,n)=>{(!n||s!==n)&&C()},{immediate:!0});const w=v(!0),F=ie.debounce(()=>{document.body.clientWidth>750?w.value=!0:w.value=!1,!y.value&&!m.value?C():$.value&&$.value.resize()},300);return O(()=>{window.addEventListener("resize",F)}),W(()=>{window.removeEventListener("resize",F)}),(s,n)=>{const f=J;return i(),c("div",$e,[t("div",we,[t("div",De,[Ve,X(B)(S.value)?(i(),c("div",Le,[p(f,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])):(i(),c("div",Ie," $"+b(l.value===""?"--":Number(l.value)==0?0:l.value),1))]),t("div",Ne,[(i(),c(Z,null,M(_,r=>t("div",{key:r,class:ee(["time-item",r==o.value?"time-item-active":""]),onClick:a=>o.value=r},b(r),11,Ce)),64))])]),Fe])}}});const ze=L(Ae,[["__scopeId","data-v-fbefdcdf"]]);const Ee={class:"pool-container"},Be={class:"pool-container-top-bg"},Je={class:"pool-container-top"},Te={__name:"pool",setup(e){const{getStatusData:o}=ue(),_=v(!1);return O(async()=>{await ne(1e3),_.value=!0}),se(()=>{_.value&&o()}),(d,y)=>{const m=ke,l=ze,k=oe("router-view");return i(),c("div",Ee,[t("div",Be,[t("div",Je,[p(m),p(l)]),p(k)])])}}},Me=L(Te,[["__scopeId","data-v-902f36d3"]]);export{Me as default};
