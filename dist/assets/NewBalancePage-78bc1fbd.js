import{Q as Z,R as G,x as X,r as u,j as e,y as v,d as E,z as H,A as L,N as T,u as R,f as C,C as q,D as P,i as V,E as S,F,G as W,H as $,I as ee,B as w,J as te,K as h,L as se,s as Q,U as K,V as le,W as ne,X as ae}from"./index-7d27320c.js";import{u as ie,a as re,b as oe,i as ce,L as J}from"./useTokenMetadata-f8eacf68.js";const de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAptJREFUaEPtmEtuE0EQhv+aRVY8xEOCVQ6ApdzBXkTKAeAE2USEwfYJfAKPmTjKJieAAyBlYZ8hQYkU8ViYEIFiB2JbgBxpCjUiCCLNVL8meMTMdqqq66vqrupqQsE/Krj/KAH+dQbLDJQZcIzA/7eFug2uJIxVEJaJscjAtawgEjBlwgCMnYCwvR7RvmPQ/1LXzsDzFi98HKMNxhoYgZUThASErfs30HzUopmVjUtKWgDK+U9neMmMmpdFCb17N7HiA0ILIG5yFwke+3D+t40Am2Gb1l1tigA/9zywZ71t0jwkJAGw5HomRIC4zhGAumukUvQ7YYcaLrZlgAbvg/HAZZFUXcJBGFHFxbYIsFHniVQqbR1QJfZJh67b6is9ESCuM5ssMPsOjE+BrxPgfAZwImpPQRgQsBMwtqO+WZ/wBqAwhx+A8QgwIv6DjwgJM7Zu30Wz9UKvT3gBUM4fvwO+TcVoawkQoXfrDlZ0ILwAnBwBZyMt30yENuO+3CecAdSef39ov21S24TqE4wl6Uw4AwyPgS8nJoHVlyVC51kvu084AwwOAZWFXD7CQdzL7hPOAG9faZVKW75p3M/uEyKA1Mje7Nr6pqcX9ynTRxEgFq4S8w8gXObmHkC6Ts89gNqpWQNNIQCyRspCAKgspA31hQG4KHqXn1Ve72Y/q+gVy3Qp5zIqORBWeQLhbUiykfHfvZFJi4e1fEdO56uEBPC0xhFzPkO/l8ucBNCociUh7LHta13KAmo683KdlgDU/7DKXcDzwxfgZ6DRAWg95IXPI79Pj95GSh0AJaMgTodoE2HNdjvlMtTrAlzI/ToTqwwsg7GoUWLzfVYxBbhqeXEeuGqHTNcrAUwj5lu+zIDviJraKzNgGjHf8j8AtKUlQFT2iiwAAAAASUVORK5CYII=",xe=l=>{if(console.log(navigator,"###navigator"),navigator.clipboard)navigator.clipboard.writeText(l);else{const t=document.createElement("input");t.readOnly=!0,document.body.appendChild(t),t.value=l,t.select(),document.execCommand("Copy"),document.body.removeChild(t)}Z.success("Copy success",{type:"success",autoClose:3e3,icon:()=>G.createElement("img",{src:X})})},Y=l=>{const{text:t,width:c="40px",height:i="40px",style:r}=l,[a,s]=u.useState(!1);return e.jsxs("div",{style:{width:c,height:i,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",...r},children:[e.jsx(v,{style:{width:c,height:i,backgroundColor:a?"#6E41FF":"transparent",borderRadius:"50%",opacity:a?"0.1":"1"}}),e.jsx("img",{width:"24px",height:"24px",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},src:de,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>{t&&xe(t)}})]})};function pe(){const{bridgeList:l}=ie(!1),{loading:t,coinBalanceList:c,fetchUserCoinBalance:i}=re(),{address:r}=E(),[a,s]=u.useState([]);return u.useEffect(()=>{if(r){const d=[];l.map(p=>{const f=c.find(m=>H(p.coin)===H(m.coinType));f&&d.push({...f,...p})}),console.log("coinList: ",d),s([...d])}else s([])},[c,l]),u.useEffect(()=>{r?i():s([])},[r]),{loading:t,coinList:a}}const ue=()=>{const{loading:l,coinList:t}=pe();return l&&t.length===0?e.jsx(L,{className:"!w-6 m-auto my-24"}):t.length===0?e.jsx(T,{}):e.jsx("div",{className:"flex flex-wrap w-full",children:t.map(c=>e.jsx(fe,{coinInfo:c},c.coinType))})},fe=l=>{var r,a,s,d,p;const t=R(),{coinInfo:c}=l,{metaData:i}=oe(c.coinType);return e.jsx("div",{className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/3 xl:w-1/3 p-2",children:e.jsxs("div",{className:"w-full flex flex-col",style:{border:"1px solid",borderRadius:"8px",paddingTop:"20px",justifyContent:"center",alignItems:"center",background:(r=t.palette.banlanceCardTopBg)==null?void 0:r.main,borderColor:(a=t.palette.borderColor)==null?void 0:a.main},children:[e.jsxs(v,{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[e.jsx("img",{src:(i==null?void 0:i.iconUrl)||ce,className:"w-[40px] h-[40px]"}),e.jsxs(v,{style:{display:"flex",marginLeft:"16px",flexDirection:"column",justifyContent:"center"},children:[e.jsx(C,{fontSize:"20px",children:c.tick}),e.jsx(C,{color:(s=t.palette.text)==null?void 0:s.secondary,children:c.p})]})]}),e.jsx(C,{fontSize:"28px",textAlign:"center",style:{marginTop:"22px",height:"60px",lineHeight:"60px",width:"95%",backgroundColor:"#18191A",borderRadius:"12px"},children:q(c.totalBalance)}),e.jsxs(v,{style:{border:"1px solid",borderRadius:"8px",marginTop:"20px",height:"60px",width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:(d=t.palette.banlanceCardTopBg)==null?void 0:d.main,borderColor:(p=t.palette.borderColor)==null?void 0:p.main},children:[e.jsx(C,{fontSize:"14px",children:P((i==null?void 0:i.id)||"--")}),e.jsx(Y,{text:(i==null?void 0:i.id)||"--",style:{marginLeft:"8px"}}),e.jsx(J,{link:V("object",(i==null?void 0:i.id)||"--")})]})]})})},N=50;function me(){const[l,t]=u.useState(!1),[c,i]=u.useState(!0),[r,a]=u.useState([]),[s,d]=u.useState(0),[p,f]=u.useState(S.Api);async function m(o){if(!l){console.log("fetchMyOrderList apiParams: ",o),t(!0),i(!0);try{if(f(S.Api),o.limit===void 0&&(o.limit=N),!o.owner){t(!1),i(!1),a([]);return}const x=await F.getOrderListByApi(o);console.log("fetchMyOrderList res ",x),d(x.total),o.page===0?a([...x.data]):a([...r,...x.data]),t(!1),i(x.data.length===N)}catch(x){if(console.log("fetchMyOrderList error ",x),o.owner){i(!1),f(S.Conarct);const n=await F.fetchSellerOrders(o.owner);a([...n]),t(!1)}}}}return{loading:l,hasMoreData:c,myOrderTotal:s,myOrderList:r,dataSource:p,setMyOrderList:a,fetchMyOrderList:m}}const Ae=({})=>{var f,m,o,x,n,g,A;const{address:l}=E(),t=W(),{fetchUserTickBalance:c,loading:i,tickBalanceList:r}=$(),a="https://api.harpersbazaar.com.hk/var/site/storage/images/_aliases/img_640_w/4/2/1/5/3005124-1-chi-HK/5.jpg",s=R(),[d,p]=u.useState(0);return u.useEffect(()=>{d===0&&c()},[d]),e.jsx("section",{className:"w-screen h-auto flex flex-col items-center justify-center mt-[50px] pb-[40px] h5-balance",children:e.jsxs("div",{className:"w-screen h-full flex flex-col justify-center items-center h5-balance-content",children:[l?e.jsx("span",{className:"w-[98%] font-bold h5-account-title",style:{color:(f=s.palette.textActive)==null?void 0:f.main,marginBottom:"12px"},children:"Account"}):null,e.jsxs("div",{className:"w-[1000px] h-auto min-h-[600px] flex flex-col rounded-[20px]  relative shadow-lg items-center h5-balance-content-center",style:{background:(m=s.palette.mintBg)==null?void 0:m.main,border:"1px solid",borderColor:(o=s.palette.borderColor)==null?void 0:o.main},children:[e.jsxs("div",{className:"w-[98%] rounded-[16px] mt-[12px] balance-card-top",style:{background:(x=s.palette.banlanceBg)==null?void 0:x.main,border:"1px solid",borderColor:(n=s.palette.borderColor)==null?void 0:n.main},children:[e.jsxs("div",{className:"flex flex-row items-center items-center h-full",children:[e.jsx("img",{className:"w-[40px] h-[40px] rounded-full",src:a}),l?e.jsxs("span",{className:"items-center justify-center font-bold ml-[20px] text-lg wallet-address",style:{color:(g=s.palette.textActive)==null?void 0:g.main},children:[l&&l.substr(0,4),"...",l&&l.substr(l.length-4,4)]}):e.jsx("span",{className:"items-center justify-center font-bold ml-[20px] text-lg wallet-address",style:{color:(A=s.palette.textActive)==null?void 0:A.main},children:"--"})]}),l?e.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[e.jsx(Y,{text:l}),e.jsx(J,{link:l?V("account",l,"suivision"):""})]}):null]}),e.jsx("div",{className:"balanceTab",style:{display:"flex",alignItems:"flex-start",marginBottom:"8px",justifyContent:"flex-start !important",width:"98%"},children:e.jsx("div",{style:{marginTop:"20px",width:"100%"},children:e.jsx(ee,{tabList:["Tokens","Coins","My Listings"],selectTabIndex:d,handleTabChange:j=>{p(j)}})})}),d==2?e.jsx(he,{}):null,d==1?e.jsx(ue,{}):null,d==0?e.jsx("div",{className:"flex flex-wrap w-full",children:l?i?e.jsx(L,{className:"!w-6 m-auto my-24"}):(r==null?void 0:r.length)===0?e.jsx(T,{}):r==null?void 0:r.map(j=>{var k,O,B,I,M,U,z,D,_;const{balance:b,tick:y}=j;return e.jsx("div",{className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/3 xl:w-1/3 p-2",children:e.jsxs("div",{className:"w-full flex flex-col",style:{border:"1px solid",padding:"0 4px 4px",borderRadius:"16px",background:(k=s.palette.banlanceCardTopBg)==null?void 0:k.main,borderColor:(O=s.palette.borderColor)==null?void 0:O.main},children:[e.jsx("div",{className:"h-[60%] flex justify-center items-center w-full",children:e.jsx("span",{className:"text-2xl font-bold",style:{color:(B=s.palette.textActive)==null?void 0:B.main,padding:"23px 25px"},children:y})}),e.jsxs("div",{className:"w-full justify-center items-center",style:{background:(I=s.palette.banlanceCardBottomBg)==null?void 0:I.main,borderRadius:"16px",padding:"8px"},children:[e.jsxs("div",{className:"flex justify-between p-[4px]",children:[e.jsx("span",{className:"text-gray-500",children:"Protocol"}),e.jsx("span",{style:{color:(M=s.palette.textActive)==null?void 0:M.main},children:"SUIRC-20"})]}),e.jsxs("div",{className:"flex justify-between p-[4px]",children:[e.jsx("span",{className:"text-gray-500",children:"Balance"}),e.jsx("span",{style:{color:(U=s.palette.textActive)==null?void 0:U.main},children:q(b)})]})]}),e.jsxs("div",{className:"flex justify-between mt-[12px]",children:[e.jsx(w,{style:{width:"100%",height:"40px",fontSize:"14px",padding:"0px",display:"flex",color:(z=s.palette.tableTickColor)==null?void 0:z.main,border:"1px solid #6E41FF",textAlign:"center"},onClick:()=>{t(`/mint?type=transfer&tick=${y}`)},children:"Transfer"}),e.jsx(w,{style:{width:"100%",fontSize:"14px",height:"40px",backgroundColor:(D=s.palette.primary)==null?void 0:D.main,color:(_=s.palette.text)==null?void 0:_.primary,marginLeft:"4px"},onClick:()=>{t(`/marketplace/token/list?p=suirc-20&tick=${y}`)},children:"List"})]})]})},y)}):e.jsx(T,{type:"noWallet"})}):null,d==3?e.jsx(ye,{}):null]})]})})},he=()=>{const{address:l}=E(),{myOrderList:t,fetchMyOrderList:c,loading:i,dataSource:r}=me(),[a,s]=u.useState(void 0),{TransactionModalComps:d,signAndExecuteTransactionBlock:p,showSumbitLoading:f}=te();u.useEffect(()=>{m(!0)},[l]);const m=n=>{c({owner:l,status:"1",page:n?0:Math.ceil(t.length/N)})},o=u.useMemo(()=>r===S.Api?t:t.filter(n=>(n==null?void 0:n.status)!==h.ORDER_STATUS_CANCELED_BY_VALIDATOR&&(n==null?void 0:n.status)!==h.ORDER_STATUS_CANCELED_BY_SELLER&&(n==null?void 0:n.status)!==h.ORDER_STATUS_BOUGHT&&(n==null?void 0:n.status)!==h.ORDER_STATUS_SOLD),[t]),x=async n=>{s(n),await p({transactionConfig:{initialMsg:"Order cancelled submited",successMsg:" Cancel successful",queryState:async()=>"Cancel successful"},buildPayload:async function(g){return g=ae.cancelOrder(n.id,n.collection_id,n.quote_coin),g}})};return e.jsxs("div",{className:"flex flex-wrap w-full",children:[e.jsx(d,{onCloseModal:n=>{n&&(s(void 0),setTimeout(()=>{m(!0)},5e3))}}),i&&(o==null?void 0:o.length)===0?e.jsx(L,{className:"!w-6 m-auto my-24"}):(o==null?void 0:o.length)===0?e.jsx(T,{}):o.map(n=>e.jsx(ge,{order:n,showSumbitLoading:a&&a.id===n.id&&f||!1,hanldeCancelClick:x,refresOrderList:()=>{m(!0)}}))]})},ge=l=>{var p,f,m,o,x,n,g,A,j,b,y;const{order:t,showSumbitLoading:c,refresOrderList:i,hanldeCancelClick:r}=l,a=R(),{countdown:s,expired:d}=se(t.expire_ts,()=>{i()});return e.jsx("div",{className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/3 xl:w-1/3 p-2",children:e.jsxs("div",{className:"w-full flex flex-col",style:{border:"1px solid",padding:"0 4px 4px",borderRadius:"16px",background:(p=a.palette.banlanceCardTopBg)==null?void 0:p.main,borderColor:(f=a.palette.borderColor)==null?void 0:f.main},children:[e.jsx("div",{className:"h-[76px] flex justify-center items-center w-full",children:e.jsx("span",{className:"text-2xl font-bold",style:{color:(m=a.palette.textActive)==null?void 0:m.main},children:t.tick})}),e.jsxs("div",{className:"bottom",style:{background:(o=a.palette.banlanceCardBottomBg)==null?void 0:o.main,borderRadius:"16px",padding:"8px"},children:[e.jsxs("div",{className:"flex justify-between p-[4px]",children:[e.jsx("div",{className:"text-gray-500",style:{fontSize:"14px"},children:"Protocol"}),e.jsx("span",{style:{color:(x=a.palette.textActive)==null?void 0:x.main,fontSize:"14px"},children:t.p})]}),e.jsxs("div",{className:"flex justify-between p-[4px]",children:[e.jsx("div",{className:"text-gray-500",style:{fontSize:"14px"},children:"Price"}),e.jsxs("span",{style:{display:"flex",alignItems:"center",fontSize:"14px",color:(n=a.palette.textActive)==null?void 0:n.main},children:[e.jsx("img",{style:{width:"16px",height:"16px",marginRight:"8px",display:"inline-block"},src:Q,alt:""}),K(t.ui_price,9,!0)]})]}),e.jsxs("div",{className:"flex justify-between p-[4px]",children:[e.jsx("div",{className:"text-gray-500",style:{fontSize:"14px"},children:"Amount"}),e.jsx("span",{style:{color:(g=a.palette.textActive)==null?void 0:g.main,fontSize:"14px"},children:t.amt})]}),e.jsxs("div",{className:"flex justify-between p-[4px]",children:[e.jsx("div",{className:"text-gray-500",style:{fontSize:"14px"},children:"Total"}),e.jsxs("span",{style:{display:"flex",alignItems:"center",color:(A=a.palette.textActive)==null?void 0:A.main,fontSize:"14px"},children:[e.jsx("img",{style:{width:"16px",height:"16px",marginRight:"8px",display:"inline-block"},src:Q,alt:""}),K(le(t.ui_price).mul(t.amt).toString(),9,!0)]})]}),e.jsxs("div",{className:"flex justify-between p-[4px] ",style:{whiteSpace:"nowrap",alignItems:"center"},children:[e.jsx("div",{className:"text-gray-500",style:{fontSize:"14px"},children:"Sale Expiration"}),e.jsx(ne,{expired:d,countdown:s,fontSize:"14px"})]})]}),e.jsxs("div",{className:"mt-[12px]",children:[t.status===h.ORDER_STATUS_CONFIRMED&&e.jsx(w,{variant:"outlined",style:{width:"100%",height:"40px",fontSize:"14px",color:(j=a.palette.tableTickColor)==null?void 0:j.main},onClick:()=>{r(t)},children:c?"Pending...":"Cancel"}),t.status===h.ORDER_STATUS_CREATED&&e.jsx(w,{variant:"outlined",disabled:!0,style:{width:"100%",height:"40px",fontSize:"14px",color:a.palette.text.secondary,border:"1px solid #828385"},children:"Lisiting in progress"}),(t.status===h.ORDER_STATUS_CANCELED_BY_VALIDATOR||t.status===h.ORDER_STATUS_CANCELED_BY_SELLER)&&e.jsx(w,{variant:"outlined",style:{width:"100%",height:"40px",fontSize:"14px",color:(b=a.palette.tableTickColor)==null?void 0:b.main},children:"Cancled"}),t.status===h.ORDER_STATUS_SOLD&&e.jsx(w,{variant:"outlined",style:{width:"100%",height:"40px",fontSize:"14px",color:(y=a.palette.tableTickColor)==null?void 0:y.main},children:"Sold"})]})]})},t==null?void 0:t.id)},ye=()=>e.jsx("div",{children:"Activity"});export{Ae as default};
